exports.id=1762,exports.ids=[1762],exports.modules={6:(e,d,h)=>{"use strict";let m=h(94735),g=h(97140),y=h(31088),b=h(76277);class v extends m{constructor(e){super(),e=e||{},this.options=e||{},this.ses=this.options.SES,this.name="SESTransport",this.version=g.version,this.logger=y.getLogger(this.options,{component:this.options.component||"ses-transport"}),this.maxConnections=Number(this.options.maxConnections)||1/0,this.connections=0,this.sendingRate=Number(this.options.sendingRate)||1/0,this.sendingRateTTL=null,this.rateInterval=1e3,this.rateMessages=[],this.pending=[],this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}send(e,d){if(this.connections>=this.maxConnections||!this._checkSendingRate())return this.idling=!1,this.pending.push({mail:e,callback:d});this._send(e,(...e)=>{setImmediate(()=>d(...e)),this._sent()})}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate())return;if(!this.pending.length){this.idling||(this.idling=!0,this.emit("idle"));return}let e=this.pending.shift();this._send(e.mail,(...d)=>{setImmediate(()=>e.callback(...d)),this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let e=Date.now(),d=!1;for(let h=this.rateMessages.length-1;h>=0;h--)this.rateMessages[h].ts>=e-this.rateInterval&&(!d||this.rateMessages[h].ts<d)&&(d=this.rateMessages[h].ts),this.rateMessages[h].ts<e-this.rateInterval&&!this.rateMessages[h].pending&&this.rateMessages.splice(h,1);if(this.rateMessages.length<this.sendingRate)return!0;let h=Math.max(d+1001,e+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),e-h);try{this.sendingRateTTL.unref()}catch(e){}return!1}_sent(){this.connections--,this._checkRatedQueue()}isIdle(){return this.idling}_send(e,d){let h={ts:Date.now(),pending:!0};this.connections++,this.rateMessages.push(h);let m=e.data.envelope||e.message.getEnvelope(),g=e.message.messageId(),y=[].concat(m.to||[]);y.length>3&&y.push("...and "+y.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:g},"Sending message %s to <%s>",g,y.join(", "));let v=d=>{e.data._dkim||(e.data._dkim={}),e.data._dkim.skipFields&&"string"==typeof e.data._dkim.skipFields?e.data._dkim.skipFields+=":date:message-id":e.data._dkim.skipFields="date:message-id";let h=e.message.createReadStream(),m=h.pipe(new b),g=[],y=0;m.on("readable",()=>{let e;for(;null!==(e=m.read());)g.push(e),y+=e.length}),h.once("error",e=>m.emit("error",e)),m.once("error",e=>{d(e)}),m.once("end",()=>d(null,Buffer.concat(g,y)))};setImmediate(()=>v((y,b)=>{let v;if(y)return this.logger.error({err:y,tnx:"send",messageId:g},"Failed creating message for %s. %s",g,y.message),h.pending=!1,d(y);let w={RawMessage:{Data:b},Source:m.from,Destinations:m.to};Object.keys(e.data.ses||{}).forEach(d=>{w[d]=e.data.ses[d]});let S=(this.ses.aws?this.ses.ses:this.ses)||{},x=this.ses.aws||{};v=(e,y)=>{let v;(e||!y)&&(y="us-east-1"),(v="function"==typeof S.send&&x.SendRawEmailCommand?S.send(new x.SendRawEmailCommand(w)):S.sendRawEmail(w).promise()).then(e=>{"us-east-1"===y&&(y="email"),h.pending=!1,d(null,{envelope:{from:m.from,to:m.to},messageId:"<"+e.MessageId+(/@/.test(e.MessageId)?"":"@"+y+".amazonses.com")+">",response:e.MessageId,raw:b})}).catch(e=>{this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",g,e.message),h.pending=!1,d(e)})},S.config&&"function"==typeof S.config.region?S.config.region().then(e=>v(null,e)).catch(e=>v(e)):v(null,S.config&&S.config.region||"us-east-1")}))}verify(e){let d,h=(this.ses.aws?this.ses.ses:this.ses)||{},m=this.ses.aws||{},g={RawMessage:{Data:"From: invalid@invalid\r\nTo: invalid@invalid\r\n Subject: Invalid\r\n\r\nInvalid"},Source:"invalid@invalid",Destinations:["invalid@invalid"]};e||(d=new Promise((d,h)=>{e=y.callbackPromise(d,h)}));let b=d=>d&&"InvalidParameterValue"!==(d.code||d.Code)?e(d):e(null,!0);return"function"==typeof h.send&&m.SendRawEmailCommand?(g.RawMessage.Data=Buffer.from(g.RawMessage.Data),h.send(new m.SendRawEmailCommand(g),b)):h.sendRawEmail(g,b),d}}e.exports=v},135:(e,d,h)=>{"use strict";h.r(d),h.d(d,{Client:()=>g,Command:()=>v,LazyJsonString:()=>ee.LazyJsonString,NoOpLogger:()=>q,NumericValue:()=>ee.NumericValue,SENSITIVE_STRING:()=>S,ServiceException:()=>_,_json:()=>Z,collectBody:()=>y.collectBody,convertMap:()=>H,copyDocumentWithTransform:()=>ee.copyDocumentWithTransform,createAggregatedClient:()=>x,dateToUtcString:()=>ee.dateToUtcString,decorateServiceException:()=>E,emitWarningIfUnsupportedVersion:()=>I,expectBoolean:()=>ee.expectBoolean,expectByte:()=>ee.expectByte,expectFloat32:()=>ee.expectFloat32,expectInt:()=>ee.expectInt,expectInt32:()=>ee.expectInt32,expectLong:()=>ee.expectLong,expectNonNull:()=>ee.expectNonNull,expectNumber:()=>ee.expectNumber,expectObject:()=>ee.expectObject,expectShort:()=>ee.expectShort,expectString:()=>ee.expectString,expectUnion:()=>ee.expectUnion,extendedEncodeURIComponent:()=>y.extendedEncodeURIComponent,getArrayIfSingleItem:()=>U,getDefaultClientConfiguration:()=>B,getDefaultExtensionConfiguration:()=>M,getValueFromTextNode:()=>F,handleFloat:()=>ee.handleFloat,isSerializableHeaderValue:()=>z,limitedParseDouble:()=>ee.limitedParseDouble,limitedParseFloat:()=>ee.limitedParseFloat,limitedParseFloat32:()=>ee.limitedParseFloat32,loadConfigsForDefaultMode:()=>P,logger:()=>ee.logger,map:()=>V,nv:()=>ee.nv,parseBoolean:()=>ee.parseBoolean,parseEpochTimestamp:()=>ee.parseEpochTimestamp,parseRfc3339DateTime:()=>ee.parseRfc3339DateTime,parseRfc3339DateTimeWithOffset:()=>ee.parseRfc3339DateTimeWithOffset,parseRfc7231DateTime:()=>ee.parseRfc7231DateTime,quoteHeader:()=>ee.quoteHeader,resolveDefaultRuntimeConfig:()=>j,resolvedPath:()=>y.resolvedPath,serializeDateTime:()=>X,serializeFloat:()=>Y,splitEvery:()=>ee.splitEvery,splitHeader:()=>ee.splitHeader,strictParseByte:()=>ee.strictParseByte,strictParseDouble:()=>ee.strictParseDouble,strictParseFloat:()=>ee.strictParseFloat,strictParseFloat32:()=>ee.strictParseFloat32,strictParseInt:()=>ee.strictParseInt,strictParseInt32:()=>ee.strictParseInt32,strictParseLong:()=>ee.strictParseLong,strictParseShort:()=>ee.strictParseShort,take:()=>K,throwDefaultError:()=>T,withBaseException:()=>k});var m=h(11506);class g{constructor(e){this.config=e,this.middlewareStack=(0,m.constructStack)()}send(e,d,h){let m,g="function"!=typeof d?d:void 0,y="function"==typeof d?d:h;if(void 0===g&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let d=this.handlers;d.has(e.constructor)?m=d.get(e.constructor):(m=e.resolveMiddleware(this.middlewareStack,this.config,g),d.set(e.constructor,m))}else delete this.handlers,m=e.resolveMiddleware(this.middlewareStack,this.config,g);if(!y)return m(e).then(e=>e.output);m(e).then(e=>y(null,e.output),e=>y(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var y=h(57475),b=h(38755);class v{constructor(){this.middlewareStack=(0,m.constructStack)()}static classBuilder(){return new w}resolveMiddlewareWithContext(e,d,h,{middlewareFn:m,clientName:g,commandName:y,inputFilterSensitiveLog:v,outputFilterSensitiveLog:w,smithyContext:S,additionalContext:x,CommandCtor:_}){for(let g of m.bind(this)(_,e,d,h))this.middlewareStack.use(g);let E=e.concat(this.middlewareStack),{logger:T}=d,k={logger:T,clientName:g,commandName:y,inputFilterSensitiveLog:v,outputFilterSensitiveLog:w,[b.SMITHY_CONTEXT_KEY]:{commandInstance:this,...S},...x},{requestHandler:C}=d;return E.resolve(e=>C.handle(e.request,h||{}),k)}}class w{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,d,h={}){return this._smithyContext={service:e,operation:d,...h},this}c(e={}){return this._additionalContext=e,this}n(e,d){return this._clientName=e,this._commandName=d,this}f(e=e=>e,d=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=d,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e,d=this;return e=class extends v{static getEndpointParameterInstructions(){return d._ep}constructor(...[e]){super(),this.serialize=d._serializer,this.deserialize=d._deserializer,this.input=e??{},d._init(this),this.schema=d._operationSchema}resolveMiddleware(h,m,g){return this.resolveMiddlewareWithContext(h,m,g,{CommandCtor:e,middlewareFn:d._middlewareFn,clientName:d._clientName,commandName:d._commandName,inputFilterSensitiveLog:d._inputFilterSensitiveLog,outputFilterSensitiveLog:d._outputFilterSensitiveLog,smithyContext:d._smithyContext,additionalContext:d._additionalContext})}}}}let S="***SensitiveInformation***",x=(e,d)=>{for(let h of Object.keys(e)){let m=e[h],g=async function(e,d,h){let g=new m(e);if("function"==typeof d)this.send(g,d);else{if("function"!=typeof h)return this.send(g,d);if("object"!=typeof d)throw Error(`Expected http options but got ${typeof d}`);this.send(g,d||{},h)}},y=(h[0].toLowerCase()+h.slice(1)).replace(/Command$/,"");d.prototype[y]=g}};class _ extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let d=e;return _.prototype.isPrototypeOf(d)||!!d.$fault&&!!d.$metadata&&("client"===d.$fault||"server"===d.$fault)}static[Symbol.hasInstance](e){if(!e)return!1;let d=e;return this===_?_.isInstance(e):!!_.isInstance(e)&&(d.name&&this.name?this.prototype.isPrototypeOf(e)||d.name===this.name:this.prototype.isPrototypeOf(e))}}let E=(e,d={})=>{Object.entries(d).filter(([,e])=>void 0!==e).forEach(([d,h])=>{(void 0==e[d]||""===e[d])&&(e[d]=h)});let h=e.message||e.Message||"UnknownError";return e.message=h,delete e.Message,e},T=({output:e,parsedBody:d,exceptionCtor:h,errorCode:m})=>{let g=C(e),y=g.httpStatusCode?g.httpStatusCode+"":void 0;throw E(new h({name:d?.code||d?.Code||m||y||"UnknownError",$fault:"client",$metadata:g}),d)},k=e=>({output:d,parsedBody:h,errorCode:m})=>{T({output:d,parsedBody:h,exceptionCtor:e,errorCode:m})},C=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),P=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},O=!1,I=e=>{e&&!O&&16>parseInt(e.substring(1,e.indexOf(".")))&&(O=!0)},R=e=>{let d=[];for(let h in b.AlgorithmId){let m=b.AlgorithmId[h];void 0!==e[m]&&d.push({algorithmId:()=>m,checksumConstructor:()=>e[m]})}return{addChecksumAlgorithm(e){d.push(e)},checksumAlgorithms:()=>d}},D=e=>{let d={};return e.checksumAlgorithms().forEach(e=>{d[e.algorithmId()]=e.checksumConstructor()}),d},L=e=>({setRetryStrategy(d){e.retryStrategy=d},retryStrategy:()=>e.retryStrategy}),$=e=>{let d={};return d.retryStrategy=e.retryStrategy(),d},M=e=>Object.assign(R(e),L(e)),B=M,j=e=>Object.assign(D(e),$(e)),U=e=>Array.isArray(e)?e:[e],F=e=>{let d="#text";for(let h in e)e.hasOwnProperty(h)&&void 0!==e[h][d]?e[h]=e[h][d]:"object"==typeof e[h]&&null!==e[h]&&(e[h]=F(e[h]));return e},z=e=>null!=e;class q{trace(){}debug(){}info(){}warn(){}error(){}}function V(e,d,h){let m,g;if(void 0===d&&void 0===h)m={},g=e;else{if(m=e,"function"==typeof d)return G(m,d,g=h);g=d}for(let e of Object.keys(g)){if(!Array.isArray(g[e])){m[e]=g[e];continue}W(m,null,g,e)}return m}let H=e=>{let d={};for(let[h,m]of Object.entries(e||{}))d[h]=[,m];return d},K=(e,d)=>{let h={};for(let m in d)W(h,e,d,m);return h},G=(e,d,h)=>V(e,Object.entries(h).reduce((e,[h,m])=>(Array.isArray(m)?e[h]=m:"function"==typeof m?e[h]=[d,m()]:e[h]=[d,m],e),{})),W=(e,d,h,m)=>{if(null!==d){let g=h[m];"function"==typeof g&&(g=[,g]);let[y=J,b=Q,v=m]=g;("function"==typeof y&&y(d[v])||"function"!=typeof y&&y)&&(e[m]=b(d[v]));return}let[g,y]=h[m];if("function"==typeof y){let d,h=void 0===g&&null!=(d=y()),b="function"==typeof g&&!!g(void 0)||"function"!=typeof g&&!!g;h?e[m]=d:b&&(e[m]=y())}else{let d=void 0===g&&null!=y,h="function"==typeof g&&!!g(y)||"function"!=typeof g&&!!g;(d||h)&&(e[m]=y)}},J=e=>null!=e,Q=e=>e,Y=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},X=e=>e.toISOString().replace(".000Z","Z"),Z=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(Z);if("object"==typeof e){let d={};for(let h of Object.keys(e))null!=e[h]&&(d[h]=Z(e[h]));return d}return e};var ee=h(97e3)},330:(e,d,h)=>{"use strict";h.r(d),h.d(d,{convertToBuffer:()=>v,isEmptyData:()=>w,numToUint8:()=>S,uint32ArrayFrom:()=>x});var m=h(79428);let g=(e,d)=>{if("string"!=typeof e)throw TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return d?m.Buffer.from(e,d):m.Buffer.from(e)},y=e=>{let d=g(e,"utf8");return new Uint8Array(d.buffer,d.byteOffset,d.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var b="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:y;function v(e){return e instanceof Uint8Array?e:"string"==typeof e?b(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function w(e){return"string"==typeof e?0===e.length:0===e.byteLength}function S(e){return new Uint8Array([(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e])}function x(e){if(!Uint32Array.from){for(var d=new Uint32Array(e.length),h=0;h<e.length;)d[h]=e[h],h+=1;return d}return Uint32Array.from(e)}},553:(e,d,h)=>{"use strict";h.d(d,{m:()=>g});var m=h(43566);let g=(e,d)=>{if(!e&&!d)return{};let h=e?[e]:[];return(0,m.L)(d)&&h.push(d),{and:h}}},813:e=>{"use strict";e.exports=function e(e){return e instanceof Date&&!Number.isNaN(e.getTime())}},918:(e,d,h)=>{"use strict";e.exports=g;let m=h(67524);function g({log:e,context:d}){let{timestampKey:h,translateTime:g}=d,y=d.customPrettifiers?.time,b=null;if(h in e?b=e[h]:"timestamp"in e&&(b=e.timestamp),null===b)return;let v=g?m(b,g):b;return y?y(v):`[${v}]`}},933:(e,d,h)=>{"use strict";h.d(d,{S:()=>w});var m=h(26154),g=h(32034),y=h(553),b=h(89075);let v=async({collectionSlug:e,errors:d,join:h,joinsQuery:g,overrideAccess:v,promises:w,req:S})=>{let{joinPath:x}=h;if(!1===g[x])return;let _=S.payload.collections[e].config,E=!!v||await (0,m.A)({disableErrors:!0,req:S},_.access.read);if(!1===E){g[x]=!1;return}g[x]||(g[x]={});let T=g[x];T.where||(T.where={}),h.field.where&&(T.where=(0,y.m)(T.where,h.field.where)),w.push((0,b.d)({collectionConfig:_,errors:d,overrideAccess:v,polymorphicJoin:Array.isArray(h.field.collection),req:S,where:T.where})),"object"==typeof E&&(T.where=(0,y.m)(T.where,E))},w=async({collectionConfig:e,joins:d,overrideAccess:h,req:m})=>{if(!1===d)return!1;d||(d={});let y=[],b=[];for(let g in e.joins)for(let w of e.joins[g])await v({collectionSlug:g,errors:y,join:w,joinsQuery:d,overrideAccess:h,promises:b,req:m});for(let g of e.polymorphicJoins)for(let e of g.field.collection)await v({collectionSlug:e,errors:y,join:g,joinsQuery:d,overrideAccess:h,promises:b,req:m});if(await Promise.all(b),y.length>0)throw new g.l(y);return d}},1076:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{loadConfig:()=>I}),e.exports=S(x);var _=h(11075);function E(e){try{let d=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return d.delete("CONFIG"),d.delete("CONFIG_PREFIX_SEPARATOR"),d.delete("ENV"),[...d].join(", ")}catch(d){return e}}v(E,"getSelectorName");var T=v((e,d)=>async()=>{try{let h=e(process.env,d);if(void 0===h)throw Error();return h}catch(h){throw new _.CredentialsProviderError(h.message||`Not found in ENV: ${E(e.toString())}`,{logger:d?.logger})}},"fromEnv"),k=h(71475),C=v((e,{preferredFile:d="config",...h}={})=>async()=>{let m=(0,k.getProfileName)(h),{configFile:g,credentialsFile:y}=await (0,k.loadSharedConfigFiles)(h),b=y[m]||{},v=g[m]||{},w="config"===d?{...b,...v}:{...v,...b};try{let h="config"===d?g:y,m=e(w,h);if(void 0===m)throw Error();return m}catch(d){throw new _.CredentialsProviderError(d.message||`Not found in config files w/ profile [${m}]: ${E(e.toString())}`,{logger:h.logger})}},"fromSharedConfigFiles"),P=v(e=>"function"==typeof e,"isFunction"),O=v(e=>P(e)?async()=>await e():(0,_.fromStatic)(e),"fromStatic"),I=v(({environmentVariableSelector:e,configFileSelector:d,default:h},m={})=>{let{signingName:g,logger:y}=m,b={signingName:g,logger:y};return(0,_.memoize)((0,_.chain)(T(e,b),C(d,m),O(h)))},"loadConfig")},1176:(e,d,h)=>{"use strict";let m=h(52838),g=h(60646),{style:y,clear:b,figures:v,wrap:w,entriesToDisplay:S}=h(31347),{cursor:x}=h(41893);class _ extends g{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((e,d)=>("string"==typeof e&&(e={title:e,value:d}),{title:e&&(e.title||e.value||e),value:e&&(void 0===e.value?d:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=b("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,d){if(" "===e)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(x.hide):this.out.write(b(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:d}=S(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[y.symbol(this.done,this.aborted),m.bold(this.msg),y.delimiter(!1),this.done?this.selection.title:this.selection.disabled?m.yellow(this.warn):m.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let h=e;h<d;h++){let g,y,b="",S=this.choices[h];y=h===e&&e>0?v.arrowUp:h===d-1&&d<this.choices.length?v.arrowDown:" ",S.disabled?(g=this.cursor===h?m.gray().underline(S.title):m.strikethrough().gray(S.title),y=(this.cursor===h?m.bold().gray(v.pointer)+" ":"  ")+y):(g=this.cursor===h?m.cyan().underline(S.title):S.title,y=(this.cursor===h?m.cyan(v.pointer)+" ":"  ")+y,S.description&&this.cursor===h&&(b=` - ${S.description}`,(y.length+g.length+b.length>=this.out.columns||S.description.split(/\r?\n/).length>1)&&(b="\n"+w(S.description,{margin:3,width:this.out.columns})))),this.outputText+=`${y} ${g}${m.gray(b)}
`}}this.out.write(this.outputText)}}e.exports=_},1464:(e,d,h)=>{"use strict";let m=h(90473);class g extends m{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),d=this.token.length;return 2===d?String(e+1).padStart(2,"0"):3===d?this.locales.monthsShort[e]:4===d?this.locales.months[e]:String(e+1)}}e.exports=g},1479:(e,d,h)=>{"use strict";let m=h(81630),g=h(55591),y=h(79551),b=h(74075),v=h(27910).PassThrough,w=h(83324),S=h(97140),x=h(91645),_=5;function E(e,d){let h,T,k;(d=d||{}).fetchRes=d.fetchRes||new v,d.cookies=d.cookies||new w,d.redirects=d.redirects||0,d.maxRedirects=isNaN(d.maxRedirects)?_:d.maxRedirects,d.cookie&&([].concat(d.cookie||[]).forEach(h=>{d.cookies.set(h,e)}),d.cookie=!1);let C=d.fetchRes,P=y.parse(e),O=(d.method||"").toString().trim().toUpperCase()||"GET",I=!1,R="https:"===P.protocol?g:m,D={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+S.version};if(Object.keys(d.headers||{}).forEach(e=>{D[e.toLowerCase().trim()]=d.headers[e]}),d.userAgent&&(D["user-agent"]=d.userAgent),P.auth&&(D.Authorization="Basic "+Buffer.from(P.auth).toString("base64")),(h=d.cookies.get(e))&&(D.cookie=h),d.body){if(!1!==d.contentType&&(D["Content-Type"]=d.contentType||"application/x-www-form-urlencoded"),"function"==typeof d.body.pipe)D["Transfer-Encoding"]="chunked",(T=d.body).on("error",d=>{I||(I=!0,d.type="FETCH",d.sourceUrl=e,C.emit("error",d))});else{if(d.body instanceof Buffer)T=d.body;else if("object"==typeof d.body)try{T=Buffer.from(Object.keys(d.body).map(e=>{let h=d.body[e].toString().trim();return encodeURIComponent(e)+"="+encodeURIComponent(h)}).join("&"))}catch(d){if(I)return;I=!0,d.type="FETCH",d.sourceUrl=e,C.emit("error",d);return}else T=Buffer.from(d.body.toString().trim());D["Content-Type"]=d.contentType||"application/x-www-form-urlencoded",D["Content-Length"]=T.length}O=(d.method||"").toString().trim().toUpperCase()||"POST"}let L={method:O,host:P.hostname,path:P.path,port:P.port?P.port:"https:"===P.protocol?443:80,headers:D,rejectUnauthorized:!1,agent:!1};d.tls&&Object.keys(d.tls).forEach(e=>{L[e]=d.tls[e]}),"https:"!==P.protocol||!P.hostname||P.hostname===L.host||x.isIP(P.hostname)||L.servername||(L.servername=P.hostname);try{k=R.request(L)}catch(d){return I=!0,setImmediate(()=>{d.type="FETCH",d.sourceUrl=e,C.emit("error",d)}),C}return d.timeout&&k.setTimeout(d.timeout,()=>{if(I)return;I=!0,k.abort();let d=Error("Request Timeout");d.type="FETCH",d.sourceUrl=e,C.emit("error",d)}),k.on("error",d=>{I||(I=!0,d.type="FETCH",d.sourceUrl=e,C.emit("error",d))}),k.on("response",h=>{let m;if(!I){switch(h.headers["content-encoding"]){case"gzip":case"deflate":m=b.createUnzip()}if(h.headers["set-cookie"]&&[].concat(h.headers["set-cookie"]||[]).forEach(h=>{d.cookies.set(h,e)}),[301,302,303,307,308].includes(h.statusCode)&&h.headers.location){if(d.redirects++,d.redirects>d.maxRedirects){I=!0;let d=Error("Maximum redirect count exceeded");d.type="FETCH",d.sourceUrl=e,C.emit("error",d),k.abort();return}return d.method="GET",d.body=!1,E(y.resolve(e,h.headers.location),d)}if(C.statusCode=h.statusCode,C.headers=h.headers,h.statusCode>=300&&!d.allowErrorResponse){I=!0;let d=Error("Invalid status code "+h.statusCode);d.type="FETCH",d.sourceUrl=e,C.emit("error",d),k.abort();return}h.on("error",d=>{I||(I=!0,d.type="FETCH",d.sourceUrl=e,C.emit("error",d),k.abort())}),m?(h.pipe(m).pipe(C),m.on("error",d=>{I||(I=!0,d.type="FETCH",d.sourceUrl=e,C.emit("error",d),k.abort())})):h.pipe(C)}}),setImmediate(()=>{if(T)try{if("function"==typeof T.pipe)return T.pipe(k);k.write(T)}catch(d){I=!0,d.type="FETCH",d.sourceUrl=e,C.emit("error",d);return}k.end()}),C}e.exports=function(e,d){return E(e,d)},e.exports.Cookies=w},1590:(e,d,h)=>{"use strict";let{HEX:m}=h(7286),g=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function y(e){if(3>x(e,"."))return{host:e,isIPV4:!1};let[d]=e.match(g)||[];return d?{host:S(d,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function b(e,d=!1){let h="",g=!0;for(let d of e){if(void 0===m[d])return;"0"!==d&&!0===g&&(g=!1),g||(h+=d)}return d&&0===h.length&&(h="0"),h}function v(e){let d=0,h={error:!1,address:"",zone:""},m=[],g=[],y=!1,v=!1,w=!1;function S(){if(g.length){if(!1===y){let e=b(g);if(void 0===e)return h.error=!0,!1;m.push(e)}g.length=0}return!0}for(let b=0;b<e.length;b++){let x=e[b];if("["!==x&&"]"!==x)if(":"===x){if(!0===v&&(w=!0),!S())break;if(d++,m.push(":"),d>7){h.error=!0;break}b-1>=0&&":"===e[b-1]&&(v=!0);continue}else if("%"===x){if(!S())break;y=!0}else{g.push(x);continue}}return g.length&&(y?h.zone=g.join(""):w?m.push(g.join("")):m.push(b(g))),h.address=m.join(""),h}function w(e){if(2>x(e,":"))return{host:e,isIPV6:!1};let d=v(e);if(d.error)return{host:e,isIPV6:!1};{let e=d.address,h=d.address;return d.zone&&(e+="%"+d.zone,h+="%25"+d.zone),{host:e,escapedHost:h,isIPV6:!0}}}function S(e,d){let h="",m=!0,g=e.length;for(let y=0;y<g;y++){let b=e[y];"0"===b&&m?(y+1<=g&&e[y+1]===d||y+1===g)&&(h+=b,m=!1):(m=b===d,h+=b)}return h}function x(e,d){let h=0;for(let m=0;m<e.length;m++)e[m]===d&&h++;return h}let _=/^\.\.?\//u,E=/^\/\.(?:\/|$)/u,T=/^\/\.\.(?:\/|$)/u,k=/^\/?(?:.|\n)*?(?=\/|$)/u;e.exports={recomposeAuthority:function(e){let d=[];if(void 0!==e.userinfo&&(d.push(e.userinfo),d.push("@")),void 0!==e.host){let h=unescape(e.host),m=y(h);if(m.isIPV4)h=m.host;else{let d=w(m.host);h=!0===d.isIPV6?`[${d.escapedHost}]`:e.host}d.push(h)}return("number"==typeof e.port||"string"==typeof e.port)&&(d.push(":"),d.push(String(e.port))),d.length?d.join(""):void 0},normalizeComponentEncoding:function(e,d){let h=!0!==d?escape:unescape;return void 0!==e.scheme&&(e.scheme=h(e.scheme)),void 0!==e.userinfo&&(e.userinfo=h(e.userinfo)),void 0!==e.host&&(e.host=h(e.host)),void 0!==e.path&&(e.path=h(e.path)),void 0!==e.query&&(e.query=h(e.query)),void 0!==e.fragment&&(e.fragment=h(e.fragment)),e},removeDotSegments:function(e){let d=[];for(;e.length;)if(e.match(_))e=e.replace(_,"");else if(e.match(E))e=e.replace(E,"/");else if(e.match(T))e=e.replace(T,"/"),d.pop();else if("."===e||".."===e)e="";else{let h=e.match(k);if(h){let m=h[0];e=e.slice(m.length),d.push(m)}else throw Error("Unexpected dot segment condition")}return d.join("")},normalizeIPv4:y,normalizeIPv6:w,stringArrayToHexStripped:b}},1668:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{Field:()=>k,Fields:()=>C,HttpRequest:()=>P,HttpResponse:()=>I,IHttpRequest:()=>T.HttpRequest,getHttpHandlerExtensionConfiguration:()=>_,isValidHostname:()=>R,resolveHttpHandlerRuntimeConfig:()=>E}),e.exports=S(x);var _=v(e=>({setHttpHandler(d){e.httpHandler=d},httpHandler:()=>e.httpHandler,updateHttpClientConfig(d,h){e.httpHandler?.updateHttpClientConfig(d,h)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}),"getHttpHandlerExtensionConfiguration"),E=v(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),T=h(38755),k=class{static{v(this,"Field")}constructor({name:e,kind:d=T.FieldPosition.HEADER,values:h=[]}){this.name=e,this.kind=d,this.values=h}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(d=>d!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},C=class{constructor({fields:e=[],encoding:d="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=d}static{v(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(d=>d.kind===e)}},P=class e{static{v(this,"HttpRequest")}constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(d){let h=new e({...d,headers:{...d.headers}});return h.query&&(h.query=O(h.query)),h}static isInstance(e){if(!e)return!1;let d=e;return"method"in d&&"protocol"in d&&"hostname"in d&&"path"in d&&"object"==typeof d.query&&"object"==typeof d.headers}clone(){return e.clone(this)}};function O(e){return Object.keys(e).reduce((d,h)=>{let m=e[h];return{...d,[h]:Array.isArray(m)?[...m]:m}},{})}v(O,"cloneQuery");var I=class{static{v(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let d=e;return"number"==typeof d.statusCode&&"object"==typeof d.headers}};function R(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}v(R,"isValidHostname")},2365:e=>{"use strict";e.exports=e=>{let d=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof e?e.replace(d,""):e}},3206:(e,d,h)=>{var m=h(33030);e.exports={create:function(e,d){return{parse:function(){return m.parse(e,d)}}}}},3287:(e,d,h)=>{let m=h(55511);e.exports={postgresMd5PasswordHash:S,randomBytes:v,deriveKey:E,sha256:x,hmacSha256:_,md5:w};let g=m.webcrypto||globalThis.crypto,y=g.subtle,b=new TextEncoder;function v(e){return g.getRandomValues(Buffer.alloc(e))}async function w(e){try{return m.createHash("md5").update(e,"utf-8").digest("hex")}catch(h){let d="string"==typeof e?b.encode(e):e;return Array.from(new Uint8Array(await y.digest("MD5",d))).map(e=>e.toString(16).padStart(2,"0")).join("")}}async function S(e,d,h){var m=await w(d+e);return"md5"+await w(Buffer.concat([Buffer.from(m),h]))}async function x(e){return await y.digest("SHA-256",e)}async function _(e,d){let h=await y.importKey("raw",e,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await y.sign("HMAC",h,b.encode(d))}async function E(e,d,h){let m=await y.importKey("raw",b.encode(e),"PBKDF2",!1,["deriveBits"]),g={name:"PBKDF2",hash:"SHA-256",salt:d,iterations:h};return await y.deriveBits(g,m,256,["deriveBits"])}},3505:(e,d,h)=>{"use strict";function m(e,d){let h={...e};for(let g in d)Object.prototype.hasOwnProperty.call(d,g)&&("object"==typeof d[g]&&!Array.isArray(d[g])&&e[g]?h[g]=m(e[g],d[g]):h[g]=d[g]);return h}h.d(d,{p:()=>m})},3674:(e,d,h)=>{"use strict";h.d(d,{A:()=>_});var m=h(77598),g=h(57975),y=h(38588),b=h(26900);function v(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new b.T0(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var w=h(30882),S=h(82439);let x=(0,g.promisify)(m.sign),_=async(e,d,h)=>{let g=(0,S.A)(e,d,"sign");if(e.startsWith("HS")){let d=m.createHmac(v(e),g);return d.update(h),d.digest()}return x((0,y.A)(e),h,(0,w.A)(e,g))}},4197:(e,d,h)=>{"use strict";function m(e){return new DataView(e.buffer,e.byteOffset)}h.d(d,{U1:()=>Y,BI:()=>J,rB:()=>W}),h(55330);let g={len:1,get:(e,d)=>m(e).getUint8(d),put:(e,d,h)=>(m(e).setUint8(d,h),d+1)},y={len:2,get:(e,d)=>m(e).getUint16(d,!0),put:(e,d,h)=>(m(e).setUint16(d,h,!0),d+2)},b={len:2,get:(e,d)=>m(e).getUint16(d),put:(e,d,h)=>(m(e).setUint16(d,h),d+2)},v={len:4,get:(e,d)=>m(e).getUint32(d,!0),put:(e,d,h)=>(m(e).setUint32(d,h,!0),d+4)},w={len:4,get:(e,d)=>m(e).getUint32(d),put:(e,d,h)=>(m(e).setUint32(d,h),d+4)},S={len:4,get:(e,d)=>m(e).getInt32(d),put:(e,d,h)=>(m(e).setInt32(d,h),d+4)},x={len:8,get:(e,d)=>m(e).getBigUint64(d,!0),put:(e,d,h)=>(m(e).setBigUint64(d,h,!0),d+8)};class _{constructor(e,d){this.len=e,this.encoding=d,this.textDecoder=new TextDecoder(d)}get(e,d){return this.textDecoder.decode(e.subarray(d,d+this.len))}}var E=h(71152);let T=Object.prototype.toString,k="[object Uint8Array]",C="[object ArrayBuffer]";function P(e,d,h){return!!e&&(e.constructor===d||T.call(e)===h)}function O(e){return P(e,Uint8Array,k)}function I(e){return P(e,ArrayBuffer,C)}function R(e){return O(e)||I(e)}function D(e){if(!O(e))throw TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function L(e){if(!R(e))throw TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``)}let $={utf8:new globalThis.TextDecoder("utf8")};function M(e){if("string"!=typeof e)throw TypeError(`Expected \`string\`, got \`${typeof e}\``)}let B=new globalThis.TextEncoder;function j(e){return e.replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function U(e){return e.replaceAll("-","+").replaceAll("_","/")}let F=65535;function z(e){let{byteLength:d}=e;return 6===d?0x100000000*e.getUint16(0)+e.getUint32(2):5===d?0x100000000*e.getUint8(0)+e.getUint32(1):4===d?e.getUint32(0):3===d?65536*e.getUint8(0)+e.getUint16(1):2===d?e.getUint16(0):1===d?e.getUint8(0):void 0}function q(e,d){let h=e.length,m=d.length;if(0===m||m>h)return -1;let g=h-m;for(let h=0;h<=g;h++){let g=!0;for(let y=0;y<m;y++)if(e[h+y]!==d[y]){g=!1;break}if(g)return h}return -1}function V(e,d){return -1!==q(e,d)}function H(e){return[...e].map(e=>e.charCodeAt(0))}function K(e,d=0){let h=Number.parseInt(new _(6).get(e,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(h))return!1;let m=256;for(let h=d;h<d+148;h++)m+=e[h];for(let h=d+156;h<d+512;h++)m+=e[h];return h===m}Array.from({length:256},(e,d)=>d.toString(16).padStart(2,"0"));let G={get:(e,d)=>127&e[d+3]|e[d+2]<<7|e[d+1]<<14|e[d]<<21,len:4},W=4100;async function J(e){return new Y().fromBuffer(e)}function Q(e,d,h){for(let[m,g]of(h={offset:0,...h},d.entries()))if(h.mask){if(g!==(h.mask[m]&e[m+h.offset]))return!1}else if(g!==e[m+h.offset])return!1;return!0}class Y{constructor(e){this.detectors=e?.customDetectors,this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(e){let d=e.position;for(let h of this.detectors||[]){let m=await h(e);if(m)return m;if(d!==e.position)return}return this.parse(e)}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``);let d=e instanceof Uint8Array?e:new Uint8Array(e);if(d?.length>1)return this.fromTokenizer(E.vY(d))}async fromBlob(e){return this.fromStream(e.stream())}async fromStream(e){let d=await E.Xx(e);try{return await this.fromTokenizer(d)}finally{await d.close()}}check(e,d){return Q(this.buffer,e,d)}checkString(e,d){return this.check(H(e),d)}async parse(e){if(this.buffer=new Uint8Array(W),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return(await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);let d=await e.readToken(G);return e.position+d>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(d),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(this.buffer,{length:30});let d=new DataView(this.buffer.buffer),h={compressedSize:d.getUint32(18,!0),uncompressedSize:d.getUint32(22,!0),filenameLength:d.getUint16(26,!0),extraFieldLength:d.getUint16(28,!0)};if(h.filename=await e.readToken(new _(h.filenameLength,"utf-8")),await e.ignore(h.extraFieldLength),"META-INF/mozilla.rsa"===h.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(h.filename.endsWith(".rels")||h.filename.endsWith(".xml"))switch(h.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"visio":return{ext:"vsdx",mime:"application/vnd.visio"}}if(h.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(h.filename.startsWith("3D/")&&h.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===h.filename&&h.compressedSize===h.uncompressedSize){let d=await e.readToken(new _(h.compressedSize,"utf-8"));switch(d=d.trim()){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===h.compressedSize){let d=-1;for(;d<0&&e.position<e.fileInfo.size;)await e.peekBuffer(this.buffer,{mayBeLess:!0}),d=q(this.buffer,new Uint8Array([80,75,3,4])),await e.ignore(d>=0?d:this.buffer.length)}else await e.ignore(h.compressedSize)}}catch(e){if(!(e instanceof E.d1))throw e}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);let d=new Uint8Array(8);return(await e.readBuffer(d),Q(d,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:Q(d,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:Q(d,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:Q(d,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:Q(d,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:Q(d,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&(96&this.buffer[8])!=0){let e=new _(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(e){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(e.startsWith("3g")){if(e.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await e.ignore(1350);let d=0xa00000,h=new Uint8Array(Math.min(d,e.fileInfo.size));if(await e.readBuffer(h,{mayBeLess:!0}),V(h,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(e){if(!(e instanceof E.d1))throw e}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let e=await this.readTiffHeader(!1);if(e)return e}if(this.check([77,77])){let e=await this.readTiffHeader(!0);if(e)return e}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function d(){let d=await e.peekNumber(g),h=128,m=0;for(;(d&h)==0&&0!==h;)++m,h>>=1;let y=new Uint8Array(m+1);return await e.readBuffer(y),y}async function h(){let e=await d(),h=await d();h[0]^=128>>h.length-1;let m=Math.min(6,h.length),g=new DataView(e.buffer),y=new DataView(h.buffer,h.length-m,m);return{id:z(g),len:z(y)}}async function m(d){for(;d>0;){let m=await h();if(17026===m.id)return(await e.readToken(new _(m.len))).replaceAll(/\00.*$/g,"");await e.ignore(m.len),--d}}let y=await h();switch(await m(y.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let e=new _(4,"latin1").get(this.buffer,2);if(e.match("^d*")&&e>=1e3&&e<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return(await e.ignore(8),"debian-binary"===await e.readToken(new _(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("**ACE",{offset:7})&&(await e.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function y(){return{length:await e.readToken(S),type:await e.readToken(new _(4,"latin1"))}}await e.ignore(8);do{let d=await y();if(d.length<0)return;switch(d.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(d.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function b(){let d=new Uint8Array(16);return await e.readBuffer(d),{id:d,size:Number(await e.readToken(x))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){let d=await b(),h=d.size-24;if(Q(d.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let d=new Uint8Array(16);if(h-=await e.readBuffer(d),Q(d,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(Q(d,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(h)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new _(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let e=new DataView(this.buffer.buffer).getUint32(12,!0);if(e>12&&this.buffer.length>=e+16)try{let d=new TextDecoder().decode(this.buffer.slice(16,e+16));if(JSON.parse(d).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),K(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(e){let d=await this.tokenizer.readToken(e?b:y);switch(this.tokenizer.ignore(10),d){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){let d=await this.tokenizer.readToken(e?b:y);for(let h=0;h<d;++h){let d=await this.readTiffTag(e);if(d)return d}}async readTiffHeader(e){let d=(e?b:y).get(this.buffer,2),h=(e?w:v).get(this.buffer,4);if(42===d){if(h>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(h>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(h),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===d)return{ext:"tif",mime:"image/tiff"}}}},4612:(e,d,h)=>{"use strict";let m=h(2365);e.exports=function(e,d){let h=String(m(e)||"").split(/\r?\n/);return d?h.map(e=>Math.ceil(e.length/d)).reduce((e,d)=>e+d):h.length}},4858:(e,d,h)=>{"use strict";e.exports=v;let{LOGGER_KEYS:m}=h(40844),g=h(26355),y=h(22476),b=h(26396);function v({log:e,context:d}){let{EOL:h,IDENT:v,errorProps:w,messageKey:S}=d,x=y({input:e.stack,ident:v,eol:h}),_=`${v}${x}${h}`;if(w.length>0){let y,x=m.concat(S,"type","stack");y="*"===w[0]?Object.keys(e).filter(e=>!1===x.includes(e)):w.filter(e=>!1===x.includes(e));for(let m=0;m<y.length;m+=1){let w=y[m];if(w in e!=!1){if(g(e[w])){let m=b({log:e[w],excludeLoggerKeys:!1,context:{...d,IDENT:v+v}});_=`${_}${v}${w}: {${h}${m}${v}}${h}`;continue}_=`${_}${v}${w}: ${e[w]}${h}`}}}return _}},5072:(e,d,h)=>{"use strict";var m;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(y){var b=arguments,v=function(){var e=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,h=/[^-+\dA-Z]/g;return function(m,g,y,T){if(1!==b.length||"string"!==E(m)||/\d/.test(m)||(g=m,m=void 0),(m=m||0===m?m:new Date)instanceof Date||(m=new Date(m)),isNaN(m))throw TypeError("Invalid date");var k=(g=String(v.masks[g]||g||v.masks.default)).slice(0,4);("UTC:"===k||"GMT:"===k)&&(g=g.slice(4),y=!0,"GMT:"===k&&(T=!0));var C=function(){return y?"getUTC":"get"},P=function(){return m[C()+"Date"]()},O=function(){return m[C()+"Day"]()},I=function(){return m[C()+"Month"]()},R=function(){return m[C()+"FullYear"]()},D=function(){return m[C()+"Hours"]()},L=function(){return m[C()+"Minutes"]()},$=function(){return m[C()+"Seconds"]()},M=function(){return m[C()+"Milliseconds"]()},B=function(){return y?0:m.getTimezoneOffset()},j=function(){return x(m)},U=function(){return _(m)},F={d:function(){return P()},dd:function(){return w(P())},ddd:function(){return v.i18n.dayNames[O()]},DDD:function(){return S({y:R(),m:I(),d:P(),_:C(),dayName:v.i18n.dayNames[O()],short:!0})},dddd:function(){return v.i18n.dayNames[O()+7]},DDDD:function(){return S({y:R(),m:I(),d:P(),_:C(),dayName:v.i18n.dayNames[O()+7]})},m:function(){return I()+1},mm:function(){return w(I()+1)},mmm:function(){return v.i18n.monthNames[I()]},mmmm:function(){return v.i18n.monthNames[I()+12]},yy:function(){return String(R()).slice(2)},yyyy:function(){return w(R(),4)},h:function(){return D()%12||12},hh:function(){return w(D()%12||12)},H:function(){return D()},HH:function(){return w(D())},M:function(){return L()},MM:function(){return w(L())},s:function(){return $()},ss:function(){return w($())},l:function(){return w(M(),3)},L:function(){return w(Math.floor(M()/10))},t:function(){return 12>D()?v.i18n.timeNames[0]:v.i18n.timeNames[1]},tt:function(){return 12>D()?v.i18n.timeNames[2]:v.i18n.timeNames[3]},T:function(){return 12>D()?v.i18n.timeNames[4]:v.i18n.timeNames[5]},TT:function(){return 12>D()?v.i18n.timeNames[6]:v.i18n.timeNames[7]},Z:function(){return T?"GMT":y?"UTC":(String(m).match(d)||[""]).pop().replace(h,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(B()>0?"-":"+")+w(100*Math.floor(Math.abs(B())/60)+Math.abs(B())%60,4)},p:function(){return(B()>0?"-":"+")+w(Math.floor(Math.abs(B())/60),2)+":"+w(Math.floor(Math.abs(B())%60),2)},S:function(){return["th","st","nd","rd"][P()%10>3?0:(P()%100-P()%10!=10)*P()%10]},W:function(){return j()},WW:function(){return w(j())},N:function(){return U()}};return g.replace(e,function(e){return e in F?F[e]():e.slice(1,e.length-1)})}}();v.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},v.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var w=function(e,d){for(e=String(e),d=d||2;e.length<d;)e="0"+e;return e},S=function(e){var d=e.y,h=e.m,m=e.d,g=e._,y=e.dayName,b=e.short,v=void 0!==b&&b,w=new Date,S=new Date;S.setDate(S[g+"Date"]()-1);var x=new Date;x.setDate(x[g+"Date"]()+1);var _=function(){return w[g+"Date"]()},E=function(){return w[g+"Month"]()},T=function(){return S[g+"Date"]()},k=function(){return S[g+"Month"]()},C=function(){return S[g+"FullYear"]()},P=function(){return x[g+"Date"]()},O=function(){return x[g+"Month"]()},I=function(){return x[g+"FullYear"]()};return function(){return w[g+"FullYear"]()}()===d&&E()===h&&_()===m?v?"Tdy":"Today":C()===d&&k()===h&&T()===m?v?"Ysd":"Yesterday":I()===d&&O()===h&&P()===m?v?"Tmw":"Tomorrow":y},x=function(e){var d=new Date(e.getFullYear(),e.getMonth(),e.getDate());d.setDate(d.getDate()-(d.getDay()+6)%7+3);var h=new Date(d.getFullYear(),0,4);h.setDate(h.getDate()-(h.getDay()+6)%7+3);var m=d.getTimezoneOffset()-h.getTimezoneOffset();return d.setHours(d.getHours()-m),1+Math.floor((d-h)/(864e5*7))},_=function(e){var d=e.getDay();return 0===d&&(d=7),d},E=function(e){return null===e?"null":void 0===e?"undefined":"object"!==g(e)?g(e):Array.isArray(e)?"array":({}).toString.call(e).slice(8,-1).toLowerCase()};void 0===(m=(function(){return v}).call(d,h,d,e))||(e.exports=m)}(void 0)},5127:(e,d,h)=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.reportTypeError=d.checkDataTypes=d.checkDataType=d.coerceAndCheckDataType=d.getJSONTypes=d.getSchemaTypes=d.DataType=void 0;let g=h(37123),y=h(95698),b=h(56393),v=h(52046),w=h(31934);function S(e){let d=Array.isArray(e)?e:e?[e]:[];if(d.every(g.isJSONType))return d;throw Error("type must be JSONType or JSONType[]: "+d.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(m||(d.DataType=m={})),d.getSchemaTypes=function(e){let d=S(e.type);if(d.includes("null")){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!d.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&d.push("null")}return d},d.getJSONTypes=S,d.coerceAndCheckDataType=function(e,d){let{gen:h,data:g,opts:b}=e,v=_(d,b.coerceTypes),w=d.length>0&&!(0===v.length&&1===d.length&&(0,y.schemaHasRulesForType)(e,d[0]));if(w){let y=C(d,g,b.strictNumbers,m.Wrong);h.if(y,()=>{v.length?E(e,d,v):O(e)})}return w};let x=new Set(["string","number","integer","boolean","null"]);function _(e,d){return d?e.filter(e=>x.has(e)||"array"===d&&"array"===e):[]}function E(e,d,h){let{gen:m,data:g,opts:y}=e,b=m.let("dataType",(0,v._)`typeof ${g}`),w=m.let("coerced",(0,v._)`undefined`);for(let e of("array"===y.coerceTypes&&m.if((0,v._)`${b} == 'object' && Array.isArray(${g}) && ${g}.length == 1`,()=>m.assign(g,(0,v._)`${g}[0]`).assign(b,(0,v._)`typeof ${g}`).if(C(d,g,y.strictNumbers),()=>m.assign(w,g))),m.if((0,v._)`${w} !== undefined`),h))(x.has(e)||"array"===e&&"array"===y.coerceTypes)&&S(e);function S(e){switch(e){case"string":m.elseIf((0,v._)`${b} == "number" || ${b} == "boolean"`).assign(w,(0,v._)`"" + ${g}`).elseIf((0,v._)`${g} === null`).assign(w,(0,v._)`""`);return;case"number":m.elseIf((0,v._)`${b} == "boolean" || ${g} === null
              || (${b} == "string" && ${g} && ${g} == +${g})`).assign(w,(0,v._)`+${g}`);return;case"integer":m.elseIf((0,v._)`${b} === "boolean" || ${g} === null
              || (${b} === "string" && ${g} && ${g} == +${g} && !(${g} % 1))`).assign(w,(0,v._)`+${g}`);return;case"boolean":m.elseIf((0,v._)`${g} === "false" || ${g} === 0 || ${g} === null`).assign(w,!1).elseIf((0,v._)`${g} === "true" || ${g} === 1`).assign(w,!0);return;case"null":m.elseIf((0,v._)`${g} === "" || ${g} === 0 || ${g} === false`),m.assign(w,null);return;case"array":m.elseIf((0,v._)`${b} === "string" || ${b} === "number"
              || ${b} === "boolean" || ${g} === null`).assign(w,(0,v._)`[${g}]`)}}m.else(),O(e),m.endIf(),m.if((0,v._)`${w} !== undefined`,()=>{m.assign(g,w),T(e,w)})}function T({gen:e,parentData:d,parentDataProperty:h},m){e.if((0,v._)`${d} !== undefined`,()=>e.assign((0,v._)`${d}[${h}]`,m))}function k(e,d,h,g=m.Correct){let y,b=g===m.Correct?v.operators.EQ:v.operators.NEQ;switch(e){case"null":return(0,v._)`${d} ${b} null`;case"array":y=(0,v._)`Array.isArray(${d})`;break;case"object":y=(0,v._)`${d} && typeof ${d} == "object" && !Array.isArray(${d})`;break;case"integer":y=w((0,v._)`!(${d} % 1) && !isNaN(${d})`);break;case"number":y=w();break;default:return(0,v._)`typeof ${d} ${b} ${e}`}return g===m.Correct?y:(0,v.not)(y);function w(e=v.nil){return(0,v.and)((0,v._)`typeof ${d} == "number"`,e,h?(0,v._)`isFinite(${d})`:v.nil)}}function C(e,d,h,m){let g;if(1===e.length)return k(e[0],d,h,m);let y=(0,w.toHash)(e);if(y.array&&y.object){let e=(0,v._)`typeof ${d} != "object"`;g=y.null?e:(0,v._)`!${d} || ${e}`,delete y.null,delete y.array,delete y.object}else g=v.nil;for(let e in y.number&&delete y.integer,y)g=(0,v.and)(g,k(e,d,h,m));return g}d.checkDataType=k,d.checkDataTypes=C;let P={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:d})=>"string"==typeof e?(0,v._)`{type: ${e}}`:(0,v._)`{type: ${d}}`};function O(e){let d=I(e);(0,b.reportError)(d,P)}function I(e){let{gen:d,data:h,schema:m}=e,g=(0,w.schemaRefOrVal)(e,m,"type");return{gen:d,keyword:"type",data:h,schema:m.type,schemaCode:g,schemaValue:g,parentSchema:m,params:{},it:e}}d.reportTypeError=O},5212:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateKeywordUsage=d.validSchemaType=d.funcKeywordCode=d.macroKeywordCode=void 0;let m=h(52046),g=h(9828),y=h(11622),b=h(56393);function v(e){let{gen:d,data:h,it:g}=e;d.if(g.parentData,()=>d.assign(h,(0,m._)`${g.parentData}[${g.parentDataProperty}]`))}function w(e,d){let{gen:h}=e;h.if((0,m._)`Array.isArray(${d})`,()=>{h.assign(g.default.vErrors,(0,m._)`${g.default.vErrors} === null ? ${d} : ${g.default.vErrors}.concat(${d})`).assign(g.default.errors,(0,m._)`${g.default.vErrors}.length`),(0,b.extendErrors)(e)},()=>e.error())}function S({schemaEnv:e},d){if(d.async&&!e.$async)throw Error("async keyword in sync schema")}function x(e,d,h){if(void 0===h)throw Error(`keyword "${d}" failed to compile`);return e.scopeValue("keyword","function"==typeof h?{ref:h}:{ref:h,code:(0,m.stringify)(h)})}d.macroKeywordCode=function(e,d){let{gen:h,keyword:g,schema:y,parentSchema:b,it:v}=e,w=d.macro.call(v.self,y,b,v),S=x(h,g,w);!1!==v.opts.validateSchema&&v.self.validateSchema(w,!0);let _=h.name("valid");e.subschema({schema:w,schemaPath:m.nil,errSchemaPath:`${v.errSchemaPath}/${g}`,topSchemaRef:S,compositeRule:!0},_),e.pass(_,()=>e.error(!0))},d.funcKeywordCode=function(e,d){var h;let{gen:b,keyword:_,schema:E,parentSchema:T,$data:k,it:C}=e;S(C,d);let P=x(b,_,!k&&d.compile?d.compile.call(C.self,E,T,C):d.validate),O=b.let("valid");function I(){if(!1===d.errors)L(),d.modifying&&v(e),$(()=>e.error());else{let h=d.async?R():D();d.modifying&&v(e),$(()=>w(e,h))}}function R(){let e=b.let("ruleErrs",null);return b.try(()=>L((0,m._)`await `),d=>b.assign(O,!1).if((0,m._)`${d} instanceof ${C.ValidationError}`,()=>b.assign(e,(0,m._)`${d}.errors`),()=>b.throw(d))),e}function D(){let e=(0,m._)`${P}.errors`;return b.assign(e,null),L(m.nil),e}function L(h=d.async?(0,m._)`await `:m.nil){let v=C.opts.passContext?g.default.this:g.default.self,w=!("compile"in d&&!k||!1===d.schema);b.assign(O,(0,m._)`${h}${(0,y.callValidateCode)(e,P,v,w)}`,d.modifying)}function $(e){var h;b.if((0,m.not)(null!=(h=d.valid)?h:O),e)}e.block$data(O,I),e.ok(null!=(h=d.valid)?h:O)},d.validSchemaType=function(e,d,h=!1){return!d.length||d.some(d=>"array"===d?Array.isArray(e):"object"===d?e&&"object"==typeof e&&!Array.isArray(e):typeof e==d||h&&void 0===e)},d.validateKeywordUsage=function({schema:e,opts:d,self:h,errSchemaPath:m},g,y){if(Array.isArray(g.keyword)?!g.keyword.includes(y):g.keyword!==y)throw Error("ajv implementation error");let b=g.dependencies;if(null==b?void 0:b.some(d=>!Object.prototype.hasOwnProperty.call(e,d)))throw Error(`parent schema must have dependencies of ${y}: ${b.join(",")}`);if(g.validateSchema&&!g.validateSchema(e[y])){let e=`keyword "${y}" value is invalid at path "${m}": `+h.errorsText(g.validateSchema.errors);if("log"===d.validateSchema)h.logger.error(e);else throw Error(e)}}},5295:(e,d,h)=>{"use strict";let m=h(49631),g={};function y(e){return e.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function b(e){let d=["domains","aliases"],h={};return Object.keys(e).forEach(m=>{0>d.indexOf(m)&&(h[m]=e[m])}),h}Object.keys(m).forEach(e=>{let d=m[e];g[y(e)]=b(d),[].concat(d.aliases||[]).forEach(e=>{g[y(e)]=b(d)}),[].concat(d.domains||[]).forEach(e=>{g[y(e)]=b(d)})}),e.exports=function(e){return g[e=y(e.split("@").pop())]||!1}},5523:(e,d,h)=>{var m=h(87771);e.exports=function e(e){return m(e).replace(/\s/g,"_")}},5623:(e,d,h)=>{"use strict";let{Readable:m,Writable:g}=h(27910),y=h(82490),{basename:b,convertToUTF8:v,getDecoder:w,parseContentType:S,parseDisposition:x}=h(36464),_=Buffer.from("\r\n"),E=Buffer.from("\r"),T=Buffer.from("-");function k(){}let C=2e3,P=16384,O=0,I=1,R=2;class D{constructor(e){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=O,this.name="",this.value="",this.crlf=0,this.cb=e}reset(){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=O,this.name="",this.value="",this.crlf=0}push(e,d,h){let m=d;for(;d<h;)switch(this.state){case O:{let g=!1;for(;d<h;++d){if(this.byteCount===P)return -1;++this.byteCount;let h=e[d];if(1!==z[h]){if(58!==h||(this.name+=e.latin1Slice(m,d),0===this.name.length))return -1;++d,g=!0,this.state=I;break}}if(!g){this.name+=e.latin1Slice(m,d);break}}case I:{let g=!1;for(;d<h;++d){if(this.byteCount===P)return -1;++this.byteCount;let h=e[d];if(32!==h&&9!==h){m=d,g=!0,this.state=R;break}}if(!g)break}case R:switch(this.crlf){case 0:for(;d<h;++d){if(this.byteCount===P)return -1;++this.byteCount;let h=e[d];if(1!==q[h]){if(13!==h)return -1;++this.crlf;break}}this.value+=e.latin1Slice(m,d++);break;case 1:if(this.byteCount===P||(++this.byteCount,10!==e[d++]))return -1;++this.crlf;break;case 2:{if(this.byteCount===P)return -1;++this.byteCount;let h=e[d];32===h||9===h?(m=d,this.crlf=0):(++this.pairCount<C&&(this.name=this.name.toLowerCase(),void 0===this.header[this.name]?this.header[this.name]=[this.value]:this.header[this.name].push(this.value)),13===h?(++this.crlf,++d):(m=d,this.crlf=0,this.state=O,this.name="",this.value=""));break}case 3:{if(this.byteCount===P||(++this.byteCount,10!==e[d++]))return -1;let h=this.header;return this.reset(),this.cb(h),d}}}return d}}class L extends m{constructor(e,d){super(e),this.truncated=!1,this._readcb=null,this.once("end",()=>{if(this._read(),0==--d._fileEndsLeft&&d._finalcb){let e=d._finalcb;d._finalcb=null,process.nextTick(e)}})}_read(e){let d=this._readcb;d&&(this._readcb=null,d())}}let $={push:(e,d)=>{},destroy:()=>{}};function M(e,d){let h=e._writecb;e._writecb=null,d?e.destroy(d):h&&h()}function B(e,d){return e}class j extends g{constructor(e){let d,h,m,g,C;if(super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:void 0}),!e.conType.params||"string"!=typeof e.conType.params.boundary)throw Error("Multipart: Boundary not found");let P=e.conType.params.boundary,O="string"==typeof e.defParamCharset&&e.defParamCharset?w(e.defParamCharset):B,I=e.defCharset||"utf8",R=e.preservePath,M={autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.fileHwm?e.fileHwm:void 0},j=e.limits,U=j&&"number"==typeof j.fieldSize?j.fieldSize:1048576,F=j&&"number"==typeof j.fileSize?j.fileSize:1/0,z=j&&"number"==typeof j.files?j.files:1/0,q=j&&"number"==typeof j.fields?j.fields:1/0,V=j&&"number"==typeof j.parts?j.parts:1/0,H=-1,K=0,G=0,W=!1;this._fileEndsLeft=0,this._fileStream=void 0,this._complete=!1;let J=0,Q=0,Y=!1,X=!1,Z=!1;this._hparser=null;let ee=new D(e=>{let y;if(this._hparser=null,W=!1,g="text/plain",h=I,m="7bit",C=void 0,Y=!1,!e["content-disposition"]){W=!0;return}let v=x(e["content-disposition"][0],O);if(!v||"form-data"!==v.type){W=!0;return}if(v.params&&(v.params.name&&(C=v.params.name),v.params["filename*"]?y=v.params["filename*"]:v.params.filename&&(y=v.params.filename),void 0===y||R||(y=b(y))),e["content-type"]){let d=S(e["content-type"][0]);d&&(g=`${d.type}/${d.subtype}`,d.params&&"string"==typeof d.params.charset&&(h=d.params.charset.toLowerCase()))}if(e["content-transfer-encoding"]&&(m=e["content-transfer-encoding"][0].toLowerCase()),"application/octet-stream"===g||void 0!==y){if(G===z){X||(X=!0,this.emit("filesLimit")),W=!0;return}if(++G,0===this.listenerCount("file")){W=!0;return}J=0,this._fileStream=new L(M,this),++this._fileEndsLeft,this.emit("file",C,this._fileStream,{filename:y,encoding:m,mimeType:g})}else{if(K===q){Z||(Z=!0,this.emit("fieldsLimit")),W=!0;return}if(++K,0===this.listenerCount("field")){W=!0;return}d=[],Q=0}}),et=0,ei=(e,y,b,w,S)=>{for(;y;){if(null!==this._hparser){let e=this._hparser.push(y,b,w);if(-1===e){this._hparser=null,ee.reset(),this.emit("error",Error("Malformed part header"));break}b=e}if(b===w)break;if(0!==et){if(1===et){switch(y[b]){case 45:et=2,++b;break;case 13:et=3,++b;break;default:et=0}if(b===w)return}if(2===et){if(et=0,45===y[b]){this._complete=!0,this._bparser=$;return}let e=this._writecb;this._writecb=k,ei(!1,T,0,1,!1),this._writecb=e}else if(3===et){if(et=0,10===y[b]){if(++b,H>=V||(this._hparser=ee,b===w))break;continue}{let e=this._writecb;this._writecb=k,ei(!1,E,0,1,!1),this._writecb=e}}}if(!W){if(this._fileStream){let e,d=Math.min(w-b,F-J);S?e=y.slice(b,b+d):(e=Buffer.allocUnsafe(d),y.copy(e,0,b,b+d)),(J+=e.length)===F?(e.length>0&&this._fileStream.push(e),this._fileStream.emit("limit"),this._fileStream.truncated=!0,W=!0):this._fileStream.push(e)||(this._writecb&&(this._fileStream._readcb=this._writecb),this._writecb=null)}else if(void 0!==d){let e,h=Math.min(w-b,U-Q);S?e=y.slice(b,b+h):(e=Buffer.allocUnsafe(h),y.copy(e,0,b,b+h)),Q+=h,d.push(e),Q===U&&(W=!0,Y=!0)}}break}if(e){if(et=1,this._fileStream)this._fileStream.push(null),this._fileStream=null;else if(void 0!==d){let e;switch(d.length){case 0:e="";break;case 1:e=v(d[0],h,0);break;default:e=v(Buffer.concat(d,Q),h,0)}d=void 0,Q=0,this.emit("field",C,e,{nameTruncated:!1,valueTruncated:Y,encoding:m,mimeType:g})}++H===V&&this.emit("partsLimit")}};this._bparser=new y(`\r
--${P}`,ei),this._writecb=null,this._finalcb=null,this.write(_)}static detect(e){return"multipart"===e.type&&"form-data"===e.subtype}_write(e,d,h){this._writecb=h,this._bparser.push(e,0),this._writecb&&M(this)}_destroy(e,d){this._hparser=null,this._bparser=$,e||(e=F(this));let h=this._fileStream;h&&(this._fileStream=null,h.destroy(e)),d(e)}_final(e){if(this._bparser.destroy(),!this._complete)return e(Error("Unexpected end of form"));this._fileEndsLeft?this._finalcb=U.bind(null,this,e):U(this,e)}}function U(e,d,h){if(h)return d(h);d(h=F(e))}function F(e){if(e._hparser)return Error("Malformed part header");let d=e._fileStream;if(d&&(e._fileStream=null,d.destroy(Error("Unexpected end of file"))),!e._complete)return Error("Unexpected end of form")}let z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];e.exports=j},6134:(e,d,h)=>{"use strict";e.exports={TextPrompt:h(27679),SelectPrompt:h(1176),TogglePrompt:h(17212),DatePrompt:h(79860),NumberPrompt:h(8453),MultiselectPrompt:h(68471),AutocompletePrompt:h(65196),AutocompleteMultiselectPrompt:h(77715),ConfirmPrompt:h(54714)}},6317:(e,d,h)=>{"use strict";h.d(d,{I:()=>_});var m=h(67946),g=h(59123),y=h(90551);let b=e=>e?.[Symbol.toStringTag],v=(e,d,h)=>{if(void 0!==d.use&&"sig"!==d.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==d.key_ops&&d.key_ops.includes?.(h)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${h}`);if(void 0!==d.alg&&d.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},w=(e,d,h,w)=>{if(!(d instanceof Uint8Array)){if(w&&y.ll(d)){if(y.t9(d)&&v(e,d,h))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!(0,g.A)(d))throw TypeError((0,m.t)(e,d,...g.g,"Uint8Array",w?"JSON Web Key":null));if("secret"!==d.type)throw TypeError(`${b(d)} instances for symmetric algorithms must be of type "secret"`)}},S=(e,d,h,w)=>{if(w&&y.ll(d))switch(h){case"sign":if(y.W2(d)&&v(e,d,h))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(y.M3(d)&&v(e,d,h))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!(0,g.A)(d))throw TypeError((0,m.t)(e,d,...g.g,w?"JSON Web Key":null));if("secret"===d.type)throw TypeError(`${b(d)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===h&&"public"===d.type)throw TypeError(`${b(d)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===h&&"public"===d.type)throw TypeError(`${b(d)} instances for asymmetric algorithm decryption must be of type "private"`);if(d.algorithm&&"verify"===h&&"private"===d.type)throw TypeError(`${b(d)} instances for asymmetric algorithm verifying must be of type "public"`);if(d.algorithm&&"encrypt"===h&&"private"===d.type)throw TypeError(`${b(d)} instances for asymmetric algorithm encryption must be of type "public"`)};function x(e,d,h,m){d.startsWith("HS")||"dir"===d||d.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(d)?w(d,h,m,e):S(d,h,m,e)}x.bind(void 0,!1);let _=x.bind(void 0,!0)},6325:(e,d,h)=>{"use strict";function m(e,d){var h="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!h){if(Array.isArray(e)||(h=g(e))||d&&e&&"number"==typeof e.length){h&&(e=h);var m=0,y=function(){};return{s:y,n:function(){return m>=e.length?{done:!0}:{done:!1,value:e[m++]}},e:function(e){throw e},f:y}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var b,v=!0,w=!1;return{s:function(){h=h.call(e)},n:function(){var e=h.next();return v=e.done,e},e:function(e){w=!0,b=e},f:function(){try{v||null==h.return||h.return()}finally{if(w)throw b}}}}function g(e,d){if(e){if("string"==typeof e)return y(e,d);var h=Object.prototype.toString.call(e).slice(8,-1);if("Object"===h&&e.constructor&&(h=e.constructor.name),"Map"===h||"Set"===h)return Array.from(e);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return y(e,d)}}function y(e,d){(null==d||d>e.length)&&(d=e.length);for(var h=0,m=Array(d);h<d;h++)m[h]=e[h];return m}let b=h(78518),v=h(41893),w=v.erase,S=v.cursor,x=e=>[...b(e)].length;e.exports=function(e,d){if(!d)return w.line+S.to(0);let h=0;var g,y=m(e.split(/\r?\n/));try{for(y.s();!(g=y.n()).done;){let e=g.value;h+=1+Math.floor(Math.max(x(e)-1,0)/d)}}catch(e){y.e(e)}finally{y.f()}return w.lines(h)}},6520:(e,d,h)=>{"use strict";function m(e,d){return d=d||{},new Promise(function(h,m){var g=new XMLHttpRequest,y=[],b=[],v={},w=function(){return{ok:2==(g.status/100|0),statusText:g.statusText,status:g.status,url:g.responseURL,text:function(){return Promise.resolve(g.responseText)},json:function(){return Promise.resolve(g.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([g.response]))},clone:w,headers:{keys:function(){return y},entries:function(){return b},get:function(e){return v[e.toLowerCase()]},has:function(e){return e.toLowerCase()in v}}}};for(var S in g.open(d.method||"get",e,!0),g.onload=function(){g.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,d,h){y.push(d=d.toLowerCase()),b.push([d,h]),v[d]=v[d]?v[d]+","+h:h}),h(w())},g.onerror=m,g.withCredentials="include"==d.credentials,d.headers)g.setRequestHeader(S,d.headers[S]);g.send(d.body||null)})}h.r(d),h.d(d,{default:()=>m})},6541:(e,d,h)=>{"use strict";h.r(d),h.d(d,{ALGORITHM_IDENTIFIER:()=>U,ALGORITHM_IDENTIFIER_V4A:()=>F,ALGORITHM_QUERY_PARAM:()=>b,ALWAYS_UNSIGNABLE_HEADERS:()=>$,AMZ_DATE_HEADER:()=>C,AMZ_DATE_QUERY_PARAM:()=>w,AUTH_HEADER:()=>k,CREDENTIAL_QUERY_PARAM:()=>v,DATE_HEADER:()=>P,EVENT_ALGORITHM_IDENTIFIER:()=>z,EXPIRES_QUERY_PARAM:()=>x,GENERATED_HEADERS:()=>O,HOST_HEADER:()=>L,KEY_TYPE_IDENTIFIER:()=>H,MAX_CACHE_SIZE:()=>V,MAX_PRESIGNED_TTL:()=>K,PROXY_HEADER_PATTERN:()=>M,REGION_SET_PARAM:()=>T,SEC_HEADER_PATTERN:()=>B,SHA256_HEADER:()=>R,SIGNATURE_HEADER:()=>I,SIGNATURE_QUERY_PARAM:()=>_,SIGNED_HEADERS_QUERY_PARAM:()=>S,SignatureV4:()=>eg,SignatureV4Base:()=>ef,TOKEN_HEADER:()=>D,TOKEN_QUERY_PARAM:()=>E,UNSIGNABLE_PATTERNS:()=>j,UNSIGNED_PAYLOAD:()=>q,clearCredentialCache:()=>Y,createScope:()=>J,getCanonicalHeaders:()=>Z,getCanonicalQuery:()=>eu,getPayloadHash:()=>et,getSigningKey:()=>Q,hasHeader:()=>es,moveHeadersToQuery:()=>el,prepareRequest:()=>ed,signatureV4aContainer:()=>ey});var m,g=h(15682),y=h(69713);let b="X-Amz-Algorithm",v="X-Amz-Credential",w="X-Amz-Date",S="X-Amz-SignedHeaders",x="X-Amz-Expires",_="X-Amz-Signature",E="X-Amz-Security-Token",T="X-Amz-Region-Set",k="authorization",C=w.toLowerCase(),P="date",O=[k,C,P],I=_.toLowerCase(),R="x-amz-content-sha256",D=E.toLowerCase(),L="host",$={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},M=/^proxy-/,B=/^sec-/,j=[/^proxy-/i,/^sec-/i],U="AWS4-HMAC-SHA256",F="AWS4-ECDSA-P256-SHA256",z="AWS4-HMAC-SHA256-PAYLOAD",q="UNSIGNED-PAYLOAD",V=50,H="aws4_request",K=604800,G={},W=[],J=(e,d,h)=>`${e}/${d}/${h}/${H}`,Q=async(e,d,h,m,y)=>{let b=await X(e,d.secretAccessKey,d.accessKeyId),v=`${h}:${m}:${y}:${(0,g.toHex)(b)}:${d.sessionToken}`;if(v in G)return G[v];for(W.push(v);W.length>V;)delete G[W.shift()];let w=`AWS4${d.secretAccessKey}`;for(let d of[h,m,y,H])w=await X(e,w,d);return G[v]=w},Y=()=>{W.length=0,Object.keys(G).forEach(e=>{delete G[e]})},X=(e,d,h)=>{let m=new e(d);return m.update((0,y.toUint8Array)(h)),m.digest()},Z=({headers:e},d,h)=>{let m={};for(let g of Object.keys(e).sort()){if(void 0==e[g])continue;let y=g.toLowerCase();(!(y in $||d?.has(y)||M.test(y)||B.test(y))||h&&(!h||h.has(y)))&&(m[y]=e[g].trim().replace(/\s+/g," "))}return m};var ee=h(90288);let et=async({headers:e,body:d},h)=>{for(let d of Object.keys(e))if(d.toLowerCase()===R)return e[d];if(void 0==d)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof d||ArrayBuffer.isView(d)||(0,ee.isArrayBuffer)(d)){let e=new h;return e.update((0,y.toUint8Array)(d)),(0,g.toHex)(await e.digest())}return q};class ei{format(e){let d=[];for(let h of Object.keys(e)){let m=(0,y.fromUtf8)(h);d.push(Uint8Array.from([m.byteLength]),m,this.formatHeaderValue(e[h]))}let h=new Uint8Array(d.reduce((e,d)=>e+d.byteLength,0)),m=0;for(let e of d)h.set(e,m),m+=e.byteLength;return h}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([+!e.value]);case"byte":return Uint8Array.from([2,e.value]);case"short":let d=new DataView(new ArrayBuffer(3));return d.setUint8(0,3),d.setInt16(1,e.value,!1),new Uint8Array(d.buffer);case"integer":let h=new DataView(new ArrayBuffer(5));return h.setUint8(0,4),h.setInt32(1,e.value,!1),new Uint8Array(h.buffer);case"long":let m=new Uint8Array(9);return m[0]=5,m.set(e.value.bytes,1),m;case"binary":let b=new DataView(new ArrayBuffer(3+e.value.byteLength));b.setUint8(0,6),b.setUint16(1,e.value.byteLength,!1);let v=new Uint8Array(b.buffer);return v.set(e.value,3),v;case"string":let w=(0,y.fromUtf8)(e.value),S=new DataView(new ArrayBuffer(3+w.byteLength));S.setUint8(0,7),S.setUint16(1,w.byteLength,!1);let x=new Uint8Array(S.buffer);return x.set(w,3),x;case"timestamp":let _=new Uint8Array(9);return _[0]=8,_.set(ea.fromNumber(e.value.valueOf()).bytes,1),_;case"uuid":if(!er.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let E=new Uint8Array(17);return E[0]=9,E.set((0,g.fromHex)(e.value.replace(/\-/g,"")),1),E}}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(m||(m={}));let er=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class ea{constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let d=new Uint8Array(8);for(let h=7,m=Math.abs(Math.round(e));h>-1&&m>0;h--,m/=256)d[h]=m;return e<0&&en(d),new ea(d)}valueOf(){let e=this.bytes.slice(0),d=128&e[0];return d&&en(e),parseInt((0,g.toHex)(e),16)*(d?-1:1)}toString(){return String(this.valueOf())}}function en(e){for(let d=0;d<8;d++)e[d]^=255;for(let d=7;d>-1&&(e[d]++,0===e[d]);d--);}let es=(e,d)=>{for(let h of(e=e.toLowerCase(),Object.keys(d)))if(e===h.toLowerCase())return!0;return!1};var eo=h(96543);let el=(e,d={})=>{let{headers:h,query:m={}}=eo.HttpRequest.clone(e);for(let e of Object.keys(h)){let g=e.toLowerCase();("x-amz-"===g.slice(0,6)&&!d.unhoistableHeaders?.has(g)||d.hoistableHeaders?.has(g))&&(m[e]=h[e],delete h[e])}return{...e,headers:h,query:m}},ed=e=>{for(let d of Object.keys((e=eo.HttpRequest.clone(e)).headers))O.indexOf(d.toLowerCase())>-1&&delete e.headers[d];return e};var ec=h(43510),ep=h(9158);let eu=({query:e={}})=>{let d=[],h={};for(let m of Object.keys(e)){if(m.toLowerCase()===I)continue;let g=(0,ep.o)(m);d.push(g);let y=e[m];"string"==typeof y?h[g]=`${g}=${(0,ep.o)(y)}`:Array.isArray(y)&&(h[g]=y.slice(0).reduce((e,d)=>e.concat([`${g}=${(0,ep.o)(d)}`]),[]).sort().join("&"))}return d.sort().map(e=>h[e]).filter(e=>e).join("&")},eh=e=>em(e).toISOString().replace(/\.\d{3}Z$/,"Z"),em=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?new Date(Number(e)?1e3*Number(e):e):e;class ef{constructor({applyChecksum:e,credentials:d,region:h,service:m,sha256:g,uriEscapePath:y=!0}){this.service=m,this.sha256=g,this.uriEscapePath=y,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,ec.normalizeProvider)(h),this.credentialProvider=(0,ec.normalizeProvider)(d)}createCanonicalRequest(e,d,h){let m=Object.keys(d).sort();return`${e.method}
${this.getCanonicalPath(e)}
${eu(e)}
${m.map(e=>`${e}:${d[e]}`).join("\n")}

${m.join(";")}
${h}`}async createStringToSign(e,d,h,m){let b=new this.sha256;b.update((0,y.toUint8Array)(h));let v=await b.digest();return`${m}
${e}
${d}
${(0,g.toHex)(v)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let d=[];for(let h of e.split("/"))h?.length!==0&&"."!==h&&(".."===h?d.pop():d.push(h));let h=`${e?.startsWith("/")?"/":""}${d.join("/")}${d.length>0&&e?.endsWith("/")?"/":""}`;return(0,ep.o)(h).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(e){let d=eh(e).replace(/[\-:]/g,"");return{longDate:d,shortDate:d.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class eg extends ef{constructor({applyChecksum:e,credentials:d,region:h,service:m,sha256:g,uriEscapePath:y=!0}){super({applyChecksum:e,credentials:d,region:h,service:m,sha256:g,uriEscapePath:y}),this.headerFormatter=new ei}async presign(e,d={}){let{signingDate:h=new Date,expiresIn:m=3600,unsignableHeaders:g,unhoistableHeaders:y,signableHeaders:T,hoistableHeaders:k,signingRegion:C,signingService:P}=d,O=await this.credentialProvider();this.validateResolvedCredentials(O);let I=C??await this.regionProvider(),{longDate:R,shortDate:D}=this.formatDate(h);if(m>K)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let L=J(D,I,P??this.service),$=el(ed(e),{unhoistableHeaders:y,hoistableHeaders:k});O.sessionToken&&($.query[E]=O.sessionToken),$.query[b]=U,$.query[v]=`${O.accessKeyId}/${L}`,$.query[w]=R,$.query[x]=m.toString(10);let M=Z($,g,T);return $.query[S]=this.getCanonicalHeaderList(M),$.query[_]=await this.getSignature(R,L,this.getSigningKey(O,I,D,P),this.createCanonicalRequest($,M,await et(e,this.sha256))),$}async sign(e,d){return"string"==typeof e?this.signString(e,d):e.headers&&e.payload?this.signEvent(e,d):e.message?this.signMessage(e,d):this.signRequest(e,d)}async signEvent({headers:e,payload:d},{signingDate:h=new Date,priorSignature:m,signingRegion:y,signingService:b}){let v=y??await this.regionProvider(),{shortDate:w,longDate:S}=this.formatDate(h),x=J(w,v,b??this.service),_=await et({headers:{},body:d},this.sha256),E=new this.sha256;E.update(e);let T=[z,S,x,m,(0,g.toHex)(await E.digest()),_].join("\n");return this.signString(T,{signingDate:h,signingRegion:v,signingService:b})}async signMessage(e,{signingDate:d=new Date,signingRegion:h,signingService:m}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:d,signingRegion:h,signingService:m,priorSignature:e.priorSignature}).then(d=>({message:e.message,signature:d}))}async signString(e,{signingDate:d=new Date,signingRegion:h,signingService:m}={}){let b=await this.credentialProvider();this.validateResolvedCredentials(b);let v=h??await this.regionProvider(),{shortDate:w}=this.formatDate(d),S=new this.sha256(await this.getSigningKey(b,v,w,m));return S.update((0,y.toUint8Array)(e)),(0,g.toHex)(await S.digest())}async signRequest(e,{signingDate:d=new Date,signableHeaders:h,unsignableHeaders:m,signingRegion:g,signingService:y}={}){let b=await this.credentialProvider();this.validateResolvedCredentials(b);let v=g??await this.regionProvider(),w=ed(e),{longDate:S,shortDate:x}=this.formatDate(d),_=J(x,v,y??this.service);w.headers[C]=S,b.sessionToken&&(w.headers[D]=b.sessionToken);let E=await et(w,this.sha256);!es(R,w.headers)&&this.applyChecksum&&(w.headers[R]=E);let T=Z(w,m,h),P=await this.getSignature(S,_,this.getSigningKey(b,v,x,y),this.createCanonicalRequest(w,T,E));return w.headers[k]=`${U} Credential=${b.accessKeyId}/${_}, SignedHeaders=${this.getCanonicalHeaderList(T)}, Signature=${P}`,w}async getSignature(e,d,h,m){let b=await this.createStringToSign(e,d,m,U),v=new this.sha256(await h);return v.update((0,y.toUint8Array)(b)),(0,g.toHex)(await v.digest())}getSigningKey(e,d,h,m){return Q(this.sha256,e,h,d,m||this.service)}}let ey={SignatureV4a:null}},6703:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.sdkStreamMixin=void 0;let m=h(82436),g=h(15060),y=h(27910),b=h(53117),v="The stream has already been transformed.";d.sdkStreamMixin=e=>{var d,h;if(!(e instanceof y.Readable))try{return(0,b.sdkStreamMixin)(e)}catch(g){let m=(null==(h=null==(d=null==e?void 0:e.__proto__)?void 0:d.constructor)?void 0:h.name)||e;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${m}`)}let w=!1,S=async()=>{if(w)throw Error(v);return w=!0,await (0,m.streamCollector)(e)};return Object.assign(e,{transformToByteArray:S,transformToString:async e=>{let d=await S();return void 0===e||Buffer.isEncoding(e)?(0,g.fromArrayBuffer)(d.buffer,d.byteOffset,d.byteLength).toString(e):new TextDecoder(e).decode(d)},transformToWebStream:()=>{if(w)throw Error(v);if(null!==e.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof y.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return w=!0,y.Readable.toWeb(e)}})}},7021:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.findWidthInConsole=d.stripAnsi=void 0;let m=h(77601),g=/\x1b\[\d{1,3}(;\d{1,3})*m/g;d.stripAnsi=e=>e.replace(g,"");let y=(e,h)=>{let g=0;return e=(0,d.stripAnsi)(e),h&&Object.entries(h).forEach(([d,h])=>{let m=RegExp(d,"g");g+=(e.match(m)||[]).length*h,e=e.replace(d,"")}),g+=(0,m.wcswidth)(e)};d.findWidthInConsole=y},7286:e=>{"use strict";e.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},7468:e=>{"use strict";function d(e,d){return null!=e&&("hasOwn"in Object?Object.hasOwn(e,d):Object.prototype.hasOwnProperty.call(e,d))}function h(e,h,m,w,S,x,_,E){let T=S.length,k=T-1,C=m;var P,O,I,R,D,L=-1,$=null,M=null,B=!1,j=0,U=0,F=y();if(I=P=h[m],"object"==typeof P){for(;null!=P&&++L<T&&(U+=1,m=S[L],$=I,"*"===m||M||"object"==typeof P&&m in P);)if("*"!==m||("*"===M&&(B=!0),M=m,L===k)){if(M){let y=Object.keys(P);for(var z=0;z<y.length;z++){let T=y[z];if(D=P[T],R="*"===m,B)F=b(F,T,U),I=g(D,(j=L)-1,m,w,S,x,_,E,C,P,O,I,R,T,L,k,F,e,h[C],U+1);else if(R||"object"==typeof D&&null!==D&&m in D)if(I=R?D:D[m],O=L!==k?I:_?E?x(I,[...w,C,...S]):x(I):x,R){let d=v(b(F,T,U),I,h[C]);e.push(d),P[T]=O}else if(D[m]===O);else if(void 0===O&&void 0!==x||d(D,m)&&O===I)F=b(F,T,U);else{F=b(F,T,U);let d=v(b(F,m,U+1),I,h[C]);e.push(d),D[m]=O}}M=null}else{if(I=P[m],F=b(F,m,U),O=L!==k?I:_?E?x(I,[...w,C,...S]):x(I):x,d(P,m)&&O===I||void 0===O&&void 0!==x);else{let d=v(F,I,h[C]);e.push(d),P[m]=O}P=P[m]}if("object"!=typeof P)break}}}function m(e,d){for(var h=-1,m=d.length,g=e;null!=g&&++h<m;)g=g[d[h]];return g}function g(e,h,m,y,w,S,x,_,E,T,k,C,P,O,I,R,D,L,$,M){if(0===h&&(P||"object"==typeof e&&null!==e&&m in e))if(C=P?e:e[m],k=I!==R?C:x?_?S(C,[...y,E,...w]):S(C):S,P){let e=v(D,C,$);L.push(e),T[O]=k}else if(e[m]===k);else if(void 0===k&&void 0!==S||d(e,m)&&k===C);else{let d=v(b(D,m,M+1),C,$);L.push(d),e[m]=k}for(let d in e)"object"==typeof e[d]&&(D=b(D,d,M),g(e[d],h-1,m,y,w,S,x,_,E,T,k,C,P,O,I,R,D,L,$,M+1))}function y(){return{parent:null,key:null,children:[],depth:0}}function b(e,d,h){if(e.depth===h)return b(e.parent,d,h);var m={parent:e,key:d,depth:h,children:[]};return e.children.push(m),m}function v(e,d,h){let m=e,g=[];do g.push(m.key),m=m.parent;while(null!=m.parent);return{path:g,value:d,target:h}}e.exports={groupRedact:function e(e,d,h,g,y){let b=m(e,d);if(null==b||"string"==typeof b)return{keys:null,values:null,target:b,flat:!0};let v=Object.keys(b),w=v.length,S=d.length,x=y?[...d]:void 0,_=Array(w);for(var E=0;E<w;E++){let e=v[E];_[E]=b[e],y?(x[S]=e,b[e]=h(b[e],x)):g?b[e]=h(b[e]):b[e]=h}return{keys:v,values:_,target:b,flat:!0}},groupRestore:function e({keys:e,values:d,target:h}){if(null==h||"string"==typeof h)return;let m=e.length;for(var g=0;g<m;g++)h[e[g]]=d[g]},nestedRedact:function e(e,d,g,y,b,v,w){let S=m(d,g);if(null==S)return;let x=Object.keys(S),_=x.length;for(var E=0;E<_;E++)h(e,S,x[E],g,y,b,v,w);return e},nestedRestore:function e(e){for(let d=0;d<e.length;d++){let{target:h,path:m,value:g}=e[d],y=h;for(let e=m.length-1;e>0;e--)y=y[m[e]];y[m[0]]=g}}}},7709:(e,d,h)=>{"use strict";var m=h(11997),g=h(37279),y={TRANSITIONAL:0,NONTRANSITIONAL:1};function b(e){return e.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function v(e){for(var d=0,h=g.length-1;d<=h;){var m=Math.floor((d+h)/2),y=g[m];if(y[0][0]<=e&&y[0][1]>=e)return y;y[0][0]>e?h=m-1:d=m+1}return null}var w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function S(e){return e.replace(w,"_").length}function x(e,d,h){for(var m=!1,g="",b=S(e),w=0;w<b;++w){var x=e.codePointAt(w),_=v(x);switch(_[1]){case"disallowed":m=!0,g+=String.fromCodePoint(x);break;case"ignored":break;case"mapped":g+=String.fromCodePoint.apply(String,_[2]);break;case"deviation":h===y.TRANSITIONAL?g+=String.fromCodePoint.apply(String,_[2]):g+=String.fromCodePoint(x);break;case"valid":g+=String.fromCodePoint(x);break;case"disallowed_STD3_mapped":d?(m=!0,g+=String.fromCodePoint(x)):g+=String.fromCodePoint.apply(String,_[2]);break;case"disallowed_STD3_valid":d&&(m=!0),g+=String.fromCodePoint(x)}}return{string:g,error:m}}var _=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function E(e,d){"xn--"===e.substr(0,4)&&(e=m.toUnicode(e),d=y.NONTRANSITIONAL);var h=!1;(b(e)!==e||"-"===e[3]&&"-"===e[4]||"-"===e[0]||"-"===e[e.length-1]||-1!==e.indexOf(".")||0===e.search(_))&&(h=!0);for(var g=S(e),w=0;w<g;++w){var x=v(e.codePointAt(w));if(T===y.TRANSITIONAL&&"valid"!==x[1]||T===y.NONTRANSITIONAL&&"valid"!==x[1]&&"deviation"!==x[1]){h=!0;break}}return{label:e,error:h}}function T(e,d,h){var m=x(e,d,h);m.string=b(m.string);for(var g=m.string.split("."),y=0;y<g.length;++y)try{var v=E(g[y]);g[y]=v.label,m.error=m.error||v.error}catch(e){m.error=!0}return{string:g.join("."),error:m.error}}e.exports.toASCII=function(e,d,h,g){var y=T(e,d,h),b=y.string.split(".");if(b=b.map(function(e){try{return m.toASCII(e)}catch(d){return y.error=!0,e}}),g){var v=b.slice(0,b.length-1).join(".").length;(v.length>253||0===v.length)&&(y.error=!0);for(var w=0;w<b.length;++w)if(b.length>63||0===b.length){y.error=!0;break}}return y.error?null:b.join(".")},e.exports.toUnicode=function(e,d){var h=T(e,d,y.NONTRANSITIONAL);return{domain:h.string,error:h.error}},e.exports.PROCESSING_OPTIONS=y},7743:(e,d,h)=>{"use strict";var m;h.r(d),h.d(d,{SelectorType:()=>m,booleanSelector:()=>g,numberSelector:()=>y});let g=(e,d,h)=>{if(d in e){if("true"===e[d])return!0;if("false"===e[d])return!1;throw Error(`Cannot load ${h} "${d}". Expected "true" or "false", got ${e[d]}.`)}},y=(e,d,h)=>{if(!(d in e))return;let m=parseInt(e[d],10);if(Number.isNaN(m))throw TypeError(`Cannot load ${h} '${d}'. Expected number, got '${e[d]}'.`);return m};!function(e){e.ENV="env",e.CONFIG="shared config entry"}(m||(m={}))},7755:(e,d,h)=>{"use strict";let{normalizeIPv6:m,normalizeIPv4:g,removeDotSegments:y,recomposeAuthority:b,normalizeComponentEncoding:v}=h(1590),w=h(66091);function S(e,d){return"string"==typeof e?e=T(O(e,d),d):"object"==typeof e&&(e=O(T(e,d),d)),e}function x(e,d,h){let m=Object.assign({scheme:"null"},h);return T(_(O(e,m),O(d,m),m,!0),{...m,skipEscape:!0})}function _(e,d,h,m){let g={};return m||(e=O(T(e,h),h),d=O(T(d,h),h)),!(h=h||{}).tolerant&&d.scheme?(g.scheme=d.scheme,g.userinfo=d.userinfo,g.host=d.host,g.port=d.port,g.path=y(d.path||""),g.query=d.query):(void 0!==d.userinfo||void 0!==d.host||void 0!==d.port?(g.userinfo=d.userinfo,g.host=d.host,g.port=d.port,g.path=y(d.path||""),g.query=d.query):(d.path?("/"===d.path.charAt(0)?g.path=y(d.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?g.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+d.path:g.path=d.path:g.path="/"+d.path,g.path=y(g.path)),g.query=d.query):(g.path=e.path,void 0!==d.query?g.query=d.query:g.query=e.query),g.userinfo=e.userinfo,g.host=e.host,g.port=e.port),g.scheme=e.scheme),g.fragment=d.fragment,g}function E(e,d,h){return"string"==typeof e?e=T(v(O(e=unescape(e),h),!0),{...h,skipEscape:!0}):"object"==typeof e&&(e=T(v(e,!0),{...h,skipEscape:!0})),"string"==typeof d?d=T(v(O(d=unescape(d),h),!0),{...h,skipEscape:!0}):"object"==typeof d&&(d=T(v(d,!0),{...h,skipEscape:!0})),e.toLowerCase()===d.toLowerCase()}function T(e,d){let h={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},m=Object.assign({},d),g=[],v=w[(m.scheme||h.scheme||"").toLowerCase()];v&&v.serialize&&v.serialize(h,m),void 0!==h.path&&(m.skipEscape?h.path=unescape(h.path):(h.path=escape(h.path),void 0!==h.scheme&&(h.path=h.path.split("%3A").join(":")))),"suffix"!==m.reference&&h.scheme&&g.push(h.scheme,":");let S=b(h);if(void 0!==S&&("suffix"!==m.reference&&g.push("//"),g.push(S),h.path&&"/"!==h.path.charAt(0)&&g.push("/")),void 0!==h.path){let e=h.path;m.absolutePath||v&&v.absolutePath||(e=y(e)),void 0===S&&(e=e.replace(/^\/\//u,"/%2F")),g.push(e)}return void 0!==h.query&&g.push("?",h.query),void 0!==h.fragment&&g.push("#",h.fragment),g.join("")}let k=Array.from({length:127},(e,d)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(d)));function C(e){let d=0;for(let h=0,m=e.length;h<m;++h)if((d=e.charCodeAt(h))>126||k[d])return!0;return!1}let P=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function O(e,d){let h=Object.assign({},d),y={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},b=-1!==e.indexOf("%"),v=!1;"suffix"===h.reference&&(e=(h.scheme?h.scheme+":":"")+"//"+e);let S=e.match(P);if(S){if(y.scheme=S[1],y.userinfo=S[3],y.host=S[4],y.port=parseInt(S[5],10),y.path=S[6]||"",y.query=S[7],y.fragment=S[8],isNaN(y.port)&&(y.port=S[5]),y.host){let e=g(y.host);if(!1===e.isIPV4){let d=m(e.host);y.host=d.host.toLowerCase(),v=d.isIPV6}else y.host=e.host,v=!0}void 0!==y.scheme||void 0!==y.userinfo||void 0!==y.host||void 0!==y.port||void 0!==y.query||y.path?void 0===y.scheme?y.reference="relative":void 0===y.fragment?y.reference="absolute":y.reference="uri":y.reference="same-document",h.reference&&"suffix"!==h.reference&&h.reference!==y.reference&&(y.error=y.error||"URI is not a "+h.reference+" reference.");let e=w[(h.scheme||y.scheme||"").toLowerCase()];if(!h.unicodeSupport&&(!e||!e.unicodeSupport)&&y.host&&(h.domainHost||e&&e.domainHost)&&!1===v&&C(y.host))try{y.host=URL.domainToASCII(y.host.toLowerCase())}catch(e){y.error=y.error||"Host's domain name can not be converted to ASCII: "+e}(!e||e&&!e.skipNormalize)&&(b&&void 0!==y.scheme&&(y.scheme=unescape(y.scheme)),b&&void 0!==y.host&&(y.host=unescape(y.host)),y.path&&(y.path=escape(unescape(y.path))),y.fragment&&(y.fragment=encodeURI(decodeURIComponent(y.fragment)))),e&&e.parse&&e.parse(y,h)}else y.error=y.error||"URI can not be parsed.";return y}let I={SCHEMES:w,normalize:S,resolve:x,resolveComponents:_,equal:E,serialize:T,parse:O};e.exports=I,e.exports.default=I,e.exports.fastUri=I},7910:(e,d,h)=>{"use strict";let m=h(90473);class g extends m{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}e.exports=g},7977:(e,d,h)=>{"use strict";h.d(d,{I:()=>g,w:()=>m});let m={warningEmitted:!1},g=e=>{e&&!m.warningEmitted&&18>parseInt(e.substring(1,e.indexOf(".")))&&(m.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}},8190:(e,d,h)=>{"use strict";h.d(d,{p:()=>g});var m=h(37182);let g=(e,d,h)=>{let g=[{name:"version",type:"group",fields:d.fields,...h&&{flattenedFields:d.flattenedFields}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return d?.versions?.drafts&&(e.localization&&(g.push(m.FU),g.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:e.localization.locales.map(e=>"string"==typeof e?e:e.code)})),g.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),d?.versions?.drafts?.autosave&&g.push({name:"autosave",type:"checkbox",index:!0})),g}},8370:(e,d,h)=>{"use strict";let m=h(90029),g=h(31088),y=h(53286),b=h(34645),v=h(82760),w=h(67633),S=h(53987),x=h(6),_=h(1479),E=h(97140),T=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),k=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),C=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null,P=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),O=!1;e.exports.createTransport=function(e,d){let h,_;return("object"==typeof e&&"function"!=typeof e.send||"string"==typeof e&&/^(smtps?|direct):/i.test(e))&&(e=(_=(h="string"==typeof e?e:e.url)?g.parseConnectionUrl(h):e).pool?new y(_):_.sendmail?new v(_):_.streamTransport?new w(_):_.jsonTransport?new S(_):_.SES?new x(_):new b(_)),new m(e,_,d)},e.exports.createTestAccount=function(e,d){let h;if(d||"function"!=typeof e||(d=e,e=!1),d||(h=new Promise((e,h)=>{d=g.callbackPromise(e,h)})),P&&O)return setImmediate(()=>d(null,O)),h;e=e||T;let m=[],y=0,b={},v={requestor:E.name,version:E.version};C&&(b.Authorization="Bearer "+C);let w=_(e+"/user",{contentType:"application/json",method:"POST",headers:b,body:Buffer.from(JSON.stringify(v))});return w.on("readable",()=>{let e;for(;null!==(e=w.read());)m.push(e),y+=e.length}),w.once("error",e=>d(e)),w.once("end",()=>{let e,h,g=Buffer.concat(m,y);try{e=JSON.parse(g.toString())}catch(e){h=e}return h?d(h):"success"!==e.status||e.error?d(Error(e.error||"Request failed")):void(delete e.status,d(null,O=e))}),h},e.exports.getTestMessageUrl=function(e){if(!e||!e.response)return!1;let d=new Map;return e.response.replace(/\[([^\]]+)\]$/,(e,h)=>{h.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(e,h,m)=>{d.set(h,m)})}),!!(d.has("STATUS")&&d.has("MSGID"))&&(O.web||k)+"/message/"+d.get("MSGID")}},8409:(e,d,h)=>{"use strict";h.d(d,{m:()=>E});var m=h(57650),g=h(72321),y=h(45886);let b=(e,d)=>"function"==typeof e?e({i18n:d,t:d.t}):"object"==typeof e?(0,y.sC)(e,d):e;var v=h(74290),w=h(86292),S=h(21808);function x(e,d){let h=d.charAt(0).toUpperCase()+d.slice(1);return e&&h?`${e} > ${h}`:h||e}let _=async({id:e,blockData:d,collection:h,context:y,data:_,doc:T,docWithLocales:k,errors:C,field:P,fieldIndex:O,fieldLabelPath:I,global:R,mergeLocaleActions:D,operation:L,overrideAccess:$,parentIndexPath:M,parentIsLocalized:B,parentPath:j,parentSchemaPath:U,req:F,siblingData:z,siblingDoc:q,siblingDocWithLocales:V,siblingFields:H,skipValidation:K})=>{let{indexPath:G,path:W,schemaPath:J}=(0,w.I)({field:P,index:O,parentIndexPath:M,parentPath:j,parentSchemaPath:U}),{localization:Q}=F.payload.config,Y=Q?Q?.defaultLocale:"en",X=F.locale||Y,Z=W?W.split("."):[],ee=J?J.split("."):[],et=G?G.split("-").filter(Boolean)?.map(Number):[],ei=!P.admin?.condition||!!P.admin.condition(_,z,{blockData:d,operation:L,path:Z,user:F.user}),er=K||!ei;if((0,v.Z7)(P)){if((0,v.Cd)({field:P,parentIsLocalized:B})&&X!==Y&&["array","blocks"].includes(P.type)&&null===z[P.name]&&(er=!0),P.hooks?.beforeChange)for(let e of P.hooks.beforeChange){let m=await e({blockData:d,collection:h,context:y,data:_,field:P,global:R,indexPath:et,operation:L,originalDoc:T,path:Z,previousSiblingDoc:q,previousValue:q[P.name],req:F,schemaPath:ee,siblingData:z,siblingDocWithLocales:V,siblingFields:H,value:z[P.name]});void 0!==m&&(z[P.name]=m)}if(!er&&"validate"in P&&P.validate){let m,y=z[P.name];if("json"===P.type&&"string"==typeof z[P.name])try{JSON.parse(z[P.name])}catch(e){m=e}let v=P.validate,w=await v(y,{...P,id:e,blockData:d,collectionSlug:h?.slug,data:(0,g.AG)(T,_),event:"submit",jsonError:m,operation:L,overrideAccess:$,path:Z,preferences:{fields:{}},previousValue:q[P.name],req:F,siblingData:(0,g.AG)(q,z)});if("string"==typeof w){let e=x(I,b(P?.label||P?.name,F.i18n));C.push({label:e,message:w,path:W})}}Q&&(0,v.Cd)({field:P,parentIsLocalized:B})&&D.push(()=>{let e={};for(let d of Q.localeCodes){let h=d===F.locale?z[P.name]:V?.[P.name]?.[d];void 0!==h&&(e[d]=h)}Object.keys(e).length>0&&(z[P.name]=e)})}switch(P.type){case"array":{let m=z[P.name];if(Array.isArray(m)){let g=[];m.forEach((m,v)=>{g.push(E({id:e,blockData:d,collection:h,context:y,data:_,doc:T,docWithLocales:k,errors:C,fieldLabelPath:P?.label===!1?I:x(I,`${b(P?.label||P?.name,F.i18n)} ${v+1}`),fields:P.fields,global:R,mergeLocaleActions:D,operation:L,overrideAccess:$,parentIndexPath:"",parentIsLocalized:B||P.localized,parentPath:W+"."+v,parentSchemaPath:J,req:F,siblingData:m,siblingDoc:(0,S.G)(m,q[P.name]),siblingDocWithLocales:(0,S.G)(m,V[P.name]),skipValidation:er}))}),await Promise.all(g)}break}case"blocks":{let d=z[P.name];if(Array.isArray(d)){let m=[];d.forEach((d,g)=>{let v=(0,S.G)(d,q[P.name]),w=(0,S.G)(d,V?V[P.name]:{}),O=d.blockType||v.blockType,M=F.payload.blocks[O]??(P.blockReferences??P.blocks).find(e=>"string"!=typeof e&&e.slug===O);M&&m.push(E({id:e,blockData:d,collection:h,context:y,data:_,doc:T,docWithLocales:k,errors:C,fieldLabelPath:P?.label===!1?I:x(I,`${b(P?.label||P?.name,F.i18n)} ${g+1}`),fields:M.fields,global:R,mergeLocaleActions:D,operation:L,overrideAccess:$,parentIndexPath:"",parentIsLocalized:B||P.localized,parentPath:W+"."+g,parentSchemaPath:J+"."+M.slug,req:F,siblingData:d,siblingDoc:v,siblingDocWithLocales:w,skipValidation:er}))}),await Promise.all(m)}break}case"collapsible":case"row":await E({id:e,blockData:d,collection:h,context:y,data:_,doc:T,docWithLocales:k,errors:C,fieldLabelPath:"row"===P.type||P?.label===!1?I:x(I,b(P?.label||P?.type,F.i18n)),fields:P.fields,global:R,mergeLocaleActions:D,operation:L,overrideAccess:$,parentIndexPath:G,parentIsLocalized:B,parentPath:j,parentSchemaPath:J,req:F,siblingData:z,siblingDoc:q,siblingDocWithLocales:V,skipValidation:er});break;case"group":{let m=z,g=q,w=V,S=(0,v.Z7)(P);S&&("object"!=typeof z[P.name]&&(z[P.name]={}),"object"!=typeof q[P.name]&&(q[P.name]={}),"object"!=typeof V[P.name]&&(V[P.name]={}),"object"!=typeof z[P.name]&&(z[P.name]={}),"object"!=typeof q[P.name]&&(q[P.name]={}),"object"!=typeof V[P.name]&&(V[P.name]={}),m=z[P.name],g=q[P.name],w=V[P.name]);let O=P?.label||(S?P.name:P?.type);await E({id:e,blockData:d,collection:h,context:y,data:_,doc:T,docWithLocales:k,errors:C,fieldLabelPath:P?.label===!1?I:x(I,b(O,F.i18n)),fields:P.fields,global:R,mergeLocaleActions:D,operation:L,overrideAccess:$,parentIndexPath:S?"":G,parentIsLocalized:B||P.localized,parentPath:S?W:j,parentSchemaPath:J,req:F,siblingData:m,siblingDoc:g,siblingDocWithLocales:w,skipValidation:er});break}case"point":Array.isArray(z[P.name])&&null!==z[P.name][0]&&null!==z[P.name][1]&&(z[P.name]={type:"Point",coordinates:[parseFloat(z[P.name][0]),parseFloat(z[P.name][1])]});break;case"richText":{if(!P?.editor)throw new m.X(P);if("function"==typeof P?.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=P?.editor;if(e?.hooks?.beforeChange?.length)for(let d of e.hooks.beforeChange){let e=await d({collection:h,context:y,data:_,docWithLocales:k,errors:C,field:P,fieldLabelPath:P?.label===!1?I:x(I,b(P?.label||P?.name,F.i18n)),global:R,indexPath:et,mergeLocaleActions:D,operation:L,originalDoc:T,overrideAccess:$,parentIsLocalized:B,path:Z,previousSiblingDoc:q,previousValue:q[P.name],req:F,schemaPath:ee,siblingData:z,siblingDocWithLocales:V,skipValidation:K,value:z[P.name]});void 0!==e&&(z[P.name]=e)}break}case"tab":{let m=z,g=q,w=V,S=(0,v.pz)(P);S&&("object"!=typeof z[P.name]&&(z[P.name]={}),"object"!=typeof q[P.name]&&(q[P.name]={}),"object"!=typeof V[P.name]&&(V[P.name]={}),m=z[P.name],g=q[P.name],w=V[P.name]),await E({id:e,blockData:d,collection:h,context:y,data:_,doc:T,docWithLocales:k,errors:C,fieldLabelPath:P?.label===!1?I:x(I,b(P?.label||P?.name,F.i18n)),fields:P.fields,global:R,mergeLocaleActions:D,operation:L,overrideAccess:$,parentIndexPath:S?"":G,parentIsLocalized:B||P.localized,parentPath:S?W:j,parentSchemaPath:J,req:F,siblingData:m,siblingDoc:g,siblingDocWithLocales:w,skipValidation:er});break}case"tabs":await E({id:e,blockData:d,collection:h,context:y,data:_,doc:T,docWithLocales:k,errors:C,fieldLabelPath:P?.label===!1?I:x(I,b(P?.label||"",F.i18n)),fields:P.tabs.map(e=>({...e,type:"tab"})),global:R,mergeLocaleActions:D,operation:L,overrideAccess:$,parentIndexPath:G,parentIsLocalized:B,parentPath:W,parentSchemaPath:J,req:F,siblingData:z,siblingDoc:q,siblingDocWithLocales:V,skipValidation:er})}},E=async({id:e,blockData:d,collection:h,context:m,data:g,doc:y,docWithLocales:b,errors:v,fieldLabelPath:w,fields:S,global:x,mergeLocaleActions:E,operation:T,overrideAccess:k,parentIndexPath:C,parentIsLocalized:P,parentPath:O,parentSchemaPath:I,req:R,siblingData:D,siblingDoc:L,siblingDocWithLocales:$,skipValidation:M})=>{let B=[];S.forEach((j,U)=>{B.push(_({id:e,blockData:d,collection:h,context:m,data:g,doc:y,docWithLocales:b,errors:v,field:j,fieldIndex:U,fieldLabelPath:w,global:x,mergeLocaleActions:E,operation:T,overrideAccess:k,parentIndexPath:C,parentIsLocalized:P,parentPath:O,parentSchemaPath:I,req:R,siblingData:D,siblingDoc:L,siblingDocWithLocales:$,siblingFields:S,skipValidation:M}))}),await Promise.all(B)}},8453:(e,d,h)=>{let m=h(52838),g=h(60646),{cursor:y,erase:b}=h(41893),{style:v,figures:w,clear:S,lines:x}=h(31347),_=/[0-9]/,E=e=>void 0!==e,T=(e,d)=>{let h=Math.pow(10,d);return Math.round(e*h)/h};class k extends g{constructor(e={}){super(e),this.transform=v.render(e.style),this.msg=e.message,this.initial=E(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=E(e.min)?e.min:-1/0,this.max=E(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${T(e,this.round)}`),this._value=T(e,this.round)):(this.placeholder=!0,this.rendered=m.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return"-"===e||"."===e&&this.float||_.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=""!==e?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=""!==e?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(0===e.length)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,d){if(!this.valid(e))return this.bell();let h=Date.now();if(h-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=h,this.color="cyan","."===e)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(y.down(x(this.outputError,this.out.columns)-1)+S(this.outputError,this.out.columns)),this.out.write(S(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[v.symbol(this.done,this.aborted),m.bold(this.msg),v.delimiter(this.done),!this.done||!this.done&&!this.placeholder?m[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,d,h)=>e+`
${h?" ":w.pointerSmall} ${m.red().italic(d)}`,"")),this.out.write(b.line+y.to(0)+this.outputText+y.save+this.outputError+y.restore))}}e.exports=k},8620:(e,d,h)=>{"use strict";let m=h(93424),g={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,d){return d},attributeValueProcessor:function(e,d){return d},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:RegExp("&","g"),val:"&amp;"},{regex:RegExp(">","g"),val:"&gt;"},{regex:RegExp("<","g"),val:"&lt;"},{regex:RegExp("'","g"),val:"&apos;"},{regex:RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function y(e){this.options=Object.assign({},g,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=w),this.processTextOrObjNode=b,this.options.format?(this.indentate=v,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function b(e,d,h){let m=this.j2x(e,h+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],d,m.attrStr,h):this.buildObjectNode(m.val,d,m.attrStr,h)}function v(e){return this.options.indentBy.repeat(e)}function w(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName&&e.substr(this.attrPrefixLen)}y.prototype.build=function(e){return this.options.preserveOrder?m(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},y.prototype.j2x=function(e,d){let h="",m="";for(let g in e)if(Object.prototype.hasOwnProperty.call(e,g))if(void 0===e[g])this.isAttribute(g)&&(m+="");else if(null===e[g])this.isAttribute(g)?m+="":"?"===g[0]?m+=this.indentate(d)+"<"+g+"?"+this.tagEndChar:m+=this.indentate(d)+"<"+g+"/"+this.tagEndChar;else if(e[g]instanceof Date)m+=this.buildTextValNode(e[g],g,"",d);else if("object"!=typeof e[g]){let y=this.isAttribute(g);if(y)h+=this.buildAttrPairStr(y,""+e[g]);else if(g===this.options.textNodeName){let d=this.options.tagValueProcessor(g,""+e[g]);m+=this.replaceEntitiesValue(d)}else m+=this.buildTextValNode(e[g],g,"",d)}else if(Array.isArray(e[g])){let h=e[g].length,y="",b="";for(let v=0;v<h;v++){let h=e[g][v];if(void 0===h);else if(null===h)"?"===g[0]?m+=this.indentate(d)+"<"+g+"?"+this.tagEndChar:m+=this.indentate(d)+"<"+g+"/"+this.tagEndChar;else if("object"==typeof h)if(this.options.oneListGroup){let e=this.j2x(h,d+1);y+=e.val,this.options.attributesGroupName&&h.hasOwnProperty(this.options.attributesGroupName)&&(b+=e.attrStr)}else y+=this.processTextOrObjNode(h,g,d);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(g,h);y+=e=this.replaceEntitiesValue(e)}else y+=this.buildTextValNode(h,g,"",d)}this.options.oneListGroup&&(y=this.buildObjectNode(y,g,b,d)),m+=y}else if(this.options.attributesGroupName&&g===this.options.attributesGroupName){let d=Object.keys(e[g]),m=d.length;for(let y=0;y<m;y++)h+=this.buildAttrPairStr(d[y],""+e[g][d[y]])}else m+=this.processTextOrObjNode(e[g],g,d);return{attrStr:h,val:m}},y.prototype.buildAttrPairStr=function(e,d){return(d=this.options.attributeValueProcessor(e,""+d),d=this.replaceEntitiesValue(d),this.options.suppressBooleanAttributes&&"true"===d)?" "+e:" "+e+'="'+d+'"'},y.prototype.buildObjectNode=function(e,d,h,m){if(""===e)if("?"===d[0])return this.indentate(m)+"<"+d+h+"?"+this.tagEndChar;else return this.indentate(m)+"<"+d+h+this.closeTag(d)+this.tagEndChar;{let g="</"+d+this.tagEndChar,y="";return("?"===d[0]&&(y="?",g=""),(h||""===h)&&-1===e.indexOf("<"))?this.indentate(m)+"<"+d+h+y+">"+e+g:!1!==this.options.commentPropName&&d===this.options.commentPropName&&0===y.length?this.indentate(m)+`<!--${e}-->`+this.newLine:this.indentate(m)+"<"+d+h+y+this.tagEndChar+e+this.indentate(m)+g}},y.prototype.closeTag=function(e){let d="";return -1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(d="/"):d=this.options.suppressEmptyNode?"/":`></${e}`,d},y.prototype.buildTextValNode=function(e,d,h,m){if(!1!==this.options.cdataPropName&&d===this.options.cdataPropName)return this.indentate(m)+`<![CDATA[${e}]]>`+this.newLine;{if(!1!==this.options.commentPropName&&d===this.options.commentPropName)return this.indentate(m)+`<!--${e}-->`+this.newLine;if("?"===d[0])return this.indentate(m)+"<"+d+h+"?"+this.tagEndChar;let g=this.options.tagValueProcessor(d,e);return""===(g=this.replaceEntitiesValue(g))?this.indentate(m)+"<"+d+h+this.closeTag(d)+this.tagEndChar:this.indentate(m)+"<"+d+h+">"+g+"</"+d+this.tagEndChar}},y.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let d=0;d<this.options.entities.length;d++){let h=this.options.entities[d];e=e.replace(h.regex,h.val)}return e},e.exports=y},8840:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.toBase64=void 0;let m=h(15060),g=h(69713);d.toBase64=e=>{let d;if("object"!=typeof(d="string"==typeof e?(0,g.fromUtf8)(e):e)||"number"!=typeof d.byteOffset||"number"!=typeof d.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,m.fromArrayBuffer)(d.buffer,d.byteOffset,d.byteLength).toString("base64")}},8891:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{EndpointCache:()=>_,EndpointError:()=>R,customEndpointFunctions:()=>P,isIpAddress:()=>T,isValidHostLabel:()=>C,resolveEndpoint:()=>er}),e.exports=S(x);var _=class{constructor({size:e,params:d}){this.data=new Map,this.parameters=[],this.capacity=e??50,d&&(this.parameters=d)}static{v(this,"EndpointCache")}get(e,d){let h=this.hash(e);if(!1===h)return d();if(!this.data.has(h)){if(this.data.size>this.capacity+10){let e=this.data.keys(),d=0;for(;;){let{value:h,done:m}=e.next();if(this.data.delete(h),m||++d>10)break}}this.data.set(h,d())}return this.data.get(h)}size(){return this.data.size}hash(e){let d="",{parameters:h}=this;if(0===h.length)return!1;for(let m of h){let h=String(e[m]??"");if(h.includes("|;"))return!1;d+=h+"|;"}return d}},E=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),T=v(e=>E.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),k=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),C=v((e,d=!1)=>{if(!d)return k.test(e);for(let d of e.split("."))if(!C(d))return!1;return!0},"isValidHostLabel"),P={},O="endpoints";function I(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${I(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(I).join(", ")})`:JSON.stringify(e,null,2)}v(I,"toDebugString");var R=class extends Error{static{v(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},D=v((e,d)=>e===d,"booleanEquals"),L=v(e=>{let d=e.split("."),h=[];for(let m of d){let d=m.indexOf("[");if(-1!==d){if(m.indexOf("]")!==m.length-1)throw new R(`Path: '${e}' does not end with ']'`);let g=m.slice(d+1,-1);if(Number.isNaN(parseInt(g)))throw new R(`Invalid array index: '${g}' in path: '${e}'`);0!==d&&h.push(m.slice(0,d)),h.push(g)}else h.push(m)}return h},"getAttrPathList"),$=v((e,d)=>L(d).reduce((h,m)=>{if("object"!=typeof h)throw new R(`Index '${m}' in '${d}' not found in '${JSON.stringify(e)}'`);return Array.isArray(h)?h[parseInt(m)]:h[m]},e),"getAttr"),M=v(e=>null!=e,"isSet"),B=v(e=>!e,"not"),j=h(38755),U={[j.EndpointURLScheme.HTTP]:80,[j.EndpointURLScheme.HTTPS]:443},F=v(e=>{let d=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){let{hostname:d,port:h,protocol:m="",path:g="",query:y={}}=e,b=new URL(`${m}//${d}${h?`:${h}`:""}${g}`);return b.search=Object.entries(y).map(([e,d])=>`${e}=${d}`).join("&"),b}return new URL(e)}catch(e){return null}})();if(!d)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let h=d.href,{host:m,hostname:g,pathname:y,protocol:b,search:v}=d;if(v)return null;let w=b.slice(0,-1);if(!Object.values(j.EndpointURLScheme).includes(w))return null;let S=T(g),x=h.includes(`${m}:${U[w]}`)||"string"==typeof e&&e.includes(`${m}:${U[w]}`),_=`${m}${x?`:${U[w]}`:""}`;return{scheme:w,authority:_,path:y,normalizedPath:y.endsWith("/")?y:`${y}/`,isIp:S}},"parseURL"),z={booleanEquals:D,getAttr:$,isSet:M,isValidHostLabel:C,not:B,parseURL:F,stringEquals:v((e,d)=>e===d,"stringEquals"),substring:v((e,d,h,m)=>d>=h||e.length<h?null:m?e.substring(e.length-h,e.length-d):e.substring(d,h),"substring"),uriEncode:v(e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode")},q=v((e,d)=>{let h=[],m={...d.endpointParams,...d.referenceRecord},g=0;for(;g<e.length;){let d=e.indexOf("{",g);if(-1===d){h.push(e.slice(g));break}h.push(e.slice(g,d));let y=e.indexOf("}",d);if(-1===y){h.push(e.slice(d));break}"{"===e[d+1]&&"}"===e[y+1]&&(h.push(e.slice(d+1,y)),g=y+2);let b=e.substring(d+1,y);if(b.includes("#")){let[e,d]=b.split("#");h.push($(m[e],d))}else h.push(m[b]);g=y+1}return h.join("")},"evaluateTemplate"),V=v(({ref:e},d)=>({...d.endpointParams,...d.referenceRecord})[e],"getReferenceValue"),H=v((e,d,h)=>{if("string"==typeof e)return q(e,h);if(e.fn)return K(e,h);if(e.ref)return V(e,h);throw new R(`'${d}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),K=v(({fn:e,argv:d},h)=>{let m=d.map(e=>["boolean","number"].includes(typeof e)?e:H(e,"arg",h)),g=e.split(".");return g[0]in P&&null!=g[1]?P[g[0]][g[1]](...m):z[e](...m)},"callFunction"),G=v(({assign:e,...d},h)=>{if(e&&e in h.referenceRecord)throw new R(`'${e}' is already defined in Reference Record.`);let m=K(d,h);return h.logger?.debug?.(`${O} evaluateCondition: ${I(d)} = ${I(m)}`),{result:""===m||!!m,...null!=e&&{toAssign:{name:e,value:m}}}},"evaluateCondition"),W=v((e=[],d)=>{let h={};for(let m of e){let{result:e,toAssign:g}=G(m,{...d,referenceRecord:{...d.referenceRecord,...h}});if(!e)return{result:e};g&&(h[g.name]=g.value,d.logger?.debug?.(`${O} assign: ${g.name} := ${I(g.value)}`))}return{result:!0,referenceRecord:h}},"evaluateConditions"),J=v((e,d)=>Object.entries(e).reduce((e,[h,m])=>({...e,[h]:m.map(e=>{let m=H(e,"Header value entry",d);if("string"!=typeof m)throw new R(`Header '${h}' value '${m}' is not a string`);return m})}),{}),"getEndpointHeaders"),Q=v((e,d)=>{if(Array.isArray(e))return e.map(e=>Q(e,d));switch(typeof e){case"string":return q(e,d);case"object":if(null===e)throw new R(`Unexpected endpoint property: ${e}`);return Y(e,d);case"boolean":return e;default:throw new R(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),Y=v((e,d)=>Object.entries(e).reduce((e,[h,m])=>({...e,[h]:Q(m,d)}),{}),"getEndpointProperties"),X=v((e,d)=>{let h=H(e,"Endpoint URL",d);if("string"==typeof h)try{return new URL(h)}catch(e){throw console.error(`Failed to construct URL with ${h}`,e),e}throw new R(`Endpoint URL must be a string, got ${typeof h}`)},"getEndpointUrl"),Z=v((e,d)=>{let{conditions:h,endpoint:m}=e,{result:g,referenceRecord:y}=W(h,d);if(!g)return;let b={...d,referenceRecord:{...d.referenceRecord,...y}},{url:v,properties:w,headers:S}=m;return d.logger?.debug?.(`${O} Resolving endpoint from template: ${I(m)}`),{...void 0!=S&&{headers:J(S,b)},...void 0!=w&&{properties:Y(w,b)},url:X(v,b)}},"evaluateEndpointRule"),ee=v((e,d)=>{let{conditions:h,error:m}=e,{result:g,referenceRecord:y}=W(h,d);if(g)throw new R(H(m,"Error",{...d,referenceRecord:{...d.referenceRecord,...y}}))},"evaluateErrorRule"),et=v((e,d)=>{let{conditions:h,rules:m}=e,{result:g,referenceRecord:y}=W(h,d);if(g)return ei(m,{...d,referenceRecord:{...d.referenceRecord,...y}})},"evaluateTreeRule"),ei=v((e,d)=>{for(let h of e)if("endpoint"===h.type){let e=Z(h,d);if(e)return e}else if("error"===h.type)ee(h,d);else if("tree"===h.type){let e=et(h,d);if(e)return e}else throw new R(`Unknown endpoint rule: ${h}`);throw new R("Rules evaluation failed")},"evaluateRules"),er=v((e,d)=>{let{endpointParams:h,logger:m}=d,{parameters:g,rules:y}=e;d.logger?.debug?.(`${O} Initial EndpointParams: ${I(h)}`);let b=Object.entries(g).filter(([,e])=>null!=e.default).map(([e,d])=>[e,d.default]);if(b.length>0)for(let[e,d]of b)h[e]=h[e]??d;for(let e of Object.entries(g).filter(([,e])=>e.required).map(([e])=>e))if(null==h[e])throw new R(`Missing required parameter: '${e}'`);let v=ei(y,{endpointParams:h,logger:m,referenceRecord:{}});return d.logger?.debug?.(`${O} Resolved endpoint: ${I(v)}`),v},"resolveEndpoint")},8953:(e,d,h)=>{"use strict";let m=h(90473);class g extends m{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=g},8984:(e,d,h)=>{"use strict";e.exports={action:h(42004),clear:h(6325),style:h(61505),strip:h(78518),figures:h(98481),lines:h(67255),wrap:h(51362),entriesToDisplay:h(65495)}},9046:e=>{e.exports=h;var d=Object.prototype.hasOwnProperty;function h(e){for(var h=1;h<arguments.length;h++){var m=arguments[h];for(var g in m)d.call(m,g)&&(e[g]=m[g])}return e}},9085:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.CloudflareSocket=void 0;let m=h(94735);class g extends m.EventEmitter{constructor(e){super(),this.ssl=e,this.writable=!1,this.destroyed=!1,this._upgrading=!1,this._upgraded=!1,this._cfSocket=null,this._cfWriter=null,this._cfReader=null}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}async connect(e,d,h){try{v("connecting"),h&&this.once("connect",h);let m=this.ssl?{secureTransport:"starttls"}:{},g=(await Promise.resolve().then(function(){var e=Error("Cannot find module 'cloudflare:sockets'");throw e.code="MODULE_NOT_FOUND",e})).connect;return this._cfSocket=g(`${d}:${e}`,m),this._cfWriter=this._cfSocket.writable.getWriter(),this._addClosedHandler(),this._cfReader=this._cfSocket.readable.getReader(),this.ssl?this._listenOnce().catch(e=>this.emit("error",e)):this._listen().catch(e=>this.emit("error",e)),await this._cfWriter.ready,v("socket ready"),this.writable=!0,this.emit("connect"),this}catch(e){this.emit("error",e)}}async _listen(){for(;;){v("awaiting receive from CF socket");let{done:e,value:d}=await this._cfReader.read();if(v("CF socket received:",e,d),e){v("done");break}this.emit("data",Buffer.from(d))}}async _listenOnce(){v("awaiting first receive from CF socket");let{done:e,value:d}=await this._cfReader.read();v("First CF socket received:",e,d),this.emit("data",Buffer.from(d))}write(e,d="utf8",h=()=>{}){return 0===e.length?h():("string"==typeof e&&(e=Buffer.from(e,d)),v("sending data direct:",e),this._cfWriter.write(e).then(()=>{v("data sent"),h()},e=>{v("send error",e),h(e)}),!0)}end(e=Buffer.alloc(0),d="utf8",h=()=>{}){return v("ending CF socket"),this.write(e,d,e=>{this._cfSocket.close(),h&&h(e)}),this}destroy(e){return v("destroying CF socket",e),this.destroyed=!0,this.end()}startTls(e){if(this._upgraded)return void this.emit("error","Cannot call `startTls()` more than once on a socket");this._cfWriter.releaseLock(),this._cfReader.releaseLock(),this._upgrading=!0,this._cfSocket=this._cfSocket.startTls(e),this._cfWriter=this._cfSocket.writable.getWriter(),this._cfReader=this._cfSocket.readable.getReader(),this._addClosedHandler(),this._listen().catch(e=>this.emit("error",e))}_addClosedHandler(){this._cfSocket.closed.then(()=>{this._upgrading?(this._upgrading=!1,this._upgraded=!0):(v("CF socket closed"),this._cfSocket=null,this.emit("close"))}).catch(e=>this.emit("error",e))}}d.CloudflareSocket=g;let y=!1;function b(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))return e;{let d=Buffer.from(e).toString("hex"),h=new TextDecoder().decode(e);return`
>>> STR: "${h.replace(/\n/g,"\\n")}"
>>> HEX: ${d}
`}}function v(...e){y&&console.log(...e.map(b))}},9158:(e,d,h)=>{"use strict";h.d(d,{o:()=>m});let m=e=>encodeURIComponent(e).replace(/[!'()*]/g,g),g=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},9242:(e,d,h)=>{"use strict";h.r(d),h.d(d,{EndpointError:()=>m.EndpointError,awsEndpointFunctions:()=>C,getUserAgentPrefix:()=>k,isIpAddress:()=>m.isIpAddress,partition:()=>_,resolveEndpoint:()=>m.resolveEndpoint,setPartitionInfo:()=>E,useDefaultPartitionInfo:()=>T});var m=h(50672);let g=(e,d=!1)=>{if(d){for(let d of e.split("."))if(!g(d))return!1;return!0}return!(!(0,m.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,m.isIpAddress)(e))},y=":",b="/",v=e=>{let d=e.split(y);if(d.length<6)return null;let[h,m,g,v,w,...S]=d;return"arn"!==h||""===m||""===g||""===S.join(y)?null:{partition:m,service:g,region:v,accountId:w,resourceId:S.map(e=>e.split(b)).flat()}},w=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"AWS ISOF global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"amazonaws.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}}],"version":"1.1"}'),S=w,x="",_=e=>{let{partitions:d}=S;for(let h of d){let{regions:d,outputs:m}=h;for(let[h,g]of Object.entries(d))if(h===e)return{...m,...g}}for(let h of d){let{regionRegex:d,outputs:m}=h;if(new RegExp(d).test(e))return{...m}}let h=d.find(e=>"aws"===e.id);if(!h)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...h.outputs}},E=(e,d="")=>{S=e,x=d},T=()=>{E(w,"")},k=()=>x,C={isVirtualHostableS3Bucket:g,parseArn:v,partition:_};m.customEndpointFunctions.aws=C},9430:(e,d,h)=>{"use strict";e.exports=x;let{messageWithCauses:m,stackWithCauses:g,isErrorLike:y}=h(23202),{pinoErrProto:b,pinoErrorSymbols:v}=h(56277),{seen:w}=v,{toString:S}=Object.prototype;function x(e){if(!y(e))return e;e[w]=void 0;let d=Object.create(b);for(let h in d.type="[object Function]"===S.call(e.constructor)?e.constructor.name:e.name,d.message=m(e),d.stack=g(e),Array.isArray(e.errors)&&(d.aggregateErrors=e.errors.map(e=>x(e))),e)if(void 0===d[h]){let m=e[h];y(m)?"cause"===h||Object.prototype.hasOwnProperty.call(m,w)||(d[h]=x(m)):d[h]=m}return delete e[w],d.raw=e,d}},9593:(e,d,h)=>{"use strict";h.d(d,{J:()=>m});let m=e=>{let d=new Map,h=e.get("Cookie");return h&&h.split(";").forEach(e=>{let h=e.split("="),m=h.shift().trim(),g=h.join("=");try{let e=decodeURI(g);d.set(m,e)}catch{}}),d}},9828:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046);d.default={data:new m.Name("data"),valCxt:new m.Name("valCxt"),instancePath:new m.Name("instancePath"),parentData:new m.Name("parentData"),parentDataProperty:new m.Name("parentDataProperty"),rootData:new m.Name("rootData"),dynamicAnchors:new m.Name("dynamicAnchors"),vErrors:new m.Name("vErrors"),errors:new m.Name("errors"),this:new m.Name("this"),self:new m.Name("self"),scope:new m.Name("scope"),json:new m.Name("json"),jsonPos:new m.Name("jsonPos"),jsonLen:new m.Name("jsonLen"),jsonPart:new m.Name("jsonPart")}},9858:(e,d,h)=>{"use strict";let m,g,y,b,v;h.d(d,{T1:()=>kJ});var w,S,x,_,E,T,k,C=h(8370),P=h(98979);let O=async e=>{let{defaultFromAddress:d,defaultFromName:h,transport:m}=await I(e);return()=>({name:"nodemailer",defaultFromAddress:d,defaultFromName:h,sendEmail:async e=>await m.sendMail({from:`${h} <${d}>`,...e})})};async function I(e){let d;if(!e){let d=await D(e);if(!d)throw new P.s("Unable to create Nodemailer test account.");return{defaultFromAddress:"info@payloadcms.com",defaultFromName:"Payload",transport:d}}return"transport"in e&&e.transport?{transport:d}=e:d="transportOptions"in e&&e.transportOptions?C.createTransport(e.transportOptions):await D(e),e.skipVerify||await R(d),{defaultFromAddress:e.defaultFromAddress,defaultFromName:e.defaultFromName,transport:d}}async function R(e){try{await e.verify()}catch(e){console.error({err:e,msg:"Error verifying Nodemailer transport."})}}async function D(e){try{let d=await C.createTestAccount(),h={...e||{},auth:{pass:d.pass,user:d.user},fromAddress:e?.defaultFromAddress,fromName:e?.defaultFromName,host:"smtp.ethereal.email",port:587,secure:!1},m=C.createTransport(h),{pass:g,user:y,web:b}=d;return console.info("E-mail configured with ethereal.email test account. "),console.info(`Log into mock email provider at ${b}`),console.info(`Mock email account username: ${y}`),console.info(`Mock email account password: ${g}`),m}catch(e){if(e instanceof Error)throw console.error({err:e,msg:"There was a problem setting up the mock email handler"}),new P.s(`Unable to create Nodemailer test account. Error: ${e.message}`);throw new P.s("Unable to create Nodemailer test account.")}}let L=async e=>{if("true"!==process.env.PAYLOAD_CLOUD||!e)return;if(!e.apiKey)throw Error("apiKey must be provided to use Payload Cloud Email");if(!e.defaultDomain)throw Error("defaultDomain must be provided to use Payload Cloud Email");if(e.config.email)return console.log("Payload Cloud Email is enabled but email configuration is already provided in Payload config. If this is intentional, set `email: false` in the Payload Cloud plugin options."),e.config.email;let{apiKey:d,defaultDomain:h,skipVerify:m}=e,g=Object.keys(process.env).filter(e=>e.startsWith("PAYLOAD_CLOUD_EMAIL_DOMAIN_")&&!e.endsWith("API_KEY")).map(e=>process.env[e]).filter(Boolean);g.length&&console.log(`Configuring Payload Cloud Email for ${[h,...g||[]].join(", ")}`);let y=e.defaultFromName||"Payload CMS",b=e.defaultFromAddress||`cms@${g.length?g[0]:h}`;return await O({defaultFromAddress:b,defaultFromName:y,skipVerify:m,transport:C.createTransport({auth:{pass:d,user:"resend"},host:"smtp.resend.com",port:465,secure:!0})})},$=({collection:e,filename:d,identityID:h})=>`${h}/${process.env.PAYLOAD_CLOUD_ENVIRONMENT}/${e}/${d}`;var M=h(34572),B=h(20811),j=h(25100),U=h(56820),F=h(61858);let z=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),q={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var V=h(25902),H=h(52417),K=h(55324),G=h(1668);class W extends B.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,W.prototype)}}class J extends W{name="NoSuchUpload";$fault="client";constructor(e){super({name:"NoSuchUpload",$fault:"client",...e}),Object.setPrototypeOf(this,J.prototype)}}let Q={CRC32:"CRC32"};class Y extends W{name="ObjectNotInActiveTierError";$fault="client";constructor(e){super({name:"ObjectNotInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,Y.prototype)}}class X extends W{name="BucketAlreadyExists";$fault="client";constructor(e){super({name:"BucketAlreadyExists",$fault:"client",...e}),Object.setPrototypeOf(this,X.prototype)}}class Z extends W{name="BucketAlreadyOwnedByYou";$fault="client";constructor(e){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...e}),Object.setPrototypeOf(this,Z.prototype)}}class ee extends W{name="NoSuchBucket";$fault="client";constructor(e){super({name:"NoSuchBucket",$fault:"client",...e}),Object.setPrototypeOf(this,ee.prototype)}}!function(e){e.visit=(e,d)=>void 0!==e.Prefix?d.Prefix(e.Prefix):void 0!==e.Tag?d.Tag(e.Tag):void 0!==e.And?d.And(e.And):d._(e.$unknown[0],e.$unknown[1])}(w||(w={})),function(e){e.visit=(e,d)=>void 0!==e.Prefix?d.Prefix(e.Prefix):void 0!==e.Tag?d.Tag(e.Tag):void 0!==e.AccessPointArn?d.AccessPointArn(e.AccessPointArn):void 0!==e.And?d.And(e.And):d._(e.$unknown[0],e.$unknown[1])}(S||(S={}));class et extends W{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(e){super({name:"InvalidObjectState",$fault:"client",...e}),Object.setPrototypeOf(this,et.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}}class ei extends W{name="NoSuchKey";$fault="client";constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),Object.setPrototypeOf(this,ei.prototype)}}class er extends W{name="NotFound";$fault="client";constructor(e){super({name:"NotFound",$fault:"client",...e}),Object.setPrototypeOf(this,er.prototype)}}let ea=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING}}),en=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING}}),es=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING}}),eo=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:B.SENSITIVE_STRING}}),el=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING}}),ed=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING}}),ec=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:B.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:B.SENSITIVE_STRING}}),ep=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING},...e.Credentials&&{Credentials:ec(e.Credentials)}}),eu=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING}}),eh=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:B.SENSITIVE_STRING}}),em=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:eh(e.ApplyServerSideEncryptionByDefault)}}),ef=e=>({...e,...e.Rules&&{Rules:e.Rules.map(e=>em(e))}}),eg=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:ef(e.ServerSideEncryptionConfiguration)}}),ey=e=>({...e,...e.KeyId&&{KeyId:B.SENSITIVE_STRING}}),eb=e=>({...e,...e.SSEKMS&&{SSEKMS:ey(e.SSEKMS)}}),ev=e=>({...e,...e.Encryption&&{Encryption:eb(e.Encryption)}}),ew=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:ev(e.S3BucketDestination)}}),eS=e=>({...e,...e.Destination&&{Destination:ew(e.Destination)}}),ex=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:eS(e.InventoryConfiguration)}}),e_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING}}),eE=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING}}),eT=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING}}),ek=e=>({...e}),eC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING}}),eA=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING}}),eP=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(e=>eS(e))}}),eN=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING}});class eO extends W{name="EncryptionTypeMismatch";$fault="client";constructor(e){super({name:"EncryptionTypeMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,eO.prototype)}}class eI extends W{name="InvalidRequest";$fault="client";constructor(e){super({name:"InvalidRequest",$fault:"client",...e}),Object.setPrototypeOf(this,eI.prototype)}}class eR extends W{name="InvalidWriteOffset";$fault="client";constructor(e){super({name:"InvalidWriteOffset",$fault:"client",...e}),Object.setPrototypeOf(this,eR.prototype)}}class eD extends W{name="TooManyParts";$fault="client";constructor(e){super({name:"TooManyParts",$fault:"client",...e}),Object.setPrototypeOf(this,eD.prototype)}}class eL extends W{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(e){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,eL.prototype)}}!function(e){e.visit=(e,d)=>void 0!==e.Records?d.Records(e.Records):void 0!==e.Stats?d.Stats(e.Stats):void 0!==e.Progress?d.Progress(e.Progress):void 0!==e.Cont?d.Cont(e.Cont):void 0!==e.End?d.End(e.End):d._(e.$unknown[0],e.$unknown[1])}(x||(x={}));let e$=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:ef(e.ServerSideEncryptionConfiguration)}}),eM=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:eS(e.InventoryConfiguration)}}),eB=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING}}),ej=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:B.SENSITIVE_STRING}}),eU=e=>({...e,...e.KMSKeyId&&{KMSKeyId:B.SENSITIVE_STRING}}),eF=e=>({...e,...e.Encryption&&{Encryption:eU(e.Encryption)}}),ez=e=>({...e,...e.S3&&{S3:eF(e.S3)}}),eq=e=>({...e,...e.OutputLocation&&{OutputLocation:ez(e.OutputLocation)}}),eV=e=>({...e,...e.RestoreRequest&&{RestoreRequest:eq(e.RestoreRequest)}}),eH=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),eK=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING}}),eG=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING}}),eW=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING}}),eJ=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING}}),eQ=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:B.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:B.SENSITIVE_STRING}}),eY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:B.SENSITIVE_STRING}}),eX=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj],[bB]:[()=>(0,B.isSerializableHeaderValue)(e[pF]),()=>(0,B.dateToUtcString)(e[pF]).toString()]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"AbortMultipartUpload"],[yb]:[,(0,B.expectNonNull)(e[f2],"UploadId")]});return m.m("DELETE").h(g).q(y).b(h),m.build()},eZ=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[yj]:e[dj],[yU]:e[dU],[yF]:e[dF],[yV]:e[d5],[yH]:e[d8],[y4]:e[cc],[bV]:[()=>(0,B.isSerializableHeaderValue)(e[uG]),()=>e[uG].toString()],[b6]:e[mb],[y5]:e[cj],[gR]:e[pU],[g$]:e[pH],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl]});g.bp("/{Key+}"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1),g.p("Key",()=>e.Key,"{Key+}",!0);let b=(0,B.map)({[yb]:[,(0,B.expectNonNull)(e[f2],"UploadId")]});return void 0!==e.MultipartUpload&&(m=(m=aN(e.MultipartUpload,d)).n("CompleteMultipartUpload"),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("POST").h(y).q(b).b(h),g.build()},e1=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{...void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((d,h)=>(d[`x-amz-meta-${h.toLowerCase()}`]=e.Metadata[h],d),{}),[yC]:e[lH],[gf]:e[dB],[yB]:e[dL],[gg]:e[dz],[gy]:e[dV],[gb]:e[dG],[gx]:e[cp],[yK]:e[d3],[yG]:e[d9],[yW]:[()=>(0,B.isSerializableHeaderValue)(e[d7]),()=>(0,B.dateToUtcString)(e[d7]).toString()],[yJ]:e[ce],[yQ]:[()=>(0,B.isSerializableHeaderValue)(e[ct]),()=>(0,B.dateToUtcString)(e[ct]).toString()],[gk]:[()=>(0,B.isSerializableHeaderValue)(e[c$]),()=>(0,B.dateToUtcString)(e[c$]).toString()],[bR]:e[pf],[bD]:e[py],[bL]:e[pb],[bM]:e[pw],[bz]:e[u$],[vp]:e[fR],[vi]:e[fi],[b9]:e[mG],[vf]:e[gs],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[vr]:e[fp],[vn]:e[fc],[va]:[()=>(0,B.isSerializableHeaderValue)(e[dy]),()=>e[dy].toString()],[yZ]:e[cr],[y1]:e[ca],[y0]:e[cn],[b6]:e[mb],[vd]:e[fT],[bJ]:e[h_],[bQ]:[()=>(0,B.isSerializableHeaderValue)(e[hk]),()=>(0,B.serializeDateTime)(e[hk]).toString()],[bW]:e[hx],[y5]:e[cj],[vt]:e[cY]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"CopyObject"]});return m.m("PUT").h(g).q(y).b(h),m.build()},e0=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[yC]:e[lH],[bR]:e[pf],[bD]:e[py],[bL]:e[pb],[b$]:e[pv],[bM]:e[pw],[yL]:[()=>(0,B.isSerializableHeaderValue)(e[hw]),()=>e[hw].toString()],[bY]:e[hA]});return g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1),void 0!==e.CreateBucketConfiguration&&(m=aM(e.CreateBucketConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).b(h),g.build()},e2=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gG]:[,""]});return void 0!==e.MetadataTableConfiguration&&(m=ny(e.MetadataTableConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("POST").h(y).q(b).b(h),g.build()},e4=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{...void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((d,h)=>(d[`x-amz-meta-${h.toLowerCase()}`]=e.Metadata[h],d),{}),[yC]:e[lH],[gf]:e[dB],[gg]:e[dz],[gy]:e[dV],[gb]:e[dG],[gx]:e[cp],[gk]:[()=>(0,B.isSerializableHeaderValue)(e[c$]),()=>(0,B.dateToUtcString)(e[c$]).toString()],[bR]:e[pf],[bD]:e[py],[bL]:e[pb],[bM]:e[pw],[vi]:e[fi],[b9]:e[mG],[vf]:e[gs],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[vr]:e[fp],[vn]:e[fc],[va]:[()=>(0,B.isSerializableHeaderValue)(e[dy]),()=>e[dy].toString()],[b6]:e[mb],[vd]:e[fT],[bJ]:e[h_],[bQ]:[()=>(0,B.isSerializableHeaderValue)(e[hk]),()=>(0,B.serializeDateTime)(e[hk]).toString()],[bW]:e[hx],[y5]:e[cj],[yB]:e[dL],[y4]:e[cc]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[yy]:[,""]});return m.m("POST").h(g).q(y).b(h),m.build()},e6=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[yY]:e[m3],[vi]:e[fi],[vr]:e[fp],[vn]:e[fc],[va]:[()=>(0,B.isSerializableHeaderValue)(e[dy]),()=>e[dy].toString()]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yp]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},e3=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});return m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.m("DELETE").h(g).b(h),m.build()},e5=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gl]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("DELETE").h(g).q(y).b(h),m.build()},e8=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gm]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},e9=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gC]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},e7=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g={};m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gM]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("DELETE").h(g).q(y).b(h),m.build()},te=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gL]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("DELETE").h(g).q(y).b(h),m.build()},tt=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gU]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},ti=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gG]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},tr=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gK]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("DELETE").h(g).q(y).b(h),m.build()},ta=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g2]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},tn=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g6]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},ts=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[ye]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},to=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yf]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},tl=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yT]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},td=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[bF]:e[uF],[b6]:e[mb],[yI]:[()=>(0,B.isSerializableHeaderValue)(e[df]),()=>e[df].toString()],[y5]:e[cj],[gR]:e[pU],[bj]:[()=>(0,B.isSerializableHeaderValue)(e[pz]),()=>(0,B.dateToUtcString)(e[pz]).toString()],[bU]:[()=>(0,B.isSerializableHeaderValue)(e[pq]),()=>e[pq].toString()]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"DeleteObject"],[yS]:[,e[ge]]});return m.m("DELETE").h(g).q(y).b(h),m.build()},tc=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[bF]:e[uF],[b6]:e[mb],[yI]:[()=>(0,B.isSerializableHeaderValue)(e[df]),()=>e[df].toString()],[y5]:e[cj],[b7]:e[dL]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gE]:[,""]});return void 0!==e.Delete&&(m=aF(e.Delete,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("POST").h(y).q(b).b(h),g.build()},tp=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[yf]:[,""],[yS]:[,e[ge]]});return m.m("DELETE").h(g).q(y).b(h),m.build()},tu=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g3]:[,""]});return m.m("DELETE").h(g).q(y).b(h),m.build()},th=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj],[b6]:e[mb]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gd]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tm=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gc]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tf=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gl]:[,""],[vg]:[,"GetBucketAnalyticsConfiguration"],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("GET").h(g).q(y).b(h),m.build()},tg=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gm]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},ty=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gC]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tb=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g={};m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gM]:[,""],[vg]:[,"GetBucketIntelligentTieringConfiguration"],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("GET").h(g).q(y).b(h),m.build()},tv=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gL]:[,""],[vg]:[,"GetBucketInventoryConfiguration"],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("GET").h(g).q(y).b(h),m.build()},tw=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gU]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tS=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gq]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tx=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gV]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},t_=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gG]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tE=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gK]:[,""],[vg]:[,"GetBucketMetricsConfiguration"],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return m.m("GET").h(g).q(y).b(h),m.build()},tT=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g0]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tk=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g2]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tC=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g6]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tA=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g8]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tP=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[ye]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tN=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yt]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tO=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yf]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tI=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yw]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tR=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yT]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tD=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[gR]:e[pU],[gD]:[()=>(0,B.isSerializableHeaderValue)(e[pV]),()=>(0,B.dateToUtcString)(e[pV]).toString()],[g$]:e[pH],[gB]:[()=>(0,B.isSerializableHeaderValue)(e[p7]),()=>(0,B.dateToUtcString)(e[p7]).toString()],[yi]:e[me],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[b6]:e[mb],[y5]:e[cj],[yz]:e[dJ]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"GetObject"],[yr]:[,e[mr]],[ya]:[,e[ma]],[yn]:[,e[mn]],[ys]:[,e[ms]],[yo]:[,e[mo]],[yl]:[()=>void 0!==e.ResponseExpires,()=>(0,B.dateToUtcString)(e[mc]).toString()],[yS]:[,e[ge]],[g5]:[()=>void 0!==e.PartNumber,()=>e[hK].toString()]});return m.m("GET").h(g).q(y).b(h),m.build()},tL=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[gc]:[,""],[yS]:[,e[ge]]});return m.m("GET").h(g).q(y).b(h),m.build()},t$=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[bH]:[()=>(0,B.isSerializableHeaderValue)(e[uW]),()=>e[uW].toString()],[b1]:e[hG],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[b6]:e[mb],[y5]:e[cj],[bG]:[()=>(0,B.isSerializableHeaderValue)(e[hc]),()=>(e[hc]||[]).map(B.quoteHeader).join(", ")]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[gu]:[,""],[yS]:[,e[ge]]});return m.m("GET").h(g).q(y).b(h),m.build()},tM=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[gF]:[,""],[yS]:[,e[ge]]});return m.m("GET").h(g).q(y).b(h),m.build()},tB=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g4]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tj=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[yc]:[,""],[yS]:[,e[ge]]});return m.m("GET").h(g).q(y).b(h),m.build()},tU=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj],[b6]:e[mb]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[yf]:[,""],[yS]:[,e[ge]]});return m.m("GET").h(g).q(y).b(h),m.build()},tF=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[yg]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tz=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g3]:[,""]});return m.m("GET").h(g).q(y).b(h),m.build()},tq=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});return m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.m("HEAD").h(g).b(h),m.build()},tV=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[gR]:e[pU],[gD]:[()=>(0,B.isSerializableHeaderValue)(e[pV]),()=>(0,B.dateToUtcString)(e[pV]).toString()],[g$]:e[pH],[gB]:[()=>(0,B.isSerializableHeaderValue)(e[p7]),()=>(0,B.dateToUtcString)(e[p7]).toString()],[yi]:e[me],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[b6]:e[mb],[y5]:e[cj],[yz]:e[dJ]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[yr]:[,e[mr]],[ya]:[,e[ma]],[yn]:[,e[mn]],[ys]:[,e[ms]],[yo]:[,e[mo]],[yl]:[()=>void 0!==e.ResponseExpires,()=>(0,B.dateToUtcString)(e[mc]).toString()],[yS]:[,e[ge]],[g5]:[()=>void 0!==e.PartNumber,()=>e[hK].toString()]});return m.m("HEAD").h(g).q(y).b(h),m.build()},tH=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gl]:[,""],[vg]:[,"ListBucketAnalyticsConfigurations"],[g_]:[,e[ch]]});return m.m("GET").h(g).q(y).b(h),m.build()},tK=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g={};m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gM]:[,""],[vg]:[,"ListBucketIntelligentTieringConfigurations"],[g_]:[,e[ch]]});return m.m("GET").h(g).q(y).b(h),m.build()},tG=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gL]:[,""],[vg]:[,"ListBucketInventoryConfigurations"],[g_]:[,e[ch]]});return m.m("GET").h(g).q(y).b(h),m.build()},tW=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gK]:[,""],[vg]:[,"ListBucketMetricsConfigurations"],[g_]:[,e[ch]]});return m.m("GET").h(g).q(y).b(h),m.build()},tJ=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g={};m.bp("/");let y=(0,B.map)({[vg]:[,"ListBuckets"],[gJ]:[()=>void 0!==e.MaxBuckets,()=>e[uR].toString()],[g_]:[,e[ch]],[g7]:[,e[hF]],[gh]:[,e[dA]]});return m.m("GET").h(g).q(y).b(h),m.build()},tQ=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g={};m.bp("/");let y=(0,B.map)({[vg]:[,"ListDirectoryBuckets"],[g_]:[,e[ch]],[gQ]:[()=>void 0!==e.MaxDirectoryBuckets,()=>e[uM].toString()]});return m.m("GET").h(g).q(y).b(h),m.build()},tY=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj],[b6]:e[mb]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[yy]:[,""],[gT]:[,e[cv]],[gA]:[,e[cZ]],[gj]:[,e[ud]],[g1]:[()=>void 0!==e.MaxUploads,()=>e[uX].toString()],[g7]:[,e[hF]],[yv]:[,e[f4]]});return m.m("GET").h(g).q(y).b(h),m.build()},tX=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj],[bX]:[()=>(0,B.isSerializableHeaderValue)(e[hP]),()=>(e[hP]||[]).map(B.quoteHeader).join(", ")]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gT]:[,e[cv]],[gA]:[,e[cZ]],[gW]:[,e[uN]],[gX]:[()=>void 0!==e.MaxKeys,()=>e[uV].toString()],[g7]:[,e[hF]]});return m.m("GET").h(g).q(y).b(h),m.build()},tZ=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj],[bX]:[()=>(0,B.isSerializableHeaderValue)(e[hP]),()=>(e[hP]||[]).map(B.quoteHeader).join(", ")]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[gH]:[,"2"],[gT]:[,e[cv]],[gA]:[,e[cZ]],[gX]:[()=>void 0!==e.MaxKeys,()=>e[uV].toString()],[g7]:[,e[hF]],[g_]:[,e[ch]],[gO]:[()=>void 0!==e.FetchOwner,()=>e[ps].toString()],[yu]:[,e[mV]]});return m.m("GET").h(g).q(y).b(h),m.build()},t1=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[y5]:e[cj],[b6]:e[mb],[bX]:[()=>(0,B.isSerializableHeaderValue)(e[hP]),()=>(e[hP]||[]).map(B.quoteHeader).join(", ")]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[y_]:[,""],[gT]:[,e[cv]],[gA]:[,e[cZ]],[gj]:[,e[ud]],[gX]:[()=>void 0!==e.MaxKeys,()=>e[uV].toString()],[g7]:[,e[hF]],[yE]:[,e[gt]]});return m.m("GET").h(g).q(y).b(h),m.build()},t0=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[b6]:e[mb],[y5]:e[cj],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"ListParts"],[gZ]:[()=>void 0!==e.MaxParts,()=>e[uW].toString()],[g9]:[,e[hG]],[yb]:[,(0,B.expectNonNull)(e[f2],"UploadId")]});return m.m("GET").h(g).q(y).b(h),m.build()},t2=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[y5]:e[cj],[b7]:e[dL]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gd]:[,""]});return void 0!==e.AccelerateConfiguration&&(m=ag(e.AccelerateConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},t4=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[yC]:e[lH],[gw]:e[dQ],[b7]:e[dL],[bR]:e[pf],[bD]:e[py],[bL]:e[pb],[b$]:e[pv],[bM]:e[pw],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gc]:[,""]});return void 0!==e.AccessControlPolicy&&(m=ay(e.AccessControlPolicy,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},t6=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gl]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return void 0!==e.AnalyticsConfiguration&&(m=a_(e.AnalyticsConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},t3=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gm]:[,""]});return void 0!==e.CORSConfiguration&&(m=aD(e.CORSConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},t5=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gC]:[,""]});return void 0!==e.ServerSideEncryptionConfiguration&&(m=st(e.ServerSideEncryptionConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},t8=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y={"content-type":"application/xml"};g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gM]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return void 0!==e.IntelligentTieringConfiguration&&(m=a5(e.IntelligentTieringConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},t9=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gL]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return void 0!==e.InventoryConfiguration&&(m=a9(e.InventoryConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},t7=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[b7]:e[dL],[y5]:e[cj],[vu]:e[fD]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gU]:[,""]});return void 0!==e.LifecycleConfiguration&&(m=(m=aA(e.LifecycleConfiguration,d)).n("LifecycleConfiguration"),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ie=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gV]:[,""]});return void 0!==e.BucketLoggingStatus&&(m=aP(e.BucketLoggingStatus,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},it=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[gK]:[,""],[gI]:[,(0,B.expectNonNull)(e[pk],"Id")]});return void 0!==e.MetricsConfiguration&&(m=nw(e.MetricsConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ii=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[y5]:e[cj],[ve]:[()=>(0,B.isSerializableHeaderValue)(e[mX]),()=>e[mX].toString()]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[g0]:[,""]});return void 0!==e.NotificationConfiguration&&(m=nT(e.NotificationConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ir=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[y5]:e[cj],[b7]:e[dL]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[g2]:[,""]});return void 0!==e.OwnershipControls&&(m=n$(e.OwnershipControls,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ia=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"text/plain",[gw]:e[dQ],[b7]:e[dL],[yq]:[()=>(0,B.isSerializableHeaderValue)(e[d6]),()=>e[d6].toString()],[y5]:e[cj]});m.bp("/"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let y=(0,B.map)({[g6]:[,""]});return void 0!==e.Policy&&(h=e.Policy),m.m("PUT").h(g).q(y).b(h),m.build()},is=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y$]:e[fQ],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[ye]:[,""]});return void 0!==e.ReplicationConfiguration&&(m=nG(e.ReplicationConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},io=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[yt]:[,""]});return void 0!==e.RequestPaymentConfiguration&&(m=n1(e.RequestPaymentConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},il=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[yf]:[,""]});return void 0!==e.Tagging&&(m=su(e.Tagging,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},id=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[bF]:e[uF],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[yw]:[,""]});return void 0!==e.VersioningConfiguration&&(m=sE(e.VersioningConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ic=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[yT]:[,""]});return void 0!==e.WebsiteConfiguration&&(m=sT(e.WebsiteConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ip=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{...void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((d,h)=>(d[`x-amz-meta-${h.toLowerCase()}`]=e.Metadata[h],d),{}),[gx]:e[cp]||"application/octet-stream",[yC]:e[lH],[gf]:e[dB],[gg]:e[dz],[gy]:e[dV],[gb]:e[dG],[gv]:[()=>(0,B.isSerializableHeaderValue)(e[dW]),()=>e[dW].toString()],[gw]:e[dQ],[b7]:e[dL],[yj]:e[dj],[yU]:e[dU],[yF]:e[dF],[yV]:e[d5],[yH]:e[d8],[gk]:[()=>(0,B.isSerializableHeaderValue)(e[c$]),()=>(0,B.dateToUtcString)(e[c$]).toString()],[gR]:e[pU],[g$]:e[pH],[bR]:e[pf],[bD]:e[py],[bL]:e[pb],[bM]:e[pw],[vm]:[()=>(0,B.isSerializableHeaderValue)(e[gn]),()=>e[gn].toString()],[vi]:e[fi],[b9]:e[mG],[vf]:e[gs],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[vr]:e[fp],[vn]:e[fc],[va]:[()=>(0,B.isSerializableHeaderValue)(e[dy]),()=>e[dy].toString()],[b6]:e[mb],[vd]:e[fT],[bJ]:e[h_],[bQ]:[()=>(0,B.isSerializableHeaderValue)(e[hk]),()=>(0,B.serializeDateTime)(e[hk]).toString()],[bW]:e[hx],[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"PutObject"]});return void 0!==e.Body&&(h=e.Body),m.m("PUT").h(g).q(y).b(h),m.build()},iu=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[yC]:e[lH],[gw]:e[dQ],[b7]:e[dL],[bR]:e[pf],[bD]:e[py],[bL]:e[pb],[b$]:e[pv],[bM]:e[pw],[b6]:e[mb],[y5]:e[cj]});g.bp("/{Key+}"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1),g.p("Key",()=>e.Key,"{Key+}",!0);let b=(0,B.map)({[gc]:[,""],[yS]:[,e[ge]]});return void 0!==e.AccessControlPolicy&&(m=ay(e.AccessControlPolicy,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ih=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[b6]:e[mb],[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/{Key+}"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1),g.p("Key",()=>e.Key,"{Key+}",!0);let b=(0,B.map)({[gF]:[,""],[yS]:[,e[ge]]});return void 0!==e.LegalHold&&(m=(m=nN(e.LegalHold,d)).n("LegalHold"),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},im=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[b6]:e[mb],[y$]:e[fQ],[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[g4]:[,""]});return void 0!==e.ObjectLockConfiguration&&(m=nP(e.ObjectLockConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ig=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[b6]:e[mb],[yI]:[()=>(0,B.isSerializableHeaderValue)(e[df]),()=>e[df].toString()],[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/{Key+}"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1),g.p("Key",()=>e.Key,"{Key+}",!0);let b=(0,B.map)({[yc]:[,""],[yS]:[,e[ge]]});return void 0!==e.Retention&&(m=(m=nO(e.Retention,d)).n("Retention"),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},iy=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj],[b6]:e[mb]});g.bp("/{Key+}"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1),g.p("Key",()=>e.Key,"{Key+}",!0);let b=(0,B.map)({[yf]:[,""],[yS]:[,e[ge]]});return void 0!==e.Tagging&&(m=su(e.Tagging,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},ib=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[gw]:e[dQ],[b7]:e[dL],[y5]:e[cj]});g.bp("/"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let b=(0,B.map)({[g3]:[,""]});return void 0!==e.PublicAccessBlockConfiguration&&(m=nF(e.PublicAccessBlockConfiguration,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("PUT").h(y).q(b).b(h),g.build()},iv=async(e,d)=>{let h,m,g=(0,K.requestBuilder)(e,d),y=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[b6]:e[mb],[b7]:e[dL],[y5]:e[cj]});g.bp("/{Key+}"),g.p("Bucket",()=>e.Bucket,"{Bucket}",!1),g.p("Key",()=>e.Key,"{Key+}",!0);let b=(0,B.map)({[yd]:[,""],[yS]:[,e[ge]]});return void 0!==e.RestoreRequest&&(m=n2(e.RestoreRequest,d),h=yx,m.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),h+=m.toString()),g.m("POST").h(y).q(b).b(h),g.build()},iw=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/xml",[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[yh]:[,""],[ym]:[,"2"]});h=yx;let b=new H.XmlNode(m5);return b.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),b.cc(e,pt),b.cc(e,c4),null!=e[pY]&&b.c(a6(e[pY],d).n(pY)),null!=e[hI]&&b.c(nD(e[hI],d).n(hI)),null!=e[mS]&&b.c(n0(e[mS],d).n(mS)),null!=e[m7]&&b.c(n9(e[m7],d).n(m7)),h+=b.toString(),m.m("POST").h(g).q(y).b(h),m.build()},iS=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{"content-type":"application/octet-stream",[gv]:[()=>(0,B.isSerializableHeaderValue)(e[dW]),()=>e[dW].toString()],[gw]:e[dQ],[b7]:e[dL],[yj]:e[dj],[yU]:e[dU],[yF]:e[dF],[yV]:e[d5],[yH]:e[d8],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[b6]:e[mb],[y5]:e[cj]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"UploadPart"],[g5]:[null!=(0,B.expectNonNull)(e.PartNumber,"PartNumber"),()=>e[hK].toString()],[yb]:[,(0,B.expectNonNull)(e[f2],"UploadId")]});return void 0!==e.Body&&(h=e.Body),m.m("PUT").h(g).q(y).b(h),m.build()},ix=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{[yK]:e[d3],[yG]:e[d9],[yW]:[()=>(0,B.isSerializableHeaderValue)(e[d7]),()=>(0,B.dateToUtcString)(e[d7]).toString()],[yJ]:e[ce],[yQ]:[()=>(0,B.isSerializableHeaderValue)(e[ct]),()=>(0,B.dateToUtcString)(e[ct]).toString()],[yX]:e[ci],[vs]:e[fs],[vo]:e[fo],[vl]:e[fl],[yZ]:e[cr],[y1]:e[ca],[y0]:e[cn],[b6]:e[mb],[y5]:e[cj],[vt]:e[cY]});m.bp("/{Key+}"),m.p("Bucket",()=>e.Bucket,"{Bucket}",!1),m.p("Key",()=>e.Key,"{Key+}",!0);let y=(0,B.map)({[vg]:[,"UploadPartCopy"],[g5]:[null!=(0,B.expectNonNull)(e.PartNumber,"PartNumber"),()=>e[hK].toString()],[yb]:[,(0,B.expectNonNull)(e[f2],"UploadId")]});return m.m("PUT").h(g).q(y).b(h),m.build()},i_=async(e,d)=>{let h,m=(0,K.requestBuilder)(e,d),g=(0,B.map)({},B.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((d,h)=>(d[`x-amz-meta-${h.toLowerCase()}`]=e.Metadata[h],d),{}),"content-type":"application/octet-stream",[b3]:e[mx],[b8]:e[mR],[bI]:[()=>(0,B.isSerializableHeaderValue)(e[mY]),()=>e[mY].toString()],[y8]:e[cU],[y9]:e[cH],[y7]:e[dr],[be]:e[dB],[bt]:e[dz],[bi]:e[dV],[br]:e[dG],[gv]:[()=>(0,B.isSerializableHeaderValue)(e[dW]),()=>e[dW].toString()],[ba]:e[d4],[bn]:e[cp],[bd]:e[dj],[bc]:e[dU],[bp]:e[dF],[bu]:e[d5],[bh]:e[d8],[bm]:[()=>(0,B.isSerializableHeaderValue)(e[cx]),()=>e[cx].toString()],[bs]:e[c1],[bo]:[()=>(0,B.isSerializableHeaderValue)(e[c$]),()=>(0,B.dateToUtcString)(e[c$]).toString()],[bf]:e[pi],[bl]:[()=>(0,B.isSerializableHeaderValue)(e[ux]),()=>(0,B.dateToUtcString)(e[ux]).toString()],[bg]:[()=>(0,B.isSerializableHeaderValue)(e[uK]),()=>e[uK].toString()],[bv]:e[h_],[bb]:e[hx],[bw]:[()=>(0,B.isSerializableHeaderValue)(e[hk]),()=>(0,B.serializeDateTime)(e[hk]).toString()],[by]:[()=>(0,B.isSerializableHeaderValue)(e[hq]),()=>e[hq].toString()],[b_]:e[mO],[bx]:e[mi],[bS]:e[mB],[bT]:e[fi],[bA]:e[fs],[bk]:e[fp],[bP]:e[fl],[bE]:e[mG],[bN]:[()=>(0,B.isSerializableHeaderValue)(e[fN]),()=>e[fN].toString()],[bO]:e[ge],[bC]:[()=>(0,B.isSerializableHeaderValue)(e[dy]),()=>e[dy].toString()]});m.bp("/WriteGetObjectResponse"),void 0!==e.Body&&(h=e.Body);let{hostname:y}=await d.endpoint();if(!0!==d.disableHostPrefix){if(y="{RequestRoute}."+y,void 0===e.RequestRoute)throw Error("Empty value provided for input host prefix: RequestRoute.");if(y=y.replace("{RequestRoute}",e.RequestRoute),!(0,G.isValidHostname)(y))throw Error("ValidationError: prefixed hostname must be hostname compatible.")}return m.hn(y),m.m("POST").h(g).b(h),m.build()},iE=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},iT=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[pi]:[,e.headers[y3]],[fi]:[,e.headers[vi]],[ge]:[,e.headers[vh]],[fp]:[,e.headers[vr]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[du]&&(h[du]=(0,B.expectString)(m[du])),null!=m[dj]&&(h[dj]=(0,B.expectString)(m[dj])),null!=m[dU]&&(h[dU]=(0,B.expectString)(m[dU])),null!=m[dF]&&(h[dF]=(0,B.expectString)(m[dF])),null!=m[d5]&&(h[d5]=(0,B.expectString)(m[d5])),null!=m[d8]&&(h[d8]=(0,B.expectString)(m[d8])),null!=m[cc]&&(h[cc]=(0,B.expectString)(m[cc])),null!=m[c1]&&(h[c1]=(0,B.expectString)(m[c1])),null!=m[us]&&(h[us]=(0,B.expectString)(m[us])),null!=m[um]&&(h[um]=(0,B.expectString)(m[um])),h},ik=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[pi]:[,e.headers[y3]],[co]:[,e.headers[y2]],[ge]:[,e.headers[vh]],[fi]:[,e.headers[vi]],[fs]:[,e.headers[vs]],[fl]:[,e.headers[vl]],[fp]:[,e.headers[vr]],[fc]:[,e.headers[vn]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[mi]:[,e.headers[b2]]});return h.CopyObjectResult=sH((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},iC=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[um]:[,e.headers[gq]]});return await (0,B.collectBody)(e.body,d),h},iA=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iP=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[lY]:[()=>void 0!==e.headers[yA],()=>(0,B.expectNonNull)((0,B.parseRfc7231DateTime)(e.headers[yA]))],[da]:[,e.headers[yN]],[fi]:[,e.headers[vi]],[fs]:[,e.headers[vs]],[fl]:[,e.headers[vl]],[fp]:[,e.headers[vr]],[fc]:[,e.headers[vn]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[mi]:[,e.headers[b2]],[dL]:[,e.headers[yB]],[cc]:[,e.headers[y4]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[du]&&(h[du]=(0,B.expectString)(m[du])),null!=m[us]&&(h[us]=(0,B.expectString)(m[us])),null!=m[f2]&&(h[f2]=(0,B.expectString)(m[f2])),h},iN=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[fi]:[,e.headers[vi]],[fp]:[,e.headers[vr]],[fc]:[,e.headers[vn]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[dD]&&(h[dD]=lw(m[dD],d)),h},iO=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iI=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iR=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iD=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iL=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},i$=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iM=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iB=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},ij=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iU=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iF=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iz=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iq=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iV=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iH=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[cx]:[()=>void 0!==e.headers[y6],()=>(0,B.parseBoolean)(e.headers[y6])],[ge]:[,e.headers[vh]],[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},iK=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.Deleted?h[cI]=[]:null!=m[cI]&&(h[cI]=sY((0,B.getArrayIfSingleItem)(m[cI]),d)),""===m.Error?h[c9]=[]:null!=m[c8]&&(h[c9]=s8((0,B.getArrayIfSingleItem)(m[c8]),d)),h},iG=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[ge]:[,e.headers[vh]]});return await (0,B.collectBody)(e.body,d),h},iW=async(e,d)=>{if(204!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},iJ=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[mq]&&(h[mq]=(0,B.expectString)(m[mq])),h},iQ=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.AccessControlList?h[pS]=[]:null!=m[lK]&&null!=m[lK][pm]&&(h[pS]=ol((0,B.getArrayIfSingleItem)(m[lK][pm]),d)),null!=m[hd]&&(h[hd]=oX(m[hd],d)),h},iY=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.AnalyticsConfiguration=sI((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},iX=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.CORSRule?h[d1]=[]:null!=m[dZ]&&(h[d1]=sW((0,B.getArrayIfSingleItem)(m[dZ]),d)),h},iZ=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.ServerSideEncryptionConfiguration=ly((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},i1=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.IntelligentTieringConfiguration=ou((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},i0=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.InventoryConfiguration=of((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},i2=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[fD]:[,e.headers[vu]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.Rule?h[mz]=[]:null!=m[mF]&&(h[mz]=oP((0,B.getArrayIfSingleItem)(m[mF]),d)),h},i4=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[uf]&&(h[uf]=(0,B.expectString)(m[uf])),h},i6=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[ug]&&(h[ug]=oN(m[ug],d)),h},i3=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.GetBucketMetadataTableConfigurationResult=oa((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},i5=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.MetricsConfiguration=oD((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},i8=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[cB]&&(h[cB]=s9(m[cB],d)),""===m.CloudFunctionConfiguration?h[uv]=[]:null!=m[dK]&&(h[uv]=oE((0,B.getArrayIfSingleItem)(m[dK]),d)),""===m.QueueConfiguration?h[h3]=[]:null!=m[h6]&&(h[h3]=le((0,B.getArrayIfSingleItem)(m[h6]),d)),""===m.TopicConfiguration?h[fI]=[]:null!=m[fO]&&(h[fI]=lM((0,B.getArrayIfSingleItem)(m[fO]),d)),h},i9=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.OwnershipControls=oZ((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},i7=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=await lF(e.body,d);return h.Policy=(0,B.expectString)(m),h},re=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.PolicyStatus=o5((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},rt=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.ReplicationConfiguration=la((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},ri=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[hJ]&&(h[hJ]=(0,B.expectString)(m[hJ])),h},rr=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.TagSet?h[fz]=[]:null!=m[fz]&&null!=m[fz][fV]&&(h[fz]=lN((0,B.getArrayIfSingleItem)(m[fz][fV]),d)),h},ra=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[uB]&&(h[uz]=(0,B.expectString)(m[uB])),null!=m[mq]&&(h[mq]=(0,B.expectString)(m[mq])),h},rn=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[cz]&&(h[cz]=s5(m[cz],d)),null!=m[pP]&&(h[pP]=od(m[pP],d)),null!=m[mt]&&(h[mt]=li(m[mt],d)),""===m.RoutingRules?h[mP]=[]:null!=m[mP]&&null!=m[mP][mN]&&(h[mP]=lh((0,B.getArrayIfSingleItem)(m[mP][mN]),d)),h},rs=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[cx]:[()=>void 0!==e.headers[y6],()=>(0,B.parseBoolean)(e.headers[y6])],[dr]:[,e.headers[gp]],[pi]:[,e.headers[y3]],[mB]:[,e.headers[b0]],[ux]:[()=>void 0!==e.headers[gz],()=>(0,B.expectNonNull)((0,B.parseRfc7231DateTime)(e.headers[gz]))],[dW]:[()=>void 0!==e.headers[gv],()=>(0,B.strictParseLong)(e.headers[gv])],[c1]:[,e.headers[gP]],[dj]:[,e.headers[yj]],[dU]:[,e.headers[yU]],[dF]:[,e.headers[yF]],[d5]:[,e.headers[yV]],[d8]:[,e.headers[yH]],[cc]:[,e.headers[y4]],[uK]:[()=>void 0!==e.headers[bq],()=>(0,B.strictParseInt32)(e.headers[bq])],[ge]:[,e.headers[vh]],[dB]:[,e.headers[gf]],[dz]:[,e.headers[gg]],[dV]:[,e.headers[gy]],[dG]:[,e.headers[gb]],[d4]:[,e.headers[gS]],[cp]:[,e.headers[gx]],[c$]:[()=>void 0!==e.headers[gk],()=>(0,B.expectNonNull)((0,B.parseRfc7231DateTime)(e.headers[gk]))],[cQ]:[,e.headers[gN]],[gs]:[,e.headers[vf]],[fi]:[,e.headers[vi]],[fs]:[,e.headers[vs]],[fl]:[,e.headers[vl]],[fp]:[,e.headers[vr]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[mG]:[,e.headers[b9]],[mi]:[,e.headers[b2]],[mO]:[,e.headers[b5]],[hq]:[()=>void 0!==e.headers[bK],()=>(0,B.strictParseInt32)(e.headers[bK])],[fN]:[()=>void 0!==e.headers[vc],()=>(0,B.strictParseInt32)(e.headers[vc])],[h_]:[,e.headers[bJ]],[hk]:[()=>void 0!==e.headers[bQ],()=>(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e.headers[bQ]))],[hx]:[,e.headers[bW]],Metadata:[,Object.keys(e.headers).filter(e=>e.startsWith("x-amz-meta-")).reduce((d,h)=>(d[h.substring(11)]=e.headers[h],d),{})]}),m=e.body;return d.sdkStreamMixin(m),h.Body=m,h},ro=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.AccessControlList?h[pS]=[]:null!=m[lK]&&null!=m[lK][pm]&&(h[pS]=ol((0,B.getArrayIfSingleItem)(m[lK][pm]),d)),null!=m[hd]&&(h[hd]=oX(m[hd],d)),h},rl=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[cx]:[()=>void 0!==e.headers[y6],()=>(0,B.parseBoolean)(e.headers[y6])],[ux]:[()=>void 0!==e.headers[gz],()=>(0,B.expectNonNull)((0,B.parseRfc7231DateTime)(e.headers[gz]))],[ge]:[,e.headers[vh]],[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[cm]&&(h[cm]=sj(m[cm],d)),null!=m[c1]&&(h[c1]=(0,B.expectString)(m[c1])),null!=m[hO]&&(h[hO]=on(m[hO],d)),null!=m[hB]&&(h[hB]=(0,B.strictParseLong)(m[hB])),null!=m[mG]&&(h[mG]=(0,B.expectString)(m[mG])),h},rd=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.LegalHold=oK((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},rc=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.ObjectLockConfiguration=oH((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},rp=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.Retention=oG((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},ru=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[ge]:[,e.headers[vh]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.TagSet?h[fz]=[]:null!=m[fz]&&null!=m[fz][fV]&&(h[fz]=lN((0,B.getArrayIfSingleItem)(m[fz][fV]),d)),h},rh=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=e.body;return d.sdkStreamMixin(m),h.Body=m,h},rm=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.PublicAccessBlockConfiguration=o9((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},rf=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[d_]:[,e.headers[yD]],[dw]:[,e.headers[yR]],[dA]:[,e.headers[yM]],[de]:[()=>void 0!==e.headers[yP],()=>(0,B.parseBoolean)(e.headers[yP])]});return await (0,B.collectBody)(e.body,d),h},rg=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[cx]:[()=>void 0!==e.headers[y6],()=>(0,B.parseBoolean)(e.headers[y6])],[dr]:[,e.headers[gp]],[pi]:[,e.headers[y3]],[mB]:[,e.headers[b0]],[dn]:[,e.headers[yO]],[ux]:[()=>void 0!==e.headers[gz],()=>(0,B.expectNonNull)((0,B.parseRfc7231DateTime)(e.headers[gz]))],[dW]:[()=>void 0!==e.headers[gv],()=>(0,B.strictParseLong)(e.headers[gv])],[dj]:[,e.headers[yj]],[dU]:[,e.headers[yU]],[dF]:[,e.headers[yF]],[d5]:[,e.headers[yV]],[d8]:[,e.headers[yH]],[cc]:[,e.headers[y4]],[c1]:[,e.headers[gP]],[uK]:[()=>void 0!==e.headers[bq],()=>(0,B.strictParseInt32)(e.headers[bq])],[ge]:[,e.headers[vh]],[dB]:[,e.headers[gf]],[dz]:[,e.headers[gg]],[dV]:[,e.headers[gy]],[dG]:[,e.headers[gb]],[cp]:[,e.headers[gx]],[d4]:[,e.headers[gS]],[c$]:[()=>void 0!==e.headers[gk],()=>(0,B.expectNonNull)((0,B.parseRfc7231DateTime)(e.headers[gk]))],[cQ]:[,e.headers[gN]],[gs]:[,e.headers[vf]],[fi]:[,e.headers[vi]],[fs]:[,e.headers[vs]],[fl]:[,e.headers[vl]],[fp]:[,e.headers[vr]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[mG]:[,e.headers[b9]],[mi]:[,e.headers[b2]],[mO]:[,e.headers[b5]],[hq]:[()=>void 0!==e.headers[bK],()=>(0,B.strictParseInt32)(e.headers[bK])],[h_]:[,e.headers[bJ]],[hk]:[()=>void 0!==e.headers[bQ],()=>(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e.headers[bQ]))],[hx]:[,e.headers[bW]],Metadata:[,Object.keys(e.headers).filter(e=>e.startsWith("x-amz-meta-")).reduce((d,h)=>(d[h.substring(11)]=e.headers[h],d),{})]});return await (0,B.collectBody)(e.body,d),h},ry=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.AnalyticsConfiguration?h[lG]=[]:null!=m[lV]&&(h[lG]=sR((0,B.getArrayIfSingleItem)(m[lV]),d)),null!=m[ch]&&(h[ch]=(0,B.expectString)(m[ch])),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[u8]&&(h[u8]=(0,B.expectString)(m[u8])),h},rb=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[ch]&&(h[ch]=(0,B.expectString)(m[ch])),""===m.IntelligentTieringConfiguration?h[p6]=[]:null!=m[p4]&&(h[p6]=oh((0,B.getArrayIfSingleItem)(m[p4]),d)),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[u8]&&(h[u8]=(0,B.expectString)(m[u8])),h},rv=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[ch]&&(h[ch]=(0,B.expectString)(m[ch])),""===m.InventoryConfiguration?h[pA]=[]:null!=m[pC]&&(h[pA]=og((0,B.getArrayIfSingleItem)(m[pC]),d)),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[u8]&&(h[u8]=(0,B.expectString)(m[u8])),h},rw=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[ch]&&(h[ch]=(0,B.expectString)(m[ch])),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),""===m.MetricsConfiguration?h[uL]=[]:null!=m[uD]&&(h[uL]=oL((0,B.getArrayIfSingleItem)(m[uD]),d)),null!=m[u8]&&(h[u8]=(0,B.expectString)(m[u8])),h},rS=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.Buckets?h[dR]=[]:null!=m[dR]&&null!=m[dR][du]&&(h[dR]=sB((0,B.getArrayIfSingleItem)(m[dR][du]),d)),null!=m[ch]&&(h[ch]=(0,B.expectString)(m[ch])),null!=m[hd]&&(h[hd]=oX(m[hd],d)),null!=m[hF]&&(h[hF]=(0,B.expectString)(m[hF])),h},rx=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.Buckets?h[dR]=[]:null!=m[dR]&&null!=m[dR][du]&&(h[dR]=sB((0,B.getArrayIfSingleItem)(m[dR][du]),d)),null!=m[ch]&&(h[ch]=(0,B.expectString)(m[ch])),h},r_=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[du]&&(h[du]=(0,B.expectString)(m[du])),""===m.CommonPrefixes?h[d0]=[]:null!=m[d0]&&(h[d0]=sz((0,B.getArrayIfSingleItem)(m[d0]),d)),null!=m[cv]&&(h[cv]=(0,B.expectString)(m[cv])),null!=m[cZ]&&(h[cZ]=(0,B.expectString)(m[cZ])),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[ud]&&(h[ud]=(0,B.expectString)(m[ud])),null!=m[uX]&&(h[uX]=(0,B.strictParseInt32)(m[uX])),null!=m[he]&&(h[he]=(0,B.expectString)(m[he])),null!=m[ha]&&(h[ha]=(0,B.expectString)(m[ha])),null!=m[hF]&&(h[hF]=(0,B.expectString)(m[hF])),null!=m[f4]&&(h[f4]=(0,B.expectString)(m[f4])),""===m.Upload?h[f5]=[]:null!=m[f0]&&(h[f5]=oB((0,B.getArrayIfSingleItem)(m[f0]),d)),h},rE=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.CommonPrefixes?h[d0]=[]:null!=m[d0]&&(h[d0]=sz((0,B.getArrayIfSingleItem)(m[d0]),d)),""===m.Contents?h[cf]=[]:null!=m[cf]&&(h[cf]=oV((0,B.getArrayIfSingleItem)(m[cf]),d)),null!=m[cv]&&(h[cv]=(0,B.expectString)(m[cv])),null!=m[cZ]&&(h[cZ]=(0,B.expectString)(m[cZ])),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[uN]&&(h[uN]=(0,B.expectString)(m[uN])),null!=m[uV]&&(h[uV]=(0,B.strictParseInt32)(m[uV])),null!=m[u6]&&(h[u6]=(0,B.expectString)(m[u6])),null!=m[ht]&&(h[ht]=(0,B.expectString)(m[ht])),null!=m[hF]&&(h[hF]=(0,B.expectString)(m[hF])),h},rT=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.CommonPrefixes?h[d0]=[]:null!=m[d0]&&(h[d0]=sz((0,B.getArrayIfSingleItem)(m[d0]),d)),""===m.Contents?h[cf]=[]:null!=m[cf]&&(h[cf]=oV((0,B.getArrayIfSingleItem)(m[cf]),d)),null!=m[ch]&&(h[ch]=(0,B.expectString)(m[ch])),null!=m[cv]&&(h[cv]=(0,B.expectString)(m[cv])),null!=m[cZ]&&(h[cZ]=(0,B.expectString)(m[cZ])),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[uo]&&(h[uo]=(0,B.strictParseInt32)(m[uo])),null!=m[uV]&&(h[uV]=(0,B.strictParseInt32)(m[uV])),null!=m[u6]&&(h[u6]=(0,B.expectString)(m[u6])),null!=m[u8]&&(h[u8]=(0,B.expectString)(m[u8])),null!=m[hF]&&(h[hF]=(0,B.expectString)(m[hF])),null!=m[mV]&&(h[mV]=(0,B.expectString)(m[mV])),h},rk=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return""===m.CommonPrefixes?h[d0]=[]:null!=m[d0]&&(h[d0]=sz((0,B.getArrayIfSingleItem)(m[d0]),d)),""===m.DeleteMarker?h[ck]=[]:null!=m[cx]&&(h[ck]=s1((0,B.getArrayIfSingleItem)(m[cx]),d)),null!=m[cv]&&(h[cv]=(0,B.expectString)(m[cv])),null!=m[cZ]&&(h[cZ]=(0,B.expectString)(m[cZ])),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[ud]&&(h[ud]=(0,B.expectString)(m[ud])),null!=m[uV]&&(h[uV]=(0,B.strictParseInt32)(m[uV])),null!=m[u6]&&(h[u6]=(0,B.expectString)(m[u6])),null!=m[he]&&(h[he]=(0,B.expectString)(m[he])),null!=m[hs]&&(h[hs]=(0,B.expectString)(m[hs])),null!=m[hF]&&(h[hF]=(0,B.expectString)(m[hF])),null!=m[gt]&&(h[gt]=(0,B.expectString)(m[gt])),""===m.Version?h[gr]=[]:null!=m[f8]&&(h[gr]=oY((0,B.getArrayIfSingleItem)(m[f8]),d)),h},rC=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[lY]:[()=>void 0!==e.headers[yA],()=>(0,B.expectNonNull)((0,B.parseRfc7231DateTime)(e.headers[yA]))],[da]:[,e.headers[yN]],[mi]:[,e.headers[b2]]}),m=(0,B.expectNonNull)((0,B.expectObject)(await (0,V.t_)(e.body,d)),"body");return null!=m[du]&&(h[du]=(0,B.expectString)(m[du])),null!=m[dL]&&(h[dL]=(0,B.expectString)(m[dL])),null!=m[cc]&&(h[cc]=(0,B.expectString)(m[cc])),null!=m[ue]&&(h[ue]=oc(m[ue],d)),null!=m[p1]&&(h[p1]=(0,B.parseBoolean)(m[p1])),null!=m[us]&&(h[us]=(0,B.expectString)(m[us])),null!=m[uW]&&(h[uW]=(0,B.strictParseInt32)(m[uW])),null!=m[hr]&&(h[hr]=(0,B.expectString)(m[hr])),null!=m[hd]&&(h[hd]=oX(m[hd],d)),null!=m[hG]&&(h[hG]=(0,B.expectString)(m[hG])),""===m.Part?h[hX]=[]:null!=m[hQ]&&(h[hX]=o6((0,B.getArrayIfSingleItem)(m[hQ]),d)),null!=m[mG]&&(h[mG]=(0,B.expectString)(m[mG])),null!=m[f2]&&(h[f2]=(0,B.expectString)(m[f2])),h},rA=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rP=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rN=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rO=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rI=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rR=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rD=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rL=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[fD]:[,e.headers[vu]]});return await (0,B.collectBody)(e.body,d),h},r$=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rM=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rB=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rj=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rU=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rF=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rz=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rq=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rV=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rH=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rK=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[pi]:[,e.headers[y3]],[c1]:[,e.headers[gP]],[dj]:[,e.headers[yj]],[dU]:[,e.headers[yU]],[dF]:[,e.headers[yF]],[d5]:[,e.headers[yV]],[d8]:[,e.headers[yH]],[cc]:[,e.headers[y4]],[fi]:[,e.headers[vi]],[ge]:[,e.headers[vh]],[fs]:[,e.headers[vs]],[fl]:[,e.headers[vl]],[fp]:[,e.headers[vr]],[fc]:[,e.headers[vn]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[fx]:[()=>void 0!==e.headers[bZ],()=>(0,B.strictParseLong)(e.headers[bZ])],[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},rG=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},rW=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},rJ=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},rQ=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},rY=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[ge]:[,e.headers[vh]]});return await (0,B.collectBody)(e.body,d),h},rX=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},rZ=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[mi]:[,e.headers[b2]],[my]:[,e.headers[b4]]});return await (0,B.collectBody)(e.body,d),h},r1=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return h.Payload=ad(e.body,d),h},r0=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[fi]:[,e.headers[vi]],[c1]:[,e.headers[gP]],[dj]:[,e.headers[yj]],[dU]:[,e.headers[yU]],[dF]:[,e.headers[yF]],[d5]:[,e.headers[yV]],[d8]:[,e.headers[yH]],[fs]:[,e.headers[vs]],[fl]:[,e.headers[vl]],[fp]:[,e.headers[vr]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[mi]:[,e.headers[b2]]});return await (0,B.collectBody)(e.body,d),h},r2=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e),[co]:[,e.headers[y2]],[fi]:[,e.headers[vi]],[fs]:[,e.headers[vs]],[fl]:[,e.headers[vl]],[fp]:[,e.headers[vr]],[dy]:[()=>void 0!==e.headers[va],()=>(0,B.parseBoolean)(e.headers[va])],[mi]:[,e.headers[b2]]});return h.CopyPartResult=sK((0,B.expectObject)(await (0,V.t_)(e.body,d)),d),h},r4=async(e,d)=>{if(200!==e.statusCode&&e.statusCode>=300)return r6(e,d);let h=(0,B.map)({$metadata:lU(e)});return await (0,B.collectBody)(e.body,d),h},r6=async(e,d)=>{let h={...e,body:await (0,V.FI)(e.body,d)},m=(0,V.FZ)(e,h.body);switch(m){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await aa(h,d);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await ao(h,d);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await r5(h,d);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await r8(h,d);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await ai(h,d);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await r7(h,d);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await ar(h,d);case"NotFound":case"com.amazonaws.s3#NotFound":throw await an(h,d);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await r9(h,d);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await ae(h,d);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await at(h,d);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await al(h,d);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await as(h,d);default:return r3({output:e,parsedBody:h.body,errorCode:m})}},r3=(0,B.withBaseException)(W),r5=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new X({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},r8=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new Z({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},r9=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new eO({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},r7=async(e,d)=>{let h=(0,B.map)({}),m=e.body;null!=m[dc]&&(h[dc]=(0,B.expectString)(m[dc])),null!=m[mG]&&(h[mG]=(0,B.expectString)(m[mG]));let g=new et({$metadata:lU(e),...h});return(0,B.decorateServiceException)(g,e.body)},ae=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new eI({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},at=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new eR({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},ai=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new ee({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},ar=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new ei({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},aa=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new J({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},an=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new er({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},as=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new eL({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},ao=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new Y({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},al=async(e,d)=>{let h=(0,B.map)({});e.body;let m=new eD({$metadata:lU(e),...h});return(0,B.decorateServiceException)(m,e.body)},ad=(e,d)=>d.eventStreamMarshaller.deserialize(e,async h=>null!=h.Records?{Records:await ah(h.Records,d)}:null!=h.Stats?{Stats:await am(h.Stats,d)}:null!=h.Progress?{Progress:await au(h.Progress,d)}:null!=h.Cont?{Cont:await ac(h.Cont,d)}:null!=h.End?{End:await ap(h.End,d)}:{$unknown:e}),ac=async(e,d)=>{let h={};return Object.assign(h,sV(await (0,V.t_)(e.body,d),d)),h},ap=async(e,d)=>{let h={};return Object.assign(h,s4(await (0,V.t_)(e.body,d),d)),h},au=async(e,d)=>{let h={};return h.Details=o8(await (0,V.t_)(e.body,d),d),h},ah=async(e,d)=>{let h={};return h.Payload=e.body,h},am=async(e,d)=>{let h={};return h.Details=lk(await (0,V.t_)(e.body,d),d),h},af=(e,d)=>{let h=new H.XmlNode(l4);return null!=e[cw]&&h.c(H.XmlNode.of(cw,String(e[cw])).n(cw)),h},ag=(e,d)=>{let h=new H.XmlNode(lQ);return null!=e[mq]&&h.c(H.XmlNode.of(dm,e[mq]).n(mq)),h},ay=(e,d)=>{let h=new H.XmlNode(lW);return h.lc(e,"Grants","AccessControlList",()=>a2(e[pS],d)),null!=e[hd]&&h.c(nL(e[hd],d).n(hd)),h},ab=(e,d)=>{let h=new H.XmlNode(lJ);return null!=e[hd]&&h.c(H.XmlNode.of(hN,e[hd]).n(hd)),h},av=(e,d)=>e.filter(e=>null!=e).map(e=>H.XmlNode.of(l1,e).n(gY)),aw=(e,d)=>e.filter(e=>null!=e).map(e=>H.XmlNode.of(l5,e).n(gY)),aS=(e,d)=>e.filter(e=>null!=e).map(e=>H.XmlNode.of(l9,e).n(gY)),ax=(e,d)=>{let h=new H.XmlNode(lq);return h.cc(e,hF),h.l(e,"Tags","Tag",()=>sh(e[fH],d)),h},a_=(e,d)=>{let h=new H.XmlNode(lV);return null!=e[pk]&&h.c(H.XmlNode.of(l2,e[pk]).n(pk)),null!=e[pr]&&h.c(aT(e[pr],d).n(pr)),null!=e[mW]&&h.c(sd(e[mW],d).n(mW)),h},aE=(e,d)=>{let h=new H.XmlNode(lX);return null!=e[mK]&&h.c(ak(e[mK],d).n(mK)),h},aT=(e,d)=>{let h=new H.XmlNode(lZ);return w.visit(e,{Prefix:d=>{null!=e[hF]&&h.c(H.XmlNode.of(hF,d).n(hF))},Tag:m=>{null!=e[fV]&&h.c(sp(m,d).n(fV))},And:m=>{null!=e[lz]&&h.c(ax(m,d).n(lz))},_:(e,d)=>{if(!(d instanceof H.XmlNode||d instanceof H.XmlText))throw Error("Unable to serialize unknown union members in XML.");h.c(new H.XmlNode(e).c(d))}}),h},ak=(e,d)=>{let h=new H.XmlNode(ds);return null!=e[pu]&&h.c(H.XmlNode.of(dl,e[pu]).n(pu)),null!=e[dh]&&h.c(H.XmlNode.of(l6,e[dh]).n(dh)),null!=e[du]&&h.c(H.XmlNode.of(dE,e[du]).n(du)),h.cc(e,hF),h},aC=(e,d)=>{let h=new H.XmlNode(dg);return h.cc(e,cA),null!=e[f1]&&h.c(H.XmlNode.of(dO,e[f1]).n(f1)),h},aA=(e,d)=>{let h=new H.XmlNode(db);return h.l(e,"Rules","Rule",()=>nh(e[mz],d)),h},aP=(e,d)=>{let h=new H.XmlNode(dx);return null!=e[ug]&&h.c(nf(e[ug],d).n(ug)),h},aN=(e,d)=>{let h=new H.XmlNode(dY);return h.l(e,"Parts","Part",()=>aI(e[hX],d)),h},aO=(e,d)=>{let h=new H.XmlNode(d2);return h.cc(e,c1),h.cc(e,dj),h.cc(e,dU),h.cc(e,dF),h.cc(e,d5),h.cc(e,d8),null!=e[hK]&&h.c(H.XmlNode.of(hK,String(e[hK])).n(hK)),h},aI=(e,d)=>e.filter(e=>null!=e).map(e=>aO(e,d).n(gY)),aR=(e,d)=>{let h=new H.XmlNode(cb);return h.cc(e,p_),h.cc(e,uh),h},aD=(e,d)=>{let h=new H.XmlNode(dX);return h.l(e,"CORSRules","CORSRule",()=>a$(e[d1],d)),h},aL=(e,d)=>{let h=new H.XmlNode(dZ);return h.cc(e,pN),h.l(e,"AllowedHeaders","AllowedHeader",()=>av(e[l0],d)),h.l(e,"AllowedMethods","AllowedMethod",()=>aw(e[l8],d)),h.l(e,"AllowedOrigins","AllowedOrigin",()=>aS(e[l7],d)),h.l(e,"ExposeHeaders","ExposeHeader",()=>aQ(e[cq],d)),null!=e[uI]&&h.c(H.XmlNode.of(uI,String(e[uI])).n(uI)),h},a$=(e,d)=>e.filter(e=>null!=e).map(e=>aL(e,d).n(gY)),aM=(e,d)=>{let h=new H.XmlNode(dM);return null!=e[uf]&&h.c(H.XmlNode.of(dv,e[uf]).n(uf)),null!=e[um]&&h.c(nm(e[um],d).n(um)),null!=e[du]&&h.c(aC(e[du],d).n(du)),h},aB=(e,d)=>{let h=new H.XmlNode(cl);return h.cc(e,pn),h.cc(e,cy),h.cc(e,h8),h.cc(e,md),h.cc(e,pa),h.cc(e,h5),null!=e[di]&&h.c(H.XmlNode.of(di,String(e[di])).n(di)),h},aj=(e,d)=>{let h=new H.XmlNode(cd);return h.cc(e,h9),h.cc(e,h8),h.cc(e,md),h.cc(e,pa),h.cc(e,h5),h},aU=(e,d)=>{let h=new H.XmlNode(cP);return null!=e[u4]&&h.c(H.XmlNode.of(hT,e[u4]).n(u4)),null!=e[cN]&&h.c(H.XmlNode.of(cN,String(e[cN])).n(cN)),null!=e[go]&&h.c(H.XmlNode.of(go,String(e[go])).n(go)),h},aF=(e,d)=>{let h=new H.XmlNode(cR);return h.l(e,"Objects","Object",()=>nA(e[hU],d)),null!=e[h2]&&h.c(H.XmlNode.of(h2,String(e[h2])).n(h2)),h},az=(e,d)=>{let h=new H.XmlNode(c_);return null!=e[mq]&&h.c(H.XmlNode.of(cE,e[mq]).n(mq)),h},aq=(e,d)=>{let h=new H.XmlNode(cD);return null!=e[du]&&h.c(H.XmlNode.of(dE,e[du]).n(du)),null!=e[dp]&&h.c(H.XmlNode.of(l6,e[dp]).n(dp)),h.cc(e,mG),null!=e[lJ]&&h.c(ab(e[lJ],d).n(lJ)),null!=e[cF]&&h.c(aH(e[cF],d).n(cF)),null!=e[m$]&&h.c(nX(e[m$],d).n(m$)),null!=e[u1]&&h.c(nb(e[u1],d).n(u1)),h},aV=(e,d)=>{let h=new H.XmlNode(c6);return null!=e[c0]&&h.c(H.XmlNode.of(fi,e[c0]).n(c0)),null!=e[up]&&h.c(H.XmlNode.of(fp,e[up]).n(up)),h.cc(e,uc),h},aH=(e,d)=>{let h=new H.XmlNode(cF);return h.cc(e,mu),h},aK=(e,d)=>{let h=new H.XmlNode(cz);return null!=e[us]&&h.c(H.XmlNode.of(hg,e[us]).n(us)),h},aG=(e,d)=>new H.XmlNode(cB),aW=(e,d)=>e.filter(e=>null!=e).map(e=>H.XmlNode.of(c7,e).n(gY)),aJ=(e,d)=>{let h=new H.XmlNode(cG);return null!=e[mq]&&h.c(H.XmlNode.of(cW,e[mq]).n(mq)),h},aQ=(e,d)=>e.filter(e=>null!=e).map(e=>H.XmlNode.of(cV,e).n(gY)),aY=(e,d)=>{let h=new H.XmlNode(po);return null!=e[u6]&&h.c(H.XmlNode.of(pl,e[u6]).n(u6)),null!=e[gi]&&h.c(H.XmlNode.of(pd,e[gi]).n(gi)),h},aX=(e,d)=>e.filter(e=>null!=e).map(e=>aY(e,d).n(gY)),aZ=(e,d)=>{let h=new H.XmlNode(pg);return h.cc(e,fK),h},a1=(e,d)=>{let h=new H.XmlNode(pm);if(null!=e[px]){let m=a0(e[px],d).n(px);m.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),h.c(m)}return h.cc(e,hZ),h},a0=(e,d)=>{let h=new H.XmlNode(px);return h.cc(e,cC),h.cc(e,cM),h.cc(e,pN),h.cc(e,f3),h.a("xsi:type",e[f1]),h},a2=(e,d)=>e.filter(e=>null!=e).map(e=>a1(e,d).n(pm)),a4=(e,d)=>{let h=new H.XmlNode(pP);return h.cc(e,fE),h},a6=(e,d)=>{let h=new H.XmlNode(pY);return null!=e[cs]&&h.c(aB(e[cs],d).n(cs)),h.cc(e,cu),null!=e[ui]&&h.c(nn(e[ui],d).n(ui)),null!=e[hY]&&h.c(nj(e[hY],d).n(hY)),h},a3=(e,d)=>{let h=new H.XmlNode(p0);return h.cc(e,hF),h.l(e,"Tags","Tag",()=>sh(e[fH],d)),h},a5=(e,d)=>{let h=new H.XmlNode(p4);return null!=e[pk]&&h.c(H.XmlNode.of(p8,e[pk]).n(pk)),null!=e[pr]&&h.c(a8(e[pr],d).n(pr)),null!=e[mq]&&h.c(H.XmlNode.of(p9,e[mq]).n(mq)),h.l(e,"Tierings","Tiering",()=>sb(e[fG],d)),h},a8=(e,d)=>{let h=new H.XmlNode(p5);return h.cc(e,hF),null!=e[fV]&&h.c(sp(e[fV],d).n(fV)),null!=e[lz]&&h.c(a3(e[lz],d).n(lz)),h},a9=(e,d)=>{let h=new H.XmlNode(pC);return null!=e[cD]&&h.c(a7(e[cD],d).n(cD)),null!=e[pI]&&h.c(H.XmlNode.of(pI,String(e[pI])).n(pI)),null!=e[pr]&&h.c(nt(e[pr],d).n(pr)),null!=e[pk]&&h.c(H.XmlNode.of(pM,e[pk]).n(pk)),null!=e[pG]&&h.c(H.XmlNode.of(pB,e[pG]).n(pG)),h.lc(e,"OptionalFields","OptionalFields",()=>ni(e[hm],d)),null!=e[fw]&&h.c(na(e[fw],d).n(fw)),h},a7=(e,d)=>{let h=new H.XmlNode(pO);return null!=e[mK]&&h.c(nr(e[mK],d).n(mK)),h},ne=(e,d)=>{let h=new H.XmlNode(pR);return null!=e[fh]&&h.c(sl(e[fh],d).n(fe)),null!=e[fd]&&h.c(ss(e[fd],d).n(mZ)),h},nt=(e,d)=>{let h=new H.XmlNode(pD);return h.cc(e,hF),h},ni=(e,d)=>e.filter(e=>null!=e).map(e=>H.XmlNode.of(pK,e).n(pp)),nr=(e,d)=>{let h=new H.XmlNode(pX);return h.cc(e,l6),null!=e[du]&&h.c(H.XmlNode.of(dE,e[du]).n(du)),null!=e[pu]&&h.c(H.XmlNode.of(pL,e[pu]).n(pu)),h.cc(e,hF),null!=e[c6]&&h.c(ne(e[c6],d).n(c6)),h},na=(e,d)=>{let h=new H.XmlNode(pZ);return null!=e[ph]&&h.c(H.XmlNode.of(p$,e[ph]).n(ph)),h},nn=(e,d)=>{let h=new H.XmlNode(ur);return null!=e[f1]&&h.c(H.XmlNode.of(un,e[f1]).n(f1)),h},ns=(e,d)=>{let h=new H.XmlNode(ua);return h.cc(e,md),h},no=(e,d)=>{let h=new H.XmlNode(uw);return null!=e[pk]&&h.c(H.XmlNode.of(u7,e[pk]).n(pk)),null!=e[ub]&&h.c(H.XmlNode.of(ub,e[ub]).n(dH)),h.l(e,"Events","Event",()=>aW(e[pe],d)),null!=e[pr]&&h.c(nk(e[pr],d).n(pr)),h},nl=(e,d)=>e.filter(e=>null!=e).map(e=>no(e,d).n(gY)),nd=(e,d)=>{let h=new H.XmlNode(uy);return null!=e[cO]&&h.c(H.XmlNode.of(cO,(0,B.serializeDateTime)(e[cO]).toString()).n(cO)),null!=e[cN]&&h.c(H.XmlNode.of(cN,String(e[cN])).n(cN)),null!=e[cK]&&h.c(H.XmlNode.of(cK,String(e[cK])).n(cK)),h},nc=(e,d)=>{let h=new H.XmlNode(uk);return null!=e[pi]&&h.c(nd(e[pi],d).n(pi)),h.cc(e,pN),h.cc(e,hF),null!=e[pr]&&h.c(nu(e[pr],d).n(pr)),null!=e[mq]&&h.c(H.XmlNode.of(cX,e[mq]).n(mq)),h.l(e,"Transitions","Transition",()=>sx(e[fX],d)),h.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>nE(e[ho],d)),null!=e[hn]&&h.c(nx(e[hn],d).n(hn)),null!=e[l4]&&h.c(af(e[l4],d).n(l4)),h},np=(e,d)=>{let h=new H.XmlNode(uC);return h.cc(e,hF),h.l(e,"Tags","Tag",()=>sh(e[fH],d)),null!=e[hR]&&h.c(H.XmlNode.of(hD,String(e[hR])).n(hR)),null!=e[hL]&&h.c(H.XmlNode.of(h$,String(e[hL])).n(hL)),h},nu=(e,d)=>{let h=new H.XmlNode(uA);return h.cc(e,hF),null!=e[fV]&&h.c(sp(e[fV],d).n(fV)),null!=e[hR]&&h.c(H.XmlNode.of(hD,String(e[hR])).n(hR)),null!=e[hL]&&h.c(H.XmlNode.of(h$,String(e[hL])).n(hL)),null!=e[lz]&&h.c(np(e[lz],d).n(lz)),h},nh=(e,d)=>e.filter(e=>null!=e).map(e=>nc(e,d).n(gY)),nm=(e,d)=>{let h=new H.XmlNode(uS);return null!=e[f1]&&h.c(H.XmlNode.of(uP,e[f1]).n(f1)),null!=e[u6]&&h.c(H.XmlNode.of(uE,e[u6]).n(u6)),h},nf=(e,d)=>{let h=new H.XmlNode(ug);return h.cc(e,fA),h.lc(e,"TargetGrants","TargetGrants",()=>sf(e[fL],d)),h.cc(e,fU),null!=e[fj]&&h.c(sg(e[fj],d).n(fj)),h},ng=(e,d)=>{let h=new H.XmlNode(uj);return null!=e[u6]&&h.c(H.XmlNode.of(uH,e[u6]).n(u6)),null!=e[gi]&&h.c(H.XmlNode.of(uZ,e[gi]).n(gi)),h},ny=(e,d)=>{let h=new H.XmlNode(uQ);return null!=e[fg]&&h.c(n8(e[fg],d).n(fg)),h},nb=(e,d)=>{let h=new H.XmlNode(u1);return null!=e[mq]&&h.c(H.XmlNode.of(uJ,e[mq]).n(mq)),null!=e[c2]&&h.c(nZ(e[c2],d).n(c2)),h},nv=(e,d)=>{let h=new H.XmlNode(uO);return h.cc(e,hF),h.l(e,"Tags","Tag",()=>sh(e[fH],d)),h.cc(e,dt),h},nw=(e,d)=>{let h=new H.XmlNode(uD);return null!=e[pk]&&h.c(H.XmlNode.of(uq,e[pk]).n(pk)),null!=e[pr]&&h.c(nS(e[pr],d).n(pr)),h},nS=(e,d)=>{let h=new H.XmlNode(uU);return S.visit(e,{Prefix:d=>{null!=e[hF]&&h.c(H.XmlNode.of(hF,d).n(hF))},Tag:m=>{null!=e[fV]&&h.c(sp(m,d).n(fV))},AccessPointArn:d=>{null!=e[dt]&&h.c(H.XmlNode.of(dt,d).n(dt))},And:m=>{null!=e[lz]&&h.c(nv(m,d).n(lz))},_:(e,d)=>{if(!(d instanceof H.XmlNode||d instanceof H.XmlText))throw Error("Unable to serialize unknown union members in XML.");h.c(new H.XmlNode(e).c(d))}}),h},nx=(e,d)=>{let h=new H.XmlNode(hn);return null!=e[u9]&&h.c(H.XmlNode.of(cN,String(e[u9])).n(u9)),null!=e[hi]&&h.c(H.XmlNode.of(f9,String(e[hi])).n(hi)),h},n_=(e,d)=>{let h=new H.XmlNode(hl);return null!=e[u9]&&h.c(H.XmlNode.of(cN,String(e[u9])).n(u9)),null!=e[mG]&&h.c(H.XmlNode.of(fq,e[mG]).n(mG)),null!=e[hi]&&h.c(H.XmlNode.of(f9,String(e[hi])).n(hi)),h},nE=(e,d)=>e.filter(e=>null!=e).map(e=>n_(e,d).n(gY)),nT=(e,d)=>{let h=new H.XmlNode(u3);return h.l(e,"TopicConfigurations","TopicConfiguration",()=>sw(e[fI],d)),h.l(e,"QueueConfigurations","QueueConfiguration",()=>nq(e[h3],d)),h.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>nl(e[uv],d)),null!=e[cB]&&h.c(aG(e[cB],d).n(cB)),h},nk=(e,d)=>{let h=new H.XmlNode(u5);return null!=e[us]&&h.c(n3(e[us],d).n(m4)),h},nC=(e,d)=>{let h=new H.XmlNode(hf);return null!=e[us]&&h.c(H.XmlNode.of(hg,e[us]).n(us)),null!=e[ge]&&h.c(H.XmlNode.of(hj,e[ge]).n(ge)),h.cc(e,c1),null!=e[u_]&&h.c(H.XmlNode.of(u_,(0,B.dateToUtcString)(e[u_]).toString()).n(u_)),null!=e[fx]&&h.c(H.XmlNode.of(fx,String(e[fx])).n(fx)),h},nA=(e,d)=>e.filter(e=>null!=e).map(e=>nC(e,d).n(gY)),nP=(e,d)=>{let h=new H.XmlNode(hb);return h.cc(e,hv),null!=e[mF]&&h.c(nI(e[mF],d).n(mF)),h},nN=(e,d)=>{let h=new H.XmlNode(hS);return null!=e[mq]&&h.c(H.XmlNode.of(hx,e[mq]).n(mq)),h},nO=(e,d)=>{let h=new H.XmlNode(hE);return null!=e[u4]&&h.c(H.XmlNode.of(hT,e[u4]).n(u4)),null!=e[mM]&&h.c(H.XmlNode.of(cO,(0,B.serializeDateTime)(e[mM]).toString()).n(mM)),h},nI=(e,d)=>{let h=new H.XmlNode(hC);return null!=e[cP]&&h.c(aU(e[cP],d).n(cP)),h},nR=(e,d)=>{let h=new H.XmlNode(hy);return null!=e[fv]&&h.c(n5(e[fv],d).n(fv)),h},nD=(e,d)=>{let h=new H.XmlNode(hI);return null!=e[cs]&&h.c(aj(e[cs],d).n(cs)),null!=e[ui]&&h.c(ns(e[ui],d).n(ui)),h},nL=(e,d)=>{let h=new H.XmlNode(hd);return h.cc(e,cC),h.cc(e,pN),h},n$=(e,d)=>{let h=new H.XmlNode(hp);return h.l(e,"Rules","Rule",()=>nB(e[mz],d)),h},nM=(e,d)=>{let h=new H.XmlNode(hh);return h.cc(e,hA),h},nB=(e,d)=>e.filter(e=>null!=e).map(e=>nM(e,d).n(gY)),nj=(e,d)=>new H.XmlNode(hH),nU=(e,d)=>{let h=new H.XmlNode(hW);return h.cc(e,hV),h},nF=(e,d)=>{let h=new H.XmlNode(hz);return null!=e[dk]&&h.c(H.XmlNode.of(fS,String(e[dk])).n(dk)),null!=e[pJ]&&h.c(H.XmlNode.of(fS,String(e[pJ])).n(pJ)),null!=e[dC]&&h.c(H.XmlNode.of(fS,String(e[dC])).n(dC)),null!=e[mv]&&h.c(H.XmlNode.of(fS,String(e[mv])).n(mv)),h},nz=(e,d)=>{let h=new H.XmlNode(h6);return null!=e[pk]&&h.c(H.XmlNode.of(u7,e[pk]).n(pk)),null!=e[h4]&&h.c(H.XmlNode.of(h4,e[h4]).n(h7)),h.l(e,"Events","Event",()=>aW(e[pe],d)),null!=e[pr]&&h.c(nk(e[pr],d).n(pr)),h},nq=(e,d)=>e.filter(e=>null!=e).map(e=>nz(e,d).n(gY)),nV=(e,d)=>{let h=new H.XmlNode(mj);return h.cc(e,pE),h.cc(e,pT),h.cc(e,h1),h.cc(e,mh),h.cc(e,mm),h},nH=(e,d)=>{let h=new H.XmlNode(mt);return h.cc(e,pE),h.cc(e,h1),h},nK=(e,d)=>{let h=new H.XmlNode(mf);return null!=e[mq]&&h.c(H.XmlNode.of(mg,e[mq]).n(mq)),h},nG=(e,d)=>{let h=new H.XmlNode(ml);return h.cc(e,mU),h.l(e,"Rules","Rule",()=>nY(e[mz],d)),h},nW=(e,d)=>{let h=new H.XmlNode(mC);return h.cc(e,pN),null!=e[h0]&&h.c(H.XmlNode.of(h0,String(e[h0])).n(h0)),h.cc(e,hF),null!=e[pr]&&h.c(nQ(e[pr],d).n(pr)),null!=e[mq]&&h.c(H.XmlNode.of(mT,e[mq]).n(mq)),null!=e[ft]&&h.c(sn(e[ft],d).n(ft)),null!=e[cG]&&h.c(aJ(e[cG],d).n(cG)),null!=e[cD]&&h.c(aq(e[cD],d).n(cD)),null!=e[c_]&&h.c(az(e[c_],d).n(c_)),h},nJ=(e,d)=>{let h=new H.XmlNode(m_);return h.cc(e,hF),h.l(e,"Tags","Tag",()=>sh(e[fH],d)),h},nQ=(e,d)=>{let h=new H.XmlNode(mE);return h.cc(e,hF),null!=e[fV]&&h.c(sp(e[fV],d).n(fV)),null!=e[lz]&&h.c(nJ(e[lz],d).n(lz)),h},nY=(e,d)=>e.filter(e=>null!=e).map(e=>nW(e,d).n(gY)),nX=(e,d)=>{let h=new H.XmlNode(m$);return null!=e[mq]&&h.c(H.XmlNode.of(mD,e[mq]).n(mq)),null!=e[fJ]&&h.c(nZ(e[fJ],d).n(fJ)),h},nZ=(e,d)=>{let h=new H.XmlNode(mL);return null!=e[u2]&&h.c(H.XmlNode.of(u2,String(e[u2])).n(u2)),h},n1=(e,d)=>{let h=new H.XmlNode(mw);return h.cc(e,hJ),h},n0=(e,d)=>{let h=new H.XmlNode(mS);return null!=e[c3]&&h.c(H.XmlNode.of(cJ,String(e[c3])).n(c3)),h},n2=(e,d)=>{let h=new H.XmlNode(mA);return null!=e[cN]&&h.c(H.XmlNode.of(cN,String(e[cN])).n(cN)),null!=e[pg]&&h.c(aZ(e[pg],d).n(pg)),null!=e[f1]&&h.c(H.XmlNode.of(mk,e[f1]).n(f1)),h.cc(e,fK),h.cc(e,cL),null!=e[m8]&&h.c(n7(e[m8],d).n(m8)),null!=e[hy]&&h.c(nR(e[hy],d).n(hy)),h},n4=(e,d)=>{let h=new H.XmlNode(mN);return null!=e[cb]&&h.c(aR(e[cb],d).n(cb)),null!=e[mj]&&h.c(nV(e[mj],d).n(mj)),h},n6=(e,d)=>e.filter(e=>null!=e).map(e=>n4(e,d).n(mN)),n3=(e,d)=>{let h=new H.XmlNode(m2);return h.l(e,"FilterRules","FilterRule",()=>aX(e[pc],d)),h},n5=(e,d)=>{let h=new H.XmlNode(m6);return h.cc(e,dE),null!=e[hF]&&h.c(H.XmlNode.of(uT,e[hF]).n(hF)),null!=e[c6]&&h.c(aV(e[c6],d).n(c6)),null!=e[d$]&&h.c(H.XmlNode.of(hu,e[d$]).n(d$)),h.lc(e,"AccessControlList","AccessControlList",()=>a2(e[lK],d)),null!=e[fT]&&h.c(su(e[fT],d).n(fT)),h.lc(e,"UserMetadata","UserMetadata",()=>s_(e[f6],d)),h.cc(e,mG),h},n8=(e,d)=>{let h=new H.XmlNode(fg);return null!=e[fP]&&h.c(H.XmlNode.of(ff,e[fP]).n(fP)),null!=e[fM]&&h.c(H.XmlNode.of(fb,e[fM]).n(fM)),h},n9=(e,d)=>{let h=new H.XmlNode(m7);return null!=e[f_]&&h.c(H.XmlNode.of(f_,String(e[f_])).n(f_)),null!=e[c5]&&h.c(H.XmlNode.of(c5,String(e[c5])).n(c5)),h},n7=(e,d)=>{let h=new H.XmlNode(m8);return null!=e[pY]&&h.c(a6(e[pY],d).n(pY)),h.cc(e,c4),h.cc(e,pt),null!=e[hI]&&h.c(nD(e[hI],d).n(hI)),h},se=(e,d)=>{let h=new H.XmlNode(fa);return null!=e[fr]&&h.c(H.XmlNode.of(fi,e[fr]).n(fr)),null!=e[uu]&&h.c(H.XmlNode.of(fp,e[uu]).n(uu)),h},st=(e,d)=>{let h=new H.XmlNode(fn);return h.l(e,"Rules","Rule",()=>sr(e[mz],d)),h},si=(e,d)=>{let h=new H.XmlNode(fu);return null!=e[dd]&&h.c(se(e[dd],d).n(dd)),null!=e[dy]&&h.c(H.XmlNode.of(dy,String(e[dy])).n(dy)),h},sr=(e,d)=>e.filter(e=>null!=e).map(e=>si(e,d).n(gY)),sa=(e,d)=>new H.XmlNode(m9),sn=(e,d)=>{let h=new H.XmlNode(ft);return null!=e[m1]&&h.c(so(e[m1],d).n(m1)),null!=e[mf]&&h.c(nK(e[mf],d).n(mf)),h},ss=(e,d)=>{let h=new H.XmlNode(mZ);return null!=e[ul]&&h.c(H.XmlNode.of(fp,e[ul]).n(ul)),h},so=(e,d)=>{let h=new H.XmlNode(m1);return null!=e[mq]&&h.c(H.XmlNode.of(m0,e[mq]).n(mq)),h},sl=(e,d)=>new H.XmlNode(fe),sd=(e,d)=>{let h=new H.XmlNode(mW);return null!=e[cS]&&h.c(sc(e[cS],d).n(cS)),h},sc=(e,d)=>{let h=new H.XmlNode(mJ);return null!=e[hM]&&h.c(H.XmlNode.of(mQ,e[hM]).n(hM)),null!=e[cD]&&h.c(aE(e[cD],d).n(cD)),h},sp=(e,d)=>{let h=new H.XmlNode(fV);return null!=e[us]&&h.c(H.XmlNode.of(hg,e[us]).n(us)),h.cc(e,gi),h},su=(e,d)=>{let h=new H.XmlNode(fT);return h.lc(e,"TagSet","TagSet",()=>sh(e[fz],d)),h},sh=(e,d)=>e.filter(e=>null!=e).map(e=>sp(e,d).n(fV)),sm=(e,d)=>{let h=new H.XmlNode(f$);if(null!=e[px]){let m=a0(e[px],d).n(px);m.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),h.c(m)}return null!=e[hZ]&&h.c(H.XmlNode.of(dS,e[hZ]).n(hZ)),h},sf=(e,d)=>e.filter(e=>null!=e).map(e=>sm(e,d).n(pm)),sg=(e,d)=>{let h=new H.XmlNode(fj);return null!=e[m9]&&h.c(sa(e[m9],d).n(m9)),null!=e[hW]&&h.c(nU(e[hW],d).n(hW)),h},sy=(e,d)=>{let h=new H.XmlNode(fW);return null!=e[cN]&&h.c(H.XmlNode.of(p3,String(e[cN])).n(cN)),null!=e[dc]&&h.c(H.XmlNode.of(p2,e[dc]).n(dc)),h},sb=(e,d)=>e.filter(e=>null!=e).map(e=>sy(e,d).n(gY)),sv=(e,d)=>{let h=new H.XmlNode(fO);return null!=e[pk]&&h.c(H.XmlNode.of(u7,e[pk]).n(pk)),null!=e[fk]&&h.c(H.XmlNode.of(fk,e[fk]).n(fY)),h.l(e,"Events","Event",()=>aW(e[pe],d)),null!=e[pr]&&h.c(nk(e[pr],d).n(pr)),h},sw=(e,d)=>e.filter(e=>null!=e).map(e=>sv(e,d).n(gY)),sS=(e,d)=>{let h=new H.XmlNode(fZ);return null!=e[cO]&&h.c(H.XmlNode.of(cO,(0,B.serializeDateTime)(e[cO]).toString()).n(cO)),null!=e[cN]&&h.c(H.XmlNode.of(cN,String(e[cN])).n(cN)),null!=e[mG]&&h.c(H.XmlNode.of(fq,e[mG]).n(mG)),h},sx=(e,d)=>e.filter(e=>null!=e).map(e=>sS(e,d).n(gY)),s_=(e,d)=>e.filter(e=>null!=e).map(e=>ng(e,d).n(uj)),sE=(e,d)=>{let h=new H.XmlNode(f7);return null!=e[uz]&&h.c(H.XmlNode.of(uz,e[uz]).n(uB)),null!=e[mq]&&h.c(H.XmlNode.of(dI,e[mq]).n(mq)),h},sT=(e,d)=>{let h=new H.XmlNode(ga);return null!=e[cz]&&h.c(aK(e[cz],d).n(cz)),null!=e[pP]&&h.c(a4(e[pP],d).n(pP)),null!=e[mt]&&h.c(nH(e[mt],d).n(mt)),h.lc(e,"RoutingRules","RoutingRules",()=>n6(e[mP],d)),h},sk=(e,d)=>{let h={};return null!=e[cw]&&(h[cw]=(0,B.strictParseInt32)(e[cw])),h},sC=(e,d)=>{let h={};return null!=e[hd]&&(h[hd]=(0,B.expectString)(e[hd])),h},sA=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>(0,B.expectString)(e)),sP=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>(0,B.expectString)(e)),sN=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>(0,B.expectString)(e)),sO=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),""===e.Tag?h[fH]=[]:null!=e[fV]&&(h[fH]=lN((0,B.getArrayIfSingleItem)(e[fV]),d)),h},sI=(e,d)=>{let h={};return null!=e[pk]&&(h[pk]=(0,B.expectString)(e[pk])),""===e.Filter||null!=e[pr]&&(h[pr]=sL((0,B.expectUnion)(e[pr]),d)),null!=e[mW]&&(h[mW]=lC(e[mW],d)),h},sR=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>sI(e,d)),sD=(e,d)=>{let h={};return null!=e[mK]&&(h[mK]=s$(e[mK],d)),h},sL=(e,d)=>null!=e[hF]?{Prefix:(0,B.expectString)(e[hF])}:null!=e[fV]?{Tag:lP(e[fV],d)}:null!=e[lz]?{And:sO(e[lz],d)}:{$unknown:Object.entries(e)[0]},s$=(e,d)=>{let h={};return null!=e[pu]&&(h[pu]=(0,B.expectString)(e[pu])),null!=e[dh]&&(h[dh]=(0,B.expectString)(e[dh])),null!=e[du]&&(h[du]=(0,B.expectString)(e[du])),null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),h},sM=(e,d)=>{let h={};return null!=e[u6]&&(h[u6]=(0,B.expectString)(e[u6])),null!=e[dq]&&(h[dq]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[dq]))),null!=e[dA]&&(h[dA]=(0,B.expectString)(e[dA])),h},sB=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>sM(e,d)),sj=(e,d)=>{let h={};return null!=e[dj]&&(h[dj]=(0,B.expectString)(e[dj])),null!=e[dU]&&(h[dU]=(0,B.expectString)(e[dU])),null!=e[dF]&&(h[dF]=(0,B.expectString)(e[dF])),null!=e[d5]&&(h[d5]=(0,B.expectString)(e[d5])),null!=e[d8]&&(h[d8]=(0,B.expectString)(e[d8])),null!=e[cc]&&(h[cc]=(0,B.expectString)(e[cc])),h},sU=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>(0,B.expectString)(e)),sF=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),h},sz=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>sF(e,d)),sq=(e,d)=>{let h={};return null!=e[p_]&&(h[p_]=(0,B.expectString)(e[p_])),null!=e[uh]&&(h[uh]=(0,B.expectString)(e[uh])),h},sV=(e,d)=>({}),sH=(e,d)=>{let h={};return null!=e[c1]&&(h[c1]=(0,B.expectString)(e[c1])),null!=e[ux]&&(h[ux]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[ux]))),null!=e[cc]&&(h[cc]=(0,B.expectString)(e[cc])),null!=e[dj]&&(h[dj]=(0,B.expectString)(e[dj])),null!=e[dU]&&(h[dU]=(0,B.expectString)(e[dU])),null!=e[dF]&&(h[dF]=(0,B.expectString)(e[dF])),null!=e[d5]&&(h[d5]=(0,B.expectString)(e[d5])),null!=e[d8]&&(h[d8]=(0,B.expectString)(e[d8])),h},sK=(e,d)=>{let h={};return null!=e[c1]&&(h[c1]=(0,B.expectString)(e[c1])),null!=e[ux]&&(h[ux]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[ux]))),null!=e[dj]&&(h[dj]=(0,B.expectString)(e[dj])),null!=e[dU]&&(h[dU]=(0,B.expectString)(e[dU])),null!=e[dF]&&(h[dF]=(0,B.expectString)(e[dF])),null!=e[d5]&&(h[d5]=(0,B.expectString)(e[d5])),null!=e[d8]&&(h[d8]=(0,B.expectString)(e[d8])),h},sG=(e,d)=>{let h={};return null!=e[pN]&&(h[pN]=(0,B.expectString)(e[pN])),""===e.AllowedHeader?h[l0]=[]:null!=e[l1]&&(h[l0]=sA((0,B.getArrayIfSingleItem)(e[l1]),d)),""===e.AllowedMethod?h[l8]=[]:null!=e[l5]&&(h[l8]=sP((0,B.getArrayIfSingleItem)(e[l5]),d)),""===e.AllowedOrigin?h[l7]=[]:null!=e[l9]&&(h[l7]=sN((0,B.getArrayIfSingleItem)(e[l9]),d)),""===e.ExposeHeader?h[cq]=[]:null!=e[cV]&&(h[cq]=ot((0,B.getArrayIfSingleItem)(e[cV]),d)),null!=e[uI]&&(h[uI]=(0,B.strictParseInt32)(e[uI])),h},sW=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>sG(e,d)),sJ=(e,d)=>{let h={};return null!=e[u4]&&(h[u4]=(0,B.expectString)(e[u4])),null!=e[cN]&&(h[cN]=(0,B.strictParseInt32)(e[cN])),null!=e[go]&&(h[go]=(0,B.strictParseInt32)(e[go])),h},sQ=(e,d)=>{let h={};return null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),null!=e[ge]&&(h[ge]=(0,B.expectString)(e[ge])),null!=e[cx]&&(h[cx]=(0,B.parseBoolean)(e[cx])),null!=e[cT]&&(h[cT]=(0,B.expectString)(e[cT])),h},sY=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>sQ(e,d)),sX=(e,d)=>{let h={};return null!=e[hd]&&(h[hd]=oX(e[hd],d)),null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),null!=e[ge]&&(h[ge]=(0,B.expectString)(e[ge])),null!=e[pj]&&(h[pj]=(0,B.parseBoolean)(e[pj])),null!=e[ux]&&(h[ux]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[ux]))),h},sZ=(e,d)=>{let h={};return null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),h},s1=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>sX(e,d)),s0=(e,d)=>{let h={};return null!=e[du]&&(h[du]=(0,B.expectString)(e[du])),null!=e[dp]&&(h[dp]=(0,B.expectString)(e[dp])),null!=e[mG]&&(h[mG]=(0,B.expectString)(e[mG])),null!=e[lJ]&&(h[lJ]=sC(e[lJ],d)),null!=e[cF]&&(h[cF]=s2(e[cF],d)),null!=e[m$]&&(h[m$]=ld(e[m$],d)),null!=e[u1]&&(h[u1]=oI(e[u1],d)),h},s2=(e,d)=>{let h={};return null!=e[mu]&&(h[mu]=(0,B.expectString)(e[mu])),h},s4=(e,d)=>({}),s6=(e,d)=>{let h={};return null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),null!=e[ge]&&(h[ge]=(0,B.expectString)(e[ge])),null!=e[cg]&&(h[cg]=(0,B.expectString)(e[cg])),null!=e[u0]&&(h[u0]=(0,B.expectString)(e[u0])),h},s3=(e,d)=>{let h={};return null!=e[cU]&&(h[cU]=(0,B.expectString)(e[cU])),null!=e[cH]&&(h[cH]=(0,B.expectString)(e[cH])),h},s5=(e,d)=>{let h={};return null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),h},s8=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>s6(e,d)),s9=(e,d)=>({}),s7=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>(0,B.expectString)(e)),oe=(e,d)=>{let h={};return null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),h},ot=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>(0,B.expectString)(e)),oi=(e,d)=>{let h={};return null!=e[u6]&&(h[u6]=(0,B.expectString)(e[u6])),null!=e[gi]&&(h[gi]=(0,B.expectString)(e[gi])),h},or=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>oi(e,d)),oa=(e,d)=>{let h={};return null!=e[uY]&&(h[uY]=oO(e[uY],d)),null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),null!=e[c8]&&(h[c8]=s3(e[c8],d)),h},on=(e,d)=>{let h={};return null!=e[hq]&&(h[fF]=(0,B.strictParseInt32)(e[hq])),null!=e[hG]&&(h[hG]=(0,B.expectString)(e[hG])),null!=e[hr]&&(h[hr]=(0,B.expectString)(e[hr])),null!=e[uW]&&(h[uW]=(0,B.strictParseInt32)(e[uW])),null!=e[p1]&&(h[p1]=(0,B.parseBoolean)(e[p1])),""===e.Part?h[hX]=[]:null!=e[hQ]&&(h[hX]=o3((0,B.getArrayIfSingleItem)(e[hQ]),d)),h},os=(e,d)=>{let h={};return null!=e[px]&&(h[px]=oo(e[px],d)),null!=e[hZ]&&(h[hZ]=(0,B.expectString)(e[hZ])),h},oo=(e,d)=>{let h={};return null!=e[cC]&&(h[cC]=(0,B.expectString)(e[cC])),null!=e[cM]&&(h[cM]=(0,B.expectString)(e[cM])),null!=e[pN]&&(h[pN]=(0,B.expectString)(e[pN])),null!=e[f3]&&(h[f3]=(0,B.expectString)(e[f3])),null!=e[yk]&&(h[f1]=(0,B.expectString)(e[yk])),h},ol=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>os(e,d)),od=(e,d)=>{let h={};return null!=e[fE]&&(h[fE]=(0,B.expectString)(e[fE])),h},oc=(e,d)=>{let h={};return null!=e[pN]&&(h[pN]=(0,B.expectString)(e[pN])),null!=e[cC]&&(h[cC]=(0,B.expectString)(e[cC])),h},op=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),""===e.Tag?h[fH]=[]:null!=e[fV]&&(h[fH]=lN((0,B.getArrayIfSingleItem)(e[fV]),d)),h},ou=(e,d)=>{let h={};return null!=e[pk]&&(h[pk]=(0,B.expectString)(e[pk])),null!=e[pr]&&(h[pr]=om(e[pr],d)),null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),""===e.Tiering?h[fG]=[]:null!=e[fW]&&(h[fG]=lL((0,B.getArrayIfSingleItem)(e[fW]),d)),h},oh=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>ou(e,d)),om=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),null!=e[fV]&&(h[fV]=lP(e[fV],d)),null!=e[lz]&&(h[lz]=op(e[lz],d)),h},of=(e,d)=>{let h={};return null!=e[cD]&&(h[cD]=oy(e[cD],d)),null!=e[pI]&&(h[pI]=(0,B.parseBoolean)(e[pI])),null!=e[pr]&&(h[pr]=ov(e[pr],d)),null!=e[pk]&&(h[pk]=(0,B.expectString)(e[pk])),null!=e[pG]&&(h[pG]=(0,B.expectString)(e[pG])),""===e.OptionalFields?h[hm]=[]:null!=e[hm]&&null!=e[hm][pp]&&(h[hm]=ow((0,B.getArrayIfSingleItem)(e[hm][pp]),d)),null!=e[fw]&&(h[fw]=ox(e[fw],d)),h},og=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>of(e,d)),oy=(e,d)=>{let h={};return null!=e[mK]&&(h[mK]=oS(e[mK],d)),h},ob=(e,d)=>{let h={};return null!=e[fe]&&(h[fh]=lT(e[fe],d)),null!=e[mZ]&&(h[fd]=l_(e[mZ],d)),h},ov=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),h},ow=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>(0,B.expectString)(e)),oS=(e,d)=>{let h={};return null!=e[l6]&&(h[l6]=(0,B.expectString)(e[l6])),null!=e[du]&&(h[du]=(0,B.expectString)(e[du])),null!=e[pu]&&(h[pu]=(0,B.expectString)(e[pu])),null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),null!=e[c6]&&(h[c6]=ob(e[c6],d)),h},ox=(e,d)=>{let h={};return null!=e[ph]&&(h[ph]=(0,B.expectString)(e[ph])),h},o_=(e,d)=>{let h={};return null!=e[pk]&&(h[pk]=(0,B.expectString)(e[pk])),null!=e[dH]&&(h[ub]=(0,B.expectString)(e[dH])),""===e.Event?h[pe]=[]:null!=e[c7]&&(h[pe]=s7((0,B.getArrayIfSingleItem)(e[c7]),d)),null!=e[pr]&&(h[pr]=oz(e[pr],d)),h},oE=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>o_(e,d)),oT=(e,d)=>{let h={};return null!=e[cO]&&(h[cO]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[cO]))),null!=e[cN]&&(h[cN]=(0,B.strictParseInt32)(e[cN])),null!=e[cK]&&(h[cK]=(0,B.parseBoolean)(e[cK])),h},ok=(e,d)=>{let h={};return null!=e[pi]&&(h[pi]=oT(e[pi],d)),null!=e[pN]&&(h[pN]=(0,B.expectString)(e[pN])),null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),null!=e[pr]&&(h[pr]=oA(e[pr],d)),null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),""===e.Transition?h[fX]=[]:null!=e[fZ]&&(h[fX]=lj((0,B.getArrayIfSingleItem)(e[fZ]),d)),""===e.NoncurrentVersionTransition?h[ho]=[]:null!=e[hl]&&(h[ho]=oF((0,B.getArrayIfSingleItem)(e[hl]),d)),null!=e[hn]&&(h[hn]=oj(e[hn],d)),null!=e[l4]&&(h[l4]=sk(e[l4],d)),h},oC=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),""===e.Tag?h[fH]=[]:null!=e[fV]&&(h[fH]=lN((0,B.getArrayIfSingleItem)(e[fV]),d)),null!=e[hR]&&(h[hR]=(0,B.strictParseLong)(e[hR])),null!=e[hL]&&(h[hL]=(0,B.strictParseLong)(e[hL])),h},oA=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),null!=e[fV]&&(h[fV]=lP(e[fV],d)),null!=e[hR]&&(h[hR]=(0,B.strictParseLong)(e[hR])),null!=e[hL]&&(h[hL]=(0,B.strictParseLong)(e[hL])),null!=e[lz]&&(h[lz]=oC(e[lz],d)),h},oP=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>ok(e,d)),oN=(e,d)=>{let h={};return null!=e[fA]&&(h[fA]=(0,B.expectString)(e[fA])),""===e.TargetGrants?h[fL]=[]:null!=e[fL]&&null!=e[fL][pm]&&(h[fL]=lI((0,B.getArrayIfSingleItem)(e[fL][pm]),d)),null!=e[fU]&&(h[fU]=(0,B.expectString)(e[fU])),null!=e[fj]&&(h[fj]=lR(e[fj],d)),h},oO=(e,d)=>{let h={};return null!=e[fy]&&(h[fy]=lf(e[fy],d)),h},oI=(e,d)=>{let h={};return null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),null!=e[c2]&&(h[c2]=lc(e[c2],d)),h},oR=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),""===e.Tag?h[fH]=[]:null!=e[fV]&&(h[fH]=lN((0,B.getArrayIfSingleItem)(e[fV]),d)),null!=e[dt]&&(h[dt]=(0,B.expectString)(e[dt])),h},oD=(e,d)=>{let h={};return null!=e[pk]&&(h[pk]=(0,B.expectString)(e[pk])),""===e.Filter||null!=e[pr]&&(h[pr]=o$((0,B.expectUnion)(e[pr]),d)),h},oL=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>oD(e,d)),o$=(e,d)=>null!=e[hF]?{Prefix:(0,B.expectString)(e[hF])}:null!=e[fV]?{Tag:lP(e[fV],d)}:null!=e[dt]?{AccessPointArn:(0,B.expectString)(e[dt])}:null!=e[lz]?{And:oR(e[lz],d)}:{$unknown:Object.entries(e)[0]},oM=(e,d)=>{let h={};return null!=e[f2]&&(h[f2]=(0,B.expectString)(e[f2])),null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),null!=e[ut]&&(h[ut]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[ut]))),null!=e[mG]&&(h[mG]=(0,B.expectString)(e[mG])),null!=e[hd]&&(h[hd]=oX(e[hd],d)),null!=e[ue]&&(h[ue]=oc(e[ue],d)),null!=e[dL]&&(h[dL]=(0,B.expectString)(e[dL])),null!=e[cc]&&(h[cc]=(0,B.expectString)(e[cc])),h},oB=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>oM(e,d)),oj=(e,d)=>{let h={};return null!=e[u9]&&(h[u9]=(0,B.strictParseInt32)(e[u9])),null!=e[hi]&&(h[hi]=(0,B.strictParseInt32)(e[hi])),h},oU=(e,d)=>{let h={};return null!=e[u9]&&(h[u9]=(0,B.strictParseInt32)(e[u9])),null!=e[mG]&&(h[mG]=(0,B.expectString)(e[mG])),null!=e[hi]&&(h[hi]=(0,B.strictParseInt32)(e[hi])),h},oF=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>oU(e,d)),oz=(e,d)=>{let h={};return null!=e[m4]&&(h[us]=lm(e[m4],d)),h},oq=(e,d)=>{let h={};return null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),null!=e[ux]&&(h[ux]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[ux]))),null!=e[c1]&&(h[c1]=(0,B.expectString)(e[c1])),""===e.ChecksumAlgorithm?h[dL]=[]:null!=e[dL]&&(h[dL]=sU((0,B.getArrayIfSingleItem)(e[dL]),d)),null!=e[cc]&&(h[cc]=(0,B.expectString)(e[cc])),null!=e[fx]&&(h[fx]=(0,B.strictParseLong)(e[fx])),null!=e[mG]&&(h[mG]=(0,B.expectString)(e[mG])),null!=e[hd]&&(h[hd]=oX(e[hd],d)),null!=e[mI]&&(h[mI]=lp(e[mI],d)),h},oV=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>oq(e,d)),oH=(e,d)=>{let h={};return null!=e[hv]&&(h[hv]=(0,B.expectString)(e[hv])),null!=e[mF]&&(h[mF]=oW(e[mF],d)),h},oK=(e,d)=>{let h={};return null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),h},oG=(e,d)=>{let h={};return null!=e[u4]&&(h[u4]=(0,B.expectString)(e[u4])),null!=e[mM]&&(h[mM]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[mM]))),h},oW=(e,d)=>{let h={};return null!=e[cP]&&(h[cP]=sJ(e[cP],d)),h},oJ=(e,d)=>{let h={};return null!=e[hK]&&(h[hK]=(0,B.strictParseInt32)(e[hK])),null!=e[fx]&&(h[fx]=(0,B.strictParseLong)(e[fx])),null!=e[dj]&&(h[dj]=(0,B.expectString)(e[dj])),null!=e[dU]&&(h[dU]=(0,B.expectString)(e[dU])),null!=e[dF]&&(h[dF]=(0,B.expectString)(e[dF])),null!=e[d5]&&(h[d5]=(0,B.expectString)(e[d5])),null!=e[d8]&&(h[d8]=(0,B.expectString)(e[d8])),h},oQ=(e,d)=>{let h={};return null!=e[c1]&&(h[c1]=(0,B.expectString)(e[c1])),""===e.ChecksumAlgorithm?h[dL]=[]:null!=e[dL]&&(h[dL]=sU((0,B.getArrayIfSingleItem)(e[dL]),d)),null!=e[cc]&&(h[cc]=(0,B.expectString)(e[cc])),null!=e[fx]&&(h[fx]=(0,B.strictParseLong)(e[fx])),null!=e[mG]&&(h[mG]=(0,B.expectString)(e[mG])),null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),null!=e[ge]&&(h[ge]=(0,B.expectString)(e[ge])),null!=e[pj]&&(h[pj]=(0,B.parseBoolean)(e[pj])),null!=e[ux]&&(h[ux]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[ux]))),null!=e[hd]&&(h[hd]=oX(e[hd],d)),null!=e[mI]&&(h[mI]=lp(e[mI],d)),h},oY=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>oQ(e,d)),oX=(e,d)=>{let h={};return null!=e[cC]&&(h[cC]=(0,B.expectString)(e[cC])),null!=e[pN]&&(h[pN]=(0,B.expectString)(e[pN])),h},oZ=(e,d)=>{let h={};return""===e.Rule?h[mz]=[]:null!=e[mF]&&(h[mz]=o0((0,B.getArrayIfSingleItem)(e[mF]),d)),h},o1=(e,d)=>{let h={};return null!=e[hA]&&(h[hA]=(0,B.expectString)(e[hA])),h},o0=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>o1(e,d)),o2=(e,d)=>{let h={};return null!=e[hK]&&(h[hK]=(0,B.strictParseInt32)(e[hK])),null!=e[ux]&&(h[ux]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[ux]))),null!=e[c1]&&(h[c1]=(0,B.expectString)(e[c1])),null!=e[fx]&&(h[fx]=(0,B.strictParseLong)(e[fx])),null!=e[dj]&&(h[dj]=(0,B.expectString)(e[dj])),null!=e[dU]&&(h[dU]=(0,B.expectString)(e[dU])),null!=e[dF]&&(h[dF]=(0,B.expectString)(e[dF])),null!=e[d5]&&(h[d5]=(0,B.expectString)(e[d5])),null!=e[d8]&&(h[d8]=(0,B.expectString)(e[d8])),h},o4=(e,d)=>{let h={};return null!=e[hV]&&(h[hV]=(0,B.expectString)(e[hV])),h},o6=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>o2(e,d)),o3=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>oJ(e,d)),o5=(e,d)=>{let h={};return null!=e[pW]&&(h[pW]=(0,B.parseBoolean)(e[pW])),h},o8=(e,d)=>{let h={};return null!=e[dN]&&(h[dN]=(0,B.strictParseLong)(e[dN])),null!=e[dT]&&(h[dT]=(0,B.strictParseLong)(e[dT])),null!=e[dP]&&(h[dP]=(0,B.strictParseLong)(e[dP])),h},o9=(e,d)=>{let h={};return null!=e[dk]&&(h[dk]=(0,B.parseBoolean)(e[dk])),null!=e[pJ]&&(h[pJ]=(0,B.parseBoolean)(e[pJ])),null!=e[dC]&&(h[dC]=(0,B.parseBoolean)(e[dC])),null!=e[mv]&&(h[mv]=(0,B.parseBoolean)(e[mv])),h},o7=(e,d)=>{let h={};return null!=e[pk]&&(h[pk]=(0,B.expectString)(e[pk])),null!=e[h7]&&(h[h4]=(0,B.expectString)(e[h7])),""===e.Event?h[pe]=[]:null!=e[c7]&&(h[pe]=s7((0,B.getArrayIfSingleItem)(e[c7]),d)),null!=e[pr]&&(h[pr]=oz(e[pr],d)),h},le=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>o7(e,d)),lt=(e,d)=>{let h={};return null!=e[pE]&&(h[pE]=(0,B.expectString)(e[pE])),null!=e[pT]&&(h[pT]=(0,B.expectString)(e[pT])),null!=e[h1]&&(h[h1]=(0,B.expectString)(e[h1])),null!=e[mh]&&(h[mh]=(0,B.expectString)(e[mh])),null!=e[mm]&&(h[mm]=(0,B.expectString)(e[mm])),h},li=(e,d)=>{let h={};return null!=e[pE]&&(h[pE]=(0,B.expectString)(e[pE])),null!=e[h1]&&(h[h1]=(0,B.expectString)(e[h1])),h},lr=(e,d)=>{let h={};return null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),h},la=(e,d)=>{let h={};return null!=e[mU]&&(h[mU]=(0,B.expectString)(e[mU])),""===e.Rule?h[mz]=[]:null!=e[mF]&&(h[mz]=ll((0,B.getArrayIfSingleItem)(e[mF]),d)),h},ln=(e,d)=>{let h={};return null!=e[pN]&&(h[pN]=(0,B.expectString)(e[pN])),null!=e[h0]&&(h[h0]=(0,B.strictParseInt32)(e[h0])),null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),null!=e[pr]&&(h[pr]=lo(e[pr],d)),null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),null!=e[ft]&&(h[ft]=lx(e[ft],d)),null!=e[cG]&&(h[cG]=oe(e[cG],d)),null!=e[cD]&&(h[cD]=s0(e[cD],d)),null!=e[c_]&&(h[c_]=sZ(e[c_],d)),h},ls=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),""===e.Tag?h[fH]=[]:null!=e[fV]&&(h[fH]=lN((0,B.getArrayIfSingleItem)(e[fV]),d)),h},lo=(e,d)=>{let h={};return null!=e[hF]&&(h[hF]=(0,B.expectString)(e[hF])),null!=e[fV]&&(h[fV]=lP(e[fV],d)),null!=e[lz]&&(h[lz]=ls(e[lz],d)),h},ll=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>ln(e,d)),ld=(e,d)=>{let h={};return null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),null!=e[fJ]&&(h[fJ]=lc(e[fJ],d)),h},lc=(e,d)=>{let h={};return null!=e[u2]&&(h[u2]=(0,B.strictParseInt32)(e[u2])),h},lp=(e,d)=>{let h={};return null!=e[pQ]&&(h[pQ]=(0,B.parseBoolean)(e[pQ])),null!=e[mp]&&(h[mp]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[mp]))),h},lu=(e,d)=>{let h={};return null!=e[cb]&&(h[cb]=sq(e[cb],d)),null!=e[mj]&&(h[mj]=lt(e[mj],d)),h},lh=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>lu(e,d)),lm=(e,d)=>{let h={};return""===e.FilterRule?h[pc]=[]:null!=e[po]&&(h[pc]=or((0,B.getArrayIfSingleItem)(e[po]),d)),h},lf=(e,d)=>{let h={};return null!=e[fP]&&(h[fP]=(0,B.expectString)(e[fP])),null!=e[fM]&&(h[fM]=(0,B.expectString)(e[fM])),null!=e[fC]&&(h[fC]=(0,B.expectString)(e[fC])),null!=e[fB]&&(h[fB]=(0,B.expectString)(e[fB])),h},lg=(e,d)=>{let h={};return null!=e[fr]&&(h[fr]=(0,B.expectString)(e[fr])),null!=e[uu]&&(h[uu]=(0,B.expectString)(e[uu])),h},ly=(e,d)=>{let h={};return""===e.Rule?h[mz]=[]:null!=e[mF]&&(h[mz]=lv((0,B.getArrayIfSingleItem)(e[mF]),d)),h},lb=(e,d)=>{let h={};return null!=e[dd]&&(h[dd]=lg(e[dd],d)),null!=e[dy]&&(h[dy]=(0,B.parseBoolean)(e[dy])),h},lv=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>lb(e,d)),lw=(e,d)=>{let h={};return null!=e[l3]&&(h[l3]=(0,B.expectString)(e[l3])),null!=e[mH]&&(h[mH]=(0,B.expectString)(e[mH])),null!=e[fm]&&(h[fm]=(0,B.expectString)(e[fm])),null!=e[pi]&&(h[pi]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[pi]))),h},lS=(e,d)=>({}),lx=(e,d)=>{let h={};return null!=e[m1]&&(h[m1]=lE(e[m1],d)),null!=e[mf]&&(h[mf]=lr(e[mf],d)),h},l_=(e,d)=>{let h={};return null!=e[ul]&&(h[ul]=(0,B.expectString)(e[ul])),h},lE=(e,d)=>{let h={};return null!=e[mq]&&(h[mq]=(0,B.expectString)(e[mq])),h},lT=(e,d)=>({}),lk=(e,d)=>{let h={};return null!=e[dN]&&(h[dN]=(0,B.strictParseLong)(e[dN])),null!=e[dT]&&(h[dT]=(0,B.strictParseLong)(e[dT])),null!=e[dP]&&(h[dP]=(0,B.strictParseLong)(e[dP])),h},lC=(e,d)=>{let h={};return null!=e[cS]&&(h[cS]=lA(e[cS],d)),h},lA=(e,d)=>{let h={};return null!=e[hM]&&(h[hM]=(0,B.expectString)(e[hM])),null!=e[cD]&&(h[cD]=sD(e[cD],d)),h},lP=(e,d)=>{let h={};return null!=e[us]&&(h[us]=(0,B.expectString)(e[us])),null!=e[gi]&&(h[gi]=(0,B.expectString)(e[gi])),h},lN=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>lP(e,d)),lO=(e,d)=>{let h={};return null!=e[px]&&(h[px]=oo(e[px],d)),null!=e[hZ]&&(h[hZ]=(0,B.expectString)(e[hZ])),h},lI=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>lO(e,d)),lR=(e,d)=>{let h={};return null!=e[m9]&&(h[m9]=lS(e[m9],d)),null!=e[hW]&&(h[hW]=o4(e[hW],d)),h},lD=(e,d)=>{let h={};return null!=e[cN]&&(h[cN]=(0,B.strictParseInt32)(e[cN])),null!=e[dc]&&(h[dc]=(0,B.expectString)(e[dc])),h},lL=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>lD(e,d)),l$=(e,d)=>{let h={};return null!=e[pk]&&(h[pk]=(0,B.expectString)(e[pk])),null!=e[fY]&&(h[fk]=(0,B.expectString)(e[fY])),""===e.Event?h[pe]=[]:null!=e[c7]&&(h[pe]=s7((0,B.getArrayIfSingleItem)(e[c7]),d)),null!=e[pr]&&(h[pr]=oz(e[pr],d)),h},lM=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>l$(e,d)),lB=(e,d)=>{let h={};return null!=e[cO]&&(h[cO]=(0,B.expectNonNull)((0,B.parseRfc3339DateTimeWithOffset)(e[cO]))),null!=e[cN]&&(h[cN]=(0,B.strictParseInt32)(e[cN])),null!=e[mG]&&(h[mG]=(0,B.expectString)(e[mG])),h},lj=(e,d)=>(e||[]).filter(e=>null!=e).map(e=>lB(e,d)),lU=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),lF=(e,d)=>(0,B.collectBody)(e,d).then(e=>d.utf8Encoder(e)),lz="And",lq="AnalyticsAndOperator",lV="AnalyticsConfiguration",lH="ACL",lK="AccessControlList",lG="AnalyticsConfigurationList",lW="AccessControlPolicy",lJ="AccessControlTranslation",lQ="AccelerateConfiguration",lY="AbortDate",lX="AnalyticsExportDestination",lZ="AnalyticsFilter",l1="AllowedHeader",l0="AllowedHeaders",l2="AnalyticsId",l4="AbortIncompleteMultipartUpload",l6="AccountId",l3="AccessKeyId",l5="AllowedMethod",l8="AllowedMethods",l9="AllowedOrigin",l7="AllowedOrigins",de="AccessPointAlias",dt="AccessPointArn",di="AllowQuotedRecordDelimiter",dr="AcceptRanges",da="AbortRuleId",dn="ArchiveStatus",ds="AnalyticsS3BucketDestination",dl="AnalyticsS3ExportFileFormat",dd="ApplyServerSideEncryptionByDefault",dc="AccessTier",dp="Account",du="Bucket",dh="BucketAccountId",dm="BucketAccelerateStatus",df="BypassGovernanceRetention",dg="BucketInfo",dy="BucketKeyEnabled",db="BucketLifecycleConfiguration",dv="BucketLocationConstraint",dw="BucketLocationName",dS="BucketLogsPermission",dx="BucketLoggingStatus",d_="BucketLocationType",dE="BucketName",dT="BytesProcessed",dk="BlockPublicAcls",dC="BlockPublicPolicy",dA="BucketRegion",dP="BytesReturned",dN="BytesScanned",dO="BucketType",dI="BucketVersioningStatus",dR="Buckets",dD="Credentials",dL="ChecksumAlgorithm",d$="CannedACL",dM="CreateBucketConfiguration",dB="CacheControl",dj="ChecksumCRC32",dU="ChecksumCRC32C",dF="ChecksumCRC64NVME",dz="ContentDisposition",dq="CreationDate",dV="ContentEncoding",dH="CloudFunction",dK="CloudFunctionConfiguration",dG="ContentLanguage",dW="ContentLength",dJ="ChecksumMode",dQ="ContentMD5",dY="CompletedMultipartUpload",dX="CORSConfiguration",dZ="CORSRule",d1="CORSRules",d0="CommonPrefixes",d2="CompletedPart",d4="ContentRange",d6="ConfirmRemoveSelfBucketAccess",d3="CopySource",d5="ChecksumSHA1",d8="ChecksumSHA256",d9="CopySourceIfMatch",d7="CopySourceIfModifiedSince",ce="CopySourceIfNoneMatch",ct="CopySourceIfUnmodifiedSince",ci="CopySourceRange",cr="CopySourceSSECustomerAlgorithm",ca="CopySourceSSECustomerKey",cn="CopySourceSSECustomerKeyMD5",cs="CSV",co="CopySourceVersionId",cl="CSVInput",cd="CSVOutput",cc="ChecksumType",cp="ContentType",cu="CompressionType",ch="ContinuationToken",cm="Checksum",cf="Contents",cg="Code",cy="Comments",cb="Condition",cv="Delimiter",cw="DaysAfterInitiation",cS="DataExport",cx="DeleteMarker",c_="DeleteMarkerReplication",cE="DeleteMarkerReplicationStatus",cT="DeleteMarkerVersionId",ck="DeleteMarkers",cC="DisplayName",cA="DataRedundancy",cP="DefaultRetention",cN="Days",cO="Date",cI="Deleted",cR="Delete",cD="Destination",cL="Description",c$="Expires",cM="EmailAddress",cB="EventBridgeConfiguration",cj="ExpectedBucketOwner",cU="ErrorCode",cF="EncryptionConfiguration",cz="ErrorDocument",cq="ExposeHeaders",cV="ExposeHeader",cH="ErrorMessage",cK="ExpiredObjectDeleteMarker",cG="ExistingObjectReplication",cW="ExistingObjectReplicationStatus",cJ="EnableRequestProgress",cQ="ExpiresString",cY="ExpectedSourceBucketOwner",cX="ExpirationStatus",cZ="EncodingType",c1="ETag",c0="EncryptionType",c2="EventThreshold",c4="ExpressionType",c6="Encryption",c3="Enabled",c5="End",c8="Error",c9="Errors",c7="Event",pe="Events",pt="Expression",pi="Expiration",pr="Filter",pa="FieldDelimiter",pn="FileHeaderInfo",ps="FetchOwner",po="FilterRule",pl="FilterRuleName",pd="FilterRuleValue",pc="FilterRules",pp="Field",pu="Format",ph="Frequency",pm="Grant",pf="GrantFullControl",pg="GlacierJobParameters",py="GrantRead",pb="GrantReadACP",pv="GrantWrite",pw="GrantWriteACP",pS="Grants",px="Grantee",p_="HttpErrorCodeReturnedEquals",pE="HostName",pT="HttpRedirectCode",pk="Id",pC="InventoryConfiguration",pA="InventoryConfigurationList",pP="IndexDocument",pN="ID",pO="InventoryDestination",pI="IsEnabled",pR="InventoryEncryption",pD="InventoryFilter",pL="InventoryFormat",p$="InventoryFrequency",pM="InventoryId",pB="InventoryIncludedObjectVersions",pj="IsLatest",pU="IfMatch",pF="IfMatchInitiatedTime",pz="IfMatchLastModifiedTime",pq="IfMatchSize",pV="IfModifiedSince",pH="IfNoneMatch",pK="InventoryOptionalField",pG="IncludedObjectVersions",pW="IsPublic",pJ="IgnorePublicAcls",pQ="IsRestoreInProgress",pY="InputSerialization",pX="InventoryS3BucketDestination",pZ="InventorySchedule",p1="IsTruncated",p0="IntelligentTieringAndOperator",p2="IntelligentTieringAccessTier",p4="IntelligentTieringConfiguration",p6="IntelligentTieringConfigurationList",p3="IntelligentTieringDays",p5="IntelligentTieringFilter",p8="IntelligentTieringId",p9="IntelligentTieringStatus",p7="IfUnmodifiedSince",ue="Initiator",ut="Initiated",ui="JSON",ur="JSONInput",ua="JSONOutput",un="JSONType",us="Key",uo="KeyCount",ul="KeyId",ud="KeyMarker",uc="KMSContext",up="KMSKeyId",uu="KMSMasterKeyID",uh="KeyPrefixEquals",um="Location",uf="LocationConstraint",ug="LoggingEnabled",uy="LifecycleExpiration",ub="LambdaFunctionArn",uv="LambdaFunctionConfigurations",uw="LambdaFunctionConfiguration",uS="LocationInfo",ux="LastModified",u_="LastModifiedTime",uE="LocationNameAsString",uT="LocationPrefix",uk="LifecycleRule",uC="LifecycleRuleAndOperator",uA="LifecycleRuleFilter",uP="LocationType",uN="Marker",uO="MetricsAndOperator",uI="MaxAgeSeconds",uR="MaxBuckets",uD="MetricsConfiguration",uL="MetricsConfigurationList",u$="MetadataDirective",uM="MaxDirectoryBuckets",uB="MfaDelete",uj="MetadataEntry",uU="MetricsFilter",uF="MFA",uz="MFADelete",uq="MetricsId",uV="MaxKeys",uH="MetadataKey",uK="MissingMeta",uG="MpuObjectSize",uW="MaxParts",uJ="MetricsStatus",uQ="MetadataTableConfiguration",uY="MetadataTableConfigurationResult",uX="MaxUploads",uZ="MetadataValue",u1="Metrics",u0="Message",u2="Minutes",u4="Mode",u6="Name",u3="NotificationConfiguration",u5="NotificationConfigurationFilter",u8="NextContinuationToken",u9="NoncurrentDays",u7="NotificationId",he="NextKeyMarker",ht="NextMarker",hi="NewerNoncurrentVersions",hr="NextPartNumberMarker",ha="NextUploadIdMarker",hn="NoncurrentVersionExpiration",hs="NextVersionIdMarker",ho="NoncurrentVersionTransitions",hl="NoncurrentVersionTransition",hd="Owner",hc="ObjectAttributes",hp="OwnershipControls",hu="ObjectCannedACL",hh="OwnershipControlsRule",hm="OptionalFields",hf="ObjectIdentifier",hg="ObjectKey",hy="OutputLocation",hb="ObjectLockConfiguration",hv="ObjectLockEnabled",hw="ObjectLockEnabledForBucket",hS="ObjectLockLegalHold",hx="ObjectLockLegalHoldStatus",h_="ObjectLockMode",hE="ObjectLockRetention",hT="ObjectLockRetentionMode",hk="ObjectLockRetainUntilDate",hC="ObjectLockRule",hA="ObjectOwnership",hP="OptionalObjectAttributes",hN="OwnerOverride",hO="ObjectParts",hI="OutputSerialization",hR="ObjectSizeGreaterThan",hD="ObjectSizeGreaterThanBytes",hL="ObjectSizeLessThan",h$="ObjectSizeLessThanBytes",hM="OutputSchemaVersion",hB="ObjectSize",hj="ObjectVersionId",hU="Objects",hF="Prefix",hz="PublicAccessBlockConfiguration",hq="PartsCount",hV="PartitionDateSource",hH="ParquetInput",hK="PartNumber",hG="PartNumberMarker",hW="PartitionedPrefix",hJ="Payer",hQ="Part",hY="Parquet",hX="Parts",hZ="Permission",h1="Protocol",h0="Priority",h2="Quiet",h4="QueueArn",h6="QueueConfiguration",h3="QueueConfigurations",h5="QuoteCharacter",h8="QuoteEscapeCharacter",h9="QuoteFields",h7="Queue",me="Range",mt="RedirectAllRequestsTo",mi="RequestCharged",mr="ResponseCacheControl",ma="ResponseContentDisposition",mn="ResponseContentEncoding",ms="ResponseContentLanguage",mo="ResponseContentType",ml="ReplicationConfiguration",md="RecordDelimiter",mc="ResponseExpires",mp="RestoreExpiryDate",mu="ReplicaKmsKeyID",mh="ReplaceKeyPrefixWith",mm="ReplaceKeyWith",mf="ReplicaModifications",mg="ReplicaModificationsStatus",my="RestoreOutputPath",mb="RequestPayer",mv="RestrictPublicBuckets",mw="RequestPaymentConfiguration",mS="RequestProgress",mx="RequestRoute",m_="ReplicationRuleAndOperator",mE="ReplicationRuleFilter",mT="ReplicationRuleStatus",mk="RestoreRequestType",mC="ReplicationRule",mA="RestoreRequest",mP="RoutingRules",mN="RoutingRule",mO="ReplicationStatus",mI="RestoreStatus",mR="RequestToken",mD="ReplicationTimeStatus",mL="ReplicationTimeValue",m$="ReplicationTime",mM="RetainUntilDate",mB="Restore",mj="Redirect",mU="Role",mF="Rule",mz="Rules",mq="Status",mV="StartAfter",mH="SecretAccessKey",mK="S3BucketDestination",mG="StorageClass",mW="StorageClassAnalysis",mJ="StorageClassAnalysisDataExport",mQ="StorageClassAnalysisSchemaVersion",mY="StatusCode",mX="SkipDestinationValidation",mZ="SSE-KMS",m1="SseKmsEncryptedObjects",m0="SseKmsEncryptedObjectsStatus",m2="S3KeyFilter",m4="S3Key",m6="S3Location",m3="SessionMode",m5="SelectObjectContentRequest",m8="SelectParameters",m9="SimplePrefix",m7="ScanRange",fe="SSE-S3",ft="SourceSelectionCriteria",fi="ServerSideEncryption",fr="SSEAlgorithm",fa="ServerSideEncryptionByDefault",fn="ServerSideEncryptionConfiguration",fs="SSECustomerAlgorithm",fo="SSECustomerKey",fl="SSECustomerKeyMD5",fd="SSEKMS",fc="SSEKMSEncryptionContext",fp="SSEKMSKeyId",fu="ServerSideEncryptionRule",fh="SSES3",fm="SessionToken",ff="S3TablesBucketArn",fg="S3TablesDestination",fy="S3TablesDestinationResult",fb="S3TablesName",fv="S3",fw="Schedule",fS="Setting",fx="Size",f_="Start",fE="Suffix",fT="Tagging",fk="TopicArn",fC="TableArn",fA="TargetBucket",fP="TableBucketArn",fN="TagCount",fO="TopicConfiguration",fI="TopicConfigurations",fR="TaggingDirective",fD="TransitionDefaultMinimumObjectSize",fL="TargetGrants",f$="TargetGrant",fM="TableName",fB="TableNamespace",fj="TargetObjectKeyFormat",fU="TargetPrefix",fF="TotalPartsCount",fz="TagSet",fq="TransitionStorageClass",fV="Tag",fH="Tags",fK="Tier",fG="Tierings",fW="Tiering",fJ="Time",fQ="Token",fY="Topic",fX="Transitions",fZ="Transition",f1="Type",f0="Upload",f2="UploadId",f4="UploadIdMarker",f6="UserMetadata",f3="URI",f5="Uploads",f8="Version",f9="VersionCount",f7="VersioningConfiguration",ge="VersionId",gt="VersionIdMarker",gi="Value",gr="Versions",ga="WebsiteConfiguration",gn="WriteOffsetBytes",gs="WebsiteRedirectLocation",go="Years",gl="analytics",gd="accelerate",gc="acl",gp="accept-ranges",gu="attributes",gh="bucket-region",gm="cors",gf="cache-control",gg="content-disposition",gy="content-encoding",gb="content-language",gv="content-length",gw="content-md5",gS="content-range",gx="content-type",g_="continuation-token",gE="delete",gT="delimiter",gk="expires",gC="encryption",gA="encoding-type",gP="etag",gN="expiresstring",gO="fetch-owner",gI="id",gR="if-match",gD="if-modified-since",gL="inventory",g$="if-none-match",gM="intelligent-tiering",gB="if-unmodified-since",gj="key-marker",gU="lifecycle",gF="legal-hold",gz="last-modified",gq="location",gV="logging",gH="list-type",gK="metrics",gG="metadataTable",gW="marker",gJ="max-buckets",gQ="max-directory-buckets",gY="member",gX="max-keys",gZ="max-parts",g1="max-uploads",g0="notification",g2="ownershipControls",g4="object-lock",g6="policy",g3="publicAccessBlock",g5="partNumber",g8="policyStatus",g9="part-number-marker",g7="prefix",ye="replication",yt="requestPayment",yi="range",yr="response-cache-control",ya="response-content-disposition",yn="response-content-encoding",ys="response-content-language",yo="response-content-type",yl="response-expires",yd="restore",yc="retention",yp="session",yu="start-after",yh="select",ym="select-type",yf="tagging",yg="torrent",yy="uploads",yb="uploadId",yv="upload-id-marker",yw="versioning",yS="versionId",yx='<?xml version="1.0" encoding="UTF-8"?>',y_="versions",yE="version-id-marker",yT="website",yk="xsi:type",yC="x-amz-acl",yA="x-amz-abort-date",yP="x-amz-access-point-alias",yN="x-amz-abort-rule-id",yO="x-amz-archive-status",yI="x-amz-bypass-governance-retention",yR="x-amz-bucket-location-name",yD="x-amz-bucket-location-type",yL="x-amz-bucket-object-lock-enabled",y$="x-amz-bucket-object-lock-token",yM="x-amz-bucket-region",yB="x-amz-checksum-algorithm",yj="x-amz-checksum-crc32",yU="x-amz-checksum-crc32c",yF="x-amz-checksum-crc64nvme",yz="x-amz-checksum-mode",yq="x-amz-confirm-remove-self-bucket-access",yV="x-amz-checksum-sha1",yH="x-amz-checksum-sha256",yK="x-amz-copy-source",yG="x-amz-copy-source-if-match",yW="x-amz-copy-source-if-modified-since",yJ="x-amz-copy-source-if-none-match",yQ="x-amz-copy-source-if-unmodified-since",yY="x-amz-create-session-mode",yX="x-amz-copy-source-range",yZ="x-amz-copy-source-server-side-encryption-customer-algorithm",y1="x-amz-copy-source-server-side-encryption-customer-key",y0="x-amz-copy-source-server-side-encryption-customer-key-md5",y2="x-amz-copy-source-version-id",y4="x-amz-checksum-type",y6="x-amz-delete-marker",y3="x-amz-expiration",y5="x-amz-expected-bucket-owner",y8="x-amz-fwd-error-code",y9="x-amz-fwd-error-message",y7="x-amz-fwd-header-accept-ranges",be="x-amz-fwd-header-cache-control",bt="x-amz-fwd-header-content-disposition",bi="x-amz-fwd-header-content-encoding",br="x-amz-fwd-header-content-language",ba="x-amz-fwd-header-content-range",bn="x-amz-fwd-header-content-type",bs="x-amz-fwd-header-etag",bo="x-amz-fwd-header-expires",bl="x-amz-fwd-header-last-modified",bd="x-amz-fwd-header-x-amz-checksum-crc32",bc="x-amz-fwd-header-x-amz-checksum-crc32c",bp="x-amz-fwd-header-x-amz-checksum-crc64nvme",bu="x-amz-fwd-header-x-amz-checksum-sha1",bh="x-amz-fwd-header-x-amz-checksum-sha256",bm="x-amz-fwd-header-x-amz-delete-marker",bf="x-amz-fwd-header-x-amz-expiration",bg="x-amz-fwd-header-x-amz-missing-meta",by="x-amz-fwd-header-x-amz-mp-parts-count",bb="x-amz-fwd-header-x-amz-object-lock-legal-hold",bv="x-amz-fwd-header-x-amz-object-lock-mode",bw="x-amz-fwd-header-x-amz-object-lock-retain-until-date",bS="x-amz-fwd-header-x-amz-restore",bx="x-amz-fwd-header-x-amz-request-charged",b_="x-amz-fwd-header-x-amz-replication-status",bE="x-amz-fwd-header-x-amz-storage-class",bT="x-amz-fwd-header-x-amz-server-side-encryption",bk="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",bC="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",bA="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",bP="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",bN="x-amz-fwd-header-x-amz-tagging-count",bO="x-amz-fwd-header-x-amz-version-id",bI="x-amz-fwd-status",bR="x-amz-grant-full-control",bD="x-amz-grant-read",bL="x-amz-grant-read-acp",b$="x-amz-grant-write",bM="x-amz-grant-write-acp",bB="x-amz-if-match-initiated-time",bj="x-amz-if-match-last-modified-time",bU="x-amz-if-match-size",bF="x-amz-mfa",bz="x-amz-metadata-directive",bq="x-amz-missing-meta",bV="x-amz-mp-object-size",bH="x-amz-max-parts",bK="x-amz-mp-parts-count",bG="x-amz-object-attributes",bW="x-amz-object-lock-legal-hold",bJ="x-amz-object-lock-mode",bQ="x-amz-object-lock-retain-until-date",bY="x-amz-object-ownership",bX="x-amz-optional-object-attributes",bZ="x-amz-object-size",b1="x-amz-part-number-marker",b0="x-amz-restore",b2="x-amz-request-charged",b4="x-amz-restore-output-path",b6="x-amz-request-payer",b3="x-amz-request-route",b5="x-amz-replication-status",b8="x-amz-request-token",b9="x-amz-storage-class",b7="x-amz-sdk-checksum-algorithm",ve="x-amz-skip-destination-validation",vt="x-amz-source-expected-bucket-owner",vi="x-amz-server-side-encryption",vr="x-amz-server-side-encryption-aws-kms-key-id",va="x-amz-server-side-encryption-bucket-key-enabled",vn="x-amz-server-side-encryption-context",vs="x-amz-server-side-encryption-customer-algorithm",vo="x-amz-server-side-encryption-customer-key",vl="x-amz-server-side-encryption-customer-key-md5",vd="x-amz-tagging",vc="x-amz-tagging-count",vp="x-amz-tagging-directive",vu="x-amz-transition-default-minimum-object-size",vh="x-amz-version-id",vm="x-amz-write-offset-bytes",vf="x-amz-website-redirect-location",vg="x-id";class vy extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(eX).de(iE).build(){}var vb=h(79477);class vv extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(en,ea).ser(eZ).de(iT).build(){}class vw extends B.Command.classBuilder().ep({...q,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(eo,es).ser(e1).de(ik).build(){}var vS=h(12885);class vx extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vS.getLocationConstraintPlugin)(h)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(e0).de(iC).build(){}var v_=h(11996);class vE extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(e2).de(iA).build(){}class vT extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(ed,el).ser(e4).de(iP).build(){}class vk extends B.Command.classBuilder().ep({...q,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(eu,ep).ser(e6).de(iN).build(){}class vC extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(e5).de(iI).build(){}class vA extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(e3).de(iO).build(){}class vP extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(e8).de(iR).build(){}class vN extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(e9).de(iD).build(){}class vO extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(e7).de(iL).build(){}class vI extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(te).de(i$).build(){}class vR extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(tt).de(iM).build(){}class vD extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(ti).de(iB).build(){}class vL extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(tr).de(ij).build(){}class v$ extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(ta).de(iU).build(){}class vM extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(tn).de(iF).build(){}class vB extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(ts).de(iz).build(){}class vj extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(to).de(iq).build(){}class vU extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(tl).de(iV).build(){}class vF extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(td).de(iH).build(){}class vz extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(tc).de(iK).build(){}class vq extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(tp).de(iG).build(){}class vV extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(tu).de(iW).build(){}class vH extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(th).de(iJ).build(){}class vK extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(tm).de(iQ).build(){}class vG extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(tf).de(iY).build(){}class vW extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(tg).de(iX).build(){}class vJ extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,eg).ser(ty).de(iZ).build(){}class vQ extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(tb).de(i1).build(){}class vY extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,ex).ser(tv).de(i0).build(){}class vX extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(tw).de(i2).build(){}class vZ extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(tS).de(i4).build(){}class v1 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(tx).de(i6).build(){}class v0 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(t_).de(i3).build(){}class v2 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(tE).de(i5).build(){}class v4 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(tT).de(i8).build(){}class v6 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(tk).de(i9).build(){}class v3 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(tC).de(i7).build(){}class v5 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(tA).de(re).build(){}class v8 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(tP).de(rt).build(){}class v9 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(tN).de(ri).build(){}class v7 extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(tO).de(rr).build(){}class we extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(tI).de(ra).build(){}class wt extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(tR).de(rn).build(){}class wi extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(tL).de(ro).build(){}class wr extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(eT,void 0).ser(t$).de(rl).build(){}class wa extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),(0,vb.getSsecPlugin)(h),(0,j.getS3ExpiresMiddlewarePlugin)(h)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(eE,e_).ser(tD).de(rs).build(){}class wn extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(tM).de(rd).build(){}class ws extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(tB).de(rc).build(){}class wo extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(tj).de(rp).build(){}class wl extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(tU).de(ru).build(){}class wd extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,ek).ser(tF).de(rh).build(){}class wc extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(tz).de(rm).build(){}class wp extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(tq).de(rf).build(){}class wu extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h),(0,j.getS3ExpiresMiddlewarePlugin)(h)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(eA,eC).ser(tV).de(rg).build(){}class wh extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(tH).de(ry).build(){}class wm extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(tK).de(rb).build(){}class wf extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,eP).ser(tG).de(rv).build(){}class wg extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(tW).de(rw).build(){}class wy extends B.Command.classBuilder().ep(q).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(tJ).de(rS).build(){}class wb extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(tQ).de(rx).build(){}class wv extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(tY).de(r_).build(){}class ww extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(tX).de(rE).build(){}class wS extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(tZ).de(rT).build(){}class wx extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(t1).de(rk).build(){}class w_ extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(eN,void 0).ser(t0).de(rC).build(){}class wE extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(t2).de(rA).build(){}class wT extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(t4).de(rP).build(){}class wk extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(t6).de(rN).build(){}class wC extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(t3).de(rO).build(){}class wA extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(e$,void 0).ser(t5).de(rI).build(){}class wP extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(t8).de(rR).build(){}class wN extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(eM,void 0).ser(t9).de(rD).build(){}class wO extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(t7).de(rL).build(){}class wI extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(ie).de(r$).build(){}class wR extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(it).de(rM).build(){}class wD extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(ii).de(rB).build(){}class wL extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(ir).de(rj).build(){}class w$ extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(ia).de(rU).build(){}class wM extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(is).de(rF).build(){}class wB extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(io).de(rz).build(){}class wj extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(il).de(rq).build(){}class wU extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(id).de(rV).build(){}class wF extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(ic).de(rH).build(){}class wz extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(iu).de(rG).build(){}class wq extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,j.getCheckContentLengthHeaderPlugin)(h),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(ej,eB).ser(ip).de(rK).build(){}class wV extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(ih).de(rW).build(){}class wH extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(im).de(rJ).build(){}class wK extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(ig).de(rQ).build(){}class wG extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(iy).de(rY).build(){}class wW extends B.Command.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(ib).de(rX).build(){}class wJ extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,j.getThrow200ExceptionsPlugin)(h)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(eV,void 0).ser(iv).de(rZ).build(){}class wQ extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(eK,eH).ser(iw).de(r1).build(){}class wY extends B.Command.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,v_.getFlexibleChecksumsPlugin)(h,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(eW,eG).ser(iS).de(r0).build(){}class wX extends B.Command.classBuilder().ep({...q,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions()),(0,j.getThrow200ExceptionsPlugin)(h),(0,vb.getSsecPlugin)(h)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(eQ,eJ).ser(ix).de(r2).build(){}class wZ extends B.Command.classBuilder().ep({...q,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(e,d,h,m){return[(0,F.getSerdePlugin)(h,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(h,e.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(eY,void 0).ser(i_).de(r4).build(){}var w1=h(34549),w0=h(38699),w2=h(49013),w4=h(13095),w6=h(13616),w3=h(50809),w5=h(46897),w8=h(34834),w9=h(50366),w7=h(37122),Se=h(96263),St=h(45800),Si=h(46122),Sr=h(92307),Sa=h(8891);let Sn="required",Ss="type",So="rules",Sl="conditions",Sd="fn",Sc="argv",Sp="ref",Su="assign",Sh="url",Sm="properties",Sf="backend",Sg="authSchemes",Sy="disableDoubleEncoding",Sb="signingName",Sv="signingRegion",Sw="headers",SS="signingRegionSet",Sx="isSet",S_="booleanEquals",SE="error",ST="aws.partition",Sk="stringEquals",SC="getAttr",SA="name",SP="substring",SN="bucketSuffix",SO="parseURL",SI="endpoint",SR="tree",SD="aws.isVirtualHostableS3Bucket",SL="{url#scheme}://{Bucket}.{url#authority}{url#path}",S$="not",SM="accessPointSuffix",SB="{url#scheme}://{url#authority}{url#path}",Sj="hardwareType",SU="regionPrefix",SF="bucketAliasSuffix",Sz="outpostId",Sq="isValidHostLabel",SV="sigv4a",SH="s3-outposts",SK="s3",SG="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",SW="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",SJ="https://{Bucket}.s3.{partitionResult#dnsSuffix}",SQ="aws.parseArn",SY="bucketArn",SX="arnType",SZ="",S1="s3-object-lambda",S0="accesspoint",S2="accessPointName",S4="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",S6="mrapPartition",S3="outpostType",S5="arnPrefix",S8="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",S9="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",S7="https://s3.{partitionResult#dnsSuffix}",xe={[Sn]:!1,[Ss]:"String"},xt={[Sn]:!0,default:!1,[Ss]:"Boolean"},xi={[Sn]:!1,[Ss]:"Boolean"},xr={[Sd]:S_,[Sc]:[{[Sp]:"Accelerate"},!0]},xa={[Sd]:S_,[Sc]:[{[Sp]:"UseFIPS"},!0]},xn={[Sd]:S_,[Sc]:[{[Sp]:"UseDualStack"},!0]},xs={[Sd]:Sx,[Sc]:[{[Sp]:"Endpoint"}]},xo={[Sd]:ST,[Sc]:[{[Sp]:"Region"}],[Su]:"partitionResult"},xl={[Sd]:Sk,[Sc]:[{[Sd]:SC,[Sc]:[{[Sp]:"partitionResult"},SA]},"aws-cn"]},xd={[Sd]:Sx,[Sc]:[{[Sp]:"Bucket"}]},xc={[Sp]:"Bucket"},xp={[Sl]:[xn],[SE]:"S3Express does not support Dual-stack.",[Ss]:SE},xu={[Sl]:[xr],[SE]:"S3Express does not support S3 Accelerate.",[Ss]:SE},xh={[Sl]:[xs,{[Sd]:SO,[Sc]:[{[Sp]:"Endpoint"}],[Su]:"url"}],[So]:[{[Sl]:[{[Sd]:Sx,[Sc]:[{[Sp]:"DisableS3ExpressSessionAuth"}]},{[Sd]:S_,[Sc]:[{[Sp]:"DisableS3ExpressSessionAuth"},!0]}],[So]:[{[Sl]:[{[Sd]:S_,[Sc]:[{[Sd]:SC,[Sc]:[{[Sp]:"url"},"isIp"]},!0]}],[So]:[{[Sl]:[{[Sd]:"uriEncode",[Sc]:[xc],[Su]:"uri_encoded_bucket"}],[So]:[{[SI]:{[Sh]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Sm]:{[Sf]:"S3Express",[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:"s3express",[Sv]:"{Region}"}]},[Sw]:{}},[Ss]:SI}],[Ss]:SR}],[Ss]:SR},{[Sl]:[{[Sd]:SD,[Sc]:[xc,!1]}],[So]:[{[SI]:{[Sh]:SL,[Sm]:{[Sf]:"S3Express",[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:"s3express",[Sv]:"{Region}"}]},[Sw]:{}},[Ss]:SI}],[Ss]:SR},{[SE]:"S3Express bucket name is not a valid virtual hostable name.",[Ss]:SE}],[Ss]:SR},{[Sl]:[{[Sd]:S_,[Sc]:[{[Sd]:SC,[Sc]:[{[Sp]:"url"},"isIp"]},!0]}],[So]:[{[Sl]:[{[Sd]:"uriEncode",[Sc]:[xc],[Su]:"uri_encoded_bucket"}],[So]:[{[SI]:{[Sh]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Sm]:{[Sf]:"S3Express",[Sg]:[{[Sy]:!0,[SA]:"sigv4-s3express",[Sb]:"s3express",[Sv]:"{Region}"}]},[Sw]:{}},[Ss]:SI}],[Ss]:SR}],[Ss]:SR},{[Sl]:[{[Sd]:SD,[Sc]:[xc,!1]}],[So]:[{[SI]:{[Sh]:SL,[Sm]:{[Sf]:"S3Express",[Sg]:[{[Sy]:!0,[SA]:"sigv4-s3express",[Sb]:"s3express",[Sv]:"{Region}"}]},[Sw]:{}},[Ss]:SI}],[Ss]:SR},{[SE]:"S3Express bucket name is not a valid virtual hostable name.",[Ss]:SE}],[Ss]:SR},xm={[Sd]:SO,[Sc]:[{[Sp]:"Endpoint"}],[Su]:"url"},xf={[Sd]:S_,[Sc]:[{[Sd]:SC,[Sc]:[{[Sp]:"url"},"isIp"]},!0]},xg={[Sp]:"url"},xy={[Sd]:"uriEncode",[Sc]:[xc],[Su]:"uri_encoded_bucket"},xb={[Sf]:"S3Express",[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:"s3express",[Sv]:"{Region}"}]},xv={},xw={[Sd]:SD,[Sc]:[xc,!1]},xS={[SE]:"S3Express bucket name is not a valid virtual hostable name.",[Ss]:SE},xx={[Sd]:Sx,[Sc]:[{[Sp]:"UseS3ExpressControlEndpoint"}]},x_={[Sd]:S_,[Sc]:[{[Sp]:"UseS3ExpressControlEndpoint"},!0]},xE={[Sd]:S$,[Sc]:[xs]},xT={[SE]:"Unrecognized S3Express bucket name format.",[Ss]:SE},xk={[Sd]:S$,[Sc]:[xd]},xC={[Sp]:Sj},xA={[Sl]:[xE],[SE]:"Expected a endpoint to be specified but no endpoint was found",[Ss]:SE},xP={[Sg]:[{[Sy]:!0,[SA]:SV,[Sb]:SH,[SS]:["*"]},{[Sy]:!0,[SA]:"sigv4",[Sb]:SH,[Sv]:"{Region}"}]},xN={[Sd]:S_,[Sc]:[{[Sp]:"ForcePathStyle"},!1]},xO={[Sp]:"ForcePathStyle"},xI={[Sd]:S_,[Sc]:[{[Sp]:"Accelerate"},!1]},xR={[Sd]:Sk,[Sc]:[{[Sp]:"Region"},"aws-global"]},xD={[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:SK,[Sv]:"us-east-1"}]},xL={[Sd]:S$,[Sc]:[xR]},x$={[Sd]:S_,[Sc]:[{[Sp]:"UseGlobalEndpoint"},!0]},xM={[Sh]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Sm]:{[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:SK,[Sv]:"{Region}"}]},[Sw]:{}},xB={[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:SK,[Sv]:"{Region}"}]},xj={[Sd]:S_,[Sc]:[{[Sp]:"UseGlobalEndpoint"},!1]},xU={[Sd]:S_,[Sc]:[{[Sp]:"UseDualStack"},!1]},xF={[Sh]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},xz={[Sd]:S_,[Sc]:[{[Sp]:"UseFIPS"},!1]},xq={[Sh]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},xV={[Sh]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},xH={[Sd]:S_,[Sc]:[{[Sd]:SC,[Sc]:[xg,"isIp"]},!1]},xK={[Sh]:SG,[Sm]:xB,[Sw]:{}},xG={[Sh]:SL,[Sm]:xB,[Sw]:{}},xW={[SI]:xG,[Ss]:SI},xJ={[Sh]:SW,[Sm]:xB,[Sw]:{}},xQ={[Sh]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},xY={[SE]:"Invalid region: region was not a valid DNS name.",[Ss]:SE},xX={[Sp]:SY},xZ={[Sp]:SX},x1={[Sd]:SC,[Sc]:[xX,"service"]},x0={[Sp]:S2},x2={[Sl]:[xn],[SE]:"S3 Object Lambda does not support Dual-stack",[Ss]:SE},x4={[Sl]:[xr],[SE]:"S3 Object Lambda does not support S3 Accelerate",[Ss]:SE},x6={[Sl]:[{[Sd]:Sx,[Sc]:[{[Sp]:"DisableAccessPoints"}]},{[Sd]:S_,[Sc]:[{[Sp]:"DisableAccessPoints"},!0]}],[SE]:"Access points are not supported for this operation",[Ss]:SE},x3={[Sl]:[{[Sd]:Sx,[Sc]:[{[Sp]:"UseArnRegion"}]},{[Sd]:S_,[Sc]:[{[Sp]:"UseArnRegion"},!1]},{[Sd]:S$,[Sc]:[{[Sd]:Sk,[Sc]:[{[Sd]:SC,[Sc]:[xX,"region"]},"{Region}"]}]}],[SE]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[Ss]:SE},x5={[Sd]:SC,[Sc]:[{[Sp]:"bucketPartition"},SA]},x8={[Sd]:SC,[Sc]:[xX,"accountId"]},x9={[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:S1,[Sv]:"{bucketArn#region}"}]},x7={[SE]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[Ss]:SE},_e={[SE]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[Ss]:SE},_t={[SE]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[Ss]:SE},_i={[SE]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[Ss]:SE},_r={[SE]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[Ss]:SE},_a={[SE]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[Ss]:SE},_n={[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:SK,[Sv]:"{bucketArn#region}"}]},_s={[Sg]:[{[Sy]:!0,[SA]:SV,[Sb]:SH,[SS]:["*"]},{[Sy]:!0,[SA]:"sigv4",[Sb]:SH,[Sv]:"{bucketArn#region}"}]},_o={[Sd]:SQ,[Sc]:[xc]},_l={[Sh]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xB,[Sw]:{}},_d={[Sh]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xB,[Sw]:{}},_c={[Sh]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xB,[Sw]:{}},_p={[Sh]:S8,[Sm]:xB,[Sw]:{}},_u={[Sh]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xB,[Sw]:{}},_h={[Sp]:"UseObjectLambdaEndpoint"},_m={[Sg]:[{[Sy]:!0,[SA]:"sigv4",[Sb]:S1,[Sv]:"{Region}"}]},_f={[Sh]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},_g={[Sh]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},_y={[Sh]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},_b={[Sh]:SB,[Sm]:xB,[Sw]:{}},_v={[Sh]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Sm]:xB,[Sw]:{}},_w=[{[Sp]:"Region"}],_S=[{[Sp]:"Endpoint"}],_x=[xc],__=[xn],_E=[xr],_T=[xs,xm],_k=[{[Sd]:Sx,[Sc]:[{[Sp]:"DisableS3ExpressSessionAuth"}]},{[Sd]:S_,[Sc]:[{[Sp]:"DisableS3ExpressSessionAuth"},!0]}],_C=[xy],_A=[xw],_P=[xo],_N=[xa],_O=[{[Sd]:SP,[Sc]:[xc,6,14,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,14,16,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_I=[{[Sl]:[xa],[SI]:{[Sh]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Sm]:xb,[Sw]:{}},[Ss]:SI},{[SI]:{[Sh]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Sm]:xb,[Sw]:{}},[Ss]:SI}],_R=[{[Sd]:SP,[Sc]:[xc,6,15,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,15,17,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_D=[{[Sd]:SP,[Sc]:[xc,6,19,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,19,21,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_L=[{[Sd]:SP,[Sc]:[xc,6,20,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,20,22,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_$=[{[Sd]:SP,[Sc]:[xc,6,26,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,26,28,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_M=[{[Sl]:[xa],[SI]:{[Sh]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Sm]:{[Sf]:"S3Express",[Sg]:[{[Sy]:!0,[SA]:"sigv4-s3express",[Sb]:"s3express",[Sv]:"{Region}"}]},[Sw]:{}},[Ss]:SI},{[SI]:{[Sh]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Sm]:{[Sf]:"S3Express",[Sg]:[{[Sy]:!0,[SA]:"sigv4-s3express",[Sb]:"s3express",[Sv]:"{Region}"}]},[Sw]:{}},[Ss]:SI}],_B=[xc,0,7,!0],_j=[{[Sd]:SP,[Sc]:[xc,7,15,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,15,17,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_U=[{[Sd]:SP,[Sc]:[xc,7,16,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,16,18,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_F=[{[Sd]:SP,[Sc]:[xc,7,20,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,20,22,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_z=[{[Sd]:SP,[Sc]:[xc,7,21,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,21,23,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_q=[{[Sd]:SP,[Sc]:[xc,7,27,!0],[Su]:"s3expressAvailabilityZoneId"},{[Sd]:SP,[Sc]:[xc,27,29,!0],[Su]:"s3expressAvailabilityZoneDelim"},{[Sd]:Sk,[Sc]:[{[Sp]:"s3expressAvailabilityZoneDelim"},"--"]}],_V=[xd],_H=[{[Sd]:Sq,[Sc]:[{[Sp]:Sz},!1]}],_K=[{[Sd]:Sk,[Sc]:[{[Sp]:SU},"beta"]}],_G=[{[Sd]:Sq,[Sc]:[{[Sp]:"Region"},!1]}],_W=[{[Sd]:Sk,[Sc]:[{[Sp]:"Region"},"us-east-1"]}],_J=[{[Sd]:Sk,[Sc]:[xZ,S0]}],_Q=[{[Sd]:SC,[Sc]:[xX,"resourceId[1]"],[Su]:S2},{[Sd]:S$,[Sc]:[{[Sd]:Sk,[Sc]:[x0,SZ]}]}],_Y=[xX,"resourceId[1]"],_X=[{[Sd]:S$,[Sc]:[{[Sd]:Sk,[Sc]:[{[Sd]:SC,[Sc]:[xX,"region"]},SZ]}]}],_Z=[{[Sd]:S$,[Sc]:[{[Sd]:Sx,[Sc]:[{[Sd]:SC,[Sc]:[xX,"resourceId[2]"]}]}]}],_1=[xX,"resourceId[2]"],_0=[{[Sd]:ST,[Sc]:[{[Sd]:SC,[Sc]:[xX,"region"]}],[Su]:"bucketPartition"}],_2=[{[Sd]:Sk,[Sc]:[x5,{[Sd]:SC,[Sc]:[{[Sp]:"partitionResult"},SA]}]}],_4=[{[Sd]:Sq,[Sc]:[{[Sd]:SC,[Sc]:[xX,"region"]},!0]}],_6=[{[Sd]:Sq,[Sc]:[x8,!1]}],_3=[{[Sd]:Sq,[Sc]:[x0,!1]}],_5=[{[Sd]:Sq,[Sc]:[{[Sp]:"Region"},!0]}],_8={version:"1.0",parameters:{Bucket:xe,Region:xe,UseFIPS:xt,UseDualStack:xt,Endpoint:xe,ForcePathStyle:xt,Accelerate:xt,UseGlobalEndpoint:xt,UseObjectLambdaEndpoint:xi,Key:xe,Prefix:xe,CopySource:xe,DisableAccessPoints:xi,DisableMultiRegionAccessPoints:xt,UseArnRegion:xi,UseS3ExpressControlEndpoint:xi,DisableS3ExpressSessionAuth:xi},[So]:[{[Sl]:[{[Sd]:Sx,[Sc]:_w}],[So]:[{[Sl]:[xr,xa],error:"Accelerate cannot be used with FIPS",[Ss]:SE},{[Sl]:[xn,xs],error:"Cannot set dual-stack in combination with a custom endpoint.",[Ss]:SE},{[Sl]:[xs,xa],error:"A custom endpoint cannot be combined with FIPS",[Ss]:SE},{[Sl]:[xs,xr],error:"A custom endpoint cannot be combined with S3 Accelerate",[Ss]:SE},{[Sl]:[xa,xo,xl],error:"Partition does not support FIPS",[Ss]:SE},{[Sl]:[xd,{[Sd]:SP,[Sc]:[xc,0,6,!0],[Su]:SN},{[Sd]:Sk,[Sc]:[{[Sp]:SN},"--x-s3"]}],[So]:[xp,xu,xh,{[Sl]:[xx,x_],[So]:[{[Sl]:_P,[So]:[{[Sl]:[xy,xE],[So]:[{[Sl]:_N,endpoint:{[Sh]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xb,[Sw]:xv},[Ss]:SI},{endpoint:{[Sh]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xb,[Sw]:xv},[Ss]:SI}],[Ss]:SR}],[Ss]:SR}],[Ss]:SR},{[Sl]:_A,[So]:[{[Sl]:_P,[So]:[{[Sl]:_k,[So]:[{[Sl]:_O,[So]:_I,[Ss]:SR},{[Sl]:_R,[So]:_I,[Ss]:SR},{[Sl]:_D,[So]:_I,[Ss]:SR},{[Sl]:_L,[So]:_I,[Ss]:SR},{[Sl]:_$,[So]:_I,[Ss]:SR},xT],[Ss]:SR},{[Sl]:_O,[So]:_M,[Ss]:SR},{[Sl]:_R,[So]:_M,[Ss]:SR},{[Sl]:_D,[So]:_M,[Ss]:SR},{[Sl]:_L,[So]:_M,[Ss]:SR},{[Sl]:_$,[So]:_M,[Ss]:SR},xT],[Ss]:SR}],[Ss]:SR},xS],[Ss]:SR},{[Sl]:[xd,{[Sd]:SP,[Sc]:_B,[Su]:SM},{[Sd]:Sk,[Sc]:[{[Sp]:SM},"--xa-s3"]}],[So]:[xp,xu,xh,{[Sl]:_A,[So]:[{[Sl]:_P,[So]:[{[Sl]:_k,[So]:[{[Sl]:_j,[So]:_I,[Ss]:SR},{[Sl]:_U,[So]:_I,[Ss]:SR},{[Sl]:_F,[So]:_I,[Ss]:SR},{[Sl]:_z,[So]:_I,[Ss]:SR},{[Sl]:_q,[So]:_I,[Ss]:SR},xT],[Ss]:SR},{[Sl]:_j,[So]:_M,[Ss]:SR},{[Sl]:_U,[So]:_M,[Ss]:SR},{[Sl]:_F,[So]:_M,[Ss]:SR},{[Sl]:_z,[So]:_M,[Ss]:SR},{[Sl]:_q,[So]:_M,[Ss]:SR},xT],[Ss]:SR}],[Ss]:SR},xS],[Ss]:SR},{[Sl]:[xk,xx,x_],[So]:[{[Sl]:_P,[So]:[{[Sl]:_T,endpoint:{[Sh]:SB,[Sm]:xb,[Sw]:xv},[Ss]:SI},{[Sl]:_N,endpoint:{[Sh]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Sm]:xb,[Sw]:xv},[Ss]:SI},{endpoint:{[Sh]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Sm]:xb,[Sw]:xv},[Ss]:SI}],[Ss]:SR}],[Ss]:SR},{[Sl]:[xd,{[Sd]:SP,[Sc]:[xc,49,50,!0],[Su]:Sj},{[Sd]:SP,[Sc]:[xc,8,12,!0],[Su]:SU},{[Sd]:SP,[Sc]:_B,[Su]:SF},{[Sd]:SP,[Sc]:[xc,32,49,!0],[Su]:Sz},{[Sd]:ST,[Sc]:_w,[Su]:"regionPartition"},{[Sd]:Sk,[Sc]:[{[Sp]:SF},"--op-s3"]}],[So]:[{[Sl]:_H,[So]:[{[Sl]:[{[Sd]:Sk,[Sc]:[xC,"e"]}],[So]:[{[Sl]:_K,[So]:[xA,{[Sl]:_T,endpoint:{[Sh]:"https://{Bucket}.ec2.{url#authority}",[Sm]:xP,[Sw]:xv},[Ss]:SI}],[Ss]:SR},{endpoint:{[Sh]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Sm]:xP,[Sw]:xv},[Ss]:SI}],[Ss]:SR},{[Sl]:[{[Sd]:Sk,[Sc]:[xC,"o"]}],[So]:[{[Sl]:_K,[So]:[xA,{[Sl]:_T,endpoint:{[Sh]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Sm]:xP,[Sw]:xv},[Ss]:SI}],[Ss]:SR},{endpoint:{[Sh]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Sm]:xP,[Sw]:xv},[Ss]:SI}],[Ss]:SR},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[Ss]:SE}],[Ss]:SR},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[Ss]:SE}],[Ss]:SR},{[Sl]:_V,[So]:[{[Sl]:[xs,{[Sd]:S$,[Sc]:[{[Sd]:Sx,[Sc]:[{[Sd]:SO,[Sc]:_S}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[Ss]:SE},{[Sl]:[xN,xw],[So]:[{[Sl]:_P,[So]:[{[Sl]:_G,[So]:[{[Sl]:[xr,xl],error:"S3 Accelerate cannot be used in this region",[Ss]:SE},{[Sl]:[xn,xa,xI,xE,xR],endpoint:{[Sh]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xn,xa,xI,xE,xL,x$],[So]:[{endpoint:xM,[Ss]:SI}],[Ss]:SR},{[Sl]:[xn,xa,xI,xE,xL,xj],endpoint:xM,[Ss]:SI},{[Sl]:[xU,xa,xI,xE,xR],endpoint:{[Sh]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xa,xI,xE,xL,x$],[So]:[{endpoint:xF,[Ss]:SI}],[Ss]:SR},{[Sl]:[xU,xa,xI,xE,xL,xj],endpoint:xF,[Ss]:SI},{[Sl]:[xn,xz,xr,xE,xR],endpoint:{[Sh]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xn,xz,xr,xE,xL,x$],[So]:[{endpoint:xq,[Ss]:SI}],[Ss]:SR},{[Sl]:[xn,xz,xr,xE,xL,xj],endpoint:xq,[Ss]:SI},{[Sl]:[xn,xz,xI,xE,xR],endpoint:{[Sh]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xn,xz,xI,xE,xL,x$],[So]:[{endpoint:xV,[Ss]:SI}],[Ss]:SR},{[Sl]:[xn,xz,xI,xE,xL,xj],endpoint:xV,[Ss]:SI},{[Sl]:[xU,xz,xI,xs,xm,xf,xR],endpoint:{[Sh]:SG,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xz,xI,xs,xm,xH,xR],endpoint:{[Sh]:SL,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xz,xI,xs,xm,xf,xL,x$],[So]:[{[Sl]:_W,endpoint:xK,[Ss]:SI},{endpoint:xK,[Ss]:SI}],[Ss]:SR},{[Sl]:[xU,xz,xI,xs,xm,xH,xL,x$],[So]:[{[Sl]:_W,endpoint:xG,[Ss]:SI},xW],[Ss]:SR},{[Sl]:[xU,xz,xI,xs,xm,xf,xL,xj],endpoint:xK,[Ss]:SI},{[Sl]:[xU,xz,xI,xs,xm,xH,xL,xj],endpoint:xG,[Ss]:SI},{[Sl]:[xU,xz,xr,xE,xR],endpoint:{[Sh]:SW,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xz,xr,xE,xL,x$],[So]:[{[Sl]:_W,endpoint:xJ,[Ss]:SI},{endpoint:xJ,[Ss]:SI}],[Ss]:SR},{[Sl]:[xU,xz,xr,xE,xL,xj],endpoint:xJ,[Ss]:SI},{[Sl]:[xU,xz,xI,xE,xR],endpoint:{[Sh]:SJ,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xz,xI,xE,xL,x$],[So]:[{[Sl]:_W,endpoint:{[Sh]:SJ,[Sm]:xB,[Sw]:xv},[Ss]:SI},{endpoint:xQ,[Ss]:SI}],[Ss]:SR},{[Sl]:[xU,xz,xI,xE,xL,xj],endpoint:xQ,[Ss]:SI}],[Ss]:SR},xY],[Ss]:SR}],[Ss]:SR},{[Sl]:[xs,xm,{[Sd]:Sk,[Sc]:[{[Sd]:SC,[Sc]:[xg,"scheme"]},"http"]},{[Sd]:SD,[Sc]:[xc,!0]},xN,xz,xU,xI],[So]:[{[Sl]:_P,[So]:[{[Sl]:_G,[So]:[xW],[Ss]:SR},xY],[Ss]:SR}],[Ss]:SR},{[Sl]:[xN,{[Sd]:SQ,[Sc]:_x,[Su]:SY}],[So]:[{[Sl]:[{[Sd]:SC,[Sc]:[xX,"resourceId[0]"],[Su]:SX},{[Sd]:S$,[Sc]:[{[Sd]:Sk,[Sc]:[xZ,SZ]}]}],[So]:[{[Sl]:[{[Sd]:Sk,[Sc]:[x1,S1]}],[So]:[{[Sl]:_J,[So]:[{[Sl]:_Q,[So]:[x2,x4,{[Sl]:_X,[So]:[x6,{[Sl]:_Z,[So]:[x3,{[Sl]:_0,[So]:[{[Sl]:_P,[So]:[{[Sl]:_2,[So]:[{[Sl]:_4,[So]:[{[Sl]:[{[Sd]:Sk,[Sc]:[x8,SZ]}],error:"Invalid ARN: Missing account id",[Ss]:SE},{[Sl]:_6,[So]:[{[Sl]:_3,[So]:[{[Sl]:_T,endpoint:{[Sh]:S4,[Sm]:x9,[Sw]:xv},[Ss]:SI},{[Sl]:_N,endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Sm]:x9,[Sw]:xv},[Ss]:SI},{endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Sm]:x9,[Sw]:xv},[Ss]:SI}],[Ss]:SR},x7],[Ss]:SR},_e],[Ss]:SR},_t],[Ss]:SR},_i],[Ss]:SR}],[Ss]:SR}],[Ss]:SR},_r],[Ss]:SR},{error:"Invalid ARN: bucket ARN is missing a region",[Ss]:SE}],[Ss]:SR},_a],[Ss]:SR},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[Ss]:SE}],[Ss]:SR},{[Sl]:_J,[So]:[{[Sl]:_Q,[So]:[{[Sl]:_X,[So]:[{[Sl]:_J,[So]:[{[Sl]:_X,[So]:[x6,{[Sl]:_Z,[So]:[x3,{[Sl]:_0,[So]:[{[Sl]:_P,[So]:[{[Sl]:[{[Sd]:Sk,[Sc]:[x5,"{partitionResult#name}"]}],[So]:[{[Sl]:_4,[So]:[{[Sl]:[{[Sd]:Sk,[Sc]:[x1,SK]}],[So]:[{[Sl]:_6,[So]:[{[Sl]:_3,[So]:[{[Sl]:_E,error:"Access Points do not support S3 Accelerate",[Ss]:SE},{[Sl]:[xa,xn],endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Sm]:_n,[Sw]:xv},[Ss]:SI},{[Sl]:[xa,xU],endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Sm]:_n,[Sw]:xv},[Ss]:SI},{[Sl]:[xz,xn],endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Sm]:_n,[Sw]:xv},[Ss]:SI},{[Sl]:[xz,xU,xs,xm],endpoint:{[Sh]:S4,[Sm]:_n,[Sw]:xv},[Ss]:SI},{[Sl]:[xz,xU],endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Sm]:_n,[Sw]:xv},[Ss]:SI}],[Ss]:SR},x7],[Ss]:SR},_e],[Ss]:SR},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[Ss]:SE}],[Ss]:SR},_t],[Ss]:SR},_i],[Ss]:SR}],[Ss]:SR}],[Ss]:SR},_r],[Ss]:SR}],[Ss]:SR}],[Ss]:SR},{[Sl]:[{[Sd]:Sq,[Sc]:[x0,!0]}],[So]:[{[Sl]:__,error:"S3 MRAP does not support dual-stack",[Ss]:SE},{[Sl]:_N,error:"S3 MRAP does not support FIPS",[Ss]:SE},{[Sl]:_E,error:"S3 MRAP does not support S3 Accelerate",[Ss]:SE},{[Sl]:[{[Sd]:S_,[Sc]:[{[Sp]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[Ss]:SE},{[Sl]:[{[Sd]:ST,[Sc]:_w,[Su]:S6}],[So]:[{[Sl]:[{[Sd]:Sk,[Sc]:[{[Sd]:SC,[Sc]:[{[Sp]:S6},SA]},{[Sd]:SC,[Sc]:[xX,"partition"]}]}],[So]:[{endpoint:{[Sh]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Sm]:{[Sg]:[{[Sy]:!0,name:SV,[Sb]:SK,[SS]:["*"]}]},[Sw]:xv},[Ss]:SI}],[Ss]:SR},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[Ss]:SE}],[Ss]:SR}],[Ss]:SR},{error:"Invalid Access Point Name",[Ss]:SE}],[Ss]:SR},_a],[Ss]:SR},{[Sl]:[{[Sd]:Sk,[Sc]:[x1,SH]}],[So]:[{[Sl]:__,error:"S3 Outposts does not support Dual-stack",[Ss]:SE},{[Sl]:_N,error:"S3 Outposts does not support FIPS",[Ss]:SE},{[Sl]:_E,error:"S3 Outposts does not support S3 Accelerate",[Ss]:SE},{[Sl]:[{[Sd]:Sx,[Sc]:[{[Sd]:SC,[Sc]:[xX,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[Ss]:SE},{[Sl]:[{[Sd]:SC,[Sc]:_Y,[Su]:Sz}],[So]:[{[Sl]:_H,[So]:[x3,{[Sl]:_0,[So]:[{[Sl]:_P,[So]:[{[Sl]:_2,[So]:[{[Sl]:_4,[So]:[{[Sl]:_6,[So]:[{[Sl]:[{[Sd]:SC,[Sc]:_1,[Su]:S3}],[So]:[{[Sl]:[{[Sd]:SC,[Sc]:[xX,"resourceId[3]"],[Su]:S2}],[So]:[{[Sl]:[{[Sd]:Sk,[Sc]:[{[Sp]:S3},S0]}],[So]:[{[Sl]:_T,endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Sm]:_s,[Sw]:xv},[Ss]:SI},{endpoint:{[Sh]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Sm]:_s,[Sw]:xv},[Ss]:SI}],[Ss]:SR},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[Ss]:SE}],[Ss]:SR},{error:"Invalid ARN: expected an access point name",[Ss]:SE}],[Ss]:SR},{error:"Invalid ARN: Expected a 4-component resource",[Ss]:SE}],[Ss]:SR},_e],[Ss]:SR},_t],[Ss]:SR},_i],[Ss]:SR}],[Ss]:SR}],[Ss]:SR},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[Ss]:SE}],[Ss]:SR},{error:"Invalid ARN: The Outpost Id was not set",[Ss]:SE}],[Ss]:SR},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[Ss]:SE}],[Ss]:SR},{error:"Invalid ARN: No ARN type specified",[Ss]:SE}],[Ss]:SR},{[Sl]:[{[Sd]:SP,[Sc]:[xc,0,4,!1],[Su]:S5},{[Sd]:Sk,[Sc]:[{[Sp]:S5},"arn:"]},{[Sd]:S$,[Sc]:[{[Sd]:Sx,[Sc]:[_o]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[Ss]:SE},{[Sl]:[{[Sd]:S_,[Sc]:[xO,!0]},_o],error:"Path-style addressing cannot be used with ARN buckets",[Ss]:SE},{[Sl]:_C,[So]:[{[Sl]:_P,[So]:[{[Sl]:[xI],[So]:[{[Sl]:[xn,xE,xa,xR],endpoint:{[Sh]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xn,xE,xa,xL,x$],[So]:[{endpoint:_l,[Ss]:SI}],[Ss]:SR},{[Sl]:[xn,xE,xa,xL,xj],endpoint:_l,[Ss]:SI},{[Sl]:[xU,xE,xa,xR],endpoint:{[Sh]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xE,xa,xL,x$],[So]:[{endpoint:_d,[Ss]:SI}],[Ss]:SR},{[Sl]:[xU,xE,xa,xL,xj],endpoint:_d,[Ss]:SI},{[Sl]:[xn,xE,xz,xR],endpoint:{[Sh]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xn,xE,xz,xL,x$],[So]:[{endpoint:_c,[Ss]:SI}],[Ss]:SR},{[Sl]:[xn,xE,xz,xL,xj],endpoint:_c,[Ss]:SI},{[Sl]:[xU,xs,xm,xz,xR],endpoint:{[Sh]:S8,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xs,xm,xz,xL,x$],[So]:[{[Sl]:_W,endpoint:_p,[Ss]:SI},{endpoint:_p,[Ss]:SI}],[Ss]:SR},{[Sl]:[xU,xs,xm,xz,xL,xj],endpoint:_p,[Ss]:SI},{[Sl]:[xU,xE,xz,xR],endpoint:{[Sh]:S9,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xU,xE,xz,xL,x$],[So]:[{[Sl]:_W,endpoint:{[Sh]:S9,[Sm]:xB,[Sw]:xv},[Ss]:SI},{endpoint:_u,[Ss]:SI}],[Ss]:SR},{[Sl]:[xU,xE,xz,xL,xj],endpoint:_u,[Ss]:SI}],[Ss]:SR},{error:"Path-style addressing cannot be used with S3 Accelerate",[Ss]:SE}],[Ss]:SR}],[Ss]:SR}],[Ss]:SR},{[Sl]:[{[Sd]:Sx,[Sc]:[_h]},{[Sd]:S_,[Sc]:[_h,!0]}],[So]:[{[Sl]:_P,[So]:[{[Sl]:_5,[So]:[x2,x4,{[Sl]:_T,endpoint:{[Sh]:SB,[Sm]:_m,[Sw]:xv},[Ss]:SI},{[Sl]:_N,endpoint:{[Sh]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Sm]:_m,[Sw]:xv},[Ss]:SI},{endpoint:{[Sh]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Sm]:_m,[Sw]:xv},[Ss]:SI}],[Ss]:SR},xY],[Ss]:SR}],[Ss]:SR},{[Sl]:[xk],[So]:[{[Sl]:_P,[So]:[{[Sl]:_5,[So]:[{[Sl]:[xa,xn,xE,xR],endpoint:{[Sh]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xa,xn,xE,xL,x$],[So]:[{endpoint:_f,[Ss]:SI}],[Ss]:SR},{[Sl]:[xa,xn,xE,xL,xj],endpoint:_f,[Ss]:SI},{[Sl]:[xa,xU,xE,xR],endpoint:{[Sh]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xa,xU,xE,xL,x$],[So]:[{endpoint:_g,[Ss]:SI}],[Ss]:SR},{[Sl]:[xa,xU,xE,xL,xj],endpoint:_g,[Ss]:SI},{[Sl]:[xz,xn,xE,xR],endpoint:{[Sh]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xz,xn,xE,xL,x$],[So]:[{endpoint:_y,[Ss]:SI}],[Ss]:SR},{[Sl]:[xz,xn,xE,xL,xj],endpoint:_y,[Ss]:SI},{[Sl]:[xz,xU,xs,xm,xR],endpoint:{[Sh]:SB,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xz,xU,xs,xm,xL,x$],[So]:[{[Sl]:_W,endpoint:_b,[Ss]:SI},{endpoint:_b,[Ss]:SI}],[Ss]:SR},{[Sl]:[xz,xU,xs,xm,xL,xj],endpoint:_b,[Ss]:SI},{[Sl]:[xz,xU,xE,xR],endpoint:{[Sh]:S7,[Sm]:xD,[Sw]:xv},[Ss]:SI},{[Sl]:[xz,xU,xE,xL,x$],[So]:[{[Sl]:_W,endpoint:{[Sh]:S7,[Sm]:xB,[Sw]:xv},[Ss]:SI},{endpoint:_v,[Ss]:SI}],[Ss]:SR},{[Sl]:[xz,xU,xE,xL,xj],endpoint:_v,[Ss]:SI}],[Ss]:SR},xY],[Ss]:SR}],[Ss]:SR}],[Ss]:SR},{error:"A region must be set when sending requests to S3.",[Ss]:SE}]},_9=new Sa.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),_7=(e,d={})=>_9.get(e,()=>(0,Sa.resolveEndpoint)(_8,{endpointParams:e,logger:d.logger}));Sa.customEndpointFunctions.aws=Sr.awsEndpointFunctions;let Ee=(g=async(e,d,h)=>({operation:(0,Si.getSmithyContext)(d).operation,region:await (0,Si.normalizeProvider)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),async(e,d,h)=>{if(!h)throw Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let m=await g(e,d,h),y=(0,Si.getSmithyContext)(d)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!y)throw Error(`getEndpointParameterInstructions() is not defined on \`${d.commandName}\``);return Object.assign(m,await (0,U.resolveParams)(h,{getEndpointParameterInstructions:y},e))});function Et(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(e,d)=>({signingProperties:{config:e,context:d}})}}function Ei(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(e,d)=>({signingProperties:{config:e,context:d}})}}let Er=(y=_7,b=e=>{let d=[];return e.operation,d.push(Et(e)),d.push(Ei(e)),d},v={"aws.auth#sigv4":Et,"aws.auth#sigv4a":Ei},e=>{let d=y(e),h=d.properties?.authSchemes;if(!h)return b(e);let m=[];for(let d of h){let g,{name:y,properties:b={},...w}=d,S=y.toLowerCase();if(y!==S&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${y}\` to \`${S}\``),"sigv4a"===S){g="aws.auth#sigv4a";let e=h.find(e=>{let d=e.name.toLowerCase();return"sigv4a"!==d&&d.startsWith("sigv4")});if(!St.signatureV4CrtContainer.CrtSignerV4&&e)continue}else if(S.startsWith("sigv4"))g="aws.auth#sigv4";else throw Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${S}\``);let x=v[g];if(!x)throw Error(`Could not find HttpAuthOption create function for \`${g}\``);let _=x(e);_.schemeId=g,_.signingProperties={..._.signingProperties||{},...w,...b},m.push(_)}return m}),Ea=e=>{let d=(0,w7.h)(e);return Object.assign((0,Se.O)(d),{authSchemePreference:(0,Si.normalizeProvider)(e.authSchemePreference??[])})},En={rE:"3.820.0"};var Es=h(7977),Eo=h(30201),El=h(45865),Ed=h(43771),Ec=h(94908),Ep=h(37350),Eu=h(81278),Eh=h(79258),Em=h(1076),Ef=h(48254),Eg=h(45338),Ey=h(33055),Eb=h(96573),Ev=h(85901),Ew=h(55174),ES=h(45384),Ex=h(24574),E_=h(70776);let EE=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??ES.fromBase64,base64Encoder:e?.base64Encoder??ES.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_7,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??Ex.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Er,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Eb.f2},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new Ev.S}],logger:e?.logger??new B.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??Ex.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??St.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??Ew.parseUrl,useArnRegion:e?.useArnRegion??!1,utf8Decoder:e?.utf8Decoder??E_.fromUtf8,utf8Encoder:e?.utf8Encoder??E_.toUtf8});var ET=h(98482);let Ek=e=>{(0,B.emitWarningIfUnsupportedVersion)(process.version);let d=(0,ET.resolveDefaultsModeConfig)(e),h=()=>d().then(B.loadConfigsForDefaultMode),m=EE(e);(0,Es.I)(process.version);let g={profile:e?.profile,logger:m.logger};return{...m,...e,runtime:"node",defaultsMode:d,authSchemePreference:e?.authSchemePreference??(0,Em.loadConfig)(Eo.$,g),bodyLengthChecker:e?.bodyLengthChecker??Eg.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??El.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ec.createDefaultUserAgentProvider)({serviceId:m.serviceId,clientVersion:En.rE}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,Em.loadConfig)(j.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,g),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??Ep.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,Em.loadConfig)(w9.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??Eu.Hash.bind(null,"md5"),region:e?.region??(0,Em.loadConfig)(w3.NODE_REGION_CONFIG_OPTIONS,{...w3.NODE_REGION_CONFIG_FILE_OPTIONS,...g}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,Em.loadConfig)(v_.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,g),requestHandler:Ef.NodeHttpHandler.create(e?.requestHandler??h),responseChecksumValidation:e?.responseChecksumValidation??(0,Em.loadConfig)(v_.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,g),retryMode:e?.retryMode??(0,Em.loadConfig)({...w9.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await h()).retryMode||Ey.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??Eu.Hash.bind(null,"sha1"),sha256:e?.sha256??Eu.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,Em.loadConfig)(Se.A,g),streamCollector:e?.streamCollector??Ef.streamCollector,streamHasher:e?.streamHasher??Eh.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,Em.loadConfig)(Ed.NODE_USE_ARN_REGION_CONFIG_OPTIONS,g),useDualstackEndpoint:e?.useDualstackEndpoint??(0,Em.loadConfig)(w3.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,g),useFipsEndpoint:e?.useFipsEndpoint??(0,Em.loadConfig)(w3.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,g),userAgentAppId:e?.userAgentAppId??(0,Em.loadConfig)(Ec.NODE_APP_ID_CONFIG_OPTIONS,g)}};var EC=h(83357);let EA=e=>{let d=e.httpAuthSchemes,h=e.httpAuthSchemeProvider,m=e.credentials;return{setHttpAuthScheme(e){let h=d.findIndex(d=>d.schemeId===e.schemeId);-1===h?d.push(e):d.splice(h,1,e)},httpAuthSchemes:()=>d,setHttpAuthSchemeProvider(e){h=e},httpAuthSchemeProvider:()=>h,setCredentials(e){m=e},credentials:()=>m}},EP=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),EN=(e,d)=>{let h=Object.assign((0,EC.getAwsRegionExtensionConfiguration)(e),(0,B.getDefaultExtensionConfiguration)(e),(0,G.getHttpHandlerExtensionConfiguration)(e),EA(e));return d.forEach(e=>e.configure(h)),Object.assign(e,(0,EC.resolveAwsRegionExtensionConfiguration)(h),(0,B.resolveDefaultRuntimeConfig)(h),(0,G.resolveHttpHandlerRuntimeConfig)(h),EP(h))};class EO extends B.Client{config;constructor(...[e]){let d=Ek(e||{});super(d),this.initConfig=d;let h=z(d),m=(0,w6.resolveUserAgentConfig)(h),g=(0,v_.resolveFlexibleChecksumsConfig)(m),y=(0,w9.resolveRetryConfig)(g),b=(0,w3.resolveRegionConfig)(y),v=(0,w0.resolveHostHeaderConfig)(b),w=(0,U.resolveEndpointConfig)(v),S=Ea((0,w5.resolveEventStreamSerdeConfig)(w)),x=EN((0,j.resolveS3Config)(S,{session:[()=>this,vk]}),e?.extensions||[]);this.config=x,this.middlewareStack.use((0,w6.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,w9.getRetryPlugin)(this.config)),this.middlewareStack.use((0,w8.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,w0.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,w2.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,w4.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,K.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Ee,identityProviderConfigProvider:async e=>new K.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials,"aws.auth#sigv4a":e.credentials})})),this.middlewareStack.use((0,K.getHttpSigningPlugin)(this.config)),this.middlewareStack.use((0,j.getValidateBucketNamePlugin)(this.config)),this.middlewareStack.use((0,w1.getAddExpectContinuePlugin)(this.config)),this.middlewareStack.use((0,j.getRegionRedirectMiddlewarePlugin)(this.config)),this.middlewareStack.use((0,j.getS3ExpressPlugin)(this.config)),this.middlewareStack.use((0,j.getS3ExpressHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}let EI={AbortMultipartUploadCommand:vy,CompleteMultipartUploadCommand:vv,CopyObjectCommand:vw,CreateBucketCommand:vx,CreateBucketMetadataTableConfigurationCommand:vE,CreateMultipartUploadCommand:vT,CreateSessionCommand:vk,DeleteBucketCommand:vA,DeleteBucketAnalyticsConfigurationCommand:vC,DeleteBucketCorsCommand:vP,DeleteBucketEncryptionCommand:vN,DeleteBucketIntelligentTieringConfigurationCommand:vO,DeleteBucketInventoryConfigurationCommand:vI,DeleteBucketLifecycleCommand:vR,DeleteBucketMetadataTableConfigurationCommand:vD,DeleteBucketMetricsConfigurationCommand:vL,DeleteBucketOwnershipControlsCommand:v$,DeleteBucketPolicyCommand:vM,DeleteBucketReplicationCommand:vB,DeleteBucketTaggingCommand:vj,DeleteBucketWebsiteCommand:vU,DeleteObjectCommand:vF,DeleteObjectsCommand:vz,DeleteObjectTaggingCommand:vq,DeletePublicAccessBlockCommand:vV,GetBucketAccelerateConfigurationCommand:vH,GetBucketAclCommand:vK,GetBucketAnalyticsConfigurationCommand:vG,GetBucketCorsCommand:vW,GetBucketEncryptionCommand:vJ,GetBucketIntelligentTieringConfigurationCommand:vQ,GetBucketInventoryConfigurationCommand:vY,GetBucketLifecycleConfigurationCommand:vX,GetBucketLocationCommand:vZ,GetBucketLoggingCommand:v1,GetBucketMetadataTableConfigurationCommand:v0,GetBucketMetricsConfigurationCommand:v2,GetBucketNotificationConfigurationCommand:v4,GetBucketOwnershipControlsCommand:v6,GetBucketPolicyCommand:v3,GetBucketPolicyStatusCommand:v5,GetBucketReplicationCommand:v8,GetBucketRequestPaymentCommand:v9,GetBucketTaggingCommand:v7,GetBucketVersioningCommand:we,GetBucketWebsiteCommand:wt,GetObjectCommand:wa,GetObjectAclCommand:wi,GetObjectAttributesCommand:wr,GetObjectLegalHoldCommand:wn,GetObjectLockConfigurationCommand:ws,GetObjectRetentionCommand:wo,GetObjectTaggingCommand:wl,GetObjectTorrentCommand:wd,GetPublicAccessBlockCommand:wc,HeadBucketCommand:wp,HeadObjectCommand:wu,ListBucketAnalyticsConfigurationsCommand:wh,ListBucketIntelligentTieringConfigurationsCommand:wm,ListBucketInventoryConfigurationsCommand:wf,ListBucketMetricsConfigurationsCommand:wg,ListBucketsCommand:wy,ListDirectoryBucketsCommand:wb,ListMultipartUploadsCommand:wv,ListObjectsCommand:ww,ListObjectsV2Command:wS,ListObjectVersionsCommand:wx,ListPartsCommand:w_,PutBucketAccelerateConfigurationCommand:wE,PutBucketAclCommand:wT,PutBucketAnalyticsConfigurationCommand:wk,PutBucketCorsCommand:wC,PutBucketEncryptionCommand:wA,PutBucketIntelligentTieringConfigurationCommand:wP,PutBucketInventoryConfigurationCommand:wN,PutBucketLifecycleConfigurationCommand:wO,PutBucketLoggingCommand:wI,PutBucketMetricsConfigurationCommand:wR,PutBucketNotificationConfigurationCommand:wD,PutBucketOwnershipControlsCommand:wL,PutBucketPolicyCommand:w$,PutBucketReplicationCommand:wM,PutBucketRequestPaymentCommand:wB,PutBucketTaggingCommand:wj,PutBucketVersioningCommand:wU,PutBucketWebsiteCommand:wF,PutObjectCommand:wq,PutObjectAclCommand:wz,PutObjectLegalHoldCommand:wV,PutObjectLockConfigurationCommand:wH,PutObjectRetentionCommand:wK,PutObjectTaggingCommand:wG,PutPublicAccessBlockCommand:wW,RestoreObjectCommand:wJ,SelectObjectContentCommand:wQ,UploadPartCommand:wY,UploadPartCopyCommand:wX,WriteGetObjectResponseCommand:wZ};class ER extends EO{}(0,B.createAggregatedClient)(EI,ER);var ED=h(11075);function EL(e){return Promise.all(Object.keys(e).reduce((d,h)=>{let m=e[h];return"string"==typeof m?d.push([h,m]):d.push(m().then(e=>[h,e])),d},[])).then(e=>e.reduce((e,[d,h])=>(e[d]=h,e),{}))}function E$(e){return async d=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let{GetCredentialsForIdentityCommand:m,CognitoIdentityClient:g}=await h.e(8064).then(h.bind(h,48064)),y=h=>e.clientConfig?.[h]??e.parentClientConfig?.[h]??d?.callerClientConfig?.[h],{Credentials:{AccessKeyId:b=EM(e.logger),Expiration:v,SecretKey:w=Ej(e.logger),SessionToken:S}=EB(e.logger)}=await (e.client??new g(Object.assign({},e.clientConfig??{},{region:y("region"),profile:y("profile")}))).send(new m({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await EL(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:b,secretAccessKey:w,sessionToken:S,expiration:v}}}function EM(e){throw new ED.CredentialsProviderError("Response from Amazon Cognito contained no access key ID",{logger:e})}function EB(e){throw new ED.CredentialsProviderError("Response from Amazon Cognito contained no credentials",{logger:e})}function Ej(e){throw new ED.CredentialsProviderError("Response from Amazon Cognito contained no secret key",{logger:e})}let EU="IdentityIds";class EF{dbName;constructor(e="aws:cognito-identity-ids"){this.dbName=e}getItem(e){return this.withObjectStore("readonly",d=>{let h=d.get(e);return new Promise(e=>{h.onerror=()=>e(null),h.onsuccess=()=>e(h.result?h.result.value:null)})}).catch(()=>null)}removeItem(e){return this.withObjectStore("readwrite",d=>{let h=d.delete(e);return new Promise((e,d)=>{h.onerror=()=>d(h.error),h.onsuccess=()=>e()})})}setItem(e,d){return this.withObjectStore("readwrite",h=>{let m=h.put({id:e,value:d});return new Promise((e,d)=>{m.onerror=()=>d(m.error),m.onsuccess=()=>e()})})}getDb(){let e=self.indexedDB.open(this.dbName,1);return new Promise((d,h)=>{e.onsuccess=()=>{d(e.result)},e.onerror=()=>{h(e.error)},e.onblocked=()=>{h(Error("Unable to access DB"))},e.onupgradeneeded=()=>{let d=e.result;d.onerror=()=>{h(Error("Failed to create object store"))},d.createObjectStore(EU,{keyPath:"id"})}})}withObjectStore(e,d){return this.getDb().then(h=>{let m=h.transaction(EU,e);return m.oncomplete=()=>h.close(),new Promise((e,h)=>{m.onerror=()=>h(m.error),e(d(m.objectStore(EU)))}).catch(e=>{throw h.close(),e})})}}class Ez{store;constructor(e={}){this.store=e}getItem(e){return e in this.store?this.store[e]:null}removeItem(e){delete this.store[e]}setItem(e,d){this.store[e]=d}}let Eq=new Ez;function EV(){return"object"==typeof self&&self.indexedDB?new EF:"object"==typeof window&&window.localStorage?window.localStorage:Eq}function EH({accountId:e,cache:d=EV(),client:m,clientConfig:g,customRoleArn:y,identityPoolId:b,logins:v,userIdentifier:w=!v||0===Object.keys(v).length?"ANONYMOUS":void 0,logger:S,parentClientConfig:x}){S?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let _=w?`aws:cognito-identity-credentials:${b}:${w}`:void 0,E=async w=>{let{GetIdCommand:T,CognitoIdentityClient:k}=await h.e(8064).then(h.bind(h,48064)),C=e=>g?.[e]??x?.[e]??w?.callerClientConfig?.[e],P=m??new k(Object.assign({},g??{},{region:C("region"),profile:C("profile")})),O=_&&await d.getItem(_);if(!O){let{IdentityId:h=EK(S)}=await P.send(new T({AccountId:e,IdentityPoolId:b,Logins:v?await EL(v):void 0}));O=h,_&&Promise.resolve(d.setItem(_,O)).catch(()=>{})}return(E=E$({client:P,customRoleArn:y,logins:v,identityId:O}))(w)};return e=>E(e).catch(async e=>{throw _&&Promise.resolve(d.removeItem(_)).catch(()=>{}),e})}function EK(e){throw new ED.CredentialsProviderError("Response from Amazon Cognito contained no identity ID",{logger:e})}let EG=e=>EH({...e});var EW=function(){function e(e){var d=e||{},h=d.ValidationData,m=d.Username,g=d.Password,y=d.AuthParameters,b=d.ClientMetadata;this.validationData=h||{},this.authParameters=y||{},this.clientMetadata=b||{},this.username=m,this.password=g}var d=e.prototype;return d.getUsername=function(){return this.username},d.getPassword=function(){return this.password},d.getValidationData=function(){return this.validationData},d.getAuthParameters=function(){return this.authParameters},d.getClientMetadata=function(){return this.clientMetadata},e}(),EJ=h(79428);if("undefined"!=typeof window&&window.crypto&&(_=window.crypto),!_&&"undefined"!=typeof window&&window.msCrypto&&(_=window.msCrypto),!_&&"undefined"!=typeof global&&global.crypto&&(_=global.crypto),!_)try{_=h(55511)}catch(e){}function EQ(){if(_){if("function"==typeof _.getRandomValues)try{return _.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof _.randomBytes)try{return _.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")}function EY(e){for(var d=e.words,h=e.sigBytes,m=[],g=0;g<h;g++){var y=d[g>>>2]>>>24-g%4*8&255;m.push((y>>>4).toString(16)),m.push((15&y).toString(16))}return m.join("")}var EX=function(){function e(e,d){e=this.words=e||[],void 0!=d?this.sigBytes=d:this.sigBytes=4*e.length}var d=e.prototype;return d.random=function(d){for(var h=[],m=0;m<d;m+=4)h.push(EQ());return new e(h,d)},d.toString=function(){return EY(this)},e}(),EZ=h(46864);let E1=E0;function E0(e,d){null!=e&&this.fromString(e,d)}function E2(){return new E0(null)}var E4=!0;function E6(e,d,h,m,g,y){for(;--y>=0;){var b=d*this[e++]+h[m]+g;g=Math.floor(b/0x4000000),h[m++]=0x3ffffff&b}return g}function E3(e,d,h,m,g,y){for(var b=32767&d,v=d>>15;--y>=0;){var w=32767&this[e],S=this[e++]>>15,x=v*w+S*b;g=((w=b*w+((32767&x)<<15)+h[m]+(0x3fffffff&g))>>>30)+(x>>>15)+v*S+(g>>>30),h[m++]=0x3fffffff&w}return g}function E5(e,d,h,m,g,y){for(var b=16383&d,v=d>>14;--y>=0;){var w=16383&this[e],S=this[e++]>>14,x=v*w+S*b;g=((w=b*w+((16383&x)<<14)+h[m]+g)>>28)+(x>>14)+v*S,h[m++]=0xfffffff&w}return g}var E8="undefined"!=typeof navigator;E8&&E4&&"Microsoft Internet Explorer"==navigator.appName?(E0.prototype.am=E3,E=30):E8&&E4&&"Netscape"!=navigator.appName?(E0.prototype.am=E6,E=26):(E0.prototype.am=E5,E=28),E0.prototype.DB=E,E0.prototype.DM=(1<<E)-1,E0.prototype.DV=1<<E;var E9=52;E0.prototype.FV=Math.pow(2,E9),E0.prototype.F1=E9-E,E0.prototype.F2=2*E-E9;var E7="0123456789abcdefghijklmnopqrstuvwxyz",Te=[];for(k=0,T=48;k<=9;++k)Te[T++]=k;for(k=10,T=97;k<36;++k)Te[T++]=k;for(k=10,T=65;k<36;++k)Te[T++]=k;function Tt(e){return E7.charAt(e)}function Ti(e,d){var h=Te[e.charCodeAt(d)];return null==h?-1:h}function Tr(e){for(var d=this.t-1;d>=0;--d)e[d]=this[d];e.t=this.t,e.s=this.s}function Ta(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Tn(e){var d=E2();return d.fromInt(e),d}function Ts(e,d){if(16==d)h=4;else if(8==d)h=3;else if(2==d)h=1;else if(32==d)h=5;else if(4==d)h=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var h,m=e.length,g=!1,y=0;--m>=0;){var b=Ti(e,m);if(b<0){"-"==e.charAt(m)&&(g=!0);continue}g=!1,0==y?this[this.t++]=b:y+h>this.DB?(this[this.t-1]|=(b&(1<<this.DB-y)-1)<<y,this[this.t++]=b>>this.DB-y):this[this.t-1]|=b<<y,(y+=h)>=this.DB&&(y-=this.DB)}this.clamp(),g&&E0.ZERO.subTo(this,this)}function To(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function Tl(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)d=4;else if(8==e)d=3;else if(2==e)d=1;else if(32==e)d=5;else if(4==e)d=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");var d,h,m=(1<<d)-1,g=!1,y="",b=this.t,v=this.DB-b*this.DB%d;if(b-- >0)for(v<this.DB&&(h=this[b]>>v)>0&&(g=!0,y=Tt(h));b>=0;)v<d?h=(this[b]&(1<<v)-1)<<d-v|this[--b]>>(v+=this.DB-d):(h=this[b]>>(v-=d)&m,v<=0&&(v+=this.DB,--b)),h>0&&(g=!0),g&&(y+=Tt(h));return g?y:"0"}function Td(){var e=E2();return E0.ZERO.subTo(this,e),e}function Tc(){return this.s<0?this.negate():this}function Tp(e){var d=this.s-e.s;if(0!=d)return d;var h=this.t;if(0!=(d=h-e.t))return this.s<0?-d:d;for(;--h>=0;)if(0!=(d=this[h]-e[h]))return d;return 0}function Tu(e){var d,h=1;return 0!=(d=e>>>16)&&(e=d,h+=16),0!=(d=e>>8)&&(e=d,h+=8),0!=(d=e>>4)&&(e=d,h+=4),0!=(d=e>>2)&&(e=d,h+=2),0!=(d=e>>1)&&(e=d,h+=1),h}function Th(){return this.t<=0?0:this.DB*(this.t-1)+Tu(this[this.t-1]^this.s&this.DM)}function Tm(e,d){var h;for(h=this.t-1;h>=0;--h)d[h+e]=this[h];for(h=e-1;h>=0;--h)d[h]=0;d.t=this.t+e,d.s=this.s}function Tf(e,d){for(var h=e;h<this.t;++h)d[h-e]=this[h];d.t=Math.max(this.t-e,0),d.s=this.s}function Tg(e,d){var h,m=e%this.DB,g=this.DB-m,y=(1<<g)-1,b=Math.floor(e/this.DB),v=this.s<<m&this.DM;for(h=this.t-1;h>=0;--h)d[h+b+1]=this[h]>>g|v,v=(this[h]&y)<<m;for(h=b-1;h>=0;--h)d[h]=0;d[b]=v,d.t=this.t+b+1,d.s=this.s,d.clamp()}function Ty(e,d){d.s=this.s;var h=Math.floor(e/this.DB);if(h>=this.t){d.t=0;return}var m=e%this.DB,g=this.DB-m,y=(1<<m)-1;d[0]=this[h]>>m;for(var b=h+1;b<this.t;++b)d[b-h-1]|=(this[b]&y)<<g,d[b-h]=this[b]>>m;m>0&&(d[this.t-h-1]|=(this.s&y)<<g),d.t=this.t-h,d.clamp()}function Tb(e,d){for(var h=0,m=0,g=Math.min(e.t,this.t);h<g;)m+=this[h]-e[h],d[h++]=m&this.DM,m>>=this.DB;if(e.t<this.t){for(m-=e.s;h<this.t;)m+=this[h],d[h++]=m&this.DM,m>>=this.DB;m+=this.s}else{for(m+=this.s;h<e.t;)m-=e[h],d[h++]=m&this.DM,m>>=this.DB;m-=e.s}d.s=m<0?-1:0,m<-1?d[h++]=this.DV+m:m>0&&(d[h++]=m),d.t=h,d.clamp()}function Tv(e,d){var h=this.abs(),m=e.abs(),g=h.t;for(d.t=g+m.t;--g>=0;)d[g]=0;for(g=0;g<m.t;++g)d[g+h.t]=h.am(0,m[g],d,g,0,h.t);d.s=0,d.clamp(),this.s!=e.s&&E0.ZERO.subTo(d,d)}function Tw(e){for(var d=this.abs(),h=e.t=2*d.t;--h>=0;)e[h]=0;for(h=0;h<d.t-1;++h){var m=d.am(h,d[h],e,2*h,0,1);(e[h+d.t]+=d.am(h+1,2*d[h],e,2*h+1,m,d.t-h-1))>=d.DV&&(e[h+d.t]-=d.DV,e[h+d.t+1]=1)}e.t>0&&(e[e.t-1]+=d.am(h,d[h],e,2*h,0,1)),e.s=0,e.clamp()}function TS(e,d,h){var m=e.abs();if(!(m.t<=0)){var g=this.abs();if(g.t<m.t){null!=d&&d.fromInt(0),null!=h&&this.copyTo(h);return}null==h&&(h=E2());var y=E2(),b=this.s,v=e.s,w=this.DB-Tu(m[m.t-1]);w>0?(m.lShiftTo(w,y),g.lShiftTo(w,h)):(m.copyTo(y),g.copyTo(h));var S=y.t,x=y[S-1];if(0!=x){var _=x*(1<<this.F1)+(S>1?y[S-2]>>this.F2:0),E=this.FV/_,T=(1<<this.F1)/_,k=1<<this.F2,C=h.t,P=C-S,O=null==d?E2():d;for(y.dlShiftTo(P,O),h.compareTo(O)>=0&&(h[h.t++]=1,h.subTo(O,h)),E0.ONE.dlShiftTo(S,O),O.subTo(y,y);y.t<S;)y[y.t++]=0;for(;--P>=0;){var I=h[--C]==x?this.DM:Math.floor(h[C]*E+(h[C-1]+k)*T);if((h[C]+=y.am(0,I,h,P,0,S))<I)for(y.dlShiftTo(P,O),h.subTo(O,h);h[C]<--I;)h.subTo(O,h)}null!=d&&(h.drShiftTo(S,d),b!=v&&E0.ZERO.subTo(d,d)),h.t=S,h.clamp(),w>0&&h.rShiftTo(w,h),b<0&&E0.ZERO.subTo(h,h)}}}function Tx(e){var d=E2();return this.abs().divRemTo(e,null,d),this.s<0&&d.compareTo(E0.ZERO)>0&&e.subTo(d,d),d}function T_(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var d=3&e;return(d=(d=(d=(d=d*(2-(15&e)*d)&15)*(2-(255&e)*d)&255)*(2-((65535&e)*d&65535))&65535)*(2-e*d%this.DV)%this.DV)>0?this.DV-d:-d}function TE(e){return 0==this.compareTo(e)}function TT(e,d){for(var h=0,m=0,g=Math.min(e.t,this.t);h<g;)m+=this[h]+e[h],d[h++]=m&this.DM,m>>=this.DB;if(e.t<this.t){for(m+=e.s;h<this.t;)m+=this[h],d[h++]=m&this.DM,m>>=this.DB;m+=this.s}else{for(m+=this.s;h<e.t;)m+=e[h],d[h++]=m&this.DM,m>>=this.DB;m+=e.s}d.s=m<0?-1:0,m>0?d[h++]=m:m<-1&&(d[h++]=this.DV+m),d.t=h,d.clamp()}function Tk(e){var d=E2();return this.addTo(e,d),d}function TC(e){var d=E2();return this.subTo(e,d),d}function TA(e){var d=E2();return this.multiplyTo(e,d),d}function TP(e){var d=E2();return this.divRemTo(e,d,null),d}function TN(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function TO(e){var d=E2();return e.abs().dlShiftTo(this.m.t,d),d.divRemTo(this.m,null,d),e.s<0&&d.compareTo(E0.ZERO)>0&&this.m.subTo(d,d),d}function TI(e){var d=E2();return e.copyTo(d),this.reduce(d),d}function TR(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var d=0;d<this.m.t;++d){var h=32767&e[d],m=h*this.mpl+((h*this.mph+(e[d]>>15)*this.mpl&this.um)<<15)&e.DM;for(h=d+this.m.t,e[h]+=this.m.am(0,m,e,d,0,this.m.t);e[h]>=e.DV;)e[h]-=e.DV,e[++h]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function TD(e,d){e.squareTo(d),this.reduce(d)}function TL(e,d,h){e.multiplyTo(d,h),this.reduce(h)}function T$(e,d,h){var m,g=e.bitLength(),y=Tn(1),b=new TN(d);if(g<=0)return y;var v=[],w=3,S=(m=g<18?1:g<48?3:g<144?4:g<768?5:6)-1,x=(1<<m)-1;if(v[1]=b.convert(this),m>1){var _=E2();for(b.sqrTo(v[1],_);w<=x;)v[w]=E2(),b.mulTo(_,v[w-2],v[w]),w+=2}var E,T,k=e.t-1,C=!0,P=E2();for(g=Tu(e[k])-1;k>=0;){for(g>=S?E=e[k]>>g-S&x:(E=(e[k]&(1<<g+1)-1)<<S-g,k>0&&(E|=e[k-1]>>this.DB+g-S)),w=m;(1&E)==0;)E>>=1,--w;if((g-=w)<0&&(g+=this.DB,--k),C)v[E].copyTo(y),C=!1;else{for(;w>1;)b.sqrTo(y,P),b.sqrTo(P,y),w-=2;w>0?b.sqrTo(y,P):(T=y,y=P,P=T),b.mulTo(P,v[E],y)}for(;k>=0&&(e[k]&1<<g)==0;)b.sqrTo(y,P),T=y,y=P,P=T,--g<0&&(g=this.DB-1,--k)}var O=b.revert(y);return h(null,O),O}function TM(e){return EJ.Buffer.from(new EX().random(e).toString(),"hex")}TN.prototype.convert=TO,TN.prototype.revert=TI,TN.prototype.reduce=TR,TN.prototype.mulTo=TL,TN.prototype.sqrTo=TD,E0.prototype.copyTo=Tr,E0.prototype.fromInt=Ta,E0.prototype.fromString=Ts,E0.prototype.clamp=To,E0.prototype.dlShiftTo=Tm,E0.prototype.drShiftTo=Tf,E0.prototype.lShiftTo=Tg,E0.prototype.rShiftTo=Ty,E0.prototype.subTo=Tb,E0.prototype.multiplyTo=Tv,E0.prototype.squareTo=Tw,E0.prototype.divRemTo=TS,E0.prototype.invDigit=T_,E0.prototype.addTo=TT,E0.prototype.toString=Tl,E0.prototype.negate=Td,E0.prototype.abs=Tc,E0.prototype.compareTo=Tp,E0.prototype.bitLength=Th,E0.prototype.mod=Tx,E0.prototype.equals=TE,E0.prototype.add=Tk,E0.prototype.subtract=TC,E0.prototype.multiply=TA,E0.prototype.divide=TP,E0.prototype.modPow=T$,E0.ZERO=Tn(0),E0.ONE=Tn(1);var TB=/^[89a-f]/i,Tj="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",TU="userAttributes.",TF=function(){function e(e){this.N=new E1(Tj,16),this.g=new E1("2",16),this.k=new E1(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=EJ.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var d=e.prototype;return d.getSmallAValue=function(){return this.smallAValue},d.getLargeAValue=function(e){var d=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(h,m){h&&e(h,null),d.largeAValue=m,e(null,d.largeAValue)})},d.generateRandomSmallA=function(){return new E1(TM(128).toString("hex"),16)},d.generateRandomString=function(){return TM(40).toString("base64")},d.getRandomPassword=function(){return this.randomPassword},d.getSaltDevices=function(){return this.SaltToHashDevices},d.getVerifierDevices=function(){return this.verifierDevices},d.generateHashDevice=function(e,d,h){var m=this;this.randomPassword=this.generateRandomString();var g=""+e+d+":"+this.randomPassword,y=this.hash(g),b=TM(16).toString("hex");this.SaltToHashDevices=this.padHex(new E1(b,16)),this.g.modPow(new E1(this.hexHash(this.SaltToHashDevices+y),16),this.N,function(e,d){e&&h(e,null),m.verifierDevices=m.padHex(d),h(null,null)})},d.calculateA=function(e,d){var h=this;this.g.modPow(e,this.N,function(e,m){e&&d(e,null),m.mod(h.N).equals(E1.ZERO)&&d(Error("Illegal paramater. A mod N cannot be 0."),null),d(null,m)})},d.calculateU=function(e,d){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(d)),new E1(this.UHexHash,16)},d.hash=function(e){var d=new EZ.Sha256;d.update(e);var h=d.digestSync(),m=EJ.Buffer.from(h).toString("hex");return Array(64-m.length).join("0")+m},d.hexHash=function(e){return this.hash(EJ.Buffer.from(e,"hex"))},d.computehkdf=function(e,d){var h=EJ.Buffer.concat([this.infoBits,EJ.Buffer.from("\x01","utf8")]),m=new EZ.Sha256(d);m.update(e);var g=m.digestSync(),y=new EZ.Sha256(g);return y.update(h),y.digestSync().slice(0,16)},d.getPasswordAuthenticationKey=function(e,d,h,m,g){var y=this;if(h.mod(this.N).equals(E1.ZERO))throw Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,h),this.UValue.equals(E1.ZERO))throw Error("U cannot be zero.");var b=""+this.poolName+e+":"+d,v=this.hash(b),w=new E1(this.hexHash(this.padHex(m)+v),16);this.calculateS(w,h,function(e,d){e&&g(e,null),g(null,y.computehkdf(EJ.Buffer.from(y.padHex(d),"hex"),EJ.Buffer.from(y.padHex(y.UValue),"hex")))})},d.calculateS=function(e,d,h){var m=this;this.g.modPow(e,this.N,function(g,y){g&&h(g,null),d.subtract(m.k.multiply(y)).modPow(m.smallAValue.add(m.UValue.multiply(e)),m.N,function(e,d){e&&h(e,null),h(null,d.mod(m.N))})})},d.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return TU},d.padHex=function(e){if(!(e instanceof E1))throw Error("Not a BigInteger");var d=0>e.compareTo(E1.ZERO),h=e.abs().toString(16);return h=h.length%2!=0?"0"+h:h,h=TB.test(h)?"00"+h:h,d&&(h=new E1(h.split("").map(function(e){var d=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(d)}).join(""),16).add(E1.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(h=h.substring(2)),h},e}(),Tz=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var d=e.prototype;return d.getJwtToken=function(){return this.jwtToken},d.getExpiration=function(){return this.payload.exp},d.getIssuedAt=function(){return this.payload.iat},d.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(EJ.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function Tq(e,d){e.prototype=Object.create(d.prototype),e.prototype.constructor=e,TV(e,d)}function TV(e,d){return(TV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,d){return e.__proto__=d,e})(e,d)}var TH=function(e){function d(d){var h=(void 0===d?{}:d).AccessToken;return e.call(this,h||"")||this}return Tq(d,e),d}(Tz);function TK(e,d){e.prototype=Object.create(d.prototype),e.prototype.constructor=e,TG(e,d)}function TG(e,d){return(TG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,d){return e.__proto__=d,e})(e,d)}var TW=function(e){function d(d){var h=(void 0===d?{}:d).IdToken;return e.call(this,h||"")||this}return TK(d,e),d}(Tz),TJ={userAgent:"aws-amplify/5.0.4",isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product},TQ=function(){return TJ.userAgent},TY=function(){function e(e){var d=(void 0===e?{}:e).RefreshToken;this.token=d||""}return e.prototype.getToken=function(){return this.token},e}(),TX=function(){function e(e){var d=void 0===e?{}:e,h=d.IdToken,m=d.RefreshToken,g=d.AccessToken,y=d.ClockDrift;if(null==g||null==h)throw Error("Id token and Access Token must be present.");this.idToken=h,this.refreshToken=m,this.accessToken=g,this.clockDrift=void 0===y?this.calculateClockDrift():y}var d=e.prototype;return d.getIdToken=function(){return this.idToken},d.getRefreshToken=function(){return this.refreshToken},d.getAccessToken=function(){return this.accessToken},d.getClockDrift=function(){return this.clockDrift},d.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},d.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),TZ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T1=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],T0=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,d=T1[e.getUTCDay()],h=TZ[e.getUTCMonth()],m=e.getUTCDate(),g=e.getUTCHours();g<10&&(g="0"+g);var y=e.getUTCMinutes();y<10&&(y="0"+y);var b=e.getUTCSeconds();return b<10&&(b="0"+b),d+" "+h+" "+m+" "+g+":"+y+":"+b+" UTC "+e.getUTCFullYear()},e}(),T2=function(){function e(e){var d=void 0===e?{}:e,h=d.Name,m=d.Value;this.Name=h||"",this.Value=m||""}var d=e.prototype;return d.getValue=function(){return this.Value},d.setValue=function(e){return this.Value=e,this},d.getName=function(){return this.Name},d.setName=function(e){return this.Name=e,this},d.toString=function(){return JSON.stringify(this)},d.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),T4={},T6=function(){function e(){}return e.setItem=function(e,d){return T4[e]=d,T4[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(T4,e)?T4[e]:void 0},e.removeItem=function(e){return delete T4[e]},e.clear=function(){return T4={}},e}(),T3=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=T6}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),T5="undefined"!=typeof navigator?TJ.isReactNative?"react-native":navigator.userAgent:"nodejs",T8=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||new T3().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var d=e.prototype;return d.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},d.getSignInUserSession=function(){return this.signInUserSession},d.getUsername=function(){return this.username},d.getAuthenticationFlowType=function(){return this.authenticationFlowType},d.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},d.initiateAuth=function(e,d){var h=this,m=e.getAuthParameters();m.USERNAME=this.username;var g=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),y={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:m,ClientMetadata:g};this.getUserContextData()&&(y.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",y,function(e,m){if(e)return d.onFailure(e);var g=m.ChallengeName,y=m.ChallengeParameters;return"CUSTOM_CHALLENGE"===g?(h.Session=m.Session,d.customChallenge(y)):(h.signInUserSession=h.getCognitoUserSession(m.AuthenticationResult),h.cacheTokens(),d.onSuccess(h.signInUserSession))})},d.authenticateUser=function(e,d){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,d):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,d):d.onFailure(Error("Authentication flow type is invalid."))},d.authenticateUserDefaultAuth=function(e,d){var h,m,g=this,y=new TF(this.pool.getUserPoolName()),b=new T0,v={};null!=this.deviceKey&&(v.DEVICE_KEY=this.deviceKey),v.USERNAME=this.username,y.getLargeAValue(function(w,S){w&&d.onFailure(w),v.SRP_A=S.toString(16),"CUSTOM_AUTH"===g.authenticationFlowType&&(v.CHALLENGE_NAME="SRP_A");var x=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),_={AuthFlow:g.authenticationFlowType,ClientId:g.pool.getClientId(),AuthParameters:v,ClientMetadata:x};g.getUserContextData(g.username)&&(_.UserContextData=g.getUserContextData(g.username)),g.client.request("InitiateAuth",_,function(v,w){if(v)return d.onFailure(v);var S=w.ChallengeParameters;g.username=S.USER_ID_FOR_SRP,g.userDataKey=g.keyPrefix+"."+g.username+".userData",h=new E1(S.SRP_B,16),m=new E1(S.SALT,16),g.getCachedDeviceKeyAndPassword(),y.getPasswordAuthenticationKey(g.username,e.getPassword(),h,m,function(e,h){e&&d.onFailure(e);var m=b.getNowString(),v=EJ.Buffer.concat([EJ.Buffer.from(g.pool.getUserPoolName(),"utf8"),EJ.Buffer.from(g.username,"utf8"),EJ.Buffer.from(S.SECRET_BLOCK,"base64"),EJ.Buffer.from(m,"utf8")]),_=new EZ.Sha256(h);_.update(v);var E=_.digestSync(),T=EJ.Buffer.from(E).toString("base64"),k={};k.USERNAME=g.username,k.PASSWORD_CLAIM_SECRET_BLOCK=S.SECRET_BLOCK,k.TIMESTAMP=m,k.PASSWORD_CLAIM_SIGNATURE=T,null!=g.deviceKey&&(k.DEVICE_KEY=g.deviceKey);var C=function(e,d){return g.client.request("RespondToAuthChallenge",e,function(h,m){return h&&"ResourceNotFoundException"===h.code&&-1!==h.message.toLowerCase().indexOf("device")?(k.DEVICE_KEY=null,g.deviceKey=null,g.randomPassword=null,g.deviceGroupKey=null,g.clearCachedDeviceKeyAndPassword(),C(e,d)):d(h,m)})},P={ChallengeName:"PASSWORD_VERIFIER",ClientId:g.pool.getClientId(),ChallengeResponses:k,Session:w.Session,ClientMetadata:x};g.getUserContextData()&&(P.UserContextData=g.getUserContextData()),C(P,function(e,h){return e?d.onFailure(e):g.authenticateUserInternal(h,y,d)})})})})},d.authenticateUserPlainUsernamePassword=function(e,d){var h=this,m={};if(m.USERNAME=this.username,m.PASSWORD=e.getPassword(),!m.PASSWORD)return void d.onFailure(Error("PASSWORD parameter is required"));var g=new TF(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(m.DEVICE_KEY=this.deviceKey);var y=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),b={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:m,ClientMetadata:y};this.getUserContextData(this.username)&&(b.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",b,function(e,m){return e?d.onFailure(e):h.authenticateUserInternal(m,g,d)})},d.authenticateUserInternal=function(e,d,h){var m=this,g=e.ChallengeName,y=e.ChallengeParameters;if("SMS_MFA"===g)return this.Session=e.Session,h.mfaRequired(g,y);if("SELECT_MFA_TYPE"===g)return this.Session=e.Session,h.selectMFAType(g,y);if("MFA_SETUP"===g)return this.Session=e.Session,h.mfaSetup(g,y);if("SOFTWARE_TOKEN_MFA"===g)return this.Session=e.Session,h.totpRequired(g,y);if("CUSTOM_CHALLENGE"===g)return this.Session=e.Session,h.customChallenge(y);if("NEW_PASSWORD_REQUIRED"===g){this.Session=e.Session;var b=null,v=null,w=[],S=d.getNewPasswordRequiredChallengeUserAttributePrefix();if(y&&(b=JSON.parse(e.ChallengeParameters.userAttributes),v=JSON.parse(e.ChallengeParameters.requiredAttributes)),v)for(var x=0;x<v.length;x++)w[x]=v[x].substr(S.length);return h.newPasswordRequired(b,w)}if("DEVICE_SRP_AUTH"===g){this.Session=e.Session,this.getDeviceResponse(h);return}this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=g,this.cacheTokens();var _=e.AuthenticationResult.NewDeviceMetadata;if(null==_)return h.onSuccess(this.signInUserSession);d.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(g){if(g)return h.onFailure(g);var y={Salt:EJ.Buffer.from(d.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:EJ.Buffer.from(d.getVerifierDevices(),"hex").toString("base64")};m.verifierDevices=y.PasswordVerifier,m.deviceGroupKey=_.DeviceGroupKey,m.randomPassword=d.getRandomPassword(),m.client.request("ConfirmDevice",{DeviceKey:_.DeviceKey,AccessToken:m.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:y,DeviceName:T5},function(d,g){return d?h.onFailure(d):(m.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,m.cacheDeviceKeyAndPassword(),!0===g.UserConfirmationNecessary)?h.onSuccess(m.signInUserSession,g.UserConfirmationNecessary):h.onSuccess(m.signInUserSession)})})},d.completeNewPasswordChallenge=function(e,d,h,m){var g=this;if(!e)return h.onFailure(Error("New password is required."));var y=new TF(this.pool.getUserPoolName()),b=y.getNewPasswordRequiredChallengeUserAttributePrefix(),v={};d&&Object.keys(d).forEach(function(e){v[b+e]=d[e]}),v.NEW_PASSWORD=e,v.USERNAME=this.username;var w={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:v,Session:this.Session,ClientMetadata:m};this.getUserContextData()&&(w.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",w,function(e,d){return e?h.onFailure(e):g.authenticateUserInternal(d,y,h)})},d.getDeviceResponse=function(e,d){var h=this,m=new TF(this.deviceGroupKey),g=new T0,y={};y.USERNAME=this.username,y.DEVICE_KEY=this.deviceKey,m.getLargeAValue(function(b,v){b&&e.onFailure(b),y.SRP_A=v.toString(16);var w={ChallengeName:"DEVICE_SRP_AUTH",ClientId:h.pool.getClientId(),ChallengeResponses:y,ClientMetadata:d,Session:h.Session};h.getUserContextData()&&(w.UserContextData=h.getUserContextData()),h.client.request("RespondToAuthChallenge",w,function(d,y){if(d)return e.onFailure(d);var b=y.ChallengeParameters,v=new E1(b.SRP_B,16),w=new E1(b.SALT,16);m.getPasswordAuthenticationKey(h.deviceKey,h.randomPassword,v,w,function(d,m){if(d)return e.onFailure(d);var v=g.getNowString(),w=EJ.Buffer.concat([EJ.Buffer.from(h.deviceGroupKey,"utf8"),EJ.Buffer.from(h.deviceKey,"utf8"),EJ.Buffer.from(b.SECRET_BLOCK,"base64"),EJ.Buffer.from(v,"utf8")]),S=new EZ.Sha256(m);S.update(w);var x=S.digestSync(),_=EJ.Buffer.from(x).toString("base64"),E={};E.USERNAME=h.username,E.PASSWORD_CLAIM_SECRET_BLOCK=b.SECRET_BLOCK,E.TIMESTAMP=v,E.PASSWORD_CLAIM_SIGNATURE=_,E.DEVICE_KEY=h.deviceKey;var T={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:h.pool.getClientId(),ChallengeResponses:E,Session:y.Session};h.getUserContextData()&&(T.UserContextData=h.getUserContextData()),h.client.request("RespondToAuthChallenge",T,function(d,m){return d?e.onFailure(d):(h.signInUserSession=h.getCognitoUserSession(m.AuthenticationResult),h.cacheTokens(),e.onSuccess(h.signInUserSession))})})})})},d.confirmRegistration=function(e,d,h,m){var g={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:d,ClientMetadata:m};this.getUserContextData()&&(g.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",g,function(e){return e?h(e,null):h(null,"SUCCESS")})},d.sendCustomChallengeAnswer=function(e,d,h){var m=this,g={};g.USERNAME=this.username,g.ANSWER=e;var y=new TF(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(g.DEVICE_KEY=this.deviceKey);var b={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:g,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:h};this.getUserContextData()&&(b.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",b,function(e,h){return e?d.onFailure(e):m.authenticateUserInternal(h,y,d)})},d.sendMFACode=function(e,d,h,m){var g=this,y={};y.USERNAME=this.username,y.SMS_MFA_CODE=e;var b=h||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===b&&(y.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(y.DEVICE_KEY=this.deviceKey);var v={ChallengeName:b,ChallengeResponses:y,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:m};this.getUserContextData()&&(v.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",v,function(e,h){if(e)return d.onFailure(e);if("DEVICE_SRP_AUTH"===h.ChallengeName)return void g.getDeviceResponse(d);if(g.signInUserSession=g.getCognitoUserSession(h.AuthenticationResult),g.cacheTokens(),null==h.AuthenticationResult.NewDeviceMetadata)return d.onSuccess(g.signInUserSession);var m=new TF(g.pool.getUserPoolName());m.generateHashDevice(h.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,h.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return d.onFailure(e);var y={Salt:EJ.Buffer.from(m.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:EJ.Buffer.from(m.getVerifierDevices(),"hex").toString("base64")};g.verifierDevices=y.PasswordVerifier,g.deviceGroupKey=h.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,g.randomPassword=m.getRandomPassword(),g.client.request("ConfirmDevice",{DeviceKey:h.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:g.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:y,DeviceName:T5},function(e,m){return e?d.onFailure(e):(g.deviceKey=h.AuthenticationResult.NewDeviceMetadata.DeviceKey,g.cacheDeviceKeyAndPassword(),!0===m.UserConfirmationNecessary)?d.onSuccess(g.signInUserSession,m.UserConfirmationNecessary):d.onSuccess(g.signInUserSession)})})})},d.changePassword=function(e,d,h,m){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return h(Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:d,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:m},function(e){return e?h(e,null):h(null,"SUCCESS")})},d.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var d=[],h={DeliveryMedium:"SMS",AttributeName:"phone_number"};d.push(h),this.client.request("SetUserSettings",{MFAOptions:d,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(d){return d?e(d,null):e(null,"SUCCESS")})},d.setUserMfaPreference=function(e,d,h){if(null==this.signInUserSession||!this.signInUserSession.isValid())return h(Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:d,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?h(e,null):h(null,"SUCCESS")})},d.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var d=[];this.client.request("SetUserSettings",{MFAOptions:d,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(d){return d?e(d,null):e(null,"SUCCESS")})},d.deleteUser=function(e,d){var h=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:d},function(d){return d?e(d,null):(h.clearCachedUser(),e(null,"SUCCESS"))})},d.updateAttributes=function(e,d,h){var m=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return d(Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:h},function(e,h){return e?d(e,null):m.getUserData(function(){return d(null,"SUCCESS",h)},{bypassCache:!0})})},d.getUserAttributes=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(d,h){if(d)return e(d,null);for(var m=[],g=0;g<h.UserAttributes.length;g++){var y=new T2({Name:h.UserAttributes[g].Name,Value:h.UserAttributes[g].Value});m.push(y)}return e(null,m)})},d.getMFAOptions=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(d,h){return d?e(d,null):e(null,h.MFAOptions)})},d.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},d.refreshSessionIfPossible=function(e){var d=this;return void 0===e&&(e={}),new Promise(function(h){var m=d.signInUserSession.getRefreshToken();m&&m.getToken()?d.refreshSession(m,h,e.clientMetadata):h()})},d.getUserData=function(e,d){var h=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return this.clearCachedUserData(),e(Error("User is not authenticated"),null);var m=this.getUserDataFromCache();if(!m)return void this.fetchUserData().then(function(d){e(null,d)}).catch(e);if(this.isFetchUserDataAndTokenRequired(d))return void this.fetchUserData().then(function(e){return h.refreshSessionIfPossible(d).then(function(){return e})}).then(function(d){return e(null,d)}).catch(e);try{e(null,JSON.parse(m));return}catch(d){this.clearCachedUserData(),e(d,null);return}},d.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},d.isFetchUserDataAndTokenRequired=function(e){var d=(e||{}).bypassCache;return void 0!==d&&d},d.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(d){return e.cacheUserData(d),d})},d.deleteAttributes=function(e,d){var h=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return d(Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?d(e,null):h.getUserData(function(){return d(null,"SUCCESS")},{bypassCache:!0})})},d.resendConfirmationCode=function(e,d){var h={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:d};this.client.request("ResendConfirmationCode",h,function(d,h){return d?e(d,null):e(null,h)})},d.getSession=function(e,d){if(void 0===d&&(d={}),null==this.username)return e(Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var h="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,m=h+".idToken",g=h+".accessToken",y=h+".refreshToken",b=h+".clockDrift";if(this.storage.getItem(m)){var v=new TW({IdToken:this.storage.getItem(m)}),w=new TH({AccessToken:this.storage.getItem(g)}),S=new TY({RefreshToken:this.storage.getItem(y)}),x=new TX({IdToken:v,AccessToken:w,RefreshToken:S,ClockDrift:parseInt(this.storage.getItem(b),0)||0});if(x.isValid())return this.signInUserSession=x,e(null,this.signInUserSession);if(!S.getToken())return e(Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(S,e,d.clientMetadata)}else e(Error("Local storage is missing an ID Token, Please authenticate"),null)},d.refreshSession=function(e,d,h){var m=this,g=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(d):d,y={};y.REFRESH_TOKEN=e.getToken();var b="CognitoIdentityServiceProvider."+this.pool.getClientId(),v=b+".LastAuthUser";if(this.storage.getItem(v)){this.username=this.storage.getItem(v);var w=b+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(w),y.DEVICE_KEY=this.deviceKey}var S={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:y,ClientMetadata:h};this.getUserContextData()&&(S.UserContextData=this.getUserContextData()),this.client.requestWithRetry("InitiateAuth",S,function(d,h){if(d)return"NotAuthorizedException"===d.code&&m.clearCachedUser(),g(d,null);if(h){var y=h.AuthenticationResult;return Object.prototype.hasOwnProperty.call(y,"RefreshToken")||(y.RefreshToken=e.getToken()),m.signInUserSession=m.getCognitoUserSession(y),m.cacheTokens(),g(null,m.signInUserSession)}})},d.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),d=e+"."+this.username+".idToken",h=e+"."+this.username+".accessToken",m=e+"."+this.username+".refreshToken",g=e+"."+this.username+".clockDrift",y=e+".LastAuthUser";this.storage.setItem(d,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(h,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(m,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(g,""+this.signInUserSession.getClockDrift()),this.storage.setItem(y,this.username)},d.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},d.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},d.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},d.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,d=e+".deviceKey",h=e+".randomPasswordKey",m=e+".deviceGroupKey";this.storage.setItem(d,this.deviceKey),this.storage.setItem(h,this.randomPassword),this.storage.setItem(m,this.deviceGroupKey)},d.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,d=e+".deviceKey",h=e+".randomPasswordKey",m=e+".deviceGroupKey";this.storage.getItem(d)&&(this.deviceKey=this.storage.getItem(d),this.randomPassword=this.storage.getItem(h),this.deviceGroupKey=this.storage.getItem(m))},d.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,d=e+".deviceKey",h=e+".randomPasswordKey",m=e+".deviceGroupKey";this.storage.removeItem(d),this.storage.removeItem(h),this.storage.removeItem(m)},d.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),d=e+"."+this.username+".idToken",h=e+"."+this.username+".accessToken",m=e+"."+this.username+".refreshToken",g=e+".LastAuthUser",y=e+"."+this.username+".clockDrift";this.storage.removeItem(d),this.storage.removeItem(h),this.storage.removeItem(m),this.storage.removeItem(g),this.storage.removeItem(y)},d.getCognitoUserSession=function(e){return new TX({IdToken:new TW(e),AccessToken:new TH(e),RefreshToken:new TY(e)})},d.forgotPassword=function(e,d){var h={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:d};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",h,function(d,h){return d?e.onFailure(d):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(h):e.onSuccess(h)})},d.confirmPassword=function(e,d,h,m){var g={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:d,ClientMetadata:m};this.getUserContextData()&&(g.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",g,function(e){return e?h.onFailure(e):h.onSuccess("SUCCESS")})},d.getAttributeVerificationCode=function(e,d,h){if(null==this.signInUserSession||!this.signInUserSession.isValid())return d.onFailure(Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:h},function(e,h){return e?d.onFailure(e):"function"==typeof d.inputVerificationCode?d.inputVerificationCode(h):d.onSuccess("SUCCESS")})},d.verifyAttribute=function(e,d,h){if(null==this.signInUserSession||!this.signInUserSession.isValid())return h.onFailure(Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:d,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?h.onFailure(e):h.onSuccess("SUCCESS")})},d.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(d,h){return d?e.onFailure(d):e.onSuccess(h)})},d.forgetSpecificDevice=function(e,d){if(null==this.signInUserSession||!this.signInUserSession.isValid())return d.onFailure(Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?d.onFailure(e):d.onSuccess("SUCCESS")})},d.forgetDevice=function(e){var d=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(h){return d.deviceKey=null,d.deviceGroupKey=null,d.randomPassword=null,d.clearCachedDeviceKeyAndPassword(),e.onSuccess(h)}})},d.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(d){return d?e.onFailure(d):e.onSuccess("SUCCESS")})},d.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(d){return d?e.onFailure(d):e.onSuccess("SUCCESS")})},d.listDevices=function(e,d,h){if(null==this.signInUserSession||!this.signInUserSession.isValid())return h.onFailure(Error("User is not authenticated"));var m={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};d&&(m.PaginationToken=d),this.client.request("ListDevices",m,function(e,d){return e?h.onFailure(e):h.onSuccess(d)})},d.globalSignOut=function(e){var d=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(h){return h?e.onFailure(h):(d.clearCachedUser(),e.onSuccess("SUCCESS"))})},d.signOut=function(e){var d=this;if(!e||"function"!=typeof e)return void this.cleanClientData();this.getSession(function(h,m){if(h)return e(h);d.revokeTokens(function(h){d.cleanClientData(),e(h)})})},d.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(Error("No Access token available"));var d=this.signInUserSession.getRefreshToken().getToken(),h=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(h)&&d)return this.revokeToken({token:d,callback:e});e()},d.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},d.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},d.revokeToken=function(e){var d=e.token,h=e.callback;this.client.requestWithRetry("RevokeToken",{Token:d,ClientId:this.pool.getClientId()},function(e){if(e)return h(e);h()})},d.sendMFASelectionAnswer=function(e,d){var h=this,m={};m.USERNAME=this.username,m.ANSWER=e;var g={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:m,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(g.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",g,function(m,g){return m?d.onFailure(m):(h.Session=g.Session,"SMS_MFA"===e)?d.mfaRequired(g.ChallengeName,g.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?d.totpRequired(g.ChallengeName,g.ChallengeParameters):void 0})},d.getUserContextData=function(){return this.pool.getUserContextData(this.username)},d.associateSoftwareToken=function(e){var d=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(d,h){return d?e.onFailure(d):e.associateSecretCode(h.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(h,m){return h?e.onFailure(h):(d.Session=m.Session,e.associateSecretCode(m.SecretCode))})},d.verifySoftwareToken=function(e,d,h){var m=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:d},function(e,d){return e?h.onFailure(e):h.onSuccess(d)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:d},function(e,d){if(e)return h.onFailure(e);m.Session=d.Session;var g={};g.USERNAME=m.username;var y={ChallengeName:"MFA_SETUP",ClientId:m.pool.getClientId(),ChallengeResponses:g,Session:m.Session};m.getUserContextData()&&(y.UserContextData=m.getUserContextData()),m.client.request("RespondToAuthChallenge",y,function(e,d){return e?h.onFailure(e):(m.signInUserSession=m.getCognitoUserSession(d.AuthenticationResult),m.cacheTokens(),h.onSuccess(m.signInUserSession))})})},e}();function T9(){}h(90318),T9.prototype.userAgent=TQ();var T7=function(e){var d=T9.category?" "+T9.category:"",h=T9.framework?" framework/"+T9.framework:"";return""+T9.prototype.userAgent+d+h};function ke(e,d){e.prototype=Object.create(d.prototype),e.prototype.constructor=e,kn(e,d)}function kt(e){var d="function"==typeof Map?new Map:void 0;return(kt=function(e){if(null===e||!ka(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==d){if(d.has(e))return d.get(e);d.set(e,h)}function h(){return ki(e,arguments,ks(this).constructor)}return h.prototype=Object.create(e.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),kn(h,e)})(e)}function ki(e,d,h){if(kr())return Reflect.construct.apply(null,arguments);var m=[null];m.push.apply(m,d);var g=new(e.bind.apply(e,m));return h&&kn(g,h.prototype),g}function kr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kr=function(){return!!e})()}function ka(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(d){return"function"==typeof e}}function kn(e,d){return(kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,d){return e.__proto__=d,e})(e,d)}function ks(e){return(ks=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ko=function(e){function d(d,h,m,g){var y;return(y=e.call(this,d)||this).code=h,y.name=m,y.statusCode=g,y}return ke(d,e),d}(kt(Error)),kl=function(){function e(e,d,h){this.endpoint=d||"https://cognito-idp."+e+".amazonaws.com/";var m=(h||{}).credentials;this.fetchOptions=m?{credentials:m}:{}}var d=e.prototype;return d.promisifyRequest=function(e,d){var h=this;return new Promise(function(m,g){h.request(e,d,function(e,d){e?g(new ko(e.message,e.code,e.name,e.statusCode)):m(d)})})},d.requestWithRetry=function(e,d,h){var m=this;km(function(d){return new Promise(function(h,g){m.request(e,d,function(e,d){e?g(e):h(d)})})},[d],5e3).then(function(e){return h(null,e)}).catch(function(e){return h(e)})},d.request=function(e,d,h){var m,g,y={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":T7(),"Cache-Control":"no-store"},b=Object.assign({},this.fetchOptions,{headers:y,method:"POST",mode:"cors",body:JSON.stringify(d)});fetch(this.endpoint,b).then(function(e){return m=e,e},function(e){if(e instanceof TypeError)throw Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(m.ok)return h(null,e);g=e;var d=(e.__type||e.code).split("#").pop(),y=Error(e.message||e.Message||null);return y.name=d,y.code=d,h(y)}).catch(function(e){if(m&&m.headers&&m.headers.get("x-amzn-errortype"))try{var d=m.headers.get("x-amzn-errortype").split(":")[0],g=Error(m.status?m.status.toString():null);return g.code=d,g.name=d,g.statusCode=m.status,h(g)}catch(e){}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return h(e)})},e}(),kd={debug:function(){}},kc=function(e){var d="nonRetryable";return e&&e[d]};function kp(e,d,h,m){if(void 0===m&&(m=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return kd.debug(e.name+" attempt #"+m+" with args: "+JSON.stringify(d)),e.apply(void 0,d).catch(function(g){if(kd.debug("error on "+e.name,g),kc(g))throw kd.debug(e.name+" non retryable error",g),g;var y=h(m,d,g);if(kd.debug(e.name+" retrying in "+y+" ms"),!1!==y)return new Promise(function(e){return setTimeout(e,y)}).then(function(){return kp(e,d,h,m+1)});throw g})}function ku(e){var d=100,h=100;return function(m){var g=Math.pow(2,m)*d+h*Math.random();return!(g>e)&&g}}var kh=3e5;function km(e,d,h){return void 0===h&&(h=kh),kp(e,d,ku(h))}var kf=55,kg=function(){function e(e,d){var h=e||{},m=h.UserPoolId,g=h.ClientId,y=h.endpoint,b=h.fetchOptions,v=h.AdvancedSecurityDataCollectionFlag;if(!m||!g)throw Error("Both UserPoolId and ClientId are required.");if(m.length>kf||!/^[\w-]+_[0-9a-zA-Z]+$/.test(m))throw Error("Invalid UserPoolId format.");var w=m.split("_")[0];this.userPoolId=m,this.clientId=g,this.client=new kl(w,y,b),this.advancedSecurityDataCollectionFlag=!1!==v,this.storage=e.Storage||new T3().getStorage(),d&&(this.wrapRefreshSessionCallback=d)}var d=e.prototype;return d.getUserPoolId=function(){return this.userPoolId},d.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},d.getClientId=function(){return this.clientId},d.signUp=function(e,d,h,m,g,y){var b=this,v={ClientId:this.clientId,Username:e,Password:d,UserAttributes:h,ValidationData:m,ClientMetadata:y};this.getUserContextData(e)&&(v.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",v,function(d,h){return d?g(d,null):g(null,{user:new T8({Username:e,Pool:b,Storage:b.storage}),userConfirmed:h.UserConfirmed,userSub:h.UserSub,codeDeliveryDetails:h.CodeDeliveryDetails})})},d.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",d=this.storage.getItem(e);return d?new T8({Username:d,Pool:this,Storage:this.storage}):null},d.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var d=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var h=d.getData(e,this.userPoolId,this.clientId);if(h)return{EncodedData:h}}return{}}},e}();h(84249);let ky=null,kb=async(e,d)=>{if(ky?.isValid())return ky;if(!process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_CLIENT_ID)throw Error("PAYLOAD_CLOUD_COGNITO_USER_POOL_CLIENT_ID is required");if(!process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_ID)throw Error("PAYLOAD_CLOUD_COGNITO_USER_POOL_ID is required");let h=new kg({ClientId:process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_CLIENT_ID,UserPoolId:process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_ID}),m=new EW({Password:d,Username:e}),g=new T8({Pool:h,Username:e});return ky=await new Promise((e,d)=>{g.authenticateUser(m,{onFailure:e=>{d(e)},onSuccess:d=>{e(d)}})})},kv=async()=>{let e=await kb(process.env.PAYLOAD_CLOUD_PROJECT_ID||"",process.env.PAYLOAD_CLOUD_COGNITO_PASSWORD||""),d=new M.D({credentials:EG({clientConfig:{region:"us-east-1"},identityPoolId:process.env.PAYLOAD_CLOUD_COGNITO_IDENTITY_POOL_ID||"",logins:{[`cognito-idp.us-east-1.amazonaws.com/${process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_ID}`]:e.getIdToken().getJwtToken()}})}),h=await d.config.credentials();return{identityID:h.identityId,session:e,storageClient:new ER({credentials:h,region:process.env.PAYLOAD_CLOUD_BUCKET_REGION})}},kw=null,kS=null,kx=async()=>{if(kw&&kS?.isValid())return{identityID:m,storageClient:kw};if({identityID:m,session:kS,storageClient:kw}=await kv(),!process.env.PAYLOAD_CLOUD_PROJECT_ID)throw Error("PAYLOAD_CLOUD_PROJECT_ID is required");if(!process.env.PAYLOAD_CLOUD_COGNITO_PASSWORD)throw Error("PAYLOAD_CLOUD_COGNITO_PASSWORD is required");if(!process.env.PAYLOAD_CLOUD_COGNITO_IDENTITY_POOL_ID)throw Error("PAYLOAD_CLOUD_COGNITO_IDENTITY_POOL_ID is required");return{identityID:m,storageClient:kw}},k_=({collection:e})=>async({doc:d,req:h})=>{try{let{identityID:h,storageClient:m}=await kx(),g=[d.filename||"",...Object.values(d?.sizes||[]).map(e=>e.filename).filter(e=>null!==e)].map(async d=>{await m.deleteObject({Bucket:process.env.PAYLOAD_CLOUD_BUCKET,Key:$({collection:e.slug,filename:d,identityID:h})})});await Promise.all(g)}catch(m){h.payload.logger.error(`There was an error while deleting files corresponding to the ${e.labels?.singular} with ID ${d.id}:`),h.payload.logger.error(m)}return d};class AbortSignal{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}class kE{constructor(){this.signal=new AbortSignal}abort(){this.signal.abort()}}var kT=h(65067),kk=h(135),kC=h(94735),kA=h(29021);let kP={...{lstatSync:()=>{}},runtime:"node",lstatSync:kA.lstatSync},kN=e=>{if(null==e)return 0;if("string"==typeof e)return EJ.Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path)try{return kP.lstatSync(e.path).size}catch(e){}};var kO=h(27910);async function*kI(e,d,h){let m=1,g={chunks:[],length:0};for await(let y of h(e))for(g.chunks.push(y),g.length+=y.byteLength;g.length>d;){let e=g.chunks.length>1?EJ.Buffer.concat(g.chunks):g.chunks[0];yield{partNumber:m,data:e.subarray(0,d)},g.chunks=[e.subarray(d)],g.length=g.chunks[0].byteLength,m+=1}yield{partNumber:m,data:1!==g.chunks.length?EJ.Buffer.concat(g.chunks):g.chunks[0],lastPart:!0}}async function*kR(e,d){let h=1,m=0,g=d;for(;g<e.byteLength;)yield{partNumber:h,data:e.subarray(m,g)},h+=1,g=(m=g)+d;yield{partNumber:h,data:e.subarray(m),lastPart:!0}}async function*kD(e){for await(let d of e)EJ.Buffer.isBuffer(d)||d instanceof Uint8Array?yield d:yield EJ.Buffer.from(d)}async function*kL(e){let d=e.getReader();try{for(;;){let{done:e,value:h}=await d.read();if(e)return;EJ.Buffer.isBuffer(h)||h instanceof Uint8Array?yield h:yield EJ.Buffer.from(h)}}catch(e){throw e}finally{d.releaseLock()}}let k$=(e,d)=>{if(e instanceof Uint8Array)return kR(e,d);if(e instanceof kO.Readable)return kI(e,d,kD);if(e instanceof String||"string"==typeof e)return kR(EJ.Buffer.from(e),d);if("function"==typeof e.stream)return kI(e.stream(),d,kL);if(e instanceof ReadableStream)return kI(e,d,kL);throw Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")};class kM extends kC.EventEmitter{static MIN_PART_SIZE=5242880;MAX_PARTS=1e4;queueSize=4;partSize=kM.MIN_PART_SIZE;leavePartsOnError=!1;tags=[];client;params;totalBytes;bytesUploadedSoFar;abortController;concurrentUploaders=[];createMultiPartPromise;abortMultipartUploadCommand=null;uploadedParts=[];uploadEnqueuedPartsCount=0;uploadId;uploadEvent;isMultiPart=!0;singleUploadResult;sent=!1;constructor(e){super(),this.queueSize=e.queueSize||this.queueSize,this.partSize=e.partSize||this.partSize,this.leavePartsOnError=e.leavePartsOnError||this.leavePartsOnError,this.tags=e.tags||this.tags,this.client=e.client,this.params=e.params,this.__validateInput(),this.totalBytes=kN(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=e.abortController??new kE}async abort(){this.abortController.abort()}async done(){if(this.sent)throw Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");return this.sent=!0,await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(e,d){return this.uploadEvent=e,super.on(e,d)}async __uploadUsingPut(e){this.isMultiPart=!1;let d={...this.params,Body:e.data},h=this.client.config,m=h.requestHandler,g=m instanceof kC.EventEmitter?m:null,y=d=>{this.bytesUploadedSoFar=d.loaded,this.totalBytes=d.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:e.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};null!==g&&g.on("xhr.upload.progress",y);let b=await Promise.all([this.client.send(new wq(d)),h?.endpoint?.()]),v=b[0],w=b[1];if(w||(w=(0,kT.a0)(await (0,kT.rC)(d,wq,{...h}))),!w)throw Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');null!==g&&g.off("xhr.upload.progress",y);let S=this.params.Key.split("/").map(e=>(0,kk.extendedEncodeURIComponent)(e)).join("/"),x=(0,kk.extendedEncodeURIComponent)(this.params.Bucket),_=(()=>{let e=w.hostname.startsWith(`${x}.`),d=this.client.config.forcePathStyle,h=w.port?`:${w.port}`:"";return d?`${w.protocol}//${w.hostname}${h}/${x}/${S}`:e?`${w.protocol}//${w.hostname}${h}/${S}`:`${w.protocol}//${x}.${w.hostname}${h}/${S}`})();this.singleUploadResult={...v,Bucket:this.params.Bucket,Key:this.params.Key,Location:_};let E=kN(e.data);this.__notifyProgress({loaded:E,total:E,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){let e=await this.client.config.requestChecksumCalculation();if(!this.createMultiPartPromise){let d={...this.params,Body:void 0};"WHEN_SUPPORTED"===e&&(d.ChecksumAlgorithm=this.params.ChecksumAlgorithm||Q.CRC32),this.createMultiPartPromise=this.client.send(new vT(d)).then(e=>(this.abortMultipartUploadCommand=new vy({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e.UploadId}),e))}return this.createMultiPartPromise}async __doConcurrentUpload(e){for await(let d of e){if(this.uploadEnqueuedPartsCount>this.MAX_PARTS)throw Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);if(this.abortController.signal.aborted)return;if(1===d.partNumber&&d.lastPart)return await this.__uploadUsingPut(d);if(!this.uploadId){let{UploadId:e}=await this.__createMultipartUpload();if(this.uploadId=e,this.abortController.signal.aborted)return}let e=kN(d.data)||0,h=this.client.config.requestHandler,m=h instanceof kC.EventEmitter?h:null,g=0,y=(h,m)=>{(Number(m.query.partNumber)||-1)===d.partNumber&&(h.total&&e&&(this.bytesUploadedSoFar+=h.loaded-g,g=h.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:d.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};null!==m&&m.on("xhr.upload.progress",y),this.uploadEnqueuedPartsCount+=1;let b=await this.client.send(new wY({...this.params,ContentLength:void 0,UploadId:this.uploadId,Body:d.data,PartNumber:d.partNumber}));if(null!==m&&m.off("xhr.upload.progress",y),this.abortController.signal.aborted)return;if(!b.ETag)throw Error(`Part ${d.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:d.partNumber,ETag:b.ETag,...b.ChecksumCRC32&&{ChecksumCRC32:b.ChecksumCRC32},...b.ChecksumCRC32C&&{ChecksumCRC32C:b.ChecksumCRC32C},...b.ChecksumSHA1&&{ChecksumSHA1:b.ChecksumSHA1},...b.ChecksumSHA256&&{ChecksumSHA256:b.ChecksumSHA256}}),null===m&&(this.bytesUploadedSoFar+=e),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:d.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}}async __doMultipartUpload(){let e,d=k$(this.params.Body,this.partSize),h=[];for(let e=0;e<this.queueSize;e++){let e=this.__doConcurrentUpload(d).catch(e=>{h.push(e)});this.concurrentUploaders.push(e)}if(await Promise.all(this.concurrentUploaders),h.length>=1)throw await this.markUploadAsAborted(),h[0];if(this.abortController.signal.aborted)throw await this.markUploadAsAborted(),Object.assign(Error("Upload aborted."),{name:"AbortError"});if(this.isMultiPart){this.uploadedParts.sort((e,d)=>e.PartNumber-d.PartNumber);let d={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};e=await this.client.send(new vv(d)),"string"==typeof e?.Location&&e.Location.includes("%2F")&&(e.Location=e.Location.replace(/%2F/g,"/"))}else e=this.singleUploadResult;return this.abortMultipartUploadCommand=null,this.tags.length&&await this.client.send(new wG({...this.params,Tagging:{TagSet:this.tags}})),e}async markUploadAsAborted(){this.uploadId&&!this.leavePartsOnError&&null!==this.abortMultipartUploadCommand&&(await this.client.send(this.abortMultipartUploadCommand),this.abortMultipartUploadCommand=null)}__notifyProgress(e){this.uploadEvent&&this.emit(this.uploadEvent,e)}async __abortTimeout(e){return new Promise((d,h)=>{e.onabort=()=>{let e=Error("Upload aborted.");e.name="AbortError",h(e)}})}__validateInput(){if(!this.params)throw Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<kM.MIN_PART_SIZE)throw Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${kM.MIN_PART_SIZE}] (5MB)`);if(this.queueSize<1)throw Error("Queue size: Must have at least one uploading queue.")}}function kB({data:e,req:d}){let h=d.file,m=[];return h&&e.filename&&e.mimeType&&(m=[{buffer:h.data,filename:e.filename,filesize:h.size,mimeType:e.mimeType,tempFilePath:h.tempFilePath}],e?.sizes&&Object.entries(e.sizes).forEach(([h,g])=>{d.payloadUploadSizes?.[h]&&e.mimeType&&(m=m.concat([{buffer:d.payloadUploadSizes[h],filename:`${g.filename}`,filesize:d.payloadUploadSizes[h].length,mimeType:e.mimeType}]))})),m}let kj=1048576,kU=({collection:e})=>async({data:d,req:h})=>{try{let m=kB({data:d,req:h});h.payload.logger.debug({msg:`Preparing to upload ${m.length} files`});let{identityID:g,storageClient:y}=await kx(),b=m.map(async d=>{let m=d.filename;h.payload.logger.debug({fileKey:m,msg:`File buffer length: ${d.buffer.length/kj}MB`,tempFilePath:d.tempFilePath??"undefined"});let b=d.tempFilePath?kA.createReadStream(d.tempFilePath):d.buffer;d.buffer.length>0&&(h.payload.logger.debug({fileKey:m,msg:`Uploading ${m} from buffer. Size: ${d.buffer.length/kj}MB`}),await y.putObject({Body:b,Bucket:process.env.PAYLOAD_CLOUD_BUCKET,ContentType:d.mimeType,Key:$({collection:e.slug,filename:m,identityID:g})}));let v=new kM({client:y,params:{Body:b,Bucket:process.env.PAYLOAD_CLOUD_BUCKET,ContentType:d.mimeType,Key:$({collection:e.slug,filename:m,identityID:g})}});v.on("httpUploadProgress",e=>{e.total&&h.payload.logger.debug({fileKey:m,msg:`Uploaded part ${e.part} - ${(e.loaded||0)/kj}MB out of ${(e.total||0)/kj}MB`})}),await v.done()});await Promise.all(b)}catch(m){h.payload.logger.error(`There was an error while uploading files corresponding to the collection ${e.slug} with filename ${d.filename}:`),h.payload.logger.error(m)}return d},kF=({endpoint:e})=>({doc:d,operation:h,req:m})=>{if(!m||!process.env.PAYLOAD_CLOUD_CACHE_KEY)return d;let{payloadAPI:g}=m;return"local"!==g&&"update"===h&&kq({doc:d,endpoint:e,operation:h,req:m}),d},kz=({endpoint:e})=>({doc:d,req:h})=>{if(!h||!process.env.PAYLOAD_CLOUD_CACHE_KEY)return d;let{payloadAPI:m}=h;return"local"!==m&&kq({doc:d,endpoint:e,operation:"delete",req:h}),d};async function kq({doc:e,endpoint:d,operation:h,req:m}){if(!e.url)return void m.payload.logger.error({msg:"No url found on doc",project:{id:process.env.PAYLOAD_CLOUD_PROJECT_ID}});let g={cacheKey:process.env.PAYLOAD_CLOUD_CACHE_KEY,filepath:e.url,projectID:process.env.PAYLOAD_CLOUD_PROJECT_ID};m.payload.logger.debug({filepath:e.url,msg:"Attempting to purge cache",operation:h,project:{id:process.env.PAYLOAD_CLOUD_PROJECT_ID}});try{let e=await fetch(`${d}/api/purge-cache`,{body:JSON.stringify({...g}),headers:{"Content-Type":"application/json"},method:"POST"});m.payload.logger.debug({msg:"Purge cache result",operation:h,statusCode:e.status})}catch(e){m.payload.logger.error({body:g,err:e,msg:"/purge-cache call failed"})}}let kV=e=>"object"==typeof e&&null!==e&&"pipe"in e&&"function"==typeof e.pipe&&"destroy"in e&&"function"==typeof e.destroy,kH=async e=>{let d=[];for await(let h of e)d.push("string"==typeof h?Buffer.from(h):h);return Buffer.concat(d)},kK=({cachingOptions:e,collection:d,debug:h})=>{let m,g=86400;!1!==e&&(g=e?.maxAge||g,m=e?.collections?.[d.slug]||{}),g=m?.maxAge||g;let y=!1!==e&&!!process.env.PAYLOAD_CLOUD_CACHE_KEY&&m?.enabled!==!1;return async(e,{params:m})=>{let b="";try{let{identityID:h,storageClient:v}=await kx();b=$({collection:d.slug,filename:m.filename,identityID:h});let w=await v.getObject({Bucket:process.env.PAYLOAD_CLOUD_BUCKET,Key:b});if(!w.Body||!w.ContentType||!w.ETag)return new Response(null,{status:404,statusText:"Not Found"});if(w.Body&&kV(w.Body)){let d=w.Body;d.on("error",h=>{e.payload.logger.error({err:h,key:b,msg:"Error streaming S3 object, destroying stream"}),d.destroy()})}let S=await kH(w.Body);return new Response(S,{headers:new Headers({"Content-Length":String(w.ContentLength),"Content-Type":w.ContentType,...y&&{"Cache-Control":`public, max-age=${g}`},ETag:w.ETag}),status:200})}catch(g){if(g instanceof Error){if("AccessDenied"===g.name)return e.payload.logger.warn({awsErr:h?g:g.name,collectionSlug:d.slug,msg:`Requested file not found in cloud storage: ${m.filename}`,params:m,requestedKey:b}),new Response(null,{status:404,statusText:"Not Found"});else if("NoSuchKey"===g.name)return e.payload.logger.warn({awsErr:h?g:g.name,collectionSlug:d.slug,msg:`Requested file not found in cloud storage: ${m.filename}`,params:m,requestedKey:b}),new Response(null,{status:404,statusText:"Not Found"})}return e.payload.logger.error({collectionSlug:d.slug,err:g,msg:`Error getting file from cloud storage: ${m.filename}`,params:m,requestedKey:b}),new Response("Internal Server Error",{status:500})}}},kG=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:24},()=>e[Math.floor(Math.random()*e.length)]).join("")},kW={cron:"* * * * *",limit:10,queue:"default"},kJ=e=>async d=>{let h={...d};if("true"!==process.env.PAYLOAD_CLOUD)return h;let m=e?.uploadCaching!==!1&&!!process.env.PAYLOAD_CLOUD_CACHE_KEY,g=e?.endpoint||"https://cloud-api.payloadcms.com";e?.storage!==!1&&(h={...h,collections:(h.collections||[]).map(d=>d.upload?{...d,hooks:{...d.hooks||{},afterChange:[...d.hooks?.afterChange||[],...m?[kF({endpoint:g})]:[]],afterDelete:[...d.hooks?.afterDelete||[],k_({collection:d}),...m?[kz({endpoint:g})]:[]],beforeChange:[...d.hooks?.beforeChange||[],kU({collection:d})]},upload:{..."object"==typeof d.upload?d.upload:{},disableLocalStorage:!0,handlers:[..."object"==typeof d.upload&&Array.isArray(d.upload.handlers)?d.upload.handlers:[],kK({cachingOptions:e?.uploadCaching,collection:d,debug:e?.debug})]}}:d),upload:{...h.upload||{},useTempFiles:!0}});let y=process.env.PAYLOAD_CLOUD_EMAIL_API_KEY,b=process.env.PAYLOAD_CLOUD_DEFAULT_DOMAIN;if(e?.email!==!1&&y&&b&&(h.email=await L({apiKey:y,config:h,defaultDomain:b,defaultFromAddress:e?.email?.defaultFromAddress,defaultFromName:e?.email?.defaultFromName,skipVerify:e?.email?.skipVerify})),h.globals=[...h.globals||[],{slug:"payload-cloud-instance",admin:{hidden:!0},fields:[{name:"instance",type:"text",required:!0}]}],e?.enableAutoRun===!1)return h;let v=h.jobs?.autoRun??[],w=!!h.jobs?.autoRun,S=async e=>{if(process.env.PAYLOAD_CLOUD_JOBS_INSTANCE){if((await e.findGlobal({slug:"payload-cloud-instance"})).instance===process.env.PAYLOAD_CLOUD_JOBS_INSTANCE)return!0;process.env.PAYLOAD_CLOUD_JOBS_INSTANCE=""}return!1};h.jobs?.shouldAutoRun||((h.jobs??={}).shouldAutoRun=S);let x=async e=>{let d=kG();return(process.env.PAYLOAD_CLOUD_JOBS_INSTANCE=d,await e.updateGlobal({slug:"payload-cloud-instance",data:{instance:d}}),w)?"function"==typeof v?await v(e):v:[kW]};return h.jobs.autoRun=x,h}},9913:(e,d,h)=>{"use strict";e.exports=g;let m=h(22476);function g({keyName:e,lines:d,eol:h,ident:g}){let y="",b=m({input:d,ident:g,eol:h}),v=`${g}${e}: ${b}${h}`.split(h);for(let e=0;e<v.length;e+=1){0!==e&&(y+=h);let d=v[e];if(/^\s*"stack"/.test(d)){let e=/^(\s*"stack":)\s*(".*"),?$/.exec(d);if(e&&3===e.length){let m=/^\s*/.exec(d)[0].length+4,g=" ".repeat(m),b=e[2];y+=e[1]+h+g+JSON.parse(b).replace(/\n/g,h+g)}else y+=d}else y+=d}return y}},10537:(e,d)=>{"use strict";function h(e,d,b){let v,w={};for(let S=0;S<e.length;S++){let x=e[S],_=m(x),E="";if(E=void 0===b?_:b+"."+_,_===d.textNodeName)void 0===v?v=x[_]:v+=""+x[_];else if(void 0===_)continue;else if(x[_]){let e=h(x[_],d,E),m=y(e,d);x[":@"]?g(e,x[":@"],E,d):1!==Object.keys(e).length||void 0===e[d.textNodeName]||d.alwaysCreateTextNode?0===Object.keys(e).length&&(d.alwaysCreateTextNode?e[d.textNodeName]="":e=""):e=e[d.textNodeName],void 0!==w[_]&&w.hasOwnProperty(_)?(Array.isArray(w[_])||(w[_]=[w[_]]),w[_].push(e)):d.isArray(_,E,m)?w[_]=[e]:w[_]=e}}return"string"==typeof v?v.length>0&&(w[d.textNodeName]=v):void 0!==v&&(w[d.textNodeName]=v),w}function m(e){let d=Object.keys(e);for(let e=0;e<d.length;e++){let h=d[e];if(":@"!==h)return h}}function g(e,d,h,m){if(d){let g=Object.keys(d),y=g.length;for(let b=0;b<y;b++){let y=g[b];m.isArray(y,h+"."+y,!0,!0)?e[y]=[d[y]]:e[y]=d[y]}}}function y(e,d){let{textNodeName:h}=d,m=Object.keys(e).length;return 0===m||1===m&&(!!e[h]||"boolean"==typeof e[h]||0===e[h])}d.prettify=function(e,d){return h(e,d)}},10587:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromHttp:()=>M});var m=h(76941),g=h(82436),y=h(11075),b=h(79748),v=h.n(b);let w="169.254.170.2",S="169.254.170.23",x="[fd00:ec2::23]",_=(e,d)=>{if("https:"!==e.protocol&&e.hostname!==w&&e.hostname!==S&&e.hostname!==x){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;let d=e.hostname.split("."),h=e=>{let d=parseInt(e,10);return 0<=d&&d<=255};if("127"===d[0]&&h(d[1])&&h(d[2])&&h(d[3])&&4===d.length)return}throw new y.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:d})}};var E=h(96543),T=h(135),k=h(80854);function C(e){return new E.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((e,[d,h])=>(e[d]=h,e),{}),fragment:e.hash})}async function P(e,d){let h=(0,k.sdkStreamMixin)(e.body),m=await h.transformToString();if(200===e.statusCode){let e=JSON.parse(m);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new y.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:d});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,T.parseRfc3339DateTime)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let h={};try{h=JSON.parse(m)}catch(e){}throw Object.assign(new y.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:d}),{Code:h.Code,Message:h.Message})}throw new y.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:d})}let O=(e,d,h)=>async()=>{for(let m=0;m<d;++m)try{return await e()}catch(e){await new Promise(e=>setTimeout(e,h))}return await e()},I="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",R="http://169.254.170.2",D="AWS_CONTAINER_CREDENTIALS_FULL_URI",L="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",$="AWS_CONTAINER_AUTHORIZATION_TOKEN",M=(e={})=>{let d;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let h=e.awsContainerCredentialsRelativeUri??process.env[I],b=e.awsContainerCredentialsFullUri??process.env[D],w=e.awsContainerAuthorizationToken??process.env[$],S=e.awsContainerAuthorizationTokenFile??process.env[L],x=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?e.logger.warn:console.warn;if(h&&b&&(x("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),x("awsContainerCredentialsFullUri will take precedence.")),w&&S&&(x("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),x("awsContainerAuthorizationToken will take precedence.")),b)d=b;else if(h)d=`${R}${h}`;else throw new y.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let E=new URL(d);_(E,e.logger);let T=new g.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return O(async()=>{let d=C(E);w?d.headers.Authorization=w:S&&(d.headers.Authorization=(await v().readFile(S)).toString());try{let e=await T.handle(d);return P(e.response).then(e=>(0,m.g)(e,"CREDENTIALS_HTTP","z"))}catch(d){throw new y.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)}},10610:(e,d,h)=>{"use strict";h.d(d,{s:()=>m});let m=[h(56425).Z,{name:"blockName",type:"text",admin:{disabled:!0},label:"Block Name",required:!1}]},10752:(e,d,h)=>{"use strict";let m=h(27910).Transform;function g(e){let d;"string"==typeof e&&(e=Buffer.from(e,"utf-8"));let h=[[9],[10],[13],[32,60],[62,126]],m="";for(let g=0,y=e.length;g<y;g++){if(b(d=e[g],h)&&(32!==d&&9!==d||g!==y-1&&10!==e[g+1]&&13!==e[g+1])){m+=String.fromCharCode(d);continue}m+="="+(d<16?"0":"")+d.toString(16).toUpperCase()}return m}function y(e,d){let h,m,g;if(e=(e||"").toString(),d=d||76,e.length<=d)return e;let y=0,b=e.length,v=Math.floor(d/3),w="";for(;y<b;){if(h=(g=e.substr(y,d)).match(/\r\n/)){w+=g=g.substr(0,h.index+h[0].length),y+=g.length;continue}if("\n"===g.substr(-1)){w+=g,y+=g.length;continue}if(h=g.substr(-v).match(/\n.*?$/)){w+=g=g.substr(0,g.length-(h[0].length-1)),y+=g.length;continue}if(g.length>d-v&&(h=g.substr(-v).match(/[ \t.,!?][^ \t.,!?]*$/)))g=g.substr(0,g.length-(h[0].length-1));else if(g.match(/[=][\da-f]{0,2}$/i))for((h=g.match(/[=][\da-f]{0,1}$/i))&&(g=g.substr(0,g.length-h[0].length));g.length>3&&g.length<b-y&&!g.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(h=g.match(/[=][\da-f]{2}$/gi))&&!((m=parseInt(h[0].substr(1,2),16))<128)&&(g=g.substr(0,g.length-3),!(m>=192)););y+g.length<b&&"\n"!==g.substr(-1)?(g.length===d&&g.match(/[=][\da-f]{2}$/i)?g=g.substr(0,g.length-3):g.length===d&&(g=g.substr(0,g.length-1)),y+=g.length,g+="=\r\n"):y+=g.length,w+=g}return w}function b(e,d){for(let h=d.length-1;h>=0;h--)if(d[h].length&&(1===d[h].length&&e===d[h][0]||2===d[h].length&&e>=d[h][0]&&e<=d[h][1]))return!0;return!1}class v extends m{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(e,d,h){let m;if("buffer"!==d&&(e=Buffer.from(e,d)),!e||!e.length)return h();this.inputBytes+=e.length,this.options.lineLength?(m=(m=y(m=this._curLine+g(e),this.options.lineLength)).replace(/(^|\n)([^\n]*)$/,(e,d,h)=>(this._curLine=h,d)))&&(this.outputBytes+=m.length,this.push(m)):(m=g(e),this.outputBytes+=m.length,this.push(m,"ascii")),h()}_flush(e){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),e()}}e.exports={encode:g,wrap:y,Encoder:v}},10866:(e,d,h)=>{"use strict";h.d(d,{L:()=>I});var m=h(26154),g=h(553),y=h(89075),b=h(933),v=h(89426),w=h(92520),S=h(71707),x=h(12276),_=h(80961),E=h(59783),T=h(37601),k=h(53529),C=h(38703),P=h(77900);let O=300,I=async e=>{let d=e;try{let e,h;if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"read",req:d.req})||d;let{collection:{config:S},collection:I,currentDepth:R,depth:D,disableErrors:L,draft:$,includeLockStatus:M,joins:B,limit:j,overrideAccess:U,page:F,pagination:z=!0,populate:q,req:{fallbackLocale:V,locale:H,payload:K},req:G,select:W,showHiddenFields:J,sort:Q,where:Y}=d,X=(0,x.Y)({fields:S.flattenedFields,forceSelect:S.forceSelect,select:W});if(!U&&(e=await (0,m.A)({disableErrors:L,req:G},S.access.read),!1===e))return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:j,nextPage:null,page:1,pagingCounter:1,prevPage:null,totalDocs:0,totalPages:1};let Z=z&&0!==j,ee=j??10*!!Z,et=F||1,ei=(0,g.m)(Y,e),er=(0,C.K)({fields:I.config.flattenedFields,sort:Q}),ea=await (0,b.S)({collectionConfig:S,joins:B,overrideAccess:U,req:G});if(S.versions?.drafts&&$?(ei=(0,E.D)(ei),await (0,y.d)({collectionConfig:I.config,overrideAccess:U,req:G,versionFields:(0,_.c)(K.config,I.config,!0),where:(0,E.D)(Y)}),h=await K.db.queryDrafts({collection:S.slug,joins:"GraphQL"!==G.payloadAPI&&ea,limit:ee,locale:H,page:et,pagination:Z,req:G,select:(0,T.V)({select:X}),sort:(0,k.t)({collectionConfig:S,sort:er}),where:ei})):(await (0,y.d)({collectionConfig:S,overrideAccess:U,req:G,where:Y}),h=await K.db.find({collection:S.slug,draftsEnabled:$,joins:"GraphQL"!==G.payloadAPI&&ea,limit:ee,locale:H,page:et,pagination:z,req:G,select:X,sort:er,where:ei})),M)try{let e=S?.lockDocuments,d="object"==typeof e?e.duration:O,m=1e3*d,g=new Date().getTime(),y=await K.find({collection:w.q,depth:1,limit:ee,overrideAccess:!1,pagination:!1,req:G,where:{and:[{"document.relationTo":{equals:S.slug}},{"document.value":{in:h.docs.map(e=>e.id)}},{updatedAt:{greater_than:new Date(g-m)}}]}}),b=(Array.isArray(y?.docs)?y.docs:[]).filter(e=>new Date(e?.updatedAt).getTime()+m>g);for(let e of h.docs){let d=b.find(d=>d?.document?.value===e.id);e._isLocked=!!d,e._userEditing=d?d?.user?.value:null}}catch(e){for(let e of h.docs)e._isLocked=!1,e._userEditing=null}return S?.hooks?.beforeRead?.length&&(h.docs=await Promise.all(h.docs.map(async e=>{let d=e;for(let e of S.hooks.beforeRead)d=await e({collection:S,context:G.context,doc:d,query:ei,req:G})||d;return d}))),h.docs=await Promise.all(h.docs.map(async e=>(0,v.v)({collection:S,context:G.context,currentDepth:R,depth:D,doc:e,draft:$,fallbackLocale:V,findMany:!0,global:null,locale:H,overrideAccess:U,populate:q,req:G,select:X,showHiddenFields:J}))),S?.hooks?.afterRead?.length&&(h.docs=await Promise.all(h.docs.map(async e=>{let d=e;for(let h of S.hooks.afterRead)d=await h({collection:S,context:G.context,doc:d,findMany:!0,query:ei,req:G})||e;return d}))),h=await (0,P.E)({args:d,collection:S,operation:"find",result:h})}catch(e){throw await (0,S.J)(d.req),e}}},11075:(e,d,h)=>{"use strict";h.r(d),h.d(d,{CredentialsProviderError:()=>g,ProviderError:()=>m,TokenProviderError:()=>y,chain:()=>b,fromStatic:()=>v,memoize:()=>w});class m extends Error{constructor(e,d=!0){let h,g=!0;"boolean"==typeof d?(h=void 0,g=d):null!=d&&"object"==typeof d&&(h=d.logger,g=d.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=g,Object.setPrototypeOf(this,m.prototype),h?.debug?.(`@smithy/property-provider ${g?"->":"(!)"} ${e}`)}static from(e,d=!0){return Object.assign(new this(e.message,d),e)}}class g extends m{constructor(e,d=!0){super(e,d),this.name="CredentialsProviderError",Object.setPrototypeOf(this,g.prototype)}}class y extends m{constructor(e,d=!0){super(e,d),this.name="TokenProviderError",Object.setPrototypeOf(this,y.prototype)}}let b=(...e)=>async()=>{let d;if(0===e.length)throw new m("No providers in chain");for(let h of e)try{return await h()}catch(e){if(d=e,e?.tryNextLink)continue;throw e}throw d},v=e=>()=>Promise.resolve(e),w=(e,d,h)=>{let m,g,y,b=!1,v=async()=>{g||(g=e());try{m=await g,y=!0,b=!1}finally{g=void 0}return m};return void 0===d?async e=>((!y||e?.forceRefresh)&&(m=await v()),m):async e=>((!y||e?.forceRefresh)&&(m=await v()),b||(h&&!h(m)?b=!0:d(m)&&await v()),m)}},11332:(e,d,h)=>{"use strict";let m=h(94735),g=h(55591),y=h(81630),b=h(91645),v=h(34631),{randomBytes:w,createHash:S}=h(55511),{Duplex:x,Readable:_}=h(27910),{URL:E}=h(79551),T=h(16943),k=h(49090),C=h(20190),{isBlob:P}=h(54640),{BINARY_TYPES:O,EMPTY_BUFFER:I,GUID:R,kForOnEventAttribute:D,kListener:L,kStatusCode:$,kWebSocket:M,NOOP:B}=h(44314),{EventTarget:{addEventListener:j,removeEventListener:U}}=h(56461),{format:F,parse:z}=h(60298),{toBuffer:q}=h(82854),V=3e4,H=Symbol("kAborted"),K=[8,13],G=["CONNECTING","OPEN","CLOSING","CLOSED"],W=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class J extends m{constructor(e,d,h){super(),this._binaryType=O[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=I,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=J.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===d?d=[]:Array.isArray(d)||("object"==typeof d&&null!==d?(h=d,d=[]):d=[d]),Q(this,e,d,h)):(this._autoPong=h.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){O.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,d,h){let m=new k({allowSynchronousEvents:h.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:h.maxPayload,skipUTF8Validation:h.skipUTF8Validation}),g=new C(e,this._extensions,h.generateMask);this._receiver=m,this._sender=g,this._socket=e,m[M]=this,g[M]=this,e[M]=this,m.on("conclude",ei),m.on("drain",er),m.on("error",ea),m.on("message",es),m.on("ping",eo),m.on("pong",el),g.onerror=ec,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),d.length>0&&e.unshift(d),e.on("close",eu),e.on("data",eh),e.on("end",em),e.on("error",ef),this._readyState=J.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=J.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[T.extensionName]&&this._extensions[T.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=J.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,d){if(this.readyState!==J.CLOSED){if(this.readyState===J.CONNECTING){let e="WebSocket was closed before the connection was established";ee(this,this._req,e);return}if(this.readyState===J.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=J.CLOSING,this._sender.close(e,d,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),ep(this)}}pause(){this.readyState!==J.CONNECTING&&this.readyState!==J.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,d,h){if(this.readyState===J.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(h=e,e=d=void 0):"function"==typeof d&&(h=d,d=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==J.OPEN)return void et(this,e,h);void 0===d&&(d=!this._isServer),this._sender.ping(e||I,d,h)}pong(e,d,h){if(this.readyState===J.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(h=e,e=d=void 0):"function"==typeof d&&(h=d,d=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==J.OPEN)return void et(this,e,h);void 0===d&&(d=!this._isServer),this._sender.pong(e||I,d,h)}resume(){this.readyState!==J.CONNECTING&&this.readyState!==J.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,d,h){if(this.readyState===J.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof d&&(h=d,d={}),"number"==typeof e&&(e=e.toString()),this.readyState!==J.OPEN)return void et(this,e,h);let m={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...d};this._extensions[T.extensionName]||(m.compress=!1),this._sender.send(e||I,m,h)}terminate(){if(this.readyState!==J.CLOSED){if(this.readyState===J.CONNECTING){let e="WebSocket was closed before the connection was established";ee(this,this._req,e);return}this._socket&&(this._readyState=J.CLOSING,this._socket.destroy())}}}function Q(e,d,h,m){let b,v,x,_,k={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:K[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...m,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=k.autoPong,!K.includes(k.protocolVersion))throw RangeError(`Unsupported protocol version: ${k.protocolVersion} (supported versions: ${K.join(", ")})`);if(d instanceof E)b=d;else try{b=new E(d)}catch(e){throw SyntaxError(`Invalid URL: ${d}`)}"http:"===b.protocol?b.protocol="ws:":"https:"===b.protocol&&(b.protocol="wss:"),e._url=b.href;let C="wss:"===b.protocol,P="ws+unix:"===b.protocol;if("ws:"===b.protocol||C||P?P&&!b.pathname?v="The URL's pathname is empty":b.hash&&(v="The URL contains a fragment identifier"):v='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',v){let d=SyntaxError(v);if(0!==e._redirects)return void Y(e,d);throw d}let O=C?443:80,I=w(16).toString("base64"),D=C?g.request:y.request,L=new Set;if(k.createConnection=k.createConnection||(C?Z:X),k.defaultPort=k.defaultPort||O,k.port=b.port||O,k.host=b.hostname.startsWith("[")?b.hostname.slice(1,-1):b.hostname,k.headers={...k.headers,"Sec-WebSocket-Version":k.protocolVersion,"Sec-WebSocket-Key":I,Connection:"Upgrade",Upgrade:"websocket"},k.path=b.pathname+b.search,k.timeout=k.handshakeTimeout,k.perMessageDeflate&&(x=new T(!0!==k.perMessageDeflate?k.perMessageDeflate:{},!1,k.maxPayload),k.headers["Sec-WebSocket-Extensions"]=F({[T.extensionName]:x.offer()})),h.length){for(let e of h){if("string"!=typeof e||!W.test(e)||L.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");L.add(e)}k.headers["Sec-WebSocket-Protocol"]=h.join(",")}if(k.origin&&(k.protocolVersion<13?k.headers["Sec-WebSocket-Origin"]=k.origin:k.headers.Origin=k.origin),(b.username||b.password)&&(k.auth=`${b.username}:${b.password}`),P){let e=k.path.split(":");k.socketPath=e[0],k.path=e[1]}if(k.followRedirects){if(0===e._redirects){e._originalIpc=P,e._originalSecure=C,e._originalHostOrSocketPath=P?k.socketPath:b.host;let d=m&&m.headers;if(m={...m,headers:{}},d)for(let[e,h]of Object.entries(d))m.headers[e.toLowerCase()]=h}else if(0===e.listenerCount("redirect")){let d=P?!!e._originalIpc&&k.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&b.host===e._originalHostOrSocketPath;d&&(!e._originalSecure||C)||(delete k.headers.authorization,delete k.headers.cookie,d||delete k.headers.host,k.auth=void 0)}k.auth&&!m.headers.authorization&&(m.headers.authorization="Basic "+Buffer.from(k.auth).toString("base64")),_=e._req=D(k),e._redirects&&e.emit("redirect",e.url,_)}else _=e._req=D(k);k.timeout&&_.on("timeout",()=>{ee(e,_,"Opening handshake has timed out")}),_.on("error",d=>{null===_||_[H]||(_=e._req=null,Y(e,d))}),_.on("response",g=>{let y=g.headers.location,b=g.statusCode;if(y&&k.followRedirects&&b>=300&&b<400){let g;if(++e._redirects>k.maxRedirects)return void ee(e,_,"Maximum redirects exceeded");_.abort();try{g=new E(y,d)}catch(d){Y(e,SyntaxError(`Invalid URL: ${y}`));return}Q(e,g,h,m)}else e.emit("unexpected-response",_,g)||ee(e,_,`Unexpected server response: ${g.statusCode}`)}),_.on("upgrade",(d,h,m)=>{let g;if(e.emit("upgrade",d),e.readyState!==J.CONNECTING)return;_=e._req=null;let y=d.headers.upgrade;if(void 0===y||"websocket"!==y.toLowerCase())return void ee(e,h,"Invalid Upgrade header");let b=S("sha1").update(I+R).digest("base64");if(d.headers["sec-websocket-accept"]!==b)return void ee(e,h,"Invalid Sec-WebSocket-Accept header");let v=d.headers["sec-websocket-protocol"];if(void 0!==v?L.size?L.has(v)||(g="Server sent an invalid subprotocol"):g="Server sent a subprotocol but none was requested":L.size&&(g="Server sent no subprotocol"),g)return void ee(e,h,g);v&&(e._protocol=v);let w=d.headers["sec-websocket-extensions"];if(void 0!==w){let d;if(!x)return void ee(e,h,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");try{d=z(w)}catch(d){ee(e,h,"Invalid Sec-WebSocket-Extensions header");return}let m=Object.keys(d);if(1!==m.length||m[0]!==T.extensionName)return void ee(e,h,"Server indicated an extension that was not requested");try{x.accept(d[T.extensionName])}catch(d){ee(e,h,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[T.extensionName]=x}e.setSocket(h,m,{allowSynchronousEvents:k.allowSynchronousEvents,generateMask:k.generateMask,maxPayload:k.maxPayload,skipUTF8Validation:k.skipUTF8Validation})}),k.finishRequest?k.finishRequest(_,e):_.end()}function Y(e,d){e._readyState=J.CLOSING,e._errorEmitted=!0,e.emit("error",d),e.emitClose()}function X(e){return e.path=e.socketPath,b.connect(e)}function Z(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=b.isIP(e.host)?"":e.host),v.connect(e)}function ee(e,d,h){e._readyState=J.CLOSING;let m=Error(h);Error.captureStackTrace(m,ee),d.setHeader?(d[H]=!0,d.abort(),d.socket&&!d.socket.destroyed&&d.socket.destroy(),process.nextTick(Y,e,m)):(d.destroy(m),d.once("error",e.emit.bind(e,"error")),d.once("close",e.emitClose.bind(e)))}function et(e,d,h){if(d){let h=P(d)?d.size:q(d).length;e._socket?e._sender._bufferedBytes+=h:e._bufferedAmount+=h}if(h){let d=Error(`WebSocket is not open: readyState ${e.readyState} (${G[e.readyState]})`);process.nextTick(h,d)}}function ei(e,d){let h=this[M];h._closeFrameReceived=!0,h._closeMessage=d,h._closeCode=e,void 0!==h._socket[M]&&(h._socket.removeListener("data",eh),process.nextTick(ed,h._socket),1005===e?h.close():h.close(e,d))}function er(){let e=this[M];e.isPaused||e._socket.resume()}function ea(e){let d=this[M];void 0!==d._socket[M]&&(d._socket.removeListener("data",eh),process.nextTick(ed,d._socket),d.close(e[$])),d._errorEmitted||(d._errorEmitted=!0,d.emit("error",e))}function en(){this[M].emitClose()}function es(e,d){this[M].emit("message",e,d)}function eo(e){let d=this[M];d._autoPong&&d.pong(e,!this._isServer,B),d.emit("ping",e)}function el(e){this[M].emit("pong",e)}function ed(e){e.resume()}function ec(e){let d=this[M];d.readyState!==J.CLOSED&&(d.readyState===J.OPEN&&(d._readyState=J.CLOSING,ep(d)),this._socket.end(),d._errorEmitted||(d._errorEmitted=!0,d.emit("error",e)))}function ep(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),V)}function eu(){let e,d=this[M];this.removeListener("close",eu),this.removeListener("data",eh),this.removeListener("end",em),d._readyState=J.CLOSING,this._readableState.endEmitted||d._closeFrameReceived||d._receiver._writableState.errorEmitted||null===(e=d._socket.read())||d._receiver.write(e),d._receiver.end(),this[M]=void 0,clearTimeout(d._closeTimer),d._receiver._writableState.finished||d._receiver._writableState.errorEmitted?d.emitClose():(d._receiver.on("error",en),d._receiver.on("finish",en))}function eh(e){this[M]._receiver.write(e)||this.pause()}function em(){let e=this[M];e._readyState=J.CLOSING,e._receiver.end(),this.end()}function ef(){let e=this[M];this.removeListener("error",ef),this.on("error",B),e&&(e._readyState=J.CLOSING,this.destroy())}Object.defineProperty(J,"CONNECTING",{enumerable:!0,value:G.indexOf("CONNECTING")}),Object.defineProperty(J.prototype,"CONNECTING",{enumerable:!0,value:G.indexOf("CONNECTING")}),Object.defineProperty(J,"OPEN",{enumerable:!0,value:G.indexOf("OPEN")}),Object.defineProperty(J.prototype,"OPEN",{enumerable:!0,value:G.indexOf("OPEN")}),Object.defineProperty(J,"CLOSING",{enumerable:!0,value:G.indexOf("CLOSING")}),Object.defineProperty(J.prototype,"CLOSING",{enumerable:!0,value:G.indexOf("CLOSING")}),Object.defineProperty(J,"CLOSED",{enumerable:!0,value:G.indexOf("CLOSED")}),Object.defineProperty(J.prototype,"CLOSED",{enumerable:!0,value:G.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(J.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(J.prototype,`on${e}`,{enumerable:!0,get(){for(let d of this.listeners(e))if(d[D])return d[L];return null},set(d){for(let d of this.listeners(e))if(d[D]){this.removeListener(e,d);break}"function"==typeof d&&this.addEventListener(e,d,{[D]:!0})}})}),J.prototype.addEventListener=j,J.prototype.removeEventListener=U,e.exports=J},11408:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.uint32ArrayFrom=d.numToUint8=d.isEmptyData=d.convertToBuffer=void 0;var m=h(49884);Object.defineProperty(d,"convertToBuffer",{enumerable:!0,get:function(){return m.convertToBuffer}});var g=h(14625);Object.defineProperty(d,"isEmptyData",{enumerable:!0,get:function(){return g.isEmptyData}});var y=h(58081);Object.defineProperty(d,"numToUint8",{enumerable:!0,get:function(){return y.numToUint8}});var b=h(49694);Object.defineProperty(d,"uint32ArrayFrom",{enumerable:!0,get:function(){return b.uint32ArrayFrom}})},11506:(e,d,h)=>{"use strict";h.r(d),h.d(d,{constructStack:()=>y});let m=(e,d)=>{let h=[];if(e&&h.push(e),d)for(let e of d)h.push(e);return h},g=(e,d)=>`${e||"anonymous"}${d&&d.length>0?` (a.k.a. ${d.join(",")})`:""}`,y=()=>{let e=[],d=[],h=!1,w=new Set,S=e=>e.sort((e,d)=>b[d.step]-b[e.step]||v[d.priority||"normal"]-v[e.priority||"normal"]),x=h=>{let g=!1,y=e=>{let d=m(e.name,e.aliases);if(d.includes(h)){for(let e of(g=!0,d))w.delete(e);return!1}return!0};return e=e.filter(y),d=d.filter(y),g},_=h=>{let g=!1,y=e=>{if(e.middleware===h){for(let d of(g=!0,m(e.name,e.aliases)))w.delete(d);return!1}return!0};return e=e.filter(y),d=d.filter(y),g},E=h=>(e.forEach(e=>{h.add(e.middleware,{...e})}),d.forEach(e=>{h.addRelativeTo(e.middleware,{...e})}),h.identifyOnResolve?.(C.identifyOnResolve()),h),T=e=>{let d=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?d.push(e):d.push(...T(e))}),d.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?d.push(e):d.push(...T(e))}),d},k=(h=!1)=>{let y=[],b=[],v={};return e.forEach(e=>{let d={...e,before:[],after:[]};for(let e of m(d.name,d.aliases))v[e]=d;y.push(d)}),d.forEach(e=>{let d={...e,before:[],after:[]};for(let e of m(d.name,d.aliases))v[e]=d;b.push(d)}),b.forEach(e=>{if(e.toMiddleware){let d=v[e.toMiddleware];if(void 0===d){if(h)return;throw Error(`${e.toMiddleware} is not found when adding ${g(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&d.after.push(e),"before"===e.relation&&d.before.push(e)}}),S(y).map(T).reduce((e,d)=>(e.push(...d),e),[])},C={add:(d,h={})=>{let{name:y,override:b,aliases:v}=h,S={step:"initialize",priority:"normal",middleware:d,...h},x=m(y,v);if(x.length>0){if(x.some(e=>w.has(e))){if(!b)throw Error(`Duplicate middleware name '${g(y,v)}'`);for(let d of x){let h=e.findIndex(e=>e.name===d||e.aliases?.some(e=>e===d));if(-1===h)continue;let m=e[h];if(m.step!==S.step||S.priority!==m.priority)throw Error(`"${g(m.name,m.aliases)}" middleware with ${m.priority} priority in ${m.step} step cannot be overridden by "${g(y,v)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(h,1)}}for(let e of x)w.add(e)}e.push(S)},addRelativeTo:(e,h)=>{let{name:y,override:b,aliases:v}=h,S={middleware:e,...h},x=m(y,v);if(x.length>0){if(x.some(e=>w.has(e))){if(!b)throw Error(`Duplicate middleware name '${g(y,v)}'`);for(let e of x){let h=d.findIndex(d=>d.name===e||d.aliases?.some(d=>d===e));if(-1===h)continue;let m=d[h];if(m.toMiddleware!==S.toMiddleware||m.relation!==S.relation)throw Error(`"${g(m.name,m.aliases)}" middleware ${m.relation} "${m.toMiddleware}" middleware cannot be overridden by "${g(y,v)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);d.splice(h,1)}}for(let e of x)w.add(e)}d.push(S)},clone:()=>E(y()),use:e=>{e.applyToStack(C)},remove:e=>"string"==typeof e?x(e):_(e),removeByTag:h=>{let g=!1,y=e=>{let{tags:d,name:y,aliases:b}=e;if(d&&d.includes(h)){for(let e of m(y,b))w.delete(e);return g=!0,!1}return!0};return e=e.filter(y),d=d.filter(y),g},concat:e=>{let d=E(y());return d.use(e),d.identifyOnResolve(h||d.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),d},applyToStack:E,identify:()=>k(!0).map(e=>{let d=e.step??e.relation+" "+e.toMiddleware;return g(e.name,e.aliases)+" - "+d}),identifyOnResolve:e=>("boolean"==typeof e&&(h=e),h),resolve:(e,d)=>{for(let h of k().map(e=>e.middleware).reverse())e=h(e,d);return h&&console.log(C.identify()),e}};return C},b={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},v={high:3,normal:2,low:1}},11622:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateUnion=d.validateArray=d.usePattern=d.callValidateCode=d.schemaProperties=d.allSchemaProperties=d.noPropertyInData=d.propertyInData=d.isOwnProperty=d.hasPropFunc=d.reportMissingProp=d.checkMissingProp=d.checkReportMissingProp=void 0;let m=h(52046),g=h(31934),y=h(9828),b=h(31934);function v(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,m._)`Object.prototype.hasOwnProperty`})}function w(e,d,h){return(0,m._)`${v(e)}.call(${d}, ${h})`}function S(e,d,h,g){let y=(0,m._)`${d}${(0,m.getProperty)(h)} === undefined`;return g?(0,m.or)(y,(0,m.not)(w(e,d,h))):y}function x(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}d.checkReportMissingProp=function(e,d){let{gen:h,data:g,it:y}=e;h.if(S(h,g,d,y.opts.ownProperties),()=>{e.setParams({missingProperty:(0,m._)`${d}`},!0),e.error()})},d.checkMissingProp=function({gen:e,data:d,it:{opts:h}},g,y){return(0,m.or)(...g.map(g=>(0,m.and)(S(e,d,g,h.ownProperties),(0,m._)`${y} = ${g}`)))},d.reportMissingProp=function(e,d){e.setParams({missingProperty:d},!0),e.error()},d.hasPropFunc=v,d.isOwnProperty=w,d.propertyInData=function(e,d,h,g){let y=(0,m._)`${d}${(0,m.getProperty)(h)} !== undefined`;return g?(0,m._)`${y} && ${w(e,d,h)}`:y},d.noPropertyInData=S,d.allSchemaProperties=x,d.schemaProperties=function(e,d){return x(d).filter(h=>!(0,g.alwaysValidSchema)(e,d[h]))},d.callValidateCode=function({schemaCode:e,data:d,it:{gen:h,topSchemaRef:g,schemaPath:b,errorPath:v},it:w},S,x,_){let E=_?(0,m._)`${e}, ${d}, ${g}${b}`:d,T=[[y.default.instancePath,(0,m.strConcat)(y.default.instancePath,v)],[y.default.parentData,w.parentData],[y.default.parentDataProperty,w.parentDataProperty],[y.default.rootData,y.default.rootData]];w.opts.dynamicRef&&T.push([y.default.dynamicAnchors,y.default.dynamicAnchors]);let k=(0,m._)`${E}, ${h.object(...T)}`;return x!==m.nil?(0,m._)`${S}.call(${x}, ${k})`:(0,m._)`${S}(${k})`};let _=(0,m._)`new RegExp`;d.usePattern=function({gen:e,it:{opts:d}},h){let g=d.unicodeRegExp?"u":"",{regExp:y}=d.code,v=y(h,g);return e.scopeValue("pattern",{key:v.toString(),ref:v,code:(0,m._)`${"new RegExp"===y.code?_:(0,b.useFunc)(e,y)}(${h}, ${g})`})},d.validateArray=function(e){let{gen:d,data:h,keyword:y,it:b}=e,v=d.name("valid");if(b.allErrors){let e=d.let("valid",!0);return w(()=>d.assign(e,!1)),e}return d.var(v,!0),w(()=>d.break()),v;function w(b){let w=d.const("len",(0,m._)`${h}.length`);d.forRange("i",0,w,h=>{e.subschema({keyword:y,dataProp:h,dataPropType:g.Type.Num},v),d.if((0,m.not)(v),b)})}},d.validateUnion=function(e){let{gen:d,schema:h,keyword:y,it:b}=e;if(!Array.isArray(h))throw Error("ajv implementation error");if(h.some(e=>(0,g.alwaysValidSchema)(b,e))&&!b.opts.unevaluated)return;let v=d.let("valid",!1),w=d.name("_valid");d.block(()=>h.forEach((h,g)=>{let b=e.subschema({keyword:y,schemaProp:g,compositeRule:!0},w);d.assign(v,(0,m._)`${v} || ${w}`),e.mergeValidEvaluated(b,w)||d.if((0,m.not)(v))})),e.result(v,()=>e.reset(),()=>e.error(!0))}},11689:(e,d,h)=>{"use strict";let m=h(52838),g=h(85183),y=h(8984),b=y.style,v=y.clear,w=y.figures,S=y.wrap,x=y.entriesToDisplay,_=h(41893).cursor;class E extends g{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((e,d)=>("string"==typeof e&&(e={title:e,value:d}),{title:e&&(e.title||e.value||e),value:e&&(void 0===e.value?d:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=v("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,d){if(" "===e)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(_.hide):this.out.write(v(this.outputText,this.out.columns)),super.render();let e=x(this.cursor,this.choices.length,this.optionsPerPage),d=e.startIndex,h=e.endIndex;if(this.outputText=[b.symbol(this.done,this.aborted),m.bold(this.msg),b.delimiter(!1),this.done?this.selection.title:this.selection.disabled?m.yellow(this.warn):m.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let e=d;e<h;e++){let g,y,b="",v=this.choices[e];y=e===d&&d>0?w.arrowUp:e===h-1&&h<this.choices.length?w.arrowDown:" ",v.disabled?(g=this.cursor===e?m.gray().underline(v.title):m.strikethrough().gray(v.title),y=(this.cursor===e?m.bold().gray(w.pointer)+" ":"  ")+y):(g=this.cursor===e?m.cyan().underline(v.title):v.title,y=(this.cursor===e?m.cyan(w.pointer)+" ":"  ")+y,v.description&&this.cursor===e&&(b=` - ${v.description}`,(y.length+g.length+b.length>=this.out.columns||v.description.split(/\r?\n/).length>1)&&(b="\n"+S(v.description,{margin:3,width:this.out.columns})))),this.outputText+=`${y} ${g}${m.gray(b)}
`}}this.out.write(this.outputText)}}e.exports=E},11746:(e,d,h)=>{"use strict";h.d(d,{q:()=>g});var m=h(79853);let g=({authOptions:{disableLocalStrategy:e,loginWithUsername:d},collectionSlug:h,data:g,operation:y,originalDoc:b,req:v})=>{if(!e&&d&&!d.requireEmail&&!d.requireUsername){let e=!1;if("create"!==y||g.email||g.username?"update"===y&&("email"in g&&!g.email&&"username"in g&&!g.username&&(e=!0),"email"in g&&!g.email&&!b.username&&!g?.username&&(e=!0),"username"in g&&!g.username&&!b.email&&!g?.email&&(e=!0)):e=!0,e)throw new m.y({collection:h,errors:[{message:"Username or email is required",path:"username"},{message:"Username or email is required",path:"email"}]},v.t)}}},11770:(e,d,h)=>{"use strict";h.d(d,{B:()=>g});var m=h(97507);let g=async({defaultValue:e,locale:d,req:h,user:g,value:y})=>void 0!==y?y:e&&"function"==typeof e?await e({locale:d,req:h,user:g}):"object"==typeof e?(0,m.Zt)(e):e},11852:(e,d)=>{"use strict";async function h(e,d){var h;let m=0,g=[],y=e.getReader(),b=!1;for(;!b;){let{done:e,value:v}=await y.read();if(v&&(g.push(v),m+=null!=(h=null==v?void 0:v.byteLength)?h:0),m>=d)break;b=e}y.releaseLock();let v=new Uint8Array(Math.min(d,m)),w=0;for(let e of g){if(e.byteLength>v.byteLength-w){v.set(e.subarray(0,v.byteLength-w),w);break}v.set(e,w),w+=e.length}return v}Object.defineProperty(d,"__esModule",{value:!0}),d.headStream=h},11996:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{CONFIG_REQUEST_CHECKSUM_CALCULATION:()=>D,CONFIG_RESPONSE_CHECKSUM_VALIDATION:()=>M,ChecksumAlgorithm:()=>C,ChecksumLocation:()=>P,DEFAULT_CHECKSUM_ALGORITHM:()=>O,DEFAULT_REQUEST_CHECKSUM_CALCULATION:()=>E,DEFAULT_RESPONSE_CHECKSUM_VALIDATION:()=>k,ENV_REQUEST_CHECKSUM_CALCULATION:()=>R,ENV_RESPONSE_CHECKSUM_VALIDATION:()=>$,NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS:()=>L,NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS:()=>B,RequestChecksumCalculation:()=>_,ResponseChecksumValidation:()=>T,crc64NvmeCrtContainer:()=>j,flexibleChecksumsMiddleware:()=>er,flexibleChecksumsMiddlewareOptions:()=>ei,getFlexibleChecksumsPlugin:()=>eu,resolveFlexibleChecksumsConfig:()=>em}),e.exports=S(x);var _={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},E=_.WHEN_SUPPORTED,T={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},k=_.WHEN_SUPPORTED,C=(e=>(e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256",e))(C||{}),P=(e=>(e.HEADER="header",e.TRAILER="trailer",e))(P||{}),O="CRC32",I=v((e,d,h,m)=>{if(!(d in e))return;let g=e[d].toUpperCase();if(!Object.values(h).includes(g))throw TypeError(`Cannot load ${m} '${d}'. Expected one of ${Object.values(h)}, got '${e[d]}'.`);return g},"stringUnionSelector"),R="AWS_REQUEST_CHECKSUM_CALCULATION",D="request_checksum_calculation",L={environmentVariableSelector:v(e=>I(e,R,_,"env"),"environmentVariableSelector"),configFileSelector:v(e=>I(e,D,_,"shared config entry"),"configFileSelector"),default:E},$="AWS_RESPONSE_CHECKSUM_VALIDATION",M="response_checksum_validation",B={environmentVariableSelector:v(e=>I(e,$,T,"env"),"environmentVariableSelector"),configFileSelector:v(e=>I(e,M,T,"shared config entry"),"configFileSelector"),default:k},j={CrtCrc64Nvme:null},U=h(48722),F=h(96543),z=h(80854),q=["CRC32","CRC32C","CRC64NVME","SHA1","SHA256"],V=["SHA256","SHA1","CRC32","CRC32C","CRC64NVME"],H=v((e,{requestChecksumRequired:d,requestAlgorithmMember:h,requestChecksumCalculation:m})=>{if(!h)return m===_.WHEN_SUPPORTED||d?O:void 0;if(!e[h])return;let g=e[h];if(!q.includes(g))throw Error(`The checksum algorithm "${g}" is not supported by the client. Select one of ${q}.`);return g},"getChecksumAlgorithmForRequest"),K=v(e=>"MD5"===e?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,"getChecksumLocationName"),G=v((e,d)=>{let h=e.toLowerCase();for(let e of Object.keys(d))if(h===e.toLowerCase())return!0;return!1},"hasHeader"),W=v((e,d)=>{let h=e.toLowerCase();for(let e of Object.keys(d))if(e.toLowerCase().startsWith(h))return!0;return!1},"hasHeaderWithPrefix"),J=h(90288),Q=v(e=>void 0!==e&&"string"!=typeof e&&!ArrayBuffer.isView(e)&&!(0,J.isArrayBuffer)(e),"isStreaming"),Y=h(65006),X=h(12713),Z=v((e,d)=>{switch(e){case"MD5":return d.md5;case"CRC32":return(0,X.getCrc32ChecksumAlgorithmFunction)();case"CRC32C":return Y.AwsCrc32c;case"CRC64NVME":if("function"!=typeof j.CrtCrc64Nvme)throw Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return j.CrtCrc64Nvme;case"SHA1":return d.sha1;case"SHA256":return d.sha256;default:throw Error(`Unsupported checksum algorithm: ${e}`)}},"selectChecksumAlgorithmFunction"),ee=h(69713),et=v((e,d)=>{let h=new e;return h.update((0,ee.toUint8Array)(d||"")),h.digest()},"stringHasher"),ei={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},er=v((e,d)=>(h,m)=>async g=>{if(!F.HttpRequest.isInstance(g.request)||W("x-amz-checksum-",g.request.headers))return h(g);let{request:y,input:b}=g,{body:v,headers:w}=y,{base64Encoder:S,streamHasher:x}=e,{requestChecksumRequired:E,requestAlgorithmMember:T}=d,k=await e.requestChecksumCalculation(),C=T?.name,P=T?.httpHeader;C&&!b[C]&&(k===_.WHEN_SUPPORTED||E)&&(b[C]=O,P&&(w[P]=O));let I=H(b,{requestChecksumRequired:E,requestAlgorithmMember:T?.name,requestChecksumCalculation:k}),R=v,D=w;if(I){switch(I){case"CRC32":(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case"CRC32C":(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case"CRC64NVME":(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case"SHA1":(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case"SHA256":(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y")}let d=K(I),h=Z(I,e);if(Q(v)){let{getAwsChunkedEncodingStream:g,bodyLengthChecker:y}=e;R=g("number"==typeof e.requestStreamBufferSize&&e.requestStreamBufferSize>=8192?(0,z.createBufferedReadable)(v,e.requestStreamBufferSize,m.logger):v,{base64Encoder:S,bodyLengthChecker:y,checksumLocationName:d,checksumAlgorithmFn:h,streamHasher:x}),D={...w,"content-encoding":w["content-encoding"]?`${w["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":w["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":d},delete D["content-length"]}else if(!G(d,w)){let e=await et(h,v);D={...w,[d]:S(e)}}}return await h({...g,request:{...y,headers:D,body:R}})},"flexibleChecksumsMiddleware"),ea={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},en=v((e,d)=>(h,m)=>async g=>{let y=g.input,{requestValidationModeMember:b}=d,v=await e.requestChecksumCalculation(),w=await e.responseChecksumValidation();switch(v){case _.WHEN_REQUIRED:(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case _.WHEN_SUPPORTED:(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z")}switch(w){case T.WHEN_REQUIRED:(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case T.WHEN_SUPPORTED:(0,U.setFeature)(m,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b")}return b&&!y[b]&&w===T.WHEN_SUPPORTED&&(y[b]="ENABLED"),h(g)},"flexibleChecksumsInputMiddleware"),es=v((e=[])=>{let d=[];for(let h of V)e.includes(h)&&q.includes(h)&&d.push(h);return d},"getChecksumAlgorithmListForResponse"),eo=v(e=>{let d=e.lastIndexOf("-");if(-1!==d){let h=e.slice(d+1);if(!h.startsWith("0")){let e=parseInt(h,10);if(!isNaN(e)&&e>=1&&e<=1e4)return!0}}return!1},"isChecksumWithPartNumber"),el=v(async(e,{checksumAlgorithmFn:d,base64Encoder:h})=>h(await et(d,e)),"getChecksum"),ed=v(async(e,{config:d,responseAlgorithms:h,logger:m})=>{let g=es(h),{body:y,headers:b}=e;for(let h of g){let g=K(h),v=b[g];if(v){let b;try{b=Z(h,d)}catch(e){if("CRC64NVME"===h){m?.warn(`Skipping CRC64NVME checksum validation: ${e.message}`);continue}throw e}let{base64Encoder:w}=d;if(Q(y)){e.body=(0,z.createChecksumStream)({expectedChecksum:v,checksumSourceLocation:g,checksum:new b,source:y,base64Encoder:w});return}let S=await el(y,{checksumAlgorithmFn:b,base64Encoder:w});if(S===v)break;throw Error(`Checksum mismatch: expected "${S}" but received "${v}" in response header "${g}".`)}}},"validateChecksumFromResponse"),ec={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},ep=v((e,d)=>(h,m)=>async g=>{if(!F.HttpRequest.isInstance(g.request))return h(g);let y=g.input,b=await h(g),v=b.response,{requestValidationModeMember:w,responseAlgorithms:S}=d;if(w&&"ENABLED"===y[w]){let{clientName:d,commandName:h}=m;if("S3Client"===d&&"GetObjectCommand"===h&&es(S).every(e=>{let d=K(e),h=v.headers[d];return!h||eo(h)}))return b;await ed(v,{config:e,responseAlgorithms:S,logger:m.logger})}return b},"flexibleChecksumsResponseMiddleware"),eu=v((e,d)=>({applyToStack:v(h=>{h.add(er(e,d),ei),h.addRelativeTo(en(e,d),ea),h.addRelativeTo(ep(e,d),ec)},"applyToStack")}),"getFlexibleChecksumsPlugin"),eh=h(43510),em=v(e=>{let{requestChecksumCalculation:d,responseChecksumValidation:h,requestStreamBufferSize:m}=e;return Object.assign(e,{requestChecksumCalculation:(0,eh.normalizeProvider)(d??E),responseChecksumValidation:(0,eh.normalizeProvider)(h??k),requestStreamBufferSize:Number(m??0)})},"resolveFlexibleChecksumsConfig")},12081:(e,d,h)=>{"use strict";h.r(d),h.d(d,{deserializerMiddleware:()=>g,deserializerMiddlewareOption:()=>v,getSerdePlugin:()=>S,serializerMiddleware:()=>b,serializerMiddlewareOption:()=>w});var m=h(96543);let g=(e,d)=>(h,g)=>async b=>{let{response:v}=await h(b);try{let h=await d(v,e);return{response:v,output:h}}catch(e){if(Object.defineProperty(e,"$response",{value:v}),!("$metadata"in e)){let d="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+d}catch(e){g.logger&&g.logger?.constructor?.name!=="NoOpLogger"?g.logger?.warn?.(d):console.warn(d)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(m.HttpResponse.isInstance(v)){let{headers:d={}}=v,h=Object.entries(d);e.$metadata={httpStatusCode:v.statusCode,requestId:y(/^x-[\w-]+-request-?id$/,h),extendedRequestId:y(/^x-[\w-]+-id-2$/,h),cfId:y(/^x-[\w-]+-cf-id$/,h)}}}catch(e){}}throw e}},y=(e,d)=>(d.find(([d])=>d.match(e))||[void 0,void 0])[1],b=(e,d)=>(h,m)=>async g=>{let y=e,b=m.endpointV2?.url&&y.urlParser?async()=>y.urlParser(m.endpointV2.url):y.endpoint;if(!b)throw Error("No valid endpoint provider available.");let v=await d(g.input,{...e,endpoint:b});return h({...g,request:v})},v={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},w={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function S(e,d,h){return{applyToStack:m=>{m.add(g(e,h),v),m.add(b(e,d),w)}}}},12197:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},12276:(e,d,h)=>{"use strict";h.d(d,{Y:()=>w});var m=h(3505),g=h(69548);let y=({fields:e,path:d,versions:h})=>{let m=[];if(h){m.push("version");let d=e.find(e=>"version"===e.name);d&&"group"===d.type&&(e=d.flattenedFields)}for(let h of d.split(".")){let d=e.find(e=>e.name===h);if(d&&(m.push(h),"relationship"===d.type||"upload"===d.type))break}return m.join(".")},b=({fields:e})=>{let d=[];for(let h of e)if("virtual"in h&&"string"==typeof h.virtual)d.push(h.virtual);else if("group"===h.type||"tab"===h.type)for(let e of b({fields:h.flattenedFields}))d.push(e);return d},v=({fields:e,selectValue:d,topLevelFields:h,versions:m})=>{let g=[];if(!0===d)for(let d of b({fields:e}))g.push(y({fields:h,path:d,versions:m}));else for(let b in d){let w=e.find(e=>e.name===b);if(w){if("virtual"in w&&"string"==typeof w.virtual)g.push(y({fields:h,path:w.virtual,versions:m}));else if("group"===w.type||"tab"===w.type)for(let e of v({fields:w.flattenedFields,selectValue:d[b],topLevelFields:h,versions:m}))g.push(y({fields:h,path:e,versions:m}))}}return g},w=({fields:e,forceSelect:d,select:h,versions:y})=>{if(!h||"exclude"===(0,g.a)(h))return h;if(d&&(h=(0,m.p)(h,d)),h)for(let d of v({fields:e,selectValue:h,topLevelFields:e,versions:y??!1})){let e=h,m=d.split(".");for(let d=0;d<m.length;d++){let h=m.length-1===d,g=m[d];h?e[g]=!0:g in e||(e[g]={},e=e[g])}}return h}},12430:(e,d,h)=>{"use strict";h.d(d,{A:()=>y,R:()=>b});var m=h(77598),g=h(57975);let y=m.webcrypto,b=e=>g.types.isCryptoKey(e)},12713:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getCrc32ChecksumAlgorithmFunction=void 0;let m=h(22396),g=h(92771),y=h(330),b=m.__importStar(h(74075));class v{checksum=0;update(e){this.checksum=b.crc32(e,this.checksum)}async digest(){return(0,y.numToUint8)(this.checksum)}reset(){this.checksum=0}}d.getCrc32ChecksumAlgorithmFunction=()=>void 0===b.crc32?g.AwsCrc32:v},12755:e=>{"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){let d=new Int32Array(new SharedArrayBuffer(4));e.exports=function(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(d,0,0,Number(e))}}else e.exports=function(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let d=Date.now()+Number(e);for(;d>Date.now(););}},12882:(e,d,h)=>{"use strict";h.d(d,{s:()=>E});var m=h(26154),g=h(553),y=h(89075),b=h(89426),v=h(71707),w=h(53296),S=h(12276),x=h(8190),_=h(37601);let E=async e=>{let{depth:d,globalConfig:h,limit:E,overrideAccess:T,page:k,pagination:C=!0,populate:P,req:{fallbackLocale:O,locale:I,payload:R},req:D,select:L,showHiddenFields:$,sort:M,where:B}=e,j=(0,x.p)(R.config,h,!0);try{let e=!!T||await (0,m.A)({req:D},h.access.readVersions);await (0,y.d)({globalConfig:h,overrideAccess:T,req:D,versionFields:j,where:B});let v=(0,g.m)(B,e),U=(0,S.Y)({fields:(0,x.p)(R.config,h,!0),forceSelect:(0,_.V)({select:h.forceSelect}),select:L,versions:!0}),F=await R.db.findGlobalVersions({global:h.slug,limit:E??10,locale:I,page:k||1,pagination:C,req:D,select:U,sort:M,where:v}),z={...F,docs:await Promise.all(F.docs.map(async e=>(e.version||(e.version={}),{...e,version:await (0,b.v)({collection:null,context:D.context,depth:d,doc:{...e.version,globalType:h.slug},draft:void 0,fallbackLocale:O,findMany:!0,global:h,locale:I,overrideAccess:T,populate:P,req:D,select:U,showHiddenFields:$})})))};return h.hooks?.afterRead?.length&&(z.docs=await Promise.all(z.docs.map(async e=>{let d=e;for(let m of h.hooks.afterRead)d.version=await m({context:D.context,doc:e.version,findMany:!0,global:h,query:v,req:D})||e.version;return d}))),z={...z,docs:z.docs.map(e=>(0,w.A)(e))}}catch(e){throw await (0,v.J)(D),e}}},12885:e=>{"use strict";var d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,y=(e,h)=>d(e,"name",{value:h,configurable:!0}),b=(e,y,b,v)=>{if(y&&"object"==typeof y||"function"==typeof y)for(let w of m(y))g.call(e,w)||w===b||d(e,w,{get:()=>y[w],enumerable:!(v=h(y,w))||v.enumerable});return e},v=e=>b(d({},"__esModule",{value:!0}),e),w={};function S(e){return d=>async h=>{let{CreateBucketConfiguration:m}=h.input,g=await e.region();return m?.LocationConstraint||m?.Location||(h={...h,input:{...h.input,CreateBucketConfiguration:"us-east-1"===g?void 0:{LocationConstraint:g}}}),d(h)}}((e,h)=>{for(var m in h)d(e,m,{get:h[m],enumerable:!0})})(w,{getLocationConstraintPlugin:()=>_,locationConstraintMiddleware:()=>S,locationConstraintMiddlewareOptions:()=>x}),e.exports=v(w),y(S,"locationConstraintMiddleware");var x={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},_=y(e=>({applyToStack:y(d=>{d.add(S(e),x)},"applyToStack")}),"getLocationConstraintPlugin")},13038:(e,d,h)=>{"use strict";h.r(d),h.d(d,{EventStreamMarshaller:()=>H,eventStreamSerdeProvider:()=>K});var m,g=h(92771),y=h(15682);class b{constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let d=new Uint8Array(8);for(let h=7,m=Math.abs(Math.round(e));h>-1&&m>0;h--,m/=256)d[h]=m;return e<0&&v(d),new b(d)}valueOf(){let e=this.bytes.slice(0),d=128&e[0];return d&&v(e),parseInt((0,y.toHex)(e),16)*(d?-1:1)}toString(){return String(this.valueOf())}}function v(e){for(let d=0;d<8;d++)e[d]^=255;for(let d=7;d>-1&&(e[d]++,0===e[d]);d--);}class w{constructor(e,d){this.toUtf8=e,this.fromUtf8=d}format(e){let d=[];for(let h of Object.keys(e)){let m=this.fromUtf8(h);d.push(Uint8Array.from([m.byteLength]),m,this.formatHeaderValue(e[h]))}let h=new Uint8Array(d.reduce((e,d)=>e+d.byteLength,0)),m=0;for(let e of d)h.set(e,m),m+=e.byteLength;return h}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([+!e.value]);case"byte":return Uint8Array.from([2,e.value]);case"short":let d=new DataView(new ArrayBuffer(3));return d.setUint8(0,3),d.setInt16(1,e.value,!1),new Uint8Array(d.buffer);case"integer":let h=new DataView(new ArrayBuffer(5));return h.setUint8(0,4),h.setInt32(1,e.value,!1),new Uint8Array(h.buffer);case"long":let m=new Uint8Array(9);return m[0]=5,m.set(e.value.bytes,1),m;case"binary":let g=new DataView(new ArrayBuffer(3+e.value.byteLength));g.setUint8(0,6),g.setUint16(1,e.value.byteLength,!1);let v=new Uint8Array(g.buffer);return v.set(e.value,3),v;case"string":let w=this.fromUtf8(e.value),S=new DataView(new ArrayBuffer(3+w.byteLength));S.setUint8(0,7),S.setUint16(1,w.byteLength,!1);let x=new Uint8Array(S.buffer);return x.set(w,3),x;case"timestamp":let _=new Uint8Array(9);return _[0]=8,_.set(b.fromNumber(e.value.valueOf()).bytes,1),_;case"uuid":if(!I.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let E=new Uint8Array(17);return E[0]=9,E.set((0,y.fromHex)(e.value.replace(/\-/g,"")),1),E}}parse(e){let d={},h=0;for(;h<e.byteLength;){let m=e.getUint8(h++),g=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+h,m));switch(h+=m,e.getUint8(h++)){case 0:d[g]={type:S,value:!0};break;case 1:d[g]={type:S,value:!1};break;case 2:d[g]={type:x,value:e.getInt8(h++)};break;case 3:d[g]={type:_,value:e.getInt16(h,!1)},h+=2;break;case 4:d[g]={type:E,value:e.getInt32(h,!1)},h+=4;break;case 5:d[g]={type:T,value:new b(new Uint8Array(e.buffer,e.byteOffset+h,8))},h+=8;break;case 6:let v=e.getUint16(h,!1);h+=2,d[g]={type:k,value:new Uint8Array(e.buffer,e.byteOffset+h,v)},h+=v;break;case 7:let w=e.getUint16(h,!1);h+=2,d[g]={type:C,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+h,w))},h+=w;break;case 8:d[g]={type:P,value:new Date(new b(new Uint8Array(e.buffer,e.byteOffset+h,8)).valueOf())},h+=8;break;case 9:let I=new Uint8Array(e.buffer,e.byteOffset+h,16);h+=16,d[g]={type:O,value:`${(0,y.toHex)(I.subarray(0,4))}-${(0,y.toHex)(I.subarray(4,6))}-${(0,y.toHex)(I.subarray(6,8))}-${(0,y.toHex)(I.subarray(8,10))}-${(0,y.toHex)(I.subarray(10))}`};break;default:throw Error("Unrecognized header type tag")}}return d}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(m||(m={}));let S="boolean",x="byte",_="short",E="integer",T="long",k="binary",C="string",P="timestamp",O="uuid",I=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,R=4,D=8,L=4,$=16;function M({byteLength:e,byteOffset:d,buffer:h}){if(e<$)throw Error("Provided message too short to accommodate event stream message overhead");let m=new DataView(h,d,e),y=m.getUint32(0,!1);if(e!==y)throw Error("Reported message length does not match received message length");let b=m.getUint32(R,!1),v=m.getUint32(D,!1),w=m.getUint32(e-L,!1),S=new g.Crc32().update(new Uint8Array(h,d,D));if(v!==S.digest())throw Error(`The prelude checksum specified in the message (${v}) does not match the calculated CRC32 checksum (${S.digest()})`);if(S.update(new Uint8Array(h,d+D,e-(D+L))),w!==S.digest())throw Error(`The message checksum (${S.digest()}) did not match the expected value of ${w}`);return{headers:new DataView(h,d+D+L,b),body:new Uint8Array(h,d+D+L+b,y-b-(D+L+L))}}class B{constructor(e,d){this.headerMarshaller=new w(e,d),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),d=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>d}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let d=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>d}}encode({headers:e,body:d}){let h=this.headerMarshaller.format(e),m=h.byteLength+d.byteLength+16,y=new Uint8Array(m),b=new DataView(y.buffer,y.byteOffset,y.byteLength),v=new g.Crc32;return b.setUint32(0,m,!1),b.setUint32(4,h.byteLength,!1),b.setUint32(8,v.update(y.subarray(0,8)).digest(),!1),y.set(h,12),y.set(d,h.byteLength+12),b.setUint32(m-4,v.update(y.subarray(8,m-4)).digest(),!1),y}decode(e){let{headers:d,body:h}=M(e);return{headers:this.headerMarshaller.parse(d),body:h}}formatHeaders(e){return this.headerMarshaller.format(e)}}class j{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.inputStream){let d=this.options.decoder.decode(e);yield d}}}class U{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.messageStream){let d=this.options.encoder.encode(e);yield d}this.options.includeEndFrame&&(yield new Uint8Array(0))}}class F{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.messageStream){let d=await this.options.deserializer(e);void 0!==d&&(yield d)}}}class z{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async *asyncIterator(){for await(let e of this.options.inputStream){let d=this.options.serializer(e);yield d}}}function q(e){let d=0,h=0,m=null,g=null,y=e=>{if("number"!=typeof e)throw Error("Attempted to allocate an event message where size was not a number: "+e);d=e,h=4,new DataView((m=new Uint8Array(e)).buffer).setUint32(0,e,!1)};return{[Symbol.asyncIterator]:async function*(){let b=e[Symbol.asyncIterator]();for(;;){let{value:e,done:v}=await b.next();if(v){if(d)if(d===h)yield m;else throw Error("Truncated event message received.");return}let w=e.length,S=0;for(;S<w;){if(!m){let d=w-S;g||(g=new Uint8Array(4));let m=Math.min(4-h,d);if(g.set(e.slice(S,S+m),h),h+=m,S+=m,h<4)break;y(new DataView(g.buffer).getUint32(0,!1)),g=null}let b=Math.min(d-h,w-S);m.set(e.slice(S,S+b),h),h+=b,S+=b,d&&d===h&&(yield m,m=null,d=0,h=0)}}}}}function V(e,d){return async function(h){let{value:m}=h.headers[":message-type"];if("error"===m){let e=Error(h.headers[":error-message"].value||"UnknownError");throw e.name=h.headers[":error-code"].value,e}if("exception"===m){let m=h.headers[":exception-type"].value,g={[m]:h},y=await e(g);if(y.$unknown){let e=Error(d(h.body));throw e.name=m,e}throw y[m]}if("event"===m){let d={[h.headers[":event-type"].value]:h},m=await e(d);if(m.$unknown)return;return m}throw Error(`Unrecognizable event type: ${h.headers[":event-type"].value}`)}}class H{constructor({utf8Encoder:e,utf8Decoder:d}){this.eventStreamCodec=new B(e,d),this.utfEncoder=e}deserialize(e,d){return new F({messageStream:new j({inputStream:q(e),decoder:this.eventStreamCodec}),deserializer:V(d,this.utfEncoder)})}serialize(e,d){return new U({messageStream:new z({inputStream:e,serializer:d}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}let K=e=>new H(e)},13062:(e,d,h)=>{"use strict";h.d(d,{A:()=>y,h:()=>g});var m={"1xx":"Informational","1xx_NAME":"INFORMATIONAL","1xx_MESSAGE":"Indicates an interim response for communicating connection status or request progress prior to completing the requested action and sending a final response.",INFORMATIONAL:"1xx","2xx":"Successful","2xx_NAME":"SUCCESSFUL","2xx_MESSAGE":"Indicates that the client's request was successfully received, understood, and accepted.",SUCCESSFUL:"2xx","3xx":"Redirection","3xx_NAME":"REDIRECTION","3xx_MESSAGE":"Indicates that further action needs to be taken by the user agent in order to fulfill the request.",REDIRECTION:"3xx","4xx":"Client Error","4xx_NAME":"CLIENT_ERROR","4xx_MESSAGE":"Indicates that the client seems to have erred.",CLIENT_ERROR:"4xx","5xx":"Server Error","5xx_NAME":"SERVER_ERROR","5xx_MESSAGE":"Indicates that the server is aware that it has erred or is incapable of performing the requested method.",SERVER_ERROR:"5xx"},g={classes:m,100:"Continue","100_NAME":"CONTINUE","100_MESSAGE":"The server has received the request headers and the client should proceed to send the request body.","100_CLASS":m.INFORMATIONAL,CONTINUE:100,101:"Switching Protocols","101_NAME":"SWITCHING_PROTOCOLS","101_MESSAGE":"The requester has asked the server to switch protocols and the server has agreed to do so.","101_CLASS":m.INFORMATIONAL,SWITCHING_PROTOCOLS:101,102:"Processing","102_NAME":"PROCESSING","102_MESSAGE":"A WebDAV request may contain many sub-requests involving file operations, requiring a long time to complete the request. This code indicates that the server has received and is processing the request, but no response is available yet.[7] This prevents the client from timing out and assuming the request was lost.","102_CLASS":m.INFORMATIONAL,PROCESSING:102,103:"Early Hints","103_NAME":"EARLY_HINTS","103_MESSAGE":"Used to return some response headers before final HTTP message.","103_CLASS":m.INFORMATIONAL,EARLY_HINTS:103,200:"OK","200_NAME":"OK","200_MESSAGE":"Standard response for successful HTTP requests.","200_CLASS":m.SUCCESSFUL,OK:200,201:"Created","201_NAME":"CREATED","201_MESSAGE":"The request has been fulfilled, resulting in the creation of a new resource.","201_CLASS":m.SUCCESSFUL,CREATED:201,202:"Accepted","202_NAME":"ACCEPTED","202_MESSAGE":"The request has been accepted for processing, but the processing has not been completed.","202_CLASS":m.SUCCESSFUL,ACCEPTED:202,203:"Non-Authoritative Information","203_NAME":"NON_AUTHORITATIVE_INFORMATION","203_MESSAGE":"The server is a transforming proxy (e.g. a Web accelerator) that received a 200 OK from its origin, but is returning a modified version of the origin's response.","203_CLASS":m.SUCCESSFUL,NON_AUTHORITATIVE_INFORMATION:203,204:"No Content","204_NAME":"NO_CONTENT","204_MESSAGE":"The server successfully processed the request and is not returning any content.","204_CLASS":m.SUCCESSFUL,NO_CONTENT:204,205:"Reset Content","205_NAME":"RESET_CONTENT","205_MESSAGE":"The server successfully processed the request, but is not returning any content. Unlike a 204 response, this response requires that the requester reset the document view.","205_CLASS":m.SUCCESSFUL,RESET_CONTENT:205,206:"Partial Content","206_NAME":"PARTIAL_CONTENT","206_MESSAGE":"The server is delivering only part of the resource (byte serving) due to a range header sent by the client.","206_CLASS":m.SUCCESSFUL,PARTIAL_CONTENT:206,207:"Multi Status","207_NAME":"MULTI_STATUS","207_MESSAGE":"The message body that follows is by default an XML message and can contain a number of separate response codes, depending on how many sub-requests were made.","207_CLASS":m.SUCCESSFUL,MULTI_STATUS:207,208:"Already Reported","208_NAME":"ALREADY_REPORTED","208_MESSAGE":"The members of a DAV binding have already been enumerated in a preceding part of the (multistatus) response, and are not being included again.","208_CLASS":m.SUCCESSFUL,ALREADY_REPORTED:208,226:"IM Used","226_NAME":"IM_USED","226_MESSAGE":"The server has fulfilled a request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance.","226_CLASS":m.SUCCESSFUL,IM_USED:226,300:"Multiple Choices","300_NAME":"MULTIPLE_CHOICES","300_MESSAGE":"Indicates multiple options for the resource from which the client may choose.","300_CLASS":m.REDIRECTION,MULTIPLE_CHOICES:300,301:"Moved Permanently","301_NAME":"MOVED_PERMANENTLY","301_MESSAGE":"This and all future requests should be directed to the given URI.","301_CLASS":m.REDIRECTION,MOVED_PERMANENTLY:301,302:"Found","302_NAME":"FOUND","302_MESSAGE":'This is an example of industry practice contradicting the standard. The HTTP/1.0 specification (RFC 1945) required the client to perform a temporary redirect (the original describing phrase was "Moved Temporarily"), but popular browsers implemented 302 with the functionality of a 303 See Other. Therefore, HTTP/1.1 added status codes 303 and 307 to distinguish between the two behaviours.',"302_CLASS":m.REDIRECTION,FOUND:302,303:"See Other","303_NAME":"SEE_OTHER","303_MESSAGE":"The response to the request can be found under another URI using the GET method.","303_CLASS":m.REDIRECTION,SEE_OTHER:303,304:"Not Modified","304_NAME":"NOT_MODIFIED","304_MESSAGE":"Indicates that the resource has not been modified since the version specified by the request headers If-Modified-Since or If-None-Match.","304_CLASS":m.REDIRECTION,NOT_MODIFIED:304,305:"Use Proxy","305_NAME":"USE_PROXY","305_MESSAGE":"The requested resource is available only through a proxy, the address for which is provided in the response.","305_CLASS":m.REDIRECTION,USE_PROXY:305,306:"Switch Proxy","306_NAME":"SWITCH_PROXY","306_MESSAGE":'No longer used. Originally meant "Subsequent requests should use the specified proxy.',"306_CLASS":m.REDIRECTION,SWITCH_PROXY:306,307:"Temporary Redirect","307_NAME":"TEMPORARY_REDIRECT","307_MESSAGE":"In this case, the request should be repeated with another URI; however, future requests should still use the original URI.","307_CLASS":m.REDIRECTION,TEMPORARY_REDIRECT:307,308:"Permanent Redirect","308_NAME":"PERMANENT_REDIRECT","308_MESSAGE":"The request and all future requests should be repeated using another URI.","308_CLASS":m.REDIRECTION,PERMANENT_REDIRECT:308,400:"Bad Request","400_NAME":"BAD_REQUEST","400_MESSAGE":"The server cannot or will not process the request due to an apparent client error.","400_CLASS":m.CLIENT_ERROR,BAD_REQUEST:400,401:"Unauthorized","401_NAME":"UNAUTHORIZED","401_MESSAGE":"Similar to 403 Forbidden, but specifically for use when authentication is required and has failed or has not yet been provided.","401_CLASS":m.CLIENT_ERROR,UNAUTHORIZED:401,402:"Payment Required","402_NAME":"PAYMENT_REQUIRED","402_MESSAGE":"Reserved for future use. The original intention was that this code might be used as part of some form of digital cash or micropayment scheme, as proposed for example by GNU Taler, but that has not yet happened, and this code is not usually used.","402_CLASS":m.CLIENT_ERROR,PAYMENT_REQUIRED:402,403:"Forbidden","403_NAME":"FORBIDDEN","403_MESSAGE":"The request was valid, but the server is refusing action.","403_CLASS":m.CLIENT_ERROR,FORBIDDEN:403,404:"Not Found","404_NAME":"NOT_FOUND","404_MESSAGE":"The requested resource could not be found but may be available in the future. Subsequent requests by the client are permissible.","404_CLASS":m.CLIENT_ERROR,NOT_FOUND:404,405:"Method Not Allowed","405_NAME":"METHOD_NOT_ALLOWED","405_MESSAGE":"A request method is not supported for the requested resource.","405_CLASS":m.CLIENT_ERROR,METHOD_NOT_ALLOWED:405,406:"Not Acceptable","406_NAME":"NOT_ACCEPTABLE","406_MESSAGE":"The requested resource is capable of generating only content not acceptable according to the Accept headers sent in the request.","406_CLASS":m.CLIENT_ERROR,NOT_ACCEPTABLE:406,407:"Proxy Authentication Required","407_NAME":"PROXY_AUTHENTICATION_REQUIRED","407_MESSAGE":"The client must first authenticate itself with the proxy.","407_CLASS":m.CLIENT_ERROR,PROXY_AUTHENTICATION_REQUIRED:407,408:"Request Time-out","408_NAME":"REQUEST_TIMEOUT","408_MESSAGE":"The server timed out waiting for the request.","408_CLASS":m.CLIENT_ERROR,REQUEST_TIMEOUT:408,409:"Conflict","409_NAME":"CONFLICT","409_MESSAGE":"Indicates that the request could not be processed because of conflict in the request, such as an edit conflict between multiple simultaneous updates.","409_CLASS":m.CLIENT_ERROR,CONFLICT:409,410:"Gone","410_NAME":"GONE","410_MESSAGE":"Indicates that the resource requested is no longer available and will not be available again.","410_CLASS":m.CLIENT_ERROR,GONE:410,411:"Length Required","411_NAME":"LENGTH_REQUIRED","411_MESSAGE":"The request did not specify the length of its content, which is required by the requested resource.","411_CLASS":m.CLIENT_ERROR,LENGTH_REQUIRED:411,412:"Precondition Failed","412_NAME":"PRECONDITION_FAILED","412_MESSAGE":"The server does not meet one of the preconditions that the requester put on the request.","412_CLASS":m.CLIENT_ERROR,PRECONDITION_FAILED:412,413:"Request Entity Too Large","413_NAME":"REQUEST_ENTITY_TOO_LARGE","413_MESSAGE":'The request is larger than the server is willing or able to process. Previously called "Request Entity Too Large".',"413_CLASS":m.CLIENT_ERROR,REQUEST_ENTITY_TOO_LARGE:413,414:"Request-URI Too Large","414_NAME":"REQUEST_URI_TOO_LONG","414_MESSAGE":"The URI provided was too long for the server to process.","414_CLASS":m.CLIENT_ERROR,REQUEST_URI_TOO_LONG:414,415:"Unsupported Media Type","415_NAME":"UNSUPPORTED_MEDIA_TYPE","415_MESSAGE":"The request entity has a media type which the server or resource does not support.","415_CLASS":m.CLIENT_ERROR,UNSUPPORTED_MEDIA_TYPE:415,416:"Requested Range not Satisfiable","416_NAME":"REQUESTED_RANGE_NOT_SATISFIABLE","416_MESSAGE":"The client has asked for a portion of the file (byte serving), but the server cannot supply that portion.","416_CLASS":m.CLIENT_ERROR,REQUESTED_RANGE_NOT_SATISFIABLE:416,417:"Expectation Failed","417_NAME":"EXPECTATION_FAILED","417_MESSAGE":"The server cannot meet the requirements of the Expect request-header field.","417_CLASS":m.CLIENT_ERROR,EXPECTATION_FAILED:417,418:"I'm a teapot","418_NAME":"IM_A_TEAPOT","418_MESSAGE":'Any attempt to brew coffee with a teapot should result in the error code "418 I\'m a teapot". The resulting entity body MAY be short and stout.',"418_CLASS":m.CLIENT_ERROR,IM_A_TEAPOT:418,421:"Misdirected Request","421_NAME":"MISDIRECTED_REQUEST","421_MESSAGE":"The request was directed at a server that is not able to produce a response.","421_CLASS":m.CLIENT_ERROR,MISDIRECTED_REQUEST:421,422:"Unprocessable Entity","422_NAME":"UNPROCESSABLE_ENTITY","422_MESSAGE":"The request was well-formed but was unable to be followed due to semantic errors.","422_CLASS":m.CLIENT_ERROR,UNPROCESSABLE_ENTITY:422,423:"Locked","423_NAME":"LOCKED","423_MESSAGE":"The resource that is being accessed is locked.","423_CLASS":m.CLIENT_ERROR,LOCKED:423,424:"Failed Dependency","424_NAME":"FAILED_DEPENDENCY","424_MESSAGE":"The request failed because it depended on another request and that request failed.","424_CLASS":m.CLIENT_ERROR,FAILED_DEPENDENCY:424,425:"Too Early","425_NAME":"TOO_EARLY","425_MESSAGE":"The server is unwilling to risk processing a request that might be replayed.","425_CLASS":m.CLIENT_ERROR,TOO_EARLY:425,426:"Upgrade Required","426_NAME":"UPGRADE_REQUIRED","426_MESSAGE":"The client should switch to a different protocol such as TLS/1.0, given in the Upgrade header field.","426_CLASS":m.CLIENT_ERROR,UPGRADE_REQUIRED:426,428:"Precondition Required","428_NAME":"PRECONDITION_REQUIRED","428_MESSAGE":"The origin server requires the request to be conditional.","428_CLASS":m.CLIENT_ERROR,PRECONDITION_REQUIRED:428,429:"Too Many Requests","429_NAME":"TOO_MANY_REQUESTS","429_MESSAGE":"The user has sent too many requests in a given amount of time.","429_CLASS":m.CLIENT_ERROR,TOO_MANY_REQUESTS:429,431:"Request Header Fields Too Large","431_NAME":"REQUEST_HEADER_FIELDS_TOO_LARGE","431_MESSAGE":"The server is unwilling to process the request because either an individual header field, or all the header fields collectively, are too large.","431_CLASS":m.CLIENT_ERROR,REQUEST_HEADER_FIELDS_TOO_LARGE:431,451:"Unavailable For Legal Reasons","451_NAME":"UNAVAILABLE_FOR_LEGAL_REASONS","451_MESSAGE":"A server operator has received a legal demand to deny access to a resource or to a set of resources that includes the requested resource.","451_CLASS":m.CLIENT_ERROR,UNAVAILABLE_FOR_LEGAL_REASONS:451,500:"Internal Server Error","500_NAME":"INTERNAL_SERVER_ERROR","500_MESSAGE":"A generic error message, given when an unexpected condition was encountered and no more specific message is suitable.","500_CLASS":m.SERVER_ERROR,INTERNAL_SERVER_ERROR:500,501:"Not Implemented","501_NAME":"NOT_IMPLEMENTED","501_MESSAGE":"The server either does not recognize the request method, or it lacks the ability to fulfil the request. Usually this implies future availability.","501_CLASS":m.SERVER_ERROR,NOT_IMPLEMENTED:501,502:"Bad Gateway","502_NAME":"BAD_GATEWAY","502_MESSAGE":"The server was acting as a gateway or proxy and received an invalid response from the upstream server.","502_CLASS":m.SERVER_ERROR,BAD_GATEWAY:502,503:"Service Unavailable","503_NAME":"SERVICE_UNAVAILABLE","503_MESSAGE":"The server is currently unavailable (because it is overloaded or down for maintenance). Generally, this is a temporary state.","503_CLASS":m.SERVER_ERROR,SERVICE_UNAVAILABLE:503,504:"Gateway Time-out","504_NAME":"GATEWAY_TIMEOUT","504_MESSAGE":"The server was acting as a gateway or proxy and did not receive a timely response from the upstream server.","504_CLASS":m.SERVER_ERROR,GATEWAY_TIMEOUT:504,505:"HTTP Version not Supported","505_NAME":"HTTP_VERSION_NOT_SUPPORTED","505_MESSAGE":"The server does not support the HTTP protocol version used in the request.","505_CLASS":m.SERVER_ERROR,HTTP_VERSION_NOT_SUPPORTED:505,506:"Variant Also Negotiates","506_NAME":"VARIANT_ALSO_NEGOTIATES","506_MESSAGE":"Transparent content negotiation for the request results in a circular reference.","506_CLASS":m.SERVER_ERROR,VARIANT_ALSO_NEGOTIATES:506,507:"Insufficient Storage","507_NAME":"INSUFFICIENT_STORAGE","507_MESSAGE":"The server is unable to store the representation needed to complete the request.","507_CLASS":m.SERVER_ERROR,INSUFFICIENT_STORAGE:507,508:"Loop Detected","508_NAME":"LOOP_DETECTED","508_MESSAGE":"The server detected an infinite loop while processing the request.","508_CLASS":m.SERVER_ERROR,LOOP_DETECTED:508,510:"Not Extended","510_NAME":"NOT_EXTENDED","510_MESSAGE":"Further extensions to the request are required for the server to fulfil it.","510_CLASS":m.SERVER_ERROR,NOT_EXTENDED:510,511:"Network Authentication Required","511_NAME":"NETWORK_AUTHENTICATION_REQUIRED","511_MESSAGE":"The client needs to authenticate to gain network access. Intended for use by intercepting proxies used to control access to the network.","511_CLASS":m.SERVER_ERROR,NETWORK_AUTHENTICATION_REQUIRED:511,extra:{unofficial:{103:"Checkpoint","103_NAME":"CHECKPOINT","103_MESSAGE":"Used in the resumable requests proposal to resume aborted PUT or POST requests.","103_CLASS":m.INFORMATIONAL,CHECKPOINT:103,419:"Page Expired","419_NAME":"PAGE_EXPIRED","419_MESSAGE":"Used by the Laravel Framework when a CSRF Token is missing or expired.","419_CLASS":m.CLIENT_ERROR,PAGE_EXPIRED:419,218:"This is fine","218_NAME":"THIS_IS_FINE","218_MESSAGE":"Used as a catch-all error condition for allowing response bodies to flow through Apache when ProxyErrorOverride is enabled. When ProxyErrorOverride is enabled in Apache, response bodies that contain a status code of 4xx or 5xx are automatically discarded by Apache in favor of a generic response or a custom response specified by the ErrorDocument directive.","218_CLASS":m.SUCCESSFUL,THIS_IS_FINE:218,420:"Enhance Your Calm","420_NAME":"ENHANCE_YOUR_CALM","420_MESSAGE":"Returned by version 1 of the Twitter Search and Trends API when the client is being rate limited; versions 1.1 and later use the 429 Too Many Requests response code instead.","420_CLASS":m.CLIENT_ERROR,ENHANCE_YOUR_CALM:420,450:"Blocked by Windows Parental Controls","450_NAME":"BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS","450_MESSAGE":"The Microsoft extension code indicated when Windows Parental Controls are turned on and are blocking access to the requested webpage.","450_CLASS":m.CLIENT_ERROR,BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS:450,498:"Invalid Token","498_NAME":"INVALID_TOKEN","498_MESSAGE":"Returned by ArcGIS for Server. Code 498 indicates an expired or otherwise invalid token.","498_CLASS":m.CLIENT_ERROR,INVALID_TOKEN:498,499:"Token Required","499_NAME":"TOKEN_REQUIRED","499_MESSAGE":"Returned by ArcGIS for Server. Code 499 indicates that a token is required but was not submitted.","499_CLASS":m.CLIENT_ERROR,TOKEN_REQUIRED:499,509:"Bandwidth Limit Exceeded","509_NAME":"BANDWIDTH_LIMIT_EXCEEDED","509_MESSAGE":"The server has exceeded the bandwidth specified by the server administrator.","509_CLASS":m.SERVER_ERROR,BANDWIDTH_LIMIT_EXCEEDED:509,530:"Site is frozen","530_NAME":"SITE_IS_FROZEN","530_MESSAGE":"Used by the Pantheon web platform to indicate a site that has been frozen due to inactivity.","530_CLASS":m.SERVER_ERROR,SITE_IS_FROZEN:530,598:"Network read timeout error","598_NAME":"NETWORK_READ_TIMEOUT_ERROR","598_MESSAGE":"Used by some HTTP proxies to signal a network read timeout behind the proxy to a client in front of the proxy.","598_CLASS":m.SERVER_ERROR,NETWORK_READ_TIMEOUT_ERROR:598},iis:{440:"Login Time-out","440_NAME":"LOGIN_TIME_OUT","440_MESSAGE":"The client's session has expired and must log in again.","440_CLASS":m.CLIENT_ERROR,LOGIN_TIME_OUT:440,449:"Retry With","449_NAME":"RETRY_WITH","449_MESSAGE":"The server cannot honour the request because the user has not provided the required information.","449_CLASS":m.CLIENT_ERROR,RETRY_WITH:449,451:"Redirect","451_NAME":"REDIRECT","451_MESSAGE":"Used in Exchange ActiveSync when either a more efficient server is available or the server cannot access the users' mailbox.","451_CLASS":m.CLIENT_ERROR,REDIRECT:451},nginx:{444:"No Response","444_NAME":"NO_RESPONSE","444_MESSAGE":"Used internally to instruct the server to return no information to the client and close the connection immediately.","444_CLASS":m.CLIENT_ERROR,NO_RESPONSE:444,494:"Request header too large","494_NAME":"REQUEST_HEADER_TOO_LARGE","494_MESSAGE":"Client sent too large request or too long header line.","494_CLASS":m.CLIENT_ERROR,REQUEST_HEADER_TOO_LARGE:494,495:"SSL Certificate Error","495_NAME":"SSL_CERTIFICATE_ERROR","495_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has provided an invalid client certificate.","495_CLASS":m.CLIENT_ERROR,SSL_CERTIFICATE_ERROR:495,496:"SSL Certificate Required","496_NAME":"SSL_CERTIFICATE_REQUIRED","496_MESSAGE":"An expansion of the 400 Bad Request response code, used when a client certificate is required but not provided.","496_CLASS":m.CLIENT_ERROR,SSL_CERTIFICATE_REQUIRED:496,497:"HTTP Request Sent to HTTPS Port","497_NAME":"HTTP_REQUEST_SENT_TO_HTTPS_PORT","497_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has made a HTTP request to a port listening for HTTPS requests.","497_CLASS":m.CLIENT_ERROR,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,499:"Client Closed Request","499_NAME":"CLIENT_CLOSED_REQUEST","499_MESSAGE":"Used when the client has closed the request before the server could send a response.","499_CLASS":m.CLIENT_ERROR,CLIENT_CLOSED_REQUEST:499},cloudflare:{520:"Unknown Error","520_NAME":"UNKNOWN_ERROR","520_MESSAGE":'The 520 error is used as a "catch-all response for when the origin server returns something unexpected", listing connection resets, large headers, and empty or invalid responses as common triggers.',"520_CLASS":m.SERVER_ERROR,UNKNOWN_ERROR:520,521:"Web Server Is Down","521_NAME":"WEB_SERVER_IS_DOWN","521_MESSAGE":"The origin server has refused the connection from Cloudflare.","521_CLASS":m.SERVER_ERROR,WEB_SERVER_IS_DOWN:521,522:"Connection Timed Out","522_NAME":"CONNECTION_TIMED_OUT","522_MESSAGE":"Cloudflare could not negotiate a TCP handshake with the origin server.","522_CLASS":m.SERVER_ERROR,CONNECTION_TIMED_OUT:522,523:"Origin Is Unreachable","523_NAME":"ORIGIN_IS_UNREACHABLE","523_MESSAGE":"Cloudflare could not reach the origin server.","523_CLASS":m.SERVER_ERROR,ORIGIN_IS_UNREACHABLE:523,524:"A Timeout Occurred","524_NAME":"A_TIMEOUT_OCCURRED","524_MESSAGE":"Cloudflare was able to complete a TCP connection to the origin server, but did not receive a timely HTTP response.","524_CLASS":m.SERVER_ERROR,A_TIMEOUT_OCCURRED:524,525:"SSL Handshake Failed","525_NAME":"SSL_HANDSHAKE_FAILED","525_MESSAGE":"Cloudflare could not negotiate a SSL/TLS handshake with the origin server.","525_CLASS":m.SERVER_ERROR,SSL_HANDSHAKE_FAILED:525,526:"Invalid SSL Certificate","526_NAME":"INVALID_SSL_CERTIFICATE","526_MESSAGE":"Cloudflare could not validate the SSL/TLS certificate that the origin server presented.","526_CLASS":m.SERVER_ERROR,INVALID_SSL_CERTIFICATE:526,527:"Railgun Error","527_NAME":"RAILGUN_ERROR","527_MESSAGE":"Error 527 indicates that the request timed out or failed after the WAN connection had been established.","527_CLASS":m.SERVER_ERROR,RAILGUN_ERROR:527}}},y=g},13095:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{addRecursionDetectionMiddlewareOptions:()=>P,getRecursionDetectionPlugin:()=>O,recursionDetectionMiddleware:()=>C}),e.exports=S(x);var _=h(96543),E="X-Amzn-Trace-Id",T="AWS_LAMBDA_FUNCTION_NAME",k="_X_AMZN_TRACE_ID",C=v(e=>d=>async h=>{let{request:m}=h;if(!_.HttpRequest.isInstance(m)||"node"!==e.runtime)return d(h);let g=Object.keys(m.headers??{}).find(e=>e.toLowerCase()===E.toLowerCase())??E;if(m.headers.hasOwnProperty(g))return d(h);let y=process.env[T],b=process.env[k],w=v(e=>"string"==typeof e&&e.length>0,"nonEmptyString");return w(y)&&w(b)&&(m.headers[E]=b),d({...h,request:m})},"recursionDetectionMiddleware"),P={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},O=v(e=>({applyToStack:v(d=>{d.add(C(e),P)},"applyToStack")}),"getRecursionDetectionPlugin")},13225:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.RawSha256=void 0;var m=h(95301);d.RawSha256=function(){function e(){this.state=Int32Array.from(m.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var d=0,h=e.byteLength;if(this.bytesHashed+=h,8*this.bytesHashed>m.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;h>0;)this.buffer[this.bufferLength++]=e[d++],h--,this.bufferLength===m.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,d=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),h=this.bufferLength;if(d.setUint8(this.bufferLength++,128),h%m.BLOCK_SIZE>=m.BLOCK_SIZE-8){for(var g=this.bufferLength;g<m.BLOCK_SIZE;g++)d.setUint8(g,0);this.hashBuffer(),this.bufferLength=0}for(var g=this.bufferLength;g<m.BLOCK_SIZE-8;g++)d.setUint8(g,0);d.setUint32(m.BLOCK_SIZE-8,Math.floor(e/0x100000000),!0),d.setUint32(m.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var y=new Uint8Array(m.DIGEST_LENGTH),g=0;g<8;g++)y[4*g]=this.state[g]>>>24&255,y[4*g+1]=this.state[g]>>>16&255,y[4*g+2]=this.state[g]>>>8&255,y[4*g+3]=this.state[g]>>>0&255;return y},e.prototype.hashBuffer=function(){for(var e=this,d=e.buffer,h=e.state,g=h[0],y=h[1],b=h[2],v=h[3],w=h[4],S=h[5],x=h[6],_=h[7],E=0;E<m.BLOCK_SIZE;E++){if(E<16)this.temp[E]=(255&d[4*E])<<24|(255&d[4*E+1])<<16|(255&d[4*E+2])<<8|255&d[4*E+3];else{var T=this.temp[E-2],k=(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10,C=((T=this.temp[E-15])>>>7|T<<25)^(T>>>18|T<<14)^T>>>3;this.temp[E]=(k+this.temp[E-7]|0)+(C+this.temp[E-16]|0)}var P=(((w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7))+(w&S^~w&x)|0)+(_+(m.KEY[E]+this.temp[E]|0)|0)|0,O=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&y^g&b^y&b)|0;_=x,x=S,S=w,w=v+P|0,v=b,b=y,y=g,g=P+O|0}h[0]+=g,h[1]+=y,h[2]+=b,h[3]+=v,h[4]+=w,h[5]+=S,h[6]+=x,h[7]+=_},e}()},13373:(e,d,h)=>{"use strict";h.r(d),h.d(d,{__assign:()=>y,__asyncDelegator:()=>D,__asyncGenerator:()=>R,__asyncValues:()=>L,__await:()=>I,__awaiter:()=>x,__classPrivateFieldGet:()=>j,__classPrivateFieldSet:()=>U,__createBinding:()=>E,__decorate:()=>v,__exportStar:()=>T,__extends:()=>g,__generator:()=>_,__importDefault:()=>B,__importStar:()=>M,__makeTemplateObject:()=>$,__metadata:()=>S,__param:()=>w,__read:()=>C,__rest:()=>b,__spread:()=>P,__spreadArrays:()=>O,__values:()=>k});var m=function(e,d){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var h in d)d.hasOwnProperty(h)&&(e[h]=d[h])})(e,d)};function g(e,d){function h(){this.constructor=e}m(e,d),e.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}var y=function(){return(y=Object.assign||function(e){for(var d,h=1,m=arguments.length;h<m;h++)for(var g in d=arguments[h])Object.prototype.hasOwnProperty.call(d,g)&&(e[g]=d[g]);return e}).apply(this,arguments)};function b(e,d){var h={};for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&0>d.indexOf(m)&&(h[m]=e[m]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var g=0,m=Object.getOwnPropertySymbols(e);g<m.length;g++)0>d.indexOf(m[g])&&Object.prototype.propertyIsEnumerable.call(e,m[g])&&(h[m[g]]=e[m[g]]);return h}function v(e,d,h,m){var g,y=arguments.length,b=y<3?d:null===m?m=Object.getOwnPropertyDescriptor(d,h):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(e,d,h,m);else for(var v=e.length-1;v>=0;v--)(g=e[v])&&(b=(y<3?g(b):y>3?g(d,h,b):g(d,h))||b);return y>3&&b&&Object.defineProperty(d,h,b),b}function w(e,d){return function(h,m){d(h,m,e)}}function S(e,d){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,d)}function x(e,d,h,m){function g(e){return e instanceof h?e:new h(function(d){d(e)})}return new(h||(h=Promise))(function(h,y){function b(e){try{w(m.next(e))}catch(e){y(e)}}function v(e){try{w(m.throw(e))}catch(e){y(e)}}function w(e){e.done?h(e.value):g(e.value).then(b,v)}w((m=m.apply(e,d||[])).next())})}function _(e,d){var h,m,g,y,b={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return y={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y;function v(e){return function(d){return w([e,d])}}function w(y){if(h)throw TypeError("Generator is already executing.");for(;b;)try{if(h=1,m&&(g=2&y[0]?m.return:y[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,y[1])).done)return g;switch(m=0,g&&(y=[2&y[0],g.value]),y[0]){case 0:case 1:g=y;break;case 4:return b.label++,{value:y[1],done:!1};case 5:b.label++,m=y[1],y=[0];continue;case 7:y=b.ops.pop(),b.trys.pop();continue;default:if(!(g=(g=b.trys).length>0&&g[g.length-1])&&(6===y[0]||2===y[0])){b=0;continue}if(3===y[0]&&(!g||y[1]>g[0]&&y[1]<g[3])){b.label=y[1];break}if(6===y[0]&&b.label<g[1]){b.label=g[1],g=y;break}if(g&&b.label<g[2]){b.label=g[2],b.ops.push(y);break}g[2]&&b.ops.pop(),b.trys.pop();continue}y=d.call(e,b)}catch(e){y=[6,e],m=0}finally{h=g=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function E(e,d,h,m){void 0===m&&(m=h),e[m]=d[h]}function T(e,d){for(var h in e)"default"===h||d.hasOwnProperty(h)||(d[h]=e[h])}function k(e){var d="function"==typeof Symbol&&Symbol.iterator,h=d&&e[d],m=0;if(h)return h.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&m>=e.length&&(e=void 0),{value:e&&e[m++],done:!e}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(e,d){var h="function"==typeof Symbol&&e[Symbol.iterator];if(!h)return e;var m,g,y=h.call(e),b=[];try{for(;(void 0===d||d-- >0)&&!(m=y.next()).done;)b.push(m.value)}catch(e){g={error:e}}finally{try{m&&!m.done&&(h=y.return)&&h.call(y)}finally{if(g)throw g.error}}return b}function P(){for(var e=[],d=0;d<arguments.length;d++)e=e.concat(C(arguments[d]));return e}function O(){for(var e=0,d=0,h=arguments.length;d<h;d++)e+=arguments[d].length;for(var m=Array(e),g=0,d=0;d<h;d++)for(var y=arguments[d],b=0,v=y.length;b<v;b++,g++)m[g]=y[b];return m}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function R(e,d,h){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var m,g=h.apply(e,d||[]),y=[];return m={},b("next"),b("throw"),b("return"),m[Symbol.asyncIterator]=function(){return this},m;function b(e){g[e]&&(m[e]=function(d){return new Promise(function(h,m){y.push([e,d,h,m])>1||v(e,d)})})}function v(e,d){try{w(g[e](d))}catch(e){_(y[0][3],e)}}function w(e){e.value instanceof I?Promise.resolve(e.value.v).then(S,x):_(y[0][2],e)}function S(e){v("next",e)}function x(e){v("throw",e)}function _(e,d){e(d),y.shift(),y.length&&v(y[0][0],y[0][1])}}function D(e){var d,h;return d={},m("next"),m("throw",function(e){throw e}),m("return"),d[Symbol.iterator]=function(){return this},d;function m(m,g){d[m]=e[m]?function(d){return(h=!h)?{value:I(e[m](d)),done:"return"===m}:g?g(d):d}:g}}function L(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,h=e[Symbol.asyncIterator];return h?h.call(e):(e=k(e),d={},m("next"),m("throw"),m("return"),d[Symbol.asyncIterator]=function(){return this},d);function m(h){d[h]=e[h]&&function(d){return new Promise(function(m,y){g(m,y,(d=e[h](d)).done,d.value)})}}function g(e,d,h,m){Promise.resolve(m).then(function(d){e({value:d,done:h})},d)}}function $(e,d){return Object.defineProperty?Object.defineProperty(e,"raw",{value:d}):e.raw=d,e}function M(e){if(e&&e.__esModule)return e;var d={};if(null!=e)for(var h in e)Object.hasOwnProperty.call(e,h)&&(d[h]=e[h]);return d.default=e,d}function B(e){return e&&e.__esModule?e:{default:e}}function j(e,d){if(!d.has(e))throw TypeError("attempted to get private field on non-instance");return d.get(e)}function U(e,d,h){if(!d.has(e))throw TypeError("attempted to set private field on non-instance");return d.set(e,h),h}},13421:e=>{e.exports=g;var d=/\s/,h=/(_|-|\.|:)/,m=/([a-z][A-Z]|[A-Z][a-z])/;function g(e){return d.test(e)?e.toLowerCase():h.test(e)?(b(e)||e).toLowerCase():m.test(e)?w(e).toLowerCase():e.toLowerCase()}var y=/[\W_]+(.|$)/g;function b(e){return e.replace(y,function(e,d){return d?" "+d:""})}var v=/(.)([A-Z]+)/g;function w(e){return e.replace(v,function(e,d,h){return d+" "+h.toLowerCase().split("").join(" ")})}},13555:(e,d,h)=>{"use strict";h.d(d,{f:()=>iS});var m=h(31303),g=h(3505);let y={slug:"users",admin:{useAsTitle:"email"},auth:{tokenExpiration:7200},fields:[],labels:{plural:({t:e})=>e("general:users"),singular:({t:e})=>e("general:user")}};var b=h(95335),v=h(32771);let w=e=>e.map(e=>{let d=e.handler;return["patch","post"].includes(e.method)&&(e.handler=async e=>(await (0,b.z)(e),(0,v.r)(e),d(e))),e});var S=h(13062),x=h(58068),_=h(39468);let E=async e=>{let d=(0,x.y)({headers:new Headers,req:e});try{let h=await (0,_.m)({req:e});return Response.json(h,{headers:d,status:S.h.OK})}catch(e){return Response.json({error:e},{headers:d,status:S.h.INTERNAL_SERVER_ERROR})}};var T=h(89554);let k=e=>{let d=e.routeParams.collection;if("string"!=typeof d)throw new T.L("No collection was specified",400);let h=e.payload.collections[d];if(!h)throw new T.L(`Collection with the slug ${d} was not found`,404);return h},C=(e,{disableSanitize:d,optionalID:h}={})=>{let m=k(e),g=e.routeParams.id;if("string"!=typeof g){if(h)return{id:void 0,collection:m};throw new T.L("ID was not specified",400)}if(!0===d)return{id:g,collection:m};let y=g,b="number"===e.payload.db.defaultIDType;return b&&"text"===m.customIDType&&(b=!1),b&&(y=parseFloat(y)),{id:y,collection:m}},P=e=>{let d=e.routeParams.global;if("string"!=typeof d)throw new T.L("No global was specified",400);let h=e.payload.globals.config.find(e=>e.slug===d);if(!h)throw new T.L(`Global with the slug ${d} was not found`,404);return h};var O=h(85510);let I=async e=>{let{t:d}=e,h=k(e),m=h.config.auth?.loginWithUsername?{email:"string"==typeof e.data?.email?e.data.email:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:""};return await (0,O.g)({collection:h,data:m,disableEmail:!!e.data?.disableEmail,expiration:"number"==typeof e.data.expiration?e.data.expiration:void 0,req:e}),Response.json({message:d("general:success")},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var R=h(97482);let D=async e=>{let d=await (0,R.M)({collection:k(e).config.slug,req:e});return Response.json({initialized:d},{headers:(0,x.y)({headers:new Headers,req:e})})};var L=h(23718),$=h(22364),M=h(77397);let B=async e=>{let d=k(e),{searchParams:h,t:m}=e,g=h.get("depth"),y=d.config.auth?.loginWithUsername!==!1?{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:""},b=await (0,M.k)({collection:d,data:y,depth:(0,L.E)(g)?Number(g):void 0,req:e}),v=(0,$.IS)({collectionAuthConfig:d.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:b.token});return d.config.auth.removeTokenFromResponses&&delete b.token,Response.json({message:m("authentication:passed"),...b},{headers:(0,x.y)({headers:new Headers({"Set-Cookie":v}),req:e}),status:S.h.OK})};var j=h(36610);let U=async e=>{let d=k(e),{t:h}=e,m=await (0,j.u)({collection:d,req:e}),g=(0,x.y)({headers:new Headers,req:e});if(!m)return Response.json({message:h("error:logoutFailed")},{headers:g,status:S.h.BAD_REQUEST});let y=(0,$.DN)({collectionAuthConfig:d.config.auth,config:e.payload.config,cookiePrefix:e.payload.config.cookiePrefix});return g.set("Set-Cookie",y),Response.json({message:h("authentication:logoutSuccessful")},{headers:g,status:S.h.OK})};var F=h(89157),z=h(89641);let q=async e=>{let d=k(e),h=(0,F.p)(e),m=await (0,z.M)({collection:d,currentToken:h,req:e});return d.config.auth.removeTokenFromResponses&&delete m.token,Response.json({...m,message:e.t("authentication:account")},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var V=h(13993);let H=async e=>{let d=k(e),{t:h}=e,m=(0,x.y)({headers:new Headers,req:e}),g=await (0,V.r)({collection:d,req:e});if(g.setCookie){let h=(0,$.IS)({collectionAuthConfig:d.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:g.refreshedToken});d.config.auth.removeTokenFromResponses&&delete g.refreshedToken,m.set("Set-Cookie",h)}return Response.json({message:h("authentication:tokenRefreshSuccessful"),...g},{headers:m,status:S.h.OK})};var K=h(19131),G=h(83552),W=h(30433),J=h(71707),Q=h(11746);let Y=async e=>{let{collection:{config:d,config:{slug:h,auth:{verify:m}}},data:g,req:y,req:{payload:b}}=e;if(d.auth.disableLocalStrategy)throw new K.c(y.t);try{let v=await (0,W.n)(y);if((0,Q.q)({authOptions:d.auth,collectionSlug:h,data:g,operation:"create",req:y}),await b.db.findOne({collection:d.slug,req:y}))throw new K.c(y.t);let w=await b.create({collection:h,data:g,overrideAccess:!0,req:y});m&&await b.update({id:w.id,collection:h,data:{_verified:!0},req:y});let{exp:S,token:x}=await b.login({...e,collection:h,req:y});return w.collection=h,w._strategy="local-jwt",v&&await (0,G.w)(y),{exp:S,token:x,user:w}}catch(e){throw await (0,J.J)(y),e}},X=async e=>{let d=k(e),{data:h,t:m}=e,g=d.config.auth?.loginWithUsername?{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:""},y=await Y({collection:d,data:{...h,...g},req:e}),b=(0,$.IS)({collectionAuthConfig:d.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:y.token});return Response.json({exp:y.exp,message:m("authentication:successfullyRegisteredFirstUser"),token:y.token,user:y.user},{headers:(0,x.y)({headers:new Headers({"Set-Cookie":b}),req:e}),status:S.h.OK})};var Z=h(96764);let ee=async e=>{let d=k(e),{searchParams:h,t:m}=e,g=h.get("depth"),y=await (0,Z.q)({collection:d,data:{password:"string"==typeof e.data?.password?e.data.password:"",token:"string"==typeof e.data?.token?e.data.token:""},depth:g?Number(g):void 0,req:e}),b=(0,$.IS)({collectionAuthConfig:d.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:y.token});return d.config.auth.removeTokenFromResponses&&delete y.token,Response.json({message:m("authentication:passwordResetSuccessfully"),...y},{headers:(0,x.y)({headers:new Headers({"Set-Cookie":b}),req:e}),status:S.h.OK})};var et=h(98832);let ei=async e=>{let d=k(e),{t:h}=e,m=d.config.auth?.loginWithUsername!==!1?{email:"string"==typeof e.data?.email?e.data.email:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:""};return await (0,et.k)({collection:d,data:m,req:e}),Response.json({message:h("general:success")},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var er=h(98389);let ea=async e=>{let{id:d,collection:h}=C(e,{disableSanitize:!0}),{t:m}=e;return await (0,er.A)({collection:h,req:e,token:d}),Response.json({message:m("authentication:accountVerified")},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})},en=w([{handler:E,method:"get",path:"/access"}]),es=w([{handler:I,method:"post",path:"/forgot-password"},{handler:D,method:"get",path:"/init"},{handler:B,method:"post",path:"/login"},{handler:U,method:"post",path:"/logout"},{handler:q,method:"get",path:"/me"},{handler:H,method:"post",path:"/refresh-token"},{handler:X,method:"post",path:"/first-register"},{handler:ee,method:"post",path:"/reset-password"},{handler:ei,method:"post",path:"/unlock"},{handler:ea,method:"post",path:"/verify/:id"}]),eo=[{name:"loginAttempts",type:"number",defaultValue:0,hidden:!0},{name:"lockUntil",type:"date",hidden:!0}];var el=h(55511);let ed=[{name:"enableAPIKey",type:"checkbox",admin:{components:{Field:!1}},label:({t:e})=>e("authentication:enableAPIKey")},{name:"apiKey",type:"text",admin:{components:{Field:!1}},hooks:{afterRead:[({req:e,value:d})=>d?e.payload.decrypt(d):void 0],beforeChange:[({req:e,value:d})=>d?e.payload.encrypt(d):null]},label:({t:e})=>e("authentication:apiKey")},{name:"apiKeyIndex",type:"text",admin:{disabled:!0},hidden:!0,hooks:{beforeValidate:[({data:e,req:d,value:h})=>e?.apiKey===!1||e?.apiKey===null||e?.enableAPIKey===!1||e?.enableAPIKey===null?null:e?.apiKey?el.createHmac("sha1",d.payload.secret).update(e.apiKey).digest("hex"):h]}}],ec=[{name:"resetPasswordToken",type:"text",hidden:!0},{name:"resetPasswordExpiration",type:"date",hidden:!0},{name:"salt",type:"text",hidden:!0},{name:"hash",type:"text",hidden:!0}];var ep=h(93052);let eu={name:"email",type:"email",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:e})=>{if(e)return e.toLowerCase().trim()}]},label:({t:e})=>e("general:email"),required:!0,unique:!0,validate:ep.Rp},eh={name:"username",type:"text",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:e})=>{if(e)return e.toLowerCase().trim()}]},label:({t:e})=>e("authentication:username"),required:!0,unique:!0,validate:ep.Xh},em=[{name:"_verified",type:"checkbox",access:{create:({req:{user:e}})=>!!e,read:({req:{user:e}})=>!!e,update:({req:{user:e}})=>!!e},admin:{components:{Field:!1}},label:({t:e})=>e("authentication:verified")},{name:"_verificationToken",type:"text",hidden:!0,hooks:{beforeChange:[({data:e,operation:d,originalDoc:h,value:m})=>"update"===d&&e?._verified===!0&&h?._verified===!1?null:m]}}],ef=e=>{let d=[];if(e.useAPIKey&&d.push(...ed),!e.disableLocalStrategy||"object"==typeof e.disableLocalStrategy&&e.disableLocalStrategy.enableFields){let h,m={...eu};e.loginWithUsername&&(h={...eh},"object"==typeof e.loginWithUsername&&(!1===e.loginWithUsername.requireEmail&&(m.required=!1),!1===e.loginWithUsername.requireUsername&&(h.required=!1),!1===e.loginWithUsername.allowEmailLogin&&(m.unique=!1))),d.push(m),h&&d.push(h),d.push(...ec),e.verify&&d.push(...em),e?.maxLoginAttempts&&e.maxLoginAttempts>0&&d.push(...eo)}return d};class eg extends T.L{constructor(e){super(`Timestamps are required in the collection ${e.slug} because you have opted in to Versions.`)}}var ey=h(70004),eb=h(74290),ev=h(72321);let ew=(e,d)=>{let h=[...e||[]];return d.forEach(e=>{let d=null;if((0,eb.Z7)(e)){let m=h.find((h,m)=>!!(0,eb.Z7)(h)&&h.name===e.name&&(d=m,!0));if(m){let g={...m};h.splice(d,1);let y=(0,ev.ct)(e,g);(0,eb.sd)(e)&&(0,eb.sd)(g)&&(y.fields=ew(g.fields,e.fields)),h.push(y)}else h.push(e)}}),h},eS=ew;var ex=h(45397),e_=h(79748),eE=h(33873),eT=h(26154);let ek=async({collection:e,filename:d,req:h})=>{if(d.includes("../")||d.includes("..\\"))throw new K.c(h.t);let{config:m}=e,g=await (0,eT.A)({data:{filename:d},isReadingStaticFile:!0,req:h},m.access.read);if("object"==typeof g){let e={and:[{or:[{filename:{equals:d}}]},g]};m.upload.imageSizes&&m.upload.imageSizes.forEach(({name:h})=>{e.and[0].or.push({[`sizes.${h}.filename`]:{equals:d}})});let y=await h.payload.db.findOne({collection:m.slug,req:h,where:e});if(!y)throw new K.c(h.t);return y}};var eC=h(29021);function eA(e){return new ReadableStream({async pull(d){let{done:h,value:m}=await e.next();h?d.close():d.enqueue(m)}})}async function*eP(e){for await(let d of e)yield new Uint8Array(d)}function eN(e){return eA(eP(eC.createReadStream(e)))}let eO={css:"text/css",csv:"text/csv",htm:"text/html",html:"text/html",js:"application/javascript",json:"application/json",md:"text/markdown",svg:"image/svg+xml",xml:"application/xml",yml:"application/x-yaml"},eI=e=>{let d=e.split(".").pop()||"txt";return{ext:d,mime:eO[d]||"text/plain"}},eR=(e,d)=>{try{let h=new URL(e);return d.some(e=>Object.entries(e).every(([e,d])=>{if(!d)return!0;if("protocol"===e)return"string"==typeof d&&h.protocol===`${d}:`;if("pathname"===e){let e=d.replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\/$/,"(/)?");return RegExp(`^${e}$`).test(h.pathname)}return h[e]===d}))}catch{return!1}},eD=w([{handler:async e=>{let{id:d,collection:h}=C(e,{optionalID:!0});if(!e.user)throw new K.c(e.t);let m=h?.config;if(d){if(!await (0,eT.A)({req:e},m.access.update))throw new K.c(e.t)}else if(!await (0,eT.A)({req:e},m.access?.create))throw new K.c(e.t);try{if(!e.url)throw new T.L("Request URL is missing.",400);let{searchParams:d}=new URL(e.url),h=d.get("src");if(!h||"string"!=typeof h)throw new T.L("A valid URL string is required.",400);let g=new URL(h);if("object"==typeof m.upload?.pasteURL&&!eR(g.href,m.upload.pasteURL.allowList))throw new T.L(`The provided URL (${g.href}) is not allowed.`,400);let y=await fetch(g.href,{headers:{"Accept-Encoding":"identity"}});if(!y.ok)throw new T.L(`Failed to fetch file from ${g.href}`,y.status);let b=decodeURIComponent(g.pathname.split("/").pop()||"");return new Response(y.body,{headers:{"Content-Disposition":`attachment; filename="${b}"`,"Content-Length":y.headers.get("content-length")||"","Content-Type":y.headers.get("content-type")||"application/octet-stream"}})}catch(e){throw new T.L(`Error fetching file: ${e.message}`,500)}},method:"get",path:"/paste-url/:id?"},{handler:async e=>{let d,h=k(e),m=e.routeParams.filename;if(!h.config.upload)throw new T.L(`This collection is not an upload collection: ${h.config.slug}`,S.h.BAD_REQUEST);let g=await ek({collection:h,filename:m,req:e});if(g instanceof Response)return g;if(h.config.upload.handlers?.length){let d=null;for(let y of h.config.upload.handlers)d=await y(e,{doc:g,params:{collection:h.config.slug,filename:m}});if(d instanceof Response)return d}let y=h.config.upload?.staticDir||h.config.slug,b=eE.resolve(`${y}/${m}`);try{d=await e_.stat(b)}catch(d){if("ENOENT"===d.code)return e.payload.logger.error(`File ${m} for collection ${h.config.slug} is missing on the disk. Expected path: ${b}`),Response.json({errors:[{message:"Something went wrong."}]},{headers:(0,x.y)({headers:new Headers,req:e}),status:500});throw d}let v=eN(b),w=await (0,ex.bN)(b)||eI(b),_=new Headers;return _.set("Content-Type",w.mime),_.set("Content-Length",d.size+""),_=h.config.upload?.modifyResponseHeaders?h.config.upload.modifyResponseHeaders({headers:_}):_,new Response(v,{headers:(0,x.y)({headers:_,req:e}),status:S.h.OK})},method:"get",path:"/file/:filename"}]),eL=(e,d)=>d.map(e=>e.replace("*","")).some(d=>e.startsWith(d)),e$=e=>(d,{siblingData:h})=>!h.filename||(d?!!eL(d,e)||`Invalid file type: '${d}'`:"Invalid file type"),eM=({collectionSlug:e,config:d,filename:h})=>{if(h)return`${d.serverURL||""}${d.routes.api||""}/${e}/file/${encodeURIComponent(h)}`},eB=({collection:e,config:d})=>{let h="object"==typeof e.upload?e.upload:{},m={name:"mimeType",type:"text",admin:{hidden:!0,readOnly:!0},label:"MIME Type"},g={name:"thumbnailURL",type:"text",admin:{hidden:!0,readOnly:!0},hooks:{afterRead:[({originalDoc:h})=>{let m="boolean"!=typeof e.upload?e.upload?.adminThumbnail:void 0;return"function"==typeof m?m({doc:h}):"string"==typeof m&&"sizes"in h&&h.sizes?.[m]?.filename?eM({collectionSlug:e.slug,config:d,filename:h.sizes?.[m].filename}):null}]},label:"Thumbnail URL"},y={name:"width",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:e})=>e("upload:width")},b={name:"height",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:e})=>e("upload:height")},v={name:"filesize",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:e})=>e("upload:fileSize")},w={name:"filename",type:"text",admin:{disableBulkEdit:!0,hidden:!0,readOnly:!0},index:!0,label:({t:e})=>e("upload:fileName")};!0!==e.upload&&("object"!=typeof e.upload||e.upload.filenameCompoundIndex)||(w.unique=!0);let S={name:"url",type:"text",admin:{hidden:!0,readOnly:!0},label:"URL"},x=[{...S,hooks:{afterRead:[({data:h,value:m})=>m&&!h.filename?m:eM({collectionSlug:e.slug,config:d,filename:h?.filename})]}},g,w,m,v,y,b];return(!1!==h.focalPoint||h.imageSizes||h.resizeOptions)&&(x=x.concat(["focalX","focalY"].map(e=>({name:e,type:"number",admin:{disableListColumn:!0,disableListFilter:!0,hidden:!0}})))),h.mimeTypes&&(m.validate=e$(h.mimeTypes)),h.imageSizes&&(x=x.concat([{name:"sizes",type:"group",admin:{hidden:!0},fields:h.imageSizes.map(h=>({name:h.name,type:"group",admin:{hidden:!0},fields:[{...S,hooks:{afterRead:[({data:m,value:g})=>{if(g&&h.height&&h.width&&!m.filename)return g;let y=m?.sizes?.[h.name]?.filename;return y?`${d.serverURL}${d.routes.api}/${e.slug}/file/${y}`:null}]}},y,b,m,v,{...w,unique:!1}],label:h.name})),label:({t:e})=>e("upload:sizes")}])),x};var ej=h(73679),eU=h(27891),eF=h(37182);let ez={autosaveInterval:2e3};var eq=h(82806);let eV=async e=>{let d=k(e),{where:h}=e.query,m=await (0,eq.R)({collection:d,req:e,where:h});return Response.json(m,{status:S.h.OK})};var eH=h(45886);let eK=e=>{if(e&&"object"==typeof e)for(let d in e)"true"===e[d]?e[d]=!0:"false"===e[d]?e[d]=!1:"object"==typeof e[d]&&eK(e[d]);return e},eG=e=>{if(e&&"object"==typeof e){for(let d in e)e[d]=eK(e[d]);return e}};var eW=h(52770);let eJ=async e=>{let d=k(e),{searchParams:h}=e,m="true"===h.get("autosave"),g="true"===h.get("draft"),y=h.get("depth"),b=await (0,eW.k)({autosave:m,collection:d,data:e.data,depth:(0,L.E)(y)?y:void 0,draft:g,populate:eG(e.query.populate),req:e,select:eK(e.query.select)});return Response.json({doc:b,message:e.t("general:successfullyCreated",{label:(0,eH.sC)(d.config.labels.singular,e.i18n)})},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.CREATED})};var eQ=h(91506);let eY=async e=>{let d=k(e),{depth:h,overrideLock:m,populate:g,select:y,where:b}=e.query,v=await (0,eQ.N)({collection:d,depth:(0,L.E)(h)?Number(h):void 0,overrideLock:"true"===m,populate:eG(g),req:e,select:eK(y),where:b}),w=(0,x.y)({headers:new Headers,req:e});if(0===v.errors.length){let h=e.t("general:deletedCountSuccessfully",{count:v.docs.length,label:(0,eH.sC)(d.config.labels[1===v.docs.length?"singular":"plural"],e.i18n)});return Response.json({...v,message:h},{headers:w,status:S.h.OK})}let _=v.docs.length+v.errors.length,E=e.t("error:unableToDeleteCount",{count:v.errors.length,label:(0,eH.sC)(d.config.labels[1===_?"singular":"plural"],e.i18n),total:_});return Response.json({...v,message:E},{headers:w,status:S.h.BAD_REQUEST})};var eX=h(99502);let eZ=async e=>{let{id:d,collection:h}=C(e),{searchParams:m}=e,g=m.get("depth"),y=m.get("overrideLock"),b=await (0,eX.l)({id:d,collection:h,depth:(0,L.E)(g)?g:void 0,overrideLock:"true"===y,populate:eG(e.query.populate),req:e,select:eK(e.query.select)}),v=(0,x.y)({headers:new Headers,req:e});return b?Response.json({doc:b,message:e.t("general:deletedSuccessfully")},{headers:v,status:S.h.OK}):Response.json({message:e.t("general:notFound")},{headers:v,status:S.h.NOT_FOUND})};var e1=h(67057);let e0=async e=>{let{id:d,collection:h}=C(e,{optionalID:!0}),m=await (0,e1.O)({id:d,collection:h,req:e});return Response.json(m,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var e2=h(40496);let e4=async e=>{let{id:d,collection:h}=C(e),{searchParams:m}=e,g=m.get("depth"),y="false"!==m.get("draft"),b=await (0,e2.h)({id:d,collection:h,data:e.data,depth:(0,L.E)(g)?Number(g):void 0,draft:y,populate:eG(e.query.populate),req:e,select:eK(e.query.select)}),v=e.t("general:successfullyDuplicated",{label:(0,eH.sC)(h.config.labels.singular,e.i18n)});return Response.json({doc:b,message:v},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})},e6=(e={})=>{let d={};return Object.keys(e).forEach(h=>{"false"===e[h]||!1===e[h]?d[h]=!1:d[h]={count:"true"===e[h].count,limit:(0,L.E)(e[h]?.limit)?Number(e[h].limit):void 0,page:(0,L.E)(e[h]?.page)?Number(e[h].page):void 0,sort:e[h]?.sort?e[h].sort:void 0,where:e[h]?.where?e[h].where:void 0}}),d};var e3=h(10866);let e5=async e=>{let d=k(e),{depth:h,draft:m,joins:g,limit:y,page:b,pagination:v,populate:w,select:_,sort:E,where:T}=e.query,C=await (0,e3.L)({collection:d,depth:(0,L.E)(h)?Number(h):void 0,draft:"true"===m,joins:e6(g),limit:(0,L.E)(y)?Number(y):void 0,page:(0,L.E)(b)?Number(b):void 0,pagination:"false"!==v&&void 0,populate:eG(w),req:e,select:eK(_),sort:"string"==typeof E?E.split(","):void 0,where:T});return Response.json(C,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var e8=h(23854);let e9=async e=>{let{searchParams:d}=e,{id:h,collection:m}=C(e),g=d.get("depth"),y=await (0,e8.$)({id:h,collection:m,depth:(0,L.E)(g)?Number(g):void 0,draft:"true"===d.get("draft"),joins:e6(e.query.joins),populate:eG(e.query.populate),req:e,select:eK(e.query.select)});return Response.json(y,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var e7=h(40788);let te=async e=>{let{searchParams:d}=e,h=d.get("depth"),{id:m,collection:g}=C(e),y=await (0,e7.L)({id:m,collection:g,depth:(0,L.E)(h)?Number(h):void 0,populate:eG(e.query.populate),req:e,select:eK(e.query.select)});return Response.json(y,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var tt=h(85103);let ti=async e=>{let d=k(e),{depth:h,limit:m,page:g,pagination:y,populate:b,select:v,sort:w,where:_}=e.query,E=await (0,tt.s)({collection:d,depth:(0,L.E)(h)?Number(h):void 0,limit:(0,L.E)(m)?Number(m):void 0,page:(0,L.E)(g)?Number(g):void 0,pagination:"false"!==y&&void 0,populate:eG(b),req:e,select:eK(v),sort:"string"==typeof w?w.split(","):void 0,where:_});return Response.json(E,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})},tr=async e=>{let d,{id:h,collection:m}=C(e),{searchParams:g}=e,y=g.get("depth"),b=await (0,e8.$)({id:h,collection:m,depth:(0,L.E)(y)?Number(y):void 0,draft:"true"===g.get("draft"),req:e}),v=e.payload?.collections?.[m.config.slug]?.config?.admin?.preview,w=(0,F.p)(e);return"function"==typeof v&&(d=await v(b,{locale:e.locale,req:e,token:w})),Response.json(d,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var ta=h(88399);let tn=async e=>{let{id:d,collection:h}=C(e),{searchParams:m}=e,g=m.get("depth"),y=m.get("draft"),b=await (0,ta.c)({id:d,collection:h,depth:(0,L.E)(g)?Number(g):void 0,draft:"true"===y||void 0,populate:eG(e.query.populate),req:e});return Response.json({...b,message:e.t("version:restoredSuccessfully")},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var ts=h(76296);let to=async e=>{let d=k(e),{depth:h,draft:m,limit:g,overrideLock:y,populate:b,select:v,sort:w,where:_}=e.query,E=await (0,ts.L)({collection:d,data:e.data,depth:(0,L.E)(h)?Number(h):void 0,draft:"true"===m,limit:(0,L.E)(g)?Number(g):void 0,overrideLock:"true"===y,populate:eG(b),req:e,select:eK(v),sort:"string"==typeof w?w.split(","):void 0,where:_}),T=(0,x.y)({headers:new Headers,req:e});if(0===E.errors.length){let h=e.t("general:updatedCountSuccessfully",{count:E.docs.length,label:(0,eH.sC)(d.config.labels[1===E.docs.length?"singular":"plural"],e.i18n)});return Response.json({...E,message:h},{headers:T,status:S.h.OK})}let C=E.docs.length+E.errors.length,P=e.t("error:unableToUpdateCount",{count:E.errors.length,label:(0,eH.sC)(d.config.labels[1===C?"singular":"plural"],e.i18n),total:C});return Response.json({...E,message:P},{headers:T,status:S.h.BAD_REQUEST})};var tl=h(27696);let td=[...w([{handler:eV,method:"get",path:"/count"},{handler:eJ,method:"post",path:"/"},{handler:eY,method:"delete",path:"/"},{handler:eZ,method:"delete",path:"/:id"},{handler:e0,method:"post",path:"/access/:id?"},{handler:ti,method:"get",path:"/versions"},{handler:e4,method:"post",path:"/:id/duplicate"},{handler:e5,method:"get",path:"/"},{handler:e9,method:"get",path:"/:id"},{handler:te,method:"get",path:"/versions/:id"},{handler:tr,method:"get",path:"/:id/preview"},{handler:tn,method:"post",path:"/versions/:id"},{handler:to,method:"patch",path:"/"},{handler:async e=>{let{id:d,collection:h}=C(e),{searchParams:m}=e,g=m.get("depth"),y="true"===m.get("autosave"),b="true"===m.get("draft"),v=m.get("overrideLock"),w=e.query.publishSpecificLocale,_=await (0,tl.Z)({id:d,autosave:y,collection:h,data:e.data,depth:(0,L.E)(g)?Number(g):void 0,draft:b,overrideLock:"true"===v,populate:eG(e.query.populate),publishSpecificLocale:w,req:e,select:eK(e.query.select)}),E=e.t("general:updatedSuccessfully");return b&&(E=e.t("version:draftSavedSuccessfully")),y&&(E=e.t("version:autosavedSuccessfully")),Response.json({doc:_,message:E},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})},method:"patch",path:"/:id"}])];var tc=h(87072);tc.A,tc.A,tc.A,tc.A,tc.A;let tp=e=>(e.access={create:tc.A,delete:tc.A,read:tc.A,unlock:tc.A,update:tc.A,...e.access||{}},e.admin={components:{},custom:{},enableRichTextLink:!0,enableRichTextRelationship:!0,useAsTitle:"id",...e.admin||{},pagination:{defaultLimit:10,limits:[5,10,25,50,100],...e.admin?.pagination||{}}},e.auth=e.auth??!1,e.custom=e.custom??{},e.endpoints=e.endpoints??[],e.fields=e.fields??[],e.folders=e.folders??!1,e.hooks={afterChange:[],afterDelete:[],afterForgotPassword:[],afterLogin:[],afterLogout:[],afterMe:[],afterOperation:[],afterRead:[],afterRefresh:[],beforeChange:[],beforeDelete:[],beforeLogin:[],beforeOperation:[],beforeRead:[],beforeValidate:[],me:[],refresh:[],...e.hooks||{}},e.timestamps=e.timestamps??!0,e.upload=e.upload??!1,e.versions=e.versions??!1,e.indexes=e.indexes??[],e),tu=e=>(e.cookies={sameSite:"Lax",secure:!1,...e.cookies||{}},e.forgotPassword=e.forgotPassword??{},e.lockTime=e.lockTime??6e5,e.loginWithUsername=e.loginWithUsername??!1,e.maxLoginAttempts=e.maxLoginAttempts??5,e.tokenExpiration=e.tokenExpiration??7200,e.verify=e.verify??!1,e.strategies=e.strategies??[],e.disableLocalStrategy||!0!==e.verify||(e.verify={}),e),th=e=>({allowEmailLogin:!1,requireEmail:!1,requireUsername:!0,...e||{}});var tm=h(98979),tf=h(93297);let tg=({fields:e,indexes:d})=>{let h=[];for(let m of d){let d={fields:[],unique:m.unique??!1};for(let h of m.fields){let m=(0,tf.p)({fields:e,path:h});if(!m)throw new tm.s(`Field ${h} was not found`);let{field:g,localizedPath:y,pathHasLocalized:b}=m;if(["array","blocks","group","tab"].includes(g.type))throw new tm.s(`Compound index on ${g.type} cannot be set. Path: ${y}`);d.fields.push({field:g,localizedPath:y,path:h,pathHasLocalized:b})}h.push(d)}return h};var ty=h(43171);let tb=e=>{if(e.admin?.useAsTitle?.includes("."))throw new tm.s(`"useAsTitle" cannot be a nested field. Please specify a top-level field in the collection "${e.slug}"`);if(e?.admin&&e.admin?.useAsTitle&&"id"!==e.admin.useAsTitle){let d=(0,ty.A)(e.fields).find(d=>!!(0,eb.Z7)(d)&&!!e.admin&&d.name===e.admin.useAsTitle);if(e.auth){if("email"!==e.admin.useAsTitle&&!d)throw new tm.s(`The field "${e.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${e.slug}"`)}else{if(d&&"virtual"in d&&!0===d.virtual)throw new tm.s(`The field "${e.admin.useAsTitle}" specified in "admin.useAsTitle" in the collection "${e.slug}" is virtual. A virtual field can be used as the title only when linked to a relationship field.`);if(!d)throw new tm.s(`The field "${e.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${e.slug}"`)}}},tv=async(e,d,h,m)=>{if(d._sanitized)return d;d._sanitized=!0;let g=tp(d),y=m??e.collections.map(e=>e.slug)??[],b={},v=[];if(g.fields=await (0,ey.b)({collectionConfig:g,config:e,fields:g.fields,joinPath:"",joins:b,parentIsLocalized:!1,polymorphicJoins:v,richTextSanitizationPromises:h,validRelationships:y}),!1!==g.endpoints){if(g.endpoints||(g.endpoints=[]),g.auth)for(let e of es)g.endpoints.push(e);if(g.upload)for(let e of eD)g.endpoints.push(e);for(let e of td)g.endpoints.push(e)}if(!1!==g.timestamps){let e=null,d=null;g.fields.some(h=>((0,eb.Z7)(h)&&("updatedAt"===h.name&&(e=!0),"createdAt"===h.name&&(d=!0)),d&&e)),e||g.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},index:!0,label:({t:e})=>e("general:updatedAt")}),d||g.fields.push({name:"createdAt",admin:{disableBulkEdit:!0,hidden:!0},type:"date",index:!0,label:({t:e})=>e("general:createdAt")})}if(g.labels=g.labels||(0,eU.h6)(g.slug),g.versions){if(!0===g.versions&&(g.versions={drafts:!1,maxPerDoc:100}),!1===g.timestamps)throw new eg(d);g.versions.maxPerDoc="number"==typeof g.versions.maxPerDoc?g.versions.maxPerDoc:100,g.versions.drafts&&(!0===g.versions.drafts&&(g.versions.drafts={autosave:!1,validate:!1}),!0===g.versions.drafts.autosave&&(g.versions.drafts.autosave={interval:ez.autosaveInterval}),void 0===g.versions.drafts.validate&&(g.versions.drafts.validate=!1),g.fields=eS(g.fields,eF.Ay))}if(g.upload){!0===g.upload&&(g.upload={}),g.upload.cacheTags=g.upload?.cacheTags??!0,g.upload.bulkUpload=g.upload?.bulkUpload??!0,g.upload.staticDir=g.upload.staticDir||g.slug,g.admin.useAsTitle=g.admin?.useAsTitle&&"id"!==g.admin.useAsTitle?g.admin.useAsTitle:"filename";let d=eB({collection:g,config:e});g.fields=eS(g.fields,d)}if(g.auth){if(g.auth=tu("boolean"==typeof g.auth?{}:g.auth),g.disableDuplicate=g.disableDuplicate??!0,g.auth.loginWithUsername)if(!0===g.auth.loginWithUsername)g.auth.loginWithUsername=th({});else{let e=th(g.auth.loginWithUsername);!1===e.allowEmailLogin&&(e.requireUsername=!0),g.auth.loginWithUsername=e}else g.auth.loginWithUsername=!1;d?.admin?.useAsTitle||(g.admin.useAsTitle=g.auth.loginWithUsername?"username":"email"),g.fields=eS(g.fields,ef(g.auth))}d?.admin?.pagination?.limits?.length&&(g.admin.pagination.limits=d.admin.pagination.limits),tb(g);let w=g;return w.joins=b,w.polymorphicJoins=v,w.flattenedFields=(0,ej.r)({fields:w.fields}),w.sanitizedIndexes=tg({fields:w.flattenedFields,indexes:w.indexes}),w},tw={slug:"payload-migrations",admin:{hidden:!0},endpoints:!1,fields:[{name:"name",type:"text"},{name:"batch",type:"number"}],graphQL:!1,lockDocuments:!1};class tS extends T.L{constructor(e,d){super(`Collection ${e} already in use: "${d}"`)}}var tx=h(82430),t_=h(95518);let tE={handler:async e=>{if(!e?.user)return Response.json({message:"Unauthorized request."},{status:S.A.UNAUTHORIZED});if(!e.payload.collections?.[e.payload.config.folders.slug])return Response.json({message:"Folders are not configured"},{status:S.A.NOT_FOUND});let d=await (0,t_.D)({collectionSlug:e.searchParams?.get("collectionSlug")||void 0,folderID:e.searchParams?.get("folderID")||void 0,req:e,search:e.searchParams?.get("search")||void 0});return Response.json(d)},method:"get",path:"/populate-folder-data"},tT=({folderFieldName:e,folderSlug:d})=>async({id:h,req:m})=>{await m.payload.delete({collection:d,req:m,where:{[e]:{equals:h}}})},tk=({collectionSlugs:e,folderFieldName:d})=>async({id:h,req:m})=>{for(let g of e)await m.payload.update({collection:g,data:{[d]:null},req:m,where:{[d]:{equals:h}}})},tC=e=>"string"==typeof e||"number"==typeof e?e:e.id;async function tA({folderFieldName:e,folderID:d,parentIDToFind:h,payload:m}){let g=await m.findByID({id:d,collection:m.config.folders.slug}),y=g[e]?tC(g[e]):void 0;return!!y&&(y===h||tA({folderFieldName:e,folderID:y,parentIDToFind:h,payload:m}))}let tP=({folderFieldName:e})=>async({doc:d,previousDoc:h,req:m})=>{if(h[e]!==d[e]&&d[e]){let g=tC(d[e]);g&&await tA({folderFieldName:e,folderID:g,parentIDToFind:d.id,payload:m.payload})&&await m.payload.update({id:g,collection:m.payload.config.folders.slug,data:{[e]:h[e]?tC(h[e]):null},req:m})}},tN=({slug:e,collectionSlugs:d,debug:h,folderFieldName:m})=>({slug:e,admin:{hidden:!h,useAsTitle:"name"},endpoints:[tE],fields:[{name:"name",type:"text",index:!0,required:!0},{name:m,type:"relationship",admin:{hidden:!h},index:!0,relationTo:e},{name:"documentsAndFolders",type:"join",admin:{hidden:!h},collection:[e,...d],hasMany:!0,on:m}],hooks:{afterChange:[tP({folderFieldName:m})],afterDelete:[tk({collectionSlugs:d,folderFieldName:m})],beforeDelete:[tT({folderFieldName:m,folderSlug:e})]},labels:{plural:"Folders",singular:"Folder"},typescript:{interface:"FolderInterface"}});async function tO(e){if(!e.collections)return;let d=[],h=!!e?.folders?.debug,m=e?.folders?.fieldName,g=e?.folders?.slug;for(let h=0;h<e.collections.length;h++){let y=e.collections[h];y&&y?.folders&&(y.fields.push({name:m,type:"relationship",admin:{allowCreate:!1,allowEdit:!1,components:{Cell:"@payloadcms/ui/rsc#FolderTableCell",Field:"@payloadcms/ui/rsc#FolderEditField"}},index:!0,label:"Folder",relationTo:g}),d.push(y.slug))}if(d.length){let y=tN({slug:g,collectionSlugs:d,debug:h,folderFieldName:m});if(Array.isArray(e?.folders?.collectionOverrides)&&e?.folders.collectionOverrides.length)for(let d of e.folders.collectionOverrides)y=await d({collection:y});e.collections.push(y)}}var tI=h(87810);let tR=async e=>{let d=P(e),h=await (0,tI.O)({globalConfig:d,req:e});return Response.json(h,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var tD=h(94415);let tL=async e=>{let d=P(e),{searchParams:h}=e,m=h.get("depth"),g=await (0,tD.j)({slug:d.slug,depth:(0,L.E)(m)?Number(m):void 0,draft:"true"===h.get("draft"),globalConfig:d,populate:eG(e.query.populate),req:e,select:eK(e.query.select)});return Response.json(g,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var t$=h(65111);let tM=async e=>{let d=P(e),{searchParams:h}=e,m=h.get("depth"),g=await (0,t$.L)({id:e.routeParams.id,depth:(0,L.E)(m)?Number(m):void 0,globalConfig:d,populate:eG(e.query.populate),req:e,select:eK(e.query.select)});return Response.json(g,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var tB=h(12882);let tj=async e=>{let d=P(e),{depth:h,limit:m,page:g,pagination:y,populate:b,select:v,sort:w,where:_}=e.query,E=await (0,tB.s)({depth:(0,L.E)(h)?Number(h):void 0,globalConfig:d,limit:(0,L.E)(m)?Number(m):void 0,page:(0,L.E)(g)?Number(g):void 0,pagination:"false"!==y&&void 0,populate:eG(b),req:e,select:eK(v),sort:"string"==typeof w?w.split(","):void 0,where:_});return Response.json(E,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})},tU=async e=>{let d,h=P(e),{searchParams:m}=e,g=m.get("depth"),y=await (0,tD.j)({slug:h.slug,depth:(0,L.E)(g)?Number(g):void 0,draft:"true"===m.get("draft"),globalConfig:h,req:e}),b=e.payload.config.globals.find(e=>e.slug===h.slug)?.admin?.preview,v=(0,F.p)(e);return"function"==typeof b&&(d=await b(y,{locale:e.locale,req:e,token:v})),Response.json(d,{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var tF=h(88570);let tz=async e=>{let d=P(e),{searchParams:h}=e,m=h.get("depth"),g=h.get("draft"),y=await (0,tF.c)({id:e.routeParams.id,depth:(0,L.E)(m)?Number(m):void 0,draft:"true"===g||void 0,globalConfig:d,populate:eG(e.query.populate),req:e});return Response.json({doc:y,message:e.t("version:restoredSuccessfully")},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})};var tq=h(46519);let tV=w([{handler:tR,method:"post",path:"/access"},{handler:tL,method:"get",path:"/"},{handler:tM,method:"get",path:"/versions/:id"},{handler:tj,method:"get",path:"/versions"},{handler:tU,method:"get",path:"/preview"},{handler:tz,method:"post",path:"/versions/:id"},{handler:async e=>{let d=P(e),{searchParams:h}=e,m=h.get("depth"),g="true"===h.get("draft"),y="true"===h.get("autosave"),b=e.query.publishSpecificLocale,v=await (0,tq.L)({slug:d.slug,autosave:y,data:e.data,depth:(0,L.E)(m)?Number(m):void 0,draft:g,globalConfig:d,populate:eG(e.query.populate),publishSpecificLocale:b,req:e,select:eK(e.query.select)}),w=e.t("general:updatedSuccessfully");return g&&(w=e.t("version:draftSavedSuccessfully")),y&&(w=e.t("version:autosavedSuccessfully")),Response.json({message:w,result:v},{headers:(0,x.y)({headers:new Headers,req:e}),status:S.h.OK})},method:"post",path:"/"}]),tH=async(e,d,h,m)=>{if(d._sanitized)return d;d._sanitized=!0,d.label=d.label||(0,eU.x4)(d.slug),d.endpoints=d.endpoints??[],d.hooks||(d.hooks={}),d.access||(d.access={}),d.admin||(d.admin={}),d.access.read||(d.access.read=tc.A),d.access.update||(d.access.update=tc.A),d.hooks.beforeValidate||(d.hooks.beforeValidate=[]),d.hooks.beforeChange||(d.hooks.beforeChange=[]),d.hooks.afterChange||(d.hooks.afterChange=[]),d.hooks.beforeRead||(d.hooks.beforeRead=[]),d.hooks.afterRead||(d.hooks.afterRead=[]);let g=m??e.collections.map(e=>e.slug)??[];if(d.fields=await (0,ey.b)({config:e,fields:d.fields,parentIsLocalized:!1,richTextSanitizationPromises:h,validRelationships:g}),!1!==d.endpoints)for(let e of(d.endpoints||(d.endpoints=[]),tV))d.endpoints.push(e);d.versions&&(!0===d.versions&&(d.versions={drafts:!1,max:100}),d.versions.max="number"==typeof d.versions.max?d.versions.max:100,d.versions.drafts&&(!0===d.versions.drafts&&(d.versions.drafts={autosave:!1,validate:!1}),!0===d.versions.drafts.autosave&&(d.versions.drafts.autosave={interval:ez.autosaveInterval}),void 0===d.versions.drafts.validate&&(d.versions.drafts.validate=!1),d.fields=eS(d.fields,eF.Ay))),d.custom||(d.custom={});let y=null,b=null;return d.fields.some(e=>((0,eb.Z7)(e)&&("updatedAt"===e.name&&(y=!0),"createdAt"===e.name&&(b=!0)),b&&y)),y||d.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:e})=>e("general:updatedAt")}),b||d.fields.push({name:"createdAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:e})=>e("general:createdAt")}),d.flattenedFields=(0,ej.r)({fields:d.fields}),d};var tK=h(10610),tG=h(92520),tW=h(33489);let tJ=e=>e?e.or&&!e.and?{or:e.or.map(e=>e.and?e:{and:[e]})}:e.and&&!e.or?{or:[{and:e.and}]}:e.or||e.and?e:{or:[{and:[e]}]}:{};var tQ=h(56251);let tY=e=>!!(e?.or&&e?.or?.length>0&&e?.or?.[0]?.and&&e?.or?.[0]?.and?.length>0)&&e.or.every(e=>!!(e.and&&Array.isArray(e.and))&&e.and.every(e=>{if("object"!=typeof e)return!1;let d=Object.keys(e);if(0===d.length)return!1;for(let h of d){let d=Object.keys(e[h])[0];if(!d||!tQ.L.has(d))return!1}return!0})),tX=["delete","read","update","create"],tZ={create:tc.A,delete:tc.A,read:tc.A,unlock:tc.A,update:tc.A},t1=e=>tX.reduce((d,h)=>(d[h]=async d=>{let{req:m}=d,g=e?.queryPresets?.access?.[h]?await e.queryPresets.access[h](d):!tZ?.[h]||tZ[h](d);return!1!==g&&("create"===h?g:{and:[{or:[...m?.user?[{and:[{[`access.${h}.users`]:{in:[m.user.id]}},{[`access.${h}.constraint`]:{in:["onlyMe","specificUsers"]}}]}]:[],{[`access.${h}.constraint`]:{equals:"everyone"}},...await Promise.all((e?.queryPresets?.constraints?.[h]||[]).map(async e=>{let m=e.access?await e.access(d):void 0;return{and:[..."object"==typeof m?[m]:!1===m?[{id:{equals:null}}]:[],{[`access.${h}.constraint`]:{equals:e.value}}]}}))]},..."object"==typeof g?[g]:[]]})},d),{});var t0=h(78394);let t2=async(e,{data:d,overrideAccess:h,req:m})=>{if(!m.context._preventLockout&&!h){let e=await (0,t0.M)({context:{_preventLockout:!0},req:{user:m.user}},m.payload),h=await (0,W.n)(e),g=await e.payload.create({collection:t5,data:{...d,isTemp:!0},req:e}),y=!1,b=!1;try{await e.payload.findByID({id:g.id,collection:t5,overrideAccess:!1,req:e,user:e.user}),b=!0,await e.payload.update({id:g.id,collection:t5,data:g,overrideAccess:!1,req:e,user:e.user}),y=!0}catch(e){if(!b||!y)throw new T.L("This action will lock you out of this preset.",403,{},!0)}finally{h?await (0,J.J)(e):await e.payload.delete({id:g.id,collection:t5,req:e})}}return!0},t4=["read","update","delete"],t6=[{label:"Everyone",value:"everyone"},{label:"Only Me",value:"onlyMe"},{label:"Specific Users",value:"specificUsers"}],t3=e=>({name:"access",type:"group",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsAccessCell"},condition:e=>!!e?.isShared},fields:t4.map(d=>({type:"collapsible",fields:[{name:d,type:"group",admin:{hideGutter:!0},fields:[{name:"constraint",type:"select",defaultValue:"onlyMe",filterOptions:d=>"function"==typeof e?.queryPresets?.filterConstraints?e.queryPresets.filterConstraints(d):d.options,label:({i18n:h})=>`Specify who can ${d} this ${(0,eH.sC)(e.queryPresets?.labels?.singular||"Preset",h)}`,options:[...t6,...e?.queryPresets?.constraints?.[d]?.map(e=>({label:e.label,value:e.value}))||[]]},{name:"users",type:"relationship",admin:{condition:e=>e?.access?.[d]?.constraint==="specificUsers"},hasMany:!0,hooks:{beforeChange:[({data:e,req:h})=>e?.access?.[d]?.constraint==="onlyMe"&&h.user?[h.user.id]:e?.access?.[d]?.constraint==="specificUsers"&&h.user?[...e?.access?.[d]?.users||[],h.user.id]:void 0]},relationTo:e.admin?.user??"users"},...e?.queryPresets?.constraints?.[d]?.reduce((e,h)=>(h.fields?.forEach((m,g)=>{e.push({...m}),(0,eb.Z7)(m)&&(e[g].admin={...e[g]?.admin||{},condition:e=>e?.access?.[d]?.constraint===h.value})}),e),[])||[]],label:!1}],label:()=>(0,eU.x4)(d)})),label:"Sharing settings",validate:t2}),t5="payload-query-presets",t8=e=>({slug:t5,access:t1(e),admin:{defaultColumns:["title","isShared","access","where","columns"],hidden:!0,useAsTitle:"title"},fields:[{name:"title",type:"text",required:!0},{name:"isShared",type:"checkbox",defaultValue:!1,validate:(e,{data:d})=>{let h=d;if(h?.access){let d=Object.values(h.access).some(e=>"onlyMe"!==e.constraint);if(!e&&d)return'If any constraint is not "onlyMe", the preset must be shared'}return!0}},t3(e),{name:"where",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsWhereCell",Field:"@payloadcms/ui#QueryPresetsWhereField"}},hooks:{beforeValidate:[({data:e})=>{if(e?.where)if(tY(e.where))return e.where;else return tJ(e.where);return e?.where}]},label:"Filters"},{name:"columns",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsColumnsCell",Field:"@payloadcms/ui#QueryPresetsColumnField"}},validate:e=>{if(e)try{JSON.parse(JSON.stringify(e))}catch{return"Invalid JSON"}return!0}},{name:"relatedCollection",type:"select",admin:{hidden:!0},options:e.collections?e.collections.reduce((e,d)=>(d.enableQueryPresets&&e.push({label:d.labels?.plural||d.slug,value:d.slug}),e),[]):[],required:!0},{name:"isTemp",type:"checkbox",admin:{description:"This is a tempoary field used to determine if updating the preset would remove the user's access to it. When `true`, this record will be deleted after running the preset's `validate` function.",disabled:!0,hidden:!0}}],hooks:{beforeValidate:[({data:e,operation:d,req:h})=>{let m=e;if(("create"===d||"update"===d)&&(t4.forEach(e=>{m.access||(m.access={}),m.access?.[e]||(m[e]={}),m.access[e]?.constraint||(m.access[e]={...m.access[e],constraint:"onlyMe"})}),m?.access)){let e=Object.values(m.access).some(e=>"onlyMe"!==e.constraint);m.isShared=e}return m}]},labels:{plural:"Presets",singular:"Preset",...e.queryPresets?.labels||{}},lockDocuments:!1});var t9=h(49495);let t7=({adminUserSlug:e,collections:d,globals:h})=>({slug:"schedulePublish",handler:async({input:d,req:h})=>{let m,g=d?.type!=="publish"&&d?.type?"draft":"published",y=d.user,b=null;return y&&((b=await h.payload.findByID({id:y,collection:e,depth:0})).collection=e),d?.type==="publish"&&d.locale&&h.payload.config.localization&&h.payload.config.localization.locales.find(({code:e})=>e===d.locale)&&(m=d.locale),d.doc&&await h.payload.update({id:d.doc.value,collection:d.doc.relationTo,data:{_status:g},depth:0,overrideAccess:null===b,publishSpecificLocale:m,user:b}),d.global&&await h.payload.updateGlobal({slug:d.global,data:{_status:g},depth:0,overrideAccess:null===b,publishSpecificLocale:m,user:b}),{output:{}}},inputSchema:[{name:"type",type:"radio",defaultValue:"publish",options:["publish","unpublish"]},{name:"locale",type:"text"},...d.length>0?[{name:"doc",type:"relationship",relationTo:d}]:[],{name:"global",type:"select",options:h},{name:"user",type:"relationship",relationTo:e}]}),ie="payload-folders",it="folder";"function"==typeof process?.cwd&&process.cwd(),"function"==typeof process?.cwd&&process.cwd(),tc.A,"function"==typeof process?.cwd&&process.cwd();let ii=e=>(e.admin={avatar:"gravatar",components:{},custom:{},dateFormat:"MMMM do yyyy, h:mm a",dependencies:{},theme:"all",...e.admin||{},importMap:{baseDir:`${"function"==typeof process?.cwd?process.cwd():""}`,...e?.admin?.importMap||{}},meta:{defaultOGImageType:"dynamic",robots:"noindex, nofollow",titleSuffix:"- Payload",...e?.admin?.meta||{}},routes:{account:"/account",browseByFolder:"/browse-by-folder",createFirstUser:"/create-first-user",forgot:"/forgot",inactivity:"/logout-inactivity",login:"/login",logout:"/logout",reset:"/reset",unauthorized:"/unauthorized",...e?.admin?.routes||{}}},e.folders={slug:ie,debug:!1,fieldName:it,...e.folders||{}},e.bin=e.bin??[],e.collections=e.collections??[],e.cookiePrefix=e.cookiePrefix??"payload",e.cors=e.cors??[],e.csrf=e.csrf??[],e.custom=e.custom??{},e.defaultDepth=e.defaultDepth??2,e.defaultMaxTextLength=e.defaultMaxTextLength??4e4,e.endpoints=e.endpoints??[],e.globals=e.globals??[],e.graphQL={disablePlaygroundInProduction:!0,maxComplexity:1e3,schemaOutputFile:`${"function"==typeof process?.cwd?process.cwd():""}/schema.graphql`,...e.graphQL||{}},e.hooks=e.hooks??{},e.i18n=e.i18n??{},e.jobs={deleteJobOnComplete:!0,depth:0,...e.jobs||{},access:{run:tc.A,...e.jobs?.access||{}}},e.localization=e.localization??!1,e.maxDepth=e.maxDepth??10,e.routes={admin:"/admin",api:(process.env.NEXT_BASE_PATH??"")+"/api",graphQL:"/graphql",graphQLPlayground:"/graphql-playground",...e.routes||{}},e.serverURL=e.serverURL??"",e.telemetry=e.telemetry??!0,e.typescript={autoGenerate:!0,outputFile:`${"function"==typeof process?.cwd?process.cwd():""}/payload-types.ts`,...e.typescript||{}},e.upload=e.upload??{},e.auth={jwtOrder:["JWT","Bearer","cookie"],...e.auth||{}},e);var ir=h(25760);let ia="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function is(e,d,h){let m=h[0];if(null!=d&&e>=d)throw Error(e+" >= "+d);if(e.slice(-1)===m||d&&d.slice(-1)===m)throw Error("trailing zero");if(d){let g=0;for(;(e[g]||m)===d[g];)g++;if(g>0)return d.slice(0,g)+is(e.slice(g),d.slice(g),h)}let g=e?h.indexOf(e[0]):0,y=null!=d?h.indexOf(d[0]):h.length;return y-g>1?h[Math.round(.5*(g+y))]:d&&d.length>1?d.slice(0,1):h[g]+is(e.slice(1),null,h)}function io(e){if(e.length!==il(e[0]))throw Error("invalid integer part of order key: "+e)}function il(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-97+2;if(e>="A"&&e<="Z")return 90-e.charCodeAt(0)+2;throw Error("invalid order key head: "+e)}function id(e){let d=il(e[0]);if(d>e.length)throw Error("invalid order key: "+e);return e.slice(0,d)}function ic(e,d){if(e==="A"+d[0].repeat(26))throw Error("invalid order key: "+e);let h=id(e);if(e.slice(h.length).slice(-1)===d[0])throw Error("invalid order key: "+e)}function ip(e,d){io(e);let[h,...m]=e.split(""),g=!0;for(let e=m.length-1;g&&e>=0;e--){let h=d.indexOf(m[e])+1;h===d.length?m[e]=d[0]:(m[e]=d[h],g=!1)}if(!g)return h+m.join("");{if("Z"===h)return"a"+d[0];if("z"===h)return null;let e=String.fromCharCode(h.charCodeAt(0)+1);return e>"a"?m.push(d[0]):m.pop(),e+m.join("")}}function iu(e,d){io(e);let[h,...m]=e.split(""),g=!0;for(let e=m.length-1;g&&e>=0;e--){let h=d.indexOf(m[e])-1;-1===h?m[e]=d.slice(-1):(m[e]=d[h],g=!1)}if(!g)return h+m.join("");{if("a"===h)return"Z"+d.slice(-1);if("A"===h)return null;let e=String.fromCharCode(h.charCodeAt(0)-1);return e<"Z"?m.push(d.slice(-1)):m.pop(),e+m.join("")}}function ih(e,d,h=ia){if(null!=e&&ic(e,h),null!=d&&ic(d,h),null!=e&&null!=d&&e>=d)throw Error(e+" >= "+d);if(null==e){if(null==d)return"a"+h[0];let e=id(d),m=d.slice(e.length);if(e==="A"+h[0].repeat(26))return e+is("",m,h);if(e<d)return e;let g=iu(e,h);if(null==g)throw Error("cannot decrement any more");return g}if(null==d){let d=id(e),m=e.slice(d.length),g=ip(d,h);return null==g?d+is(m,null,h):g}let m=id(e),g=e.slice(m.length),y=id(d),b=d.slice(y.length);if(m===y)return m+is(g,b,h);let v=ip(m,h);if(null==v)throw Error("cannot increment any more");return v<d?v:m+is(g,null,h)}function im(e,d,h,m=ia){if(0===h)return[];if(1===h)return[ih(e,d,m)];if(null==d){let g=ih(e,d,m),y=[g];for(let e=0;e<h-1;e++)y.push(g=ih(g,d,m));return y}if(null==e){let g=ih(e,d,m),y=[g];for(let d=0;d<h-1;d++)y.push(g=ih(e,g,m));return y.reverse(),y}let g=Math.floor(h/2),y=ih(e,d,m);return[...im(e,y,g,m),y,...im(y,d,h-g-1,m)]}let ig=e=>{let d=new Map;e.collections.forEach(h=>{if(h.orderable){let e=d.get(h)||[];d.set(h,[...e,"_order"]),h.defaultSort=h.defaultSort??"_order"}(0,ir.m)({callback:({field:h,parentRef:m,ref:g})=>{if("array"===h.type||"blocks"===h.type)return!1;if("group"===h.type||"tab"===h.type){let e=m?.prefix?`${m.prefix}_`:"";g.prefix=`${e}${h.name}`}if("join"===h.type&&!0===h.orderable){if(Array.isArray(h.collection))throw new T.L("Orderable joins must target a single collection",S.h.BAD_REQUEST,{},!0);let g=e.collections.find(e=>e.slug===h.collection);if(!g)return!1;h.defaultSort=h.defaultSort??`_${h.collection}_${h.name}_order`;let y=d.get(g)||[],b=m?.prefix?`${m.prefix}_`:"";d.set(g,[...y,`_${h.collection}_${b}${h.name}_order`])}},fields:h.fields})}),Array.from(d.entries()).forEach(([e,d])=>{iy(e,d)}),d.size>0&&ib(e)},iy=(e,d)=>{d.forEach(d=>{let h={name:d,type:"text",admin:{disableBulkEdit:!0,disabled:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0,readOnly:!0},hooks:{beforeDuplicate:[({siblingData:e})=>{delete e[d]}]},index:!0};e.fields.unshift(h)}),e.hooks||(e.hooks={}),e.hooks.beforeChange||(e.hooks.beforeChange=[]);let h=async({data:h,originalDoc:m,req:g})=>{for(let y of d)if(!h[y]&&!m?.[y]){let d=await g.payload.find({collection:e.slug,depth:0,limit:1,pagination:!1,req:g,select:{[y]:!0},sort:`-${y}`,where:{[y]:{exists:!0}}}),m=d.docs[0]?.[y]||null;h[y]=ih(m,null)}return h};e.hooks.beforeChange.push(h)},ib=e=>{let d={handler:async d=>{let{collectionSlug:h,docsToMove:m,newKeyWillBe:g,orderableFieldName:y,target:b}=await d.json?.();if(!Array.isArray(m)||0===m.length)return new Response(JSON.stringify({error:"docsToMove must be a non-empty array"}),{headers:{"Content-Type":"application/json"},status:400});if("greater"!==g&&"less"!==g)return new Response(JSON.stringify({error:'newKeyWillBe must be "greater" or "less"'}),{headers:{"Content-Type":"application/json"},status:400});let v=e.collections.find(e=>e.slug===h);if(!v)return new Response(JSON.stringify({error:`Collection ${h} not found`}),{headers:{"Content-Type":"application/json"},status:400});if("string"!=typeof y)return new Response(JSON.stringify({error:"orderableFieldName must be a string"}),{headers:{"Content-Type":"application/json"},status:400});if(v.access?.update&&await (0,eT.A)({id:m[0],data:{},req:d},v.access.update),!b.key){let{docs:e}=await d.payload.find({collection:v.slug,depth:0,limit:0,req:d,select:{[y]:!0},where:{[y]:{exists:!1}}});await (0,W.n)(d);try{for(let h of e)await d.payload.update({id:h.id,collection:v.slug,data:{},depth:0,req:d}),await (0,G.w)(d)}catch(e){if(await (0,J.J)(d),e instanceof Error)throw new T.L(e.message,S.h.INTERNAL_SERVER_ERROR)}return new Response(JSON.stringify({message:"initial migration",success:!0}),{headers:{"Content-Type":"application/json"},status:200})}if("object"!=typeof b||void 0===b.id||"string"!=typeof b.key)return new Response(JSON.stringify({error:"target must be an object with id"}),{headers:{"Content-Type":"application/json"},status:400});let w=b.id,x=b.key;if("pending"===x){let e=await d.payload.findByID({id:w,collection:v.slug,depth:0,select:{[y]:!0}});x=e?.[y]||null}let _=await d.payload.find({collection:v.slug,depth:0,limit:1,pagination:!1,select:{[y]:!0},sort:"greater"===g?y:`-${y}`,where:{[y]:{["greater"===g?"greater_than":"less_than"]:x}}}),E=_.docs?.[0]?.[y]||null,k="greater"===g?im(x,E,m.length):im(E,x,m.length);for(let[e,h]of m.entries())await d.payload.update({id:h,collection:v.slug,data:{[y]:k[e]},depth:0,req:d});return new Response(JSON.stringify({orderValues:k,success:!0}),{headers:{"Content-Type":"application/json"},status:200})},method:"post",path:"/reorder"};e.endpoints||(e.endpoints=[]),e.endpoints.push(d)},iv=e=>{let d={...e};if(e?.compatibility?.allowLocalizedWithinLocalized&&(process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized="true"),d.loggingLevels={Forbidden:"info",Locked:"info",MissingFile:"info",NotFound:"info",ValidationError:"info",...d.loggingLevels||{}},!d?.admin?.user){let e=d.collections.find(({auth:e})=>!!e);e?d.admin.user=e.slug:(d.admin.user=y.slug,d.collections.push(y))}let h=d.collections.find(({slug:e})=>e===d.admin.user);if(!h||!h.auth)throw new tm.s(`${d.admin.user} is not a valid admin user collection`);d?.admin?.timezones?("function"==typeof d?.admin?.timezones?.supportedTimezones&&(d.admin.timezones.supportedTimezones=d.admin.timezones.supportedTimezones({defaultTimezones:tx.Y})),d?.admin?.timezones?.supportedTimezones||(d.admin.timezones.supportedTimezones=tx.Y)):d.admin.timezones={supportedTimezones:tx.Y};let m=Intl.supportedValuesOf("timeZone");return d.admin.timezones.supportedTimezones.forEach(e=>{if(!m.includes(e.value))throw new tm.s(`Timezone ${e.value} is not supported by the current runtime via the Intl API.`)}),d},iw=async e=>{let d=ii(e),h=iv(d);for(let e of(ig(h),h.endpoints||(h.endpoints=[]),en))h.endpoints.push(e);h.localization&&h.localization.locales?.length>0&&("string"==typeof h.localization.locales[0]?(h.localization.localeCodes=[...h.localization.locales],h.localization.locales=h.localization.locales.map(e=>({code:e,label:e,rtl:!1,toString:()=>e}))):(h.localization.localeCodes=h.localization.locales.map(e=>e.code),h.localization.locales=h.localization.locales.map(e=>({...e,toString:()=>e.code}))),h.localization.fallback=h.localization?.fallback??!0);let y={fallbackLanguage:"en",supportedLanguages:{en:m.en},translations:{}};if(e?.i18n){y.supportedLanguages=e.i18n?.supportedLanguages||y.supportedLanguages;let d=Object.keys(y.supportedLanguages),h=e.i18n?.fallbackLanguage||y.fallbackLanguage;y.fallbackLanguage=d.includes(h)?h:d[0],y.translations=e.i18n?.translations||y.translations}h.i18n=y;let b=[],v=[],w=[],S=[],x=new Set;await tO(h);let _=[...h.collections.map(e=>e.slug)??[],t9.SJ,tG.q,tW.Y];if(h.blocks=[],e.blocks?.length)for(let d of e.blocks){let e=d;if(!0===e._sanitized)continue;e._sanitized=!0,e.fields=e.fields.concat(tK.s),e.labels=e.labels?e.labels:(0,eU.h6)(e.slug),e.fields=await (0,ey.b)({config:h,existingFieldNames:new Set,fields:e.fields,parentIsLocalized:!1,richTextSanitizationPromises:b,validRelationships:_});let m=(0,ej.Q)({block:d});h.blocks.push(m)}for(let e=0;e<h.collections.length;e++){if(x.has(h.collections[e].slug))throw new tS("slug",h.collections[e].slug);x.add(h.collections[e].slug);let d=h.collections[e]?.versions?.drafts;"object"==typeof d&&d.schedulePublish&&v.push(h.collections[e].slug),h.collections[e].enableQueryPresets&&(w.push(h.collections[e].slug),_.includes(t5)||_.push(t5)),h.collections[e]=await tv(h,h.collections[e],b,_)}if(h.globals.length>0)for(let e=0;e<h.globals.length;e++){let d=h.globals[e]?.versions?.drafts;"object"==typeof d&&d.schedulePublish&&S.push(h.globals[e].slug),h.globals[e]=await tH(h,h.globals[e],b,_)}if((v.length>0||S.length>0)&&(Array.isArray(d.jobs?.tasks)||(d.jobs.tasks=[]),d.jobs.tasks.push(t7({adminUserSlug:h.admin.user,collections:v,globals:S}))),Array.isArray(d.jobs?.tasks)&&d.jobs?.tasks?.length||Array.isArray(d.jobs?.workflows)&&d.jobs?.workflows?.length){let e=(0,t9.MT)(h);if(e){if("function"==typeof d.jobs.jobsCollectionOverrides){e=d.jobs.jobsCollectionOverrides({defaultJobsCollection:e});let m=e?.hooks;if(m&&h?.jobs?.runHooks!==!0)for(let e of Object.keys(m)){let d=+("afterRead"===e||"beforeChange"===e);if(m[e]?.length>d){console.warn(`The jobsCollectionOverrides function is returning a collection with an additional ${e} hook defined. These hooks will not run unless the jobs.runHooks option is set to true. Setting this option to true will negatively impact performance.`);break}}}let m=await tv(h,e,b,_);d.collections.push(m)}}d.collections.push(await tv(h,(0,tG.l)(h),b,_)),d.collections.push(await tv(h,(0,tW.p)(h),b,_)),d.collections.push(await tv(h,tw,b,_)),w.length>0&&d.collections.push(await tv(h,t8(h),b,_)),""!==h.serverURL&&h.csrf.push(h.serverURL);let E=new Set;for(let e of h.collections)e.upload?.adapter&&E.add(e.upload.adapter);h.upload||(h.upload={adapters:[]}),h.upload.adapters=Array.from(new Set(h.collections.map(e=>e.upload?.adapter).filter(Boolean))),e.email&&(h.email=e.email),"function"==typeof e.editor&&(h.editor=await e.editor({config:h,isRoot:!0,parentIsLocalized:!1}),h.editor.i18n&&Object.keys(h.editor.i18n).length>=0&&(h.i18n.translations=(0,g.p)(h.i18n.translations,h.editor.i18n)));let T=[];for(let e of b)T.push(e(h));return await Promise.all(T),h};async function iS(e){if(Array.isArray(e.plugins)){let d=e;for(let h of e.plugins)d=await h(d);return await iw(d)}return await iw(e)}},13589:(e,d,h)=>{"use strict";h.d(d,{e:()=>b});var m=h(31303),g=h(13062),y=h(89554);class b extends y.L{constructor(e){super(e?e("error:problemUploadingFile"):m.en.translations.error.problemUploadingFile,g.h.BAD_REQUEST)}}},13616:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{DEFAULT_UA_APP_ID:()=>E,getUserAgentMiddlewareOptions:()=>H,getUserAgentPlugin:()=>K,resolveUserAgentConfig:()=>k,userAgentMiddleware:()=>q}),e.exports=S(x);var _=h(55324),E=void 0;function T(e){return void 0===e||"string"==typeof e&&e.length<=50}function k(e){let d=(0,_.normalizeProvider)(e.userAgentAppId??E),{customUserAgent:h}=e;return Object.assign(e,{customUserAgent:"string"==typeof h?[[h]]:h,userAgentAppId:v(async()=>{let h=await d();if(!T(h)){let d=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?e.logger:console;"string"!=typeof h?d?.warn("userAgentAppId must be a string or undefined."):h.length>50&&d?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return h},"userAgentAppId")})}v(T,"isValidUserAgentAppId"),v(k,"resolveUserAgentConfig");var C=h(9242),P=h(96543),O=h(48722),I=/\d{12}\.ddb/;async function R(e,d,h){let m=h.request;if(m?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,O.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof d.retryStrategy){let h=await d.retryStrategy();"function"==typeof h.acquireInitialRetryToken?h.constructor?.name?.includes("Adaptive")?(0,O.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,O.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,O.setFeature)(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof d.accountIdEndpointMode){let h=e.endpointV2;switch(String(h?.url?.hostname).match(I)&&(0,O.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await d.accountIdEndpointMode?.()){case"disabled":(0,O.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,O.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,O.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}let g=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(g?.$source){let d=g;for(let[h,m]of(d.accountId&&(0,O.setFeature)(e,"RESOLVED_ACCOUNT_ID","T"),Object.entries(d.$source??{})))(0,O.setFeature)(e,h,m)}}v(R,"checkFeatures");var D="user-agent",L="x-amz-user-agent",$=" ",M="/",B=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,j=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,U="-",F=1024;function z(e){let d="";for(let h in e){let m=e[h];if(d.length+m.length+1<=F){d.length?d+=","+m:d+=m;continue}break}return d}v(z,"encodeFeatures");var q=v(e=>(d,h)=>async m=>{let{request:g}=m;if(!P.HttpRequest.isInstance(g))return d(m);let{headers:y}=g,b=h?.userAgent?.map(V)||[],v=(await e.defaultUserAgentProvider()).map(V);await R(h,e,m);let w=h;v.push(`m/${z(Object.assign({},h.__smithy_context?.features,w.__aws_sdk_context?.features))}`);let S=e?.customUserAgent?.map(V)||[],x=await e.userAgentAppId();x&&v.push(V([`app/${x}`]));let _=(0,C.getUserAgentPrefix)(),E=(_?[_]:[]).concat([...v,...b,...S]).join($),T=[...v.filter(e=>e.startsWith("aws-sdk-")),...S].join($);return"browser"!==e.runtime?(T&&(y[L]=y[L]?`${y[D]} ${T}`:T),y[D]=E):y[L]=E,d({...m,request:g})},"userAgentMiddleware"),V=v(e=>{let d=e[0].split(M).map(e=>e.replace(B,U)).join(M),h=e[1]?.replace(j,U),m=d.indexOf(M),g=d.substring(0,m),y=d.substring(m+1);return"api"===g&&(y=y.toLowerCase()),[g,y,h].filter(e=>e&&e.length>0).reduce((e,d,h)=>{switch(h){case 0:return d;case 1:return`${e}/${d}`;default:return`${e}#${d}`}},"")},"escapeUserAgent"),H={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},K=v(e=>({applyToStack:v(d=>{d.add(q(e),H)},"applyToStack")}),"getUserAgentPlugin")},13741:(e,d,h)=>{"use strict";h.d(d,{d1:()=>g,CX:()=>v,yT:()=>w});let m="End-Of-Stream";class g extends Error{constructor(){super(m)}}class y{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((e,d)=>{this.reject=d,this.resolve=e})}}class b{constructor(){this.maxStreamReadSize=1048576,this.endOfStream=!1,this.peekQueue=[]}async peek(e,d,h){let m=await this.read(e,d,h);return this.peekQueue.push(e.subarray(d,d+m)),m}async read(e,d,h){if(0===h)return 0;let m=this.readFromPeekBuffer(e,d,h);if(0===(m+=await this.readRemainderFromStream(e,d+m,h-m)))throw new g;return m}readFromPeekBuffer(e,d,h){let m=h,g=0;for(;this.peekQueue.length>0&&m>0;){let h=this.peekQueue.pop();if(!h)throw Error("peekData should be defined");let y=Math.min(h.length,m);e.set(h.subarray(0,y),d+g),g+=y,m-=y,y<h.length&&this.peekQueue.push(h.subarray(y))}return g}async readRemainderFromStream(e,d,h){let m=h,g=0;for(;m>0&&!this.endOfStream;){let h=Math.min(m,this.maxStreamReadSize),y=await this.readFromStream(e,d+g,h);if(0===y)break;g+=y,m-=y}return g}}class v extends b{constructor(e){if(super(),this.s=e,this.deferred=null,!e.read||!e.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new g)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async readFromStream(e,d,h){if(this.endOfStream)return 0;let m=this.s.read(h);if(m)return e.set(m,d),m.length;let g={buffer:e,offset:d,length:h,deferred:new y};return this.deferred=g.deferred,this.s.once("readable",()=>{this.readDeferred(g)}),g.deferred.promise}readDeferred(e){let d=this.s.read(e.length);d?(e.buffer.set(d,e.offset),e.deferred.resolve(d.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(e)})}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}async abort(){this.reject(Error("abort"))}async close(){return this.abort()}}class w extends b{constructor(e){super(),this.reader=e.getReader({mode:"byob"})}async readFromStream(e,d,h){if(this.endOfStream)throw new g;let m=await this.reader.read(new Uint8Array(h));return(m.done&&(this.endOfStream=m.done),m.value)?(e.set(m.value,d),m.value.byteLength):0}abort(){return this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}},13859:(e,d,h)=>{"use strict";h(11332);let{Duplex:m}=h(27910);function g(e){e.emit("close")}function y(){!this.destroyed&&this._writableState.finished&&this.destroy()}function b(e){this.removeListener("error",b),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,d){let h=!0,v=new m({...d,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(d,h){let m=!h&&v._readableState.objectMode?d.toString():d;v.push(m)||e.pause()}),e.once("error",function(e){v.destroyed||(h=!1,v.destroy(e))}),e.once("close",function(){v.destroyed||v.push(null)}),v._destroy=function(d,m){if(e.readyState===e.CLOSED){m(d),process.nextTick(g,v);return}let y=!1;e.once("error",function(e){y=!0,m(e)}),e.once("close",function(){y||m(d),process.nextTick(g,v)}),h&&e.terminate()},v._final=function(d){if(e.readyState===e.CONNECTING)return void e.once("open",function(){v._final(d)});null!==e._socket&&(e._socket._writableState.finished?(d(),v._readableState.endEmitted&&v.destroy()):(e._socket.once("finish",function(){d()}),e.close()))},v._read=function(){e.isPaused&&e.resume()},v._write=function(d,h,m){if(e.readyState===e.CONNECTING)return void e.once("open",function(){v._write(d,h,m)});e.send(d,m)},v.on("end",y),v.on("error",b),v}},13928:e=>{"use strict";var d=/["'&<>]/;e.exports=function e(e){var h,m=""+e,g=d.exec(m);if(!g)return m;var y="",b=0,v=0;for(b=g.index;b<m.length;b++){switch(m.charCodeAt(b)){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&#39;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;default:continue}v!==b&&(y+=m.substring(v,b)),v=b+1,y+=h}return v!==b?y+m.substring(v,b):y}},13969:(e,d,h)=>{"use strict";h.d(d,{A:()=>b,k:()=>y});var m=h(79540);let g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));function y(e,d=0){return g[e[d+0]]+g[e[d+1]]+g[e[d+2]]+g[e[d+3]]+"-"+g[e[d+4]]+g[e[d+5]]+"-"+g[e[d+6]]+g[e[d+7]]+"-"+g[e[d+8]]+g[e[d+9]]+"-"+g[e[d+10]]+g[e[d+11]]+g[e[d+12]]+g[e[d+13]]+g[e[d+14]]+g[e[d+15]]}let b=function(e,d=0){let h=y(e,d);if(!(0,m.A)(h))throw TypeError("Stringified UUID is invalid");return h}},13980:(e,d,h)=>{"use strict";let m=h(96501),g=process.env;function y(e){return"string"==typeof e?!!g[e]:"env"in e?g[e.env]&&g[e.env].includes(e.includes):"any"in e?e.any.some(function(e){return!!g[e]}):Object.keys(e).every(function(d){return g[d]===e[d]})}function b(e){switch(typeof e.pr){case"string":return!!g[e.pr];case"object":if("env"in e.pr)if("any"in e.pr)return e.pr.any.some(function(d){return g[e.pr.env]===d});else return e.pr.env in g&&g[e.pr.env]!==e.pr.ne;if("any"in e.pr)return e.pr.any.some(function(e){return!!g[e]});return y(e.pr);default:return null}}Object.defineProperty(d,"_vendors",{value:m.map(function(e){return e.constant})}),d.name=null,d.isPR=null,d.id=null,m.forEach(function(e){let h=(Array.isArray(e.env)?e.env:[e.env]).every(function(e){return y(e)});d[e.constant]=h,h&&(d.name=e.name,d.isPR=b(e),d.id=e.constant)}),d.isCI=!!("false"!==g.CI&&(g.BUILD_ID||g.BUILD_NUMBER||g.CI||g.CI_APP_ID||g.CI_BUILD_ID||g.CI_BUILD_NUMBER||g.CI_NAME||g.CONTINUOUS_INTEGRATION||g.RUN_ID||d.name))},13993:(e,d,h)=>{"use strict";h.d(d,{r:()=>_});var m=h(79551),g=h(77900),y=h(19131),b=h(83552),v=h(30433),w=h(71707),S=h(19966),x=h(53716);let _=async e=>{let d=e;try{let e,h=await (0,v.n)(d.req);if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection?.config,context:d.req.context,operation:"refresh",req:d.req})||d;let{collection:{config:w},req:_,req:{payload:{config:E,secret:T}}}=d;if(!d.req.user)throw new y.c(d.req.t);let k=m.parse(d.req.url).pathname===E.routes.graphQL,C=await d.req.payload.findByID({id:d.req.user.id,collection:d.req.user.collection,depth:k?0:d.collection.config.auth.depth,req:d.req});for(let h of(C&&(C.collection=d.req.user.collection,C._strategy=d.req.user._strategy),d.collection.config.hooks.refresh)){let m=await h({args:d,user:C});if(m){e=m;break}}if(!e){let h=(0,S.C)({collectionConfig:w,email:C?.email,user:d?.req?.user}),{exp:m,token:g}=await (0,x.h)({fieldsToSign:h,secret:T,tokenExpiration:w.auth.tokenExpiration});e={exp:m,refreshedToken:g,setCookie:!0,strategy:d.req.user._strategy,user:C}}if(w.hooks?.afterRefresh?.length)for(let h of w.hooks.afterRefresh)e=await h({collection:d.collection?.config,context:d.req.context,exp:e.exp,req:d.req,token:e.refreshedToken})||e;return e=await (0,g.E)({args:d,collection:d.collection?.config,operation:"refresh",result:e}),h&&await (0,b.w)(_),e}catch(e){throw await (0,w.J)(d.req),e}}},14231:(e,d,h)=>{var m,g=h(96746),y=h(69617);try{m=h(29021)}catch(e){}var b=function(){},v=/^v?\.0/.test(process.version),w=function(e){return"function"==typeof e},S=function(e){return!!v&&!!m&&(e instanceof(m.ReadStream||b)||e instanceof(m.WriteStream||b))&&w(e.close)},x=function(e){return e.setHeader&&w(e.abort)},_=function(e,d,h,m){m=g(m);var v=!1;e.on("close",function(){v=!0}),y(e,{readable:d,writable:h},function(e){if(e)return m(e);v=!0,m()});var _=!1;return function(d){if(!v&&!_){if(_=!0,S(e))return e.close(b);if(x(e))return e.abort();if(w(e.destroy))return e.destroy();m(d||Error("stream was destroyed"))}}},E=function(e){e()},T=function(e,d){return e.pipe(d)};e.exports=function(){var e,d=Array.prototype.slice.call(arguments),h=w(d[d.length-1]||b)&&d.pop()||b;if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw Error("pump requires two streams per minimum");var m=d.map(function(g,y){var b=y<d.length-1;return _(g,b,y>0,function(d){e||(e=d),d&&m.forEach(E),b||(m.forEach(E),h(e))})});return d.reduce(T)}},14232:e=>{"use strict";e.exports={WRITE_INDEX:4,READ_INDEX:8}},14577:(e,d,h)=>{"use strict";let m=h(97750);class g extends m{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}e.exports=g},14603:(e,d,h)=>{"use strict";h.d(d,{M:()=>b});var m=h(31303),g=h(13062),y=h(89554);class b extends y.L{constructor(e){super(e?e("general:notFound"):m.en.translations.general.notFound,g.h.NOT_FOUND)}}},14625:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isEmptyData=void 0,d.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},14634:(e,d,h)=>{"use strict";h.d(d,{C:()=>m});let m=e=>new Date(Date.now()+e)},15060:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromArrayBuffer:()=>y,fromString:()=>b});var m=h(90288),g=h(79428);let y=(e,d=0,h=e.byteLength-d)=>{if(!(0,m.isArrayBuffer)(e))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return g.Buffer.from(e,d,h)},b=(e,d)=>{if("string"!=typeof e)throw TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return d?g.Buffer.from(e,d):g.Buffer.from(e)}},15329:(e,d,h)=>{"use strict";h.d(d,{Rq:()=>m,$3:()=>g});let m=e=>({setRegion(d){e.region=d},region:()=>e.region}),g=e=>({region:e.region()})},15428:(e,d,h)=>{"use strict";h.d(d,{m:()=>v});var m=h(57650),g=h(74290),y=h(86292);let b=async({blockData:e,collection:d,context:h,data:b,doc:w,field:S,fieldIndex:x,global:_,operation:E,parentIndexPath:T,parentIsLocalized:k,parentPath:C,parentSchemaPath:P,previousDoc:O,previousSiblingDoc:I,req:R,siblingData:D,siblingDoc:L,siblingFields:$})=>{let{indexPath:M,path:B,schemaPath:j}=(0,y.I)({field:S,index:x,parentIndexPath:T,parentPath:C,parentSchemaPath:P}),U=B?B.split("."):[],F=j?j.split("."):[],z=M?M.split("-").filter(Boolean)?.map(Number):[];if((0,g.Z7)(S)&&S.hooks?.afterChange)for(let m of S.hooks.afterChange){let g=await m({blockData:e,collection:d,context:h,data:b,field:S,global:_,indexPath:z,operation:E,originalDoc:w,path:U,previousDoc:O,previousSiblingDoc:I,previousValue:O[S.name],req:R,schemaPath:F,siblingData:D,siblingFields:$,value:L[S.name]});void 0!==g&&(L[S.name]=g)}switch(S.type){case"array":{let m=L[S.name];if(Array.isArray(m)){let g=[];m.forEach((m,y)=>{g.push(v({blockData:e,collection:d,context:h,data:b,doc:w,fields:S.fields,global:_,operation:E,parentIndexPath:"",parentIsLocalized:k||S.localized,parentPath:B+"."+y,parentSchemaPath:j,previousDoc:O,previousSiblingDoc:O?.[S.name]?.[y]||{},req:R,siblingData:D?.[S.name]?.[y]||{},siblingDoc:m?{...m}:{}}))}),await Promise.all(g)}break}case"blocks":{let e=L[S.name];if(Array.isArray(e)){let m=[];e.forEach((e,g)=>{let y=e.blockType,x=R.payload.blocks[y]??(S.blockReferences??S.blocks).find(e=>"string"!=typeof e&&e.slug===y);x&&m.push(v({blockData:D?.[S.name]?.[g],collection:d,context:h,data:b,doc:w,fields:x.fields,global:_,operation:E,parentIndexPath:"",parentIsLocalized:k||S.localized,parentPath:B+"."+g,parentSchemaPath:j+"."+x.slug,previousDoc:O,previousSiblingDoc:O?.[S.name]?.[g]||{},req:R,siblingData:D?.[S.name]?.[g]||{},siblingDoc:e?{...e}:{}}))}),await Promise.all(m)}break}case"collapsible":case"row":await v({blockData:e,collection:d,context:h,data:b,doc:w,fields:S.fields,global:_,operation:E,parentIndexPath:M,parentIsLocalized:k,parentPath:C,parentSchemaPath:j,previousDoc:O,previousSiblingDoc:{...I},req:R,siblingData:D||{},siblingDoc:{...L}});break;case"group":(0,g.Z7)(S)?await v({blockData:e,collection:d,context:h,data:b,doc:w,fields:S.fields,global:_,operation:E,parentIndexPath:"",parentIsLocalized:k||S.localized,parentPath:B,parentSchemaPath:j,previousDoc:O,previousSiblingDoc:O[S.name],req:R,siblingData:D?.[S.name]||{},siblingDoc:L[S.name]}):await v({blockData:e,collection:d,context:h,data:b,doc:w,fields:S.fields,global:_,operation:E,parentIndexPath:M,parentIsLocalized:k,parentPath:C,parentSchemaPath:j,previousDoc:O,previousSiblingDoc:{...I},req:R,siblingData:D||{},siblingDoc:{...L}});break;case"richText":{if(!S?.editor)throw new m.X(S);if("function"==typeof S.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=S.editor;if(e?.hooks?.afterChange?.length)for(let m of e.hooks.afterChange){let e=await m({collection:d,context:h,data:b,field:S,global:_,indexPath:z,operation:E,originalDoc:w,parentIsLocalized:k,path:U,previousDoc:O,previousSiblingDoc:I,previousValue:O[S.name],req:R,schemaPath:F,siblingData:D,value:L[S.name]});void 0!==e&&(L[S.name]=e)}break}case"tab":{let m=D,y=L,x=L,T=(0,g.pz)(S);T&&(m=D[S.name]??{},y=L[S.name]??{},x=O[S.name]??{}),await v({blockData:e,collection:d,context:h,data:b,doc:w,fields:S.fields,global:_,operation:E,parentIndexPath:T?"":M,parentIsLocalized:k||S.localized,parentPath:T?B:C,parentSchemaPath:j,previousDoc:O,previousSiblingDoc:x,req:R,siblingData:m,siblingDoc:y});break}case"tabs":await v({blockData:e,collection:d,context:h,data:b,doc:w,fields:S.tabs.map(e=>({...e,type:"tab"})),global:_,operation:E,parentIndexPath:M,parentIsLocalized:k,parentPath:B,parentSchemaPath:j,previousDoc:O,previousSiblingDoc:{...I},req:R,siblingData:D||{},siblingDoc:{...L}})}},v=async({blockData:e,collection:d,context:h,data:m,doc:g,fields:y,global:v,operation:w,parentIndexPath:S,parentIsLocalized:x,parentPath:_,parentSchemaPath:E,previousDoc:T,previousSiblingDoc:k,req:C,siblingData:P,siblingDoc:O,siblingFields:I})=>{let R=[];y.forEach((y,D)=>{R.push(b({blockData:e,collection:d,context:h,data:m,doc:g,field:y,fieldIndex:D,global:v,operation:w,parentIndexPath:S,parentIsLocalized:x,parentPath:_,parentSchemaPath:E,previousDoc:T,previousSiblingDoc:k,req:C,siblingData:P,siblingDoc:O,siblingFields:I}))}),await Promise.all(R)}},15521:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934),y=h(11622),b=h(22054);d.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,m.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,m._)`{limit: ${e}}`},code(e){let{schema:d,parentSchema:h,it:m}=e,{prefixItems:v}=h;m.items=!0,(0,g.alwaysValidSchema)(m,d)||(v?(0,b.validateAdditionalItems)(e,v):e.ok((0,y.validateArray)(e)))}}},15643:(e,d,h)=>{"use strict";let m=h(94735).EventEmitter,g=function(){},y=(e,d)=>{let h=e.findIndex(d);return -1===h?void 0:e.splice(h,1)[0]};class b{constructor(e,d,h){this.client=e,this.idleListener=d,this.timeoutId=h}}class v{constructor(e){this.callback=e}}function w(){throw Error("Release called on client which has already been released to the pool.")}function S(e,d){let h,m;return d?{callback:d,result:void 0}:{callback:function(e,d){e?h(e):m(d)},result:new e(function(e,d){m=e,h=d}).catch(e=>{throw Error.captureStackTrace(e),e})}}function x(e,d){return function h(m){m.client=d,d.removeListener("error",h),d.on("error",()=>{e.log("additional client error after disconnection due to error",m)}),e._remove(d),e.emit("error",m,d)}}class _ extends m{constructor(e,d){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),null!=e&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||d||h(22772).Client,this.Promise=this.options.Promise||global.Promise,void 0===this.options.idleTimeoutMillis&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let d=this._idle.pop();clearTimeout(d.timeoutId);let h=d.client;h.ref&&h.ref();let m=d.idleListener;return this._acquireClient(h,e,m,!1)}if(!this._isFull())return this.newClient(e);throw Error("unexpected condition")}_remove(e){let d=y(this._idle,d=>d.client===e);void 0!==d&&clearTimeout(d.timeoutId),this._clients=this._clients.filter(d=>d!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){let d=Error("Cannot use a pool after calling end on the pool");return e?e(d):this.Promise.reject(d)}let d=S(this.Promise,e),h=d.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new v(d.callback)),h;let e=(e,h,m)=>{clearTimeout(g),d.callback(e,h,m)},m=new v(e),g=setTimeout(()=>{y(this._pendingQueue,d=>d.callback===e),m.timedOut=!0,d.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return g.unref&&g.unref(),this._pendingQueue.push(m),h}return this.newClient(new v(d.callback)),h}newClient(e){let d,h=new this.Client(this.options);this._clients.push(h);let m=x(this,h);this.log("checking client timeout");let y=!1;this.options.connectionTimeoutMillis&&(d=setTimeout(()=>{this.log("ending client due to timeout"),y=!0,h.connection?h.connection.stream.destroy():h.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),h.connect(b=>{if(d&&clearTimeout(d),h.on("error",m),b)this.log("client failed to connect",b),this._clients=this._clients.filter(e=>e!==h),y&&(b=Error("Connection terminated due to connection timeout",{cause:b})),this._pulseQueue(),e.timedOut||e.callback(b,void 0,g);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let e=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(h),-1!==this._idle.findIndex(e=>e.client===h)&&this._acquireClient(h,new v((e,d,h)=>h()),m,!1)},1e3*this.options.maxLifetimeSeconds);e.unref(),h.once("end",()=>clearTimeout(e))}return this._acquireClient(h,e,m,!0)}})}_acquireClient(e,d,h,m){m&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,h),e.removeListener("error",h),d.timedOut?m&&this.options.verify?this.options.verify(e,e.release):e.release():m&&this.options.verify?this.options.verify(e,h=>{if(h)return e.release(h),d.callback(h,void 0,g);d.callback(void 0,e,e.release)}):d.callback(void 0,e,e.release)}_releaseOnce(e,d){let h=!1;return m=>{h&&w(),h=!0,this._release(e,d,m)}}_release(e,d,h){let m;if(e.on("error",d),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",h,e),h||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log("remove expired client"),this._expired.delete(e),this._remove(e),this._pulseQueue();return}this.options.idleTimeoutMillis&&this._isAboveMin()&&(m=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&m.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new b(e,d,m)),this._pulseQueue()}query(e,d,h){if("function"==typeof e){let d=S(this.Promise,e);return setImmediate(function(){return d.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),d.result}"function"==typeof d&&(h=d,d=void 0);let m=S(this.Promise,h);return h=m.callback,this.connect((m,g)=>{if(m)return h(m);let y=!1,b=e=>{y||(y=!0,g.release(e),h(e))};g.once("error",b),this.log("dispatching query");try{g.query(e,d,(e,d)=>{if(this.log("query dispatched"),g.removeListener("error",b),!y)return(y=!0,g.release(e),e)?h(e):h(void 0,d)})}catch(e){return g.release(e),h(e)}}),m.result}end(e){if(this.log("ending"),this.ending){let d=Error("Called end on pool more than once");return e?e(d):this.Promise.reject(d)}this.ending=!0;let d=S(this.Promise,e);return this._endCallback=d.callback,this._pulseQueue(),d.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,d)=>e+ +!!this._expired.has(d),0)}get totalCount(){return this._clients.length}}e.exports=_},15682:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromHex:()=>y,toHex:()=>b});let m={},g={};for(let e=0;e<256;e++){let d=e.toString(16).toLowerCase();1===d.length&&(d=`0${d}`),m[e]=d,g[d]=e}function y(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let d=new Uint8Array(e.length/2);for(let h=0;h<e.length;h+=2){let m=e.slice(h,h+2).toLowerCase();if(m in g)d[h/2]=g[m];else throw Error(`Cannot decode unrecognized sequence ${m} as hexadecimal`)}return d}function b(e){let d="";for(let h=0;h<e.byteLength;h++)d+=m[e[h]];return d}},15783:(e,d,h)=>{"use strict";h.d(d,{m:()=>_});var m=h(57650),g=h(74290),y=h(86292),b=h(21808),v=h(11770);let w=e=>Array.isArray(e)?e.map(e=>"object"==typeof e&&null!=e?{...e}:e):"object"==typeof e&&null!==e?{...e}:e;async function S({field:e,req:d,siblingDoc:h}){let m;return"name"in e&&e.name&&(void 0!==h[e.name]?m=w(h[e.name]):"defaultValue"in e&&void 0!==e.defaultValue&&(m=await (0,v.B)({defaultValue:e.defaultValue,locale:d.locale||"",req:d,user:d.user}))),m}let x=async({id:e,blockData:d,collection:h,context:v,data:w,doc:x,field:E,fieldIndex:T,global:k,operation:C,overrideAccess:P,parentIndexPath:O,parentIsLocalized:I,parentPath:R,parentSchemaPath:D,req:L,siblingData:$,siblingDoc:M,siblingFields:B})=>{let{indexPath:j,path:U,schemaPath:F}=(0,y.I)({field:E,index:T,parentIndexPath:O,parentPath:R,parentSchemaPath:D}),z=U?U.split("."):[],q=F?F.split("."):[],V=j?j.split("-").filter(Boolean)?.map(Number):[];if((0,g.Z7)(E)){if("id"===E.name){if("number"===E.type&&"string"==typeof $[E.name]){let e=$[E.name];$[E.name]=parseFloat(e)}"text"===E.type&&"function"==typeof $[E.name]?.toString&&"string"!=typeof $[E.name]&&($[E.name]=$[E.name].toString())}switch(E.type){case"array":case"blocks":("0"===$[E.name]||0===$[E.name])&&($[E.name]=[]);break;case"checkbox":"true"===$[E.name]&&($[E.name]=!0),"false"===$[E.name]&&($[E.name]=!1),""===$[E.name]&&($[E.name]=!1);break;case"number":if("string"==typeof $[E.name]){let e=$[E.name].trim();$[E.name]=0===e.length?null:parseFloat(e)}break;case"point":Array.isArray($[E.name])&&($[E.name]=$[E.name].map((e,d)=>{if("string"==typeof e){let e=$[E.name][d].trim();return 0===e.length?null:parseFloat(e)}return e}));break;case"relationship":case"upload":{(""===$[E.name]||"none"===$[E.name]||"null"===$[E.name]||null===$[E.name])&&(!0===E.hasMany?$[E.name]=[]:$[E.name]=null);let e=$[E.name];if(Array.isArray(E.relationTo)){if(Array.isArray(e)&&e.forEach((e,d)=>{let h=L.payload.collections?.[e.relationTo]?.config;if("object"==typeof e.value&&e.value&&"id"in e.value&&(e.value=e.value.id),h?.fields){let m=h.fields.find(e=>(0,g.Z7)(e)&&"id"===e.name);m?.type==="number"&&($[E.name][d]={...e,value:parseFloat(e.value)})}}),!0!==E.hasMany&&(0,g.b_)(e)){let d=L.payload.collections?.[e.relationTo]?.config;if("object"==typeof e.value&&e.value&&"id"in e.value&&(e.value=e.value.id),d?.fields){let h=d.fields.find(e=>(0,g.Z7)(e)&&"id"===e.name);h?.type==="number"&&($[E.name]={...e,value:parseFloat(e.value)})}}}else if(Array.isArray(e)&&e.forEach((d,h)=>{let m=Array.isArray(E.relationTo)?void 0:L.payload.collections?.[E.relationTo]?.config;if("object"==typeof d&&d&&"id"in d&&(e[h]=d.id),m?.fields){let e=m.fields.find(e=>(0,g.Z7)(e)&&"id"===e.name);e?.type==="number"&&($[E.name][h]=parseFloat(d))}}),!0!==E.hasMany&&e){let d=L.payload.collections?.[E.relationTo]?.config;if("object"==typeof e&&e&&"id"in e&&($[E.name]=e.id),d?.fields){let h=d.fields.find(e=>(0,g.Z7)(e)&&"id"===e.name);h?.type==="number"&&($[E.name]=parseFloat(e))}}break}case"richText":if("string"==typeof $[E.name])try{let e=JSON.parse($[E.name]);$[E.name]=e}catch{}}let m={executed:!1,value:void 0};if(void 0===$[E.name]&&(m.value=await S({field:E,req:L,siblingDoc:M}),m.executed=!0),E.hooks?.beforeValidate)for(let e of E.hooks.beforeValidate){let g=await e({blockData:d,collection:h,context:v,data:w,field:E,global:k,indexPath:V,operation:C,originalDoc:x,overrideAccess:P,path:z,previousSiblingDoc:M,previousValue:M[E.name],req:L,schemaPath:q,siblingData:$,siblingFields:B,value:void 0===$[E.name]?m.value:$[E.name]});void 0!==g&&($[E.name]=g)}E.access&&E.access[C]&&(P||await E.access[C]({id:e,blockData:d,data:w,doc:x,req:L,siblingData:$})||delete $[E.name]),void 0===$[E.name]&&($[E.name]=m.executed?m.value:await S({field:E,req:L,siblingDoc:M}))}switch(E.type){case"array":{let m=$[E.name];if(Array.isArray(m)){let g=[];m.forEach((m,y)=>{g.push(_({id:e,blockData:d,collection:h,context:v,data:w,doc:x,fields:E.fields,global:k,operation:C,overrideAccess:P,parentIndexPath:"",parentIsLocalized:I||E.localized,parentPath:U+"."+y,parentSchemaPath:F,req:L,siblingData:m,siblingDoc:(0,b.G)(m,M[E.name])}))}),await Promise.all(g)}break}case"blocks":{let d=$[E.name];if(Array.isArray(d)){let m=[];d.forEach((d,g)=>{let y=(0,b.G)(d,M[E.name]),S=d.blockType||y.blockType,T=L.payload.blocks[S]??(E.blockReferences??E.blocks).find(e=>"string"!=typeof e&&e.slug===S);T&&(d.blockType=S,m.push(_({id:e,blockData:d,collection:h,context:v,data:w,doc:x,fields:T.fields,global:k,operation:C,overrideAccess:P,parentIndexPath:"",parentIsLocalized:I||E.localized,parentPath:U+"."+g,parentSchemaPath:F+"."+T.slug,req:L,siblingData:d,siblingDoc:y})))}),await Promise.all(m)}break}case"collapsible":case"row":await _({id:e,blockData:d,collection:h,context:v,data:w,doc:x,fields:E.fields,global:k,operation:C,overrideAccess:P,parentIndexPath:j,parentIsLocalized:I,parentPath:R,parentSchemaPath:F,req:L,siblingData:$,siblingDoc:M});break;case"group":{let m=$,y=M,b=(0,g.Z7)(E);b&&("object"!=typeof $[E.name]&&($[E.name]={}),"object"!=typeof M[E.name]&&(M[E.name]={}),m=$[E.name],y=M[E.name]),await _({id:e,blockData:d,collection:h,context:v,data:w,doc:x,fields:E.fields,global:k,operation:C,overrideAccess:P,parentIndexPath:b?"":j,parentIsLocalized:I||E.localized,parentPath:b?U:R,parentSchemaPath:F,req:L,siblingData:m,siblingDoc:y});break}case"richText":{if(!E?.editor)throw new m.X(E);if("function"==typeof E?.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=E?.editor;if(e?.hooks?.beforeValidate?.length)for(let d of e.hooks.beforeValidate){let e=await d({collection:h,context:v,data:w,field:E,global:k,indexPath:V,operation:C,originalDoc:x,overrideAccess:P,parentIsLocalized:I,path:z,previousSiblingDoc:M,previousValue:$[E.name],req:L,schemaPath:q,siblingData:$,value:$[E.name]});void 0!==e&&($[E.name]=e)}break}case"tab":{let m,y,b=(0,g.pz)(E);b?("object"!=typeof $[E.name]&&($[E.name]={}),"object"!=typeof M[E.name]&&(M[E.name]={}),m=$[E.name],y=M[E.name]):(m=$,y=M),await _({id:e,blockData:d,collection:h,context:v,data:w,doc:x,fields:E.fields,global:k,operation:C,overrideAccess:P,parentIndexPath:b?"":j,parentIsLocalized:I||E.localized,parentPath:b?U:R,parentSchemaPath:F,req:L,siblingData:m,siblingDoc:y});break}case"tabs":await _({id:e,blockData:d,collection:h,context:v,data:w,doc:x,fields:E.tabs.map(e=>({...e,type:"tab"})),global:k,operation:C,overrideAccess:P,parentIndexPath:j,parentIsLocalized:I,parentPath:U,parentSchemaPath:F,req:L,siblingData:$,siblingDoc:M})}},_=async({id:e,blockData:d,collection:h,context:m,data:g,doc:y,fields:b,global:v,operation:w,overrideAccess:S,parentIndexPath:_,parentIsLocalized:E,parentPath:T,parentSchemaPath:k,req:C,siblingData:P,siblingDoc:O})=>{let I=[];b.forEach((R,D)=>{I.push(x({id:e,blockData:d,collection:h,context:m,data:g,doc:y,field:R,fieldIndex:D,global:v,operation:w,overrideAccess:S,parentIndexPath:_,parentIsLocalized:E,parentPath:T,parentSchemaPath:k,req:C,siblingData:P,siblingDoc:O,siblingFields:b}))}),await Promise.all(I)}},15962:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046);d.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:d}){let h="maxItems"===e?"more":"fewer";return(0,m.str)`must NOT have ${h} than ${d} items`},params:({schemaCode:e})=>(0,m._)`{limit: ${e}}`},code(e){let{keyword:d,data:h,schemaCode:g}=e,y="maxItems"===d?m.operators.GT:m.operators.LT;e.fail$data((0,m._)`${h}.length ${y} ${g}`)}}},16861:(e,d,h)=>{"use strict";h.d(d,{F:()=>S});var m=h(79748),g=h(31303),y=h(13062),b=h(89554);class v extends b.L{constructor(e){super(e?e("error:deletingFile"):g.en.translations.error.deletingFile,y.h.INTERNAL_SERVER_ERROR)}}var w=h(32411);let S=async({collectionConfig:e,doc:d,files:h=[],overrideDelete:g,req:y})=>{if(e.upload&&(g||h.length>0)){let{staticDir:h}=e.upload,g=`${h}/${d.filename}`;try{await (0,w.A)(g)&&await m.unlink(g)}catch(e){throw new v(y.t)}if(d.sizes)for(let e of Object.values(d.sizes)){let d=`${h}/${e.filename}`;try{await (0,w.A)(d)&&await m.unlink(d)}catch(e){throw new v(y.t)}}}}},16943:(e,d,h)=>{"use strict";let m,g=h(74075),y=h(82854),b=h(97235),{kStatusCode:v}=h(44314),w=Buffer[Symbol.species],S=Buffer.from([0,0,255,255]),x=Symbol("permessage-deflate"),_=Symbol("total-length"),E=Symbol("callback"),T=Symbol("buffers"),k=Symbol("error");class C{constructor(e,d,h){this._maxPayload=0|h,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!d,this._deflate=null,this._inflate=null,this.params=null,m||(m=new b(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[E];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let d=this._options,h=e.find(e=>(!1!==d.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==d.serverMaxWindowBits&&("number"!=typeof d.serverMaxWindowBits||!(d.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof d.clientMaxWindowBits||!!e.client_max_window_bits));if(!h)throw Error("None of the extension offers can be accepted");return d.serverNoContextTakeover&&(h.server_no_context_takeover=!0),d.clientNoContextTakeover&&(h.client_no_context_takeover=!0),"number"==typeof d.serverMaxWindowBits&&(h.server_max_window_bits=d.serverMaxWindowBits),"number"==typeof d.clientMaxWindowBits?h.client_max_window_bits=d.clientMaxWindowBits:(!0===h.client_max_window_bits||!1===d.clientMaxWindowBits)&&delete h.client_max_window_bits,h}acceptAsClient(e){let d=e[0];if(!1===this._options.clientNoContextTakeover&&d.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(d.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&d.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(d.client_max_window_bits=this._options.clientMaxWindowBits);return d}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(d=>{let h=e[d];if(h.length>1)throw Error(`Parameter "${d}" must have only a single value`);if(h=h[0],"client_max_window_bits"===d){if(!0!==h){let e=+h;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${d}": ${h}`);h=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${d}": ${h}`)}else if("server_max_window_bits"===d){let e=+h;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${d}": ${h}`);h=e}else if("client_no_context_takeover"===d||"server_no_context_takeover"===d){if(!0!==h)throw TypeError(`Invalid value for parameter "${d}": ${h}`)}else throw Error(`Unknown parameter "${d}"`);e[d]=h})}),e}decompress(e,d,h){m.add(m=>{this._decompress(e,d,(e,d)=>{m(),h(e,d)})})}compress(e,d,h){m.add(m=>{this._compress(e,d,(e,d)=>{m(),h(e,d)})})}_decompress(e,d,h){let m=this._isServer?"client":"server";if(!this._inflate){let e=`${m}_max_window_bits`,d="number"!=typeof this.params[e]?g.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=g.createInflateRaw({...this._options.zlibInflateOptions,windowBits:d}),this._inflate[x]=this,this._inflate[_]=0,this._inflate[T]=[],this._inflate.on("error",I),this._inflate.on("data",O)}this._inflate[E]=h,this._inflate.write(e),d&&this._inflate.write(S),this._inflate.flush(()=>{let e=this._inflate[k];if(e){this._inflate.close(),this._inflate=null,h(e);return}let g=y.concat(this._inflate[T],this._inflate[_]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[_]=0,this._inflate[T]=[],d&&this.params[`${m}_no_context_takeover`]&&this._inflate.reset()),h(null,g)})}_compress(e,d,h){let m=this._isServer?"server":"client";if(!this._deflate){let e=`${m}_max_window_bits`,d="number"!=typeof this.params[e]?g.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=g.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:d}),this._deflate[_]=0,this._deflate[T]=[],this._deflate.on("data",P)}this._deflate[E]=h,this._deflate.write(e),this._deflate.flush(g.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=y.concat(this._deflate[T],this._deflate[_]);d&&(e=new w(e.buffer,e.byteOffset,e.length-4)),this._deflate[E]=null,this._deflate[_]=0,this._deflate[T]=[],d&&this.params[`${m}_no_context_takeover`]&&this._deflate.reset(),h(null,e)})}}function P(e){this[T].push(e),this[_]+=e.length}function O(e){if(this[_]+=e.length,this[x]._maxPayload<1||this[_]<=this[x]._maxPayload)return void this[T].push(e);this[k]=RangeError("Max payload size exceeded"),this[k].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[k][v]=1009,this.removeListener("data",O),this.reset()}function I(e){if(this[x]._inflate=null,this[k])return void this[E](this[k]);e[v]=1007,this[E](e)}e.exports=C},17077:(e,d,h)=>{"use strict";e.exports={TextPrompt:h(33106),SelectPrompt:h(11689),TogglePrompt:h(95385),DatePrompt:h(44645),NumberPrompt:h(95040),MultiselectPrompt:h(49876),AutocompletePrompt:h(57369),AutocompleteMultiselectPrompt:h(48236),ConfirmPrompt:h(44697)}},17212:(e,d,h)=>{let m=h(52838),g=h(60646),{style:y,clear:b}=h(31347),{cursor:v,erase:w}=h(41893);class S extends g{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,d){if(" "===e)this.value=!this.value;else if("1"===e)this.value=!0;else{if("0"!==e)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(v.hide):this.out.write(b(this.outputText,this.out.columns)),super.render(),this.outputText=[y.symbol(this.done,this.aborted),m.bold(this.msg),y.delimiter(this.done),this.value?this.inactive:m.cyan().underline(this.inactive),m.gray("/"),this.value?m.cyan().underline(this.active):this.active].join(" "),this.out.write(w.line+v.to(0)+this.outputText))}}e.exports=S},17500:e=>{"use strict";function d(e,d){return d}e.exports=function(){let e=Error.prepareStackTrace;Error.prepareStackTrace=d;let h=Error().stack;if(Error.prepareStackTrace=e,!Array.isArray(h))return;let m=h.slice(2),g=[];for(let e of m)e&&g.push(e.getFileName());return g}},17511:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=[h(59792).default]},17521:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.NoticeMessage=d.DataRowMessage=d.CommandCompleteMessage=d.ReadyForQueryMessage=d.NotificationResponseMessage=d.BackendKeyDataMessage=d.AuthenticationMD5Password=d.ParameterStatusMessage=d.ParameterDescriptionMessage=d.RowDescriptionMessage=d.Field=d.CopyResponse=d.CopyDataMessage=d.DatabaseError=d.copyDone=d.emptyQuery=d.replicationStart=d.portalSuspended=d.noData=d.closeComplete=d.bindComplete=d.parseComplete=void 0,d.parseComplete={name:"parseComplete",length:5},d.bindComplete={name:"bindComplete",length:5},d.closeComplete={name:"closeComplete",length:5},d.noData={name:"noData",length:5},d.portalSuspended={name:"portalSuspended",length:5},d.replicationStart={name:"replicationStart",length:4},d.emptyQuery={name:"emptyQuery",length:4},d.copyDone={name:"copyDone",length:4};class h extends Error{constructor(e,d,h){super(e),this.length=d,this.name=h}}d.DatabaseError=h;class m{constructor(e,d){this.length=e,this.chunk=d,this.name="copyData"}}d.CopyDataMessage=m;class g{constructor(e,d,h,m){this.length=e,this.name=d,this.binary=h,this.columnTypes=Array(m)}}d.CopyResponse=g;class y{constructor(e,d,h,m,g,y,b){this.name=e,this.tableID=d,this.columnID=h,this.dataTypeID=m,this.dataTypeSize=g,this.dataTypeModifier=y,this.format=b}}d.Field=y;class b{constructor(e,d){this.length=e,this.fieldCount=d,this.name="rowDescription",this.fields=Array(this.fieldCount)}}d.RowDescriptionMessage=b;class v{constructor(e,d){this.length=e,this.parameterCount=d,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}}d.ParameterDescriptionMessage=v;class w{constructor(e,d,h){this.length=e,this.parameterName=d,this.parameterValue=h,this.name="parameterStatus"}}d.ParameterStatusMessage=w;class S{constructor(e,d){this.length=e,this.salt=d,this.name="authenticationMD5Password"}}d.AuthenticationMD5Password=S;class x{constructor(e,d,h){this.length=e,this.processID=d,this.secretKey=h,this.name="backendKeyData"}}d.BackendKeyDataMessage=x;class _{constructor(e,d,h,m){this.length=e,this.processId=d,this.channel=h,this.payload=m,this.name="notification"}}d.NotificationResponseMessage=_;class E{constructor(e,d){this.length=e,this.status=d,this.name="readyForQuery"}}d.ReadyForQueryMessage=E;class T{constructor(e,d){this.length=e,this.text=d,this.name="commandComplete"}}d.CommandCompleteMessage=T;class k{constructor(e,d){this.length=e,this.fields=d,this.name="dataRow",this.fieldCount=d.length}}d.DataRowMessage=k;class C{constructor(e,d){this.length=e,this.message=d,this.name="notice"}}d.NoticeMessage=C},17746:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934),y=h(73077);d.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,m._)`{allowedValues: ${e}}`},code(e){let d,h,{gen:b,data:v,$data:w,schema:S,schemaCode:x,it:_}=e;if(!w&&0===S.length)throw Error("enum must have non-empty array");let E=S.length>=_.opts.loopEnum,T=()=>null!=d?d:d=(0,g.useFunc)(b,y.default);if(E||w)h=b.let("valid"),e.block$data(h,k);else{if(!Array.isArray(S))throw Error("ajv implementation error");let e=b.const("vSchema",x);h=(0,m.or)(...S.map((d,h)=>C(e,h)))}function k(){b.assign(h,!1),b.forOf("v",x,e=>b.if((0,m._)`${T()}(${v}, ${e})`,()=>b.assign(h,!0).break()))}function C(e,d){let h=S[d];return"object"==typeof h&&null!==h?(0,m._)`${T()}(${v}, ${e}[${d}])`:(0,m._)`${v} === ${h}`}e.pass(h)}}},17883:e=>{"use strict";e.exports=(e,d={})=>{let h=Number.isSafeInteger(parseInt(d.margin))?Array(parseInt(d.margin)).fill(" ").join(""):d.margin||"",m=d.width;return(e||"").split(/\r?\n/g).map(e=>e.split(/\s+/g).reduce((e,d)=>(d.length+h.length>=m||e[e.length-1].length+d.length+1<m?e[e.length-1]+=` ${d}`:e.push(`${h}${d}`),e),[h]).join("\n")).join("\n")}},18219:(e,d,h)=>{"use strict";h.r(d),h.d(d,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>y,CONFIG_USE_FIPS_ENDPOINT:()=>S,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>b,DEFAULT_USE_FIPS_ENDPOINT:()=>x,ENV_USE_DUALSTACK_ENDPOINT:()=>g,ENV_USE_FIPS_ENDPOINT:()=>w,NODE_REGION_CONFIG_FILE_OPTIONS:()=>R,NODE_REGION_CONFIG_OPTIONS:()=>I,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>v,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>_,REGION_ENV_NAME:()=>P,REGION_INI_NAME:()=>O,getRegionInfo:()=>F,resolveCustomEndpointsConfig:()=>T,resolveEndpointsConfig:()=>C,resolveRegionConfig:()=>$});var m=h(7743);let g="AWS_USE_DUALSTACK_ENDPOINT",y="use_dualstack_endpoint",b=!1,v={environmentVariableSelector:e=>(0,m.booleanSelector)(e,g,m.SelectorType.ENV),configFileSelector:e=>(0,m.booleanSelector)(e,y,m.SelectorType.CONFIG),default:!1},w="AWS_USE_FIPS_ENDPOINT",S="use_fips_endpoint",x=!1,_={environmentVariableSelector:e=>(0,m.booleanSelector)(e,w,m.SelectorType.ENV),configFileSelector:e=>(0,m.booleanSelector)(e,S,m.SelectorType.CONFIG),default:!1};var E=h(43510);let T=e=>{let{tls:d,endpoint:h,urlParser:m,useDualstackEndpoint:g}=e;return Object.assign(e,{tls:d??!0,endpoint:(0,E.normalizeProvider)("string"==typeof h?m(h):h),isCustomEndpoint:!0,useDualstackEndpoint:(0,E.normalizeProvider)(g??!1)})},k=async e=>{let{tls:d=!0}=e,h=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(h))throw Error("Invalid region in client config");let m=await e.useDualstackEndpoint(),g=await e.useFipsEndpoint(),{hostname:y}=await e.regionInfoProvider(h,{useDualstackEndpoint:m,useFipsEndpoint:g})??{};if(!y)throw Error("Cannot resolve hostname from client config");return e.urlParser(`${d?"https:":"http:"}//${y}`)},C=e=>{let d=(0,E.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:h,useFipsEndpoint:m,urlParser:g,tls:y}=e;return Object.assign(e,{tls:y??!0,endpoint:h?(0,E.normalizeProvider)("string"==typeof h?g(h):h):()=>k({...e,useDualstackEndpoint:d,useFipsEndpoint:m}),isCustomEndpoint:!!h,useDualstackEndpoint:d})},P="AWS_REGION",O="region",I={environmentVariableSelector:e=>e[P],configFileSelector:e=>e[O],default:()=>{throw Error("Region is missing")}},R={preferredFile:"credentials"},D=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),L=e=>D(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,$=e=>{let{region:d,useFipsEndpoint:h}=e;if(!d)throw Error("Region is missing");return Object.assign(e,{region:async()=>"string"==typeof d?L(d):L(await d()),useFipsEndpoint:async()=>!!D("string"==typeof d?d:await d())||("function"!=typeof h?Promise.resolve(!!h):h())})},M=(e=[],{useFipsEndpoint:d,useDualstackEndpoint:h})=>e.find(({tags:e})=>d===e.includes("fips")&&h===e.includes("dualstack"))?.hostname,B=(e,{regionHostname:d,partitionHostname:h})=>d||(h?h.replace("{region}",e):void 0),j=(e,{partitionHash:d})=>Object.keys(d||{}).find(h=>d[h].regions.includes(e))??"aws",U=(e,{signingRegion:d,regionRegex:h,useFipsEndpoint:m})=>{if(d)return d;if(m){let d=h.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),m=e.match(d);if(m)return m[0].slice(1,-1)}},F=(e,{useFipsEndpoint:d=!1,useDualstackEndpoint:h=!1,signingService:m,regionHash:g,partitionHash:y})=>{let b=j(e,{partitionHash:y}),v=e in g?e:y[b]?.endpoint??e,w={useFipsEndpoint:d,useDualstackEndpoint:h},S=M(g[v]?.variants,w),x=B(v,{regionHostname:S,partitionHostname:M(y[b]?.variants,w)});if(void 0===x)throw Error(`Endpoint resolution failed for: ${{resolvedRegion:v,useFipsEndpoint:d,useDualstackEndpoint:h}}`);let _=U(x,{signingRegion:g[v]?.signingRegion,regionRegex:y[b].regionRegex,useFipsEndpoint:d});return{partition:b,signingService:m,hostname:x,..._&&{signingRegion:_},...g[v]?.signingService&&{signingService:g[v].signingService}}}},18778:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934);d.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,m._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:d,schema:h,data:y,it:b}=e;if((0,g.alwaysValidSchema)(b,h))return;let v=d.name("valid");d.forIn("key",y,h=>{e.setParams({propertyName:h}),e.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},v),d.if((0,m.not)(v),()=>{e.error(!0),b.allErrors||d.break()})}),e.ok(v)}}},18789:(e,d,h)=>{"use strict";let m=h(72749);function g(e){if("string"!=typeof e)throw TypeError("SASL: text must be a string");return e.split("").map((d,h)=>e.charCodeAt(h)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function y(e){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(e)}function b(e){if("string"!=typeof e)throw TypeError("SASL: attribute pairs text must be a string");return new Map(e.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]}))}function v(e){let d=b(e),h=d.get("r");if(h){if(!g(h))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let m=d.get("s");if(m){if(!y(m))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let v=d.get("i");if(v){if(!/^[1-9][0-9]*$/.test(v))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:h,salt:m,iteration:parseInt(v,10)}}function w(e){let d=b(e).get("v");if(d){if(!y(d))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:d}}function S(e,d){if(!Buffer.isBuffer(e))throw TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(d))throw TypeError("second argument must be a Buffer");if(e.length!==d.length)throw Error("Buffer lengths must match");if(0===e.length)throw Error("Buffers cannot be empty");return Buffer.from(e.map((h,m)=>e[m]^d[m]))}e.exports={startSession:function(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let d=m.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:d,response:"n,,n=*,r="+d,message:"SASLInitialResponse"}},continueSession:async function(e,d,h){if("SASLInitialResponse"!==e.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof d)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(""===d)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if("string"!=typeof h)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let g=v(h);if(g.nonce.startsWith(e.clientNonce)){if(g.nonce.length===e.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var y="n=*,r="+e.clientNonce,b="r="+g.nonce+",s="+g.salt+",i="+g.iteration,w="c=biws,r="+g.nonce,x=y+","+b+","+w,_=Buffer.from(g.salt,"base64"),E=await m.deriveKey(d,_,g.iteration),T=await m.hmacSha256(E,"Client Key"),k=await m.sha256(T),C=await m.hmacSha256(k,x),P=S(Buffer.from(T),Buffer.from(C)).toString("base64"),O=await m.hmacSha256(E,"Server Key"),I=await m.hmacSha256(O,x);e.message="SASLResponse",e.serverSignature=Buffer.from(I).toString("base64"),e.response=w+",p="+P},finalizeSession:function(e,d){if("SASLResponse"!==e.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof d)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:h}=w(d);if(h!==e.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}}},18864:(e,d,h)=>{"use strict";h.d(d,{D0:()=>g,Rd:()=>m,xW:()=>b});let m=new TextEncoder,g=new TextDecoder,y=null;function b(...e){let d=new Uint8Array(e.reduce((e,{length:d})=>e+d,0)),h=0;for(let m of e)d.set(m,h),h+=m.length;return d}function v(e,d,h){if(d<0||d>=y)throw RangeError(`value must be >= 0 and <= ${y-1}. Received ${d}`);e.set([d>>>24,d>>>16,d>>>8,255&d],h)}},18935:(e,d)=>{"use strict";async function h(e){return"function"==typeof e.stream&&(e=e.stream()),e.tee()}Object.defineProperty(d,"__esModule",{value:!0}),d.splitStream=h},19131:(e,d,h)=>{"use strict";h.d(d,{c:()=>b});var m=h(31303),g=h(13062),y=h(89554);class b extends y.L{constructor(e){super(e?e("error:notAllowedToPerformAction"):m.en.translations.error.notAllowedToPerformAction,g.h.FORBIDDEN)}}},19719:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromProcess:()=>x});var m=h(71475),g=h(11075),y=h(79646),b=h(28354),v=h(76941);let w=(e,d,h)=>{if(1!==d.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===d.AccessKeyId||void 0===d.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(d.Expiration){let h=new Date;if(new Date(d.Expiration)<h)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let m=d.AccountId;!m&&h?.[e]?.aws_account_id&&(m=h[e].aws_account_id);let g={accessKeyId:d.AccessKeyId,secretAccessKey:d.SecretAccessKey,...d.SessionToken&&{sessionToken:d.SessionToken},...d.Expiration&&{expiration:new Date(d.Expiration)},...d.CredentialScope&&{credentialScope:d.CredentialScope},...m&&{accountId:m}};return(0,v.g)(g,"CREDENTIALS_PROCESS","w"),g},S=async(e,d,h)=>{let m=d[e];if(d[e]){let v=m.credential_process;if(void 0!==v){let m=(0,b.promisify)(y.exec);try{let h,{stdout:g}=await m(v);try{h=JSON.parse(g.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return w(e,h,d)}catch(e){throw new g.CredentialsProviderError(e.message,{logger:h})}}throw new g.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:h})}throw new g.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:h})},x=(e={})=>async({callerClientConfig:d}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let h=await (0,m.parseKnownFiles)(e);return S((0,m.getProfileName)({profile:e.profile??d?.profile}),h,e.logger)}},19747:(e,d,h)=>{"use strict";let m=h(91645),g=h(34631),y=h(79551);function b(e,d,h,v){let w,S,x,_=y.parse(e);w={host:_.hostname,port:Number(_.port)?Number(_.port):"https:"===_.protocol?443:80},"https:"===_.protocol?(w.rejectUnauthorized=!1,S=g.connect.bind(g)):S=m.connect.bind(m);let E=!1,T=e=>{if(!E){E=!0;try{x.destroy()}catch(e){}v(e)}},k=()=>{let e=Error("Proxy socket timed out");e.code="ETIMEDOUT",T(e)};(x=S(w,()=>{if(E)return;let e={Host:h+":"+d,Connection:"close"};_.auth&&(e["Proxy-Authorization"]="Basic "+Buffer.from(_.auth).toString("base64")),x.write("CONNECT "+h+":"+d+" HTTP/1.1\r\n"+Object.keys(e).map(d=>d+": "+e[d]).join("\r\n")+"\r\n\r\n");let m="",g=e=>{let d,h;if(!E&&(m+=e.toString("binary"),d=m.match(/\r\n\r\n/))){if(x.removeListener("data",g),h=m.substr(d.index+d[0].length),m=m.substr(0,d.index),h&&x.unshift(Buffer.from(h,"binary")),E=!0,!(d=m.match(/^HTTP\/\d+\.\d+ (\d+)/i))||"2"!==(d[1]||"").charAt(0)){try{x.destroy()}catch(e){}return v(Error("Invalid response from proxy"+(d&&": "+d[1]||"")))}return x.removeListener("error",T),x.removeListener("timeout",k),x.setTimeout(0),v(null,x)}};x.on("data",g)})).setTimeout(b.timeout||3e4),x.on("timeout",k),x.once("error",T)}e.exports=b},19829:(e,d,h)=>{"use strict";var m=h(94735).EventEmitter,g=h(47141),y=h(18789),b=h(57338),v=h(78183),w=h(95964),S=h(61664),x=h(31258);let _=h(72749);class E extends m{constructor(e){super(),this.connectionParameters=new v(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var d=e||{};this._Promise=d.Promise||global.Promise,this._types=new b(d.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=d.connection||new x({stream:d.stream,ssl:this.connectionParameters.ssl,keepAlive:d.keepAlive||!1,keepAliveInitialDelayMillis:d.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=d.binary||S.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=d.connectionTimeoutMillis||0}_errorAllQueries(e){let d=d=>{process.nextTick(()=>{d.handleError(e,this.connection)})};this.activeQuery&&(d(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(d),this.queryQueue.length=0}_connect(e){var d=this,h=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let d=Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(d)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{h._ending=!0,h.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?h.connect(this.host+"/.s.PGSQL."+this.port):h.connect(this.port,this.host),h.on("connect",function(){d.ssl?h.requestSsl():h.startup(d.getStartupConf())}),h.on("sslconnect",function(){h.startup(d.getStartupConf())}),this._attachListeners(h),h.once("end",()=>{let e=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(e),this._ended=!0,!this._ending&&(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(e):this._handleErrorEvent(e):this._connectionError||this._handleErrorEvent(e)),process.nextTick(()=>{this.emit("end")})})}connect(e){return e?void this._connect(e):new this._Promise((e,d)=>{this._connect(h=>{h?d(h):e()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let d=this.connection;if("function"==typeof this.password)this._Promise.resolve().then(()=>this.password()).then(h=>{if(void 0!==h){if("string"!=typeof h)return void d.emit("error",TypeError("Password must be a string"));this.connectionParameters.password=this.password=h}else this.connectionParameters.password=this.password=null;e()}).catch(e=>{d.emit("error",e)});else if(null!==this.password)e();else try{h(62952)(this.connectionParameters,d=>{void 0!==d&&(this.connectionParameters.password=this.password=d),e()})}catch(e){this.emit("error",e)}}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(async()=>{try{let d=await _.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(d)}catch(e){this.emit("error",e)}})}_handleAuthSASL(e){this._checkPgPass(()=>{try{this.saslSession=y.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(e){this.connection.emit("error",e)}})}async _handleAuthSASLContinue(e){try{await y.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(e){this.connection.emit("error",e)}}_handleAuthSASLFinal(e){try{y.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(e){this.connection.emit("error",e)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:d}=this;this.activeQuery=null,this.readyForQuery=!0,d&&d.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let d=this.activeQuery;if(!d)return void this._handleErrorEvent(e);this.activeQuery=null,d.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){var e=this.connectionParameters,d={user:e.user,database:e.database},h=e.application_name||e.fallback_application_name;return h&&(d.application_name=h),e.replication&&(d.replication=""+e.replication),e.statement_timeout&&(d.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(d.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(d.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(d.options=e.options),d}cancel(e,d){if(e.activeQuery===d){var h=this.connection;this.host&&0===this.host.indexOf("/")?h.connect(this.host+"/.s.PGSQL."+this.port):h.connect(this.port,this.host),h.on("connect",function(){h.cancel(e.processID,e.secretKey)})}else -1!==e.queryQueue.indexOf(d)&&e.queryQueue.splice(e.queryQueue.indexOf(d),1)}setTypeParser(e,d,h){return this._types.setTypeParser(e,d,h)}getTypeParser(e,d){return this._types.getTypeParser(e,d)}escapeIdentifier(e){return g.escapeIdentifier(e)}escapeLiteral(e){return g.escapeLiteral(e)}_pulseQueryQueue(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&process.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(e,d,h){var m,g,y,b,v;if(null==e)throw TypeError("Client was passed a null or undefined query");return("function"==typeof e.submit?(y=e.query_timeout||this.connectionParameters.query_timeout,g=m=e,"function"==typeof d&&(m.callback=m.callback||d)):(y=this.connectionParameters.query_timeout,(m=new w(e,d,h)).callback||(g=new this._Promise((e,d)=>{m.callback=(h,m)=>h?d(h):e(m)}).catch(e=>{throw Error.captureStackTrace(e),e}))),y&&(v=m.callback,b=setTimeout(()=>{var e=Error("Query read timeout");process.nextTick(()=>{m.handleError(e,this.connection)}),v(e),m.callback=()=>{};var d=this.queryQueue.indexOf(m);d>-1&&this.queryQueue.splice(d,1),this._pulseQueryQueue()},y),m.callback=(e,d)=>{clearTimeout(b),v(e,d)}),this.binary&&!m.binary&&(m.binary=!0),m._result&&!m._result._types&&(m._result._types=this._types),this._queryable)?this._ending?process.nextTick(()=>{m.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(m),this._pulseQueryQueue()):process.nextTick(()=>{m.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),g}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(!e)return this._Promise.resolve();else e();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)}}E.Query=w,e.exports=E},19966:(e,d,h)=>{"use strict";h.d(d,{C:()=>y});var m=h(74290);let g=({data:e,fields:d,result:h})=>(d.forEach(d=>{switch(d.type){case"collapsible":case"row":g({data:e,fields:d.fields,result:h});break;case"group":if((0,m.Z7)(d)){let m;"string"==typeof d.saveToJWT?(m=d.saveToJWT,h[d.saveToJWT]=e[d.name]):d.saveToJWT&&(m=d.name,h[d.name]=e[d.name]);let y=e[d.name],b=m?h[m]:h;g({data:y,fields:d.fields,result:b});break}g({data:e,fields:d.fields,result:h});break;case"tab":if((0,m.pz)(d)){let m;"string"==typeof d.saveToJWT?(m=d.saveToJWT,h[d.saveToJWT]=e[d.name]):d.saveToJWT&&(m=d.name,h[d.name]=e[d.name]);let y=e[d.name],b=m?h[m]:h;g({data:y,fields:d.fields,result:b})}else g({data:e,fields:d.fields,result:h});break;case"tabs":g({data:e,fields:d.tabs.map(e=>({...e,type:"tab"})),result:h});break;default:(0,m.Z7)(d)&&(d.saveToJWT?"string"==typeof d.saveToJWT?(h[d.saveToJWT]=e[d.name],delete h[d.name]):h[d.name]=e[d.name]:!1===d.saveToJWT&&delete h[d.name])}}),h),y=e=>{let{collectionConfig:d,email:h,user:m}=e,y={id:m?.id,collection:d.slug,email:h};return g({data:m,fields:d.fields,result:y}),y}},20190:(e,d,h)=>{"use strict";let m,{Duplex:g}=h(27910),{randomFillSync:y}=h(55511),b=h(16943),{EMPTY_BUFFER:v,kWebSocket:w,NOOP:S}=h(44314),{isBlob:x,isValidStatusCode:_}=h(54640),{mask:E,toBuffer:T}=h(82854),k=Symbol("kByteLength"),C=Buffer.alloc(4),P=8192,O=8192,I=0,R=1,D=2;class L{constructor(e,d,h){this._extensions=d||{},h&&(this._generateMask=h,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=I,this.onerror=S,this[w]=void 0}static frame(e,d){let h,g,b=!1,v=2,w=!1;d.mask&&(h=d.maskBuffer||C,d.generateMask?d.generateMask(h):(O===P&&(void 0===m&&(m=Buffer.alloc(P)),y(m,0,P),O=0),h[0]=m[O++],h[1]=m[O++],h[2]=m[O++],h[3]=m[O++]),w=(h[0]|h[1]|h[2]|h[3])==0,v=6),"string"==typeof e?g=(!d.mask||w)&&void 0!==d[k]?d[k]:(e=Buffer.from(e)).length:(g=e.length,b=d.mask&&d.readOnly&&!w);let S=g;g>=65536?(v+=8,S=127):g>125&&(v+=2,S=126);let x=Buffer.allocUnsafe(b?g+v:v);return(x[0]=d.fin?128|d.opcode:d.opcode,d.rsv1&&(x[0]|=64),x[1]=S,126===S?x.writeUInt16BE(g,2):127===S&&(x[2]=x[3]=0,x.writeUIntBE(g,4,6)),d.mask)?(x[1]|=128,x[v-4]=h[0],x[v-3]=h[1],x[v-2]=h[2],x[v-1]=h[3],w)?[x,e]:b?(E(e,h,x,v,g),[x]):(E(e,h,e,0,g),[x,e]):[x,e]}close(e,d,h,m){let g;if(void 0===e)g=v;else if("number"==typeof e&&_(e))if(void 0!==d&&d.length){let h=Buffer.byteLength(d);if(h>123)throw RangeError("The message must not be greater than 123 bytes");(g=Buffer.allocUnsafe(2+h)).writeUInt16BE(e,0),"string"==typeof d?g.write(d,2):g.set(d,2)}else(g=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else throw TypeError("First argument must be a valid error code number");let y={[k]:g.length,fin:!0,generateMask:this._generateMask,mask:h,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==I?this.enqueue([this.dispatch,g,!1,y,m]):this.sendFrame(L.frame(g,y),m)}ping(e,d,h){let m,g;if("string"==typeof e?(m=Buffer.byteLength(e),g=!1):x(e)?(m=e.size,g=!1):(m=(e=T(e)).length,g=T.readOnly),m>125)throw RangeError("The data size must not be greater than 125 bytes");let y={[k]:m,fin:!0,generateMask:this._generateMask,mask:d,maskBuffer:this._maskBuffer,opcode:9,readOnly:g,rsv1:!1};x(e)?this._state!==I?this.enqueue([this.getBlobData,e,!1,y,h]):this.getBlobData(e,!1,y,h):this._state!==I?this.enqueue([this.dispatch,e,!1,y,h]):this.sendFrame(L.frame(e,y),h)}pong(e,d,h){let m,g;if("string"==typeof e?(m=Buffer.byteLength(e),g=!1):x(e)?(m=e.size,g=!1):(m=(e=T(e)).length,g=T.readOnly),m>125)throw RangeError("The data size must not be greater than 125 bytes");let y={[k]:m,fin:!0,generateMask:this._generateMask,mask:d,maskBuffer:this._maskBuffer,opcode:10,readOnly:g,rsv1:!1};x(e)?this._state!==I?this.enqueue([this.getBlobData,e,!1,y,h]):this.getBlobData(e,!1,y,h):this._state!==I?this.enqueue([this.dispatch,e,!1,y,h]):this.sendFrame(L.frame(e,y),h)}send(e,d,h){let m,g,y=this._extensions[b.extensionName],v=d.binary?2:1,w=d.compress;"string"==typeof e?(m=Buffer.byteLength(e),g=!1):x(e)?(m=e.size,g=!1):(m=(e=T(e)).length,g=T.readOnly),this._firstFragment?(this._firstFragment=!1,w&&y&&y.params[y._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(w=m>=y._threshold),this._compress=w):(w=!1,v=0),d.fin&&(this._firstFragment=!0);let S={[k]:m,fin:d.fin,generateMask:this._generateMask,mask:d.mask,maskBuffer:this._maskBuffer,opcode:v,readOnly:g,rsv1:w};x(e)?this._state!==I?this.enqueue([this.getBlobData,e,this._compress,S,h]):this.getBlobData(e,this._compress,S,h):this._state!==I?this.enqueue([this.dispatch,e,this._compress,S,h]):this.dispatch(e,this._compress,S,h)}getBlobData(e,d,h,m){this._bufferedBytes+=h[k],this._state=D,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick($,this,e,m);return}this._bufferedBytes-=h[k];let g=T(e);d?this.dispatch(g,d,h,m):(this._state=I,this.sendFrame(L.frame(g,h),m),this.dequeue())}).catch(e=>{process.nextTick(M,this,e,m)})}dispatch(e,d,h,m){if(!d)return void this.sendFrame(L.frame(e,h),m);let g=this._extensions[b.extensionName];this._bufferedBytes+=h[k],this._state=R,g.compress(e,h.fin,(e,d)=>{if(this._socket.destroyed)return void $(this,Error("The socket was closed while data was being compressed"),m);this._bufferedBytes-=h[k],this._state=I,h.readOnly=!1,this.sendFrame(L.frame(d,h),m),this.dequeue()})}dequeue(){for(;this._state===I&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][k],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][k],this._queue.push(e)}sendFrame(e,d){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],d),this._socket.uncork()):this._socket.write(e[0],d)}}function $(e,d,h){"function"==typeof h&&h(d);for(let h=0;h<e._queue.length;h++){let m=e._queue[h],g=m[m.length-1];"function"==typeof g&&g(d)}}function M(e,d,h){$(e,d,h),e.onerror(d)}e.exports=L},20552:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>getPredefinedMigration});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29021),path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(33873),url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(79551);let getPredefinedMigration=async({dirname,file,migrationName:migrationNameArg,payload})=>{let importPath=file??migrationNameArg;if(importPath?.startsWith("@payloadcms/db-")){let migrationName=importPath.split("/").slice(2).join("/"),cleanPath=path__WEBPACK_IMPORTED_MODULE_1__.join(dirname,`./predefinedMigrations/${migrationName}`);fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.mjs`)?cleanPath=`${cleanPath}.mjs`:fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.js`)?cleanPath=`${cleanPath}.js`:(payload.logger.error({msg:`Canned migration ${migrationName} not found.`}),process.exit(1)),cleanPath=cleanPath.replaceAll("\\","/");let moduleURL=(0,url__WEBPACK_IMPORTED_MODULE_2__.pathToFileURL)(cleanPath);try{let{downSQL,imports,upSQL}=await eval(`import('${moduleURL.href}')`);return{downSQL,imports,upSQL}}catch(err){payload.logger.error({err,msg:`Error loading predefined migration ${migrationName}`}),process.exit(1)}}else if(importPath)try{let{downSQL,imports,upSQL}=await eval(`import('${importPath}')`);return{downSQL,imports,upSQL}}catch(_err){if(importPath?.includes("/"))throw Error(`Error importing migration file from ${importPath}`)}return{}}},20587:(e,d,h)=>{"use strict";let m=h(48161),g=h(59301),y=h(17500),b=h(53570),v=h(39638),w=h(44721),S=h(39610),{configure:x}=h(37317),{assertDefaultLevelFound:_,mappings:E,genLsCache:T,genLevelComparison:k,assertLevelComparison:C}=h(84772),{DEFAULT_LEVELS:P,SORTING_ORDER:O}=h(78506),{createArgsNormalizer:I,asChindings:R,buildSafeSonicBoom:D,buildFormatters:L,stringify:$,normalizeDestFileDescriptor:M,noop:B}=h(21840),{version:j}=h(51778),{chindingsSym:U,redactFmtSym:F,serializersSym:z,timeSym:q,timeSliceIndexSym:V,streamSym:H,stringifySym:K,stringifySafeSym:G,stringifiersSym:W,setLevelSym:J,endSym:Q,formatOptsSym:Y,messageKeySym:X,errorKeySym:Z,nestedKeySym:ee,mixinSym:et,levelCompSym:ei,useOnlyCustomLevelsSym:er,formattersSym:ea,hooksSym:en,nestedKeyStrSym:es,mixinMergeStrategySym:eo,msgPrefixSym:el}=S,{epochTime:ed,nullTime:ec}=v,{pid:ep}=process,eu=m.hostname(),eh=g.err,em=I({level:"info",levelComparison:O.ASC,levels:P,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:ep,hostname:eu},serializers:Object.assign(Object.create(null),{err:eh}),formatters:Object.assign(Object.create(null),{bindings:e=>e,level:(e,d)=>({level:d})}),hooks:{logMethod:void 0},timestamp:ed,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),ef=Object.assign(Object.create(null),g);function eg(...e){let d={},{opts:h,stream:m}=em(d,y(),...e);h.level&&"string"==typeof h.level&&void 0!==P[h.level.toLowerCase()]&&(h.level=h.level.toLowerCase());let{redact:g,crlf:v,serializers:S,timestamp:O,messageKey:I,errorKey:D,nestedKey:M,base:j,name:ep,level:eu,customLevels:eh,levelComparison:ef,mixin:ey,mixinMergeStrategy:eb,useOnlyCustomLevels:ev,formatters:ew,hooks:eS,depthLimit:ex,edgeLimit:e_,onChild:eE,msgPrefix:eT}=h,ek=x({maximumDepth:ex,maximumBreadth:e_}),eC=L(ew.level,ew.bindings,ew.log),eA=$.bind({[G]:ek}),eP=g?b(g,eA):{},eN=g?{stringify:eP[F]}:{stringify:eA},eO="}"+(v?"\r\n":"\n"),eI=R.bind(null,{[U]:"",[z]:S,[W]:eP,[K]:$,[G]:ek,[ea]:eC}),eR="";null!==j&&(eR=eI(void 0===ep?j:Object.assign({},j,{name:ep})));let eD=O instanceof Function?O:O?ed:ec,eL=eD().indexOf(":")+1;if(ev&&!eh)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(ey&&"function"!=typeof ey)throw Error(`Unknown mixin type "${typeof ey}" - expected "function"`);if(eT&&"string"!=typeof eT)throw Error(`Unknown msgPrefix type "${typeof eT}" - expected "string"`);_(eu,eh,ev);let e$=E(eh,ev);return"function"==typeof m.emit&&m.emit("message",{code:"PINO_CONFIG",config:{levels:e$,messageKey:I,errorKey:D}}),C(ef),Object.assign(d,{levels:e$,[ei]:k(ef),[er]:ev,[H]:m,[q]:eD,[V]:eL,[K]:$,[G]:ek,[W]:eP,[Q]:eO,[Y]:eN,[X]:I,[Z]:D,[ee]:M,[es]:M?`,${JSON.stringify(M)}:{`:"",[z]:S,[et]:ey,[eo]:eb,[U]:eR,[ea]:eC,[en]:eS,silent:B,onChild:eE,[el]:eT}),Object.setPrototypeOf(d,w()),T(d),d[J](eu),d}e.exports=eg,e.exports.destination=(e=process.stdout.fd)=>"object"==typeof e?(e.dest=M(e.dest||process.stdout.fd),D(e)):D({dest:M(e),minLength:0}),e.exports.transport=h(31058),e.exports.multistream=h(65882),e.exports.levels=E(),e.exports.stdSerializers=ef,e.exports.stdTimeFunctions=Object.assign({},v),e.exports.symbols=S,e.exports.version=j,e.exports.default=eg,e.exports.pino=eg},20811:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=(e,d,h)=>(w(e,d,"default"),h&&w(h,d,"default")),x=e=>w(m({},"__esModule",{value:!0}),e),_={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(_,{Client:()=>T,Command:()=>P,NoOpLogger:()=>X,SENSITIVE_STRING:()=>I,ServiceException:()=>D,_json:()=>el,collectBody:()=>k.collectBody,convertMap:()=>ee,createAggregatedClient:()=>R,decorateServiceException:()=>L,emitWarningIfUnsupportedVersion:()=>F,extendedEncodeURIComponent:()=>k.extendedEncodeURIComponent,getArrayIfSingleItem:()=>J,getDefaultClientConfiguration:()=>G,getDefaultExtensionConfiguration:()=>K,getValueFromTextNode:()=>Q,isSerializableHeaderValue:()=>Y,loadConfigsForDefaultMode:()=>j,map:()=>Z,resolveDefaultRuntimeConfig:()=>W,resolvedPath:()=>k.resolvedPath,serializeDateTime:()=>eo,serializeFloat:()=>es,take:()=>et,throwDefaultError:()=>$,withBaseException:()=>M}),e.exports=x(_);var E=h(11506),T=class{constructor(e){this.config=e,this.middlewareStack=(0,E.constructStack)()}static{v(this,"Client")}send(e,d,h){let m,g="function"!=typeof d?d:void 0,y="function"==typeof d?d:h;if(void 0===g&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let d=this.handlers;d.has(e.constructor)?m=d.get(e.constructor):(m=e.resolveMiddleware(this.middlewareStack,this.config,g),d.set(e.constructor,m))}else delete this.handlers,m=e.resolveMiddleware(this.middlewareStack,this.config,g);if(!y)return m(e).then(e=>e.output);m(e).then(e=>y(null,e.output),e=>y(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},k=h(57475),C=h(38755),P=class{constructor(){this.middlewareStack=(0,E.constructStack)()}static{v(this,"Command")}static classBuilder(){return new O}resolveMiddlewareWithContext(e,d,h,{middlewareFn:m,clientName:g,commandName:y,inputFilterSensitiveLog:b,outputFilterSensitiveLog:v,smithyContext:w,additionalContext:S,CommandCtor:x}){for(let g of m.bind(this)(x,e,d,h))this.middlewareStack.use(g);let _=e.concat(this.middlewareStack),{logger:E}=d,T={logger:E,clientName:g,commandName:y,inputFilterSensitiveLog:b,outputFilterSensitiveLog:v,[C.SMITHY_CONTEXT_KEY]:{commandInstance:this,...w},...S},{requestHandler:k}=d;return _.resolve(e=>k.handle(e.request,h||{}),T)}},O=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{v(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,d,h={}){return this._smithyContext={service:e,operation:d,...h},this}c(e={}){return this._additionalContext=e,this}n(e,d){return this._clientName=e,this._commandName=d,this}f(e=e=>e,d=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=d,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e,d=this;return e=class extends P{constructor(...[e]){super(),this.serialize=d._serializer,this.deserialize=d._deserializer,this.input=e??{},d._init(this),this.schema=d._operationSchema}static{v(this,"CommandRef")}static getEndpointParameterInstructions(){return d._ep}resolveMiddleware(h,m,g){return this.resolveMiddlewareWithContext(h,m,g,{CommandCtor:e,middlewareFn:d._middlewareFn,clientName:d._clientName,commandName:d._commandName,inputFilterSensitiveLog:d._inputFilterSensitiveLog,outputFilterSensitiveLog:d._outputFilterSensitiveLog,smithyContext:d._smithyContext,additionalContext:d._additionalContext})}}}},I="***SensitiveInformation***",R=v((e,d)=>{for(let h of Object.keys(e)){let m=e[h],g=v(async function(e,d,h){let g=new m(e);if("function"==typeof d)this.send(g,d);else{if("function"!=typeof h)return this.send(g,d);if("object"!=typeof d)throw Error(`Expected http options but got ${typeof d}`);this.send(g,d||{},h)}},"methodImpl"),y=(h[0].toLowerCase()+h.slice(1)).replace(/Command$/,"");d.prototype[y]=g}},"createAggregatedClient"),D=class e extends Error{static{v(this,"ServiceException")}constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(d){if(!d)return!1;let h=d;return e.prototype.isPrototypeOf(h)||!!h.$fault&&!!h.$metadata&&("client"===h.$fault||"server"===h.$fault)}static[Symbol.hasInstance](d){if(!d)return!1;let h=d;return this===e?e.isInstance(d):!!e.isInstance(d)&&(h.name&&this.name?this.prototype.isPrototypeOf(d)||h.name===this.name:this.prototype.isPrototypeOf(d))}},L=v((e,d={})=>{Object.entries(d).filter(([,e])=>void 0!==e).forEach(([d,h])=>{(void 0==e[d]||""===e[d])&&(e[d]=h)});let h=e.message||e.Message||"UnknownError";return e.message=h,delete e.Message,e},"decorateServiceException"),$=v(({output:e,parsedBody:d,exceptionCtor:h,errorCode:m})=>{let g=B(e),y=g.httpStatusCode?g.httpStatusCode+"":void 0;throw L(new h({name:d?.code||d?.Code||m||y||"UnknownError",$fault:"client",$metadata:g}),d)},"throwDefaultError"),M=v(e=>({output:d,parsedBody:h,errorCode:m})=>{$({output:d,parsedBody:h,exceptionCtor:e,errorCode:m})},"withBaseException"),B=v(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),j=v(e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),U=!1,F=v(e=>{e&&!U&&16>parseInt(e.substring(1,e.indexOf(".")))&&(U=!0)},"emitWarningIfUnsupportedVersion"),z=v(e=>{let d=[];for(let h in C.AlgorithmId){let m=C.AlgorithmId[h];void 0!==e[m]&&d.push({algorithmId:()=>m,checksumConstructor:()=>e[m]})}return{addChecksumAlgorithm(e){d.push(e)},checksumAlgorithms:()=>d}},"getChecksumConfiguration"),q=v(e=>{let d={};return e.checksumAlgorithms().forEach(e=>{d[e.algorithmId()]=e.checksumConstructor()}),d},"resolveChecksumRuntimeConfig"),V=v(e=>({setRetryStrategy(d){e.retryStrategy=d},retryStrategy:()=>e.retryStrategy}),"getRetryConfiguration"),H=v(e=>{let d={};return d.retryStrategy=e.retryStrategy(),d},"resolveRetryRuntimeConfig"),K=v(e=>Object.assign(z(e),V(e)),"getDefaultExtensionConfiguration"),G=K,W=v(e=>Object.assign(q(e),H(e)),"resolveDefaultRuntimeConfig"),J=v(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Q=v(e=>{let d="#text";for(let h in e)e.hasOwnProperty(h)&&void 0!==e[h][d]?e[h]=e[h][d]:"object"==typeof e[h]&&null!==e[h]&&(e[h]=Q(e[h]));return e},"getValueFromTextNode"),Y=v(e=>null!=e,"isSerializableHeaderValue"),X=class{static{v(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function Z(e,d,h){let m,g;if(void 0===d&&void 0===h)m={},g=e;else{if(m=e,"function"==typeof d)return ei(m,d,g=h);g=d}for(let e of Object.keys(g)){if(!Array.isArray(g[e])){m[e]=g[e];continue}er(m,null,g,e)}return m}v(Z,"map");var ee=v(e=>{let d={};for(let[h,m]of Object.entries(e||{}))d[h]=[,m];return d},"convertMap"),et=v((e,d)=>{let h={};for(let m in d)er(h,e,d,m);return h},"take"),ei=v((e,d,h)=>Z(e,Object.entries(h).reduce((e,[h,m])=>(Array.isArray(m)?e[h]=m:"function"==typeof m?e[h]=[d,m()]:e[h]=[d,m],e),{})),"mapWithFilter"),er=v((e,d,h,m)=>{if(null!==d){let g=h[m];"function"==typeof g&&(g=[,g]);let[y=ea,b=en,v=m]=g;("function"==typeof y&&y(d[v])||"function"!=typeof y&&y)&&(e[m]=b(d[v]));return}let[g,y]=h[m];if("function"==typeof y){let d,h=void 0===g&&null!=(d=y()),b="function"==typeof g&&!!g(void 0)||"function"!=typeof g&&!!g;h?e[m]=d:b&&(e[m]=y())}else{let d=void 0===g&&null!=y,h="function"==typeof g&&!!g(y)||"function"!=typeof g&&!!g;(d||h)&&(e[m]=y)}},"applyInstruction"),ea=v(e=>null!=e,"nonNullish"),en=v(e=>e,"pass"),es=v(e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),eo=v(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),el=v(e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(el);if("object"==typeof e){let d={};for(let h of Object.keys(e))null!=e[h]&&(d[h]=el(e[h]));return d}return e},"_json");S(_,h(97e3),e.exports)},20822:(e,d,h)=>{e.exports=h(!function(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let d=0,h=process.versions.node.split(".").map(Number);for(;d<e.length&&!(h[d]>e[d]);d++)if(e[d]>h[d])return!0;return!1}("8.6.0")?71906:61507)},20906:e=>{"use strict";let d={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},h={arrowUp:d.arrowUp,arrowDown:d.arrowDown,arrowLeft:d.arrowLeft,arrowRight:d.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"",pointer:">"};e.exports="win32"===process.platform?h:d},21210:(e,d,h)=>{"use strict";h.d(d,{S:()=>g,v:()=>m});let m=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),g={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},21429:(e,d,h)=>{"use strict";h.d(d,{BI:()=>z});var m=h(79646),g=h(13980),y=h(55511),b=h(29021),v=h(33873),w=h(79551);async function S({condition:e,dir:d,fileNames:h}){let{root:m}=v.parse(d);for(;;){if(h?.length){let g=!1;for(let m of h){let h=v.resolve(d,m);if(await x(h)){if(!e)return h;g=!0;break}}if(!g&&d!==m){d=v.dirname(d);continue}}let g=await e(d);if(!0===g)return d;if("string"==typeof g&&g?.length)return g;if(d===m)return null;d=v.dirname(d)}}async function x(e){try{return await b.promises.access(e),!0}catch{return!1}}var _=h(34589),E=h(73024),T=h(76760),k=h(48161),C=h(1708);let P=k.homedir(),O=k.tmpdir(),{env:I}=C,R=e=>{let d=T.join(P,"Library");return{cache:T.join(d,"Caches",e),config:T.join(d,"Preferences",e),data:T.join(d,"Application Support",e),log:T.join(d,"Logs",e),temp:T.join(O,e)}},D=e=>{let d=I.APPDATA||T.join(P,"AppData","Roaming"),h=I.LOCALAPPDATA||T.join(P,"AppData","Local");return{cache:T.join(h,e,"Cache"),config:T.join(d,e,"Config"),data:T.join(h,e,"Data"),log:T.join(h,e,"Log"),temp:T.join(O,e)}},L=e=>{let d=T.basename(P);return{cache:T.join(I.XDG_CACHE_HOME||T.join(P,".cache"),e),config:T.join(I.XDG_CONFIG_HOME||T.join(P,".config"),e),data:T.join(I.XDG_DATA_HOME||T.join(P,".local","share"),e),log:T.join(I.XDG_STATE_HOME||T.join(P,".local","state"),e),temp:T.join(O,d,e)}};function $(e,{suffix:d="nodejs"}={}){if("string"!=typeof e)throw TypeError(`Expected a string, got ${typeof e}`);return(d&&(e+=`-${d}`),"darwin"===C.platform)?R(e):"win32"===C.platform?D(e):L(e)}let M=()=>Object.create(null),B=(e,d)=>{let h=new Set(["function","symbol","undefined"]),m=typeof d;if(h.has(m))throw TypeError(`Setting a value of type \`${m}\` for key \`${e}\` is not allowed as it's not supported by JSON`)};class j{#e;_deserialize=e=>JSON.parse(e);_serialize=e=>JSON.stringify(e,void 0,"	");events;path;constructor(){let e={configFileMode:438,configName:"config",fileExtension:"json",projectSuffix:"nodejs"},d=$("payload",{suffix:e.projectSuffix}).config;this.#e=e,this.events=new EventTarget;let h=e.fileExtension?`.${e.fileExtension}`:"";this.path=T.resolve(d,`${e.configName??"config"}${h}`);let m=this.store,g=Object.assign(M(),m);try{_.deepEqual(m,g)}catch{this.store=g}}_ensureDirectory(){E.mkdirSync(T.dirname(this.path),{recursive:!0})}_write(e){let d=this._serialize(e);E.writeFileSync(this.path,d,{mode:this.#e.configFileMode})}delete(e){let{store:d}=this;delete d[e],this.store=d}get(e){let{store:d}=this;return d[e]}set(e,d){if("string"!=typeof e&&"object"!=typeof e)throw TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`);if("object"!=typeof e&&void 0===d)throw TypeError("Use `delete()` to clear values");let{store:h}=this,m=(e,d)=>{B(e,d),h[e]=d};if("object"==typeof e)for(let[d,h]of Object.entries(e))m(d,h);else m(e,d);this.store=h}*[Symbol.iterator](){for(let[e,d]of Object.entries(this.store))yield[e,d]}get size(){return Object.keys(this.store).length}get store(){try{let e=E.readFileSync(this.path,"utf8"),d=this._deserialize(e);return Object.assign(M(),d)}catch(e){if(e?.code==="ENOENT")return this._ensureDirectory(),M();throw e}}set store(e){this._ensureDirectory(),this._write(e),this.events.dispatchEvent(new Event("change"))}}var U=h(32808);let F=null,z=async({event:e,payload:d})=>{try{if(!1!==d.config.telemetry){let{packageJSON:h,packageJSONPath:m}=await K();if(!F){let{projectID:e,source:m}=V(d,h);F={ciName:g.isCI?g.name:null,envID:q(),isCI:g.isCI,nodeEnv:"production",nodeVersion:process.version,payloadVersion:W(h),projectID:e,projectIDSource:m,...J(d),dbAdapter:d.db.name,emailAdapter:d.email?.name||null,uploadAdapters:d.config.upload.adapters}}if(process.env.PAYLOAD_TELEMETRY_DEBUG)return void d.logger.info({event:{...F,...e,packageJSONPath:m},msg:"Telemetry Event"});await fetch("https://telemetry.payloadcms.com/events",{body:JSON.stringify({...F,...e}),headers:{"Content-Type":"application/json"},method:"post"})}}catch(e){}},q=()=>{let e=new j,d="envID",h=e.get(d);if(h)return h;let m=(0,y.randomBytes)(32).toString("hex");return e.set(d,m),m},V=(e,d)=>{let h=H(e);if(h)return{projectID:(0,U.Q)(h,e.secret),source:"git"};let m=G(e,d);if(m)return{projectID:(0,U.Q)(m,e.secret),source:"packageJSON"};let g=e.config.serverURL;if(g)return{projectID:(0,U.Q)(g,e.secret),source:"serverURL"};let y=process.cwd();return{projectID:(0,U.Q)(y,e.secret),source:"cwd"}},H=e=>{try{let d=(0,m.execSync)("git config --local --get remote.origin.url",{stdio:"pipe",timeout:1e3});return(0,U.Q)(String(d).trim(),e.secret)}catch(e){return null}},K=async()=>{let e=v.resolve(process.cwd(),"package.json");if(!b.existsSync(e)){let d=(0,w.fileURLToPath)("file:///Users/himanshu/Desktop/Payload%20Cloudflare/pg/node_modules/.pnpm/payload@3.40.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/utilities/telemetry/index.js"),h=v.dirname(d);e=await S({dir:h,fileNames:["package.json"]})}return{packageJSON:JSON.parse(await b.promises.readFile(e,"utf-8")),packageJSONPath:e}},G=(e,d)=>(0,U.Q)(d.name,e.secret),W=e=>e?.dependencies?.payload??"",J=e=>e.config.localization?{locales:e.config.localization.localeCodes,localizationDefaultLocale:e.config.localization.defaultLocale,localizationEnabled:!0}:{locales:[],localizationDefaultLocale:null,localizationEnabled:!1}},21534:e=>{e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}},21548:(e,d,h)=>{"use strict";let m=Symbol.for("pino.metadata"),g=h(47994),{Duplex:y}=h(27910),{parentPort:b,workerData:v}=h(73566);function w(){let e,d,h=new Promise((h,m)=>{e=h,d=m});return h.resolve=e,h.reject=d,h}function S(e,d){process.nextTick(d,e)}e.exports=function(e,d={}){let h=!0===d.expectPinoConfig&&v?.workerData?.pinoWillSendConfig===!0,x="lines"===d.parse,_="function"==typeof d.parseLine?d.parseLine:JSON.parse,E=d.close||S,T=g(function(e){let d;try{d=_(e)}catch(d){this.emit("unknown",e,d);return}return null===d?void this.emit("unknown",e,"Null value ignored"):("object"!=typeof d&&(d={data:d,time:Date.now()}),T[m]&&(T.lastTime=d.time,T.lastLevel=d.level,T.lastObj=d),x)?e:d},{autoDestroy:!0});if(T._destroy=function(e,d){let h=E(e,d);h&&"function"==typeof h.then&&h.then(d,d)},!0===d.expectPinoConfig&&v?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{T.emit("error",Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),!1!==d.metadata&&(T[m]=!0,T.lastTime=0,T.lastLevel=0,T.lastObj=null),h){let e={},d=w();return b.on("message",function h(m){"PINO_CONFIG"===m.code&&(e=m.config,d.resolve(),b.off("message",h))}),Object.defineProperties(T,{levels:{get:()=>e.levels},messageKey:{get:()=>e.messageKey},errorKey:{get:()=>e.errorKey}}),d.then(k)}return k();function k(){let h=e(T);if(h&&"function"==typeof h.catch)h.catch(e=>{T.destroy(e)}),h=null;else if(d.enablePipelining&&h)return y.from({writable:T,readable:h});return T}}},21653:(e,d,h)=>{"use strict";e.exports=y;let m=h(96481),g=h(36271);function y(e,d){let h=g(d),y=h.pop();null!==(e=m(e,h))&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,y)&&delete e[y]}},21808:(e,d,h)=>{"use strict";h.d(d,{G:()=>m});let m=(e,d)=>{if(e.id&&Array.isArray(d)){let h=d.find(d=>"object"==typeof d&&"id"in d&&d.id===e.id&&d);if(h)return h}return{}}},21840:(e,d,h)=>{"use strict";let m=h(64016),{mapHttpRequest:g,mapHttpResponse:y}=h(59301),b=h(65429),v=h(93783),{lsCacheSym:w,chindingsSym:S,writeSym:x,serializersSym:_,formatOptsSym:E,endSym:T,stringifiersSym:k,stringifySym:C,stringifySafeSym:P,wildcardFirstSym:O,nestedKeySym:I,formattersSym:R,messageKeySym:D,errorKeySym:L,nestedKeyStrSym:$,msgPrefixSym:M}=h(39610),{isMainThread:B}=h(73566),j=h(31058);function U(){}function F(e,d){if(!d)return h;return function(...m){d.call(this,m,h,e)};function h(d,...b){if("object"==typeof d){let h,v=d;null!==d&&(d.method&&d.headers&&d.socket?d=g(d):"function"==typeof d.setHeader&&(d=y(d))),null===v&&0===b.length?h=[null]:(v=b.shift(),h=b),"string"==typeof this[M]&&null!=v&&(v=this[M]+v),this[x](d,m(v,h,this[E]),e)}else{let h=void 0===d?b.shift():d;"string"==typeof this[M]&&null!=h&&(h=this[M]+h),this[x](null,m(h,b,this[E]),e)}}}function z(e){let d="",h=0,m=!1,g=255,y=e.length;if(y>100)return JSON.stringify(e);for(var b=0;b<y&&g>=32;b++)(34===(g=e.charCodeAt(b))||92===g)&&(d+=e.slice(h,b)+"\\",h=b,m=!0);return m?d+=e.slice(h):d=e,g<32?JSON.stringify(e):'"'+d+'"'}function q(e,d,h,m){let g,y=this[C],b=this[P],v=this[k],x=this[T],E=this[S],M=this[_],B=this[R],j=this[D],U=this[L],F=this[w][h]+m;F+=E,B.log&&(e=B.log(e));let q=v[O],V="";for(let d in e)if(g=e[d],Object.prototype.hasOwnProperty.call(e,d)&&void 0!==g){M[d]?g=M[d](g):d===U&&M.err&&(g=M.err(g));let e=v[d]||q;switch(typeof g){case"undefined":case"function":continue;case"number":!1===Number.isFinite(g)&&(g=null);case"boolean":e&&(g=e(g));break;case"string":g=(e||z)(g);break;default:g=(e||y)(g,b)}if(void 0===g)continue;V+=","+z(d)+":"+g}let H="";if(void 0!==d){g=M[j]?M[j](d):d;let e=v[j]||q;switch(typeof g){case"function":break;case"number":!1===Number.isFinite(g)&&(g=null);case"boolean":e&&(g=e(g)),H=',"'+j+'":'+g;break;case"string":H=',"'+j+'":'+(g=(e||z)(g));break;default:H=',"'+j+'":'+(g=(e||y)(g,b))}}return this[I]&&V?F+this[$]+V.slice(1)+"}"+H+x:F+V+H+x}function V(e,d){let h,m=e[S],g=e[C],y=e[P],b=e[k],v=b[O],w=e[_];for(let S in d=(0,e[R].bindings)(d))if(h=d[S],!0===("level"!==S&&"serializers"!==S&&"formatters"!==S&&"customLevels"!==S&&d.hasOwnProperty(S)&&void 0!==h)){if(h=w[S]?w[S](h):h,void 0===(h=(b[S]||v||g)(h,y)))continue;m+=',"'+S+'":'+h}return m}function H(e){return e.write!==e.constructor.prototype.write}let K=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function G(e){let d=new b(e);return d.on("error",h),K||e.sync||!B||(v.register(d,W),d.on("close",function(){v.unregister(d)})),d;function h(e){if("EPIPE"===e.code){d.write=U,d.end=U,d.flushSync=U,d.destroy=U;return}d.removeListener("error",h),d.emit("error",e)}}function W(e,d){e.destroyed||("beforeExit"===d?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function J(e){return function(d,h,m={},g){if("string"==typeof m)g=G({dest:m}),m={};else if("string"==typeof g){if(m&&m.transport)throw Error("only one of option.transport or stream can be specified");g=G({dest:g})}else if(m instanceof b||m.writable||m._writableState)g=m,m={};else if(m.transport){let e;if(m.transport instanceof b||m.transport.writable||m.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(m.transport.targets&&m.transport.targets.length&&m.formatters&&"function"==typeof m.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");m.customLevels&&(e=m.useOnlyCustomLevels?m.customLevels:Object.assign({},m.levels,m.customLevels)),g=j({caller:h,...m.transport,levels:e})}if((m=Object.assign({},e,m)).serializers=Object.assign({},e.serializers,m.serializers),m.formatters=Object.assign({},e.formatters,m.formatters),m.prettyPrint)throw Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:y,onChild:v}=m;return!1===y&&(m.level="silent"),v||(m.onChild=U),g||(g=H(process.stdout)?process.stdout:G({fd:process.stdout.fd||1})),{opts:m,stream:g}}}e.exports={noop:U,buildSafeSonicBoom:G,asChindings:V,asJson:q,genLog:F,createArgsNormalizer:J,stringify:function(e,d){try{return JSON.stringify(e)}catch(h){try{return(d||this[P])(e)}catch(e){return'"[unable to serialize, circular reference is too complex to analyze]"'}}},buildFormatters:function(e,d,h){return{level:e,bindings:d,log:h}},normalizeDestFileDescriptor:function(e){let d=Number(e);return"string"==typeof e&&Number.isFinite(d)?d:void 0===e?1:e}}},22054:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateAdditionalItems=void 0;let m=h(52046),g=h(31934),y={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,m.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,m._)`{limit: ${e}}`},code(e){let{parentSchema:d,it:h}=e,{items:m}=d;if(!Array.isArray(m))return void(0,g.checkStrictMode)(h,'"additionalItems" is ignored when "items" is not an array of schemas');b(e,m)}};function b(e,d){let{gen:h,schema:y,data:b,keyword:v,it:w}=e;w.items=!0;let S=h.const("len",(0,m._)`${b}.length`);if(!1===y)e.setParams({len:d.length}),e.pass((0,m._)`${S} <= ${d.length}`);else if("object"==typeof y&&!(0,g.alwaysValidSchema)(w,y)){let g=h.var("valid",(0,m._)`${S} <= ${d.length}`);h.if((0,m.not)(g),()=>x(g)),e.ok(g)}function x(y){h.forRange("i",d.length,S,d=>{e.subschema({keyword:v,dataProp:d,dataPropType:g.Type.Num},y),w.allErrors||h.if((0,m.not)(y),()=>h.break())})}}d.validateAdditionalItems=b,d.default=y},22212:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var h=Function.prototype.toString,m=Object.create,g=Object.prototype.toString,y=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,d){this._keys.push(e),this._values.push(d)},e}();function b(){return new y}function v(){return new WeakMap}var w="undefined"!=typeof WeakMap?v:b;function S(e){if(!e)return m(null);var d=e.constructor;if(d===Object)return e===Object.prototype?{}:m(e);if(d&&~h.call(d).indexOf("[native code]"))try{return new d}catch(e){}return m(e)}function x(e){var d="";return e.global&&(d+="g"),e.ignoreCase&&(d+="i"),e.multiline&&(d+="m"),e.unicode&&(d+="u"),e.sticky&&(d+="y"),d}function _(e){return e.flags}var E="g"===/test/g.flags?_:x;function T(e){var d=g.call(e);return d.substring(8,d.length-1)}function k(e){return e[Symbol.toStringTag]||T(e)}var C="undefined"!=typeof Symbol?k:T,P=Object.defineProperty,O=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,D=Object.prototype,L=D.hasOwnProperty,$=D.propertyIsEnumerable,M="function"==typeof R;function B(e){return I(e).concat(R(e))}var j=M?B:I;function U(e,d,h){for(var m=j(e),g=0,y=m.length,b=void 0,v=void 0;g<y;++g)if("callee"!==(b=m[g])&&"caller"!==b){if(v=O(e,b),!v){d[b]=h.copier(e[b],h);continue}v.get||v.set||(v.value=h.copier(v.value,h));try{P(d,b,v)}catch(e){d[b]=v.value}}return d}function F(e,d){return e.slice(0)}function z(e,d){return new d.Constructor(F(e.buffer))}function q(e,d){var h=new d.Constructor;return d.cache.set(e,h),e.forEach(function(e,m){h.set(m,d.copier(e,d))}),h}function V(e,d){return U(e,q(e,d),d)}function H(e,d){var h=S(d.prototype);for(var m in d.cache.set(e,h),e)L.call(e,m)&&(h[m]=d.copier(e[m],d));return h}function K(e,d){var h=S(d.prototype);for(var m in d.cache.set(e,h),e)L.call(e,m)&&(h[m]=d.copier(e[m],d));for(var g=R(e),y=0,b=g.length,v=void 0;y<b;++y)v=g[y],$.call(e,v)&&(h[v]=d.copier(e[v],d));return h}function G(e,d){return new d.Constructor(e.valueOf())}function W(e,d){return e}function J(e,d){var h=new d.Constructor;return d.cache.set(e,h),e.forEach(function(e){h.add(d.copier(e,d))}),h}function Q(e,d){return U(e,J(e,d),d)}var Y=Array.isArray,X=Object.assign,Z=Object.getPrototypeOf||function(e){return e.__proto__},ee={array:function(e,d){var h=new d.Constructor;d.cache.set(e,h);for(var m=0,g=e.length;m<g;++m)h[m]=d.copier(e[m],d);return h},arrayBuffer:F,blob:function(e,d){return e.slice(0,e.size,e.type)},dataView:z,date:function(e,d){return new d.Constructor(e.getTime())},error:W,map:q,object:M?K:H,regExp:function(e,d){var h=new d.Constructor(e.source,E(e));return h.lastIndex=e.lastIndex,h},set:J},et=X({},ee,{array:function(e,d){var h=new d.Constructor;return d.cache.set(e,h),U(e,h,d)},map:V,object:function(e,d){var h=S(d.prototype);return d.cache.set(e,h),U(e,h,d)},set:Q});function ei(e){return{Arguments:e.object,Array:e.array,ArrayBuffer:e.arrayBuffer,Blob:e.blob,Boolean:G,DataView:e.dataView,Date:e.date,Error:e.error,Float32Array:e.arrayBuffer,Float64Array:e.arrayBuffer,Int8Array:e.arrayBuffer,Int16Array:e.arrayBuffer,Int32Array:e.arrayBuffer,Map:e.map,Number:G,Object:e.object,Promise:W,RegExp:e.regExp,Set:e.set,String:G,WeakMap:W,WeakSet:W,Uint8Array:e.arrayBuffer,Uint8ClampedArray:e.arrayBuffer,Uint16Array:e.arrayBuffer,Uint32Array:e.arrayBuffer,Uint64Array:e.arrayBuffer}}function er(e){var d=ei(X({},ee,e)),h=d.Array,m=d.Object;function g(e,g){if(g.prototype=g.Constructor=void 0,!e||"object"!=typeof e)return e;if(g.cache.has(e))return g.cache.get(e);if(g.prototype=Z(e),g.Constructor=g.prototype&&g.prototype.constructor,!g.Constructor||g.Constructor===Object)return m(e,g);if(Y(e))return h(e,g);var y=d[C(e)];return y?y(e,g):"function"==typeof e.then?e:m(e,g)}return function(e){return g(e,{Constructor:void 0,cache:w(),copier:g,prototype:void 0})}}function ea(e){return er(X({},et,e))}var en=ea({}),es=er({});d.copyStrict=en,d.createCopier=er,d.createStrictCopier=ea,d.default=es},22364:(e,d,h)=>{"use strict";h.d(d,{DN:()=>b,IS:()=>y,JT:()=>v});let m=e=>{let{name:d,domain:h,expires:m,httpOnly:g,maxAge:y,path:b,returnCookieAsObject:v,sameSite:w,secure:S,value:x}=e,_=`${d}=${x||""}`,E={name:d,value:x},T=S||"None"===w;return m&&(v?E.expires=m.toUTCString():_+=`; Expires=${m.toUTCString()}`),y&&(v?E.maxAge=y:_+=`; Max-Age=${y.toString()}`),h&&(v?E.domain=h:_+=`; Domain=${h}`),b&&(v?E.path=b:_+=`; Path=${b}`),T&&(v?E.secure=T:_+=`; Secure=${T}`),g&&(v?E.httpOnly=g:_+=`; HttpOnly=${g}`),w&&(v?E.sameSite=w:_+=`; SameSite=${w}`),v?E:_},g=({seconds:e=7200})=>{let d=new Date;return d.setSeconds(d.getSeconds()+e),d},y=({collectionAuthConfig:e,cookiePrefix:d,returnCookieAsObject:h=!1,token:y})=>{let b="string"==typeof e.cookies.sameSite?e.cookies.sameSite:e.cookies.sameSite?"Strict":void 0;return m({name:`${d}-token`,domain:e.cookies.domain??void 0,expires:g({seconds:e.tokenExpiration}),httpOnly:!0,path:"/",returnCookieAsObject:h,sameSite:b,secure:e.cookies.secure,value:y})},b=({collectionAuthConfig:e,cookiePrefix:d,returnCookieAsObject:h=!1})=>{let g="string"==typeof e.cookies.sameSite?e.cookies.sameSite:e.cookies.sameSite?"Strict":void 0,y=new Date(Date.now()-1e3);return m({name:`${d}-token`,domain:e.cookies.domain??void 0,expires:y,httpOnly:!0,path:"/",returnCookieAsObject:h,sameSite:g,secure:e.cookies.secure})};function v(e){let d=new Map,h=e.get("Cookie");if(!h)return d;for(let e of h.split(/; */)){if(!e)continue;let h=e.indexOf("=");if(-1===h){d.set(e,"true");continue}let[m,g]=[e.slice(0,h),e.slice(h+1)];try{d.set(m,decodeURIComponent(g??"true"))}catch{}}return d}},22396:(e,d,h)=>{"use strict";h.r(d),h.d(d,{__addDisposableResource:()=>J,__assign:()=>y,__asyncDelegator:()=>j,__asyncGenerator:()=>B,__asyncValues:()=>U,__await:()=>M,__awaiter:()=>k,__classPrivateFieldGet:()=>K,__classPrivateFieldIn:()=>W,__classPrivateFieldSet:()=>G,__createBinding:()=>P,__decorate:()=>v,__disposeResources:()=>Y,__esDecorate:()=>S,__exportStar:()=>O,__extends:()=>g,__generator:()=>C,__importDefault:()=>H,__importStar:()=>V,__makeTemplateObject:()=>F,__metadata:()=>T,__param:()=>w,__propKey:()=>_,__read:()=>R,__rest:()=>b,__rewriteRelativeImportExtension:()=>X,__runInitializers:()=>x,__setFunctionName:()=>E,__spread:()=>D,__spreadArray:()=>$,__spreadArrays:()=>L,__values:()=>I,default:()=>Z});var m=function(e,d){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(e[h]=d[h])})(e,d)};function g(e,d){if("function"!=typeof d&&null!==d)throw TypeError("Class extends value "+String(d)+" is not a constructor or null");function h(){this.constructor=e}m(e,d),e.prototype=null===d?Object.create(d):(h.prototype=d.prototype,new h)}var y=function(){return(y=Object.assign||function(e){for(var d,h=1,m=arguments.length;h<m;h++)for(var g in d=arguments[h])Object.prototype.hasOwnProperty.call(d,g)&&(e[g]=d[g]);return e}).apply(this,arguments)};function b(e,d){var h={};for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&0>d.indexOf(m)&&(h[m]=e[m]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var g=0,m=Object.getOwnPropertySymbols(e);g<m.length;g++)0>d.indexOf(m[g])&&Object.prototype.propertyIsEnumerable.call(e,m[g])&&(h[m[g]]=e[m[g]]);return h}function v(e,d,h,m){var g,y=arguments.length,b=y<3?d:null===m?m=Object.getOwnPropertyDescriptor(d,h):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(e,d,h,m);else for(var v=e.length-1;v>=0;v--)(g=e[v])&&(b=(y<3?g(b):y>3?g(d,h,b):g(d,h))||b);return y>3&&b&&Object.defineProperty(d,h,b),b}function w(e,d){return function(h,m){d(h,m,e)}}function S(e,d,h,m,g,y){function b(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var v,w=m.kind,S="getter"===w?"get":"setter"===w?"set":"value",x=!d&&e?m.static?e:e.prototype:null,_=d||(x?Object.getOwnPropertyDescriptor(x,m.name):{}),E=!1,T=h.length-1;T>=0;T--){var k={};for(var C in m)k[C]="access"===C?{}:m[C];for(var C in m.access)k.access[C]=m.access[C];k.addInitializer=function(e){if(E)throw TypeError("Cannot add initializers after decoration has completed");y.push(b(e||null))};var P=(0,h[T])("accessor"===w?{get:_.get,set:_.set}:_[S],k);if("accessor"===w){if(void 0===P)continue;if(null===P||"object"!=typeof P)throw TypeError("Object expected");(v=b(P.get))&&(_.get=v),(v=b(P.set))&&(_.set=v),(v=b(P.init))&&g.unshift(v)}else(v=b(P))&&("field"===w?g.unshift(v):_[S]=v)}x&&Object.defineProperty(x,m.name,_),E=!0}function x(e,d,h){for(var m=arguments.length>2,g=0;g<d.length;g++)h=m?d[g].call(e,h):d[g].call(e);return m?h:void 0}function _(e){return"symbol"==typeof e?e:"".concat(e)}function E(e,d,h){return"symbol"==typeof d&&(d=d.description?"[".concat(d.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:h?"".concat(h," ",d):d})}function T(e,d){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,d)}function k(e,d,h,m){function g(e){return e instanceof h?e:new h(function(d){d(e)})}return new(h||(h=Promise))(function(h,y){function b(e){try{w(m.next(e))}catch(e){y(e)}}function v(e){try{w(m.throw(e))}catch(e){y(e)}}function w(e){e.done?h(e.value):g(e.value).then(b,v)}w((m=m.apply(e,d||[])).next())})}function C(e,d){var h,m,g,y={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]},b=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return b.next=v(0),b.throw=v(1),b.return=v(2),"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function v(e){return function(d){return w([e,d])}}function w(v){if(h)throw TypeError("Generator is already executing.");for(;b&&(b=0,v[0]&&(y=0)),y;)try{if(h=1,m&&(g=2&v[0]?m.return:v[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,v[1])).done)return g;switch(m=0,g&&(v=[2&v[0],g.value]),v[0]){case 0:case 1:g=v;break;case 4:return y.label++,{value:v[1],done:!1};case 5:y.label++,m=v[1],v=[0];continue;case 7:v=y.ops.pop(),y.trys.pop();continue;default:if(!(g=(g=y.trys).length>0&&g[g.length-1])&&(6===v[0]||2===v[0])){y=0;continue}if(3===v[0]&&(!g||v[1]>g[0]&&v[1]<g[3])){y.label=v[1];break}if(6===v[0]&&y.label<g[1]){y.label=g[1],g=v;break}if(g&&y.label<g[2]){y.label=g[2],y.ops.push(v);break}g[2]&&y.ops.pop(),y.trys.pop();continue}v=d.call(e,y)}catch(e){v=[6,e],m=0}finally{h=g=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var P=Object.create?function(e,d,h,m){void 0===m&&(m=h);var g=Object.getOwnPropertyDescriptor(d,h);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(e,m,g)}:function(e,d,h,m){void 0===m&&(m=h),e[m]=d[h]};function O(e,d){for(var h in e)"default"===h||Object.prototype.hasOwnProperty.call(d,h)||P(d,e,h)}function I(e){var d="function"==typeof Symbol&&Symbol.iterator,h=d&&e[d],m=0;if(h)return h.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&m>=e.length&&(e=void 0),{value:e&&e[m++],done:!e}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(e,d){var h="function"==typeof Symbol&&e[Symbol.iterator];if(!h)return e;var m,g,y=h.call(e),b=[];try{for(;(void 0===d||d-- >0)&&!(m=y.next()).done;)b.push(m.value)}catch(e){g={error:e}}finally{try{m&&!m.done&&(h=y.return)&&h.call(y)}finally{if(g)throw g.error}}return b}function D(){for(var e=[],d=0;d<arguments.length;d++)e=e.concat(R(arguments[d]));return e}function L(){for(var e=0,d=0,h=arguments.length;d<h;d++)e+=arguments[d].length;for(var m=Array(e),g=0,d=0;d<h;d++)for(var y=arguments[d],b=0,v=y.length;b<v;b++,g++)m[g]=y[b];return m}function $(e,d,h){if(h||2==arguments.length)for(var m,g=0,y=d.length;g<y;g++)!m&&g in d||(m||(m=Array.prototype.slice.call(d,0,g)),m[g]=d[g]);return e.concat(m||Array.prototype.slice.call(d))}function M(e){return this instanceof M?(this.v=e,this):new M(e)}function B(e,d,h){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var m,g=h.apply(e,d||[]),y=[];return m=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",b),m[Symbol.asyncIterator]=function(){return this},m;function b(e){return function(d){return Promise.resolve(d).then(e,_)}}function v(e,d){g[e]&&(m[e]=function(d){return new Promise(function(h,m){y.push([e,d,h,m])>1||w(e,d)})},d&&(m[e]=d(m[e])))}function w(e,d){try{S(g[e](d))}catch(e){E(y[0][3],e)}}function S(e){e.value instanceof M?Promise.resolve(e.value.v).then(x,_):E(y[0][2],e)}function x(e){w("next",e)}function _(e){w("throw",e)}function E(e,d){e(d),y.shift(),y.length&&w(y[0][0],y[0][1])}}function j(e){var d,h;return d={},m("next"),m("throw",function(e){throw e}),m("return"),d[Symbol.iterator]=function(){return this},d;function m(m,g){d[m]=e[m]?function(d){return(h=!h)?{value:M(e[m](d)),done:!1}:g?g(d):d}:g}}function U(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,h=e[Symbol.asyncIterator];return h?h.call(e):(e=I(e),d={},m("next"),m("throw"),m("return"),d[Symbol.asyncIterator]=function(){return this},d);function m(h){d[h]=e[h]&&function(d){return new Promise(function(m,y){g(m,y,(d=e[h](d)).done,d.value)})}}function g(e,d,h,m){Promise.resolve(m).then(function(d){e({value:d,done:h})},d)}}function F(e,d){return Object.defineProperty?Object.defineProperty(e,"raw",{value:d}):e.raw=d,e}var z=Object.create?function(e,d){Object.defineProperty(e,"default",{enumerable:!0,value:d})}:function(e,d){e.default=d},q=function(e){return(q=Object.getOwnPropertyNames||function(e){var d=[];for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&(d[d.length]=h);return d})(e)};function V(e){if(e&&e.__esModule)return e;var d={};if(null!=e)for(var h=q(e),m=0;m<h.length;m++)"default"!==h[m]&&P(d,e,h[m]);return z(d,e),d}function H(e){return e&&e.__esModule?e:{default:e}}function K(e,d,h,m){if("a"===h&&!m)throw TypeError("Private accessor was defined without a getter");if("function"==typeof d?e!==d||!m:!d.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===h?m:"a"===h?m.call(e):m?m.value:d.get(e)}function G(e,d,h,m,g){if("m"===m)throw TypeError("Private method is not writable");if("a"===m&&!g)throw TypeError("Private accessor was defined without a setter");if("function"==typeof d?e!==d||!g:!d.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===m?g.call(e,h):g?g.value=h:d.set(e,h),h}function W(e,d){if(null===d||"object"!=typeof d&&"function"!=typeof d)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?d===e:e.has(d)}function J(e,d,h){if(null!=d){var m,g;if("object"!=typeof d&&"function"!=typeof d)throw TypeError("Object expected.");if(h){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");m=d[Symbol.asyncDispose]}if(void 0===m){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");m=d[Symbol.dispose],h&&(g=m)}if("function"!=typeof m)throw TypeError("Object not disposable.");g&&(m=function(){try{g.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:d,dispose:m,async:h})}else h&&e.stack.push({async:!0});return d}var Q="function"==typeof SuppressedError?SuppressedError:function(e,d,h){var m=Error(h);return m.name="SuppressedError",m.error=e,m.suppressed=d,m};function Y(e){function d(d){e.error=e.hasError?new Q(d,e.error,"An error was suppressed during disposal."):d,e.hasError=!0}var h,m=0;function g(){for(;h=e.stack.pop();)try{if(!h.async&&1===m)return m=0,e.stack.push(h),Promise.resolve().then(g);if(h.dispose){var y=h.dispose.call(h.value);if(h.async)return m|=2,Promise.resolve(y).then(g,function(e){return d(e),g()})}else m|=1}catch(e){d(e)}if(1===m)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return g()}function X(e,d){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,h,m,g,y){return h?d?".jsx":".js":!m||g&&y?m+g+"."+y.toLowerCase()+"js":e}):e}let Z={__extends:g,__assign:y,__rest:b,__decorate:v,__param:w,__esDecorate:S,__runInitializers:x,__propKey:_,__setFunctionName:E,__metadata:T,__awaiter:k,__generator:C,__createBinding:P,__exportStar:O,__values:I,__read:R,__spread:D,__spreadArrays:L,__spreadArray:$,__await:M,__asyncGenerator:B,__asyncDelegator:j,__asyncValues:U,__makeTemplateObject:F,__importStar:V,__importDefault:H,__classPrivateFieldGet:K,__classPrivateFieldSet:G,__classPrivateFieldIn:W,__addDisposableResource:J,__disposeResources:Y,__rewriteRelativeImportExtension:X}},22476:e=>{"use strict";e.exports=function e({input:e,ident:d="    ",eol:h="\n"}){let m=e.split(/\r?\n/);for(let e=1;e<m.length;e+=1)m[e]=d+m[e];return m.join(h)}},22772:(e,d,h)=>{"use strict";var m=h(19829),g=h(61664),y=h(31258),b=h(15643);let{DatabaseError:v}=h(51289),{escapeIdentifier:w,escapeLiteral:S}=h(47141),x=e=>class extends b{constructor(d){super(d,e)}};var _=function(e){this.defaults=g,this.Client=e,this.Query=this.Client.Query,this.Pool=x(this.Client),this._pools=[],this.Connection=y,this.types=h(44612),this.DatabaseError=v,this.escapeIdentifier=w,this.escapeLiteral=S};void 0!==process.env.NODE_PG_FORCE_NATIVE?e.exports=new _(h(69126)):(e.exports=new _(m),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var d=null;try{d=new _(h(69126))}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}return Object.defineProperty(e.exports,"native",{value:d}),d}}))},22894:(e,d,h)=>{"use strict";h.d(d,{B:()=>v});var m=h(13062),g=h(89554);class y extends g.L{constructor(e){super(e,m.h.LOCKED)}}var b=h(92520);let v=async({id:e,collectionSlug:d,globalSlug:h,lockDurationDefault:m=300,lockErrorMessage:g,overrideLock:v=!0,req:w})=>{let{payload:S}=w,x=d?S.collections?.[d]?.config?.lockDocuments:S.config?.globals?.find(e=>e.slug===h)?.lockDocuments,_=!1!==x,E={};if(d)E={and:[{"document.relationTo":{equals:d}},{"document.value":{equals:e}}]};else if(h)E={globalSlug:{equals:h}};else throw Error("Either collectionSlug or globalSlug must be provided.");if(_){if(!v){let v=d?`Document with ID ${e} is currently locked by another user and cannot be modified.`:`Global document with slug "${h}" is currently locked by another user and cannot be modified.`,_=g||v,T=await S.db.find({collection:b.q,limit:1,pagination:!1,sort:"-updatedAt",where:E}),k=T?.docs[0];if(k){let e=new Date(k?.updatedAt).getTime(),d=new Date().getTime(),h=1e3*("object"==typeof x?x.duration:m),g=w.user?.id;if(k.user?.value!==g&&d-e<=h)throw new y(_)}}await S.db.deleteMany({collection:b.q,req:"mongoose"===S.db.name?void 0:w,where:E})}}},23166:(e,d,h)=>{"use strict";h.d(d,{e:()=>g});var m=h(74290);let g=({field:e,select:d,selectMode:h,siblingDoc:g})=>{let y=!0;return(0,m.Z7)(e)&&d&&h&&e.name&&("include"!==h||d[e.name]||(delete g[e.name],y=!1),"exclude"===h&&!1===d[e.name]&&(delete g[e.name],y=!1)),y}},23202:e=>{"use strict";let d=e=>e&&"string"==typeof e.message,h=e=>{if(!e)return;let h=e.cause;if("function"!=typeof h)return d(h)?h:void 0;{let h=e.cause();return d(h)?h:void 0}},m=(e,g)=>{if(!d(e))return"";let y=e.stack||"";if(g.has(e))return y+"\ncauses have become circular...";let b=h(e);return b?(g.add(e),y+"\ncaused by: "+m(b,g)):y},g=(e,m,y)=>{if(!d(e))return"";let b=y?"":e.message||"";if(m.has(e))return b+": ...";let v=h(e);if(!v)return b;{m.add(e);let d="function"==typeof e.cause;return b+(d?"":": ")+g(v,m,d)}};e.exports={isErrorLike:d,getErrorCause:h,stackWithCauses:e=>m(e,new Set),messageWithCauses:e=>g(e,new Set)}},23535:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.createBufferedReadable=v;let m=h(57075),g=h(32918),y=h(87679),b=h(39444);function v(e,d,h){if((0,b.isReadableStream)(e))return(0,y.createBufferedReadableStream)(e,d,h);let v=new m.Readable({read(){}}),w=!1,S=0,x=["",new g.ByteArrayCollector(e=>new Uint8Array(e)),new g.ByteArrayCollector(e=>Buffer.from(new Uint8Array(e)))],_=-1;return e.on("data",e=>{let m=(0,y.modeOf)(e,!0);if(_!==m&&(_>=0&&v.push((0,y.flush)(x,_)),_=m),-1===_)return void v.push(e);let g=(0,y.sizeOf)(e);S+=g;let b=(0,y.sizeOf)(x[_]);if(g>=d&&0===b)v.push(e);else{let m=(0,y.merge)(x,_,e);!w&&S>2*d&&(w=!0,null==h||h.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${d}, automatically buffering.`)),m>=d&&v.push((0,y.flush)(x,_))}}),e.on("end",()=>{if(-1!==_){let e=(0,y.flush)(x,_);(0,y.sizeOf)(e)>0&&v.push(e)}v.push(null)}),v}},23682:(e,d,h)=>{"use strict";h.d(d,{A:()=>_});var m=h(77598),g=h.n(m);let y={randomUUID:g().randomUUID},b=new Uint8Array(256),v=b.length;function w(){return v>b.length-16&&(g().randomFillSync(b),v=0),b.slice(v,v+=16)}let S=[];for(let e=0;e<256;++e)S.push((e+256).toString(16).slice(1));function x(e,d=0){return(S[e[d+0]]+S[e[d+1]]+S[e[d+2]]+S[e[d+3]]+"-"+S[e[d+4]]+S[e[d+5]]+"-"+S[e[d+6]]+S[e[d+7]]+"-"+S[e[d+8]]+S[e[d+9]]+"-"+S[e[d+10]]+S[e[d+11]]+S[e[d+12]]+S[e[d+13]]+S[e[d+14]]+S[e[d+15]]).toLowerCase()}let _=function(e,d,h){if(y.randomUUID&&!d&&!e)return y.randomUUID();let m=(e=e||{}).random||(e.rng||w)();if(m[6]=15&m[6]|64,m[8]=63&m[8]|128,d){h=h||0;for(let e=0;e<16;++e)d[h+e]=m[e];return d}return x(m)}},23718:(e,d,h)=>{"use strict";function m(e){return null!=e&&("string"!=typeof e||""!==e.trim())&&!Number.isNaN(Number(e))}h.d(d,{E:()=>m})},23854:(e,d,h)=>{"use strict";h.d(d,{$:()=>k});var m=h(26154),g=h(553),y=h(933),b=h(14603),v=h(89426),w=h(89075),S=h(92520),x=h(71707),_=h(12276),E=h(85455),T=h(77900);let k=async e=>{let d=e;try{if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"read",req:d.req})||d;let{id:e,collection:{config:h},currentDepth:x,depth:k,disableErrors:C,draft:P=!1,includeLockStatus:O,joins:I,overrideAccess:R=!1,populate:D,req:{fallbackLocale:L,locale:$,t:M},req:B,select:j,showHiddenFields:U}=d,F=(0,_.Y)({fields:h.flattenedFields,forceSelect:h.forceSelect,select:j}),z=!!R||await (0,m.A)({id:e,disableErrors:C,req:B},h.access.read);if(!1===z)return null;let q={id:{equals:e}},V=(0,g.m)(q,z),H=await (0,y.S)({collectionConfig:h,joins:I,overrideAccess:R,req:B}),K={collection:h.slug,draftsEnabled:P,joins:"GraphQL"!==B.payloadAPI&&H,locale:$,req:{transactionID:B.transactionID},select:F,where:V};if(B.payload.collections[h.slug].customIDType&&await (0,w.d)({collectionConfig:h,overrideAccess:R,req:B,where:q}),!K.where.and[0].id)throw new b.M(M);let G=await B.payload.db.findOne(K);if(!G){if(!C)throw new b.M(B.t);return null}if(O&&e){let d=null;try{let m=h?.lockDocuments,g=300,y="object"==typeof m?m.duration:g,b=1e3*y,v=await B.payload.find({collection:S.q,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:B,where:{and:[{"document.relationTo":{equals:h.slug}},{"document.value":{equals:e}},{updatedAt:{greater_than:new Date(new Date().getTime()-b)}}]}});v&&v.docs.length>0&&(d=v.docs[0])}catch{}G._isLocked=!!d,G._userEditing=d?.user?.value??null}if(h.versions?.drafts&&P&&(G=await (0,E.A)({accessResult:z,doc:G,entity:h,entityType:"collection",overrideAccess:R,req:B,select:F})),h.hooks?.beforeRead?.length)for(let e of h.hooks.beforeRead)G=await e({collection:h,context:B.context,doc:G,query:K.where,req:B})||G;if(G=await (0,v.v)({collection:h,context:B.context,currentDepth:x,depth:k,doc:G,draft:P,fallbackLocale:L,global:null,locale:$,overrideAccess:R,populate:D,req:B,select:F,showHiddenFields:U}),h.hooks?.afterRead?.length)for(let e of h.hooks.afterRead)G=await e({collection:h,context:B.context,doc:G,query:K.where,req:B})||G;return G=await (0,T.E)({args:d,collection:h,operation:"findByID",result:G})}catch(e){throw await (0,x.J)(d.req),e}}},23864:(e,d,h)=>{"use strict";let m=d,g=h(17077),y=e=>e;function b(e,d,h={}){return new Promise((m,b)=>{let v=new g[e](d),w=h.onAbort||y,S=h.onSubmit||y,x=h.onExit||y;v.on("state",d.onState||y),v.on("submit",e=>m(S(e))),v.on("exit",e=>m(x(e))),v.on("abort",e=>b(w(e)))})}m.text=e=>b("TextPrompt",e),m.password=e=>(e.style="password",m.text(e)),m.invisible=e=>(e.style="invisible",m.text(e)),m.number=e=>b("NumberPrompt",e),m.date=e=>b("DatePrompt",e),m.confirm=e=>b("ConfirmPrompt",e),m.list=e=>{let d=e.separator||",";return b("TextPrompt",e,{onSubmit:e=>e.split(d).map(e=>e.trim())})},m.toggle=e=>b("TogglePrompt",e),m.select=e=>b("SelectPrompt",e),m.multiselect=e=>{e.choices=[].concat(e.choices||[]);let d=e=>e.filter(e=>e.selected).map(e=>e.value);return b("MultiselectPrompt",e,{onAbort:d,onSubmit:d})},m.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);let d=e=>e.filter(e=>e.selected).map(e=>e.value);return b("AutocompleteMultiselectPrompt",e,{onAbort:d,onSubmit:d})};let v=(e,d)=>Promise.resolve(d.filter(d=>d.title.slice(0,e.length).toLowerCase()===e.toLowerCase()));m.autocomplete=e=>(e.suggest=e.suggest||v,e.choices=[].concat(e.choices||[]),b("AutocompletePrompt",e))},24264:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=(e,d,h)=>{let m,g=0,y=h;if(e<d[0].first||e>d[y].last)return 0;for(;y>=g;)if(e>d[m=Math.floor((g+y)/2)].last)g=m+1;else{if(!(e<d[m].first))return 1;y=m-1}return 0}},24507:e=>{"use strict";e.exports={mapHttpResponse:g,resSerializer:m};let d=Symbol("pino-raw-res-ref"),h=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[d]},set:function(e){this[d]=e}}});function m(e){let d=Object.create(h);return d.statusCode=e.headersSent?e.statusCode:null,d.headers=e.getHeaders?e.getHeaders():e._headers,d.raw=e,d}function g(e){return{res:m(e)}}Object.defineProperty(h,d,{writable:!0,value:{}})},24574:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=(e,d,h)=>(w(e,d,"default"),h&&w(h,d,"default")),x=e=>w(m({},"__esModule",{value:!0}),e),_={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(_,{Uint8ArrayBlobAdapter:()=>P}),e.exports=x(_);var E=h(80621),T=h(69713);function k(e,d="utf-8"){return"base64"===d?(0,E.toBase64)(e):(0,T.toUtf8)(e)}function C(e,d){return"base64"===d?P.mutate((0,E.fromBase64)(e)):P.mutate((0,T.fromUtf8)(e))}v(k,"transformToString"),v(C,"transformFromString");var P=class e extends Uint8Array{static{v(this,"Uint8ArrayBlobAdapter")}static fromString(e,d="utf-8"){if("string"==typeof e)return C(e,d);throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(d){return Object.setPrototypeOf(d,e.prototype),d}transformToString(e="utf-8"){return k(this,e)}};S(_,h(85149),e.exports),S(_,h(95309),e.exports),S(_,h(23535),e.exports),S(_,h(73264),e.exports),S(_,h(49502),e.exports),S(_,h(6703),e.exports),S(_,h(82070),e.exports),S(_,h(39444),e.exports)},25100:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS:()=>X,S3ExpressIdentityCache:()=>U,S3ExpressIdentityCacheEntry:()=>F,S3ExpressIdentityProviderImpl:()=>z,SignatureV4S3Express:()=>Z,checkContentLengthHeader:()=>C,checkContentLengthHeaderMiddlewareOptions:()=>P,getCheckContentLengthHeaderPlugin:()=>O,getRegionRedirectMiddlewarePlugin:()=>$,getS3ExpiresMiddlewarePlugin:()=>j,getS3ExpressHttpSigningPlugin:()=>eh,getS3ExpressPlugin:()=>en,getThrow200ExceptionsPlugin:()=>eS,getValidateBucketNamePlugin:()=>eC,regionRedirectEndpointMiddleware:()=>I,regionRedirectEndpointMiddlewareOptions:()=>R,regionRedirectMiddleware:()=>D,regionRedirectMiddlewareOptions:()=>L,resolveS3Config:()=>em,s3ExpiresMiddleware:()=>M,s3ExpiresMiddlewareOptions:()=>B,s3ExpressHttpSigningMiddleware:()=>eu,s3ExpressHttpSigningMiddlewareOptions:()=>ep,s3ExpressMiddleware:()=>er,s3ExpressMiddlewareOptions:()=>ea,throw200ExceptionsMiddleware:()=>eb,throw200ExceptionsMiddlewareOptions:()=>ew,validateBucketNameMiddleware:()=>eT,validateBucketNameMiddlewareOptions:()=>ek}),e.exports=S(x);var _=h(96543),E=h(135),T="content-length",k="x-amz-decoded-content-length";function C(){return(e,d)=>async h=>{let{request:m}=h;if(_.HttpRequest.isInstance(m)&&!(T in m.headers)&&!(k in m.headers)){let e="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"!=typeof d?.logger?.warn||d.logger instanceof E.NoOpLogger?console.warn(e):d.logger.warn(e)}return e({...h})}}v(C,"checkContentLengthHeader");var P={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},O=v(e=>({applyToStack:v(e=>{e.add(C(),P)},"applyToStack")}),"getCheckContentLengthHeaderPlugin"),I=v(e=>(d,h)=>async m=>{let g=await e.region(),y=e.region,b=v(()=>{},"unlock");h.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:v(async()=>h.__s3RegionRedirect,"value")}),b=v(()=>Object.defineProperty(e,"region",{writable:!0,value:y}),"unlock"));try{let y=await d(m);if(h.__s3RegionRedirect){b();let d=await e.region();if(g!==d)throw Error("Region was not restored following S3 region redirect.")}return y}catch(e){throw b(),e}},"regionRedirectEndpointMiddleware"),R={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function D(e){return(d,h)=>async m=>{try{return await d(m)}catch(g){if(e.followRegionRedirects&&(g?.$metadata?.httpStatusCode===301||g?.$metadata?.httpStatusCode===400&&g?.name==="IllegalLocationConstraintException")){try{let d=g.$response.headers["x-amz-bucket-region"];h.logger?.debug(`Redirecting from ${await e.region()} to ${d}`),h.__s3RegionRedirect=d}catch(e){throw Error("Region redirect failed: "+e)}return d(m)}throw g}}}v(D,"regionRedirectMiddleware");var L={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},$=v(e=>({applyToStack:v(d=>{d.add(D(e),L),d.addRelativeTo(I(e),R)},"applyToStack")}),"getRegionRedirectMiddlewarePlugin"),M=v(e=>(e,d)=>async h=>{let m=await e(h),{response:g}=m;if(_.HttpResponse.isInstance(g)&&g.headers.expires){g.headers.expiresstring=g.headers.expires;try{(0,E.parseRfc7231DateTime)(g.headers.expires)}catch(e){d.logger?.warn(`AWS SDK Warning for ${d.clientName}::${d.commandName} response parsing (${g.headers.expires}): ${e}`),delete g.headers.expires}}return m},"s3ExpiresMiddleware"),B={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},j=v(e=>({applyToStack:v(d=>{d.addRelativeTo(M(e),B)},"applyToStack")}),"getS3ExpiresMiddlewarePlugin"),U=class e{constructor(e={}){this.data=e}static{v(this,"S3ExpressIdentityCache")}lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;get(e){let d=this.data[e];if(d)return d}set(e,d){return this.data[e]=d,d}delete(e){delete this.data[e]}async purgeExpired(){let d=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>d))for(let e in this.data){let h=this.data[e];if(!h.isRefreshing){let m=await h.identity;m.expiration&&m.expiration.getTime()<d&&delete this.data[e]}}}},F=class{constructor(e,d=!1,h=Date.now()){this._identity=e,this.isRefreshing=d,this.accessed=h}static{v(this,"S3ExpressIdentityCacheEntry")}get identity(){return this.accessed=Date.now(),this._identity}},z=class e{constructor(e,d=new U){this.createSessionFn=e,this.cache=d}static{v(this,"S3ExpressIdentityProviderImpl")}static REFRESH_WINDOW_MS=6e4;async getS3ExpressIdentity(d,h){let m=h.Bucket,{cache:g}=this,y=g.get(m);return y?y.identity.then(d=>(d.expiration?.getTime()??0)<Date.now()?g.set(m,new F(this.getIdentity(m))).identity:((d.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!y.isRefreshing&&(y.isRefreshing=!0,this.getIdentity(m).then(e=>{g.set(m,new F(Promise.resolve(e)))})),d)):g.set(m,new F(this.getIdentity(m))).identity}async getIdentity(e){await this.cache.purgeExpired().catch(e=>{console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+e)});let d=await this.createSessionFn(e);if(!d.Credentials?.AccessKeyId||!d.Credentials?.SecretAccessKey)throw Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:d.Credentials.AccessKeyId,secretAccessKey:d.Credentials.SecretAccessKey,sessionToken:d.Credentials.SessionToken,expiration:d.Credentials.Expiration?new Date(d.Credentials.Expiration):void 0}}},q=h(6541),V=h(7743),H="Directory",K="S3Express",G="sigv4-s3express",W="X-Amz-S3session-Token",J=W.toLowerCase(),Q="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",Y="s3_disable_express_session_auth",X={environmentVariableSelector:v(e=>(0,V.booleanSelector)(e,Q,V.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:v(e=>(0,V.booleanSelector)(e,Y,V.SelectorType.CONFIG),"configFileSelector"),default:!1},Z=class extends q.SignatureV4{static{v(this,"SignatureV4S3Express")}async signWithCredentials(e,d,h){let m=ee(d);e.headers[J]=d.sessionToken;let g=this;return et(g,m),g.signRequest(e,h??{})}async presignWithCredentials(e,d,h){let m=ee(d);delete e.headers[J],e.headers[W]=d.sessionToken,e.query=e.query??{},e.query[W]=d.sessionToken;let g=this;return et(g,m),this.presign(e,h)}};function ee(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function et(e,d){let h=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),m=e.credentialProvider,g=v(()=>(clearTimeout(h),e.credentialProvider=m,Promise.resolve(d)),"overrideCredentialsProviderOnce");e.credentialProvider=g}v(ee,"getCredentialsWithoutSessionToken"),v(et,"setSingleOverride");var ei=h(48722),er=v(e=>(d,h)=>async m=>{if(h.endpointV2){let d=h.endpointV2,g=d.properties?.authSchemes?.[0]?.name===G;if((d.properties?.backend===K||d.properties?.bucketType===H)&&((0,ei.setFeature)(h,"S3_EXPRESS_BUCKET","J"),h.isS3ExpressBucket=!0),g){let d=m.input.Bucket;if(d){let g=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:d});h.s3ExpressIdentity=g,_.HttpRequest.isInstance(m.request)&&g.sessionToken&&(m.request.headers[J]=g.sessionToken)}}}return d(m)},"s3ExpressMiddleware"),ea={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},en=v(e=>({applyToStack:v(d=>{d.add(er(e),ea)},"applyToStack")}),"getS3ExpressPlugin"),es=h(55324),eo=h(43510),el=v(async(e,d,h,m)=>{let g=await m.signWithCredentials(h,e,{});if(g.headers["X-Amz-Security-Token"]||g.headers["x-amz-security-token"])throw Error("X-Amz-Security-Token must not be set for s3-express requests.");return g},"signS3Express"),ed=v(e=>e=>{throw e},"defaultErrorHandler"),ec=v((e,d)=>{},"defaultSuccessHandler"),ep=es.httpSigningMiddlewareOptions,eu=v(e=>(d,h)=>async m=>{let g;if(!_.HttpRequest.isInstance(m.request))return d(m);let y=(0,eo.getSmithyContext)(h).selectedHttpAuthScheme;if(!y)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:b={}},identity:v,signer:w}=y;g=h.s3ExpressIdentity?await el(h.s3ExpressIdentity,b,m.request,await e.signer()):await w.sign(m.request,v,b);let S=await d({...m,request:g}).catch((w.errorHandler||ed)(b));return(w.successHandler||ec)(S.response,b),S},"s3ExpressHttpSigningMiddleware"),eh=v(e=>({applyToStack:v(d=>{d.addRelativeTo(eu(e),es.httpSigningMiddlewareOptions)},"applyToStack")}),"getS3ExpressHttpSigningPlugin"),em=v((e,{session:d})=>{let[h,m]=d,{forcePathStyle:g,useAccelerateEndpoint:y,disableMultiregionAccessPoints:b,followRegionRedirects:v,s3ExpressIdentityProvider:w,bucketEndpoint:S}=e;return Object.assign(e,{forcePathStyle:g??!1,useAccelerateEndpoint:y??!1,disableMultiregionAccessPoints:b??!1,followRegionRedirects:v??!1,s3ExpressIdentityProvider:w??new z(async e=>h().send(new m({Bucket:e}))),bucketEndpoint:S??!1})},"resolveS3Config"),ef=h(80854),eg={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},ey=3e3,eb=v(e=>(d,h)=>async m=>{let g=await d(m),{response:y}=g;if(!_.HttpResponse.isInstance(y))return g;let{statusCode:b,body:w}=y;if(b<200||b>=300||"function"!=typeof w?.stream&&"function"!=typeof w?.pipe&&"function"!=typeof w?.tee)return g;let S=w,x=w;!w||"object"!=typeof w||w instanceof Uint8Array||([S,x]=await (0,ef.splitStream)(w)),y.body=x;let E=await ev(S,{streamCollector:v(async e=>(0,ef.headStream)(e,ey),"streamCollector")});"function"==typeof S?.destroy&&S.destroy();let T=e.utf8Encoder(E.subarray(E.length-16));if(0===E.length&&eg[h.commandName]){let e=Error("S3 aborted request");throw e.name="InternalError",e}return T&&T.endsWith("</Error>")&&(y.statusCode=400),g},"throw200ExceptionsMiddleware"),ev=v((e=new Uint8Array,d)=>e instanceof Uint8Array?Promise.resolve(e):d.streamCollector(e)||Promise.resolve(new Uint8Array),"collectBody"),ew={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},eS=v(e=>({applyToStack:v(d=>{d.addRelativeTo(eb(e),ew)},"applyToStack")}),"getThrow200ExceptionsPlugin"),ex=h(43757);function e_(e){return(d,h)=>async m=>{if(e.bucketEndpoint){let e=h.endpointV2;if(e){let d=m.input.Bucket;if("string"==typeof d)try{let m=new URL(d);h.endpointV2={...e,url:m}}catch(m){let e=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${d} could not be parsed as URL.`;throw h.logger?.constructor?.name==="NoOpLogger"?console.warn(e):h.logger?.warn?.(e),m}}}return d(m)}}v(e_,"bucketEndpointMiddleware");var eE={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function eT({bucketEndpoint:e}){return d=>async h=>{let{input:{Bucket:m}}=h;if(!e&&"string"==typeof m&&!(0,ex.validate)(m)&&m.indexOf("/")>=0){let e=Error(`Bucket name shouldn't contain '/', received '${m}'`);throw e.name="InvalidBucketName",e}return d({...h})}}v(eT,"validateBucketNameMiddleware");var ek={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},eC=v(e=>({applyToStack:v(d=>{d.add(eT(e),ek),d.addRelativeTo(e_(e),eE)},"applyToStack")}),"getValidateBucketNamePlugin")},25264:(e,d,h)=>{"use strict";let m=h(27910).Transform;class g extends m{constructor(e){super(e),this.options=e||{}}_transform(e,d,h){let m,g=0;for(let d=0,h=e.length;d<h;d++)13===e[d]&&(m=e.slice(g,d),g=d+1,this.push(m));g&&g<e.length?(m=e.slice(g),this.push(m)):g||this.push(e),h()}}e.exports=g},25717:(e,d,h)=>{"use strict";h.r(d),h.d(d,{ENV_ACCOUNT_ID:()=>x,ENV_CREDENTIAL_SCOPE:()=>S,ENV_EXPIRATION:()=>w,ENV_KEY:()=>y,ENV_SECRET:()=>b,ENV_SESSION:()=>v,fromEnv:()=>_});var m=h(76941),g=h(11075);let y="AWS_ACCESS_KEY_ID",b="AWS_SECRET_ACCESS_KEY",v="AWS_SESSION_TOKEN",w="AWS_CREDENTIAL_EXPIRATION",S="AWS_CREDENTIAL_SCOPE",x="AWS_ACCOUNT_ID",_=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let d=process.env[y],h=process.env[b],_=process.env[v],E=process.env[w],T=process.env[S],k=process.env[x];if(d&&h){let e={accessKeyId:d,secretAccessKey:h,..._&&{sessionToken:_},...E&&{expiration:new Date(E)},...T&&{credentialScope:T},...k&&{accountId:k}};return(0,m.g)(e,"CREDENTIALS_ENV_VARS","g"),e}throw new g.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})}},25760:(e,d,h)=>{"use strict";h.d(d,{m:()=>y});var m=h(74290);let g=({callback:e,callbackStack:d,config:h,data:m,field:g,fillEmpty:b,leavesFirst:v,parentIsLocalized:w,parentRef:S})=>{if(b){if("array"===g.type&&y({callback:e,callbackStack:d,config:h,fields:g.fields,isTopLevel:!1,leavesFirst:v,parentIsLocalized:w||g.localized,parentRef:S}),"blocks"===g.type)for(let m of g.blockReferences??g.blocks){let b="string"==typeof m?h?.blocks?.find(e=>e.slug===m):m;b&&y({callback:e,callbackStack:d,config:h,fields:b.fields,isTopLevel:!1,leavesFirst:v,parentIsLocalized:w||g.localized,parentRef:S})}return}for(let x of m){let m;if("blocks"===g.type&&"string"==typeof x?.blockType){let e=g.blockReferences?h?.blocks?.find(e=>e.slug===x.blockType)??g.blockReferences.find(e=>"string"!=typeof e&&e.slug===x.blockType):g.blocks.find(e=>e.slug===x.blockType);m=e?.fields}else"array"===g.type&&(m=g.fields);m&&y({callback:e,callbackStack:d,config:h,fields:m,fillEmpty:b,isTopLevel:!1,leavesFirst:v,parentIsLocalized:w||g.localized,parentRef:S,ref:x})}},y=({callback:e,callbackStack:d=[],config:h,fields:b,fillEmpty:v=!0,isTopLevel:w=!0,leavesFirst:S=!1,parentIsLocalized:x,parentRef:_={},ref:E={}})=>{b.some(b=>{let T=[];w||(T=d);let k=!1,C=()=>{k=!0};if(!E||"object"!=typeof E)return;if(!S&&e&&e({field:b,next:C,parentIsLocalized:x,parentRef:_,ref:E}))return!0;if(S&&T.push(()=>e({field:b,next:C,parentIsLocalized:x,parentRef:_,ref:E})),k)return!1;let P=E,O=_;if("tabs"===b.type&&"tabs"in b){for(let d of b.tabs){let m=E;if(k)return!1;if("name"in d&&d.name){if(!E[d.name]||"object"!=typeof E[d.name])if(!v)continue;else d.localized?E[d.name]={en:{}}:E[d.name]={};if(e&&!S&&e({field:{...d,type:"tab"},next:C,parentIsLocalized:x,parentRef:O,ref:m}))return!0;if(S&&T.push(()=>e({field:{...d,type:"tab"},next:C,parentIsLocalized:x,parentRef:O,ref:m})),m=m[d.name],d.localized)for(let g in m)m[g]&&"object"==typeof m[g]&&y({callback:e,callbackStack:T,config:h,fields:d.fields,fillEmpty:v,isTopLevel:!1,leavesFirst:S,parentIsLocalized:!0,parentRef:O,ref:m[g]})}else{if(e&&!S&&e({field:{...d,type:"tab"},next:C,parentIsLocalized:x,parentRef:O,ref:m}))return!0;S&&T.push(()=>e({field:{...d,type:"tab"},next:C,parentIsLocalized:x,parentRef:O,ref:m}))}if(d.localized||y({callback:e,callbackStack:T,config:h,fields:d.fields,fillEmpty:v,isTopLevel:!1,leavesFirst:S,parentIsLocalized:!1,parentRef:O,ref:m}),k)return!1}return}if("tab"!==b.type&&((0,m.sd)(b)||"blocks"===b.type)){if("name"in b&&b.name){if(O=P,!E[b.name])if(!v)return;else"group"===b.type?(0,m.Cd)({field:b,parentIsLocalized:x})?E[b.name]={en:{}}:E[b.name]={}:("array"===b.type||"blocks"===b.type)&&((0,m.Cd)({field:b,parentIsLocalized:x})?E[b.name]={en:[]}:E[b.name]=[]);P=E[b.name]}if("group"===b.type&&(0,m.Cd)({field:b,parentIsLocalized:x})&&P&&"object"==typeof P){if((0,m.Z7)(b))for(let d in P)P[d]&&y({callback:e,callbackStack:T,config:h,fields:b.fields,fillEmpty:v,isTopLevel:!1,leavesFirst:S,parentIsLocalized:!0,parentRef:O,ref:P[d]});else y({callback:e,callbackStack:T,config:h,fields:b.fields,fillEmpty:v,isTopLevel:!1,leavesFirst:S,parentIsLocalized:x,parentRef:O,ref:P});return}if(("blocks"===b.type||"array"===b.type)&&P&&"object"==typeof P)if((0,m.Cd)({field:b,parentIsLocalized:x})){if(Array.isArray(P))return;for(let d in P){let m=P[d];Array.isArray(m)&&g({callback:e,callbackStack:T,config:h,data:m,field:b,fillEmpty:v,leavesFirst:S,parentIsLocalized:!0,parentRef:O})}}else Array.isArray(P)&&g({callback:e,callbackStack:T,config:h,data:P,field:b,fillEmpty:v,leavesFirst:S,parentIsLocalized:x,parentRef:O});else P&&"object"==typeof P&&"fields"in b&&y({callback:e,callbackStack:T,config:h,fields:b.fields,fillEmpty:v,isTopLevel:!1,leavesFirst:S,parentIsLocalized:x,parentRef:O,ref:P})}w&&T.reverse().forEach(e=>{e()})})}},25902:(e,d,h)=>{"use strict";h.d(d,{FI:()=>v,FZ:()=>w,t_:()=>b});var m=h(135),g=h(75846),y=h(91833);let b=(e,d)=>(0,y.w)(e,d).then(e=>{if(e.length){let d,h=new g.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,d)=>""===d.trim()&&d.includes("\n")?"":void 0});h.addEntity("#xD","\r"),h.addEntity("#10","\n");try{d=h.parse(e,!0)}catch(d){throw d&&"object"==typeof d&&Object.defineProperty(d,"$responseBodyText",{value:e}),d}let y="#text",b=Object.keys(d)[0],v=d[b];return v[y]&&(v[b]=v[y],delete v[y]),(0,m.getValueFromTextNode)(v)}return{}}),v=async(e,d)=>{let h=await b(e,d);return h.Error&&(h.Error.message=h.Error.message??h.Error.Message),h},w=(e,d)=>d?.Error?.Code!==void 0?d.Error.Code:d?.Code!==void 0?d.Code:404==e.statusCode?"NotFound":void 0},25915:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},26154:(e,d,h)=>{"use strict";h.d(d,{A:()=>g});var m=h(19131);let g=async({id:e,data:d,disableErrors:h,isReadingStaticFile:g=!1,req:y},b)=>{if(b){let v=await b({id:e,data:d,isReadingStaticFile:g,req:y});if(!v&&!h)throw new m.c(y.t);return v}if(y.user)return!0;if(!h)throw new m.c(y.t);return!1}},26289:(e,d,h)=>{"use strict";e.exports=g;let m=h(96481);function g({log:e,context:d}){let{colorizer:h,customLevels:g,customLevelNames:y,levelKey:b,getLevelLabelData:v}=d,w=d.customPrettifiers?.level,S=m(e,b);if(void 0===S)return;let x=h(S,{customLevels:g,customLevelNames:y});if(w){let[d]=v(S);return w(S,b,e,{label:d,labelColorized:x,colors:h.colors})}return x}},26355:e=>{"use strict";e.exports=function e(e){return"[object Object]"===Object.prototype.toString.apply(e)}},26396:(e,d,h)=>{"use strict";e.exports=v;let{LOGGER_KEYS:m}=h(40844),g=h(75382),y=h(22476),b=h(9913);function v({log:e,excludeLoggerKeys:d=!0,skipKeys:h=[],context:v}){let{EOL:w,IDENT:S,customPrettifiers:x,errorLikeObjectKeys:_,objectColorizer:E,singleLine:T,colorizer:k}=v,C=[].concat(h);!0===d&&Array.prototype.push.apply(C,m);let P="",{plain:O,errors:I}=Object.entries(e).reduce(({plain:d,errors:h},[m,g])=>{if(!1===C.includes(m)){let y="function"==typeof x[m]?x[m](g,m,e,{colors:k.colors}):g;_.includes(m)?h[m]=y:d[m]=y}return{plain:d,errors:h}},{plain:{},errors:{}});return T?(Object.keys(O).length>0&&(P+=E.greyMessage(g(O))),P+=w,P=P.replace(/\\\\/gi,"\\")):Object.entries(O).forEach(([e,d])=>{let h="function"==typeof x[e]?d:g(d,null,2);if(void 0===h)return;let m=y({input:h=h.replace(/\\\\/gi,"\\"),ident:S,eol:w});P+=`${S}${e}:${m.startsWith(w)?"":" "}${m}${w}`}),Object.entries(I).forEach(([e,d])=>{let h="function"==typeof x[e]?d:g(d,null,2);void 0!==h&&(P+=b({keyName:e,lines:h,eol:w,ident:S}))}),P}},26534:e=>{"use strict";e.exports.mixin=function(e,d){let h=Object.getOwnPropertyNames(d);for(let m=0;m<h.length;++m)Object.defineProperty(e,h[m],Object.getOwnPropertyDescriptor(d,h[m]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(d){return d[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(d){return d[e.exports.implSymbol]}},26588:(e,d,h)=>{"use strict";let{version:m}=h(52790),{EventEmitter:g}=h(94735),{Worker:y}=h(73566),{join:b}=h(33873),{pathToFileURL:v}=h(79551),{wait:w}=h(30387),{WRITE_INDEX:S,READ_INDEX:x}=h(14232),_=h(79428),E=h(12412),T=Symbol("kImpl"),k=_.constants.MAX_STRING_LENGTH;class C{constructor(e){this._value=e}deref(){return this._value}}class P{register(){}unregister(){}}let O=process.env.NODE_V8_COVERAGE?P:global.FinalizationRegistry||P,I=process.env.NODE_V8_COVERAGE?C:global.WeakRef||C,R=new O(e=>{e.exited||e.terminate()});function D(e,d){let{filename:h,workerData:g}=d,w=new y(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||b(__dirname,"lib","worker.js"),{...d.workerOpts,trackUnmanagedFds:!1,workerData:{filename:0===h.indexOf("file://")?h:v(h).href,dataBuf:e[T].dataBuf,stateBuf:e[T].stateBuf,workerData:{$context:{threadStreamVersion:m},...g}}});return w.stream=new C(e),w.on("message",M),w.on("exit",B),R.register(e,w),w}function L(e){E(!e[T].sync),e[T].needDrain&&(e[T].needDrain=!1,e.emit("drain"))}function $(e){let d=Atomics.load(e[T].state,S),h=e[T].data.length-d;if(h>0){if(0===e[T].buf.length){e[T].flushing=!1,e[T].ending?q(e):e[T].needDrain&&process.nextTick(L,e);return}let d=e[T].buf.slice(0,h),m=Buffer.byteLength(d);m<=h?(e[T].buf=e[T].buf.slice(h),z(e,d,$.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[T].state,x,0),Atomics.store(e[T].state,S,0);m>e[T].data.length;)h/=2,d=e[T].buf.slice(0,h),m=Buffer.byteLength(d);e[T].buf=e[T].buf.slice(h),z(e,d,$.bind(null,e))}})}else if(0===h){if(0===d&&0===e[T].buf.length)return;e.flush(()=>{Atomics.store(e[T].state,x,0),Atomics.store(e[T].state,S,0),$(e)})}else F(e,Error("overwritten"))}function M(e){let d=this.stream.deref();if(void 0===d){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new I(d),d.flush(()=>{d[T].ready=!0,d.emit("ready")});break;case"ERROR":F(d,e.err);break;case"EVENT":Array.isArray(e.args)?d.emit(e.name,...e.args):d.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:F(d,Error("this should not happen: "+e.code))}}function B(e){let d=this.stream.deref();void 0!==d&&(R.unregister(d),d.worker.exited=!0,d.worker.off("exit",B),F(d,0!==e?Error("the worker thread exited"):null))}class j extends g{constructor(e={}){if(super(),e.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[T]={},this[T].stateBuf=new SharedArrayBuffer(128),this[T].state=new Int32Array(this[T].stateBuf),this[T].dataBuf=new SharedArrayBuffer(e.bufferSize||4194304),this[T].data=Buffer.from(this[T].dataBuf),this[T].sync=e.sync||!1,this[T].ending=!1,this[T].ended=!1,this[T].needDrain=!1,this[T].destroyed=!1,this[T].flushing=!1,this[T].ready=!1,this[T].finished=!1,this[T].errored=null,this[T].closed=!1,this[T].buf="",this.worker=D(this,e),this.on("message",(e,d)=>{this.worker.postMessage(e,d)})}write(e){if(this[T].destroyed)return U(this,Error("the worker has exited")),!1;if(this[T].ending)return U(this,Error("the worker is ending")),!1;if(this[T].flushing&&this[T].buf.length+e.length>=k)try{V(this),this[T].flushing=!0}catch(e){return F(this,e),!1}if(this[T].buf+=e,this[T].sync)try{return V(this),!0}catch(e){return F(this,e),!1}return this[T].flushing||(this[T].flushing=!0,setImmediate($,this)),this[T].needDrain=this[T].data.length-this[T].buf.length-Atomics.load(this[T].state,S)<=0,!this[T].needDrain}end(){this[T].destroyed||(this[T].ending=!0,q(this))}flush(e){if(this[T].destroyed){"function"==typeof e&&process.nextTick(e,Error("the worker has exited"));return}let d=Atomics.load(this[T].state,S);w(this[T].state,x,d,1/0,(d,h)=>{if(d){F(this,d),process.nextTick(e,d);return}if("not-equal"===h)return void this.flush(e);process.nextTick(e)})}flushSync(){this[T].destroyed||(V(this),H(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[T].ready}get destroyed(){return this[T].destroyed}get closed(){return this[T].closed}get writable(){return!this[T].destroyed&&!this[T].ending}get writableEnded(){return this[T].ending}get writableFinished(){return this[T].finished}get writableNeedDrain(){return this[T].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[T].errored}}function U(e,d){setImmediate(()=>{e.emit("error",d)})}function F(e,d){e[T].destroyed||(e[T].destroyed=!0,d&&(e[T].errored=d,U(e,d)),e.worker.exited?setImmediate(()=>{e[T].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[T].closed=!0,e.emit("close")}))}function z(e,d,h){let m=Atomics.load(e[T].state,S),g=Buffer.byteLength(d);return e[T].data.write(d,m),Atomics.store(e[T].state,S,m+g),Atomics.notify(e[T].state,S),h(),!0}function q(e){if(!e[T].ended&&e[T].ending&&!e[T].flushing){e[T].ended=!0;try{e.flushSync();let d=Atomics.load(e[T].state,x);Atomics.store(e[T].state,S,-1),Atomics.notify(e[T].state,S);let h=0;for(;-1!==d;){if(Atomics.wait(e[T].state,x,d,1e3),d=Atomics.load(e[T].state,x),-2===d)return void F(e,Error("end() failed"));if(10==++h)return void F(e,Error("end() took too long (10s)"))}process.nextTick(()=>{e[T].finished=!0,e.emit("finish")})}catch(d){F(e,d)}}}function V(e){let d=()=>{e[T].ending?q(e):e[T].needDrain&&process.nextTick(L,e)};for(e[T].flushing=!1;0!==e[T].buf.length;){let h=Atomics.load(e[T].state,S),m=e[T].data.length-h;if(0===m){H(e),Atomics.store(e[T].state,x,0),Atomics.store(e[T].state,S,0);continue}if(m<0)throw Error("overwritten");let g=e[T].buf.slice(0,m),y=Buffer.byteLength(g);if(y<=m)e[T].buf=e[T].buf.slice(m),z(e,g,d);else{for(H(e),Atomics.store(e[T].state,x,0),Atomics.store(e[T].state,S,0);y>e[T].buf.length;)m/=2,g=e[T].buf.slice(0,m),y=Buffer.byteLength(g);e[T].buf=e[T].buf.slice(m),z(e,g,d)}}}function H(e){if(e[T].flushing)throw Error("unable to flush while flushing");let d=Atomics.load(e[T].state,S),h=0;for(;;){let m=Atomics.load(e[T].state,x);if(-2===m)throw Error("_flushSync failed");if(m!==d)Atomics.wait(e[T].state,x,m,1e3);else break;if(10==++h)throw Error("_flushSync took too long (10s)")}}e.exports=j},26702:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromIni:()=>$});var m=h(71475),g=h(11075),y=h(76941);let b=(e,d,m)=>{let y={EcsContainer:async e=>{let{fromHttp:d}=await Promise.resolve().then(h.bind(h,10587)),{fromContainerMetadata:y}=await Promise.resolve().then(h.bind(h,81633));return m?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,g.chain)(d(e??{}),y(e))().then(v)},Ec2InstanceMetadata:async e=>{m?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:d}=await Promise.resolve().then(h.bind(h,81633));return async()=>d(e)().then(v)},Environment:async e=>{m?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:d}=await Promise.resolve().then(h.bind(h,25717));return async()=>d(e)().then(v)}};if(e in y)return y[e];throw new g.CredentialsProviderError(`Unsupported credential source in profile ${d}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:m})},v=e=>(0,y.g)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),w=(e,{profile:d="default",logger:h}={})=>!!e&&"object"==typeof e&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(S(e,{profile:d,logger:h})||x(e,{profile:d,logger:h})),S=(e,{profile:d,logger:h})=>{let m="string"==typeof e.source_profile&&void 0===e.credential_source;return m&&h?.debug?.(`    ${d} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),m},x=(e,{profile:d,logger:h})=>{let m="string"==typeof e.credential_source&&void 0===e.source_profile;return m&&h?.debug?.(`    ${d} isCredentialSourceProfile credential_source=${e.credential_source}`),m},_=async(e,d,v,w={})=>{v.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let S=d[e],{source_profile:x,region:_}=S;if(!v.roleAssumer){let{getDefaultRoleAssumer:e}=await h.e(5502).then(h.bind(h,93121));v.roleAssumer=e({...v.clientConfig,credentialProviderLogger:v.logger,parentClientConfig:{...v?.parentClientConfig,region:_??v?.parentClientConfig?.region}},v.clientPlugins)}if(x&&x in w)throw new g.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,m.getProfileName)(v)}. Profiles visited: `+Object.keys(w).join(", "),{logger:v.logger});v.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${x?`source_profile=[${x}]`:`profile=[${e}]`}`);let T=x?L(x,d,v,{...w,[x]:!0},E(d[x]??{})):(await b(S.credential_source,e,v.logger)(v))();if(E(S))return T.then(e=>(0,y.g)(e,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:S.role_arn,RoleSessionName:S.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:S.external_id,DurationSeconds:parseInt(S.duration_seconds||"3600",10)},{mfa_serial:h}=S;if(h){if(!v.mfaCodeProvider)throw new g.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:v.logger,tryNextLink:!1});d.SerialNumber=h,d.TokenCode=await v.mfaCodeProvider(h)}let m=await T;return v.roleAssumer(m,d).then(e=>(0,y.g)(e,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},E=e=>!e.role_arn&&!!e.credential_source,T=e=>!!e&&"object"==typeof e&&"string"==typeof e.credential_process,k=async(e,d)=>Promise.resolve().then(h.bind(h,19719)).then(({fromProcess:h})=>h({...e,profile:d})().then(e=>(0,y.g)(e,"CREDENTIALS_PROFILE_PROCESS","v"))),C=async(e,d,m={})=>{let{fromSSO:g}=await Promise.resolve().then(h.bind(h,50893));return g({profile:e,logger:m.logger,parentClientConfig:m.parentClientConfig,clientConfig:m.clientConfig})().then(e=>d.sso_session?(0,y.g)(e,"CREDENTIALS_PROFILE_SSO","r"):(0,y.g)(e,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},P=e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name),O=e=>!!e&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,I=async(e,d)=>{d?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let h={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,y.g)(h,"CREDENTIALS_PROFILE","n")},R=e=>!!e&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,D=async(e,d)=>Promise.resolve().then(h.bind(h,67174)).then(({fromTokenFile:h})=>h({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:d.roleAssumerWithWebIdentity,logger:d.logger,parentClientConfig:d.parentClientConfig})().then(e=>(0,y.g)(e,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),L=async(e,d,h,m={},y=!1)=>{let b=d[e];if(Object.keys(m).length>0&&O(b))return I(b,h);if(y||w(b,{profile:e,logger:h.logger}))return _(e,d,h,m);if(O(b))return I(b,h);if(R(b))return D(b,h);if(T(b))return k(h,e);if(P(b))return await C(e,b,h);throw new g.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:h.logger})},$=(e={})=>async({callerClientConfig:d}={})=>{let h={...e,parentClientConfig:{...d,...e.parentClientConfig}};h.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let g=await (0,m.parseKnownFiles)(h);return L((0,m.getProfileName)({profile:e.profile??d?.profile}),g,h)}},26900:(e,d,h)=>{"use strict";h.d(d,{Dp:()=>S,Rb:()=>b,T0:()=>v,Ye:()=>w,h2:()=>_,ie:()=>g,n:()=>y});class m extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,d){super(e,d),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class g extends m{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,d,h="unspecified",m="unspecified"){super(e,{cause:{claim:h,reason:m,payload:d}}),this.claim=h,this.reason=m,this.payload=d}}class y extends m{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,d,h="unspecified",m="unspecified"){super(e,{cause:{claim:h,reason:m,payload:d}}),this.claim=h,this.reason=m,this.payload=d}}class b extends m{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class v extends m{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class w extends m{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class S extends m{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class x extends m{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",d){super(e,d)}}class _ extends m{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",d){super(e,d)}}},26934:(e,d,h)=>{"use strict";let m=h(94735),g=h(81630),{Duplex:y}=h(27910),{createHash:b}=h(55511),v=h(60298),w=h(16943),S=h(38741),x=h(11332),{GUID:_,kWebSocket:E}=h(44314),T=/^[+/0-9A-Za-z]{22}==$/,k=0,C=1,P=2;class O extends m{constructor(e,d){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:x,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=g.createServer((e,d)=>{let h=g.STATUS_CODES[426];d.writeHead(426,{"Content-Length":h.length,"Content-Type":"text/plain"}),d.end(h)}),this._server.listen(e.port,e.host,e.backlog,d)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=I(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(d,h,m)=>{this.handleUpgrade(d,h,m,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=k}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===P){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(R,this);return}if(e&&this.once("close",e),this._state!==C)if(this._state=C,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(R,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{R(this)})}}shouldHandle(e){if(this.options.path){let d=e.url.indexOf("?");if((-1!==d?e.url.slice(0,d):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,d,h,m){d.on("error",D);let g=e.headers["sec-websocket-key"],y=e.headers.upgrade,b=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void $(this,e,d,405,"Invalid HTTP method");if(void 0===y||"websocket"!==y.toLowerCase())return void $(this,e,d,400,"Invalid Upgrade header");if(void 0===g||!T.test(g))return void $(this,e,d,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==b&&13!==b)return void $(this,e,d,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void L(d,400);let x=e.headers["sec-websocket-protocol"],_=new Set;if(void 0!==x)try{_=S.parse(x)}catch(h){$(this,e,d,400,"Invalid Sec-WebSocket-Protocol header");return}let E=e.headers["sec-websocket-extensions"],k={};if(this.options.perMessageDeflate&&void 0!==E){let h=new w(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=v.parse(E);e[w.extensionName]&&(h.accept(e[w.extensionName]),k[w.extensionName]=h)}catch(h){$(this,e,d,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let y={origin:e.headers[`${8===b?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(y,(y,b,v,w)=>{if(!y)return L(d,b||401,v,w);this.completeUpgrade(k,g,_,e,d,h,m)});if(!this.options.verifyClient(y))return L(d,401)}this.completeUpgrade(k,g,_,e,d,h,m)}completeUpgrade(e,d,h,m,g,y,S){if(!g.readable||!g.writable)return g.destroy();if(g[E])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>k)return L(g,503);let x=b("sha1").update(d+_).digest("base64"),T=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${x}`],C=new this.options.WebSocket(null,void 0,this.options);if(h.size){let e=this.options.handleProtocols?this.options.handleProtocols(h,m):h.values().next().value;e&&(T.push(`Sec-WebSocket-Protocol: ${e}`),C._protocol=e)}if(e[w.extensionName]){let d=e[w.extensionName].params,h=v.format({[w.extensionName]:[d]});T.push(`Sec-WebSocket-Extensions: ${h}`),C._extensions=e}this.emit("headers",T,m),g.write(T.concat("\r\n").join("\r\n")),g.removeListener("error",D),C.setSocket(g,y,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(C),C.on("close",()=>{this.clients.delete(C),this._shouldEmitClose&&!this.clients.size&&process.nextTick(R,this)})),S(C,m)}}function I(e,d){for(let h of Object.keys(d))e.on(h,d[h]);return function(){for(let h of Object.keys(d))e.removeListener(h,d[h])}}function R(e){e._state=P,e.emit("close")}function D(){this.destroy()}function L(e,d,h,m){h=h||g.STATUS_CODES[d],m={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(h),...m},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${d} ${g.STATUS_CODES[d]}\r
`+Object.keys(m).map(e=>`${e}: ${m[e]}`).join("\r\n")+"\r\n\r\n"+h)}function $(e,d,h,m,g){if(e.listenerCount("wsClientError")){let m=Error(g);Error.captureStackTrace(m,$),e.emit("wsClientError",m,h,d)}else L(h,m,g)}e.exports=O},27125:(e,d,h)=>{"use strict";let{parseContentType:m}=h(36464);function g(e){let d=e.headers,h=m(d["content-type"]);if(!h)throw Error("Malformed content type");for(let m of y){if(!m.detect(h))continue;let g={limits:e.limits,headers:d,conType:h,highWaterMark:void 0,fileHwm:void 0,defCharset:void 0,defParamCharset:void 0,preservePath:!1};return e.highWaterMark&&(g.highWaterMark=e.highWaterMark),e.fileHwm&&(g.fileHwm=e.fileHwm),g.defCharset=e.defCharset,g.defParamCharset=e.defParamCharset,g.preservePath=e.preservePath,new m(g)}throw Error(`Unsupported content type: ${d["content-type"]}`)}let y=[h(5623),h(51754)].filter(function(e){return"function"==typeof e.detect});e.exports=e=>{if(("object"!=typeof e||null===e)&&(e={}),"object"!=typeof e.headers||null===e.headers||"string"!=typeof e.headers["content-type"])throw Error("Missing Content-Type");return g(e)}},27679:(e,d,h)=>{let m=h(52838),g=h(60646),{erase:y,cursor:b}=h(41893),{style:v,clear:w,lines:S,figures:x}=h(31347);class _ extends g{constructor(e={}){super(e),this.transform=v.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=w("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=m.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,d){let h=this.value.slice(0,this.cursor),m=this.value.slice(this.cursor);this.value=`${h}${e}${m}`,this.red=!1,this.cursor=this.placeholder?0:h.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),d=this.value.slice(this.cursor);this.value=`${e}${d}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor+1);this.value=`${e}${d}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(b.down(S(this.outputError,this.out.columns)-1)+w(this.outputError,this.out.columns)),this.out.write(w(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[v.symbol(this.done,this.aborted),m.bold(this.msg),v.delimiter(this.done),this.red?m.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,d,h)=>e+`
${h?" ":x.pointerSmall} ${m.red().italic(d)}`,"")),this.out.write(y.line+b.to(0)+this.outputText+b.save+this.outputError+b.restore+b.move(this.cursorOffset,0)))}}e.exports=_},27696:(e,d,h)=>{"use strict";h.d(d,{Z:()=>D});var m=h(13062),g=h(26154),y=h(43566),b=h(553),v=h(89554),w=h(14603),S=h(19131),x=h(97507),_=h(61081),E=h(83856),T=h(83552),k=h(30433),C=h(71707),P=h(12276),O=h(59587),I=h(40765),R=h(77900);let D=async e=>{let d=e;try{let e=!d.disableTransaction&&await (0,k.n)(d.req);if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"update",req:d.req})||d;d.publishSpecificLocale&&(d.req.locale=d.publishSpecificLocale);let{id:h,autosave:C=!1,collection:{config:D},collection:L,depth:$,draft:M=!1,overrideAccess:B,overrideLock:j,overwriteExistingFiles:U=!1,populate:F,publishSpecificLocale:z,req:{fallbackLocale:q,locale:V,payload:{config:H},payload:K},req:G,select:W,showHiddenFields:J}=d;if(!h)throw new v.L("Missing ID of document to update.",m.h.BAD_REQUEST);let{data:Q}=d,Y=!!B||await (0,g.A)({id:h,data:Q,req:G},D.access.update),X=(0,y.L)(Y),Z={collection:D.slug,locale:V,req:G,where:(0,b.m)({id:{equals:h}},Y)},ee=await (0,O.a)({id:h,config:D,payload:K,query:Z,req:G});if(!ee&&!X)throw new w.M(G.t);if(!ee&&X)throw new S.c(G.t);let{data:et,files:ei}=await (0,_.Y)({collection:L,config:H,data:Q,operation:"update",overwriteExistingFiles:U,req:G,throwOnMissingFile:!1}),er=(0,P.Y)({fields:D.flattenedFields,forceSelect:D.forceSelect,select:W}),ea=await (0,I.l)({id:h,accessResults:Y,autosave:C,collectionConfig:D,config:H,data:(0,x.Zt)(et),depth:$,docWithLocales:ee,draftArg:M,fallbackLocale:q,filesToUpload:ei,locale:V,overrideAccess:B,overrideLock:j,payload:K,populate:F,publishSpecificLocale:z,req:G,select:er,showHiddenFields:J});return await (0,E.b)({collectionConfig:D,config:H,req:G}),ea=await (0,R.E)({args:d,collection:D,operation:"updateByID",result:ea}),e&&await (0,T.w)(G),ea}catch(e){throw await (0,C.J)(d.req),e}}},27891:(e,d,h)=>{"use strict";h.d(d,{EI:()=>S,h6:()=>w,x4:()=>v});var m=h(73940);let{isPlural:g,singular:y}=m,b=e=>e.charAt(0).toUpperCase()+e.slice(1),v=(e,d=!1)=>{let h=(e||"").trim().split(/[\s-]/),m=[];return h.forEach(e=>{if(""!==e){let d=e.split(/(?=[A-Z])/).join(" ");m.push(b(d))}}),d?m.join("").replace(/\s/g,""):m.join(" ")},w=e=>{let d=v(e);return g(e)?{plural:d,singular:y(d)}:{plural:m(d),singular:d}},S=e=>{let d=v(e,!0);return g(e)?{plural:d,singular:y(d)}:{plural:m(d),singular:d}}},28175:(e,d,h)=>{"use strict";let m=h(31088),g=h(84296),y=h(51027);class b{constructor(e,d){this.mailer=e,this.data={},this.message=null,d=d||{};let h=e.options||{},m=e._defaults||{};Object.keys(d).forEach(e=>{this.data[e]=d[e]}),this.data.headers=this.data.headers||{},Object.keys(m).forEach(e=>{e in this.data?"headers"===e&&Object.keys(m.headers).forEach(e=>{e in this.data.headers||(this.data.headers[e]=m.headers[e])}):this.data[e]=m[e]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(e=>{e in h&&(this.data[e]=h[e])})}resolveContent(...e){return m.resolveContent(...e)}resolveAll(e){let d=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((e,h)=>{d.push([this.data.alternatives,h])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((e,h)=>{!e.filename&&(e.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(h+1),0>e.filename.indexOf(".")&&(e.filename+="."+y.detectExtension(e.contentType))),e.contentType||(e.contentType=y.detectMimeType(e.filename||e.path||e.href||"bin")),d.push([this.data.attachments,h])});let h=new g;["from","to","cc","bcc","sender","replyTo"].forEach(e=>{let d;this.message?d=[].concat(h._parseAddresses(this.message.getHeader("replyTo"===e?"reply-to":e))||[]):this.data[e]&&(d=[].concat(h._parseAddresses(this.data[e])||[])),d&&d.length?this.data[e]=d:e in this.data&&(this.data[e]=null)}),["from","sender"].forEach(e=>{this.data[e]&&(this.data[e]=this.data[e].shift())});let b=0,v=()=>{if(b>=d.length)return e(null,this.data);let h=d[b++];if(!h[0]||!h[0][h[1]])return v();m.resolveContent(...h,(d,m)=>{if(d)return e(d);let g={content:m};h[0][h[1]]&&"object"==typeof h[0][h[1]]&&!Buffer.isBuffer(h[0][h[1]])&&Object.keys(h[0][h[1]]).forEach(e=>{e in g||["content","path","href","raw"].includes(e)||(g[e]=h[0][h[1]][e])}),h[0][h[1]]=g,v()})};setImmediate(()=>v())}normalize(e){let d=this.data.envelope||this.message.getEnvelope(),h=this.message.messageId();this.resolveAll((m,g)=>m?e(m):(g.envelope=d,g.messageId=h,["html","text","watchHtml","amp"].forEach(e=>{g[e]&&g[e].content&&("string"==typeof g[e].content?g[e]=g[e].content:Buffer.isBuffer(g[e].content)&&(g[e]=g[e].content.toString()))}),g.icalEvent&&Buffer.isBuffer(g.icalEvent.content)&&(g.icalEvent.content=g.icalEvent.content.toString("base64"),g.icalEvent.encoding="base64"),g.alternatives&&g.alternatives.length&&g.alternatives.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),g.attachments&&g.attachments.length&&g.attachments.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),g.normalizedHeaders={},Object.keys(g.headers||{}).forEach(e=>{let d=[].concat(g.headers[e]||[]).shift();(d=d&&d.value||d)&&(["references","in-reply-to","message-id","content-id"].includes(e)&&(d=this.message._encodeHeaderValue(e,d)),g.normalizedHeaders[e]=d)}),g.list&&"object"==typeof g.list&&this._getListHeaders(g.list).forEach(e=>{g.normalizedHeaders[e.key]=e.value.map(e=>e&&e.value||e).join(", ")}),g.references&&(g.normalizedHeaders.references=this.message._encodeHeaderValue("references",g.references)),g.inReplyTo&&(g.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",g.inReplyTo)),e(null,g)))}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low")}}setListHeaders(){this.message&&this.data.list&&"object"==typeof this.data.list&&this.data.list&&"object"==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(d=>{this.message.addHeader(e.key,d)})})}_getListHeaders(e){return Object.keys(e).map(d=>({key:"list-"+d.toLowerCase().trim(),value:[].concat(e[d]||[]).map(e=>({prepared:!0,foldLines:!0,value:[].concat(e||[]).map(e=>{if("string"==typeof e&&(e={url:e}),e&&e.url){if("id"===d.toLowerCase().trim()){let d=e.comment||"";return d=y.isPlainText(d)?'"'+d+'"':y.encodeWord(d),(e.comment?d+" ":"")+this._formatListUrl(e.url).replace(/^<[^:]+\/{,2}/,"")}let h=e.comment||"";return y.isPlainText(h)||(h=y.encodeWord(h)),this._formatListUrl(e.url)+(e.comment?" ("+h+")":"")}return""}).filter(e=>e).join(", ")}))}))}_formatListUrl(e){return(e=e.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(e))?"<"+e+">":/^[^@]+@[^@]+$/.test(e)?"<mailto:"+e+">":"<http://"+e+">"}}e.exports=b},28203:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.CodeGen=d.Name=d.nil=d.stringify=d.str=d._=d.KeywordCxt=void 0;var m=h(89779);Object.defineProperty(d,"KeywordCxt",{enumerable:!0,get:function(){return m.KeywordCxt}});var g=h(52046);Object.defineProperty(d,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(d,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});let y=h(91163),b=h(78540),v=h(37123),w=h(38480),S=h(52046),x=h(48395),_=h(5127),E=h(31934),T=h(25915),k=h(92051),C=(e,d)=>new RegExp(e,d);C.code="new RegExp";let P=["removeAdditional","useDefaults","coerceTypes"],O=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),I={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},R={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},D=200;function L(e){var d,h,m,g,y,b,v,w,S,x,_,E,T,P,O,I,R,L,$,M,B,j,U,F,z;let q=e.strict,V=null==(d=e.code)?void 0:d.optimize,H=!0===V||void 0===V?1:V||0,K=null!=(m=null==(h=e.code)?void 0:h.regExp)?m:C,G=null!=(g=e.uriResolver)?g:k.default;return{strictSchema:null==(b=null!=(y=e.strictSchema)?y:q)||b,strictNumbers:null==(w=null!=(v=e.strictNumbers)?v:q)||w,strictTypes:null!=(x=null!=(S=e.strictTypes)?S:q)?x:"log",strictTuples:null!=(E=null!=(_=e.strictTuples)?_:q)?E:"log",strictRequired:null!=(P=null!=(T=e.strictRequired)?T:q)&&P,code:e.code?{...e.code,optimize:H,regExp:K}:{optimize:H,regExp:K},loopRequired:null!=(O=e.loopRequired)?O:D,loopEnum:null!=(I=e.loopEnum)?I:D,meta:null==(R=e.meta)||R,messages:null==(L=e.messages)||L,inlineRefs:null==($=e.inlineRefs)||$,schemaId:null!=(M=e.schemaId)?M:"$id",addUsedSchema:null==(B=e.addUsedSchema)||B,validateSchema:null==(j=e.validateSchema)||j,validateFormats:null==(U=e.validateFormats)||U,unicodeRegExp:null==(F=e.unicodeRegExp)||F,int32range:null==(z=e.int32range)||z,uriResolver:G}}class ${constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...L(e)};let{es5:d,lines:h}=this.opts.code;this.scope=new S.ValueScope({scope:{},prefixes:O,es5:d,lines:h}),this.logger=V(e.logger);let m=e.validateFormats;e.validateFormats=!1,this.RULES=(0,v.getRules)(),M.call(this,I,e,"NOT SUPPORTED"),M.call(this,R,e,"DEPRECATED","warn"),this._metaOpts=z.call(this),e.formats&&U.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&F.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),j.call(this),e.validateFormats=m}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:d,schemaId:h}=this.opts,m=T;"id"===h&&((m={...T}).id=m.$id,delete m.$id),d&&e&&this.addMetaSchema(m,m[h],!1)}defaultMeta(){let{meta:e,schemaId:d}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[d]||e:void 0}validate(e,d){let h;if("string"==typeof e){if(!(h=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else h=this.compile(e);let m=h(d);return"$async"in h||(this.errors=h.errors),m}compile(e,d){let h=this._addSchema(e,d);return h.validate||this._compileSchemaEnv(h)}compileAsync(e,d){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:h}=this.opts;return m.call(this,e,d);async function m(e,d){await g.call(this,e.$schema);let h=this._addSchema(e,d);return h.validate||y.call(this,h)}async function g(e){e&&!this.getSchema(e)&&await m.call(this,{$ref:e},!0)}async function y(e){try{return this._compileSchemaEnv(e)}catch(d){if(!(d instanceof b.default))throw d;return v.call(this,d),await w.call(this,d.missingSchema),y.call(this,e)}}function v({missingSchema:e,missingRef:d}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${d} cannot be resolved`)}async function w(e){let h=await S.call(this,e);this.refs[e]||await g.call(this,h.$schema),this.refs[e]||this.addSchema(h,e,d)}async function S(e){let d=this._loading[e];if(d)return d;try{return await (this._loading[e]=h(e))}finally{delete this._loading[e]}}}addSchema(e,d,h,m=this.opts.validateSchema){let g;if(Array.isArray(e)){for(let d of e)this.addSchema(d,void 0,h,m);return this}if("object"==typeof e){let{schemaId:d}=this.opts;if(void 0!==(g=e[d])&&"string"!=typeof g)throw Error(`schema ${d} must be string`)}return d=(0,x.normalizeId)(d||g),this._checkUnique(d),this.schemas[d]=this._addSchema(e,h,d,m,!0),this}addMetaSchema(e,d,h=this.opts.validateSchema){return this.addSchema(e,d,!0,h),this}validateSchema(e,d){let h;if("boolean"==typeof e)return!0;if(void 0!==(h=e.$schema)&&"string"!=typeof h)throw Error("$schema must be a string");if(!(h=h||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let m=this.validate(h,e);if(!m&&d){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return m}getSchema(e){let d;for(;"string"==typeof(d=B.call(this,e));)e=d;if(void 0===d){let{schemaId:h}=this.opts,m=new w.SchemaEnv({schema:{},schemaId:h});if(!(d=w.resolveSchema.call(this,m,e)))return;this.refs[e]=d}return d.validate||this._compileSchemaEnv(d)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let d=B.call(this,e);return"object"==typeof d&&this._cache.delete(d.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let d=e;this._cache.delete(d);let h=e[this.opts.schemaId];return h&&(h=(0,x.normalizeId)(h),delete this.schemas[h],delete this.refs[h]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let d of e)this.addKeyword(d);return this}addKeyword(e,d){let h;if("string"==typeof e)h=e,"object"==typeof d&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),d.keyword=h);else if("object"==typeof e&&void 0===d){if(Array.isArray(h=(d=e).keyword)&&!h.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(K.call(this,h,d),!d)return(0,E.eachItem)(h,e=>G.call(this,e)),this;J.call(this,d);let m={...d,type:(0,_.getJSONTypes)(d.type),schemaType:(0,_.getJSONTypes)(d.schemaType)};return(0,E.eachItem)(h,0===m.type.length?e=>G.call(this,e,m):e=>m.type.forEach(d=>G.call(this,e,m,d))),this}getKeyword(e){let d=this.RULES.all[e];return"object"==typeof d?d.definition:!!d}removeKeyword(e){let{RULES:d}=this;for(let h of(delete d.keywords[e],delete d.all[e],d.rules)){let d=h.rules.findIndex(d=>d.keyword===e);d>=0&&h.rules.splice(d,1)}return this}addFormat(e,d){return"string"==typeof d&&(d=new RegExp(d)),this.formats[e]=d,this}errorsText(e=this.errors,{separator:d=", ",dataVar:h="data"}={}){return e&&0!==e.length?e.map(e=>`${h}${e.instancePath} ${e.message}`).reduce((e,h)=>e+d+h):"No errors"}$dataMetaSchema(e,d){let h=this.RULES.all;for(let m of(e=JSON.parse(JSON.stringify(e)),d)){let d=m.split("/").slice(1),g=e;for(let e of d)g=g[e];for(let e in h){let d=h[e];if("object"!=typeof d)continue;let{$data:m}=d.definition,y=g[e];m&&y&&(g[e]=Y(y))}}return e}_removeAllSchemas(e,d){for(let h in e){let m=e[h];(!d||d.test(h))&&("string"==typeof m?delete e[h]:m&&!m.meta&&(this._cache.delete(m.schema),delete e[h]))}}_addSchema(e,d,h,m=this.opts.validateSchema,g=this.opts.addUsedSchema){let y,{schemaId:b}=this.opts;if("object"==typeof e)y=e[b];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof e)throw Error("schema must be object or boolean");let v=this._cache.get(e);if(void 0!==v)return v;h=(0,x.normalizeId)(y||h);let S=x.getSchemaRefs.call(this,e,h);return v=new w.SchemaEnv({schema:e,schemaId:b,meta:d,baseId:h,localRefs:S}),this._cache.set(v.schema,v),g&&!h.startsWith("#")&&(h&&this._checkUnique(h),this.refs[h]=v),m&&this.validateSchema(e,!0),v}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):w.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let d=this.opts;this.opts=this._metaOpts;try{w.compileSchema.call(this,e)}finally{this.opts=d}}}function M(e,d,h,m="error"){for(let g in e){let y=g;y in d&&this.logger[m](`${h}: option ${g}. ${e[y]}`)}}function B(e){return e=(0,x.normalizeId)(e),this.schemas[e]||this.refs[e]}function j(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let d in e)this.addSchema(e[d],d)}function U(){for(let e in this.opts.formats){let d=this.opts.formats[e];d&&this.addFormat(e,d)}}function F(e){if(Array.isArray(e))return void this.addVocabulary(e);for(let d in this.logger.warn("keywords option as map is deprecated, pass array"),e){let h=e[d];h.keyword||(h.keyword=d),this.addKeyword(h)}}function z(){let e={...this.opts};for(let d of P)delete e[d];return e}$.ValidationError=y.default,$.MissingRefError=b.default,d.default=$;let q={log(){},warn(){},error(){}};function V(e){if(!1===e)return q;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}let H=/^[a-z_$][a-z0-9_$:-]*$/i;function K(e,d){let{RULES:h}=this;if((0,E.eachItem)(e,e=>{if(h.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!H.test(e))throw Error(`Keyword ${e} has invalid name`)}),d&&d.$data&&!("code"in d||"validate"in d))throw Error('$data keyword must have "code" or "validate" function')}function G(e,d,h){var m;let g=null==d?void 0:d.post;if(h&&g)throw Error('keyword with "post" flag cannot have "type"');let{RULES:y}=this,b=g?y.post:y.rules.find(({type:e})=>e===h);if(b||(b={type:h,rules:[]},y.rules.push(b)),y.keywords[e]=!0,!d)return;let v={keyword:e,definition:{...d,type:(0,_.getJSONTypes)(d.type),schemaType:(0,_.getJSONTypes)(d.schemaType)}};d.before?W.call(this,b,v,d.before):b.rules.push(v),y.all[e]=v,null==(m=d.implements)||m.forEach(e=>this.addKeyword(e))}function W(e,d,h){let m=e.rules.findIndex(e=>e.keyword===h);m>=0?e.rules.splice(m,0,d):(e.rules.push(d),this.logger.warn(`rule ${h} is not defined`))}function J(e){let{metaSchema:d}=e;void 0!==d&&(e.$data&&this.opts.$data&&(d=Y(d)),e.validateSchema=this.compile(d,!0))}let Q={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Y(e){return{anyOf:[e,Q]}}},28205:(e,d,h)=>{"use strict";h.d(d,{d:()=>v});var m=h(45397),g=h(79748),y=h(33873);let b={svg:"image/svg+xml"},v=async e=>{if("string"!=typeof e)return;let d=y.basename(e),h=y.extname(e).slice(1),[v,w,S]=await Promise.all([g.readFile(e),g.stat(e),(0,m.bN)(e)]);return{name:d,data:v,mimetype:S?.mime||b[h],size:w.size}}},28377:(e,d,h)=>{"use strict";let m=h(55511);function g(e){return m.createHash("md5").update(e,"utf-8").digest("hex")}function y(e){return m.createHash("sha256").update(e).digest()}function b(e,d){return m.createHmac("sha256",e).update(d).digest()}async function v(e,d,h){return m.pbkdf2Sync(e,d,h,32,"sha256")}e.exports={postgresMd5PasswordHash:function(e,d,h){var m=g(d+e);return"md5"+g(Buffer.concat([Buffer.from(m),h]))},randomBytes:m.randomBytes,deriveKey:v,sha256:y,hmacSha256:b,md5:g}},28566:(e,d,h)=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.ValueScope=d.ValueScopeName=d.Scope=d.varKinds=d.UsedValueState=void 0;let g=h(71389);class y extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(m||(d.UsedValueState=m={})),d.varKinds={const:new g.Name("const"),let:new g.Name("let"),var:new g.Name("var")};class b{constructor({prefixes:e,parent:d}={}){this._names={},this._prefixes=e,this._parent=d}toName(e){return e instanceof g.Name?e:this.name(e)}name(e){return new g.Name(this._newName(e))}_newName(e){let d=this._names[e]||this._nameGroup(e);return`${e}${d.index++}`}_nameGroup(e){var d,h;if((null==(h=null==(d=this._parent)?void 0:d._prefixes)?void 0:h.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}d.Scope=b;class v extends g.Name{constructor(e,d){super(d),this.prefix=e}setValue(e,{property:d,itemIndex:h}){this.value=e,this.scopePath=(0,g._)`.${new g.Name(d)}[${h}]`}}d.ValueScopeName=v;let w=(0,g._)`\n`;class S extends b{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?w:g.nil}}get(){return this._scope}name(e){return new v(e,this._newName(e))}value(e,d){var h;if(void 0===d.ref)throw Error("CodeGen: ref must be passed in value");let m=this.toName(e),{prefix:g}=m,y=null!=(h=d.key)?h:d.ref,b=this._values[g];if(b){let e=b.get(y);if(e)return e}else b=this._values[g]=new Map;b.set(y,m);let v=this._scope[g]||(this._scope[g]=[]),w=v.length;return v[w]=d.ref,m.setValue(d,{property:g,itemIndex:w}),m}getValue(e,d){let h=this._values[e];if(h)return h.get(d)}scopeRefs(e,d=this._values){return this._reduceValues(d,d=>{if(void 0===d.scopePath)throw Error(`CodeGen: name "${d}" has no value`);return(0,g._)`${e}${d.scopePath}`})}scopeCode(e=this._values,d,h){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},d,h)}_reduceValues(e,h,b={},v){let w=g.nil;for(let S in e){let x=e[S];if(!x)continue;let _=b[S]=b[S]||new Map;x.forEach(e=>{if(_.has(e))return;_.set(e,m.Started);let b=h(e);if(b){let h=this.opts.es5?d.varKinds.var:d.varKinds.const;w=(0,g._)`${w}${h} ${e} = ${b};${this.opts._n}`}else if(b=null==v?void 0:v(e))w=(0,g._)`${w}${b}${this.opts._n}`;else throw new y(e);_.set(e,m.Completed)})}return w}}d.ValueScope=S},28791:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BufferReader=void 0;let h=Buffer.allocUnsafe(0);class m{constructor(e=0){this.offset=e,this.buffer=h,this.encoding="utf-8"}setBuffer(e,d){this.offset=e,this.buffer=d}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){let e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){let d=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,d}cstring(){let e=this.offset,d=e;for(;0!==this.buffer[d++];);return this.offset=d,this.buffer.toString(this.encoding,e,d-1)}bytes(e){let d=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,d}}d.BufferReader=m},29612:(e,d,h)=>{"use strict";let m;h.r(d),h.d(d,{AbortError:()=>eu,FetchError:()=>k,Headers:()=>K,Request:()=>ec,Response:()=>et,default:()=>ew});var g=h(27910),y=h(81630),b=h(79551),v=h(59323),w=h(55591),S=h(74075);let x=g.Readable,_=Symbol("buffer"),E=Symbol("type");class T{constructor(){this[E]="";let e=arguments[0],d=arguments[1],h=[],m=0;if(e){let d=e,g=Number(d.length);for(let e=0;e<g;e++){let g,y=d[e];m+=(g=y instanceof Buffer?y:ArrayBuffer.isView(y)?Buffer.from(y.buffer,y.byteOffset,y.byteLength):y instanceof ArrayBuffer?Buffer.from(y):y instanceof T?y[_]:Buffer.from("string"==typeof y?y:String(y))).length,h.push(g)}}this[_]=Buffer.concat(h);let g=d&&void 0!==d.type&&String(d.type).toLowerCase();g&&!/[^\u0020-\u007E]/.test(g)&&(this[E]=g)}get size(){return this[_].length}get type(){return this[E]}text(){return Promise.resolve(this[_].toString())}arrayBuffer(){let e=this[_];return Promise.resolve(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}stream(){let e=new x;return e._read=function(){},e.push(this[_]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e,d,h=this.size,m=arguments[0],g=arguments[1];e=void 0===m?0:m<0?Math.max(h+m,0):Math.min(m,h);let y=Math.max((d=void 0===g?h:g<0?Math.max(h+g,0):Math.min(g,h))-e,0),b=this[_].slice(e,e+y),v=new T([],{type:arguments[2]});return v[_]=b,v}}function k(e,d,h){Error.call(this,e),this.message=e,this.type=d,h&&(this.code=this.errno=h.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(T.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(T.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),k.prototype=Object.create(Error.prototype),k.prototype.constructor=k,k.prototype.name="FetchError";try{m=require("encoding").convert}catch(e){}let C=Symbol("Body internals"),P=g.PassThrough;function O(e){var d=this,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=h.size;let y=void 0===m?0:m;var b=h.timeout;let v=void 0===b?0:b;null==e?e=null:D(e)?e=Buffer.from(e.toString()):L(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof g||(e=Buffer.from(String(e)))),this[C]={body:e,disturbed:!1,error:null},this.size=y,this.timeout=v,e instanceof g&&e.on("error",function(e){let h="AbortError"===e.name?e:new k(`Invalid response body while trying to fetch ${d.url}: ${e.message}`,"system",e);d[C].error=h})}function I(){var e=this;if(this[C].disturbed)return O.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[C].disturbed=!0,this[C].error)return O.Promise.reject(this[C].error);let d=this.body;if(null===d)return O.Promise.resolve(Buffer.alloc(0));if(L(d)&&(d=d.stream()),Buffer.isBuffer(d))return O.Promise.resolve(d);if(!(d instanceof g))return O.Promise.resolve(Buffer.alloc(0));let h=[],m=0,y=!1;return new O.Promise(function(g,b){let v;e.timeout&&(v=setTimeout(function(){y=!0,b(new k(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),d.on("error",function(d){"AbortError"===d.name?(y=!0,b(d)):b(new k(`Invalid response body while trying to fetch ${e.url}: ${d.message}`,"system",d))}),d.on("data",function(d){if(!y&&null!==d){if(e.size&&m+d.length>e.size){y=!0,b(new k(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}m+=d.length,h.push(d)}}),d.on("end",function(){if(!y){clearTimeout(v);try{g(Buffer.concat(h,m))}catch(d){b(new k(`Could not create Buffer from response body for ${e.url}: ${d.message}`,"system",d))}}})})}function R(e,d){let h,g;if("function"!=typeof m)throw Error("The package `encoding` must be installed to use the textConverted() function");let y=d.get("content-type"),b="utf-8";return y&&(h=/charset=([^;]*)/i.exec(y)),g=e.slice(0,1024).toString(),!h&&g&&(h=/<meta.+?charset=(['"])(.+?)\1/i.exec(g)),!h&&g&&(!(h=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(g))&&(h=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(g))&&h.pop(),h&&(h=/charset=(.*)/i.exec(h.pop()))),!h&&g&&(h=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(g)),h&&("gb2312"===(b=h.pop())||"gbk"===b)&&(b="gb18030"),m(e,"UTF-8",b).toString()}function D(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function L(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function $(e){let d,h,m=e.body;if(e.bodyUsed)throw Error("cannot clone body after it is used");return m instanceof g&&"function"!=typeof m.getBoundary&&(d=new P,h=new P,m.pipe(d),m.pipe(h),e[C].body=d,m=h),m}function M(e){if(null===e)return null;if("string"==typeof e)return"text/plain;charset=UTF-8";if(D(e))return"application/x-www-form-urlencoded;charset=UTF-8";if(L(e))return e.type||null;if(Buffer.isBuffer(e))return null;else if("[object ArrayBuffer]"===Object.prototype.toString.call(e))return null;else if(ArrayBuffer.isView(e))return null;else if("function"==typeof e.getBoundary)return`multipart/form-data;boundary=${e.getBoundary()}`;else if(e instanceof g)return null;else return"text/plain;charset=UTF-8"}function B(e){let d=e.body;return null===d?0:L(d)?d.size:Buffer.isBuffer(d)?d.length:d&&"function"==typeof d.getLengthSync?d._lengthRetrievers&&0==d._lengthRetrievers.length||d.hasKnownLength&&d.hasKnownLength()?d.getLengthSync():null:null}function j(e,d){let h=d.body;null===h?e.end():L(h)?h.stream().pipe(e):Buffer.isBuffer(h)?(e.write(h),e.end()):h.pipe(e)}O.prototype={get body(){return this[C].body},get bodyUsed(){return this[C].disturbed},arrayBuffer(){return I.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return I.call(this).then(function(d){return Object.assign(new T([],{type:e.toLowerCase()}),{[_]:d})})},json(){var e=this;return I.call(this).then(function(d){try{return JSON.parse(d.toString())}catch(d){return O.Promise.reject(new k(`invalid json response body at ${e.url} reason: ${d.message}`,"invalid-json"))}})},text(){return I.call(this).then(function(e){return e.toString()})},buffer(){return I.call(this)},textConverted(){var e=this;return I.call(this).then(function(d){return R(d,e.headers)})}},Object.defineProperties(O.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),O.mixIn=function(e){for(let d of Object.getOwnPropertyNames(O.prototype))if(!(d in e)){let h=Object.getOwnPropertyDescriptor(O.prototype,d);Object.defineProperty(e,d,h)}},O.Promise=global.Promise;let U=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,F=/[^\t\x20-\x7e\x80-\xff]/;function z(e){if(e=`${e}`,U.test(e)||""===e)throw TypeError(`${e} is not a legal HTTP header name`)}function q(e){if(e=`${e}`,F.test(e))throw TypeError(`${e} is not a legal HTTP header value`)}function V(e,d){for(let h in d=d.toLowerCase(),e)if(h.toLowerCase()===d)return h}let H=Symbol("map");class K{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[H]=Object.create(null),e instanceof K){let d=e.raw();for(let e of Object.keys(d))for(let h of d[e])this.append(e,h);return}if(null==e);else if("object"==typeof e){let d=e[Symbol.iterator];if(null!=d){if("function"!=typeof d)throw TypeError("Header pairs must be iterable");let h=[];for(let d of e){if("object"!=typeof d||"function"!=typeof d[Symbol.iterator])throw TypeError("Each header pair must be iterable");h.push(Array.from(d))}for(let e of h){if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(let d of Object.keys(e)){let h=e[d];this.append(d,h)}}else throw TypeError("Provided initializer must be an object")}get(e){z(e=`${e}`);let d=V(this[H],e);return void 0===d?null:this[H][d].join(", ")}forEach(e){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,h=G(this),m=0;for(;m<h.length;){var g=h[m];let y=g[0],b=g[1];e.call(d,b,y,this),h=G(this),m++}}set(e,d){e=`${e}`,d=`${d}`,z(e),q(d);let h=V(this[H],e);this[H][void 0!==h?h:e]=[d]}append(e,d){e=`${e}`,d=`${d}`,z(e),q(d);let h=V(this[H],e);void 0!==h?this[H][h].push(d):this[H][e]=[d]}has(e){return z(e=`${e}`),void 0!==V(this[H],e)}delete(e){z(e=`${e}`);let d=V(this[H],e);void 0!==d&&delete this[H][d]}raw(){return this[H]}keys(){return J(this,"key")}values(){return J(this,"value")}[Symbol.iterator](){return J(this,"key+value")}}function G(e){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[H]).sort().map("key"===d?function(e){return e.toLowerCase()}:"value"===d?function(d){return e[H][d].join(", ")}:function(d){return[d.toLowerCase(),e[H][d].join(", ")]})}K.prototype.entries=K.prototype[Symbol.iterator],Object.defineProperty(K.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(K.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let W=Symbol("internal");function J(e,d){let h=Object.create(Q);return h[W]={target:e,kind:d,index:0},h}let Q=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Q)throw TypeError("Value of `this` is not a HeadersIterator");var e=this[W];let d=e.target,h=e.kind,m=e.index,g=G(d,h);return m>=g.length?{value:void 0,done:!0}:(this[W].index=m+1,{value:g[m],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function Y(e){let d=Object.assign({__proto__:null},e[H]),h=V(e[H],"Host");return void 0!==h&&(d[h]=d[h][0]),d}function X(e){let d=new K;for(let h of Object.keys(e))if(!U.test(h))if(Array.isArray(e[h]))for(let m of e[h])F.test(m)||(void 0===d[H][h]?d[H][h]=[m]:d[H][h].push(m));else F.test(e[h])||(d[H][h]=[e[h]]);return d}Object.defineProperty(Q,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let Z=Symbol("Response internals"),ee=y.STATUS_CODES;class et{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};O.call(this,e,d);let h=d.status||200,m=new K(d.headers);if(null!=e&&!m.has("Content-Type")){let d=M(e);d&&m.append("Content-Type",d)}this[Z]={url:d.url,status:h,statusText:d.statusText||ee[h],headers:m,counter:d.counter}}get url(){return this[Z].url||""}get status(){return this[Z].status}get ok(){return this[Z].status>=200&&this[Z].status<300}get redirected(){return this[Z].counter>0}get statusText(){return this[Z].statusText}get headers(){return this[Z].headers}clone(){return new et($(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}O.mixIn(et.prototype),Object.defineProperties(et.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(et.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let ei=Symbol("Request internals"),er=b.URL||v.URL,ea=b.parse,en=b.format;function es(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new er(e).toString()),ea(e)}let eo="destroy"in g.Readable.prototype;function el(e){return"object"==typeof e&&"object"==typeof e[ei]}function ed(e){let d=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!!(d&&"AbortSignal"===d.constructor.name)}class ec{constructor(e){let d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};el(e)?d=es(e.url):(d=e&&e.href?es(e.href):es(`${e}`),e={});let m=h.method||e.method||"GET";if(m=m.toUpperCase(),(null!=h.body||el(e)&&null!==e.body)&&("GET"===m||"HEAD"===m))throw TypeError("Request with GET/HEAD method cannot have body");let g=null!=h.body?h.body:el(e)&&null!==e.body?$(e):null;O.call(this,g,{timeout:h.timeout||e.timeout||0,size:h.size||e.size||0});let y=new K(h.headers||e.headers||{});if(null!=g&&!y.has("Content-Type")){let e=M(g);e&&y.append("Content-Type",e)}let b=el(e)?e.signal:null;if("signal"in h&&(b=h.signal),null!=b&&!ed(b))throw TypeError("Expected signal to be an instanceof AbortSignal");this[ei]={method:m,redirect:h.redirect||e.redirect||"follow",headers:y,parsedURL:d,signal:b},this.follow=void 0!==h.follow?h.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==h.compress?h.compress:void 0===e.compress||e.compress,this.counter=h.counter||e.counter||0,this.agent=h.agent||e.agent}get method(){return this[ei].method}get url(){return en(this[ei].parsedURL)}get headers(){return this[ei].headers}get redirect(){return this[ei].redirect}get signal(){return this[ei].signal}clone(){return new ec(this)}}function ep(e){let d=e[ei].parsedURL,h=new K(e[ei].headers);if(h.has("Accept")||h.set("Accept","*/*"),!d.protocol||!d.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(d.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof g.Readable&&!eo)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let m=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(m="0"),null!=e.body){let d=B(e);"number"==typeof d&&(m=String(d))}m&&h.set("Content-Length",m),h.has("User-Agent")||h.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!h.has("Accept-Encoding")&&h.set("Accept-Encoding","gzip,deflate");let y=e.agent;return"function"==typeof y&&(y=y(d)),Object.assign({},d,{method:e.method,headers:Y(h),agent:y})}function eu(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}O.mixIn(ec.prototype),Object.defineProperty(ec.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(ec.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),eu.prototype=Object.create(Error.prototype),eu.prototype.constructor=eu,eu.prototype.name="AbortError";let eh=b.URL||v.URL,em=g.PassThrough,ef=function(e,d){let h=new eh(d).hostname,m=new eh(e).hostname;return h===m||"."===h[h.length-m.length-1]&&h.endsWith(m)},eg=function(e,d){return new eh(d).protocol===new eh(e).protocol};function ey(e,d){if(!ey.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return O.Promise=ey.Promise,new ey.Promise(function(h,m){let b,v=new ec(e,d),x=ep(v),_=("https:"===x.protocol?w:y).request,E=v.signal,T=null,C=function(){let e=new eu("The user aborted a request.");m(e),v.body&&v.body instanceof g.Readable&&ev(v.body,e),T&&T.body&&T.body.emit("error",e)};if(E&&E.aborted)return void C();let P=function(){C(),I()},O=_(x);function I(){O.abort(),E&&E.removeEventListener("abort",P),clearTimeout(b)}E&&E.addEventListener("abort",P),v.timeout&&O.once("socket",function(e){b=setTimeout(function(){m(new k(`network timeout at: ${v.url}`,"request-timeout")),I()},v.timeout)}),O.on("error",function(e){m(new k(`request to ${v.url} failed, reason: ${e.message}`,"system",e)),T&&T.body&&ev(T.body,e),I()}),eb(O,function(e){(!E||!E.aborted)&&T&&T.body&&ev(T.body,e)}),14>parseInt(process.version.substring(1))&&O.on("socket",function(e){e.addListener("close",function(d){let h=e.listenerCount("data")>0;if(T&&h&&!d&&!(E&&E.aborted)){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",T.body.emit("error",e)}})}),O.on("response",function(e){clearTimeout(b);let d=X(e.headers);if(ey.isRedirect(e.statusCode)){let g=d.get("Location"),y=null;try{y=null===g?null:new eh(g,v.url).toString()}catch(e){if("manual"!==v.redirect){m(new k(`uri requested responds with an invalid redirect URL: ${g}`,"invalid-redirect")),I();return}}switch(v.redirect){case"error":m(new k(`uri requested responds with a redirect, redirect mode is set to error: ${v.url}`,"no-redirect")),I();return;case"manual":if(null!==y)try{d.set("Location",y)}catch(e){m(e)}break;case"follow":if(null===y)break;if(v.counter>=v.follow){m(new k(`maximum redirect reached at: ${v.url}`,"max-redirect")),I();return}let b={headers:new K(v.headers),follow:v.follow,counter:v.counter+1,agent:v.agent,compress:v.compress,method:v.method,body:v.body,signal:v.signal,timeout:v.timeout,size:v.size};if(!ef(v.url,y)||!eg(v.url,y))for(let e of["authorization","www-authenticate","cookie","cookie2"])b.headers.delete(e);if(303!==e.statusCode&&v.body&&null===B(v)){m(new k("Cannot follow redirect with body being a readable stream","unsupported-redirect")),I();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===v.method)&&(b.method="GET",b.body=void 0,b.headers.delete("content-length")),h(ey(new ec(y,b))),I();return}}e.once("end",function(){E&&E.removeEventListener("abort",P)});let g=e.pipe(new em),y={url:v.url,status:e.statusCode,statusText:e.statusMessage,headers:d,size:v.size,timeout:v.timeout,counter:v.counter},w=d.get("Content-Encoding");if(!v.compress||"HEAD"===v.method||null===w||204===e.statusCode||304===e.statusCode)return void h(T=new et(g,y));let x={flush:S.Z_SYNC_FLUSH,finishFlush:S.Z_SYNC_FLUSH};if("gzip"==w||"x-gzip"==w)return void h(T=new et(g=g.pipe(S.createGunzip(x)),y));if("deflate"==w||"x-deflate"==w){let d=e.pipe(new em);d.once("data",function(e){h(T=new et(g=(15&e[0])==8?g.pipe(S.createInflate()):g.pipe(S.createInflateRaw()),y))}),d.on("end",function(){T||h(T=new et(g,y))});return}if("br"==w&&"function"==typeof S.createBrotliDecompress)return void h(T=new et(g=g.pipe(S.createBrotliDecompress()),y));h(T=new et(g,y))}),j(O,v)})}function eb(e,d){let h;e.on("socket",function(e){h=e}),e.on("response",function(e){let m=e.headers;"chunked"!==m["transfer-encoding"]||m["content-length"]||e.once("close",function(e){if(h&&h.listenerCount("data")>0&&!e){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",d(e)}})})}function ev(e,d){e.destroy?e.destroy(d):(e.emit("error",d),e.end())}ey.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},ey.Promise=global.Promise;let ew=ey},29920:(e,d,h)=>{"use strict";h.r(d),h.d(d,{FetchHttpHandler:()=>w,keepAliveSupport:()=>v,streamCollector:()=>x});var m=h(96543),g=h(83524);function y(e,d){return new Request(e,d)}function b(e=0){return new Promise((d,h)=>{e&&setTimeout(()=>{let d=Error(`Request did not complete within ${e} ms`);d.name="TimeoutError",h(d)},e)})}let v={supported:void 0};class w{static create(e){return"function"==typeof e?.handle?e:new w(e)}constructor(e){"function"==typeof e?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===v.supported&&(v.supported=!!("undefined"!=typeof Request&&"keepalive"in y("https://[::1]")))}destroy(){}async handle(e,{abortSignal:d}={}){this.config||(this.config=await this.configProvider);let h=this.config.requestTimeout,w=!0===this.config.keepAlive,S=this.config.credentials;if(d?.aborted){let e=Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let x=e.path,_=(0,g.buildQueryString)(e.query||{});_&&(x+=`?${_}`),e.fragment&&(x+=`#${e.fragment}`);let E="";if(null!=e.username||null!=e.password){let d=e.username??"",h=e.password??"";E=`${d}:${h}@`}let{port:T,method:k}=e,C=`${e.protocol}//${E}${e.hostname}${T?`:${T}`:""}${x}`,P="GET"===k||"HEAD"===k?void 0:e.body,O={body:P,headers:new Headers(e.headers),method:k,credentials:S};this.config?.cache&&(O.cache=this.config.cache),P&&(O.duplex="half"),"undefined"!=typeof AbortController&&(O.signal=d),v.supported&&(O.keepalive=w),"function"==typeof this.config.requestInit&&Object.assign(O,this.config.requestInit(e));let I=()=>{},R=[fetch(y(C,O)).then(e=>{let d=e.headers,h={};for(let e of d.entries())h[e[0]]=e[1];return void 0==e.body?e.blob().then(d=>({response:new m.HttpResponse({headers:h,reason:e.statusText,statusCode:e.status,body:d})})):{response:new m.HttpResponse({headers:h,reason:e.statusText,statusCode:e.status,body:e.body})}}),b(h)];return d&&R.push(new Promise((e,h)=>{let m=()=>{let e=Error("Request aborted");e.name="AbortError",h(e)};if("function"==typeof d.addEventListener){let e=d;e.addEventListener("abort",m,{once:!0}),I=()=>e.removeEventListener("abort",m)}else d.onabort=m})),Promise.race(R).finally(I)}updateHttpClientConfig(e,d){this.config=void 0,this.configProvider=this.configProvider.then(h=>(h[e]=d,h))}httpHandlerConfigs(){return this.config??{}}}var S=h(80621);let x=async e=>"function"==typeof Blob&&e instanceof Blob||e.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):_(e):E(e);async function _(e){let d=await T(e);return new Uint8Array((0,S.fromBase64)(d))}async function E(e){let d=[],h=e.getReader(),m=!1,g=0;for(;!m;){let{done:e,value:y}=await h.read();y&&(d.push(y),g+=y.length),m=e}let y=new Uint8Array(g),b=0;for(let e of d)y.set(e,b),b+=e.length;return y}function T(e){return new Promise((d,h)=>{let m=new FileReader;m.onloadend=()=>{if(2!==m.readyState)return h(Error("Reader aborted too early"));let e=m.result??"",g=e.indexOf(","),y=g>-1?g+1:e.length;d(e.substring(y))},m.onabort=()=>h(Error("Read aborted")),m.onerror=()=>h(m.error),m.readAsDataURL(e)})}},30201:(e,d,h)=>{"use strict";h.d(d,{$:()=>v});let m=e=>"string"==typeof e&&e.length>0?e.split(",").map(e=>e.trim()):[];var g=h(63059);let y="AWS_AUTH_SCHEME_PREFERENCE",b="auth_scheme_preference",v={environmentVariableSelector:(e,d)=>d?.signingName&&(0,g.R)(d.signingName)in e?["httpBearerAuth"]:y in e?m(e[y]):void 0,configFileSelector:e=>{if(b in e)return m(e[b])},default:[]}},30387:e=>{"use strict";let d=1e3;e.exports={wait:function(e,h,m,g,y){let b=Date.now()+g,v=Atomics.load(e,h);if(v===m)return void y(null,"ok");let w=v,S=g=>{Date.now()>b?y(null,"timed-out"):setTimeout(()=>{w=v,(v=Atomics.load(e,h))===w?S(g>=d?d:2*g):v===m?y(null,"ok"):y(null,"not-equal")},g)};S(1)},waitDiff:function(e,h,m,g,y){let b=Date.now()+g,v=Atomics.load(e,h);if(v!==m)return void y(null,"ok");let w=g=>{Date.now()>b?y(null,"timed-out"):setTimeout(()=>{(v=Atomics.load(e,h))!==m?y(null,"ok"):w(g>=d?d:2*g)},g)};w(1)}}},30433:(e,d,h)=>{"use strict";async function m(e){let{payload:d,transactionID:h}=e;return h instanceof Promise?(await h,!1):!h&&"function"==typeof d.db.beginTransaction&&(e.transactionID=d.db.beginTransaction().then(d=>(d&&(e.transactionID=d),d)),!!await e.transactionID)}h.d(d,{n:()=>m})},30489:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(22054),g=h(35653),y=h(31537),b=h(15521),v=h(68692),w=h(48983),S=h(18778),x=h(88561),_=h(65172),E=h(36994),T=h(91524),k=h(56978),C=h(39120),P=h(51255),O=h(91626),I=h(58315);d.default=function(e=!1){let d=[T.default,k.default,C.default,P.default,O.default,I.default,S.default,x.default,w.default,_.default,E.default];return e?d.push(g.default,b.default):d.push(m.default,y.default),d.push(v.default),d}},30579:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isStreamingPayload=void 0;let m=h(27910);d.isStreamingPayload=e=>(null==e?void 0:e.body)instanceof m.Readable||"undefined"!=typeof ReadableStream&&(null==e?void 0:e.body)instanceof ReadableStream},30611:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(47731),g=h(79895),y=h(30489),b=h(17511),v=h(92630);d.default=[m.default,g.default,(0,y.default)(),b.default,v.metadataVocabulary,v.contentVocabulary]},30658:e=>{"use strict";e.exports=/[^.[\]]+|\[((?:.)*?)\]/g},30882:(e,d,h)=>{"use strict";h.d(d,{A:()=>k});var m=h(77598),g=h(26900),y=h(12430),b=h(50035),v=h(67946),w=h(59123),S=h(90551);new WeakMap;let x=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new g.T0("Unsupported key curve for this operation")}},_=(e,d)=>{let h;if((0,y.R)(e))h=m.KeyObject.from(e);else if((0,b.A)(e))h=e;else if((0,S.ll)(e))return e.crv;else throw TypeError((0,v.A)(e,...w.g));if("secret"===h.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(h.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${h.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${h.asymmetricKeyType.slice(1)}`;case"ec":{let e=h.asymmetricKeyDetails.namedCurve;if(d)return e;return x(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},E=(e,d)=>{let h;try{h=e instanceof m.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof h||h<2048)throw TypeError(`${d} requires key modulusLength to be 2048 bits or larger`)},T=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function k(e,d){let h,y,b,v;if(d instanceof m.KeyObject)h=d.asymmetricKeyType,y=d.asymmetricKeyDetails;else switch(b=!0,d.kty){case"RSA":h="rsa";break;case"EC":h="ec";break;case"OKP":if("Ed25519"===d.crv){h="ed25519";break}if("Ed448"===d.crv){h="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(h))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==h)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");E(d,e);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===h){let{hashAlgorithm:d,mgf1HashAlgorithm:h,saltLength:m}=y,g=parseInt(e.slice(-3),10);if(void 0!==d&&(d!==`sha${g}`||h!==d))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==m&&m>g>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==h)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");E(d,e),v={padding:m.constants.RSA_PKCS1_PSS_PADDING,saltLength:m.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==h)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let m=_(d),g=T.get(e);if(m!==g)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${g}, got ${m}`);v={dsaEncoding:"ieee-p1363"};break}default:throw new g.T0(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return b?{format:"jwk",key:d,...v}:v?{...v,key:d}:d}},31058:(e,d,h)=>{"use strict";let{createRequire:m}=h(8086),g=h(17500),{join:y,isAbsolute:b,sep:v}=h(76760),w=h(12755),S=h(93783),x=h(26588);function _(e){S.register(e,T),S.registerBeforeExit(e,k),e.on("close",function(){S.unregister(e)})}function E(e,d,h,m){let g=new x({filename:e,workerData:d,workerOpts:h,sync:m});function y(){process.removeListener("exit",b),g.unref(),!1!==h.autoEnd&&_(g)}function b(){g.closed||(g.flushSync(),w(100),g.end())}return g.on("ready",y),g.on("close",function(){process.removeListener("exit",b)}),process.on("exit",b),g}function T(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function k(e){e.flushSync()}e.exports=function(e){let{pipeline:d,targets:h,levels:w,dedupe:S,worker:x={},caller:_=g(),sync:T=!1}=e,k={...e.options},C="string"==typeof _?[_]:_,P="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},O=e.target;if(O&&h)throw Error("only one of target or targets can be specified");return h?(O=P["pino-worker"]||y(__dirname,"worker.js"),k.targets=h.filter(e=>e.target).map(e=>({...e,target:I(e.target)})),k.pipelines=h.filter(e=>e.pipeline).map(e=>e.pipeline.map(d=>({...d,level:e.level,target:I(d.target)})))):d&&(O=P["pino-worker"]||y(__dirname,"worker.js"),k.pipelines=[d.map(e=>({...e,target:I(e.target)}))]),w&&(k.levels=w),S&&(k.dedupe=S),k.pinoWillSendConfig=!0,E(I(O),k,x,T);function I(e){let d;if(b(e=P[e]||e)||0===e.indexOf("file://"))return e;if("pino/file"===e)return y(__dirname,"..","file.js");for(let h of C)try{let g="node:repl"===h?process.cwd()+v:h;d=m(g).resolve(e);break}catch(e){continue}if(!d)throw Error(`unable to determine transport target for "${e}"`);return d}}},31088:(e,d,h)=>{"use strict";let m,g=h(79551),y=h(28354),b=h(29021),v=h(1479),w=h(14985),S=h(91645),x=h(21820),_=3e5;try{m=x.networkInterfaces()}catch(e){}e.exports.networkInterfaces=m;let E=(d,h)=>{let m=e.exports.networkInterfaces;return!m||Object.keys(m).map(e=>m[e]).reduce((e,d)=>e.concat(d),[]).filter(e=>!e.internal||h).filter(e=>e.family==="IPv"+d||e.family===d).length>0},T=(e,d,h,m)=>{if(!E(e,(h=h||{}).allowInternalNetworkInterfaces))return m(null,[]);(w.Resolver?new w.Resolver(h):w)["resolve"+e](d,(e,d)=>{if(e){switch(e.code){case w.NODATA:case w.NOTFOUND:case w.NOTIMP:case w.SERVFAIL:case w.CONNREFUSED:case w.REFUSED:case"EAI_AGAIN":return m(null,[])}return m(e)}return m(null,Array.isArray(d)?d:[].concat(d||[]))})},k=e.exports.dnsCache=new Map,C=(e,d)=>e?Object.assign({servername:e.servername,host:e.addresses&&e.addresses.length?1===e.addresses.length?e.addresses[0]:e.addresses[Math.floor(Math.random()*e.addresses.length)]:null},d||{}):Object.assign({},d||{});function P(e,d){let h=!1,m=[],g=0;e.on("error",e=>{h||(h=!0,d(e))}),e.on("readable",()=>{let d;for(;null!==(d=e.read());)m.push(d),g+=d.length}),e.on("end",()=>{let e;if(!h){h=!0;try{e=Buffer.concat(m,g)}catch(e){return d(e)}d(null,e)}})}function O(e){let d=0,h=new Map;e.forEach(e=>{e.length>d&&(d=e.length)}),e.forEach(e=>{let m=e.toUpperCase();m.length<d&&(m+=" ".repeat(d-m.length)),h.set(e,m)});let m=(e,d,m,...g)=>{let b="";d&&("server"===d.tnx?b="S: ":"client"===d.tnx&&(b="C: "),d.sid&&(b="["+d.sid+"] "+b),d.cid&&(b="[#"+d.cid+"] "+b)),(m=y.format(m,...g)).split(/\r?\n/).forEach(d=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),h.get(e),b+d)})},g={};return e.forEach(e=>{g[e]=m.bind(null,e)}),g}e.exports.resolveHostname=(e,d)=>{let h;return(!(e=e||{}).host&&e.servername&&(e.host=e.servername),!e.host||S.isIP(e.host))?d(null,C({addresses:[e.host],servername:e.servername||!1},{cached:!1})):k.has(e.host)&&(!(h=k.get(e.host)).expires||h.expires>=Date.now())?d(null,C(h.value,{cached:!0})):void T(4,e.host,e,(m,g)=>{if(m)return h?d(null,C(h.value,{cached:!0,error:m})):d(m);if(g&&g.length){let h={addresses:g,servername:e.servername||e.host};return k.set(e.host,{value:h,expires:Date.now()+(e.dnsTtl||_)}),d(null,C(h,{cached:!1}))}T(6,e.host,e,(m,g)=>{if(m)return h?d(null,C(h.value,{cached:!0,error:m})):d(m);if(g&&g.length){let h={addresses:g,servername:e.servername||e.host};return k.set(e.host,{value:h,expires:Date.now()+(e.dnsTtl||_)}),d(null,C(h,{cached:!1}))}try{w.lookup(e.host,{all:!0},(m,g)=>{if(m)return h?d(null,C(h.value,{cached:!0,error:m})):d(m);let y=!!g&&g.filter(e=>E(e.family)).map(e=>e.address).shift();if(g&&g.length&&!y&&console.warn(`Failed to resolve IPv${g[0].family} addresses with current network`),!y&&h)return d(null,C(h.value,{cached:!0}));let b={addresses:y?[y]:[e.host],servername:e.servername||e.host};return k.set(e.host,{value:b,expires:Date.now()+(e.dnsTtl||_)}),d(null,C(b,{cached:!1}))})}catch(e){if(h)return d(null,C(h.value,{cached:!0,error:e}));return d(e)}})})},e.exports.parseConnectionUrl=e=>{e=e||"";let d={};return[g.parse(e,!0)].forEach(e=>{let h;switch(e.protocol){case"smtp:":d.secure=!1;break;case"smtps:":d.secure=!0;break;case"direct:":d.direct=!0}!isNaN(e.port)&&Number(e.port)&&(d.port=Number(e.port)),e.hostname&&(d.host=e.hostname),e.auth&&(h=e.auth.split(":"),d.auth||(d.auth={}),d.auth.user=h.shift(),d.auth.pass=h.join(":")),Object.keys(e.query||{}).forEach(h=>{let m=d,g=h,y=e.query[h];switch(!isNaN(y)&&(y=Number(y)),y){case"true":y=!0;break;case"false":y=!1}if(0===h.indexOf("tls."))g=h.substr(4),d.tls||(d.tls={}),m=d.tls;else if(h.indexOf(".")>=0)return;g in m||(m[g]=y)})}),d},e.exports._logFunc=(e,d,h,m,g,...y)=>{let b={};Object.keys(h||{}).forEach(e=>{"level"!==e&&(b[e]=h[e])}),Object.keys(m||{}).forEach(e=>{"level"!==e&&(b[e]=m[e])}),e[d](b,g,...y)},e.exports.getLogger=(d,h)=>{let m={},g=["trace","debug","info","warn","error","fatal"];if(!(d=d||{}).logger)return g.forEach(e=>{m[e]=()=>!1}),m;let y=d.logger;return!0===d.logger&&(y=O(g)),g.forEach(d=>{m[d]=(m,g,...b)=>{e.exports._logFunc(y,d,h,m,g,...b)}}),m},e.exports.callbackPromise=(e,d)=>function(){let h=Array.from(arguments),m=h.shift();m?d(m):e(...h)},e.exports.parseDataURI=e=>{let d,h=e,m=h.indexOf(",");if(!m)return e;let g=h.substring(m+1),y=h.substring(5,m).split(";"),b=y.length>1&&y[y.length-1];b&&0>b.indexOf("=")&&(d=b.toLowerCase(),y.pop());let v=y.shift()||"application/octet-stream",w={};for(let e of y){let d=e.indexOf("=");if(d>=0){let h=e.substring(0,d),m=e.substring(d+1);w[h]=m}}switch(d){case"base64":g=Buffer.from(g,"base64");break;case"utf8":g=Buffer.from(g);break;default:try{g=Buffer.from(decodeURIComponent(g))}catch(e){g=Buffer.from(g)}g=Buffer.from(g)}return{data:g,encoding:d,contentType:v,params:w}},e.exports.resolveContent=(d,h,m)=>{let g;m||(g=new Promise((d,h)=>{m=e.exports.callbackPromise(d,h)}));let y=d&&d[h]&&d[h].content||d[h],w=("object"==typeof d[h]&&d[h].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!y)return m(null,y);if("object"==typeof y){if("function"==typeof y.pipe)return P(y,(e,g)=>{if(e)return m(e);d[h].content?d[h].content=g:d[h]=g,m(null,g)});else if(/^https?:\/\//i.test(y.path||y.href))return P(v(y.path||y.href),m);else if(/^data:/i.test(y.path||y.href)){let d=e.exports.parseDataURI(y.path||y.href);return d&&d.data?m(null,d.data):m(null,Buffer.from(0))}else if(y.path)return P(b.createReadStream(y.path),m)}return"string"!=typeof d[h].content||["utf8","usascii","ascii"].includes(w)||(y=Buffer.from(d[h].content,w)),setImmediate(()=>m(null,y)),g},e.exports.assign=function(){let e=Array.from(arguments),d=e.shift()||{};return e.forEach(e=>{Object.keys(e||{}).forEach(h=>{["tls","auth"].includes(h)&&e[h]&&"object"==typeof e[h]?(d[h]||(d[h]={}),Object.keys(e[h]).forEach(m=>{d[h][m]=e[h][m]})):d[h]=e[h]})}),d},e.exports.encodeXText=e=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(e))return e;let d=Buffer.from(e),h="";for(let e=0,m=d.length;e<m;e++){let m=d[e];m<33||m>126||43===m||61===m?h+="+"+(m<16?"0":"")+m.toString(16).toUpperCase():h+=String.fromCharCode(m)}return h}},31258:(e,d,h)=>{"use strict";h(91645);var m=h(94735).EventEmitter;let{parse:g,serialize:y}=h(51289),{getStream:b,getSecureStream:v}=h(88358),w=y.flush(),S=y.sync(),x=y.end();class _ extends m{constructor(e){super(),e=e||{},this.stream=e.stream||b(e.ssl),"function"==typeof this.stream&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var d=this;this.on("newListener",function(e){"message"===e&&(d._emitMessage=!0)})}connect(e,d){var m=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,d),this.stream.once("connect",function(){m._keepAlive&&m.stream.setKeepAlive(!0,m._keepAliveInitialDelayMillis),m.emit("connect")});let g=function(e){m._ending&&("ECONNRESET"===e.code||"EPIPE"===e.code)||m.emit("error",e)};if(this.stream.on("error",g),this.stream.on("close",function(){m.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(e){switch(e.toString("utf8")){case"S":break;case"N":return m.stream.end(),m.emit("error",Error("The server does not support SSL connections"));default:return m.stream.end(),m.emit("error",Error("There was an error establishing an SSL connection"))}let y={socket:m.stream};!0!==m.ssl&&(Object.assign(y,m.ssl),"key"in m.ssl&&(y.key=m.ssl.key));var b=h(91645);b.isIP&&0===b.isIP(d)&&(y.servername=d);try{m.stream=v(y)}catch(e){return m.emit("error",e)}m.attachListeners(m.stream),m.stream.on("error",g),m.emit("sslconnect")})}attachListeners(e){g(e,e=>{var d="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(d,e)})}requestSsl(){this.stream.write(y.requestSsl())}startup(e){this.stream.write(y.startup(e))}cancel(e,d){this._send(y.cancel(e,d))}password(e){this._send(y.password(e))}sendSASLInitialResponseMessage(e,d){this._send(y.sendSASLInitialResponseMessage(e,d))}sendSCRAMClientFinalMessage(e){this._send(y.sendSCRAMClientFinalMessage(e))}_send(e){return!!this.stream.writable&&this.stream.write(e)}query(e){this._send(y.query(e))}parse(e){this._send(y.parse(e))}bind(e){this._send(y.bind(e))}execute(e){this._send(y.execute(e))}flush(){this.stream.writable&&this.stream.write(w)}sync(){this._ending=!0,this._send(S)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){return(this._ending=!0,this._connecting&&this.stream.writable)?this.stream.write(x,()=>{this.stream.end()}):void this.stream.end()}close(e){this._send(y.close(e))}describe(e){this._send(y.describe(e))}sendCopyFromChunk(e){this._send(y.copyData(e))}endCopyFrom(){this._send(y.copyDone())}sendCopyFail(e){this._send(y.copyFail(e))}}e.exports=_},31303:(e,d,h)=>{"use strict";h.d(d,{en:()=>m});let m={dateFNSKey:"en-US",translations:{authentication:{account:"Account",accountOfCurrentUser:"Account of current user",accountVerified:"Account verified successfully.",alreadyActivated:"Already Activated",alreadyLoggedIn:"Already logged in",apiKey:"API Key",authenticated:"Authenticated",backToLogin:"Back to login",beginCreateFirstUser:"To begin, create your first user.",changePassword:"Change Password",checkYourEmailForPasswordReset:"If the email address is associated with an account, you will receive instructions to reset your password shortly. Please check your spam or junk mail folder if you don't see the email in your inbox.",confirmGeneration:"Confirm Generation",confirmPassword:"Confirm Password",createFirstUser:"Create first user",emailNotValid:"The email provided is not valid",emailOrUsername:"Email or Username",emailSent:"Email Sent",emailVerified:"Email verified successfully.",enableAPIKey:"Enable API Key",failedToUnlock:"Failed to unlock",forceUnlock:"Force Unlock",forgotPassword:"Forgot Password",forgotPasswordEmailInstructions:"Please enter your email below. You will receive an email message with instructions on how to reset your password.",forgotPasswordUsernameInstructions:"Please enter your username below. Instructions on how to reset your password will be sent to email address associated with your username.",usernameNotValid:"The username provided is not valid",forgotPasswordQuestion:"Forgot password?",generate:"Generate",generateNewAPIKey:"Generate new API key",generatingNewAPIKeyWillInvalidate:"Generating a new API key will <1>invalidate</1> the previous key. Are you sure you wish to continue?",lockUntil:"Lock Until",logBackIn:"Log back in",loggedIn:"To log in with another user, you should <0>log out</0> first.",loggedInChangePassword:"To change your password, go to your <0>account</0> and edit your password there.",loggedOutInactivity:"You have been logged out due to inactivity.",loggedOutSuccessfully:"You have been logged out successfully.",loggingOut:"Logging out...",login:"Login",loginAttempts:"Login Attempts",loginUser:"Login user",loginWithAnotherUser:"To log in with another user, you should <0>log out</0> first.",logOut:"Log out",logout:"Logout",logoutSuccessful:"Logout successful.",logoutUser:"Logout user",newAccountCreated:'A new account has just been created for you to access <a href="{{serverURL}}">{{serverURL}}</a> Please click on the following link or paste the URL below into your browser to verify your email: <a href="{{verificationURL}}">{{verificationURL}}</a><br> After verifying your email, you will be able to log in successfully.',newAPIKeyGenerated:"New API Key Generated.",newPassword:"New Password",passed:"Authentication Passed",passwordResetSuccessfully:"Password reset successfully.",resetPassword:"Reset Password",resetPasswordExpiration:"Reset Password Expiration",resetPasswordToken:"Reset Password Token",resetYourPassword:"Reset Your Password",stayLoggedIn:"Stay logged in",successfullyRegisteredFirstUser:"Successfully registered first user.",successfullyUnlocked:"Successfully unlocked",tokenRefreshSuccessful:"Token refresh successful.",unableToVerify:"Unable to Verify",username:"Username",verified:"Verified",verifiedSuccessfully:"Verified Successfully",verify:"Verify",verifyUser:"Verify User",verifyYourEmail:"Verify your email",youAreInactive:"You haven't been active in a little while and will shortly be automatically logged out for your own security. Would you like to stay logged in?",youAreReceivingResetPassword:"You are receiving this because you (or someone else) have requested the reset of the password for your account. Please click on the following link, or paste this into your browser to complete the process:",youDidNotRequestPassword:"If you did not request this, please ignore this email and your password will remain unchanged."},error:{accountAlreadyActivated:"This account has already been activated.",autosaving:"There was a problem while autosaving this document.",correctInvalidFields:"Please correct invalid fields.",deletingFile:"There was an error deleting file.",deletingTitle:"There was an error while deleting {{title}}. Please check your connection and try again.",emailOrPasswordIncorrect:"The email or password provided is incorrect.",followingFieldsInvalid_one:"The following field is invalid:",followingFieldsInvalid_other:"The following fields are invalid:",incorrectCollection:"Incorrect Collection",invalidFileType:"Invalid file type",invalidFileTypeValue:"Invalid file type: {{value}}",invalidRequestArgs:"Invalid arguments passed in request: {{args}}",loadingDocument:"There was a problem loading the document with ID of {{id}}.",localesNotSaved_one:"The following locale could not be saved:",localesNotSaved_other:"The following locales could not be saved:",logoutFailed:"Logout failed.",missingEmail:"Missing email.",missingIDOfDocument:"Missing ID of document to update.",missingIDOfVersion:"Missing ID of version.",missingRequiredData:"Missing required data.",noFilesUploaded:"No files were uploaded.",noMatchedField:'No matched field found for "{{label}}"',notAllowedToAccessPage:"You are not allowed to access this page.",notAllowedToPerformAction:"You are not allowed to perform this action.",notFound:"The requested resource was not found.",noUser:"No User",previewing:"There was a problem previewing this document.",problemUploadingFile:"There was a problem while uploading the file.",tokenInvalidOrExpired:"Token is either invalid or has expired.",tokenNotProvided:"Token not provided.",unableToDeleteCount:"Unable to delete {{count}} out of {{total}} {{label}}.",unableToReindexCollection:"Error reindexing collection {{collection}}. Operation aborted.",unableToUpdateCount:"Unable to update {{count}} out of {{total}} {{label}}.",unauthorized:"Unauthorized, you must be logged in to make this request.",unauthorizedAdmin:"Unauthorized, this user does not have access to the admin panel.",unknown:"An unknown error has occurred.",unPublishingDocument:"There was a problem while un-publishing this document.",unspecific:"An error has occurred.",unverifiedEmail:"Please verify your email before logging in.",userEmailAlreadyRegistered:"A user with the given email is already registered.",userLocked:"This user is locked due to having too many failed login attempts.",usernameAlreadyRegistered:"A user with the given username is already registered.",usernameOrPasswordIncorrect:"The username or password provided is incorrect.",valueMustBeUnique:"Value must be unique",verificationTokenInvalid:"Verification token is invalid."},fields:{addLabel:"Add {{label}}",addLink:"Add Link",addNew:"Add new",addNewLabel:"Add new {{label}}",addRelationship:"Add Relationship",addUpload:"Add Upload",block:"block",blocks:"blocks",blockType:"Block Type",chooseBetweenCustomTextOrDocument:"Choose between entering a custom text URL or linking to another document.",chooseDocumentToLink:"Choose a document to link to",chooseFromExisting:"Choose from existing",chooseLabel:"Choose {{label}}",collapseAll:"Collapse All",customURL:"Custom URL",editLabelData:"Edit {{label}} data",editLink:"Edit Link",editRelationship:"Edit Relationship",enterURL:"Enter a URL",internalLink:"Internal Link",itemsAndMore:"{{items}} and {{count}} more",labelRelationship:"{{label}} Relationship",latitude:"Latitude",linkedTo:"Linked to <0>{{label}}</0>",linkType:"Link Type",longitude:"Longitude",newLabel:"New {{label}}",openInNewTab:"Open in new tab",passwordsDoNotMatch:"Passwords do not match.",relatedDocument:"Related Document",relationTo:"Relation To",removeRelationship:"Remove Relationship",removeUpload:"Remove Upload",saveChanges:"Save changes",searchForBlock:"Search for a block",selectExistingLabel:"Select existing {{label}}",selectFieldsToEdit:"Select fields to edit",showAll:"Show All",swapRelationship:"Swap Relationship",swapUpload:"Swap Upload",textToDisplay:"Text to display",toggleBlock:"Toggle block",uploadNewLabel:"Upload new {{label}}"},folder:{browseByFolder:"Browse by Folder",byFolder:"By Folder",deleteFolder:"Delete Folder",folderName:"Folder Name",folders:"Folders",itemHasBeenMoved:"{{title}} has been moved to {{folderName}}",itemHasBeenMovedToRoot:"{{title}} has been moved to the root folder",itemsMovedToFolder:"{{title}} moved to {{folderName}}",itemsMovedToRoot:"{{title}} moved to the root folder",moveFolder:"Move Folder",moveItemsToFolderConfirmation:"You are about to move <1>{{count}} {{label}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemsToRootConfirmation:"You are about to move <1>{{count}} {{label}}</1> to the root folder. Are you sure?",moveItemToFolderConfirmation:"You are about to move <1>{{title}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemToRootConfirmation:"You are about to move <1>{{title}}</1> to the root folder. Are you sure?",movingFromFolder:"Moving {{title}} from {{fromFolder}}",newFolder:"New Folder",noFolder:"No Folder",renameFolder:"Rename Folder",searchByNameInFolder:"Search by Name in {{folderName}}",selectFolderForItem:"Select folder for {{title}}"},general:{name:"Name",aboutToDelete:"You are about to delete the {{label}} <1>{{title}}</1>. Are you sure?",aboutToDeleteCount_many:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_one:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_other:"You are about to delete {{count}} {{label}}",addBelow:"Add Below",addFilter:"Add Filter",adminTheme:"Admin Theme",all:"All",allCollections:"All Collections",allLocales:"All locales",and:"And",anotherUser:"Another user",anotherUserTakenOver:"Another user has taken over editing this document.",applyChanges:"Apply Changes",ascending:"Ascending",automatic:"Automatic",backToDashboard:"Back to Dashboard",cancel:"Cancel",changesNotSaved:"Your changes have not been saved. If you leave now, you will lose your changes.",clearAll:"Clear All",close:"Close",collapse:"Collapse",collections:"Collections",columns:"Columns",columnToSort:"Column to Sort",confirm:"Confirm",confirmCopy:"Confirm copy",confirmDeletion:"Confirm deletion",confirmDuplication:"Confirm duplication",confirmMove:"Confirm move",confirmReindex:"Reindex all {{collections}}?",confirmReindexAll:"Reindex all collections?",confirmReindexDescription:"This will remove existing indexes and reindex documents in the {{collections}} collections.",confirmReindexDescriptionAll:"This will remove existing indexes and reindex documents in all collections.",copied:"Copied",copy:"Copy",copying:"Copying",copyWarning:"You are about to overwrite {{to}} with {{from}} for {{label}} {{title}}. Are you sure?",create:"Create",created:"Created",createdAt:"Created At",createNew:"Create New",createNewLabel:"Create new {{label}}",creating:"Creating",creatingNewLabel:"Creating new {{label}}",currentlyEditing:"is currently editing this document. If you take over, they will be blocked from continuing to edit, and may also lose unsaved changes.",custom:"Custom",dark:"Dark",dashboard:"Dashboard",delete:"Delete",deletedCountSuccessfully:"Deleted {{count}} {{label}} successfully.",deletedSuccessfully:"Deleted successfully.",deleting:"Deleting...",depth:"Depth",descending:"Descending",deselectAllRows:"Deselect all rows",document:"Document",documentLocked:"Document locked",documents:"Documents",duplicate:"Duplicate",duplicateWithoutSaving:"Duplicate without saving changes",edit:"Edit",editAll:"Edit all",editedSince:"Edited since",editing:"Editing",editingLabel_many:"Editing {{count}} {{label}}",editingLabel_one:"Editing {{count}} {{label}}",editingLabel_other:"Editing {{count}} {{label}}",editingTakenOver:"Editing taken over",editLabel:"Edit {{label}}",email:"Email",emailAddress:"Email Address",enterAValue:"Enter a value",error:"Error",errors:"Errors",export:"Export",fallbackToDefaultLocale:"Fallback to default locale",false:"False",filter:"Filter",filters:"Filters",filterWhere:"Filter {{label}} where",globals:"Globals",goBack:"Go back",import:"Import",isEditing:"is editing",item:"item",items:"items",language:"Language",lastModified:"Last Modified",leaveAnyway:"Leave anyway",leaveWithoutSaving:"Leave without saving",light:"Light",livePreview:"Live Preview",loading:"Loading",locale:"Locale",locales:"Locales",menu:"Menu",moreOptions:"More options",move:"Move",moveConfirm:"You are about to move {{count}} {{label}} to <1>{{destination}}</1>. Are you sure?",moveCount:"Move {{count}} {{label}}",moveDown:"Move Down",moveUp:"Move Up",moving:"Moving",movingCount:"Moving {{count}} {{label}}",newPassword:"New Password",next:"Next",no:"No",noDateSelected:"No date selected",noFiltersSet:"No filters set",noLabel:"<No {{label}}>",none:"None",noOptions:"No options",noResults:"No {{label}} found. Either no {{label}} exist yet or none match the filters you've specified above.",notFound:"Not Found",nothingFound:"Nothing found",noUpcomingEventsScheduled:"No upcoming events scheduled.",noValue:"No value",of:"of",only:"Only",open:"Open",or:"Or",order:"Order",overwriteExistingData:"Overwrite existing field data",pageNotFound:"Page not found",password:"Password",payloadSettings:"Payload Settings",perPage:"Per Page: {{limit}}",previous:"Previous",reindex:"Reindex",reindexingAll:"Reindexing all {{collections}}.",remove:"Remove",rename:"Rename",reset:"Reset",resetPreferences:"Reset Preferences",resetPreferencesDescription:"This will reset all of your preferences to their default settings.",resettingPreferences:"Resetting Preferences.",row:"Row",rows:"Rows",save:"Save",saving:"Saving...",schedulePublishFor:"Schedule publish for {{title}}",searchBy:"Search by {{label}}",select:"Select",selectAll:"Select all {{count}} {{label}}",selectAllRows:"Select all rows",selectedCount:"{{count}} {{label}} selected",selectLabel:"Select {{label}}",selectValue:"Select a value",showAllLabel:"Show all {{label}}",sorryNotFound:"Sorrythere is nothing to correspond with your request.",sort:"Sort",sortByLabelDirection:"Sort by {{label}} {{direction}}",stayOnThisPage:"Stay on this page",submissionSuccessful:"Submission Successful.",submit:"Submit",submitting:"Submitting...",success:"Success",successfullyCreated:"{{label}} successfully created.",successfullyDuplicated:"{{label}} successfully duplicated.",successfullyReindexed:"Successfully reindexed {{count}} of {{total}} documents from {{collections}}",takeOver:"Take over",thisLanguage:"English",time:"Time",timezone:"Timezone",titleDeleted:'{{label}} "{{title}}" successfully deleted.',true:"True",unauthorized:"Unauthorized",unsavedChanges:"You have unsaved changes. Save or discard before continuing.",unsavedChangesDuplicate:"You have unsaved changes. Would you like to continue to duplicate?",untitled:"Untitled",upcomingEvents:"Upcoming Events",updatedAt:"Updated At",updatedCountSuccessfully:"Updated {{count}} {{label}} successfully.",updatedLabelSuccessfully:"Updated {{label}} successfully.",updatedSuccessfully:"Updated successfully.",updateForEveryone:"Update for everyone",updating:"Updating",uploading:"Uploading",uploadingBulk:"Uploading {{current}} of {{total}}",user:"User",username:"Username",users:"Users",value:"Value",viewReadOnly:"View read-only",welcome:"Welcome",yes:"Yes"},localization:{cannotCopySameLocale:"Cannot copy to the same locale",copyFrom:"Copy from",copyFromTo:"Copying from {{from}} to {{to}}",copyTo:"Copy to",copyToLocale:"Copy to locale",localeToPublish:"Locale to publish",selectLocaleToCopy:"Select locale to copy"},operators:{contains:"contains",equals:"equals",exists:"exists",intersects:"intersects",isGreaterThan:"is greater than",isGreaterThanOrEqualTo:"is greater than or equal to",isIn:"is in",isLessThan:"is less than",isLessThanOrEqualTo:"is less than or equal to",isLike:"is like",isNotEqualTo:"is not equal to",isNotIn:"is not in",isNotLike:"is not like",near:"near",within:"within"},upload:{addFile:"Add file",addFiles:"Add files",bulkUpload:"Bulk Upload",crop:"Crop",cropToolDescription:"Drag the corners of the selected area, draw a new area or adjust the values below.",download:"Download",dragAndDrop:"Drag and drop a file",dragAndDropHere:"or drag and drop a file here",editImage:"Edit Image",fileName:"File Name",fileSize:"File Size",filesToUpload:"Files to Upload",fileToUpload:"File to Upload",focalPoint:"Focal Point",focalPointDescription:"Drag the focal point directly on the preview or adjust the values below.",height:"Height",lessInfo:"Less info",moreInfo:"More info",noFile:"No file",pasteURL:"Paste URL",previewSizes:"Preview Sizes",selectCollectionToBrowse:"Select a Collection to Browse",selectFile:"Select a file",setCropArea:"Set crop area",setFocalPoint:"Set focal point",sizes:"Sizes",sizesFor:"Sizes for {{label}}",width:"Width"},validation:{emailAddress:"Please enter a valid email address.",enterNumber:"Please enter a valid number.",fieldHasNo:"This field has no {{label}}",greaterThanMax:"{{value}} is greater than the max allowed {{label}} of {{max}}.",invalidInput:"This field has an invalid input.",invalidSelection:"This field has an invalid selection.",invalidSelections:"This field has the following invalid selections:",lessThanMin:"{{value}} is less than the min allowed {{label}} of {{min}}.",limitReached:"Limit reached, only {{max}} items can be added.",longerThanMin:"This value must be longer than the minimum length of {{minLength}} characters.",notValidDate:'"{{value}}" is not a valid date.',required:"This field is required.",requiresAtLeast:"This field requires at least {{count}} {{label}}.",requiresNoMoreThan:"This field requires no more than {{count}} {{label}}.",requiresTwoNumbers:"This field requires two numbers.",shorterThanMax:"This value must be shorter than the max length of {{maxLength}} characters.",timezoneRequired:"A timezone is required.",trueOrFalse:"This field can only be equal to true or false.",username:"Please enter a valid username. Can contain letters, numbers, hyphens, periods and underscores.",validUploadID:"This field is not a valid upload ID."},version:{type:"Type",aboutToPublishSelection:"You are about to publish all {{label}} in the selection. Are you sure?",aboutToRestore:"You are about to restore this {{label}} document to the state that it was in on {{versionDate}}.",aboutToRestoreGlobal:"You are about to restore the global {{label}} to the state that it was in on {{versionDate}}.",aboutToRevertToPublished:"You are about to revert this document's changes to its published state. Are you sure?",aboutToUnpublish:"You are about to unpublish this document. Are you sure?",aboutToUnpublishSelection:"You are about to unpublish all {{label}} in the selection. Are you sure?",autosave:"Autosave",autosavedSuccessfully:"Autosaved successfully.",autosavedVersion:"Autosaved version",changed:"Changed",changedFieldsCount_one:"{{count}} changed field",changedFieldsCount_other:"{{count}} changed fields",compareVersion:"Compare version against:",confirmPublish:"Confirm publish",confirmRevertToSaved:"Confirm revert to saved",confirmUnpublish:"Confirm unpublish",confirmVersionRestoration:"Confirm version Restoration",currentDocumentStatus:"Current {{docStatus}} document",currentDraft:"Current Draft",currentPublishedVersion:"Current Published Version",draft:"Draft",draftSavedSuccessfully:"Draft saved successfully.",lastSavedAgo:"Last saved {{distance}} ago",modifiedOnly:"Modified only",noFurtherVersionsFound:"No further versions found",noRowsFound:"No {{label}} found",noRowsSelected:"No {{label}} selected",preview:"Preview",previouslyPublished:"Previously Published",problemRestoringVersion:"There was a problem restoring this version",publish:"Publish",publishAllLocales:"Publish all locales",publishChanges:"Publish changes",published:"Published",publishIn:"Publish in {{locale}}",publishing:"Publishing",restoreAsDraft:"Restore as draft",restoredSuccessfully:"Restored Successfully.",restoreThisVersion:"Restore this version",restoring:"Restoring...",reverting:"Reverting...",revertToPublished:"Revert to published",saveDraft:"Save Draft",scheduledSuccessfully:"Scheduled successfully.",schedulePublish:"Schedule Publish",selectLocales:"Select locales to display",selectVersionToCompare:"Select a version to compare",showingVersionsFor:"Showing versions for:",showLocales:"Show locales:",status:"Status",unpublish:"Unpublish",unpublishing:"Unpublishing...",version:"Version",versionCount_many:"{{count}} versions found",versionCount_none:"No versions found",versionCount_one:"{{count}} version found",versionCount_other:"{{count}} versions found",versionCreatedOn:"{{version}} created on:",versionID:"Version ID",versions:"Versions",viewingVersion:"Viewing version for the {{entityLabel}} {{documentTitle}}",viewingVersionGlobal:"Viewing version for the global {{entityLabel}}",viewingVersions:"Viewing versions for the {{entityLabel}} {{documentTitle}}",viewingVersionsGlobal:"Viewing versions for the global {{entityLabel}}"}}}},31347:(e,d,h)=>{"use strict";e.exports={action:h(57649),clear:h(47598),style:h(34198),strip:h(2365),figures:h(20906),lines:h(4612),wrap:h(17883),entriesToDisplay:h(93474)}},31537:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateTuple=void 0;let m=h(52046),g=h(31934),y=h(11622),b={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:d,it:h}=e;if(Array.isArray(d))return v(e,"additionalItems",d);h.items=!0,(0,g.alwaysValidSchema)(h,d)||e.ok((0,y.validateArray)(e))}};function v(e,d,h=e.schema){let{gen:y,parentSchema:b,data:w,keyword:S,it:x}=e;T(b),x.opts.unevaluated&&h.length&&!0!==x.items&&(x.items=g.mergeEvaluated.items(y,h.length,x.items));let _=y.name("valid"),E=y.const("len",(0,m._)`${w}.length`);function T(e){let{opts:m,errSchemaPath:y}=x,b=h.length,v=b===e.minItems&&(b===e.maxItems||!1===e[d]);if(m.strictTuples&&!v){let e=`"${S}" is ${b}-tuple, but minItems or maxItems/${d} are not specified or different at path "${y}"`;(0,g.checkStrictMode)(x,e,m.strictTuples)}}h.forEach((d,h)=>{(0,g.alwaysValidSchema)(x,d)||(y.if((0,m._)`${E} > ${h}`,()=>e.subschema({keyword:S,schemaProp:h,dataProp:h},_)),e.ok(_))})}d.validateTuple=v,d.default=b},31790:function(e,d,h){"use strict";var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0});let g=m(h(55079)),y=m(h(24264));d.default=e=>0===e?0:e<32||e>=127&&e<160?-1:y.default(e,g.default,g.default.length-1)?0:1+Number(e>=4352&&(e<=4447||9001===e||9002===e||e>=11904&&e<=42191&&12351!==e||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))},31934:(e,d,h)=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.checkStrictMode=d.getErrorPath=d.Type=d.useFunc=d.setEvaluated=d.evaluatedPropsToName=d.mergeEvaluated=d.eachItem=d.unescapeJsonPointer=d.escapeJsonPointer=d.escapeFragment=d.unescapeFragment=d.schemaRefOrVal=d.schemaHasRulesButRef=d.schemaHasRules=d.checkUnknownRules=d.alwaysValidSchema=d.toHash=void 0;let g=h(52046),y=h(71389);function b(e,d=e.schema){let{opts:h,self:m}=e;if(!h.strictSchema||"boolean"==typeof d)return;let g=m.RULES.keywords;for(let h in d)g[h]||k(e,`unknown keyword: "${h}"`)}function v(e,d){if("boolean"==typeof e)return!e;for(let h in e)if(d[h])return!0;return!1}function w(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function S(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function x({mergeNames:e,mergeToName:d,mergeValues:h,resultToName:m}){return(y,b,v,w)=>{let S=void 0===v?b:v instanceof g.Name?(b instanceof g.Name?e(y,b,v):d(y,b,v),v):b instanceof g.Name?(d(y,v,b),b):h(b,v);return w!==g.Name||S instanceof g.Name?S:m(y,S)}}function _(e,d){if(!0===d)return e.var("props",!0);let h=e.var("props",(0,g._)`{}`);return void 0!==d&&E(e,h,d),h}function E(e,d,h){Object.keys(h).forEach(h=>e.assign((0,g._)`${d}${(0,g.getProperty)(h)}`,!0))}d.toHash=function(e){let d={};for(let h of e)d[h]=!0;return d},d.alwaysValidSchema=function(e,d){return"boolean"==typeof d?d:0===Object.keys(d).length||(b(e,d),!v(d,e.self.RULES.all))},d.checkUnknownRules=b,d.schemaHasRules=v,d.schemaHasRulesButRef=function(e,d){if("boolean"==typeof e)return!e;for(let h in e)if("$ref"!==h&&d.all[h])return!0;return!1},d.schemaRefOrVal=function({topSchemaRef:e,schemaPath:d},h,m,y){if(!y){if("number"==typeof h||"boolean"==typeof h)return h;if("string"==typeof h)return(0,g._)`${h}`}return(0,g._)`${e}${d}${(0,g.getProperty)(m)}`},d.unescapeFragment=function(e){return S(decodeURIComponent(e))},d.escapeFragment=function(e){return encodeURIComponent(w(e))},d.escapeJsonPointer=w,d.unescapeJsonPointer=S,d.eachItem=function(e,d){if(Array.isArray(e))for(let h of e)d(h);else d(e)},d.mergeEvaluated={props:x({mergeNames:(e,d,h)=>e.if((0,g._)`${h} !== true && ${d} !== undefined`,()=>{e.if((0,g._)`${d} === true`,()=>e.assign(h,!0),()=>e.assign(h,(0,g._)`${h} || {}`).code((0,g._)`Object.assign(${h}, ${d})`))}),mergeToName:(e,d,h)=>e.if((0,g._)`${h} !== true`,()=>{!0===d?e.assign(h,!0):(e.assign(h,(0,g._)`${h} || {}`),E(e,h,d))}),mergeValues:(e,d)=>!0===e||{...e,...d},resultToName:_}),items:x({mergeNames:(e,d,h)=>e.if((0,g._)`${h} !== true && ${d} !== undefined`,()=>e.assign(h,(0,g._)`${d} === true ? true : ${h} > ${d} ? ${h} : ${d}`)),mergeToName:(e,d,h)=>e.if((0,g._)`${h} !== true`,()=>e.assign(h,!0===d||(0,g._)`${h} > ${d} ? ${h} : ${d}`)),mergeValues:(e,d)=>!0===e||Math.max(e,d),resultToName:(e,d)=>e.var("items",d)})},d.evaluatedPropsToName=_,d.setEvaluated=E;let T={};function k(e,d,h=e.opts.strictSchema){if(h){if(d=`strict mode: ${d}`,!0===h)throw Error(d);e.self.logger.warn(d)}}d.useFunc=function(e,d){return e.scopeValue("func",{ref:d,code:T[d.code]||(T[d.code]=new y._Code(d.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(m||(d.Type=m={})),d.getErrorPath=function(e,d,h){if(e instanceof g.Name){let y=d===m.Num;return h?y?(0,g._)`"[" + ${e} + "]"`:(0,g._)`"['" + ${e} + "']"`:y?(0,g._)`"/" + ${e}`:(0,g._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return h?(0,g.getProperty)(e).toString():"/"+w(e)},d.checkStrictMode=k},32034:(e,d,h)=>{"use strict";h.d(d,{l:()=>y});var m=h(13062),g=h(89554);class y extends g.L{constructor(e){super(`The following path${1===e.length?"":"s"} cannot be queried: ${e.map(e=>e.path).join(", ")}`,m.h.BAD_REQUEST,e)}}},32105:(e,d,h)=>{"use strict";var m=h(9046);function g(e){if(!(this instanceof g))return new g(e);m(this,k(e))}e.exports=g;var y=["seconds","minutes","hours","days","months","years"];g.prototype.toPostgres=function(){var e=y.filter(this.hasOwnProperty,this);return(this.milliseconds&&0>e.indexOf("seconds")&&e.push("seconds"),0===e.length)?"0":e.map(function(e){var d=this[e]||0;return"seconds"===e&&this.milliseconds&&(d=(d+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),d+" "+e},this).join(" ")};var b={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},v=["years","months","days"],w=["hours","minutes","seconds"];g.prototype.toISOString=g.prototype.toISO=function(){return"P"+v.map(e,this).join("")+"T"+w.map(e,this).join("");function e(e){var d=this[e]||0;return"seconds"===e&&this.milliseconds&&(d=(d+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),d+b[e]}};var S="([+-]?\\d+)",x=new RegExp([S+"\\s+years?",S+"\\s+mons?",S+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(e){return"("+e+")?"}).join("\\s*")),_={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},E=["hours","minutes","seconds","milliseconds"];function T(e){return parseInt(e+"000000".slice(e.length),10)/1e3}function k(e){if(!e)return{};var d=x.exec(e),h="-"===d[8];return Object.keys(_).reduce(function(e,m){var g=d[_[m]];return g&&(g="milliseconds"===m?T(g):parseInt(g,10))&&(h&&~E.indexOf(m)&&(g*=-1),e[m]=g),e},{})}},32152:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DEFAULT_HEADER_ALIGNMENT=d.DEFAULT_ROW_ALIGNMENT=d.DEFAULT_HEADER_FONT_COLOR=d.DEFAULT_ROW_FONT_COLOR=d.COLORS=d.ALIGNMENTS=d.DEFAULT_TABLE_STYLE=d.DEFAULT_ROW_SEPARATOR=d.DEFAULT_COLUMN_LEN=void 0,d.DEFAULT_COLUMN_LEN=20,d.DEFAULT_ROW_SEPARATOR=!1,d.DEFAULT_TABLE_STYLE={headerTop:{left:"",mid:"",right:"",other:""},headerBottom:{left:"",mid:"",right:"",other:""},tableBottom:{left:"",mid:"",right:"",other:""},vertical:"",rowSeparator:{left:"",mid:"",right:"",other:""}},d.ALIGNMENTS=["right","left","center"],d.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"],d.DEFAULT_ROW_FONT_COLOR="white",d.DEFAULT_HEADER_FONT_COLOR="white_bold",d.DEFAULT_ROW_ALIGNMENT="right",d.DEFAULT_HEADER_ALIGNMENT="center"},32357:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046);d.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:d}){let h="maxProperties"===e?"more":"fewer";return(0,m.str)`must NOT have ${h} than ${d} properties`},params:({schemaCode:e})=>(0,m._)`{limit: ${e}}`},code(e){let{keyword:d,data:h,schemaCode:g}=e,y="maxProperties"===d?m.operators.GT:m.operators.LT;e.fail$data((0,m._)`Object.keys(${h}).length ${y} ${g}`)}}},32382:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(5127),g=h(52046),y=h(31934),b=h(73077);d.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:d}})=>(0,g.str)`must NOT have duplicate items (items ## ${d} and ${e} are identical)`,params:({params:{i:e,j:d}})=>(0,g._)`{i: ${e}, j: ${d}}`},code(e){let{gen:d,data:h,$data:v,schema:w,parentSchema:S,schemaCode:x,it:_}=e;if(!v&&!w)return;let E=d.let("valid"),T=S.items?(0,m.getSchemaTypes)(S.items):[];function k(){let m=d.let("i",(0,g._)`${h}.length`),y=d.let("j");e.setParams({i:m,j:y}),d.assign(E,!0),d.if((0,g._)`${m} > 1`,()=>(C()?P:O)(m,y))}function C(){return T.length>0&&!T.some(e=>"object"===e||"array"===e)}function P(y,b){let v=d.name("item"),w=(0,m.checkDataTypes)(T,v,_.opts.strictNumbers,m.DataType.Wrong),S=d.const("indices",(0,g._)`{}`);d.for((0,g._)`;${y}--;`,()=>{d.let(v,(0,g._)`${h}[${y}]`),d.if(w,(0,g._)`continue`),T.length>1&&d.if((0,g._)`typeof ${v} == "string"`,(0,g._)`${v} += "_"`),d.if((0,g._)`typeof ${S}[${v}] == "number"`,()=>{d.assign(b,(0,g._)`${S}[${v}]`),e.error(),d.assign(E,!1).break()}).code((0,g._)`${S}[${v}] = ${y}`)})}function O(m,v){let w=(0,y.useFunc)(d,b.default),S=d.name("outer");d.label(S).for((0,g._)`;${m}--;`,()=>d.for((0,g._)`${v} = ${m}; ${v}--;`,()=>d.if((0,g._)`${w}(${h}[${m}], ${h}[${v}])`,()=>{e.error(),d.assign(E,!1).break(S)})))}e.block$data(E,k,(0,g._)`${x} === false`),e.ok(E)}}},32411:(e,d,h)=>{"use strict";h.d(d,{A:()=>g});var m=h(79748);let g=async e=>{try{return await m.stat(e),!0}catch(e){return!1}}},32771:(e,d,h)=>{"use strict";h.d(d,{T:()=>y,r:()=>g});var m=h(35308);function g(e){let{data:d,payload:{config:h}}=e;if(d){let m,g,b=e.locale,v=e.fallbackLocale;if(!b&&d?.locale&&"string"==typeof d.locale&&(m=d.locale),!v&&(d?.["fallback-locale"]&&"string"==typeof d?.["fallback-locale"]&&(g=d["fallback-locale"]),d?.fallbackLocale&&"string"==typeof d?.fallbackLocale&&(g=d.fallbackLocale)),!b||!v){let{fallbackLocale:d,locale:b}=y({fallbackLocale:g,locale:m,localization:h.localization});m&&(e.locale=b),g&&(e.fallbackLocale=d)}}}let y=({fallbackLocale:e,locale:d,localization:h})=>(h&&(e=(0,m.m)({fallbackLocale:e,locale:d,localization:h})),["*","all"].includes(d)?d="all":h&&!h.localeCodes.includes(d)&&h.fallback&&(d=h.defaultLocale),{fallbackLocale:e,locale:d})},32808:(e,d,h)=>{"use strict";h.d(d,{Q:()=>g});var m=h(55511);let g=(e,d)=>{let h=(0,m.createHash)("sha256");return h.update(d),h.update(e),h.digest("hex")}},32918:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ByteArrayCollector=void 0;class h{constructor(e){this.allocByteArray=e,this.byteLength=0,this.byteArrays=[]}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(1===this.byteArrays.length){let e=this.byteArrays[0];return this.reset(),e}let e=this.allocByteArray(this.byteLength),d=0;for(let h=0;h<this.byteArrays.length;++h){let m=this.byteArrays[h];e.set(m,d),d+=m.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}d.ByteArrayCollector=h},33030:(e,d)=>{"use strict";d.parse=function(e,d){return new h(e,d).parse()};class h{constructor(e,d){this.source=e,this.transform=d||m,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var d;(this.recorded.length>0||e)&&("NULL"!==(d=this.recorded.join(""))||e||(d=null),null!==d&&(d=this.transform(d)),this.entries.push(d),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(e){var d,m,g;for(this.consumeDimensions();!this.isEof();)if("{"!==(d=this.nextCharacter()).value||g){if("}"!==d.value||g)'"'!==d.value||d.escaped?","!==d.value||g?this.record(d.value):this.newEntry():(g&&this.newEntry(!0),g=!g);else if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else this.dimension++,this.dimension>1&&(m=new h(this.source.substr(this.position-1),this.transform),this.entries.push(m.parse(!0)),this.position+=m.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}}function m(e){return e}},33055:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{AdaptiveRetryStrategy:()=>z,ConfiguredRetryStrategy:()=>q,DEFAULT_MAX_ATTEMPTS:()=>E,DEFAULT_RETRY_DELAY_BASE:()=>P,DEFAULT_RETRY_MODE:()=>T,DefaultRateLimiter:()=>C,INITIAL_RETRY_TOKENS:()=>R,INVOCATION_ID_HEADER:()=>M,MAXIMUM_RETRY_DELAY:()=>O,NO_RETRY_INCREMENT:()=>$,REQUEST_HEADER:()=>B,RETRY_COST:()=>D,RETRY_MODES:()=>_,StandardRetryStrategy:()=>F,THROTTLING_RETRY_DELAY_BASE:()=>I,TIMEOUT_RETRY_COST:()=>L}),e.exports=S(x);var _=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(_||{}),E=3,T="standard",k=h(44584),C=class e{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let d=this.getCurrentTimeInSeconds();this.lastThrottleTime=d,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{v(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(d){if(this.enabled){if(this.refillTokenBucket(),d>this.currentCapacity){let h=(d-this.currentCapacity)/this.fillRate*1e3;await new Promise(d=>e.setTimeoutFn(d,h))}this.currentCapacity=this.currentCapacity-d}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let d=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+d),this.lastTimestamp=e}updateClientSendingRate(e){let d;if(this.updateMeasuredRate(),(0,k.isThrottlingError)(e)){let e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),d=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),d=this.cubicSuccess(this.getCurrentTimeInSeconds());let h=Math.min(d,2*this.measuredTxRate);this.updateTokenBucketRate(h)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,e>this.lastTxRateBucket){let d=this.requestCount/(e-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(d*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e}}getPrecise(e){return parseFloat(e.toFixed(8))}},P=100,O=2e4,I=500,R=500,D=5,L=10,$=1,M="amz-sdk-invocation-id",B="amz-sdk-request",j=v(()=>{let e=P;return{computeNextBackoffDelay:v(d=>Math.floor(Math.min(O,Math.random()*2**d*e)),"computeNextBackoffDelay"),setDelayBase:v(d=>{e=d},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),U=v(({retryDelay:e,retryCount:d,retryCost:h})=>{let m=v(()=>d,"getRetryCount");return{getRetryCount:m,getRetryDelay:v(()=>Math.min(O,e),"getRetryDelay"),getRetryCost:v(()=>h,"getRetryCost")}},"createDefaultRetryToken"),F=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=R,this.retryBackoffStrategy=j(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}static{v(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return U({retryDelay:P,retryCount:0})}async refreshRetryTokenForRetry(e,d){let h=await this.getMaxAttempts();if(this.shouldRetry(e,d,h)){let h=d.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===h?I:P);let m=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),g=d.retryAfterHint?Math.max(d.retryAfterHint.getTime()-Date.now()||0,m):m,y=this.getCapacityCost(h);return this.capacity-=y,U({retryDelay:g,retryCount:e.getRetryCount()+1,retryCost:y})}throw Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(R,this.capacity+(e.getRetryCost()??$))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${E}`),E}}shouldRetry(e,d,h){return e.getRetryCount()+1<h&&this.capacity>=this.getCapacityCost(d.errorType)&&this.isRetryableError(d.errorType)}getCapacityCost(e){return"TRANSIENT"===e?L:D}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}},z=class{constructor(e,d){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:h}=d??{};this.rateLimiter=h??new C,this.standardRetryStrategy=new F(e)}static{v(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,d){return this.rateLimiter.updateClientSendingRate(d),this.standardRetryStrategy.refreshRetryTokenForRetry(e,d)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},q=class extends F{static{v(this,"ConfiguredRetryStrategy")}constructor(e,d=P){super("function"==typeof e?e:async()=>e),"number"==typeof d?this.computeNextBackoffDelay=()=>d:this.computeNextBackoffDelay=d}async refreshRetryTokenForRetry(e,d){let h=await super.refreshRetryTokenForRetry(e,d);return h.getRetryDelay=()=>this.computeNextBackoffDelay(h.getRetryCount()),h}}},33106:(e,d,h)=>{"use strict";function m(e,d,h,m,g,y,b){try{var v=e[y](b),w=v.value}catch(e){h(e);return}v.done?d(w):Promise.resolve(w).then(m,g)}function g(e){return function(){var d=this,h=arguments;return new Promise(function(g,y){var b=e.apply(d,h);function v(e){m(b,g,y,v,w,"next",e)}function w(e){m(b,g,y,v,w,"throw",e)}v(void 0)})}}let y=h(52838),b=h(85183),v=h(41893),w=v.erase,S=v.cursor,x=h(8984),_=x.style,E=x.clear,T=x.lines,k=x.figures;class C extends b{constructor(e={}){super(e),this.transform=_.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=E("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=y.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var e=this;return g(function*(){let d=yield e.validator(e.value);"string"==typeof d&&(e.errorMsg=d,d=!1),e.error=!d})()}submit(){var e=this;return g(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write("\n"),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,d){let h=this.value.slice(0,this.cursor),m=this.value.slice(this.cursor);this.value=`${h}${e}${m}`,this.red=!1,this.cursor=this.placeholder?0:h.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),d=this.value.slice(this.cursor);this.value=`${e}${d}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor+1);this.value=`${e}${d}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(S.down(T(this.outputError,this.out.columns)-1)+E(this.outputError,this.out.columns)),this.out.write(E(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[_.symbol(this.done,this.aborted),y.bold(this.msg),_.delimiter(this.done),this.red?y.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,d,h)=>e+`
${h?" ":k.pointerSmall} ${y.red().italic(d)}`,"")),this.out.write(w.line+S.to(0)+this.outputText+S.save+this.outputError+S.restore+S.move(this.cursorOffset,0)))}}e.exports=C},33171:e=>{"use strict";e.exports=function(e){if(/^\\x/.test(e))return new Buffer(e.substr(2),"hex");for(var d="",h=0;h<e.length;)if("\\"!==e[h])d+=e[h],++h;else if(/[0-7]{3}/.test(e.substr(h+1,3)))d+=String.fromCharCode(parseInt(e.substr(h+1,3),8)),h+=4;else{for(var m=1;h+m<e.length&&"\\"===e[h+m];)m++;for(var g=0;g<Math.floor(m/2);++g)d+="\\";h+=2*Math.floor(m/2)}return new Buffer(d,"binary")}},33489:(e,d,h)=>{"use strict";h.d(d,{p:()=>P,Y:()=>C});var m=h(13062),g=h(14603),y=h(31303),b=h(89554);class v extends b.L{constructor(e){super(e?e("error:unauthorized"):y.en.translations.error.unauthorized,m.h.UNAUTHORIZED)}}async function w(e){let{key:d,req:{payload:h},req:m,user:y}=e;if(!y)throw new v(m.t);let b={and:[{key:{equals:d}},{"user.value":{equals:y.id}},{"user.relationTo":{equals:y.collection}}]},w=await h.db.deleteOne({collection:C,req:m,where:b});if(w)return w;throw new g.M(m.t)}let S=async e=>{let d;try{d=await e.json()}catch(e){d={}}let h=e;d&&(h.data=d,h.json=()=>Promise.resolve(d));let g=await w({key:h.routeParams?.key,req:h,user:h.user});return Response.json({...g,message:h.t("general:deletedSuccessfully")},{status:m.h.OK})};async function x(e){let{key:d,req:{payload:h},req:m,user:g}=e;if(!g)return null;let y={and:[{key:{equals:d}},{"user.value":{equals:g.id}},{"user.relationTo":{equals:g.collection}}]},{docs:b}=await h.db.find({collection:C,limit:1,pagination:!1,req:m,sort:"-updatedAt",where:y});return b?.[0]||null}let _=async e=>{let d;try{d=await e.json()}catch(e){d={}}let h=e;d&&(h.data=d,h.json=()=>Promise.resolve(d));let g=await x({key:h.routeParams?.key,req:h,user:h.user});return Response.json({...g||{message:h.t("general:notFound"),value:null}},{status:m.h.OK})};async function E(e){let{key:d,req:{payload:h},req:m,user:g,value:y}=e;if(!g)throw new v(m.t);let b={and:[{key:{equals:d}},{"user.value":{equals:g.id}},{"user.relationTo":{equals:g.collection}}]},w={key:d,user:{relationTo:g.collection,value:g.id},value:y};return await h.db.upsert({collection:C,data:w,req:m,where:b})}let T=async e=>{let d;try{d=await e.json()}catch(e){d={}}let h=e;d&&(h.data=d,h.json=()=>Promise.resolve(d));let g=await E({key:h.routeParams?.key,req:h,user:h?.user,value:h.data.value||h.data});return Response.json({doc:g,message:h.t("general:updatedSuccessfully")},{status:m.h.OK})},k=({req:e})=>!!e.user&&{"user.value":{equals:e?.user?.id}},C="payload-preferences",P=e=>({slug:C,access:{delete:k,read:k},admin:{hidden:!0},endpoints:[{handler:_,method:"get",path:"/:key"},{handler:S,method:"delete",path:"/:key"},{handler:T,method:"post",path:"/:key"}],fields:[{name:"user",type:"relationship",hooks:{beforeValidate:[({req:e})=>e?.user?{relationTo:e?.user.collection,value:e?.user.id}:null]},index:!0,relationTo:e.collections.filter(e=>e.auth).map(e=>e.slug),required:!0},{name:"key",type:"text",index:!0},{name:"value",type:"json",validate:e=>{if(e)try{JSON.parse(JSON.stringify(e))}catch{return"Invalid JSON"}return!0}}],lockDocuments:!1})},33599:(e,d,h)=>{"use strict";h.d(d,{R:()=>y});var m=h(81322),g=h(91182);async function y({req:e}){let d={collections:{},globals:{}},{payload:h,user:y}=e,b=!!y,v=y&&y.collection?h?.collections?.[y.collection]?.config:null;v&&h.config.admin.user===y?.collection?d.canAccessAdmin=v.access.admin?await v.access.admin({req:e}):b:d.canAccessAdmin=!1;let w={};return await Promise.all(h.config.collections.map(async h=>{let g=["create","read","update","delete"];h.auth&&void 0!==h.auth.maxLoginAttempts&&0!==h.auth.maxLoginAttempts&&g.push("unlock"),h.versions&&g.push("readVersions");let y=await (0,m.U)({type:"collection",blockPolicies:w,entity:h,operations:g,req:e});d.collections[h.slug]=y})),await Promise.all(h.config.globals.map(async h=>{let g=["read","update"];h.versions&&g.push("readVersions");let y=await (0,m.U)({type:"global",blockPolicies:w,entity:h,operations:g,req:e});d.globals[h.slug]=y})),(0,g.yD)(d)}},33854:(e,d,h)=>{"use strict";let m,g;h.d(d,{V8:()=>lD});var y,b,v,w,S,x=h(5523);let _=Symbol.for("drizzle:entityKind");function E(e,d){if(!e||"object"!=typeof e)return!1;if(e instanceof d)return!0;if(!Object.prototype.hasOwnProperty.call(d,_))throw Error(`Class "${d.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let h=Object.getPrototypeOf(e).constructor;if(h)for(;h;){if(_ in h&&h[_]===d[_])return!0;h=Object.getPrototypeOf(h)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class T{static [_]="ColumnBuilder";config;constructor(e,d,h){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:d,columnType:h,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}class k{constructor(e,d){this.table=e,this.config=d,this.name=d.name,this.keyAsName=d.keyAsName,this.notNull=d.notNull,this.default=d.default,this.defaultFn=d.defaultFn,this.onUpdateFn=d.onUpdateFn,this.hasDefault=d.hasDefault,this.primary=d.primaryKey,this.isUnique=d.isUnique,this.uniqueName=d.uniqueName,this.uniqueType=d.uniqueType,this.dataType=d.dataType,this.columnType=d.columnType,this.generated=d.generated,this.generatedIdentity=d.generatedIdentity}static [_]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}let C=Symbol.for("drizzle:Name");class P{static [_]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,d){this.reference=()=>{let{name:d,columns:h,foreignColumns:m}=e();return{name:d,columns:h,foreignTable:m[0].table,foreignColumns:m}},d&&(this._onUpdate=d.onUpdate,this._onDelete=d.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new O(e,this)}}class O{constructor(e,d){this.table=e,this.reference=d.reference,this.onUpdate=d._onUpdate,this.onDelete=d._onDelete}static [_]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:d,foreignColumns:h}=this.reference(),m=d.map(e=>e.name),g=h.map(e=>e.name),y=[this.table[C],...m,h[0].table[C],...g];return e??`${y.join("_")}_fk`}}function I(e){return new P(function(){let{name:d,columns:h,foreignColumns:m}=e;return{name:d,columns:h,foreignColumns:m}})}function R(e,...d){return e(...d)}function D(e,d){return`${e[C]}_${d.join("_")}_unique`}class L{constructor(e,d){this.name=d,this.columns=e}static [_]=null;columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new M(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class ${static [_]=null;name;constructor(e){this.name=e}on(...e){return new L(e,this.name)}}class M{constructor(e,d,h,m){this.table=e,this.columns=d,this.name=m??D(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=h}static [_]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}function B(e,d,h){for(let m=d;m<e.length;m++){let g=e[m];if("\\"===g){m++;continue}if('"'===g)return[e.slice(d,m).replace(/\\/g,""),m+1];if(!h&&(","===g||"}"===g))return[e.slice(d,m).replace(/\\/g,""),m]}return[e.slice(d).replace(/\\/g,""),e.length]}function j(e,d=0){let h=[],m=d,g=!1;for(;m<e.length;){let y=e[m];if(","===y){(g||m===d)&&h.push(""),g=!0,m++;continue}if(g=!1,"\\"===y){m+=2;continue}if('"'===y){let[d,g]=B(e,m+1,!0);h.push(d),m=g;continue}if("}"===y)return[h,m+1];if("{"===y){let[d,g]=j(e,m+1);h.push(d),m=g;continue}let[b,v]=B(e,m,!1);h.push(b),m=v}return[h,m]}function U(e){let[d]=j(e,1);return d}function F(e){return`{${e.map(e=>Array.isArray(e)?F(e):"string"==typeof e?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class z extends T{foreignKeyConfigs=[];static [_]="PgColumnBuilder";array(e){return new K(this.config.name,this,e)}references(e,d={}){return this.foreignKeyConfigs.push({ref:e,actions:d}),this}unique(e,d){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=d?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,d){return this.foreignKeyConfigs.map(({ref:h,actions:m})=>R((h,m)=>{let g=new P(()=>({columns:[e],foreignColumns:[h()]}));return m.onUpdate&&g.onUpdate(m.onUpdate),m.onDelete&&g.onDelete(m.onDelete),g.build(d)},h,m))}buildExtraConfigColumn(e){return new V(e,this.config)}}class q extends k{constructor(e,d){d.uniqueName||(d.uniqueName=D(e,[d.name])),super(e,d),this.table=e}static [_]="PgColumn"}class V extends q{static [_]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class H{static [_]="IndexedColumn";constructor(e,d,h,m){this.name=e,this.keyAsName=d,this.type=h,this.indexConfig=m}name;keyAsName;type;indexConfig}class K extends z{static [_]="PgArrayBuilder";constructor(e,d,h){super(e,"array","PgArray"),this.config.baseBuilder=d,this.config.size=h}build(e){let d=this.config.baseBuilder.build(e);return new G(e,this.config,d)}}class G extends q{constructor(e,d,h,m){super(e,d),this.baseColumn=h,this.range=m,this.size=d.size}size;static [_]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=U(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,d=!1){let h=e.map(e=>null===e?null:E(this.baseColumn,G)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return d?h:F(h)}}let W=Symbol.for("drizzle:isPgEnum");function J(e){return!!e&&"function"==typeof e&&W in e&&!0===e[W]}class Q extends z{static [_]="PgEnumColumnBuilder";constructor(e,d){super(e,"string","PgEnumColumn"),this.config.enum=d}build(e){return new Y(e,this.config)}}class Y extends q{static [_]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,d){super(e,d),this.enum=d.enum}getSQLType(){return this.enum.enumName}}function X(e,d){return Z(e,d,void 0)}function Z(e,d,h){let m=Object.assign(e=>new Q(e??"",m),{enumName:e,enumValues:d,schema:h,[W]:!0});return m}class ee{static [_]="Subquery";constructor(e,d,h,m=!1){this._={brand:"Subquery",sql:e,selectedFields:d,alias:h,isWith:m}}}class et extends ee{static [_]="WithSubquery"}var ei="0.36.1";let er={startActiveSpan:(e,d)=>m?(g||(g=m.trace.getTracer("drizzle-orm",ei)),R((h,m)=>m.startActiveSpan(e,e=>{try{return d(e)}catch(d){throw e.setStatus({code:h.SpanStatusCode.ERROR,message:d instanceof Error?d.message:"Unknown error"}),d}finally{e.end()}}),m,g)):d()},ea=Symbol.for("drizzle:ViewBaseConfig"),en=Symbol.for("drizzle:Schema"),es=Symbol.for("drizzle:Columns"),eo=Symbol.for("drizzle:ExtraConfigColumns"),el=Symbol.for("drizzle:OriginalName"),ed=Symbol.for("drizzle:BaseName"),ec=Symbol.for("drizzle:IsAlias"),ep=Symbol.for("drizzle:ExtraConfigBuilder"),eu=Symbol.for("drizzle:IsDrizzleTable");class eh{static [_]="Table";static Symbol={Name:C,Schema:en,OriginalName:el,Columns:es,ExtraConfigColumns:eo,BaseName:ed,IsAlias:ec,ExtraConfigBuilder:ep};[C];[el];[en];[es];[eo];[ed];[ec]=!1;[eu]=!0;[ep]=void 0;constructor(e,d,h){this[C]=this[el]=e,this[en]=d,this[ed]=h}}function em(e){return e[C]}function ef(e){return`${e[en]??"public"}.${e[C]}`}class eg{static [_]=null}function ey(e){return null!=e&&"function"==typeof e.getSQL}function eb(e){let d={sql:"",params:[]};for(let h of e)d.sql+=h.sql,d.params.push(...h.params),h.typings?.length&&(d.typings||(d.typings=[]),d.typings.push(...h.typings));return d}class ev{static [_]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new ew([this])}}class ew{constructor(e){this.queryChunks=e}static [_]="SQL";decoder=e_;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return er.startActiveSpan("drizzle.buildSQL",d=>{let h=this.buildQueryFromSourceParams(this.queryChunks,e);return d?.setAttributes({"drizzle.query.text":h.sql,"drizzle.query.params":JSON.stringify(h.params)}),h})}buildQueryFromSourceParams(e,d){let h=Object.assign({},d,{inlineParams:d.inlineParams||this.shouldInlineParams,paramStartIndex:d.paramStartIndex||{value:0}}),{casing:m,escapeName:g,escapeParam:y,prepareTyping:b,inlineParams:v,paramStartIndex:w}=h;return eb(e.map(e=>{if(E(e,ev))return{sql:e.value.join(""),params:[]};if(E(e,eS))return{sql:g(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let d=[new ev("(")];for(let[h,m]of e.entries())d.push(m),h<e.length-1&&d.push(new ev(", "));return d.push(new ev(")")),this.buildQueryFromSourceParams(d,h)}if(E(e,ew))return this.buildQueryFromSourceParams(e.queryChunks,{...h,inlineParams:v||e.shouldInlineParams});if(E(e,eh)){let d=e[eh.Symbol.Schema],h=e[eh.Symbol.Name];return{sql:void 0===d?g(h):g(d)+"."+g(h),params:[]}}if(E(e,k)){let h=m.getColumnCasing(e);return"indexes"===d.invokeSource?{sql:g(h),params:[]}:{sql:g(e.table[eh.Symbol.Name])+"."+g(h),params:[]}}if(E(e,eP)){let d=e[ea].schema,h=e[ea].name;return{sql:void 0===d?g(h):g(d)+"."+g(h),params:[]}}if(E(e,eT)){if(E(e.value,eC))return{sql:y(w.value++,e),params:[e],typings:["none"]};let d=null===e.value?null:e.encoder.mapToDriverValue(e.value);if(E(d,ew))return this.buildQueryFromSourceParams([d],h);if(v)return{sql:this.mapInlineParam(d,h),params:[]};let m=["none"];return b&&(m=[b(e.encoder)]),{sql:y(w.value++,d),params:[d],typings:m}}return E(e,eC)?{sql:y(w.value++,e),params:[e],typings:["none"]}:E(e,ew.Aliased)&&void 0!==e.fieldAlias?{sql:g(e.fieldAlias),params:[]}:E(e,ee)?e._.isWith?{sql:g(e._.alias),params:[]}:this.buildQueryFromSourceParams([new ev("("),e._.sql,new ev(") "),new eS(e._.alias)],h):J(e)?e.schema?{sql:g(e.schema)+"."+g(e.enumName),params:[]}:{sql:g(e.enumName),params:[]}:ey(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],h):this.buildQueryFromSourceParams([new ev("("),e.getSQL(),new ev(")")],h):v?{sql:this.mapInlineParam(e,h),params:[]}:{sql:y(w.value++,e),params:[e],typings:["none"]}}))}mapInlineParam(e,{escapeString:d}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return d(e);if("object"==typeof e){let h=e.toString();return"[object Object]"===h?d(JSON.stringify(e)):d(h)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new ew.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class eS{constructor(e){this.value=e}static [_]="Name";brand;getSQL(){return new ew([this])}}function ex(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let e_={mapFromDriverValue:e=>e},eE={mapToDriverValue:e=>e};({...e_,...eE});class eT{constructor(e,d=eE){this.value=e,this.encoder=d}static [_]="Param";brand;getSQL(){return new ew([this])}}function ek(e,...d){let h=[];for(let[m,g]of((d.length>0||e.length>0&&""!==e[0])&&h.push(new ev(e[0])),d.entries()))h.push(g,new ev(e[m+1]));return new ew(h)}(e=>{e.empty=function(){return new ew([])},e.fromList=function(e){return new ew(e)},e.raw=function(e){return new ew([new ev(e)])},e.join=function(e,d){let h=[];for(let[m,g]of e.entries())m>0&&void 0!==d&&h.push(d),h.push(g);return new ew(h)},e.identifier=function(e){return new eS(e)},e.placeholder=function(e){return new eC(e)},e.param=function(e,d){return new eT(e,d)}})(ek||(ek={})),(e=>{class d{constructor(e,d){this.sql=e,this.fieldAlias=d}static [_]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new d(this.sql,this.fieldAlias)}}e.Aliased=d})(ew||(ew={}));class eC{constructor(e){this.name=e}static [_]="Placeholder";getSQL(){return new ew([this])}}function eA(e,d){return e.map(e=>{if(E(e,eC)){if(!(e.name in d))throw Error(`No value for placeholder "${e.name}" was provided`);return d[e.name]}if(E(e,eT)&&E(e.value,eC)){if(!(e.value.name in d))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(d[e.value.name])}return e})}class eP{static [_]="View";[ea];constructor({name:e,schema:d,selectedFields:h,query:m}){this[ea]={name:e,originalName:e,schema:d,selectedFields:h,query:m,isExisting:!m,isAlias:!1}}getSQL(){return new ew([this])}}function eN(e){return ek`${e} asc`}function eO(e){return ek`${e} desc`}k.prototype.getSQL=function(){return new ew([this])},eh.prototype.getSQL=function(){return new ew([this])},ee.prototype.getSQL=function(){return new ew([this])};let eI=e=>{let d=Object.getOwnPropertySymbols(e).find(e=>e.description.includes("Name"));return e[d]};function eR(e,d){return!ex(d)||ey(e)||E(e,eT)||E(e,eC)||E(e,k)||E(e,eh)||E(e,eP)?e:new eT(e,d)}let eD=(e,d)=>ek`${e} = ${eR(d,e)}`,eL=(e,d)=>ek`${e} <> ${eR(d,e)}`;function e$(...e){let d=e.filter(e=>void 0!==e);if(0!==d.length)return new ew(1===d.length?d:[new ev("("),ek.join(d,new ev(" and ")),new ev(")")])}function eM(...e){let d=e.filter(e=>void 0!==e);if(0!==d.length)return new ew(1===d.length?d:[new ev("("),ek.join(d,new ev(" or ")),new ev(")")])}function eB(e){return ek`not ${e}`}let ej=(e,d)=>ek`${e} > ${eR(d,e)}`,eU=(e,d)=>ek`${e} >= ${eR(d,e)}`,eF=(e,d)=>ek`${e} < ${eR(d,e)}`,ez=(e,d)=>ek`${e} <= ${eR(d,e)}`;function eq(e,d){return Array.isArray(d)?0===d.length?ek`false`:ek`${e} in ${d.map(d=>eR(d,e))}`:ek`${e} in ${eR(d,e)}`}function eV(e,d){return Array.isArray(d)?0===d.length?ek`true`:ek`${e} not in ${d.map(d=>eR(d,e))}`:ek`${e} not in ${eR(d,e)}`}function eH(e){return ek`${e} is null`}function eK(e){return ek`${e} is not null`}function eG(e){return ek`exists ${e}`}function eW(e){return ek`not exists ${e}`}function eJ(e,d,h){return ek`${e} between ${eR(d,e)} and ${eR(h,e)}`}function eQ(e,d,h){return ek`${e} not between ${eR(d,e)} and ${eR(h,e)}`}function eY(e,d){return ek`${e} like ${d}`}function eX(e,d){return ek`${e} not like ${d}`}function eZ(e,d){return ek`${e} ilike ${d}`}function e1(e,d){return ek`${e} not ilike ${d}`}var e0=h(89554),e2=h(93297),e4=h(74290);let e6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,e3=function(e){return"string"==typeof e&&e6.test(e)},e5=e=>e&&"object"==typeof e&&"relationTo"in e&&"string"==typeof e.relationTo&&"value"in e,e8=e=>{let{fields:d,parentIsLocalized:h,prefix:m=""}=e;return d.reduce((e,d)=>{let g=m;return["array","blocks","relationship","upload"].includes(d.type)||"hasMany"in d&&!0===d.hasMany?e:(0,e4.sd)(d)?(g="name"in d?`${m}${d.name}_`:m,[...e,...e8({fields:d.fields,parentIsLocalized:h||"localized"in d&&d.localized,prefix:g})]):"tabs"===d.type?[...e,...d.tabs.reduce((e,d)=>(g="name"in d?`${m}_${d.name}`:m,[...e,...(0,e4.pz)(d)?[{...d,type:"tab"}]:e8({fields:d.fields,parentIsLocalized:h||d.localized,prefix:g})]),[])]:(0,e4.Z7)(d)?[...e,{name:`${g}${d.name}`,localized:(0,e4.Cd)({field:d,parentIsLocalized:h})}]:e},[])},e9=({block:e,localized:d,parentIsLocalized:h,table:m,tableLocales:g})=>{let y=e8({fields:e.fields,parentIsLocalized:h||d});return!(y.find(({name:e,localized:d})=>-1===Object.keys((d&&g?g:m).columns).indexOf(e))||Object.keys(m).find(e=>{if(!["_locale","_order","_parentID","_path","_uuid"].includes(e))return -1===y.findIndex(e=>e.name)}))&&!!d==!!m.columns._locale},e7=Symbol("InternalBlockTableNameIndex"),te=(e,d)=>{e[e7]=d},tt=(e,d)=>e[e7]?`${d}_${e[e7]}`:d,ti=({type:e,condition:d,joins:h,queryPath:m,table:g})=>{let y=eI(g);h.some(e=>eI(e.table)===y)||h.push({type:e,condition:d,queryPath:m,table:g})};class tr{constructor(e){this.table=e}static [_]="ColumnAliasProxyHandler";get(e,d){return"table"===d?this.table:e[d]}}class ta{constructor(e,d){this.alias=e,this.replaceOriginalName=d}static [_]="TableAliasProxyHandler";get(e,d){if(d===eh.Symbol.IsAlias)return!0;if(d===eh.Symbol.Name||this.replaceOriginalName&&d===eh.Symbol.OriginalName)return this.alias;if(d===ea)return{...e[ea],name:this.alias,isAlias:!0};if(d===eh.Symbol.Columns){let d=e[eh.Symbol.Columns];if(!d)return d;let h={};return Object.keys(d).map(m=>{h[m]=new Proxy(d[m],new tr(new Proxy(e,this)))}),h}let h=e[d];return E(h,k)?new Proxy(h,new tr(new Proxy(e,this))):h}}class tn{constructor(e){this.alias=e}static [_]=null;get(e,d){return"sourceTable"===d?ts(e.sourceTable,this.alias):e[d]}}function ts(e,d){return new Proxy(e,new ta(d,!1))}function to(e,d){return new Proxy(e,new tr(new Proxy(e.table,new ta(d,!1))))}function tl(e,d){return new ew.Aliased(td(e.sql,d),e.fieldAlias)}function td(e,d){return ek.join(e.queryChunks.map(e=>E(e,k)?to(e,d):E(e,ew)?td(e,d):E(e,ew.Aliased)?tl(e,d):e))}function tc(e,d){return new Proxy(e,new ta(d,!1))}function tp(e,d){return new Proxy(e,new ta(d,!1))}var tu=h(55511),th=h.n(tu);let tm={randomUUID:th().randomUUID},tf=new Uint8Array(256),tg=tf.length;function ty(){return tg>tf.length-16&&(th().randomFillSync(tf),tg=0),tf.slice(tg,tg+=16)}let tb=[];for(let e=0;e<256;++e)tb.push((e+256).toString(16).slice(1));function tv(e,d=0){return(tb[e[d+0]]+tb[e[d+1]]+tb[e[d+2]]+tb[e[d+3]]+"-"+tb[e[d+4]]+tb[e[d+5]]+"-"+tb[e[d+6]]+tb[e[d+7]]+"-"+tb[e[d+8]]+tb[e[d+9]]+"-"+tb[e[d+10]]+tb[e[d+11]]+tb[e[d+12]]+tb[e[d+13]]+tb[e[d+14]]+tb[e[d+15]]).toLowerCase()}let tw=function(e,d,h){if(tm.randomUUID&&!d&&!e)return tm.randomUUID();let m=(e=e||{}).random||(e.rng||ty)();if(m[6]=15&m[6]|64,m[8]=63&m[8]|128,d){h=h||0;for(let e=0;e<16;++e)d[h+e]=m[e];return d}return tv(m)},tS=({adapter:e,tableName:d})=>{let h,m=x(tw());return"postgres"===e.name&&(h=tc(e.tables[d],m)),"sqlite"===e.name&&(h=tp(e.tables[d],m)),{newAliasTable:h,newAliasTableName:m}},tx=({adapter:e,aliasTable:d,collectionPath:h,columnPrefix:m="",constraintPath:g,constraints:y=[],fields:b,joins:v,locale:w,parentIsLocalized:S,pathSegments:_,rootTableName:E,selectFields:T,selectLocale:k,tableName:C,tableNameSuffix:P="",value:O})=>{let I=_[0],R=w,D=E||C,L=g||"",$=b.find(e=>e.name===I),M=C;if(!$&&"id"===I)return T.id=e.tables[M].id,{columnName:"id",constraints:y,field:{name:"id",type:"uuid"===e.idType?"text":"number"},table:e.tables[M]};if($){let g=[..._],b=(0,e4.Cd)({field:$,parentIsLocalized:S});if(b&&e.payload.config.localization){let d=e.payload.config.localization.localeCodes.find(e=>e===g[1]);d&&(R=d,g.splice(1,1))}switch($.type){case"array":{M=e.tableNameMap.get(`${C}_${P}${x($.name)}`);let m=d||e.tables[C];if(L=`${L}${$.name}.%.`,R&&b&&e.payload.config.localization){let d=[eD(m.id,e.tables[M]._parentID)];k&&(T._locale=e.tables[M]._locale),"all"!==R&&d.push(eD(e.tables[M]._locale,R)),ti({condition:e$(...d),joins:v,table:e.tables[M]})}else ti({condition:eD(m.id,e.tables[M]._parentID),joins:v,table:e.tables[M]});return tx({adapter:e,collectionPath:h,constraintPath:L,constraints:y,fields:$.flattenedFields,joins:v,locale:R,parentIsLocalized:S||$.localized,pathSegments:g.slice(1),rootTableName:D,selectFields:T,selectLocale:k,tableName:M,value:O})}case"blocks":{let m,w;if("blockType"===g[1])return(Array.isArray(O)?O:[O]).forEach(d=>{let h=e.payload.blocks[d]??($.blockReferences??$.blocks).find(e=>"string"!=typeof e&&e.slug===d);w=tt(h,e.tableNameMap.get(`${C}_blocks_${x(h.slug)}`));let{newAliasTable:m}=tS({adapter:e,tableName:w});v.push({condition:eD(e.tables[C].id,m._parentID),table:m}),y.push({columnName:"_path",table:m,value:g[0]})}),{constraints:y,field:$,getNotNullColumnByValue:()=>"id",table:e.tables[C]};if(($.blockReferences??$.blocks).some(_=>{let E,P,I="string"==typeof _?e.payload.blocks[_]:_;w=tt(I,e.tableNameMap.get(`${C}_blocks_${x(I.slug)}`)),L=`${L}${$.name}.%.`;let M=[],B={};if(b&&e.payload.config.localization){let h=[eD((d||e.tables[C]).id,e.tables[w]._parentID)];"all"!==R&&h.push(eD(e.tables[w]._locale,R)),P={condition:e$(...h),table:e.tables[w]}}else P={condition:eD((d||e.tables[C]).id,e.tables[w]._parentID),table:e.tables[w]};let j=[...v];try{E=tx({adapter:e,collectionPath:h,constraintPath:L,constraints:M,fields:I.flattenedFields,joins:j,locale:R,parentIsLocalized:S||$.localized,pathSegments:g.slice(1),rootTableName:D,selectFields:B,selectLocale:k,tableName:w,value:O})}catch(e){}if(!E)return;m=E,y=y.concat(M),T={...T,...B};let U=v.length;if(v.push(P),j.length>U)for(let e=U;e<j.length;e++)v.push(j[e]);return!0}))return{columnName:m.columnName,constraints:y,field:m.field,pathSegments:g.slice(1),rawColumn:m.rawColumn,table:m.table};break}case"group":if(R&&b&&e.payload.config.localization){M=`${C}${e.localesSuffix}`;let d=eD(e.tables[C].id,e.tables[M]._parentID);"all"!==R&&(d=e$(d,eD(e.tables[M]._locale,R))),ti({condition:d,joins:v,table:e.tables[M]})}return tx({adapter:e,aliasTable:d,collectionPath:h,columnPrefix:`${m}${$.name}_`,constraintPath:`${L}${$.name}.`,constraints:y,fields:$.flattenedFields,joins:v,locale:R,parentIsLocalized:S||$.localized,pathSegments:g.slice(1),rootTableName:D,selectFields:T,selectLocale:k,tableName:M,tableNameSuffix:`${P}${x($.name)}_`,value:O});case"join":{if(Array.isArray($.collection))throw new e0.L("Not supported");let h=g.slice(1).join(".");if($.hasMany){let d=`${e.tableNameMap.get(x($.collection))}${e.relationshipsSuffix}`,{newAliasTable:m}=tS({adapter:e,tableName:d}),b=(0,e2.p)({fields:e.payload.collections[$.collection].config.flattenedFields,path:$.on});if(!b)throw new e0.L("Relationship was not found");ti({condition:e$(eD(e.tables[D].id,m[`${b.field.relationTo}ID`]),eY(m.path,$.on)),joins:v,queryPath:$.on,table:m});let w=e.payload.collections[$.collection].config,S=e.tableNameMap.get(x(w.slug)),_=w.flattenedFields,{newAliasTable:E}=tS({adapter:e,tableName:S});return v.push({condition:eD(m.parent,E.id),table:E}),tx({adapter:e,aliasTable:E,collectionPath:h,constraints:y,fields:_,joins:v,locale:R,parentIsLocalized:!1,pathSegments:g.slice(1),rootTableName:S,selectFields:T,selectLocale:k,tableName:S,value:O})}let m=e.tableNameMap.get(x(e.payload.collections[$.collection].config.slug)),{newAliasTable:b}=tS({adapter:e,tableName:m});return v.push({condition:eD(b[$.on.replaceAll(".","_")],d?d.id:e.tables[C].id),table:b}),tx({adapter:e,aliasTable:b,collectionPath:h,constraintPath:"",constraints:y,fields:e.payload.collections[$.collection].config.flattenedFields,joins:v,locale:R,parentIsLocalized:S||$.localized,pathSegments:g.slice(1),selectFields:T,tableName:m,value:O})}case"number":case"text":if($.hasMany){let d="texts",h="text";"number"===$.type&&(d="numbers",h="number"),M=`${D}_${d}`;let m=[eD(e.tables[D].id,e.tables[M].parent),eY(e.tables[M].path,`${L}${$.name}`)];if(R&&b&&e.payload.config.localization){let d=[...m];"all"!==R&&d.push(eD(e.tables[M]._locale,R)),ti({condition:e$(...d),joins:v,table:e.tables[M]})}else ti({condition:e$(...m),joins:v,table:e.tables[M]});return{columnName:h,constraints:y,field:$,table:e.tables[M]}}break;case"relationship":case"upload":{let h=g.slice(1).join(".");if(Array.isArray($.relationTo)||$.hasMany){let m,w,S=`${D}${e.relationshipsSuffix}`,{newAliasTable:_,newAliasTableName:E}=tS({adapter:e,tableName:S});if(k&&b&&e.payload.config.localization&&(T._locale=_.locale),R&&b&&e.payload.config.localization){let h=[eD((d||e.tables[D]).id,_.parent),eY(_.path,`${L}${$.name}`)];"all"!==R&&h.push(eD(_.locale,R)),ti({condition:e$(...h),joins:v,queryPath:`${L}.${$.name}`,table:_})}else ti({condition:e$(eD((d||e.tables[D]).id,_.parent),eY(_.path,`${L}${$.name}`)),joins:v,queryPath:`${L}.${$.name}`,table:_});if(T[`${S}.path`]=_.path,"string"==typeof $.relationTo){let d=e.payload.collections[$.relationTo].config;if(M=e.tableNameMap.get(x(d.slug)),m=d.flattenedFields,{newAliasTable:w}=tS({adapter:e,tableName:M}),v.push({condition:eD(w.id,_[`${$.relationTo}ID`]),table:w}),""===h||"id"===h)return{columnName:`${$.relationTo}ID`,constraints:y,field:$,table:_}}else if("value"===h){let d=$.relationTo.some(d=>!!e.payload.collections[d].customIDType);return{columns:$.relationTo.map(h=>{let m="uuid"===e.idType?"uuid":"number",{customIDType:g}=e.payload.collections[h];g&&(m=g);let y="text"===m||"uuid"===m;if("number"==typeof O&&y||Array.isArray(O)&&O.every(e=>"number"==typeof e)&&y||O&&!Array.isArray(O)&&"uuid"===m&&d&&!e3(O)||Array.isArray(O)&&"uuid"===m&&d&&!O.some(e=>e3(e)))return null;let b=e.tableNameMap.get(x(e.payload.collections[h].config.slug));return{idType:m,rawColumn:ek.raw(`"${E}"."${b}_id"`)}}).filter(Boolean),constraints:y,field:$,table:_}}else if("relationTo"===h){let e=Array.isArray($.relationTo)?$.relationTo:[$.relationTo];return{constraints:y,field:$,getNotNullColumnByValue:d=>{let h=e.find(e=>e===d);if(h)return`${h}ID`},table:_}}else if(e5(O)){let{relationTo:d}=O,h=e.tableNameMap.get(x(e.payload.collections[d].config.slug));return{constraints:y,field:$,rawColumn:ek.raw(`"${E}"."${h}_id"`),table:_}}else throw new e0.L("Not supported");return tx({adapter:e,aliasTable:w,collectionPath:h,constraints:y,fields:m,joins:v,locale:R,parentIsLocalized:!1,pathSegments:g.slice(1),rootTableName:M,selectFields:T,selectLocale:k,tableName:M,value:O})}if(g.length>1&&(2!==g.length||"id"!==g[1])){let w=`${m}${$.name}`,_=e.tableNameMap.get(x(e.payload.collections[$.relationTo].config.slug)),{newAliasTable:E}=tS({adapter:e,tableName:_});if(b&&e.payload.config.localization){let{newAliasTable:d}=tS({adapter:e,tableName:`${D}${e.localesSuffix}`}),h=[eD(d._parentID,e.tables[D].id)];k&&(T._locale=d._locale),"all"!==R&&h.push(eD(d._locale,R));let m=e.tables[`${D}${e.localesSuffix}`];ti({condition:e$(...h),joins:v,table:m}),v.push({condition:eD(m[w],E.id),table:E})}else v.push({condition:eD(E.id,d?d[w]:e.tables[C][w]),table:E});return tx({adapter:e,aliasTable:E,collectionPath:h,constraintPath:"",constraints:y,fields:e.payload.collections[$.relationTo].config.flattenedFields,joins:v,locale:R,parentIsLocalized:S||$.localized,pathSegments:g.slice(1),selectFields:T,tableName:_,value:O})}break}case"select":if($.hasMany){let d=e.tableNameMap.get(`${C}_${P}${x($.name)}`);if(R&&b&&e.payload.config.localization){let h=[eD(e.tables[C].id,e.tables[d].parent),eD(e.tables[d]._locale,R)];"all"!==R&&h.push(eD(e.tables[d]._locale,R)),ti({condition:e$(...h),joins:v,table:e.tables[d]})}else ti({condition:eD(e.tables[C].id,e.tables[d].parent),joins:v,table:e.tables[d]});return{columnName:"value",constraints:y,field:$,table:e.tables[d]}}break;case"tab":if((0,e4.pz)($))return tx({adapter:e,aliasTable:d,collectionPath:h,columnPrefix:`${m}${$.name}_`,constraintPath:`${L}${$.name}.`,constraints:y,fields:$.flattenedFields,joins:v,locale:R,parentIsLocalized:S||$.localized,pathSegments:g.slice(1),rootTableName:D,selectFields:T,selectLocale:k,tableName:M,tableNameSuffix:`${P}${x($.name)}_`,value:O});return tx({adapter:e,aliasTable:d,collectionPath:h,columnPrefix:m,constraintPath:L,constraints:y,fields:$.flattenedFields,joins:v,locale:R,parentIsLocalized:S||$.localized,pathSegments:g.slice(1),rootTableName:D,selectFields:T,selectLocale:k,tableName:M,tableNameSuffix:P,value:O})}let w=e.tables[M];if(b&&e.payload.config.localization){let h=d||e.tables[C];M=`${C}${e.localesSuffix}`,w=e.tables[M];let m=eD(h.id,w._parentID);"all"!==R&&(m=e$(m,eD(w._locale,R))),k&&(T._locale=w._locale),ti({condition:m,joins:v,table:w}),d=void 0}let E=d||w;return T[`${M}.${m}${$.name}`]=E[`${m}${$.name}`],{columnName:`${m}${$.name}`,constraints:y,field:$,pathSegments:g,table:E}}throw new e0.L(`Cannot find field for path at ${I}`)},t_=({adapter:e,aliasTable:d,fields:h,joins:m,locale:g,parentIsLocalized:y,rawSort:b,selectFields:v,sort:w,tableName:S})=>{let x=[],_=e.tables[S]?.createdAt;w||(w=_?"-createdAt":"-id"),"string"==typeof w&&(w=[w]);let E="-id";for(let T of(_&&(E="-createdAt"),w.includes(E)||w.includes(E.replace("-",""))||w.push(E),w)){let w,_;"-"===T[0]?(w=T.substring(1),_="desc"):(w=T,_="asc");try{let{columnName:E,table:T}=tx({adapter:e,collectionPath:w,fields:h,joins:m,locale:g,parentIsLocalized:y,pathSegments:w.replace(/__/g,".").split("."),selectFields:v,tableName:S,value:w});if(T?.[E]){let e="asc"===_?eN:eO;b&&(e=()=>b),x.push({column:d&&S===eI(T)?d[E]:T[E],order:e}),v[E]=T[E]}}catch(e){}}return x};class tE extends z{static [_]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(ek`gen_random_uuid()`)}build(e){return new tT(e,this.config)}}class tT extends q{static [_]="PgUUID";getSQLType(){return"uuid"}}function tk(e){return new tE(e??"")}var tC=h(32034),tA=h(56251);function tP({adapter:e,aliasTable:d,context:h,fields:m,joins:g,locale:y,parentIsLocalized:b,selectFields:v,selectLocale:w,tableName:S,where:x}){let _=[];for(let E of x)if("object"==typeof E){let x=tM({adapter:e,aliasTable:d,context:h,fields:m,joins:g,locale:y,parentIsLocalized:b,selectFields:v,selectLocale:w,tableName:S,where:E});x&&Object.keys(x).length>0&&_.push(x)}return _}function tN(e){return Array.isArray(e)?e:e.indexOf(",")>-1?e.split(","):[e]}let tO={number:"number",serial:"number",text:"text",uuid:"text"},tI=({adapter:e,collection:d})=>d.customIDType??tO[e.idType],tR=Symbol("RawConstraint"),tD=e=>({type:tR,value:e}),tL=e=>e&&"object"==typeof e&&"type"in e&&e.type===tR,t$=({adapter:e,columns:d,field:h,isUUID:m,operator:g,relationOrPath:y,val:b})=>{let v,w=g,S=b;if(!(0,e4.Z7)(h))return{operator:w,value:S};if(tL(b))return{operator:w,value:b.value};if(("relationship"===h.type||"upload"===h.type)&&!y.endsWith("relationTo")&&Array.isArray(S)){let d=[];S.forEach(h=>{"uuid"!==e.idType&&"string"==typeof h?d.push(h,parseInt(h)):"string"==typeof h?d.push(h):d.push(h,String(h))}),S=d}if("checkbox"===h.type&&"string"==typeof b&&("true"===b.toLowerCase()&&(S=!0),"false"===b.toLowerCase()&&(S=!1)),["all","in","not_in"].includes(w)&&("string"==typeof S?(S=tN(S),"number"===h.type&&(S=S.map(e=>parseFloat(e)))):"number"==typeof S&&(S=[S]),!Array.isArray(S)))return null;if("number"===h.type&&"string"==typeof S&&Number.isNaN(S=Number(b))&&(S=null),m&&"string"==typeof S&&!e3(b)&&(S=null),"date"===h.type&&"exists"!==w)if("string"==typeof b){if(Number.isNaN(Date.parse(S=new Date(b).toISOString())))return{operator:w,value:void 0}}else"number"==typeof b&&(S=new Date(b).toISOString());if("relationship"===h.type||"upload"===h.type){if("null"===b)S=null;else if(null!==S&&"boolean"!=typeof S){let m;if("string"==typeof h.relationTo)m=tI({adapter:e,collection:e.payload.collections[h.relationTo]});else{if(e5(b)){if("equals"!==w)throw new e0.L(`Only 'equals' operator is supported for polymorphic relationship object notation. Given - ${w}`);return(m=tI({adapter:e,collection:e.payload.collections[b.relationTo]}),tL(b.value))?{operator:w,value:b.value.value}:{operator:w,value:"number"===m?Number(b.value):String(b.value)}}v=d.map(({idType:e,rawColumn:d})=>{let h;if(Array.isArray(b))h=b.map(d=>{let h;if("number"===e){if(Number.isNaN(h=Number(d)))return null}else{if("uuid"===e&&!e3(d))return null;h=String(d)}return h}).filter(Boolean);else if("number"===e){if(Number.isNaN(h=Number(b)))return null}else h=String(b);return{rawColumn:d,value:h}}).filter(Boolean)}Array.isArray(S)?S=S.map(e=>"number"===m?Number(e):"text"===m?String(e):e):("number"===m&&(S=Number(b)),"text"===m&&(S=String(b)))}}if("hasMany"in h&&h.hasMany&&"contains"===w&&(w="equals"),"near"===w&&"point"===h.type&&"string"==typeof S){let[e,d,h,m]=S.split(",");S=[Number(e),Number(d),Number(h),Number(m)]}return"contains"===w&&(S=`%${S}%`),"exists"===w&&(w=(S="true"===b||!0===b)?"exists":"isNull"),{columns:v,operator:w,value:S}};function tM({adapter:e,aliasTable:d,context:h,fields:m,joins:g,locale:y,parentIsLocalized:b,selectFields:v,selectLocale:w,tableName:S,where:x}){let _,E=[];if("object"==typeof x&&Object.keys(x).length>0){for(let T of Object.keys(x))if(T){let k,C=x[T];if("and"===T.toLowerCase()?k=e$:"or"===T.toLowerCase()&&(k=eM),Array.isArray(C)){let x=tP({adapter:e,aliasTable:d,context:h,fields:m,joins:g,locale:y,parentIsLocalized:b,selectFields:v,selectLocale:w,tableName:S,where:C});x.length>0&&(_=k(...x))}else{let _=x[T];if("object"==typeof _){for(let k of Object.keys(_))if(tA.L.has(k)){let _=x[T][k],{columnName:C,columns:P,constraints:O,field:I,getNotNullColumnByValue:R,pathSegments:D,rawColumn:L,table:$}=tx({adapter:e,aliasTable:d,collectionPath:T,fields:m,joins:g,locale:y,parentIsLocalized:b,pathSegments:T.replace(/__/g,".").split("."),selectFields:v,selectLocale:w,tableName:S,value:_});if(O.forEach(({columnName:d,table:h,value:m})=>{"string"==typeof m&&m.indexOf("%")>-1?E.push(e.operators.like(h[d],m)):E.push(e.operators.equals(h[d],m))}),["json","richText"].includes(I.type)&&Array.isArray(D)&&D.length>1){if("postgres"===e.name){let d=e.createJSONQuery({column:L||$[C],operator:k,pathSegments:D,value:_});E.push(ek.raw(d));break}let d=D.slice(1);if(d.unshift($[C].name),"richText"===I.type){let h=0===g.length?S:g[g.length-1].table[Object.getOwnPropertySymbols(g[g.length-1].table)[0]],m=e.createJSONQuery({operator:k,pathSegments:d,table:h,treatAsArray:["children"],treatRootAsArray:!0,value:_});E.push(ek.raw(m));break}let h=e.convertPathToJSONTraversal(D),m={contains:{operator:"like",wildcard:"%"},equals:{operator:"=",wildcard:""},exists:{operator:!0===_?"is not null":"is null",wildcard:""},in:{operator:"in",wildcard:""},like:{operator:"like",wildcard:"%"},not_equals:{operator:"<>",wildcard:""},not_in:{operator:"not in",wildcard:""},not_like:{operator:"not like",wildcard:"%"}},y=_;y="sqlite"!==e.name||"equals"!==k||isNaN(_)?["in","not_in"].includes(k)&&Array.isArray(_)?`(${_.map(e=>`${e}`).join(",")})`:`'${m[k].wildcard}${_}${m[k].wildcard}'`:_,"exists"===k&&(y="");let b=`${$[C].name}${h}`;"sqlite"===e.name&&"not_like"===k&&(b=`COALESCE(${$[C].name}${h}, '')`);let v=`${b} ${m[k].operator} ${y}`;E.push(ek.raw(v));break}if(R){let e=R(_);if(e)E.push(eK($[e]));else throw new tC.l([{path:T}]);break}if("like"===k&&("number"===I.type||"PgUUID"===$[C].columnType)&&(k="equals"),"like"===k){E.push(e$(..._.split(" ").map(d=>e.operators.like($[C],`%${d}%`))));break}let M=t$({adapter:e,columns:P,field:I,isUUID:$?.[C]instanceof tT,operator:k,relationOrPath:T,val:_});if(null===M)break;let{columns:B,operator:j,value:U}=M;if(B){if(!B.length)break;let d=eM;if(null===U&&["equals","not_equals"].includes(k)){"equals"===k&&(d=e$),E.push(d(...B.map(({rawColumn:e})=>"equals"===k?eH(e):eK(e))));break}["not_equals","not_in"].includes(k)&&(d=e$),E.push(d(...B.map(({rawColumn:d,value:h})=>e.operators[j](d,h))));break}let F=L||(d&&S===eI($)?d[C]:$[C]);if("not_equals"===j&&null!==U){E.push(eM(eH(F),eL(F,U)));break}if(("relationship"===I.type||"upload"===I.type)&&Array.isArray(U)&&"not_in"===k){E.push(ek`(${eV($[C],U)} OR
                    ${$[C]}
                    IS
                    NULL)`);break}if("equals"===k&&null===U){E.push(eH(F));break}if("not_equals"===k&&null===U){E.push(eK(F));break}if("point"===I.type&&"postgres"===e.name){switch(k){case"intersects":E.push(ek`ST_Intersects(${$[C]}, ST_GeomFromGeoJSON(${JSON.stringify(U)}))`);break;case"near":{let[e,d,m,g]=U,y=[];"number"!=typeof m||Number.isNaN(m)||y.push(ek`ST_DWithin(ST_Transform(${$[C]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${e}, ${d}), 4326), 3857), ${m})`),"number"!=typeof g||Number.isNaN(g)||y.push(ek`ST_Distance(ST_Transform(${$[C]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${e}, ${d}), 4326), 3857)) >= ${g}`),y.length&&(h.sort=T,h.rawSort=ek`${$[C]} <-> ST_SetSRID(ST_MakePoint(${e}, ${d}), 4326)`,E.push(e$(...y)));break}case"within":E.push(ek`ST_Within(${$[C]}, ST_GeomFromGeoJSON(${JSON.stringify(U)}))`)}break}E.push(e.operators[j](F,U))}}}}}return E.length>0&&(_=_?e$(_,...E):e$(...E)),1!==E.length||_||([_]=E),_}let tB=function({adapter:e,aliasTable:d,fields:h,joins:m=[],locale:g,parentIsLocalized:y,selectLocale:b,sort:v,tableName:w,where:S}){let x,_={id:e.tables[w].id},E={sort:v};S&&Object.keys(S).length>0&&(x=tM({adapter:e,aliasTable:d,context:E,fields:h,joins:m,locale:g,parentIsLocalized:y,selectFields:_,selectLocale:b,tableName:w,where:S}));let T=t_({adapter:e,aliasTable:d,fields:h,joins:m,locale:g,parentIsLocalized:y,rawSort:E.rawSort,selectFields:_,sort:E.sort,tableName:w});return{joins:m,orderBy:T,selectFields:_,where:x}},tj=async(e,d)=>d?.transactionID&&e.sessions[await d.transactionID]?.db||e.drizzle,tU=async function({collection:e,locale:d,req:h,where:m}){let g=this.payload.collections[e].config,y=this.tableNameMap.get(x(g.slug)),b=await tj(this,h),{joins:v,where:w}=tB({adapter:this,fields:g.flattenedFields,locale:d,tableName:y,where:m});return{totalDocs:await this.countDistinct({db:b,joins:v,tableName:y,where:w})}};var tF=h(8190);let tz=async function({global:e,locale:d,req:h,where:m}){let g=this.payload.globals.config.find(({slug:d})=>d===e),y=this.tableNameMap.get(`_${x(g.slug)}${this.versionsSuffix}`),b=await tj(this,h),{joins:v,where:w}=tB({adapter:this,fields:(0,tF.p)(this.payload.config,g,!0),locale:d,tableName:y,where:m});return{totalDocs:await this.countDistinct({db:b,joins:v,tableName:y,where:w})}};var tq=h(80961);let tV=async function({collection:e,locale:d,req:h,where:m}){let g=this.payload.collections[e].config,y=this.tableNameMap.get(`_${x(g.slug)}${this.versionsSuffix}`),b=await tj(this,h),{joins:v,where:w}=tB({adapter:this,fields:(0,tq.c)(this.payload.config,g,!0),locale:d,tableName:y,where:m});return{totalDocs:await this.countDistinct({db:b,joins:v,tableName:y,where:w})}};var tH=h(79853),tK=h(69548);function tG(e){return ek`count(${e||ek.raw("*")})`.mapWith(Number)}var tW=h(553),tJ=h(59783),tQ=h(53529);let tY={and:e$,contains:eZ,equals:eD,exists:eK,greater_than:ej,greater_than_equal:eU,in:eq,isNull:eH,less_than:eF,less_than_equal:ez,like:eZ,not_equals:eL,not_like:e1,not_in:eV,or:eM},tX=({field:e,path:d,tableName:h})=>e.dbName&&d.length>63?`_${h}`:d;function tZ(e,d){return"sqlite"===e.name?ek`coalesce(json_group_array(${d}), '[]')`:ek`coalesce(json_agg(${d}), '[]'::json)`}function t1(e,d){let h=[];return(Object.entries(d).forEach(([e,d])=>{h.length>0&&h.push(ek.raw(",")),h.push(ek.raw(`'${e}',`)),h.push(ek`${d}`)}),"sqlite"===e.name)?ek`json_object(${ek.join(h)})`:ek`json_build_object(${ek.join(h)})`}let t0=(e,d)=>tZ(e,t1(e,d)),t2=(e,d)=>{for(let h in e)if(["AND","OR"].includes(h.toUpperCase())){if(Array.isArray(e[h]))for(let m of e[h])t2(m,d)}else d.push(h.split(".").join("_"))},t4=(e,d)=>{for(let h in e)if(["AND","OR"].includes(h.toUpperCase())){if(Array.isArray(e[h])){let m="AND"===h.toUpperCase()?e$:eM,g=[];for(let m of e[h])g.push(t4(m,d));return m(...g)}}else{let m=Object.keys(e[h])[0],g=e[h][m];return tY[m](ek.raw(`"${d}"."${h.split(".").join("_")}"`),g)}},t6=({_locales:e,adapter:d,collectionSlug:h,currentArgs:m,currentTableName:g,depth:y,draftsEnabled:b,fields:v,joinQuery:w={},joins:S,locale:_,parentIsLocalized:E=!1,path:T,select:k,selectAllOnCurrentLevel:C=!1,selectMode:P,tablePath:O,topLevelArgs:I,topLevelTableName:R,versions:D,withTabledFields:L})=>(v.forEach(v=>{if((0,e4.IC)(v))return;let $=(0,e4.Cd)({field:v,parentIsLocalized:E});switch(y>0&&("upload"===v.type||"relationship"===v.type)&&!v.hasMany&&"string"==typeof v.relationTo&&($?e.with[`${T}${v.name}`]=!0:m.with[`${T}${v.name}`]=!0),v.type){case"array":{let e=!!C||k?.[v.name];if(k&&("include"===P&&void 0===e||"exclude"===P&&!1===e))break;let h={columns:"object"==typeof e?{id:!0,_order:!0}:{_parentID:!1},orderBy:({_order:e},{asc:d})=>[d(e)],with:{}},S=d.tableNameMap.get(`${g}_${O}${x(v.name)}`);"object"==typeof e&&(d.tables[S]._locale&&(h.columns._locale=!0),d.tables[S]._uuid&&(h.columns._uuid=!0));let D=`${S}${d.localesSuffix}`;d.tables[D]&&(h.with._locales={columns:"object"==typeof e?{_locale:!0}:{id:!1,_parentID:!1},with:{}});let $=tX({field:v,path:`${T}${v.name}`,tableName:S});m.with[$]=h,t6({_locales:h.with._locales,adapter:d,currentArgs:h,currentTableName:S,depth:y,draftsEnabled:b,fields:v.flattenedFields,joinQuery:w,locale:_,parentIsLocalized:E||v.localized,path:"",select:"object"==typeof e?e:void 0,selectMode:P,tablePath:"",topLevelArgs:I,topLevelTableName:R,withTabledFields:L}),"object"==typeof e&&h.with._locales&&1===Object.keys(h.with._locales).length&&delete h.with._locales;break}case"blocks":{let e=!!C||k?.[v.name];if(k&&("include"===P&&!e||"exclude"===P&&!1===e))break;(v.blockReferences??v.blocks).forEach(h=>{let m,g="string"==typeof h?d.payload.blocks[h]:h,S=`_blocks_${g.slug}${!g[e7]?"":`_${g[e7]}`}`,T=P;if("include"===P&&!0===e&&(m=!0),"object"==typeof e&&("object"==typeof e[g.slug]?m=e[g.slug]:"include"===P&&void 0===e[g.slug]||"exclude"===P&&!1===e[g.slug]?(m={},T="include"):"include"===P&&!0===e[g.slug]&&(m=!0)),!I[S]){let e={columns:"object"==typeof m?{id:!0,_order:!0,_path:!0}:{_parentID:!1},orderBy:({_order:e},{asc:d})=>[d(e)],with:{}},h=tt(g,d.tableNameMap.get(`${R}_blocks_${x(g.slug)}`));"object"==typeof m&&(d.tables[h]._locale&&(e.columns._locale=!0),d.tables[h]._uuid&&(e.columns._uuid=!0)),d.tables[`${h}${d.localesSuffix}`]&&(e.with._locales={with:{}},"object"==typeof m&&(e.with._locales.columns={_locale:!0})),I.with[S]=e,t6({_locales:e.with._locales,adapter:d,currentArgs:e,currentTableName:h,depth:y,draftsEnabled:b,fields:g.flattenedFields,joinQuery:w,locale:_,parentIsLocalized:E||v.localized,path:"",select:"object"==typeof m?m:void 0,selectMode:T,tablePath:"",topLevelArgs:I,topLevelTableName:R,withTabledFields:L}),"object"==typeof m&&e.with._locales&&1===Object.keys(e.with._locales.columns).length&&delete e.with._locales}});break}case"group":case"tab":{let $=k?.[v.name];if(!1===$)break;t6({_locales:e,adapter:d,collectionSlug:h,currentArgs:m,currentTableName:g,depth:y,draftsEnabled:b,fields:v.flattenedFields,joinQuery:w,joins:S,locale:_,parentIsLocalized:E||v.localized,path:`${T}${v.name}_`,select:"object"==typeof $?$:void 0,selectAllOnCurrentLevel:C||!0===$||"exclude"===P&&void 0===$,selectMode:P,tablePath:`${O}${x(v.name)}_`,topLevelArgs:I,topLevelTableName:R,versions:D,withTabledFields:L});break}case"join":{if(!1===w||k&&"include"===P&&!k[v.name]||"exclude"===P&&!1===k[v.name])break;let e=`${T.replaceAll("_",".")}${v.name}`;if(!1===w[e])break;let{count:y=!1,limit:S=v.defaultLimit??10,page:C,sort:O=v.defaultSort,where:I}=w[e]||{},R=S;0!==R&&(R+=1);let L=`${T.replaceAll(".","_")}${v.name}`,$=d.drizzle;if(Array.isArray(v.collection)){let e=null,h=v.on.split(".").join("_");if(Array.isArray(O))throw Error("Not implemented");let b=O;b||(b=v.collection.some(e=>d.payload.collections[e].config.fields.some(e=>"date"===e.type&&"createdAt"===e.name))?"-createdAt":"id");let w=b.startsWith("-")?eO:eN,S=(b=b.replace("-","")).split(".").join("_"),_=[];for(let m of(I&&t2(I,_),v.collection)){let g=d.tableNameMap.get(x(m)),y=d.tables[g][S],b={id:d.tables[g].id,parent:ek`${d.tables[g][h]}`.as(h),relationTo:ek`${m}`.as("relationTo"),sortPath:ek`${y||null}`.as("sortPath")};for(let e of _)d.tables[g][e]?b[e]=ek`${d.tables[g][e]}`.as(e):"relationTo"!==e&&(b[e]=ek`null`.as(e));let v=$.select(b).from(d.tables[g]);e=null===e?v:e.unionAll(v)}let E=`${L}_subquery`,T=eD(d.tables[g].id,ek.raw(`"${E}"."${h}"`));if(I&&Object.keys(I).length>0&&(T=e$(T,t4(I,E))),y&&(m.extras[`${L}_count`]=ek`${$.select({count:tG()}).from(ek`${e.as(E)}`).where(T)}`.as(`${L}_count`)),e=e.orderBy(w(ek`"sortPath"`)),C&&0!==R){let d=(C-1)*R;d>0&&(e=e.offset(d))}R&&(e=e.limit(R)),m.extras[L]=ek`${$.select({id:t0(d,{id:ek.raw(`"${E}"."id"`),relationTo:ek.raw(`"${E}"."relationTo"`)})}).from(ek`${e.as(E)}`).where(T)}`.as(L)}else{let e,w=(D||b)&&!!d.payload.collections[v.collection].config.versions.drafts,S=w?(0,tq.c)(d.payload.config,d.payload.collections[v.collection].config,!0):d.payload.collections[v.collection].config.flattenedFields,k=d.tableNameMap.get(w?`_${x(v.collection)}${d.versionsSuffix}`:x(v.collection)),P=[],L=D?d.tables[g].parent:d.tables[g].id;e=Array.isArray(v.targetField.relationTo)?{[v.on]:{equals:{relationTo:h,value:tD(L)}}}:{[v.on]:{equals:tD(L)}},I&&Object.keys(I).length&&(e={and:[e,I]}),w&&(e=(0,tW.m)((0,tJ.D)(e),{latest:{equals:!0}}));let M=`${T.replaceAll(".","_")}${v.name}`,B=`${M}_alias`,{newAliasTable:j}=tS({adapter:d,tableName:k}),{orderBy:U,selectFields:F,where:z}=tB({adapter:d,aliasTable:j,fields:S,joins:P,locale:_,parentIsLocalized:E,selectLocale:!0,sort:w?(0,tQ.t)({collectionConfig:d.payload.collections[v.collection].config,sort:O}):O,tableName:k,where:e});for(let e in F){let d=F[e];d.table&&eI(d.table)===k&&(delete F[e],F[e=e.split(".").pop()]=j[e])}w&&(F.parent=j.parent);let q=$.select(F).from(j).where(z).orderBy(()=>U.map(({column:e,order:d})=>d(e))).$dynamic();if(P.forEach(({type:e,condition:d,table:h})=>{q=q[e??"leftJoin"](h,d)}),C&&0!==R){let e=(C-1)*R-1;e>0&&(q=q.offset(e))}0!==R&&(q=q.limit(R));let V=q.as(B);y&&(m.extras[`${M}_count`]=ek`${$.select({count:tG()}).from(ek`${$.select(F).from(j).where(z).as(`${B}_count_subquery`)}`)}`.as(`${B}_count`)),m.extras[M]=ek`${$.select({result:t0(d,{id:ek.raw(`"${B}".${w?"parent_id":"id"}`),...F._locale&&{locale:ek.raw(`"${B}".${F._locale.name}`)}})}).from(ek`${V}`)}`.as(B)}break}case"point":{if("sqlite"===d.name)break;let h=$?e:m;h.columns||(h.columns={}),h.extras||(h.extras={});let g=`${T}${v.name}`;h.columns[g]=!1;let y=!1;k||C?(C||"include"===P&&!0===k[v.name]||"exclude"===P&&void 0===k[v.name])&&(y=!0):y=!0,y&&(h.extras[g]=ek.raw(`ST_AsGeoJSON(${x(g)})::jsonb`).as(g));break}case"select":if(k&&!C&&("include"===P&&!k[v.name]||"exclude"===P&&!1===k[v.name]))break;if(v.hasMany){let e={columns:{id:!1,order:!1,parent:!1},orderBy:({order:e},{asc:d})=>[d(e)]};m.with[`${T}${v.name}`]=e;break}if(k||C){let h=`${T}${v.name}`;($||E)&&e?e.columns[h]=!0:d.tables[g]?.[h]&&(m.columns[h]=!0)}break;default:if(!k&&!C)break;if(C||"include"===P&&!0===k[v.name]||"exclude"===P&&void 0===k[v.name]){let h=`${T}${v.name}`;($||E)&&e?e.columns[h]=!0:d.tables[g]?.[h]&&(m.columns[h]=!0),!L.rels&&("relationship"===v.type||"upload"===v.type)&&(v.hasMany||Array.isArray(v.relationTo))&&(L.rels=!0),!L.numbers&&"number"===v.type&&v.hasMany&&(L.numbers=!0),!L.texts&&"text"===v.type&&v.hasMany&&(L.texts=!0)}}}),I),t3=({adapter:e,collectionSlug:d,depth:h,draftsEnabled:m,fields:g,joinQuery:y,joins:b=[],locale:v,select:w,tableName:S,versions:x})=>{let _={extras:{},with:{}};w&&(_.columns={id:!0});let E={columns:w?{_locale:!0}:{id:!1,_parentID:!1},extras:{},with:{}},T=w?{}:{numbers:!0,rels:!0,texts:!0};return t6({_locales:E,adapter:e,collectionSlug:d,currentArgs:_,currentTableName:S,depth:h,draftsEnabled:m,fields:g,joinQuery:y,joins:b,locale:v,path:"",select:w,selectMode:w?(0,tK.a)(w):void 0,tablePath:"",topLevelArgs:_,topLevelTableName:S,versions:x,withTabledFields:T}),e.tables[`${S}_texts`]&&T.texts&&(_.with._texts={columns:{id:!1,parent:!1},orderBy:({order:e},{asc:d})=>[d(e)]}),e.tables[`${S}_numbers`]&&T.numbers&&(_.with._numbers={columns:{id:!1,parent:!1},orderBy:({order:e},{asc:d})=>[d(e)]}),e.tables[`${S}${e.relationshipsSuffix}`]&&T.rels&&(_.with._rels={columns:{id:!1,parent:!1},orderBy:({order:e},{asc:d})=>[d(e)]}),e.tables[`${S}${e.localesSuffix}`]&&(!w||Object.keys(E.columns).length>1)&&(_.with._locales=E),_},t5=e=>{let d={};return Object.entries(e).forEach(([h,m])=>{if(h.startsWith("_blocks_")&&Array.isArray(m)){let g=h.replace("_blocks_",""),y=g.split("_");2===y.length&&Number.isInteger(Number(y[1]))&&(g=y[0]),m.forEach(e=>{"_path"in e&&(e._path in d||(d[e._path]=[]),e.blockType=g,d[e._path].push(e),delete e._path)}),delete e[h]}}),Object.entries(d).reduce((e,[d,h])=>(e[d]=h.sort((e,d)=>"number"==typeof e._order&&"number"==typeof d._order?e._order-d._order:0),e),{}),d},t8=e=>{let d={};return Array.isArray(e)&&(d=e.reduce((e,d)=>{let h={...d};return delete h.path,e[d.path]||(e[d.path]=[]),e[d.path].push(d),e},{})),d},t9=({field:e,locale:d,numberRows:h,ref:m,withinArrayOrBlockLocale:g})=>{let y;y=g?h.reduce((e,{locale:d,number:h})=>(d===g&&e.push(h),e),[]):h.map(({number:e})=>e),d?m[e.name][d]=y:m[e.name]=y},t7=({field:e,locale:d,ref:h,textRows:m,withinArrayOrBlockLocale:g})=>{let y;y=g?m.reduce((e,{locale:d,text:h})=>(d===g&&e.push(h),e),[]):m.map(({text:e})=>e),d?h[e.name][d]=y:h[e.name]=y},ie=({field:e,locale:d,ref:h,relations:m,withinArrayOrBlockLocale:g})=>{let y;if("hasMany"in e&&!1!==e.hasMany){let d=[];m.forEach(h=>{let m=!0;if(g&&(m=h.locale===g),Array.isArray(e.relationTo)){let e=Object.entries(h).find(([e,d])=>null!==d&&!["id","locale","order","parent","path"].includes(e)&&m);if(e){let h=e[0].replace("ID","");d.push({relationTo:h,value:e[1]})}}else{let g=h[`${e.relationTo}ID`];g&&m&&d.push(g)}}),y=d}else{let d=m[0];if(g&&(d=m.find(e=>e.locale===g)),d&&Array.isArray(e.relationTo)){let e=Object.entries(d).find(([e,d])=>null!==d&&!["id","locale","order","parent","path"].includes(e));e&&(y={relationTo:e[0].replace("ID",""),value:e[1]})}}d?h[e.name][d]=y:h[e.name]=y},it=({adapter:e,blocks:d,config:h,currentTableName:m,dataRef:g,deletions:y,fieldPrefix:b,fields:v,joinQuery:w,numbers:S,parentIsLocalized:_,path:E,relationships:T,table:k,tablePath:C,texts:P,topLevelTableName:O,withinArrayOrBlockLocale:I})=>{let R=E?`${E}.`:E,D=v.reduce((g,v)=>{if((0,e4.IC)(v))return g;let E=`${b||""}${v.name}`,D=k[E],L={},$=[];b&&y.push(()=>delete k[E]);let M=(0,e4.Cd)({field:v,parentIsLocalized:_});if("array"===v.type){let b=e.tableNameMap.get(`${m}_${C}${x(v.name)}`);return Array.isArray(D=k[tX({field:v,path:E,tableName:b})])&&(M?g[v.name]=D.reduce((m,g)=>{if("string"==typeof g._locale){m[g._locale]||(m[g._locale]=[]);let w=g._locale,x={};delete g._locale,g._uuid&&(g.id=g._uuid,delete g._uuid);let E=it({adapter:e,blocks:d,config:h,currentTableName:b,dataRef:x,deletions:y,fieldPrefix:"",fields:v.flattenedFields,numbers:S,parentIsLocalized:_||v.localized,path:`${R}${v.name}.${g._order-1}`,relationships:T,table:g,tablePath:"",texts:P,topLevelTableName:O,withinArrayOrBlockLocale:w});"_order"in E&&delete E._order,m[w].push(E)}return m},{}):g[v.name]=D.reduce((m,g,w)=>(g._uuid&&(g.id=g._uuid,delete g._uuid),"_order"in g&&delete g._order,(!I||I&&I===g._locale)&&(g._locale&&delete g._locale,m.push(it({adapter:e,blocks:d,config:h,currentTableName:b,dataRef:g,deletions:y,fieldPrefix:"",fields:v.flattenedFields,numbers:S,parentIsLocalized:_||v.localized,path:`${R}${v.name}.${w}`,relationships:T,table:g,tablePath:"",texts:P,topLevelTableName:O,withinArrayOrBlockLocale:I}))),m),[])),g}if("blocks"===v.type){let m=`${R}${v.name}`,b=d[m];if(Array.isArray(b))if(M)g[v.name]={},b.forEach(e=>{e._uuid&&(e.id=e._uuid,delete e._uuid),"string"==typeof e._locale&&(g[v.name][e._locale]||(g[v.name][e._locale]=[]),g[v.name][e._locale].push(e),delete e._locale)}),Object.entries(g[v.name]).forEach(([b,w])=>{g[v.name][b]=w.map(g=>{let w=e.payload.blocks[g.blockType]??(v.blockReferences??v.blocks).find(e=>"string"!=typeof e&&e.slug===g.blockType),E=tt(w,e.tableNameMap.get(`${O}_blocks_${x(w.slug)}`));if(w){let x=it({adapter:e,blocks:d,config:h,currentTableName:E,dataRef:g,deletions:y,fieldPrefix:"",fields:w.flattenedFields,numbers:S,parentIsLocalized:_||v.localized,path:`${m}.${g._order-1}`,relationships:T,table:g,tablePath:"",texts:P,topLevelTableName:O,withinArrayOrBlockLocale:b});return delete x._order,x}return{}})});else{if(I&&h.localization)for(let e of h.localization.localeCodes){let d=0;for(let h=0;h<b.length;h++){let m=b[h];m._locale===e&&(m._index=d,d++)}}g[v.name]=b.reduce((g,b,w)=>{if(delete b._order,b._uuid&&(b.id=b._uuid,delete b._uuid),"string"!=typeof b.blockType)return g;let E=e.payload.blocks[b.blockType]??(v.blockReferences??v.blocks).find(e=>"string"!=typeof e&&e.slug===b.blockType);if(E){if(!I||I&&I===b._locale){b._locale&&delete b._locale,"number"==typeof b._index&&(w=b._index,delete b._index);let k=tt(E,e.tableNameMap.get(`${O}_blocks_${x(E.slug)}`));g.push(it({adapter:e,blocks:d,config:h,currentTableName:k,dataRef:b,deletions:y,fieldPrefix:"",fields:E.flattenedFields,numbers:S,parentIsLocalized:_||v.localized,path:`${m}.${w}`,relationships:T,table:b,tablePath:"",texts:P,topLevelTableName:O,withinArrayOrBlockLocale:I}))}}else g.push({});return g},[])}return g}if("relationship"===v.type||"upload"===v.type)if("string"!=typeof v.relationTo||"hasMany"in v&&v.hasMany){let e=T[`${R}${v.name}`];if(!e)return"hasMany"in v&&v.hasMany&&(M&&h.localization&&h.localization.locales?g[v.name]={[h.localization.defaultLocale]:[]}:g[v.name]=[]),g;if(M){g[v.name]={};let d={};e.forEach(e=>{"string"==typeof e.locale&&(d[e.locale]||(d[e.locale]=[]),d[e.locale].push(e))}),Object.entries(d).forEach(([e,d])=>{ie({field:v,locale:e,ref:g,relations:d})})}else ie({field:v,ref:g,relations:e,withinArrayOrBlockLocale:I});return g}else M&&h.localization&&h.localization.locales&&Array.isArray(k?._locales)?k._locales.forEach(e=>{g[v.name]={[e._locale]:e[E]}}):$.push({ref:g,table:k});if("join"===v.type){let d,{count:h,limit:m=v.defaultLimit??10}=w?.[`${b.replaceAll("_",".")}${v.name}`]||{};if("string"==typeof D&&(D=JSON.parse(D)),Array.isArray(D))if(M&&e.payload.config.localization)Object.keys(d=D.reduce((e,d)=>("string"==typeof d.locale&&e[d.locale].docs.push(d.id),e),e.payload.config.localization.localeCodes.reduce((e,d)=>(e[d]={docs:[],hasNextPage:!1},e),{}))).forEach(e=>{d[e].hasNextPage=d[e].docs.length>m,d[e].docs=d[e].docs.slice(0,m)});else{let e=0!==m&&D.length>m;d={docs:(e?D.slice(0,m):D).map(({id:e,relationTo:d})=>d?{relationTo:d,value:e}:{id:e}),hasNextPage:e}}if(h){let e=`${E}_count`;if(void 0!==k[e]){let h=Number(k[e]);Number.isNaN(h)&&(h=0),d.totalDocs=h}}return g[v.name]=d,g}if("text"===v.type&&v?.hasMany){let e=P[`${R}${v.name}`];if(!e)return g;if(M){g[v.name]={};let d={};e.forEach(e=>{"string"==typeof e.locale&&(d[e.locale]||(d[e.locale]=[]),d[e.locale].push(e))}),Object.entries(d).forEach(([e,d])=>{t7({field:v,locale:e,ref:g,textRows:d})})}else t7({field:v,ref:g,textRows:e,withinArrayOrBlockLocale:I});return g}if("number"===v.type&&v.hasMany){let e=S[`${R}${v.name}`];if(!e)return g;if(M){g[v.name]={};let d={};e.forEach(e=>{"string"==typeof e.locale&&(d[e.locale]||(d[e.locale]=[]),d[e.locale].push(e))}),Object.entries(d).forEach(([e,d])=>{t9({field:v,locale:e,numberRows:d,ref:g})})}else t9({field:v,numberRows:e,ref:g,withinArrayOrBlockLocale:I});return g}if("select"===v.type&&v.hasMany){if(Array.isArray(D))if(M)g[v.name]=D.reduce((e,d)=>("string"==typeof d.locale&&(e[d.locale]||(e[d.locale]=[]),e[d.locale].push(d.value)),e),{});else{let e=D;I&&(e=e.filter(({locale:e})=>e===I)),g[v.name]=e.map(({value:e})=>e)}return g}return M&&Array.isArray(k._locales)?(!k._locales.length&&e.payload.config.localization&&e.payload.config.localization.localeCodes.forEach(e=>k._locales.push({_locale:e})),k._locales.forEach(e=>{$.push({ref:L,table:{...k,...e}})})):$.push({ref:g,table:k}),$.forEach(({ref:E,table:k})=>{let D=k[`${b||""}${v.name}`],L=k?._locale,$=D;switch(v.type){case"date":"string"==typeof D&&($=new Date(D).toISOString());break;case"group":case"tab":{let g=`${b||""}${v.name}_`,D={},L=k._locale,$=M&&L?L:v.name;M&&L&&delete k._locale,E[$]=it({adapter:e,blocks:d,config:h,currentTableName:m,dataRef:D,deletions:y,fieldPrefix:g,fields:v.flattenedFields,joinQuery:w,numbers:S,parentIsLocalized:_||v.localized,path:`${R}${v.name}`,relationships:T,table:k,tablePath:`${C}${x(v.name)}_`,texts:P,topLevelTableName:O,withinArrayOrBlockLocale:L||I});return}case"number":"string"==typeof D&&($=Number.parseFloat(D));break;case"point":"string"==typeof D&&($=JSON.parse(D));break;case"relationship":case"upload":$&&"string"==typeof v.relationTo&&"number"===e.payload.collections[v.relationTo].customIDType&&($=Number($));break;case"text":"string"==typeof D&&($=String(D))}"string"==typeof L?E[L]=$:g[v.name]=$}),Object.keys(L).length>0&&(g[v.name]=L),g},g);return Array.isArray(k._locales)&&y.push(()=>delete k._locales),D},ii=({adapter:e,config:d,data:h,fields:m,joinQuery:g,parentIsLocalized:y,tableName:b})=>{let v={},w={},S={};"_rels"in h&&(v=t8(h._rels),delete h._rels),"_texts"in h&&(w=t8(h._texts),delete h._texts),"_numbers"in h&&(S=t8(h._numbers),delete h._numbers);let x=t5(h),_=[],E=it({adapter:e,blocks:x,config:d,currentTableName:b,dataRef:{id:h.id},deletions:_,fieldPrefix:"",fields:m,joinQuery:g,numbers:S,parentIsLocalized:y,path:"",relationships:v,table:h,tablePath:"",texts:w,topLevelTableName:b});return _.forEach(e=>e()),E};function ir(e){return Array.isArray(e)}let ia=({adapter:e,arrayTableName:d,baseTableName:h,blocks:m,blocksToDelete:g,data:y,field:b,locale:v,numbers:w,parentIsLocalized:S,path:x,relationships:_,relationshipsToDelete:E,selects:T,texts:k,withinArrayOrBlockLocale:C})=>{let P=[],O=e.tables[d]._uuid;return ir(y)&&y.forEach((y,I)=>{let R={arrays:{},locales:{},row:{_order:I+1}};O&&(R.row._uuid=y.id,delete y.id),v&&(R.locales[v]={_locale:v}),(0,e4.Cd)({field:b,parentIsLocalized:S})&&v&&(R.row._locale=v),C&&(R.row._locale=C),ip({adapter:e,arrays:R.arrays,baseTableName:h,blocks:m,blocksToDelete:g,columnPrefix:"",data:y,fieldPrefix:"",fields:b.flattenedFields,insideArrayOrBlock:!0,locales:R.locales,numbers:w,parentIsLocalized:S||b.localized,parentTableName:d,path:`${x||""}${b.name}.${I}.`,relationships:_,relationshipsToDelete:E,row:R.row,selects:T,texts:k,withinArrayOrBlockLocale:C}),P.push(R)}),P},is=({adapter:e,baseTableName:d,blocks:h,blocksToDelete:m,data:g,field:y,locale:b,numbers:v,parentIsLocalized:w,path:S,relationships:_,relationshipsToDelete:E,selects:T,texts:k,withinArrayOrBlockLocale:C})=>{g.forEach((g,P)=>{if("string"!=typeof g.blockType)return;let O=e.payload.blocks[g.blockType]??(y.blockReferences??y.blocks).find(e=>"string"!=typeof e&&e.slug===g.blockType);if(!O)return;let I=x(g.blockType),R={arrays:{},locales:{},row:{_order:P+1,_path:`${S}${y.name}`}};(0,e4.Cd)({field:y,parentIsLocalized:w})&&b&&(R.row._locale=b),C&&(R.row._locale=C);let D=tt(O,e.tableNameMap.get(`${d}_blocks_${I}`));h[D]||(h[D]=[]),e.tables[D]._uuid&&(R.row._uuid=g.id,delete g.id),ip({adapter:e,arrays:R.arrays,baseTableName:d,blocks:h,blocksToDelete:m,columnPrefix:"",data:g,fieldPrefix:"",fields:O.flattenedFields,insideArrayOrBlock:!0,locales:R.locales,numbers:v,parentIsLocalized:w||y.localized,parentTableName:D,path:`${S||""}${y.name}.${P}.`,relationships:_,relationshipsToDelete:E,row:R.row,selects:T,texts:k,withinArrayOrBlockLocale:C}),h[D].push(R)})},io=({baseRow:e,data:d,numbers:h})=>{d.forEach((d,m)=>{h.push({...e,number:d,order:m+1})})},il=({baseRow:e,data:d,field:h,relationships:m})=>{(Array.isArray(d)?d:[d]).forEach((d,g)=>{if(d){let y={...e};"hasMany"in h&&h.hasMany&&(y.order=g+1),Array.isArray(h.relationTo)&&(0,e4.b_)(d)?(y[`${d.relationTo}ID`]=d.value,m.push(y)):"string"==typeof h.relationTo&&(y[`${h.relationTo}ID`]=d,d&&m.push(y))}})},id=({id:e,data:d,locale:h})=>{let m=[];return ir(d)&&d.forEach((d,g)=>{let y={order:g+1,parent:e,value:d};h&&(y.locale=h),m.push(y)}),m},ic=({baseRow:e,data:d,texts:h})=>{d.forEach((d,m)=>{h.push({...e,order:m+1,text:d})})},ip=({adapter:e,arrays:d,baseTableName:h,blocks:m,blocksToDelete:g,columnPrefix:y,data:b,existingLocales:v,fieldPrefix:w,fields:S,forcedLocale:_,insideArrayOrBlock:E=!1,locales:T,numbers:k,parentIsLocalized:C,parentTableName:P,path:O,relationships:I,relationshipsToDelete:R,row:D,selects:L,texts:$,withinArrayOrBlockLocale:M})=>{D._uuid&&(b._uuid=D._uuid),S.forEach(S=>{let B,j="",U="";if((0,e4.IC)(S))return;j=`${y||""}${x(S.name)}`,U=`${w||""}${S.name}`,B=b[S.name];let F=(0,e4.Cd)({field:S,parentIsLocalized:C});if("array"===S.type){let y=e.tableNameMap.get(`${P}_${j}`);if(d[y]||(d[y]=[]),F)"object"==typeof b[S.name]&&null!==b[S.name]&&Object.entries(b[S.name]).forEach(([b,v])=>{if(Array.isArray(v)){let w=ia({adapter:e,arrayTableName:y,baseTableName:h,blocks:m,blocksToDelete:g,data:v,field:S,locale:b,numbers:k,parentIsLocalized:C||S.localized,path:O,relationships:I,relationshipsToDelete:R,selects:L,texts:$,withinArrayOrBlockLocale:b});d[y]=d[y].concat(w)}});else{let v=ia({adapter:e,arrayTableName:y,baseTableName:h,blocks:m,blocksToDelete:g,data:b[S.name],field:S,numbers:k,parentIsLocalized:C||S.localized,path:O,relationships:I,relationshipsToDelete:R,selects:L,texts:$,withinArrayOrBlockLocale:M});d[y]=d[y].concat(v)}return}if("blocks"===S.type){(S.blockReferences??S.blocks).forEach(d=>{let m="string"==typeof d?e.payload.config.blocks.find(e=>e.slug===d):d;g.add(tt(m,e.tableNameMap.get(`${h}_blocks_${x(m.slug)}`)))}),F?"object"==typeof b[S.name]&&null!==b[S.name]&&Object.entries(b[S.name]).forEach(([d,y])=>{Array.isArray(y)&&is({adapter:e,baseTableName:h,blocks:m,blocksToDelete:g,data:y,field:S,locale:d,numbers:k,parentIsLocalized:C||S.localized,path:O,relationships:I,relationshipsToDelete:R,selects:L,texts:$,withinArrayOrBlockLocale:d})}):ir(B)&&is({adapter:e,baseTableName:h,blocks:m,blocksToDelete:g,data:B,field:S,numbers:k,parentIsLocalized:C||S.localized,path:O,relationships:I,relationshipsToDelete:R,selects:L,texts:$,withinArrayOrBlockLocale:M});return}if("group"===S.type||"tab"===S.type){if("object"==typeof b[S.name]&&null!==b[S.name])if(F)Object.entries(b[S.name]).forEach(([y,w])=>{w._uuid=b.id||b._uuid,ip({adapter:e,arrays:d,baseTableName:h,blocks:m,blocksToDelete:g,columnPrefix:`${j}_`,data:w,existingLocales:v,fieldPrefix:`${U}_`,fields:S.flattenedFields,forcedLocale:y,insideArrayOrBlock:E,locales:T,numbers:k,parentIsLocalized:C||S.localized,parentTableName:P,path:`${O||""}${S.name}.`,relationships:I,relationshipsToDelete:R,row:D,selects:L,texts:$,withinArrayOrBlockLocale:y})});else{let y=b[S.name];y._uuid=b.id||b._uuid,ip({adapter:e,arrays:d,baseTableName:h,blocks:m,blocksToDelete:g,columnPrefix:`${j}_`,data:y,existingLocales:v,fieldPrefix:`${U}_`,fields:S.flattenedFields,insideArrayOrBlock:E,locales:T,numbers:k,parentIsLocalized:C||S.localized,parentTableName:P,path:`${O||""}${S.name}.`,relationships:I,relationshipsToDelete:R,row:D,selects:L,texts:$,withinArrayOrBlockLocale:M})}return}if("relationship"===S.type||"upload"===S.type){let e=`${O||""}${S.name}`;if(F&&(Array.isArray(S.relationTo)||"hasMany"in S&&S.hasMany)){"object"==typeof B&&Object.entries(B).forEach(([d,h])=>{if(null===h)return void R.push({locale:d,path:e});il({baseRow:{locale:d,path:e},data:h,field:S,relationships:I})});return}if(Array.isArray(S.relationTo)||"hasMany"in S&&S.hasMany)return null===B||Array.isArray(B)&&0===B.length?void R.push({path:e}):void il({baseRow:{locale:M,path:e},data:B,field:S,relationships:I});!F&&B&&"object"==typeof B&&"id"in B&&B?.id?B=B.id:F&&"object"==typeof B&&Object.entries(B).forEach(([e,d])=>{"object"==typeof d?d&&"id"in d&&d?.id&&(B[e]=d.id):B[e]=d})}if("text"===S.type&&S.hasMany){let e=`${O||""}${S.name}`;F?"object"==typeof B&&Object.entries(B).forEach(([d,h])=>{Array.isArray(h)&&ic({baseRow:{locale:d,path:e},data:h,texts:$})}):Array.isArray(B)&&ic({baseRow:{locale:M,path:e},data:B,texts:$});return}if("number"===S.type&&S.hasMany){let e=`${O||""}${S.name}`;F?"object"==typeof B&&Object.entries(B).forEach(([d,h])=>{Array.isArray(h)&&io({baseRow:{locale:d,path:e},data:h,numbers:k})}):Array.isArray(B)&&io({baseRow:{locale:M,path:e},data:B,numbers:k});return}if("select"===S.type&&S.hasMany){let d=e.tableNameMap.get(`${P}_${j}`);if(L[d]||(L[d]=[]),F)"object"==typeof b[S.name]&&null!==b[S.name]&&Object.entries(b[S.name]).forEach(([e,h])=>{if(Array.isArray(h)){let m=id({id:E?b._uuid||b.id:void 0,data:h,locale:e});L[d]=L[d].concat(m)}});else if(Array.isArray(b[S.name])){let e=id({id:E?b._uuid||b.id:void 0,data:b[S.name],locale:M});L[d]=L[d].concat(e)}return}let z=[];if(F)"object"==typeof B&&null!==B&&Object.entries(B).forEach(([e,d])=>{T[e]||(T[e]={}),z.push({localeKey:e,ref:T,value:d})});else{let e=D;_&&(T[_]||(T[_]={}),e=T[_]),z.push({ref:e,value:B})}z.forEach(({localeKey:d,ref:h,value:m})=>{let g=m;void 0!==m&&(m&&"point"===S.type&&"sqlite"!==e.name&&(g=ek`ST_GeomFromGeoJSON(${JSON.stringify(m)})`),"text"===S.type&&m&&"string"!=typeof m&&(g=JSON.stringify(m)),"date"===S.type&&("number"!=typeof m||Number.isNaN(m)?m instanceof Date&&(g=m.toISOString()):g=new Date(m).toISOString())),"date"===S.type&&"updatedAt"===U&&(g=new Date().toISOString()),void 0!==g&&(d?h[d][U]=g:h[U]=g)})})},iu=({adapter:e,data:d,fields:h,parentIsLocalized:m,path:g="",tableName:y})=>{let b={arrays:{},blocks:{},blocksToDelete:new Set,locales:{},numbers:[],relationships:[],relationshipsToDelete:[],row:{},selects:{},texts:[]};return ip({adapter:e,arrays:b.arrays,baseTableName:y,blocks:b.blocks,blocksToDelete:b.blocksToDelete,columnPrefix:"",data:d,fieldPrefix:"",fields:h,locales:b.locales,numbers:b.numbers,parentIsLocalized:m,parentTableName:y,path:g,relationships:b.relationships,relationshipsToDelete:b.relationshipsToDelete,row:b.row,selects:b.selects,texts:b.texts}),b},ih=async({adapter:e,db:d,parentID:h,tableName:m})=>{let g=[eD(e.tables[m]._parentID,h)];await e.deleteWhere({db:d,tableName:m,where:e$(...g)})},im=async({adapter:e,db:d,localeColumnName:h="_locale",parentColumnName:m="_parentID",parentID:g,pathColumnName:y="_path",rows:b,tableName:v})=>{let w=new Set,S=new Set,x=e.tables[v];if(b.forEach(e=>{let d=e[y],m=e[h];"string"==typeof d&&("string"==typeof m?w.add(d):S.add(d))}),w.size>0){let h=[eD(x[m],g)];y&&h.push(eq(x[y],Array.from(w))),await e.deleteWhere({db:d,tableName:v,where:e$(...h)})}if(S.size>0){let h=[eD(x[m],g)];y&&h.push(eq(x[y],Array.from(S))),await e.deleteWhere({db:d,tableName:v,where:e$(...h)})}},ig=async({adapter:e,arrays:d,db:h,parentRows:m,uuidMap:g={}})=>{let y={};for(let[b,v]of(d.forEach((e,d)=>{Object.entries(e).forEach(([e,h])=>{y[e]||(y[e]={arrays:[],locales:[],rows:[]});let g=m[d].id;h.forEach(d=>{Object.keys(d.arrays).length>0&&y[e].arrays.push(d.arrays),d.row._parentID=g,y[e].rows.push(d.row),Object.entries(d.locales).forEach(([h,m])=>{m._parentID=d.row.id,m._locale=h,y[e].locales.push(m),d.row.id||(m._getParentID=e=>{let{id:h}=e.find(e=>e._uuid===d.row._uuid);return h})})})})}),Object.entries(y))){let d;v.rows.length>0&&(d=await e.insert({db:h,tableName:b,values:v.rows})).forEach(e=>{"string"==typeof e._uuid&&("string"==typeof e.id||"number"==typeof e.id)&&(g[e._uuid]=e.id)}),e.tables[`${b}${e.localesSuffix}`]&&v.locales.length>0&&(v.locales[0]._parentID||(v.locales=v.locales.map(e=>("function"==typeof e._getParentID&&(e._parentID=e._getParentID(d),delete e._getParentID),e))),await e.insert({db:h,tableName:`${b}${e.localesSuffix}`,values:v.locales})),v.arrays.length>0&&await ig({adapter:e,arrays:v.arrays,db:h,parentRows:d})}},iy=async({id:e,adapter:d,data:h,db:m,fields:g,ignoreResult:y,joinQuery:b,operation:v,path:w="",req:S,select:x,tableName:_,upsertTarget:E,where:T})=>{let k,C=iu({adapter:d,data:h,fields:g,path:w,tableName:_});try{if("update"===v){let h=E||d.tables[_].id;e?(C.row.id=e,[k]=await d.insert({db:m,onConflictDoUpdate:{set:C.row,target:h},tableName:_,values:C.row})):[k]=await d.insert({db:m,onConflictDoUpdate:{set:C.row,target:h,where:T},tableName:_,values:C.row})}else d.allowIDOnCreate&&h.id&&(C.row.id=h.id),[k]=await d.insert({db:m,tableName:_,values:C.row});let g=[],y=[],b=[],w=[],S={},x={};if(Object.keys(C.locales).length>0&&Object.entries(C.locales).forEach(([e,d])=>{d._parentID=k.id,d._locale=e,g.push(d)}),C.relationships.length>0&&C.relationships.forEach(e=>{e.parent=k.id,y.push(e)}),C.texts.length>0&&C.texts.forEach(e=>{e.parent=k.id,b.push(e)}),C.numbers.length>0&&C.numbers.forEach(e=>{e.parent=k.id,w.push(e)}),Object.keys(C.selects).length>0&&Object.entries(C.selects).forEach(([e,d])=>{x[e]=[],d.forEach(d=>{void 0===d.parent&&(d.parent=k.id),x[e].push(d)})}),Object.keys(C.blocks).forEach(e=>{C.blocks[e].forEach(d=>{d.row._parentID=k.id,S[e]||(S[e]=[]),d.row.uuid&&delete d.row.uuid,S[e].push(d)})}),g.length>0){let e=`${_}${d.localesSuffix}`,h=d.tables[`${_}${d.localesSuffix}`];"update"===v&&await d.deleteWhere({db:m,tableName:e,where:eD(h._parentID,k.id)}),await d.insert({db:m,tableName:e,values:g})}let P=`${_}${d.relationshipsSuffix}`;"update"===v&&await im({adapter:d,db:m,localeColumnName:"locale",parentColumnName:"parent",parentID:k.id,pathColumnName:"path",rows:[...y,...C.relationshipsToDelete],tableName:P}),y.length>0&&await d.insert({db:m,tableName:P,values:y});let O=`${_}_texts`;"update"===v&&await im({adapter:d,db:m,localeColumnName:"locale",parentColumnName:"parent",parentID:k.id,pathColumnName:"path",rows:b,tableName:O}),b.length>0&&await d.insert({db:m,tableName:O,values:b});let I=`${_}_numbers`;"update"===v&&await im({adapter:d,db:m,localeColumnName:"locale",parentColumnName:"parent",parentID:k.id,pathColumnName:"path",rows:w,tableName:I}),w.length>0&&await d.insert({db:m,tableName:I,values:w});let R={};if("update"===v)for(let e of C.blocksToDelete){let h=d.tables[e];await d.deleteWhere({db:m,tableName:e,where:eD(h._parentID,k.id)})}let D={};for(let[e,h]of Object.entries(S)){R[e]=await d.insert({db:m,tableName:e,values:h.map(({row:e})=>e)}),R[e].forEach((e,d)=>{h[d].row=e,"string"==typeof e._uuid&&("string"==typeof e.id||"number"==typeof e.id)&&(D[e._uuid]=e.id)});let g=[],y=h.reduce((e,d,h)=>(Object.entries(d.locales).length>0&&Object.entries(d.locales).forEach(([m,y])=>{Object.keys(y).length>0&&(y._parentID=d.row.id,y._locale=m,e.push(y),g.push(h))}),e),[]);y.length>0&&await d.insert({db:m,tableName:`${e}${d.localesSuffix}`,values:y}),await ig({adapter:d,arrays:h.map(({arrays:e})=>e),db:m,parentRows:R[e],uuidMap:D})}if("update"===v)for(let e of Object.keys(C.arrays))await ih({adapter:d,db:m,parentID:k.id,tableName:e});for(let[e,h]of(await ig({adapter:d,arrays:[C.arrays],db:m,parentRows:[k],uuidMap:D}),Object.entries(x))){let g=d.tables[e];"update"===v&&await d.deleteWhere({db:m,tableName:e,where:eD(g.parent,k.id)}),Object.keys(D).length>0&&h.forEach(e=>{e.parent in D&&(e.parent=D[e.parent])}),h.length&&await d.insert({db:m,tableName:e,values:h})}}catch(h){if("23505"===h.code){let m=null;if(d.fieldConstraints?.[_])if(d.fieldConstraints[_]?.[h.constraint])m=d.fieldConstraints[_]?.[h.constraint];else{let e=`${_}_`;if(h.constraint.includes(e)){let g=h.constraint.replace(e,"");g&&d.fieldConstraints[_]?.[g]&&(m=d.fieldConstraints[_][g])}}if(!m){let e=h.detail,d=/Key \(([^)]+)\)=\(([^)]+)\)/,g=e.match(d);g&&(m=g[1])}throw new tH.y({id:e,errors:[{message:S?.t?S.t("error:valueMustBeUnique"):"Value must be unique",path:m}],req:S},S?.t)}throw h}if("idOnly"===y)return{id:k.id};if(y)return h;let P=t3({adapter:d,depth:0,fields:g,joinQuery:!1,select:x,tableName:_});P.where=eD(d.tables[_].id,k.id);let O=await m.query[_].findFirst(P);return ii({adapter:d,config:d.payload.config,data:O,fields:g,joinQuery:!1,tableName:_})},ib=async function({collection:e,data:d,req:h,returning:m,select:g}){let y=await tj(this,h),b=this.payload.collections[e].config,v=this.tableNameMap.get(x(b.slug)),w=await iy({adapter:this,data:d,db:y,fields:b.flattenedFields,ignoreResult:!1===m,operation:"create",req:h,select:g,tableName:v});return!1===m?null:w};async function iv({slug:e,data:d,req:h,returning:m}){let g=await tj(this,h),y=this.payload.globals.config.find(d=>d.slug===e),b=this.tableNameMap.get(x(y.slug));d.createdAt=new Date().toISOString();let v=await iy({adapter:this,data:d,db:g,fields:y.flattenedFields,ignoreResult:!1===m,operation:"create",req:h,tableName:b});return!1===m?null:(v.globalType=e,v)}async function iw({autosave:e,createdAt:d,globalSlug:h,publishedLocale:m,req:g,returning:y,select:b,snapshot:v,updatedAt:w,versionData:S}){let _=await tj(this,g),E=this.payload.globals.config.find(({slug:e})=>e===h),T=this.tableNameMap.get(`_${x(E.slug)}${this.versionsSuffix}`),k=await iy({adapter:this,data:{autosave:e,createdAt:d,latest:!0,publishedLocale:m,snapshot:v,updatedAt:w,version:S},db:_,fields:(0,tF.p)(this.payload.config,E,!0),ignoreResult:!1===y&&"idOnly",operation:"create",req:g,select:b,tableName:T}),C=this.tables[T];return(E.versions.drafts&&await this.execute({db:_,sql:ek`
          UPDATE ${C}
          SET latest = false
          WHERE ${C.id} != ${k.id};
        `}),!1===y)?null:k}let iS=({adapter:e,config:{name:d,slug:h},config:m,parentTableName:g,prefix:y="",target:b="dbName",throwValidationError:v=!1,versions:w=!1,versionsCustomName:S=!1})=>{let _,E=m[b],T=`${y}${x(d??h)}`;w&&(T=`_${T}${e.versionsSuffix}`),E||"enumName"!==b||(E=m.dbName),E&&(_="function"==typeof E?E({tableName:g}):E,S&&(_=`_${_}${e.versionsSuffix}`));let k=_||T;if(e.tableNameMap.set(T,k),!v)return k;if(k.length>63)throw new e0.L(`Exceeded max identifier length for table or enum name of 63 characters. Invalid name: ${k}.
Tip: You can use the dbName property to reduce the table name length.
      `);return k};async function ix({autosave:e,collectionSlug:d,createdAt:h,parent:m,publishedLocale:g,req:y,returning:b,select:v,snapshot:w,updatedAt:S,versionData:_}){let E=await tj(this,y),T=this.payload.collections[d].config,k=x(T.slug),C=this.tableNameMap.get(`_${k}${this.versionsSuffix}`),P={..._};P.id&&delete P.id;let O={autosave:e,createdAt:h,latest:!0,parent:m,publishedLocale:g,snapshot:w,updatedAt:S,version:P},I=await iy({adapter:this,data:O,db:E,fields:(0,tq.c)(this.payload.config,T,!0),operation:"create",req:y,select:v,tableName:C}),R=this.tables[C];return(T.versions.drafts&&await this.execute({db:E,sql:ek`
        UPDATE ${R}
        SET latest = false
        WHERE ${R.id} != ${I.id}
          AND ${R.parent} = ${m}
          AND ${R.updatedAt} < ${I.updatedAt}
      `}),!1===b)?null:I}let i_=({adapter:e,db:d,joins:h,query:m=({query:e})=>e,selectFields:g,tableName:y,where:b})=>{if(Object.keys(h).length>0){let v,w=e.tables[y];return"postgres"===e.name&&(v=d.selectDistinct(g).from(w).$dynamic()),"sqlite"===e.name&&(v=d.selectDistinct(g).from(w).$dynamic()),b&&(v=v.where(b)),h.forEach(({condition:e,table:d})=>{v=v.leftJoin(d,e)}),m({query:v})}},iE=async function({adapter:e,collectionSlug:d,draftsEnabled:h,fields:m,joins:g,limit:y,locale:b,page:v=1,pagination:w,req:S,select:x,skip:_,sort:E,tableName:T,versions:k,where:C}){let P,O,I,R,D,L,$=await tj(e,S),M=y,B=_||(v-1)*M;0===M&&(w=!1,M=void 0);let{joins:j,orderBy:U,selectFields:F,where:z}=tB({adapter:e,fields:m,locale:b,sort:E,tableName:T,where:C}),q={},V=t3({adapter:e,collectionSlug:d,depth:0,draftsEnabled:h,fields:m,joinQuery:g,joins:j,locale:b,select:x,tableName:T,versions:k});if(U)for(let e in F){let d=F[e];!d.primary&&(U.some(e=>e.column.name===d.name&&eI(e.column.table)===eI(d.table))||delete F[e])}let H=await i_({adapter:e,db:$,joins:j,query:({query:e})=>(U&&(e=e.orderBy(()=>U.map(({column:e,order:d})=>d(e)))),e.offset(B).limit(M)),selectFields:F,tableName:T,where:z});if(H)if(0===H.length)return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:M,nextPage:null,page:1,pagingCounter:0,prevPage:null,totalDocs:0,totalPages:0};else H.forEach(({id:e},d)=>{q[e]=d}),L=Object.keys(q),V.where=eq(e.tables[T].id,L);else V.limit=M,V.offset=B,V.orderBy=()=>U.map(({column:e,order:d})=>d(e)),z&&(V.where=z);let K=$.query[T].findMany(V);!1!==w&&(!L||L?.length<=M)&&(P=await e.countDistinct({db:$,joins:j,tableName:T,where:z}),O="number"==typeof M&&0!==M?Math.ceil(P/M):1,I=v>1,R=O>v,D=(v-1)*M+1);let G=await K;return Object.keys(q).length>0&&G.sort((e,d)=>q[e.id]-q[d.id]),!1!==w&&P||(P=G.length,O=1,D=1,I=!1,R=!1),{docs:G.map(d=>ii({adapter:e,config:e.payload.config,data:d,fields:m,joinQuery:g,tableName:T})),hasNextPage:R,hasPrevPage:I,limit:y,nextPage:R?v+1:null,page:v,pagingCounter:D,prevPage:I?v-1:null,totalDocs:P,totalPages:O}},iT=async function({collection:e,req:d,where:h}){let m=await tj(this,d),g=this.payload.collections[e].config,y=this.tableNameMap.get(x(g.slug)),b=await iE({adapter:this,fields:g.flattenedFields,joins:!1,limit:0,locale:d?.locale,page:1,pagination:!1,req:d,tableName:y,where:h}),v=[];b.docs.forEach(e=>{v.push(e.id)}),v.length>0&&await this.deleteWhere({db:m,tableName:y,where:eq(this.tables[y].id,v)})},ik=async function({collection:e,req:d,returning:h,select:m,where:g}){let y,b=await tj(this,d),v=this.payload.collections[e].config,w=this.tableNameMap.get(x(v.slug)),{joins:S,selectFields:_,where:E}=tB({adapter:this,fields:v.flattenedFields,locale:d?.locale,tableName:w,where:g}),T=await i_({adapter:this,db:b,joins:S,query:({query:e})=>e.limit(1),selectFields:_,tableName:w,where:E});if(T?.[0]?.id)y=await b.query[w].findFirst({where:eD(this.tables[w].id,T[0].id)});else{let e=t3({adapter:this,depth:0,fields:v.flattenedFields,joinQuery:!1,select:m,tableName:w});e.where=E,y=await b.query[w].findFirst(e)}if(!y)return null;let k=!1===h?null:ii({adapter:this,config:this.payload.config,data:y,fields:v.flattenedFields,joinQuery:!1,tableName:w});return await this.deleteWhere({db:b,tableName:w,where:eD(this.tables[w].id,y.id)}),k},iC=async function({collection:e,locale:d,req:h,where:m}){let g=await tj(this,h),y=this.payload.collections[e].config,b=this.tableNameMap.get(`_${x(y.slug)}${this.versionsSuffix}`),v=(0,tq.c)(this.payload.config,y,!0),{docs:w}=await iE({adapter:this,fields:v,joins:!1,limit:0,locale:d,page:1,pagination:!1,req:h,tableName:b,where:m}),S=[];return w.forEach(e=>{S.push(e.id)}),S.length>0&&await this.deleteWhere({db:g,tableName:b,where:eq(this.tables[b].id,S)}),w},iA=async function(){this.enums&&(this.enums={}),this.schema={},this.tables={},this.relations={},this.fieldConstraints={},this.drizzle=void 0,this.initializing=new Promise((e,d)=>{this.resolveInitializing=e,this.rejectInitializing=d})},iP=async function({collection:e,draftsEnabled:d,joins:h,limit:m,locale:g,page:y=1,pagination:b,req:v,select:w,sort:S,where:_}){let E=this.payload.collections[e].config,T=null!=S?S:E.defaultSort,k=this.tableNameMap.get(x(E.slug));return iE({adapter:this,collectionSlug:E.slug,draftsEnabled:d,fields:E.flattenedFields,joins:h,limit:m,locale:g,page:y,pagination:b,req:v,select:w,sort:T,tableName:k,where:_})},iN=async function({slug:e,locale:d,req:h,select:m,where:g}){let y=this.payload.globals.config.find(d=>d.slug===e),b=this.tableNameMap.get(x(y.slug)),{docs:[v]}=await iE({adapter:this,fields:y.flattenedFields,limit:1,locale:d,pagination:!1,req:h,select:m,tableName:b,where:g});return v?(v.globalType=e,v):{}},iO=async function({global:e,limit:d,locale:h,page:m,pagination:g,req:y,select:b,skip:v,sort:w,where:S}){let _=this.payload.globals.config.find(({slug:d})=>d===e),E=null!=w?w:"-createdAt",T=this.tableNameMap.get(`_${x(_.slug)}${this.versionsSuffix}`);return iE({adapter:this,fields:(0,tF.p)(this.payload.config,_,!0),limit:d,locale:h,page:m,pagination:g,req:y,select:b,skip:v,sort:E,tableName:T,where:S})};var iI=h(29021),iR=h(33873);function iD(e){let d=process.cwd(),h=iR.resolve(d,"src/migrations"),m=iR.resolve(d,"dist/migrations"),g=iR.resolve(d,"migrations");return e||(iI.existsSync(h)?h:iI.existsSync(m)?m:iI.existsSync(g)?g:h)}async function iL({collection:e,draftsEnabled:d,joins:h,locale:m,req:g,select:y,where:b}){let v=this.payload.collections[e].config,w=this.tableNameMap.get(x(v.slug)),{docs:S}=await iE({adapter:this,collectionSlug:e,draftsEnabled:d,fields:v.flattenedFields,joins:h,limit:1,locale:m,page:1,pagination:!1,req:g,select:y,sort:void 0,tableName:w,where:b});return S?.[0]||null}let i$=async function({collection:e,limit:d,locale:h,page:m,pagination:g,req:y,select:b,skip:v,sort:w,where:S}){let _=this.payload.collections[e].config,E=null!=w?w:_.defaultSort,T=this.tableNameMap.get(`_${x(_.slug)}${this.versionsSuffix}`);return iE({adapter:this,fields:(0,tq.c)(this.payload.config,_,!0),joins:!1,limit:d,locale:h,page:m,pagination:g,req:y,select:b,skip:v,sort:E,tableName:T,where:S})};var iM=h(91933),iB=h(78394),ij=h(30433),iU=h(83552),iF=h(71707),iz=h(20822);let iq=async(e,d)=>{let h;if("postgres"===e.name){let d=e.schemaName?`"${e.schemaName}".`:"";h=`SELECT to_regclass('${d}"payload_migrations"') AS exists;`}"sqlite"===e.name&&(h=`
      SELECT CASE
               WHEN COUNT(*) > 0 THEN 1
               ELSE 0
               END AS 'exists'
      FROM sqlite_master
      WHERE type = 'table'
        AND name = 'payload_migrations';`);let[m]=(await e.execute({drizzle:d??e.drizzle,raw:h})).rows;return m&&"object"==typeof m&&"exists"in m&&!!m.exists},iV=(e,d)=>{let h=`${d}`;return e instanceof Error&&(h+=` ${e.message}.`,"hint"in e&&"string"==typeof e.hint&&(h+=` ${e.hint}.`)),h},iH=async function(e){let{payload:d}=this,h=e?.migrations||await (0,iM.I)({payload:d});if(!h.length)return void d.logger.info({msg:"No migrations to run."});"createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions();let m=0,g=[];if(await iq(this)){if({docs:g}=await d.find({collection:"payload-migrations",limit:0,sort:"-name"}),g.find(e=>-1===e.batch)){let{confirm:e}=await iz({name:"confirm",type:"confirm",initial:!1,message:"It looks like you've run Payload in dev mode, meaning you've dynamically pushed changes to your database.\n\nIf you'd like to run migrations, data loss will occur. Would you like to proceed?"},{onCancel:()=>{process.exit(0)}});e||process.exit(0),g=g.filter(e=>-1!==e.batch)}Number(g?.[0]?.batch)>0&&(m=Number(g[0]?.batch))}let y=m+1;for(let e of h)g.find(d=>d.name===e.name)||await iK(d,e,y)};async function iK(e,d,h){let m=Date.now(),g=await (0,iB.M)({},e);e.logger.info({msg:`Migrating: ${d.name}`});try{await (0,ij.n)(g);let y=await tj(e.db,g);await d.up({db:y,payload:e,req:g}),e.logger.info({msg:`Migrated:  ${d.name} (${Date.now()-m}ms)`}),await e.create({collection:"payload-migrations",data:{name:d.name,batch:h},req:g}),await (0,iU.w)(g)}catch(h){await (0,iF.J)(g),e.logger.error({err:h,msg:iV(h,`Error running migration ${d.name}`)}),process.exit(1)}}async function iG({payload:e}){let d=(await e.find({collection:"payload-migrations",limit:0,sort:["-batch","-name"],where:{batch:{not_equals:-1}}})).docs,h=Number(d?.[0]?.batch)||0;return{existingMigrations:d,latestBatch:h}}async function iW(){let{payload:e}=this,d=await (0,iM.I)({payload:e}),{existingMigrations:h,latestBatch:m}=await iG({payload:e});if(!h?.length)return void e.logger.info({msg:"No migrations to rollback."});for(let g of(e.logger.info({msg:`Rolling back batch ${m} consisting of ${h.length} migration(s).`}),h.filter(({batch:e})=>e===m))){let h=d.find(e=>e.name===g.name);if(!h)throw Error(`Migration ${g.name} not found locally.`);let m=Date.now(),y=await (0,iB.M)({},e);try{e.logger.info({msg:`Migrating down: ${h.name}`}),await (0,ij.n)(y);let d=await tj(this,y);await h.down({db:d,payload:e,req:y}),e.logger.info({msg:`Migrated down:  ${h.name} (${Date.now()-m}ms)`}),await iq(this,d)&&await e.delete({id:g.id,collection:"payload-migrations",req:y}),await (0,iU.w)(y)}catch(d){await (0,iF.J)(y),e.logger.error({err:d,msg:iV(d,`Error migrating down ${h.name}. Rolling back.`)}),process.exit(1)}}}async function iJ({forceAcceptWarning:e=!1}){let{payload:d}=this;if(!1===e){let{confirm:e}=await iz({name:"confirm",type:"confirm",initial:!1,message:"WARNING: This will drop your database and run all migrations. Are you sure you want to proceed?"},{onCancel:()=>{process.exit(0)}});e||process.exit(0)}d.logger.info({msg:"Dropping database."}),await this.dropDatabase({adapter:this});let h=await (0,iM.I)({payload:d});d.logger.debug({msg:`Found ${h.length} migration files.`});let m=await (0,iB.M)({},d);for(let e of("createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions(),h)){d.logger.info({msg:`Migrating: ${e.name}`});try{let h=Date.now();await (0,ij.n)(m);let g=await tj(this,m);await e.up({db:g,payload:d,req:m}),await d.create({collection:"payload-migrations",data:{name:e.name,batch:1},req:m}),await (0,iU.w)(m),d.logger.info({msg:`Migrated:  ${e.name} (${Date.now()-h}ms)`})}catch(h){await (0,iF.J)(m),d.logger.error({err:h,msg:iV(h,`Error running migration ${e.name}. Rolling back`)}),process.exit(1)}}}async function iQ(){let{payload:e}=this,d=await (0,iM.I)({payload:e}),{existingMigrations:h,latestBatch:m}=await iG({payload:e});if(!h?.length)return void e.logger.info({msg:"No migrations to rollback."});e.logger.info({msg:`Rolling back batch ${m} consisting of ${h.length} migration(s).`});let g=await (0,iB.M)({},e);for(let m of(h.reverse(),h))try{let h=d.find(e=>e.name===m.name);if(!h)throw Error(`Migration ${m.name} not found locally.`);e.logger.info({msg:`Migrating down: ${m.name}`});let y=Date.now();await (0,ij.n)(g);let b=await tj(this,g);await h.down({db:b,payload:e,req:g}),e.logger.info({msg:`Migrated down:  ${m.name} (${Date.now()-y}ms)`}),await iq(this,b)&&await e.delete({collection:"payload-migrations",req:g,where:{name:{equals:m.name}}}),await (0,iU.w)(g)}catch(d){await (0,iF.J)(g),e.logger.error({err:d,msg:iV(d,`Error running migration ${m.name}. Rolling back.`)}),process.exit(1)}for(let h of d){e.logger.info({msg:`Migrating: ${h.name}`});try{let d=Date.now();await (0,ij.n)(g),await h.up({payload:e,req:g}),await e.create({collection:"payload-migrations",data:{name:h.name,executed:!0},req:g}),await (0,iU.w)(g),e.logger.info({msg:`Migrated:  ${h.name} (${Date.now()-d}ms)`})}catch(d){await (0,iF.J)(g),e.logger.error({err:d,msg:iV(d,`Error running migration ${h.name}. Rolling back.`)}),process.exit(1)}}}async function iY(){let{payload:e}=this,d=await (0,iM.I)({payload:e}),{existingMigrations:h}=await iG({payload:e});if(!h?.length)return void e.logger.info({msg:"No migrations to reset."});let m=await (0,iB.M)({},e);for(let g of(h.reverse(),h)){let h=d.find(e=>e.name===g.name);try{if(!h)throw Error(`Migration ${g.name} not found locally.`);let d=Date.now();e.logger.info({msg:`Migrating down: ${h.name}`}),await (0,ij.n)(m);let y=await tj(this,m);await h.down({db:y,payload:e,req:m}),e.logger.info({msg:`Migrated down:  ${h.name} (${Date.now()-d}ms)`}),await iq(this,y)&&await e.delete({id:g.id,collection:"payload-migrations",req:m}),await (0,iU.w)(m)}catch(g){let d=`Error running migration ${h.name}.`;g instanceof Error&&(d+=` ${g.message}`),await (0,iF.J)(m),e.logger.error({err:g,msg:d}),process.exit(1)}}if(await iq(this))try{await e.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(d){e.logger.error({err:d,msg:"Error deleting dev migration"})}}var iX=h(82951);async function iZ(){let{payload:e}=this,d=await (0,iM.I)({payload:e});e.logger.debug({msg:`Found ${d.length} migration files.`});let h=[];if(await iq(this)&&({existingMigrations:h}=await iG({payload:e})),!d.length)return void e.logger.info({msg:"No migrations found."});let m=d.map(e=>{let d=h.find(d=>d.name===e.name);return{Name:e.name,Batch:d?.batch,Ran:d?"Yes":"No"}}),g=new iX.Table;m.forEach(e=>{g.addRow(e,{color:"Yes"===e.Ran?"green":"red"})}),g.printTable()}let i1=async function({collection:e,joins:d,limit:h,locale:m,page:g=1,pagination:y,req:b,select:v,sort:w,where:S}){let _=this.payload.collections[e].config,E=this.tableNameMap.get(`_${x(_.slug)}${this.versionsSuffix}`),T=(0,tq.c)(this.payload.config,_,!0),k=(0,tW.m)({latest:{equals:!0}},S),C=await iE({adapter:this,collectionSlug:e,fields:T,joins:d,limit:h,locale:m,page:g,pagination:y,req:b,select:v,sort:w,tableName:E,versions:!0,where:k});return{...C,docs:C.docs.map(e=>e={id:e.parent,...e.version})}},i0=({indexes:e})=>e.map(e=>({fields:e.fields.map(({field:e,localizedPath:d,path:h,pathHasLocalized:m})=>({field:e,localizedPath:`version.${d}`,path:`version.${h}`,pathHasLocalized:m})),unique:!1}));var i2=h(98979);let i4=({name:e,adapter:d,number:h=0})=>{let m=`${e}${h?`_${h}`:""}_idx`;return d.indexes.has(m)?i4({name:e,adapter:d,number:h+1}):(d.indexes.add(m),m)},i6=({fields:e,parentIsLocalized:d})=>e.some(e=>"array"!==e.type&&(!!((0,e4.Z7)(e)&&(0,e4.Cd)({field:e,parentIsLocalized:d}))||((0,e4.sd)(e)?i6({fields:e.fields,parentIsLocalized:d||"localized"in e&&e.localized}):"tabs"===e.type&&e.tabs.some(e=>i6({fields:e.fields,parentIsLocalized:d||e.localized}))))),i3=e=>e.map(e=>"name"in e&&"id"===e.name?{...e,name:"_uuid"}:e),i5=(e,d)=>void 0===d.defaultValue||"function"==typeof d.defaultValue?e:{...e,default:d.defaultValue},i8=({adapter:e,blocksTableNameMap:d,columnPrefix:h,columns:m,disableNotNull:g,disableRelsTableUnique:y,disableUnique:b=!1,fieldPrefix:v,fields:w,forceLocalized:S,indexes:_,localesColumns:E,localesIndexes:T,newTableName:k,parentIsLocalized:C,parentTableName:P,relationships:O,relationsToBuild:I,rootRelationsToBuild:R,rootTableIDColType:D,rootTableName:L,setColumnID:$,uniqueRelationships:M,versions:B,withinLocalizedArrayOrBlock:j})=>{let U=!0,F=!1,z=!1,q=!1,V=!1,H=!1,K=!1,G="integer",W=m.id;return W&&["numeric","text","uuid","varchar"].includes(W.type)&&(G=W.type),w.forEach(w=>{if("name"in w&&"id"===w.name||(0,e4.IC)(w))return;let W=m,J=_,Q=`${h||""}${"_"===w.name[0]?"_":""}${x(w.name)}`,Y=`${v?.replace(".","_")||""}${w.name}`,X=(0,e4.Cd)({field:w,parentIsLocalized:C});if(e.payload.config.localization&&(X||S)&&"array"!==w.type&&"blocks"!==w.type&&("hasMany"in w&&!0!==w.hasMany||!("hasMany"in w))&&(F=!0,W=E,J=T),(w.unique||w.index||["relationship","upload"].includes(w.type))&&!["array","blocks","group"].includes(w.type)&&!("hasMany"in w&&!0===w.hasMany)&&!("relationTo"in w&&Array.isArray(w.relationTo))){let d=!0!==b&&w.unique;if(d){let d=`${v||""}${w.name}`;e.fieldConstraints?.[L]||(e.fieldConstraints[L]={}),e.fieldConstraints[L][`${Q}_idx`]=d}let h=i4({name:`${k}_${Q}`,adapter:e});J[h]={name:h,on:X?[Y,"_locale"]:Y,unique:d}}switch(w.type){case"array":{let h=!!w.admin?.condition||g,m=iS({adapter:e,config:w,parentTableName:k,prefix:`${k}_`,throwValidationError:U,versionsCustomName:B}),y={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:G,notNull:!0}},v={_orderIdx:{name:`${m}_order_idx`,on:["_order"]},_parentIDIdx:{name:`${m}_parent_id_idx`,on:"_parentID"}},x={_parentIDFk:{name:`${m}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:P}],onDelete:"cascade"}},_=!!(X&&e.payload.config.localization)||j||S;_&&(y._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},v._localeIdx={name:`${m}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:E,hasLocalizedManyTextField:T,hasLocalizedRelationshipField:F,hasManyNumberField:W,hasManyTextField:J,relationsToBuild:Q}=i9({adapter:e,baseColumns:y,baseForeignKeys:x,baseIndexes:v,blocksTableNameMap:d,disableNotNull:h,disableRelsTableUnique:!0,disableUnique:b,fields:b?i3(w.flattenedFields):w.flattenedFields,parentIsLocalized:C||w.localized,rootRelationships:O,rootRelationsToBuild:R,rootTableIDColType:D,rootTableName:L,rootUniqueRelationships:M,setColumnID:$,tableName:m,versions:B,withinLocalizedArrayOrBlock:_});E&&(K=E),F&&(z=F),T&&(V=T),J&&(!q||"index"===J)&&(q=J),W&&(!H||"index"===W)&&(H=W);let Z=tX({field:w,path:Y,tableName:m});I.set(Z,{type:"many",localized:!1,target:m});let ee={_parentID:{type:"one",fields:[{name:"_parentID",table:m}],references:["id"],relationName:Z,to:P}};i6({fields:w.fields,parentIsLocalized:C||w.localized})&&(ee._locales={type:"many",relationName:"_locales",to:`${m}${e.localesSuffix}`}),Q.forEach(({type:d,localized:h,target:g},y)=>{if("one"===d){let d=h?`${m}${e.localesSuffix}`:m;ee[y]={type:"one",fields:[{name:y,table:d}],references:["id"],relationName:y,to:g}}"many"===d&&(ee[y]={type:"many",relationName:y,to:g})}),e.rawRelations[m]=ee;break}case"blocks":{let h=!!w.admin?.condition||g;(w.blockReferences??w.blocks).forEach(m=>{let g="string"==typeof m?e.payload.blocks[m]:m,y=iS({adapter:e,config:g,parentTableName:L,prefix:`${L}_blocks_`,throwValidationError:U,versionsCustomName:B});void 0===d[y]?d[y]=1:e9({block:g,localized:w.localized,rootTableName:L,table:e.rawTables[y],tableLocales:e.rawTables[`${y}${e.localesSuffix}`]})||(d[y]++,te(g,d[y]),y=`${y}_${d[y]}`);let v=`_blocks_${g.slug}`;if(void 0!==g[e7]&&(v=`_blocks_${g.slug}_${g[e7]}`),!e.rawTables[y]){let m={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:D,notNull:!0},_path:{name:"_path",type:"text",notNull:!0}},x={_orderIdx:{name:`${y}_order_idx`,on:"_order"},_parentIDIdx:{name:`${y}_parent_id_idx`,on:["_parentID"]},_pathIdx:{name:`${y}_path_idx`,on:"_path"}},_={_parentIdFk:{name:`${y}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:L}],onDelete:"cascade"}},E=!!(X&&e.payload.config.localization)||j||S;E&&(m._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},x._localeIdx={name:`${y}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:T,hasLocalizedManyTextField:k,hasLocalizedRelationshipField:P,hasManyNumberField:I,hasManyTextField:U,relationsToBuild:F}=i9({adapter:e,baseColumns:m,baseForeignKeys:_,baseIndexes:x,blocksTableNameMap:d,disableNotNull:h,disableRelsTableUnique:!0,disableUnique:b,fields:b?i3(g.flattenedFields):g.flattenedFields,parentIsLocalized:C||w.localized,rootRelationships:O,rootRelationsToBuild:R,rootTableIDColType:D,rootTableName:L,rootUniqueRelationships:M,setColumnID:$,tableName:y,versions:B,withinLocalizedArrayOrBlock:E});T&&(K=T),P&&(z=P),k&&(V=k),U&&(!q||"index"===U)&&(q=U),I&&(!H||"index"===I)&&(H=I);let G={_parentID:{type:"one",fields:[{name:"_parentID",table:y}],references:["id"],relationName:v,to:L}};i6({fields:g.fields,parentIsLocalized:C||w.localized})&&(G._locales={type:"many",relationName:"_locales",to:`${y}${e.localesSuffix}`}),F.forEach(({type:d,localized:h,target:m},g)=>{if("one"===d){let d=h?`${y}${e.localesSuffix}`:y;G[g]={type:"one",fields:[{name:g,table:d}],references:["id"],relationName:g,to:m}}"many"===d&&(G[g]={type:"many",relationName:g,to:m})}),e.rawRelations[y]=G}R.set(v,{type:"many",localized:!1,target:y})});break}case"checkbox":W[Y]=i5({name:Q,type:"boolean"},w);break;case"code":case"email":case"textarea":W[Y]=i5({name:Q,type:"varchar"},w);break;case"date":W[Y]=i5({name:Q,type:"timestamp",mode:"string",precision:3,withTimezone:!0},w);break;case"group":case"tab":{let{hasLocalizedField:h,hasLocalizedManyNumberField:y,hasLocalizedManyTextField:v,hasLocalizedRelationshipField:S,hasManyNumberField:x,hasManyTextField:k}=i8({adapter:e,blocksTableNameMap:d,columnPrefix:`${Q}_`,columns:m,disableNotNull:!!w.admin?.condition||g,disableUnique:b,fieldPrefix:`${Y}.`,fields:w.flattenedFields,forceLocalized:X,indexes:_,localesColumns:E,localesIndexes:T,newTableName:`${P}_${Q}`,parentIsLocalized:C||w.localized,parentTableName:P,relationships:O,relationsToBuild:I,rootRelationsToBuild:R,rootTableIDColType:D,rootTableName:L,setColumnID:$,uniqueRelationships:M,versions:B,withinLocalizedArrayOrBlock:j||X});h&&(F=!0),S&&(z=!0),k&&(q=!0),v&&(V=!0),x&&(H=!0),y&&(K=!0);break}case"json":case"richText":W[Y]=i5({name:Q,type:"jsonb"},w);break;case"number":if(w.hasMany){if((X&&e.payload.config.localization||j||S)&&(K=!0),w.index?H="index":H||(H=!0),w.unique)throw new i2.s("Unique is not supported in Postgres for hasMany number fields.")}else W[Y]=i5({name:Q,type:"numeric"},w);break;case"point":W[Y]=i5({name:Q,type:"geometry"},w);break;case"radio":case"select":{let h=iS({adapter:e,config:w,parentTableName:k,prefix:`enum_${k}_`,target:"enumName",throwValidationError:U}),m=w.options.map(e=>(0,e4.vs)(e)?e.value:e);if("select"===w.type&&w.hasMany){let h=iS({adapter:e,config:w,parentTableName:k,prefix:`${k}_`,throwValidationError:U,versionsCustomName:B}),y={order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:G,notNull:!0},value:{name:"value",type:"enum",enumName:iS({adapter:e,config:w,parentTableName:k,prefix:`enum_${k}_`,target:"enumName",throwValidationError:U}),options:m}},v={orderIdx:{name:`${h}_order_idx`,on:"order"},parentIdx:{name:`${h}_parent_idx`,on:"parent"}},x={parentFk:{name:`${h}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:P}],onDelete:"cascade"}};(X&&e.payload.config.localization||j||S)&&(y.locale={name:"locale",type:"enum",locale:!0,notNull:!0},v.localeIdx={name:`${h}_locale_idx`,on:"locale"}),w.index&&(v.value={name:`${h}_value_idx`,on:"value"}),i9({adapter:e,baseColumns:y,baseForeignKeys:x,baseIndexes:v,blocksTableNameMap:d,disableNotNull:g,disableUnique:b,fields:[],parentIsLocalized:C||w.localized,rootTableName:L,setColumnID:$,tableName:h,versions:B}),I.set(Y,{type:"many",localized:!1,target:h}),e.rawRelations[h]={parent:{type:"one",fields:[{name:"parent",table:h}],references:["id"],relationName:Y,to:P}}}else W[Y]=i5({name:Q,type:"enum",enumName:h,options:m},w);break}case"relationship":case"upload":if(Array.isArray(w.relationTo))w.relationTo.forEach(e=>{O.add(e),!w.unique||b||y||M.add(e)});else if(w.hasMany)O.add(w.relationTo),!w.unique||b||y||M.add(w.relationTo);else{let d=e.payload.collections[w.relationTo].config,h=e.tableNameMap.get(x(w.relationTo)),m="uuid"===e.idType?"uuid":"integer",y=d.fields.find(e=>(0,e4.Z7)(e)&&"id"===e.name);y?.type==="number"&&(m="numeric"),y?.type==="text"&&(m="varchar"),W[Y]={name:`${Q}_id`,type:m,reference:{name:"id",onDelete:"set null",table:h}},I.set(Y,{type:"one",localized:e.payload.config.localization&&(X||S),target:h}),g||!w.required||w.admin?.condition||(W[Y].notNull=!0);break}(X&&e.payload.config.localization||j)&&(z=!0);break;case"text":if(w.hasMany){if((X&&e.payload.config.localization||j||S)&&(V=!0),w.index?q="index":q||(q=!0),w.unique)throw new i2.s("Unique is not supported in Postgres for hasMany text fields.")}else W[Y]=i5({name:Q,type:"varchar"},w)}let Z=w.admin&&w.admin.condition;!g&&W[Y]&&"required"in w&&w.required&&!Z&&(W[Y].notNull=!0)}),{hasLocalizedField:F,hasLocalizedManyNumberField:K,hasLocalizedManyTextField:V,hasLocalizedRelationshipField:z,hasManyNumberField:H,hasManyTextField:q}},i9=({adapter:e,baseColumns:d={},baseForeignKeys:h={},baseIndexes:m={},blocksTableNameMap:g,compoundIndexes:y,disableNotNull:b,disableRelsTableUnique:v=!1,disableUnique:w=!1,fields:S,parentIsLocalized:_,rootRelationships:E,rootRelationsToBuild:T,rootTableIDColType:k,rootTableName:C,rootUniqueRelationships:P,setColumnID:O,tableName:I,timestamps:R,versions:D,withinLocalizedArrayOrBlock:L})=>{let $,M,B,j,U=!C,F=C||I,z=d,q=m,V={},H={},K=E||new Set,G=P||new Set,W=new Map,J=O({adapter:e,columns:z,fields:S}),{hasLocalizedField:Q,hasLocalizedManyNumberField:Y,hasLocalizedManyTextField:X,hasLocalizedRelationshipField:Z,hasManyNumberField:ee,hasManyTextField:et}=i8({adapter:e,blocksTableNameMap:g,columns:z,disableNotNull:b,disableRelsTableUnique:v,disableUnique:w,fields:S,indexes:q,localesColumns:V,localesIndexes:H,newTableName:I,parentIsLocalized:_,parentTableName:I,relationships:K,relationsToBuild:W,rootRelationsToBuild:T||W,rootTableIDColType:k||J,rootTableName:F,setColumnID:O,uniqueRelationships:G,versions:D,withinLocalizedArrayOrBlock:L}),ei=new Map,er=new Map;W.forEach(({type:e,localized:d,relationName:h,target:m},g)=>{(d?ei:er).set(g,{type:e,relationName:h,target:m})}),R&&(z.createdAt={name:"created_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0},z.updatedAt={name:"updated_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0});let ea={name:I,columns:z,foreignKeys:h,indexes:q};if(e.rawTables[I]=ea,Q||ei.size){let d=`${I}${e.localesSuffix}`;V.id={name:"id",type:"serial",primaryKey:!0},V._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},V._parentID={name:"_parent_id",type:J,notNull:!0},H._localeParent={name:`${d}_locale_parent_id_unique`,on:["_locale","_parentID"],unique:!0},$={name:d,columns:V,foreignKeys:{_parentIdFk:{name:`${d}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:I}],onDelete:"cascade"}},indexes:H},e.rawTables[d]=$;let h={_parentID:{type:"one",fields:[{name:"_parentID",table:d}],references:["id"],relationName:"_locales",to:I}};ei.forEach(({type:e,target:m},g)=>{"one"===e&&(h[g]={type:"one",fields:[{name:g,table:d}],references:["id"],relationName:g,to:m}),"many"===e&&(h[g]={type:"many",relationName:g,to:m})}),e.rawRelations[d]=h}if(y)for(let d of y){let h=null,m=[],g=()=>h?$:ea;for(let{path:e,pathHasLocalized:y}of d.fields){if(null===h&&(h=y),h!==y)throw new i2.s(`Compound indexes within localized and non localized fields are not supported in SQL. Expected ${e} to be ${h?"non":""} localized.`);let d=e.replaceAll(".","_");if(!g().columns[d])throw new i2.s(`Column ${d} for compound index on ${e} was not found in the ${g().name} table.`);m.push(d)}h&&m.push("_locale");let y=m.join("_");y.length>63&&(y="compound_index");let b=i4({name:y,adapter:e});g().indexes[b]={name:b,on:m,unique:!w&&d.unique}}if(U){if(et){let d=`${F}_texts`,h={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:J,notNull:!0},path:{name:"path",type:"varchar",notNull:!0},text:{name:"text",type:"varchar"}};X&&(h.locale={name:"locale",type:"enum",locale:!0});let m={orderParentIdx:{name:`${d}_order_parent_idx`,on:["order","parent"]}};"index"===et&&(m.text_idx={name:`${d}_text_idx`,on:"text"}),X&&(m.localeParent={name:`${d}_locale_parent`,on:["locale","parent"]}),M={name:d,columns:h,foreignKeys:{parentFk:{name:`${d}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:I}],onDelete:"cascade"}},indexes:m},e.rawTables[d]=M,e.rawRelations[d]={parent:{type:"one",fields:[{name:"parent",table:d}],references:["id"],relationName:"_texts",to:I}}}if(ee){let d=`${F}_numbers`,h={id:{name:"id",type:"serial",primaryKey:!0},number:{name:"number",type:"numeric"},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:J,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};Y&&(h.locale={name:"locale",type:"enum",locale:!0});let m={orderParentIdx:{name:`${d}_order_parent_idx`,on:["order","parent"]}};"index"===ee&&(m.numberIdx={name:`${d}_number_idx`,on:"number"}),Y&&(m.localeParent={name:`${d}_locale_parent`,on:["locale","parent"]}),B={name:d,columns:h,foreignKeys:{parentFk:{name:`${d}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:I}],onDelete:"cascade"}},indexes:m},e.rawTables[d]=B,e.rawRelations[d]={parent:{type:"one",fields:[{name:"parent",table:d}],references:["id"],relationName:"_numbers",to:I}}}if(K.size){let d={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer"},parent:{name:"parent_id",type:J,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};Z&&(d.locale={name:"locale",type:"enum",locale:!0});let h=`${I}${e.relationshipsSuffix}`,m={order:{name:`${h}_order_idx`,on:"order"},parentIdx:{name:`${h}_parent_idx`,on:"parent"},pathIdx:{name:`${h}_path_idx`,on:"path"}};Z&&(m.localeIdx={name:`${h}_locale_idx`,on:"locale"});let g={parentFk:{name:`${h}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:I}],onDelete:"cascade"}};K.forEach(y=>{let b=e.payload.collections[y].config,v=iS({adapter:e,config:b,throwValidationError:!0}),S="uuid"===e.idType?"uuid":"integer",_=e.payload.collections[b.slug]?.customIDType;"number"===_&&(S="numeric"),"text"===_&&(S="varchar");let E=`${y}ID`;d[E]={name:`${v}_id`,type:S},g[`${y}IdFk`]={name:`${h}_${x(y)}_fk`,columns:[E],foreignColumns:[{name:"id",table:v}],onDelete:"cascade"};let T=[E],k=!w&&G.has(y);k&&T.push("path"),Z&&T.push("locale");let C=i4({name:`${h}_${v}_id`,adapter:e});m[C]={name:C,on:T,unique:k}}),j={name:h,columns:d,foreignKeys:g,indexes:m},e.rawTables[h]=j;let y={parent:{type:"one",fields:[{name:"parent",table:h}],references:["id"],relationName:"_rels",to:I}};K.forEach(d=>{let m=iS({adapter:e,config:e.payload.collections[d].config,throwValidationError:!0}),g=`${d}ID`;y[g]={type:"one",fields:[{name:g,table:h}],references:["id"],relationName:d,to:m}}),e.rawRelations[h]=y}}let en={};return er.forEach(({type:e,relationName:d,target:h},m)=>{"one"===e&&(en[m]={type:"one",fields:[{name:m,table:I}],references:["id"],relationName:m,to:h}),"many"===e&&(en[m]={type:"many",relationName:d||m,to:h})}),Q&&(en._locales={type:"many",relationName:"_locales",to:$.name}),U&&M&&(en._texts={type:"many",relationName:"_texts",to:M.name}),U&&B&&(en._numbers={type:"many",relationName:"_numbers",to:B.name}),K.size&&j&&(en._rels={type:"many",relationName:"_rels",to:j.name}),e.rawRelations[I]=en,{hasLocalizedManyNumberField:Y,hasLocalizedManyTextField:X,hasLocalizedRelationshipField:Z,hasManyNumberField:ee,hasManyTextField:et,relationsToBuild:W}},i7=({adapter:e,setColumnID:d})=>{e.indexes=new Set,e.payload.config.collections.forEach(d=>{iS({adapter:e,config:d}),d.versions&&iS({adapter:e,config:d,versions:!0,versionsCustomName:!0})}),e.payload.config.collections.forEach(h=>{let m=e.tableNameMap.get(x(h.slug)),g=e.payload.config,y={};if(h.upload.filenameCompoundIndex&&(y.filename_compound_index={name:`${m}_filename_compound_idx`,on:h.upload.filenameCompoundIndex.map(e=>e),unique:!0}),i9({adapter:e,blocksTableNameMap:{},compoundIndexes:h.sanitizedIndexes,disableNotNull:!!h?.versions?.drafts,disableUnique:!1,fields:h.flattenedFields,parentIsLocalized:!1,setColumnID:d,tableName:m,timestamps:h.timestamps,versions:!1}),h.versions){let m=e.tableNameMap.get(`_${x(h.slug)}${e.versionsSuffix}`),y=(0,tq.c)(g,h,!0);i9({adapter:e,blocksTableNameMap:{},compoundIndexes:i0({indexes:h.sanitizedIndexes}),disableNotNull:!!h.versions?.drafts,disableUnique:!0,fields:y,parentIsLocalized:!1,setColumnID:d,tableName:m,timestamps:!0,versions:!0})}}),e.payload.config.globals.forEach(h=>{let m=iS({adapter:e,config:h});if(i9({adapter:e,blocksTableNameMap:{},disableNotNull:!!h?.versions?.drafts,disableUnique:!1,fields:h.flattenedFields,parentIsLocalized:!1,setColumnID:d,tableName:m,timestamps:!1,versions:!1}),h.versions){let m=iS({adapter:e,config:h,versions:!0,versionsCustomName:!0}),g=e.payload.config,y=(0,tF.p)(g,h,!0);i9({adapter:e,blocksTableNameMap:{},disableNotNull:!!h.versions?.drafts,disableUnique:!0,fields:y,parentIsLocalized:!1,setColumnID:d,tableName:m,timestamps:!0,versions:!0})}})},re=async function(e){let d;try{let h,m,g,y;d=tw(),await this.initializing;let b=this.drizzle.transaction(async e=>{g=e,await new Promise((e,d)=>{m=()=>(e(),b),h=()=>(d(),b),y()})},e||this.transactionOptions).catch(()=>{});await new Promise(e=>y=e),this.sessions[d]={db:g,reject:h,resolve:m}}catch(e){this.payload.logger.error({err:e,msg:`Error: cannot begin transaction: ${e.message}`}),process.exit(1)}return d},rt=async function(e){if(!(e instanceof Promise)&&this.sessions[e]){try{await this.sessions[e].resolve()}catch(d){await this.sessions[e].reject()}delete this.sessions[e]}},ri=async function(e=""){let d=e instanceof Promise?await e:e;this.sessions[d]&&(await this.sessions[d].reject(),delete this.sessions[d])};async function rr({slug:e,data:d,req:h,returning:m,select:g}){let y=await tj(this,h),b=this.payload.globals.config.find(d=>d.slug===e),v=this.tableNameMap.get(x(b.slug)),w=await y.query[v].findFirst({}),S=await iy({...w?{id:w.id,operation:"update"}:{operation:"create"},adapter:this,data:d,db:y,fields:b.flattenedFields,ignoreResult:!1===m,req:h,select:g,tableName:v});return!1===m?null:(S.globalType=e,S)}async function ra({id:e,global:d,locale:h,req:m,returning:g,select:y,versionData:b,where:v}){let w=await tj(this,m),S=this.payload.globals.config.find(({slug:e})=>e===d),_=v||{id:{equals:e}},E=this.tableNameMap.get(`_${x(S.slug)}${this.versionsSuffix}`),T=(0,tF.p)(this.payload.config,S,!0),{where:k}=tB({adapter:this,fields:T,locale:h,tableName:E,where:_}),C=await iy({id:e,adapter:this,data:b,db:w,fields:T,ignoreResult:!1===g,operation:"update",req:m,select:y,tableName:E,where:k});return!1===g?null:C}let rn=async function({id:e,data:d,limit:h,req:m,returning:g,sort:y,where:b}){d?.log?.length||delete d.log;let v=e?{id:{equals:e}}:b,w=e?1:h,S=await tj(this,m),_=this.payload.collections["payload-jobs"].config,E=this.tableNameMap.get(x(_.slug)),T=null!=y?y:_.defaultSort,k=await iE({adapter:this,collectionSlug:"payload-jobs",fields:_.flattenedFields,limit:e?1:w,pagination:!1,req:m,sort:T,tableName:E,where:v});if(!k.docs.length)return[];let C=[];for(let e of k.docs){let h={...e,...d},y=await iy({id:e.id,adapter:this,data:h,db:S,fields:_.flattenedFields,ignoreResult:!1===g,operation:"update",req:m,tableName:E});C.push(y)}return!1===g?null:C},rs=async function({collection:e,data:d,joins:h,limit:m,locale:g,req:y,returning:b,select:v,sort:w,where:S}){let _=await tj(this,y),E=this.payload.collections[e].config,T=this.tableNameMap.get(x(E.slug)),k=null!=w?w:E.defaultSort,{joins:C,orderBy:P,selectFields:O,where:I}=tB({adapter:this,fields:E.flattenedFields,locale:g,sort:k,tableName:T,where:S}),R=[],D=await i_({adapter:this,db:_,joins:C,query:({query:e})=>P?e.orderBy(()=>P.map(({column:e,order:d})=>d(e))):e,selectFields:O,tableName:T,where:I});if(D?.[0]?.id)R=D?.map(e=>e.id);else if(S&&!C.length){let e=_,d=this.tables[T],h=e.select({id:d.id}).from(d).where(I).$dynamic();"number"==typeof m&&m>0&&(h=h.limit(m)),P&&(h=h.orderBy(()=>P.map(({column:e,order:d})=>d(e))));let g=await h;R=g?.map(e=>e.id)}if(!R.length)return[];let L=[];for(let e of R){let m=await iy({id:e,adapter:this,data:d,db:_,fields:E.flattenedFields,ignoreResult:!1===b,joinQuery:h,operation:"update",req:y,select:v,tableName:T});L.push(m)}return!1===b?null:L},ro=async function({id:e,collection:d,data:h,joins:m,locale:g,req:y,returning:b,select:v,where:w}){let S=await tj(this,y),_=this.payload.collections[d].config,E=this.tableNameMap.get(x(_.slug)),T=e;if(!T){let{joins:e,selectFields:d,where:h}=tB({adapter:this,fields:_.flattenedFields,locale:g,tableName:E,where:w}),m=await i_({adapter:this,db:S,joins:e,query:({query:e})=>e.limit(1),selectFields:d,tableName:E,where:h});if(m?.[0]?.id)T=m?.[0]?.id;else if(w&&!e.length){let e=this.tables[E],d=await S.select({id:e.id}).from(e).where(h).limit(1);T=d?.[0]?.id}}let k=await iy({id:T,adapter:this,data:h,db:S,fields:_.flattenedFields,ignoreResult:!1===b,joinQuery:m,operation:"update",req:y,select:v,tableName:E});return!1===b?null:k};async function rl({id:e,collection:d,locale:h,req:m,returning:g,select:y,versionData:b,where:v}){let w=await tj(this,m),S=this.payload.collections[d].config,_=v||{id:{equals:e}},E=this.tableNameMap.get(`_${x(S.slug)}${this.versionsSuffix}`),T=(0,tq.c)(this.payload.config,S,!0),{where:k}=tB({adapter:this,fields:T,locale:h,tableName:E,where:_}),C=await iy({id:e,adapter:this,data:b,db:w,fields:T,ignoreResult:!1===g,joinQuery:!1,operation:"update",req:m,select:y,tableName:E,where:k});return!1===g?null:C}var rd=h(20552),rc=h(76760),rp=h(73024),ru=h(98995);let rh=e=>null!==e&&"object"==typeof e,rm=(e,d)=>Object.assign(Error(`[${e}]: ${d}`),{code:e}),rf="ERR_INVALID_PACKAGE_CONFIG",rg="ERR_INVALID_PACKAGE_TARGET",ry="ERR_PACKAGE_PATH_NOT_EXPORTED",rb=/^\d+$/,rv=/^(\.{1,2}|node_modules)$/i,rw=/\/|\\/;var rS=(e=>(e.Export="exports",e.Import="imports",e))(rS||{});let rx=(e,d,h,m,g)=>{if(null==d)return[];if("string"==typeof d){let[h,...m]=d.split(rw);if(".."===h||m.some(e=>rv.test(e)))throw rm(rg,`Invalid "${e}" target "${d}" defined in the package config`);return[g?d.replace(/\*/g,g):d]}if(Array.isArray(d))return d.flatMap(d=>rx(e,d,h,m,g));if(rh(d)){for(let y of Object.keys(d)){if(rb.test(y))throw rm(rf,"Cannot contain numeric property keys");if("default"===y||m.includes(y))return rx(e,d[y],h,m,g)}return[]}throw rm(rg,`Invalid "${e}" target "${d}"`)},r_="*",rE=(e,d)=>{let h=e.indexOf(r_),m=d.indexOf(r_);return h===m?d.length>e.length:m>h};function rT(e,d){let h,m;if(!d.includes(r_)&&e.hasOwnProperty(d))return[d];for(let g of Object.keys(e))if(g.includes(r_)){let[e,y,b]=g.split(r_);if(void 0===b&&d.startsWith(e)&&d.endsWith(y)){let b=d.slice(e.length,-y.length||void 0);b&&(!h||rE(h,g))&&(h=g,m=b)}}return[h,m]}let rk=e=>Object.keys(e).reduce((e,d)=>{let h=""===d||"."!==d[0];if(void 0===e||e===h)return h;throw rm(rf,'"exports" cannot contain some keys starting with "." and some not')},void 0),rC=/^\w+:/,rA=(e,d,h)=>{if(!e)throw Error('"exports" is required');d=""===d?".":`./${d}`,("string"==typeof e||Array.isArray(e)||rh(e)&&rk(e))&&(e={".":e});let[m,g]=rT(e,d),y=rx(rS.Export,e[m],d,h,g);if(0===y.length)throw rm(ry,"."===d?'No "exports" main defined':`Package subpath '${d}' is not defined by "exports"`);for(let e of y)if(!e.startsWith("./")&&!rC.test(e))throw rm(rg,`Invalid "exports" target "${e}" defined in the package config`);return y};var rP=Object.defineProperty,rN=(e,d)=>rP(e,"name",{value:d,configurable:!0});function rO(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}rN(rO,"slash");let rI=rN(e=>{let d=rp[e];return(h,...m)=>{let g=`${e}:${m.join(":")}`,y=null==h?void 0:h.get(g);return void 0===y&&(y=Reflect.apply(d,rp,m),null==h||h.set(g,y)),y}},"cacheFs"),rR=rI("existsSync"),rD=rI("readFileSync"),rL=rI("statSync"),r$=rN((e,d,h)=>{for(;;){let m=rc.posix.join(e,d);if(rR(h,m))return m;let g=rc.dirname(e);if(g===e)return;e=g}},"findUp"),rM=/^\.{1,2}(\/.*)?$/,rB=rN(e=>{let d=rO(e);return rM.test(d)?d:`./${d}`},"normalizeRelativePath");function rj(e,d=!1){let h=e.length,m=0,g="",y=0,b=16,v=0,w=0,S=0,x=0,_=0;function E(d,h){let g=0,y=0;for(;g<d||!h;){let d=e.charCodeAt(m);if(d>=48&&d<=57)y=16*y+d-48;else if(d>=65&&d<=70)y=16*y+d-65+10;else if(d>=97&&d<=102)y=16*y+d-97+10;else break;m++,g++}return g<d&&(y=-1),y}function T(e){m=e,g="",y=0,b=16,_=0}function k(){let d=m;if(48===e.charCodeAt(m))m++;else for(m++;m<e.length&&rz(e.charCodeAt(m));)m++;if(m<e.length&&46===e.charCodeAt(m))if(!(++m<e.length&&rz(e.charCodeAt(m))))return _=3,e.substring(d,m);else for(m++;m<e.length&&rz(e.charCodeAt(m));)m++;let h=m;if(m<e.length&&(69===e.charCodeAt(m)||101===e.charCodeAt(m)))if((++m<e.length&&43===e.charCodeAt(m)||45===e.charCodeAt(m))&&m++,m<e.length&&rz(e.charCodeAt(m))){for(m++;m<e.length&&rz(e.charCodeAt(m));)m++;h=m}else _=3;return e.substring(d,h)}function C(){let d="",g=m;for(;;){if(m>=h){d+=e.substring(g,m),_=2;break}let y=e.charCodeAt(m);if(34===y){d+=e.substring(g,m),m++;break}if(92===y){if(d+=e.substring(g,m),++m>=h){_=2;break}switch(e.charCodeAt(m++)){case 34:d+='"';break;case 92:d+="\\";break;case 47:d+="/";break;case 98:d+="\b";break;case 102:d+="\f";break;case 110:d+=`
`;break;case 114:d+="\r";break;case 116:d+="	";break;case 117:let y=E(4,!0);y>=0?d+=String.fromCharCode(y):_=4;break;default:_=5}g=m;continue}if(y>=0&&y<=31)if(rF(y)){d+=e.substring(g,m),_=2;break}else _=6;m++}return d}function P(){if(g="",_=0,y=m,w=v,x=S,m>=h)return y=h,b=17;let d=e.charCodeAt(m);if(rU(d)){do m++,g+=String.fromCharCode(d),d=e.charCodeAt(m);while(rU(d));return b=15}if(rF(d))return m++,g+=String.fromCharCode(d),13===d&&10===e.charCodeAt(m)&&(m++,g+=`
`),v++,S=m,b=14;switch(d){case 123:return m++,b=1;case 125:return m++,b=2;case 91:return m++,b=3;case 93:return m++,b=4;case 58:return m++,b=6;case 44:return m++,b=5;case 34:return m++,g=C(),b=10;case 47:let E=m-1;if(47===e.charCodeAt(m+1)){for(m+=2;m<h&&!rF(e.charCodeAt(m));)m++;return g=e.substring(E,m),b=12}if(42===e.charCodeAt(m+1)){m+=2;let d=h-1,y=!1;for(;m<d;){let d=e.charCodeAt(m);if(42===d&&47===e.charCodeAt(m+1)){m+=2,y=!0;break}m++,rF(d)&&(13===d&&10===e.charCodeAt(m)&&m++,v++,S=m)}return y||(m++,_=1),g=e.substring(E,m),b=13}return g+=String.fromCharCode(d),m++,b=16;case 45:if(g+=String.fromCharCode(d),++m===h||!rz(e.charCodeAt(m)))return b=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return g+=k(),b=11;default:for(;m<h&&O(d);)m++,d=e.charCodeAt(m);if(y!==m){switch(g=e.substring(y,m)){case"true":return b=8;case"false":return b=9;case"null":return b=7}return b=16}return g+=String.fromCharCode(d),m++,b=16}}function O(e){if(rU(e)||rF(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function I(){let e;do e=P();while(e>=12&&e<=15);return e}return rN(E,"scanHexDigits"),rN(T,"setPosition"),rN(k,"scanNumber"),rN(C,"scanString"),rN(P,"scanNext"),rN(O,"isUnknownContentCharacter"),rN(I,"scanNextNonTrivia"),{setPosition:T,getPosition:rN(()=>m,"getPosition"),scan:d?I:P,getToken:rN(()=>b,"getToken"),getTokenValue:rN(()=>g,"getTokenValue"),getTokenOffset:rN(()=>y,"getTokenOffset"),getTokenLength:rN(()=>m-y,"getTokenLength"),getTokenStartLine:rN(()=>w,"getTokenStartLine"),getTokenStartCharacter:rN(()=>y-x,"getTokenStartCharacter"),getTokenError:rN(()=>_,"getTokenError")}}function rU(e){return 32===e||9===e}function rF(e){return 10===e||13===e}function rz(e){return e>=48&&e<=57}rN(rj,"createScanner"),rN(rU,"isWhiteSpace"),rN(rF,"isLineBreak"),rN(rz,"isDigit"),function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"}(y||(y={})),Array(20).fill(0).map((e,d)=>" ".repeat(d));let rq=200;function rV(e,d=[],h=b.DEFAULT){let m=null,g=[],y=[];function v(e){Array.isArray(g)?g.push(e):null!==m&&(g[m]=e)}return rN(v,"onValue"),rH(e,{onObjectBegin:rN(()=>{let e={};v(e),y.push(g),g=e,m=null},"onObjectBegin"),onObjectProperty:rN(e=>{m=e},"onObjectProperty"),onObjectEnd:rN(()=>{g=y.pop()},"onObjectEnd"),onArrayBegin:rN(()=>{let e=[];v(e),y.push(g),g=e,m=null},"onArrayBegin"),onArrayEnd:rN(()=>{g=y.pop()},"onArrayEnd"),onLiteralValue:v,onError:rN((e,h,m)=>{d.push({error:e,offset:h,length:m})},"onError")},h),g[0]}function rH(e,d,h=b.DEFAULT){let m=rj(e,!1),g=[];function y(e){return e?()=>e(m.getTokenOffset(),m.getTokenLength(),m.getTokenStartLine(),m.getTokenStartCharacter()):()=>!0}function v(e){return e?()=>e(m.getTokenOffset(),m.getTokenLength(),m.getTokenStartLine(),m.getTokenStartCharacter(),()=>g.slice()):()=>!0}function w(e){return e?d=>e(d,m.getTokenOffset(),m.getTokenLength(),m.getTokenStartLine(),m.getTokenStartCharacter()):()=>!0}function S(e){return e?d=>e(d,m.getTokenOffset(),m.getTokenLength(),m.getTokenStartLine(),m.getTokenStartCharacter(),()=>g.slice()):()=>!0}rN(y,"toNoArgVisit"),rN(v,"toNoArgVisitWithPath"),rN(w,"toOneArgVisit"),rN(S,"toOneArgVisitWithPath");let x=v(d.onObjectBegin),_=S(d.onObjectProperty),E=y(d.onObjectEnd),T=v(d.onArrayBegin),k=y(d.onArrayEnd),C=S(d.onLiteralValue),P=w(d.onSeparator),O=y(d.onComment),I=w(d.onError),R=h&&h.disallowComments,D=h&&h.allowTrailingComma;function L(){for(;;){let e=m.scan();switch(m.getTokenError()){case 4:$(14);break;case 5:$(15);break;case 3:$(13);break;case 1:R||$(11);break;case 2:$(12);break;case 6:$(16)}switch(e){case 12:case 13:R?$(10):O();break;case 16:$(1);break;case 15:case 14:break;default:return e}}}function $(e,d=[],h=[]){if(I(e),d.length+h.length>0){let e=m.getToken();for(;17!==e;){if(-1!==d.indexOf(e)){L();break}if(-1!==h.indexOf(e))break;e=L()}}}function M(e){let d=m.getTokenValue();return e?C(d):(_(d),g.push(d)),L(),!0}function B(){switch(m.getToken()){case 11:let e=Number(m.getTokenValue());isNaN(e)&&($(2),e=0),C(e);break;case 7:C(null);break;case 8:C(!0);break;case 9:C(!1);break;default:return!1}return L(),!0}function j(){return 10!==m.getToken()?($(3,[],[2,5]),!1):(M(!1),6===m.getToken()?(P(":"),L(),z()||$(4,[],[2,5])):$(5,[],[2,5]),g.pop(),!0)}function U(){x(),L();let e=!1;for(;2!==m.getToken()&&17!==m.getToken();){if(5===m.getToken()){if(e||$(4,[],[]),P(","),L(),2===m.getToken()&&D)break}else e&&$(6,[],[]);j()||$(4,[],[2,5]),e=!0}return E(),2!==m.getToken()?$(7,[2],[]):L(),!0}function F(){T(),L();let e=!0,d=!1;for(;4!==m.getToken()&&17!==m.getToken();){if(5===m.getToken()){if(d||$(4,[],[]),P(","),L(),4===m.getToken()&&D)break}else d&&$(6,[],[]);e?(g.push(0),e=!1):g[g.length-1]++,z()||$(4,[],[4,5]),d=!0}return k(),e||g.pop(),4!==m.getToken()?$(8,[4],[]):L(),!0}function z(){switch(m.getToken()){case 3:return F();case 1:return U();case 10:return M(!0);default:return B()}}return rN(L,"scanNext"),rN($,"handleError"),rN(M,"parseString"),rN(B,"parseLiteral"),rN(j,"parseProperty"),rN(U,"parseObject"),rN(F,"parseArray"),rN(z,"parseValue"),L(),17===m.getToken()?!!h.allowEmptyContent||($(4,[],[]),!1):z()?(17!==m.getToken()&&$(9,[],[]),!0):($(4,[],[]),!1)}Array(200).fill(0).map((e,d)=>`
`+" ".repeat(d)),Array(rq).fill(0).map((e,d)=>"\r"+" ".repeat(d)),Array(rq).fill(0).map((e,d)=>`\r
`+" ".repeat(d)),Array(rq).fill(0).map((e,d)=>`
`+"	".repeat(d)),Array(rq).fill(0).map((e,d)=>"\r"+"	".repeat(d)),Array(rq).fill(0).map((e,d)=>`\r
`+"	".repeat(d)),function(e){e.DEFAULT={allowTrailingComma:!1}}(b||(b={})),rN(rV,"parse$1"),rN(rH,"visit"),function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"}(v||(v={})),function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"}(w||(w={}));let rK=rV;!function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"}(S||(S={}));let rG=rN((e,d)=>rK(rD(d,e,"utf8")),"readJsonc"),rW=Symbol("implicitBaseUrl"),rJ="${configDir}",rQ=rN(()=>{let{findPnpApi:e}=ru;return e&&e(process.cwd())},"getPnpApi"),rY=rN((e,d,h,m)=>{let g=`resolveFromPackageJsonPath:${e}:${d}:${h}`;if(null!=m&&m.has(g))return m.get(g);let y=rG(e,m);if(!y)return;let b=d||"tsconfig.json";if(!h&&y.exports)try{let[e]=rA(y.exports,d,["require","types"]);b=e}catch{return!1}else!d&&y.tsconfig&&(b=y.tsconfig);return b=rc.join(e,"..",b),null==m||m.set(g,b),b},"resolveFromPackageJsonPath"),rX="package.json",rZ="tsconfig.json",r1=rN((e,d,h)=>{let m=e;if(".."===e&&(m=rc.join(m,rZ)),"."===e[0]&&(m=rc.resolve(d,m)),rc.isAbsolute(m)){if(rR(h,m)){if(rL(h,m).isFile())return m}else if(!m.endsWith(".json")){let e=`${m}.json`;if(rR(h,e))return e}return}let[g,...y]=e.split("/"),b="@"===g[0]?`${g}/${y.shift()}`:g,v=y.join("/"),w=rQ();if(w){let{resolveRequest:m}=w;try{if(b===e){let e=m(rc.join(b,rX),d);if(e){let d=rY(e,v,!1,h);if(d&&rR(h,d))return d}}else{let h;try{h=m(e,d,{extensions:[".json"]})}catch{h=m(rc.join(e,rZ),d)}if(h)return h}}catch{}}let S=r$(rc.resolve(d),rc.join("node_modules",b),h);if(!S||!rL(h,S).isDirectory())return;let x=rc.join(S,rX);if(rR(h,x)){let e=rY(x,v,!1,h);if(!1===e)return;if(e&&rR(h,e)&&rL(h,e).isFile())return e}let _=rc.join(S,v),E=_.endsWith(".json");if(!E){let e=`${_}.json`;if(rR(h,e))return e}if(rR(h,_)){if(rL(h,_).isDirectory()){let e=rc.join(_,rX);if(rR(h,e)){let d=rY(e,"",!0,h);if(d&&rR(h,d))return d}let d=rc.join(_,rZ);if(rR(h,d))return d}else if(E)return _}},"resolveExtendsPath"),r0=rN((e,d)=>rB(rc.relative(e,d)),"pathRelative"),r2=["files","include","exclude"],r4=rN((e,d,h,m)=>{let g=r1(e,d,m);if(!g)throw Error(`File '${e}' not found.`);if(h.has(g))throw Error(`Circularity detected while resolving configuration: ${g}`);h.add(g);let y=rc.dirname(g),b=r3(g,m,h);delete b.references;let{compilerOptions:v}=b;if(v){let{baseUrl:e}=v;e&&!e.startsWith(rJ)&&(v.baseUrl=rO(rc.relative(d,rc.join(y,e)))||"./");let{outDir:h}=v;h&&(h.startsWith(rJ)||(h=rc.relative(d,rc.join(y,h))),v.outDir=rO(h)||"./")}for(let e of r2){let h=b[e];h&&(b[e]=h.map(e=>e.startsWith(rJ)?e:rO(rc.relative(d,rc.join(y,e)))))}return b},"resolveExtends"),r6=["outDir","declarationDir"],r3=rN((e,d,h=new Set)=>{let m;try{m=rG(e,d)||{}}catch{throw Error(`Cannot resolve tsconfig at path: ${e}`)}if("object"!=typeof m)throw SyntaxError(`Failed to parse tsconfig at: ${e}`);let g=rc.dirname(e);if(m.compilerOptions){let{compilerOptions:e}=m;e.paths&&!e.baseUrl&&(e[rW]=g)}if(m.extends){let e=Array.isArray(m.extends)?m.extends:[m.extends];for(let y of(delete m.extends,e.reverse())){let e=r4(y,g,new Set(h),d),b={...e,...m,compilerOptions:{...e.compilerOptions,...m.compilerOptions}};e.watchOptions&&(b.watchOptions={...e.watchOptions,...m.watchOptions}),m=b}}if(m.compilerOptions){let{compilerOptions:e}=m;for(let d of["baseUrl","rootDir"]){let h=e[d];if(h&&!h.startsWith(rJ)){let m=rc.resolve(g,h),y=r0(g,m);e[d]=y}}for(let d of r6){let h=e[d];h&&(Array.isArray(m.exclude)||(m.exclude=[]),m.exclude.includes(h)||m.exclude.push(h),h.startsWith(rJ)||(h=rB(h)),e[d]=h)}}else m.compilerOptions={};if(m.include?(m.include=m.include.map(rO),m.files&&delete m.files):m.files&&(m.files=m.files.map(e=>e.startsWith(rJ)?e:rB(e))),m.watchOptions){let{watchOptions:e}=m;e.excludeDirectories&&(e.excludeDirectories=e.excludeDirectories.map(e=>rO(rc.resolve(g,e))))}return m},"_parseTsconfig"),r5=rN((e,d)=>{if(e.startsWith(rJ))return rO(rc.join(d,e.slice(rJ.length)))},"interpolateConfigDir"),r8=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],r9=rN((e,d=new Map)=>{let h=rc.resolve(e),m=r3(h,d),g=rc.dirname(h),{compilerOptions:y}=m;if(y){for(let e of r8){let d=y[e];if(d){let h=r5(d,g);y[e]=h?r0(g,h):d}}for(let e of["rootDirs","typeRoots"]){let d=y[e];d&&(y[e]=d.map(e=>{let d=r5(e,g);return d?r0(g,d):e}))}let{paths:e}=y;if(e)for(let d of Object.keys(e))e[d]=e[d].map(e=>{var d;return null!=(d=r5(e,g))?d:e})}for(let e of r2){let d=m[e];d&&(m[e]=d.map(e=>{var d;return null!=(d=r5(e,g))?d:e}))}return m},"parseTsconfig"),r7=rN((e=process.cwd(),d="tsconfig.json",h=new Map)=>{let m=r$(rO(e),d,h);if(!m)return null;let g=r9(m,h);return{path:m,config:g}},"getTsconfig"),ae=/\*/g,at=rN((e,d)=>{let h=e.match(ae);if(h&&h.length>1)throw Error(d)},"assertStarCount"),ai=rN(e=>{if(e.includes("*")){let[d,h]=e.split("*");return{prefix:d,suffix:h}}return e},"parsePattern"),ar=rN(({prefix:e,suffix:d},h)=>h.startsWith(e)&&h.endsWith(d),"isPatternMatch"),aa=rN((e,d,h)=>Object.entries(e).map(([e,m])=>(at(e,`Pattern '${e}' can have at most one '*' character.`),{pattern:ai(e),substitutions:m.map(m=>{if(at(m,`Substitution '${m}' in pattern '${e}' can have at most one '*' character.`),!d&&!rM.test(m))throw Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return rc.resolve(h,m)})})),"parsePaths"),an=(rN(e=>{let{compilerOptions:d}=e.config;if(!d)return null;let{baseUrl:h,paths:m}=d;if(!h&&!m)return null;let g=rW in d&&d[rW],y=rc.resolve(rc.dirname(e.path),h||g||"."),b=m?aa(m,h,y):[];return e=>{if(rM.test(e))return[];let d=[];for(let h of b){if(h.pattern===e)return h.substitutions.map(rO);"string"!=typeof h.pattern&&d.push(h)}let m,g=-1;for(let h of d)ar(h.pattern,e)&&h.pattern.prefix.length>g&&(g=h.pattern.prefix.length,m=h);if(!m)return h?[rO(rc.join(y,e))]:[];let v=e.slice(m.pattern.prefix.length,e.length-m.pattern.suffix.length);return m.substitutions.map(e=>rO(e.replace("*",v)))}},"createPathsMatcher"),rN(e=>{let d="";for(let h=0;h<e.length;h+=1){let m=e[h],g=m.toUpperCase();d+=m===g?m.toLowerCase():g}return d},"s")),as=65,ao=97,al=rN(()=>Math.floor(26*Math.random()),"m"),ad=rN(e=>Array.from({length:e},()=>String.fromCodePoint(al()+(Math.random()>.5?as:ao))).join(""),"S"),ac=rN((e=iI)=>{let d=process.execPath;if(e.existsSync(d))return!e.existsSync(an(d));let h=`/${ad(10)}`;e.writeFileSync(h,"");let m=!e.existsSync(an(h));return e.unlinkSync(h),m},"l"),{join:ap}=rc.posix,au={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},ah=rN(e=>{let d=[...au.ts],h=[...au.cts],m=[...au.mts];return null!=e&&e.allowJs&&(d.push(".js",".jsx"),h.push(".cjs"),m.push(".mjs")),[...d,...h,...m]},"getSupportedExtensions"),am=rN(e=>{let d=[];if(!e)return d;let{outDir:h,declarationDir:m}=e;return h&&d.push(h),m&&d.push(m),d},"getDefaultExcludeSpec"),af=rN(e=>e.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),ag=["node_modules","bower_components","jspm_packages"],ay=`(?!(${ag.join("|")})(/|$))`,ab=/(?:^|\/)[^.*?]+$/,av="**/*",aw="[^/]",aS="[^./]",ax="win32"===process.platform;rN(({config:e,path:d},h=ac())=>{if("extends"in e)throw Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!rc.isAbsolute(d))throw Error("The tsconfig path must be absolute");ax&&(d=rO(d));let m=rc.dirname(d),{files:g,include:y,exclude:b,compilerOptions:v}=e,w=null==g?void 0:g.map(e=>ap(m,e)),S=ah(v),x=h?"":"i",_=(b||am(v)).map(e=>{let d=af(ap(m,e)).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${aw}*`).replaceAll(String.raw`\?`,aw);return RegExp(`^${d}($|/)`,x)}),E=g||y?y:[av],T=E?E.map(e=>{let d=ap(m,e);ab.test(d)&&(d=ap(d,av));let h=af(d).replaceAll(String.raw`/\*\*`,`(/${ay}${aS}${aw}*)*?`).replaceAll(/(\/)?\\\*/g,(e,d)=>{let h=`(${aS}|(\\.(?!min\\.js$))?)*`;return d?`/${ay}${aS}${h}`:h}).replaceAll(/(\/)?\\\?/g,(e,d)=>{let h=aw;return d?`/${ay}${h}`:h});return RegExp(`^${h}$`,x)}):void 0;return d=>{if(!rc.isAbsolute(d))throw Error("filePath must be absolute");if(ax&&(d=rO(d)),null!=w&&w.includes(d)||!(!S.some(e=>d.endsWith(e))||_.some(e=>e.test(d)))&&T&&T.some(e=>e.test(d)))return e}},"createFilesMatcher");let a_=e=>iI.readdirSync(e).filter(e=>(e.endsWith(".ts")||e.endsWith(".js"))&&"index.ts"!==e&&"index.js"!==e).sort(),aE=e=>{let d=r7(),h=d?.config?.compilerOptions?.moduleResolution==="NodeNext"?".js":"",m="",g="export const migrations = [\n";return e.forEach((d,y)=>{let b=d.replace(/\.[^/.]+$/,"");m+=`import * as migration_${b} from './${b}${h}';
`,g+=`  {
    up: migration_${b}.up,
    down: migration_${b}.down,
    name: '${b}'${y!==e.length-1?",":""}
  },
`}),g+="];\n",m+"\n"+g},aT=e=>{let d=aE(a_(e.migrationsDir));iI.writeFileSync(iR.join(e.migrationsDir,"index.ts"),d)},ak=e=>e.split("\n").map(e=>`  ${e}`).join("\n"),aC=({downSQL:e,imports:d,packageName:h,upSQL:m})=>`import { MigrateUpArgs, MigrateDownArgs, sql } from '${h}'
${d?`${d}
`:""}
export async function up({ db, payload, req }: MigrateUpArgs): Promise<void> {
${ak(m)}
}

export async function down({ db, payload, req }: MigrateDownArgs): Promise<void> {
${ak(e)}
}
`,aA=({executeMethod:e,filename:d,sanitizeStatements:h})=>{let m=iR.dirname(d);return async function({file:d,forceAcceptWarning:g,migrationName:y,payload:b,skipEmpty:v}){let w,S,x=b.db.migrationDir;iI.existsSync(x)||iI.mkdirSync(x);let{generateDrizzleJson:_,generateMigration:E,upSnapshot:T}=this.requireDrizzleKit(),k=await _(this.schema),[C,P]=new Date().toISOString().split("T"),O=C.replace(/\D/g,""),I=P.split(".")[0].replace(/\D/g,""),R="";({downSQL:w,imports:R,upSQL:S}=await (0,rd.F)({dirname:m,file:d,migrationName:y,payload:b}));let D=`${O}_${I}`,L=y||d?.split("/").slice(2).join("/"),$=`${D}${L?`_${L.replace(/\W/g,"_")}`:""}`,M=`${x}/${$}`,B=this.defaultDrizzleSnapshot;if(this.schemaName&&(B.schemas={[this.schemaName]:this.schemaName}),!S){let d=iI.readdirSync(x).filter(e=>e.endsWith(".json")).sort().reverse()?.[0];d&&(B=JSON.parse(iI.readFileSync(`${x}/${d}`,"utf8")),T&&B.version<k.version&&(B=T(B)));let m=await E(B,k),y=await E(k,B),b=`await db.${e}(sql\``;if(m?.length&&(S=h({sqlExecute:b,statements:m})),y?.length&&(w=h({sqlExecute:b,statements:y})),!S?.length&&!w?.length&&!g){v&&process.exit(0);let{confirm:e}=await iz({name:"confirm",type:"confirm",initial:!1,message:"No schema changes detected. Would you like to create a blank migration file?"},{onCancel:()=>{process.exit(0)}});e||process.exit(0)}iI.writeFileSync(`${M}.json`,JSON.stringify(k,null,2))}iI.writeFileSync(`${M}.ts`,aC({downSQL:w||"  // Migration code",imports:R,packageName:b.db.packageName,upSQL:S||"  // Migration code"})),aT({migrationsDir:b.db.migrationDir}),b.logger.info({msg:`Migration created at ${M}.ts`})}};var aP=h(79748);let aN=e=>/^[a-z_$][\w$]*$/i.test(e)?e:`'${e}'`,aO=(e,d)=>{let h=aN(d);return h.startsWith("'")?`${e}[${h}]`:`${e}.${d}`},aI=({columnToCodeConverter:e,corePackageSuffix:d,defaultOutputFile:m,enumImport:g,schemaImport:y,tableImport:b})=>async function({log:v=!0,outputFile:w=m,prettify:S=!0}={}){let x={},_=[],E=[],T=[],k=(e,d)=>{x[e]||(x[e]=new Set),x[e].add(d)},C=`${this.packageName}/drizzle/${d}`,P=null;this.schemaName&&(k(C,y),P=`export const db_schema = ${y}('${this.schemaName}')`);let O=this.schemaName?"db_schema.enum":g,I=[],R=(e,d)=>{I.some(d=>d===e)||(I.push(e),E.push(`export const ${e} = ${O}('${e}', [${d.map(e=>`'${e}'`).join(", ")}])`))};this.payload.config.localization&&g&&R("enum__locales",this.payload.config.localization.localeCodes);let D=this.schemaName?"db_schema.table":b;for(let d in this.schemaName||k(C,b),k(C,"index"),k(C,"uniqueIndex"),k(C,"foreignKey"),k(`${this.packageName}/drizzle`,"sql"),k(`${this.packageName}/drizzle`,"relations"),this.rawTables){let h=this.rawTables[d],m=[];if(h.indexes)for(let e in h.indexes){let d=h.indexes[e],g=`${aN(e)}: ${d.unique?"uniqueIndex":"index"}('${d.name}')`;g+=`.on(${"string"==typeof d.on?`${aO("columns",d.on)}`:`${d.on.map(e=>`${aO("columns",e)}`).join(", ")}`}),`,m.push(g)}if(h.foreignKeys)for(let e in h.foreignKeys){let d=h.foreignKeys[e],g=`${aN(e)}: foreignKey({
      columns: [${d.columns.map(e=>`columns['${e}']`).join(", ")}],
      foreignColumns: [${d.foreignColumns.map(e=>`${aO(e.table,e.name)}`).join(", ")}],
      name: '${d.name}'
    })`;d.onDelete&&(g+=`.onDelete('${d.onDelete}')`),d.onUpdate&&(g+=`.onUpdate('${d.onDelete}')`),g+=",",m.push(g)}let g=`
export const ${d} = ${D}('${d}', {
${Object.entries(h.columns).map(([h,m])=>`  ${aN(h)}: ${e({adapter:this,addEnum:R,addImport:k,column:m,locales:this.payload.config.localization?this.payload.config.localization.localeCodes:void 0,tableKey:d})},`).join("\n")}
}${m.length?`, (columns) => ({
    ${m.join("\n    ")}
  })`:""}
)
`;_.push(g)}for(let e in this.rawRelations){let d=this.rawRelations[e],h=[];for(let m in d){let g,y=d[m];g="one"===y.type?`${aN(m)}: one(${y.to}, {
    ${y.fields.some(d=>d.table!==e)?"// @ts-expect-error Drizzle TypeScript bug for ONE relationships with a field in different table":""}
    fields: [${y.fields.map(e=>`${aO(e.table,e.name)}`).join(", ")}],
    references: [${y.references.map(e=>`${aO(y.to,e)}`).join(", ")}],
    ${y.relationName?`relationName: '${y.relationName}',`:""}
    }),`:`${aN(m)}: many(${y.to}, {
            ${y.relationName?`relationName: '${y.relationName}',`:""}
    }),`,h.push(g)}let m=[];Object.values(d).some(e=>"one"===e.type)&&m.push("one"),Object.values(d).some(e=>"many"===e.type)&&m.push("many");let g=m.length?`{ ${m.join(", ")} }`:"",y=`export const relations_${e} = relations(${e}, (${g}) => ({
  ${h.join("\n    ")}
      }))`;T.push(y)}E.length&&!this.schemaName&&k(C,g);let L=[];for(let e in x){let d=x[e];L.push(`import { ${Array.from(d).join(", ")} } from '${e}'`)}let $=`
type DatabaseSchema = {
  ${[this.schemaName?"db_schema":null,...I,...Object.keys(this.rawTables),...Object.keys(this.rawRelations).map(e=>`relations_${e}`)].filter(Boolean).map(e=>`${e}: typeof ${e}`).join("\n  ")}
}
    `,M=`
declare module '${this.packageName}' {
  export interface GeneratedDatabaseSchema {
    schema: DatabaseSchema
  }
}
    `,B=[`
/* tslint:disable */
/* eslint-disable */
/**
 * This file was automatically generated by Payload.
 * DO NOT MODIFY IT BY HAND. Instead, modify your source Payload config,
 * and re-run \`payload generate:db-schema\` to regenerate this file.
 */
`,`import type {} from '${this.packageName}'`,...L,P,...E,..._,...T,$,M].filter(Boolean).join("\n");if(!w){let e=process.cwd(),d=iR.resolve(e,"src");w=(0,iI.existsSync)(d)?iR.resolve(d,"payload-generated-schema.ts"):iR.resolve(e,"payload-generated-schema.ts")}if(S)try{let e=await Promise.resolve().then(h.bind(h,32785)),d=await e.resolveConfigFile(),m=d?await e.resolveConfig(d):{};B=await e.format(B,{...m,parser:"typescript"})}catch{}await (0,aP.writeFile)(w,B,"utf-8"),v&&this.payload.logger.info(`Written ${w}`)};var aR=Object.prototype.hasOwnProperty;function aD(e,d,h){for(h of e.keys())if(aL(h,d))return h}function aL(e,d){var h,m,g;if(e===d)return!0;if(e&&d&&(h=e.constructor)===d.constructor){if(h===Date)return e.getTime()===d.getTime();if(h===RegExp)return e.toString()===d.toString();if(h===Array){if((m=e.length)===d.length)for(;m--&&aL(e[m],d[m]););return -1===m}if(h===Set){if(e.size!==d.size)return!1;for(m of e)if((g=m)&&"object"==typeof g&&!(g=aD(d,g))||!d.has(g))return!1;return!0}if(h===Map){if(e.size!==d.size)return!1;for(m of e)if((g=m[0])&&"object"==typeof g&&!(g=aD(d,g))||!aL(m[1],d.get(g)))return!1;return!0}if(h===ArrayBuffer)e=new Uint8Array(e),d=new Uint8Array(d);else if(h===DataView){if((m=e.byteLength)===d.byteLength)for(;m--&&e.getInt8(m)===d.getInt8(m););return -1===m}if(ArrayBuffer.isView(e)){if((m=e.byteLength)===d.byteLength)for(;m--&&e[m]===d[m];);return -1===m}if(!h||"object"==typeof e){for(h in m=0,e)if(aR.call(e,h)&&++m&&!aR.call(d,h)||!(h in d)||!aL(e[h],d[h]))return!1;return Object.keys(d).length===m}}return e!=e&&d!=d}let a$=({adapter:e,addEnum:d,addImport:h,column:m,tableKey:g})=>{let y=m.type;"geometry"===m.type?(y="geometryColumn",h(e.packageName,y)):"enum"===m.type?"locale"in m?y="enum__locales":(d(m.enumName,m.options),y=m.enumName):h(`${e.packageName}/drizzle/pg-core`,y);let b=[];"timestamp"===m.type&&(b.push(`mode: '${m.mode}'`),m.withTimezone&&b.push("withTimezone: true"),"number"==typeof m.precision&&b.push(`precision: ${m.precision}`)),"vector"===m.type&&m.dimensions&&b.push(`dimensions: ${m.dimensions}`);let v="";b.length&&(v=`, {${b.join(",")}}`);let w=`${y}('${m.name}'${v})`;if("timestamp"===m.type&&m.defaultNow&&(w=`${w}.defaultNow()`),"uuid"===m.type&&m.defaultRandom&&(w=`${w}.defaultRandom()`),m.notNull&&(w=`${w}.notNull()`),m.primaryKey&&(w=`${w}.primaryKey()`),void 0!==m.default){let e=m.default;"geometry"===m.type?e=`sql\`${m.default}\``:"jsonb"===m.type?e=`sql\`'${JSON.stringify(m.default)}'::jsonb\``:"numeric"===m.type?e=`'${m.default}'`:"string"==typeof m.default&&(e=`${JSON.stringify(m.default)}`),w=`${w}.default(${e})`}if(m.reference){let d="()";m.reference.table===g&&(h(`${e.packageName}/drizzle/pg-core`,"type AnyPgColumn"),d=`${d}: AnyPgColumn`),d=`${d} => ${m.reference.table}.${m.reference.name}`,w=`${w}.references(${d}, {
      ${m.reference.onDelete?`onDelete: '${m.reference.onDelete}'`:""}
  })`}return w},aM=async function({db:e,joins:d,tableName:h,where:m}){if(0===d.length){let d=await e.select({count:tG()}).from(this.tables[h]).where(m);return Number(d?.[0]?.count??0)}let g=e.select({count:ek`COUNT(1) OVER()`}).from(this.tables[h]).where(m).groupBy(this.tables[h].id).limit(1).$dynamic();d.forEach(({condition:e,table:d})=>{g=g.leftJoin(d,e)});let y=await g;return Number(y?.[0]?.count??0)},aB=({connectionString:e,database:d})=>{let h=new URL(e),m=new URL(h);return m.pathname=`/${d}`,m.toString()},aj=async function(e={}){let d=this.poolOptions?.connectionString??process.env.POSTGRES_URL??process.env.DATABASE_URL,m={},g=e.name,y=this.schemaName||"public";d?(g||(g=new URL(d).pathname.slice(1)),m.connectionString=aB({connectionString:d,database:"postgres"})):(g||(g=this.poolOptions.database),m={...this.poolOptions,database:"postgres"});let b=await Promise.resolve().then(h.t.bind(h,22772,19)).then(e=>e.default),v=new b.Client(m);try{if(await v.connect(),await v.query(`CREATE DATABASE "${g}"`),this.payload.logger.info(`Created database "${g}"`),"public"!==y){let e={};d?e.connectionString=aB({connectionString:d,database:g}):e={...this.poolOptions,database:g};let h=new b.Client(e);try{await h.connect(),await h.query(`CREATE SCHEMA ${y}`),this.payload.logger.info(`Created schema "${g}.${y}"`)}catch(e){this.payload.logger.error({err:e,msg:`Error: failed to create schema "${g}.${y}". Details: ${e.message}`})}finally{await h.end()}}return!0}catch(e){return this.payload.logger.error({err:e,msg:`Error: failed to create database ${g}. Details: ${e.message}`}),!1}finally{await v.end()}},aU=async function(){for(let e in this.extensions)if(this.extensions[e])try{await this.drizzle.execute(`CREATE EXTENSION IF NOT EXISTS "${e}"`)}catch(d){this.payload.logger.error({err:d,msg:`Failed to create extension ${e}`})}},aF={contains:"~",equals:"==",in:"in",like:"like_regex",not_equals:"!=",not_in:"in",not_like:"!like_regex"},az=(e,d)=>"string"==typeof e?`"${["like","not_like"].includes(d)?"(?i)":""}${e}"`:e,aq=({column:e,operator:d,pathSegments:h,value:m})=>{let g="object"==typeof e?e.name:e,y=h.slice(1).map(e=>`${e}[*]`).join("."),b="";if(["in","not_in"].includes(d)&&Array.isArray(m))m.forEach((g,y)=>{b=`${b}${aq({column:e,operator:"in"===d?"equals":"not_equals",pathSegments:h,value:g})}${y===m.length-1?"":` ${"in"===d?"OR":"AND"} `}`});else if("exists"===d)b=`${!1===m?"NOT ":""}jsonb_path_exists(${g}, '$.${y}')`;else if(["not_like"].includes(d)){let e=aF[d];b=`NOT jsonb_path_exists(${g}, '$.${y} ? (@ ${e.substring(1)} ${az(m,d)})')`}else b=`jsonb_path_exists(${g}, '$.${y} ? (@ ${aF[d]} ${az(m,d)})')`;return b},aV={id:"00000000-0000-0000-0000-000000000000",_meta:{columns:{},schemas:{},tables:{}},dialect:"postgresql",enums:{},policies:{},prevId:"00000000-0000-0000-0000-00000000000",roles:{},schemas:{},sequences:{},tables:{},version:"7",views:{}},aH=async function({db:e,tableName:d,where:h}){let m=this.tables[d];await e.delete(m).where(h)},aK=async function({adapter:e}){await e.execute({drizzle:e.drizzle,raw:`drop schema if exists ${this.schemaName||"public"} cascade;
    create schema ${this.schemaName||"public"};`})},aG=function({db:e,drizzle:d,raw:h,sql:m}){let g=e??d;return h?g.execute(ek.raw(h)):g.execute(ek`${m}`)};function aW(e,d,h){let m={},g=e.reduce((e,{path:g,field:y},b)=>{let v;v=E(y,k)?y:E(y,ew)?y.decoder:y.sql.decoder;let w=e;for(let[e,S]of g.entries())if(e<g.length-1)S in w||(w[S]={}),w=w[S];else{let e=d[b],x=w[S]=null===e?null:v.mapFromDriverValue(e);if(h&&E(y,k)&&2===g.length){let e=g[0];e in m?"string"==typeof m[e]&&m[e]!==em(y.table)&&(m[e]=!1):m[e]=null===x&&em(y.table)}}return e},{});if(h&&Object.keys(m).length>0)for(let[e,d]of Object.entries(m))"string"!=typeof d||h[d]||(g[e]=null);return g}function aJ(e,d){return Object.entries(e).reduce((e,[h,m])=>{if("string"!=typeof h)return e;let g=d?[...d,h]:[h];return E(m,k)||E(m,ew)||E(m,ew.Aliased)?e.push({path:g,field:m}):E(m,eh)?e.push(...aJ(m[eh.Symbol.Columns],g)):e.push(...aJ(m,g)),e},[])}function aQ(e,d){let h=Object.keys(e),m=Object.keys(d);if(h.length!==m.length)return!1;for(let[e,d]of h.entries())if(d!==m[e])return!1;return!0}function aY(e,d){let h=Object.entries(d).filter(([,e])=>void 0!==e).map(([d,h])=>E(h,ew)?[d,h]:[d,new eT(h,e[eh.Symbol.Columns][d])]);if(0===h.length)throw Error("No values to set");return Object.fromEntries(h)}function aX(e,d){for(let h of d)for(let d of Object.getOwnPropertyNames(h.prototype))"constructor"!==d&&Object.defineProperty(e.prototype,d,Object.getOwnPropertyDescriptor(h.prototype,d)||Object.create(null))}function aZ(e){return e[eh.Symbol.Columns]}function a1(e){return E(e,ee)?e._.alias:E(e,eP)?e[ea].name:E(e,ew)?void 0:e[eh.Symbol.IsAlias]?e[eh.Symbol.Name]:e[eh.Symbol.BaseName]}function a0(e,d){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:d}}function a2(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let d=typeof e.logger;return"boolean"===d||"object"===d&&"function"==typeof e.logger.logQuery||"undefined"===d}if("schema"in e){let d=typeof e.logger;return"object"===d||"undefined"===d}if("casing"in e){let d=typeof e.logger;return"string"===d||"undefined"===d}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let d=typeof e.connection;return"string"===d||"object"===d||"undefined"===d}if("client"in e){let d=typeof e.client;return"object"===d||"function"===d||"undefined"===d}return 0===Object.keys(e).length}class a4 extends z{static [_]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:d,...h}=e;this.config.generatedIdentity={type:"always",sequenceName:d,sequenceOptions:h}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:d,...h}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:d,sequenceOptions:h}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class a6 extends a4{static [_]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new a3(e,this.config)}}class a3 extends q{static [_]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class a5 extends a4{static [_]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new a8(e,this.config)}}class a8 extends q{static [_]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function a9(e,d){let{name:h,config:m}=a0(e,d);return"number"===m.mode?new a6(h):new a5(h)}class a7 extends z{static [_]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ne(e,this.config)}}class ne extends q{static [_]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class nt extends z{static [_]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new ni(e,this.config)}}class ni extends q{static [_]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function nr(e,d){let{name:h,config:m}=a0(e,d);return"number"===m.mode?new a7(h):new nt(h)}class na extends z{static [_]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new nn(e,this.config)}}class nn extends q{static [_]="PgBoolean";getSQLType(){return"boolean"}}function ns(e){return new na(e??"")}class no extends z{static [_]="PgCharBuilder";constructor(e,d){super(e,"string","PgChar"),this.config.length=d.length,this.config.enumValues=d.enum}build(e){return new nl(e,this.config)}}class nl extends q{static [_]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function nd(e,d={}){let{name:h,config:m}=a0(e,d);return new no(h,m)}class nc extends z{static [_]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new np(e,this.config)}}class np extends q{static [_]="PgCidr";getSQLType(){return"cidr"}}function nu(e){return new nc(e??"")}class nh extends z{static [_]="PgCustomColumnBuilder";constructor(e,d,h){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=d,this.config.customTypeParams=h}build(e){return new nm(e,this.config)}}class nm extends q{static [_]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,d){super(e,d),this.sqlName=d.customTypeParams.dataType(d.fieldConfig),this.mapTo=d.customTypeParams.toDriver,this.mapFrom=d.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function nf(e){return(d,h)=>{let{name:m,config:g}=a0(d,h);return new nh(m,g,e)}}class ng extends z{static [_]="PgDateColumnBaseBuilder";defaultNow(){return this.default(ek`now()`)}}class ny extends ng{static [_]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new nb(e,this.config)}}class nb extends q{static [_]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class nv extends ng{static [_]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new nw(e,this.config)}}class nw extends q{static [_]="PgDateString";getSQLType(){return"date"}}function nS(e,d){let{name:h,config:m}=a0(e,d);return m?.mode==="date"?new ny(h):new nv(h)}class nx extends z{static [_]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new n_(e,this.config)}}class n_ extends q{static [_]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function nE(e){return new nx(e??"")}class nT extends z{static [_]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new nk(e,this.config)}}class nk extends q{static [_]="PgInet";getSQLType(){return"inet"}}function nC(e){return new nT(e??"")}class nA extends a4{static [_]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new nP(e,this.config)}}class nP extends q{static [_]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function nN(e){return new nA(e??"")}class nO extends z{static [_]="PgIntervalBuilder";constructor(e,d){super(e,"string","PgInterval"),this.config.intervalConfig=d}build(e){return new nI(e,this.config)}}class nI extends q{static [_]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",d=this.precision?`(${this.precision})`:"";return`interval${e}${d}`}}function nR(e,d={}){let{name:h,config:m}=a0(e,d);return new nO(h,m)}class nD extends z{static [_]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new nL(e,this.config)}}class nL extends q{static [_]="PgJson";constructor(e,d){super(e,d)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function n$(e){return new nD(e??"")}class nM extends z{static [_]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new nB(e,this.config)}}class nB extends q{static [_]="PgJsonb";constructor(e,d){super(e,d)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function nj(e){return new nM(e??"")}class nU extends z{static [_]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new nF(e,this.config)}}class nF extends q{static [_]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[d,h,m]=e.slice(1,-1).split(",");return[Number.parseFloat(d),Number.parseFloat(h),Number.parseFloat(m)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class nz extends z{static [_]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new nq(e,this.config)}}class nq extends q{static [_]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[d,h,m]=e.slice(1,-1).split(",");return{a:Number.parseFloat(d),b:Number.parseFloat(h),c:Number.parseFloat(m)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function nV(e,d){let{name:h,config:m}=a0(e,d);return m?.mode&&"tuple"!==m.mode?new nz(h):new nU(h)}class nH extends z{static [_]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new nK(e,this.config)}}class nK extends q{static [_]="PgMacaddr";getSQLType(){return"macaddr"}}function nG(e){return new nH(e??"")}class nW extends z{static [_]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new nJ(e,this.config)}}class nJ extends q{static [_]="PgMacaddr8";getSQLType(){return"macaddr8"}}function nQ(e){return new nW(e??"")}class nY extends z{static [_]="PgNumericBuilder";constructor(e,d,h){super(e,"string","PgNumeric"),this.config.precision=d,this.config.scale=h}build(e){return new nX(e,this.config)}}class nX extends q{static [_]="PgNumeric";precision;scale;constructor(e,d){super(e,d),this.precision=d.precision,this.scale=d.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function nZ(e,d){let{name:h,config:m}=a0(e,d);return new nY(h,m?.precision,m?.scale)}class n1 extends z{static [_]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new n0(e,this.config)}}class n0 extends q{static [_]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[d,h]=e.slice(1,-1).split(",");return[Number.parseFloat(d),Number.parseFloat(h)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class n2 extends z{static [_]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new n4(e,this.config)}}class n4 extends q{static [_]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[d,h]=e.slice(1,-1).split(",");return{x:Number.parseFloat(d),y:Number.parseFloat(h)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function n6(e,d){let{name:h,config:m}=a0(e,d);return m?.mode&&"tuple"!==m.mode?new n2(h):new n1(h)}function n3(e){let d=[];for(let h=0;h<e.length;h+=2)d.push(Number.parseInt(e.slice(h,h+2),16));return new Uint8Array(d)}function n5(e,d){let h=new DataView(new ArrayBuffer(8));for(let m=0;m<8;m++)h.setUint8(m,e[d+m]);return h.getFloat64(0,!0)}function n8(e){let d,h=n3(e),m=0,g=h[0];m+=1;let y=new DataView(h.buffer),b=y.getUint32(m,1===g);if(m+=4,0x20000000&b&&(d=y.getUint32(m,1===g),m+=4),(65535&b)==1){let e=n5(h,m),d=n5(h,m+=8);return m+=8,[e,d]}throw Error("Unsupported geometry type")}class n9 extends z{static [_]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new n7(e,this.config)}}class n7 extends q{static [_]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return n8(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class se extends z{static [_]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new st(e,this.config)}}class st extends q{static [_]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let d=n8(e);return{x:d[0],y:d[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function si(e,d){let{name:h,config:m}=a0(e,d);return m?.mode&&"tuple"!==m.mode?new se(h):new n9(h)}class sr extends z{static [_]="PgRealBuilder";constructor(e,d){super(e,"number","PgReal"),this.config.length=d}build(e){return new sa(e,this.config)}}class sa extends q{static [_]="PgReal";constructor(e,d){super(e,d)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function sn(e){return new sr(e??"")}class ss extends z{static [_]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new so(e,this.config)}}class so extends q{static [_]="PgSerial";getSQLType(){return"serial"}}function sl(e){return new ss(e??"")}class sd extends a4{static [_]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new sc(e,this.config)}}class sc extends q{static [_]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function sp(e){return new sd(e??"")}class su extends z{static [_]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new sh(e,this.config)}}class sh extends q{static [_]="PgSmallSerial";getSQLType(){return"smallserial"}}function sm(e){return new su(e??"")}class sf extends z{static [_]="PgTextBuilder";constructor(e,d){super(e,"string","PgText"),this.config.enumValues=d.enum}build(e){return new sg(e,this.config)}}class sg extends q{static [_]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function sy(e,d={}){let{name:h,config:m}=a0(e,d);return new sf(h,m)}class sb extends ng{constructor(e,d,h){super(e,"string","PgTime"),this.withTimezone=d,this.precision=h,this.config.withTimezone=d,this.config.precision=h}static [_]="PgTimeBuilder";build(e){return new sv(e,this.config)}}class sv extends q{static [_]="PgTime";withTimezone;precision;constructor(e,d){super(e,d),this.withTimezone=d.withTimezone,this.precision=d.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function sw(e,d={}){let{name:h,config:m}=a0(e,d);return new sb(h,m.withTimezone??!1,m.precision)}class sS extends ng{static [_]="PgTimestampBuilder";constructor(e,d,h){super(e,"date","PgTimestamp"),this.config.withTimezone=d,this.config.precision=h}build(e){return new sx(e,this.config)}}class sx extends q{static [_]="PgTimestamp";withTimezone;precision;constructor(e,d){super(e,d),this.withTimezone=d.withTimezone,this.precision=d.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class s_ extends ng{static [_]="PgTimestampStringBuilder";constructor(e,d,h){super(e,"string","PgTimestampString"),this.config.withTimezone=d,this.config.precision=h}build(e){return new sE(e,this.config)}}class sE extends q{static [_]="PgTimestampString";withTimezone;precision;constructor(e,d){super(e,d),this.withTimezone=d.withTimezone,this.precision=d.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function sT(e,d={}){let{name:h,config:m}=a0(e,d);return m?.mode==="string"?new s_(h,m.withTimezone??!1,m.precision):new sS(h,m?.withTimezone??!1,m?.precision)}class sk extends z{static [_]="PgVarcharBuilder";constructor(e,d){super(e,"string","PgVarchar"),this.config.length=d.length,this.config.enumValues=d.enum}build(e){return new sC(e,this.config)}}class sC extends q{static [_]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function sA(e,d={}){let{name:h,config:m}=a0(e,d);return new sk(h,m)}class sP extends z{static [_]="PgBinaryVectorBuilder";constructor(e,d){super(e,"string","PgBinaryVector"),this.config.dimensions=d.dimensions}build(e){return new sN(e,this.config)}}class sN extends q{static [_]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function sO(e,d){let{name:h,config:m}=a0(e,d);return new sP(h,m)}class sI extends z{static [_]="PgHalfVectorBuilder";constructor(e,d){super(e,"array","PgHalfVector"),this.config.dimensions=d.dimensions}build(e){return new sR(e,this.config)}}class sR extends q{static [_]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function sD(e,d){let{name:h,config:m}=a0(e,d);return new sI(h,m)}class sL extends z{static [_]="PgSparseVectorBuilder";constructor(e,d){super(e,"string","PgSparseVector"),this.config.dimensions=d.dimensions}build(e){return new s$(e,this.config)}}class s$ extends q{static [_]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function sM(e,d){let{name:h,config:m}=a0(e,d);return new sL(h,m)}class sB extends z{static [_]="PgVectorBuilder";constructor(e,d){super(e,"array","PgVector"),this.config.dimensions=d.dimensions}build(e){return new sj(e,this.config)}}class sj extends q{static [_]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function sU(e,d){let{name:h,config:m}=a0(e,d);return new sB(h,m)}function sF(){return{bigint:a9,bigserial:nr,boolean:ns,char:nd,cidr:nu,customType:nf,date:nS,doublePrecision:nE,inet:nC,integer:nN,interval:nR,json:n$,jsonb:nj,line:nV,macaddr:nG,macaddr8:nQ,numeric:nZ,point:n6,geometry:si,real:sn,serial:sl,smallint:sp,smallserial:sm,text:sy,time:sw,timestamp:sT,uuid:tk,varchar:sA,bit:sO,halfvec:sD,sparsevec:sM,vector:sU}}let sz=Symbol.for("drizzle:PgInlineForeignKeys"),sq=Symbol.for("drizzle:EnableRLS");class sV extends eh{static [_]="PgTable";static Symbol=Object.assign({},eh.Symbol,{InlineForeignKeys:sz,EnableRLS:sq});[sz]=[];[sq]=!1;[eh.Symbol.ExtraConfigBuilder]=void 0}function sH(e,d,h,m,g=e){let y=new sV(e,m,g),b="function"==typeof d?d(sF()):d,v=Object.fromEntries(Object.entries(b).map(([e,d])=>{let h=d;h.setName(e);let m=h.build(y);return y[sz].push(...h.buildForeignKeys(m,y)),[e,m]})),w=Object.fromEntries(Object.entries(b).map(([e,d])=>{let h=d;return h.setName(e),[e,h.buildExtraConfigColumn(y)]})),S=Object.assign(y,v);return S[eh.Symbol.Columns]=v,S[eh.Symbol.ExtraConfigColumns]=w,h&&(S[sV.Symbol.ExtraConfigBuilder]=h),Object.assign(S,{enableRLS:()=>(S[sV.Symbol.EnableRLS]=!0,S)})}let sK=(e,d,h)=>sH(e,d,h,void 0);class sG{static [_]="PgPrimaryKeyBuilder";columns;name;constructor(e,d){this.columns=e,this.name=d}build(e){return new sW(e,this.columns,this.name)}}class sW{constructor(e,d,h){this.table=e,this.columns=d,this.name=h}static [_]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[sV.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}class sJ{constructor(e,d,h){this.sourceTable=e,this.referencedTable=d,this.relationName=h,this.referencedTableName=d[eh.Symbol.Name]}static [_]="Relation";referencedTableName;fieldName}class sQ{constructor(e,d){this.table=e,this.config=d}static [_]="Relations"}class sY extends sJ{constructor(e,d,h,m){super(e,d,h?.relationName),this.config=h,this.isNullable=m}static [_]="One";withFieldName(e){let d=new sY(this.sourceTable,this.referencedTable,this.config,this.isNullable);return d.fieldName=e,d}}class sX extends sJ{constructor(e,d,h){super(e,d,h?.relationName),this.config=h}static [_]="Many";withFieldName(e){let d=new sX(this.sourceTable,this.referencedTable,this.config);return d.fieldName=e,d}}function sZ(){return{and:e$,between:eJ,eq:eD,exists:eG,gt:ej,gte:eU,ilike:eZ,inArray:eq,isNull:eH,isNotNull:eK,like:eY,lt:eF,lte:ez,ne:eL,not:eB,notBetween:eQ,notExists:eW,notLike:eX,notIlike:e1,notInArray:eV,or:eM,sql:ek}}function s1(){return{sql:ek,asc:eN,desc:eO}}function s0(e,d){1===Object.keys(e).length&&"default"in e&&!E(e.default,eh)&&(e=e.default);let h={},m={},g={};for(let[y,b]of Object.entries(e))if(E(b,eh)){let e=ef(b),d=m[e];for(let m of(h[e]=y,g[y]={tsName:y,dbName:b[eh.Symbol.Name],schema:b[eh.Symbol.Schema],columns:b[eh.Symbol.Columns],relations:d?.relations??{},primaryKey:d?.primaryKey??[]},Object.values(b[eh.Symbol.Columns])))m.primary&&g[y].primaryKey.push(m);let v=b[eh.Symbol.ExtraConfigBuilder]?.(b[eh.Symbol.ExtraConfigColumns]);if(v)for(let e of Object.values(v))E(e,sG)&&g[y].primaryKey.push(...e.columns)}else if(E(b,sQ)){let e,y=ef(b.table),v=h[y];for(let[h,w]of Object.entries(b.config(d(b.table))))if(v){let d=g[v];d.relations[h]=w,e&&d.primaryKey.push(...e)}else y in m||(m[y]={relations:{},primaryKey:e}),m[y].relations[h]=w}return{tables:g,tableNamesMap:h}}function s2(e,d){return new sQ(e,e=>Object.fromEntries(Object.entries(d(e)).map(([e,d])=>[e,d.withFieldName(e)])))}function s4(e){return function(d,h){return new sY(e,d,h,h?.fields.reduce((e,d)=>e&&d.notNull,!0)??!1)}}function s6(e){return function(d,h){return new sX(e,d,h)}}function s3(e,d,h){if(E(h,sY)&&h.config)return{fields:h.config.fields,references:h.config.references};let m=d[ef(h.referencedTable)];if(!m)throw Error(`Table "${h.referencedTable[eh.Symbol.Name]}" not found in schema`);let g=e[m];if(!g)throw Error(`Table "${m}" not found in schema`);let y=h.sourceTable,b=d[ef(y)];if(!b)throw Error(`Table "${y[eh.Symbol.Name]}" not found in schema`);let v=[];for(let e of Object.values(g.relations))(h.relationName&&h!==e&&e.relationName===h.relationName||!h.relationName&&e.referencedTable===h.sourceTable)&&v.push(e);if(v.length>1)throw h.relationName?Error(`There are multiple relations with name "${h.relationName}" in table "${m}"`):Error(`There are multiple relations between "${m}" and "${h.sourceTable[eh.Symbol.Name]}". Please specify relation name`);if(v[0]&&E(v[0],sY)&&v[0].config)return{fields:v[0].config.references,references:v[0].config.fields};throw Error(`There is not enough information to infer relation "${b}.${h.fieldName}"`)}function s5(e){return{one:s4(e),many:s6(e)}}function s8(e,d,h,m,g=e=>e){let y={};for(let[b,v]of m.entries())if(v.isJson){let m=d.relations[v.tsKey],w=h[b],S="string"==typeof w?JSON.parse(w):w;y[v.tsKey]=E(m,sY)?S&&s8(e,e[v.relationTableTsKey],S,v.selection,g):S.map(d=>s8(e,e[v.relationTableTsKey],d,v.selection,g))}else{let e,d=g(h[b]),m=v.field;e=E(m,k)?m:E(m,ew)?m.decoder:m.sql.decoder,y[v.tsKey]=null===d?null:e.mapFromDriverValue(d)}return y}let s9=({adapter:e})=>{for(let d in e.rawRelations){let h=e.rawRelations[d];e.relations[`relations_${d}`]=s2(e.tables[d],({many:d,one:m})=>{let g={};for(let y in h){let b=h[y];"one"===b.type?g[y]=m(e.tables[b.to],{fields:b.fields.map(d=>e.tables[d.table][d.name]),references:b.references.map(d=>e.tables[b.to][d]),relationName:b.relationName}):g[y]=d(e.tables[b.to],{relationName:b.relationName})}return g})}},{Symbol:s7}=eh,oe=({columns:e,extraConfig:d,table:h})=>{let m=Object.getOwnPropertySymbols(h).find(e=>e.description?.includes("InlineForeignKeys"));if(!m)throw new e0.L("Error when finding InlineForeignKeys Symbol",500);if(e)for(let[d,g]of Object.entries(e)){let e=g.build(h);h[d]=e,h[m].push(...g.buildForeignKeys(e,h)),h[s7.Columns][d]=e,h[s7.ExtraConfigColumns][d]="buildExtraConfigColumn"in g?g.buildExtraConfigColumn(h):e}if(d){let e=h[s7.ExtraConfigBuilder];h[s7.ExtraConfigBuilder]=h=>({...e(h),...d(h)})}},ot=async({type:e,adapter:d})=>{for(let h of d[e]){let e=await h({adapter:d,extendTable:oe,schema:{enums:d.enums,relations:d.relations,tables:d.tables}});e.enums&&(d.enums=e.enums),d.tables=e.tables,d.relations=e.relations}};class oi{constructor(e,d){this.unique=e,this.name=d}static [_]="PgIndexBuilderOn";on(...e){return new or(e.map(e=>{if(E(e,ew))return e;let d=new H(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),d}),this.unique,!1,this.name)}onOnly(...e){return new or(e.map(e=>{if(E(e,ew))return e;let d=new H(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,d}),this.unique,!0,this.name)}using(e,...d){return new or(d.map(e=>{if(E(e,ew))return e;let d=new H(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),d}),this.unique,!0,this.name,e)}}class or{static [_]="PgIndexBuilder";config;constructor(e,d,h,m,g="btree"){this.config={name:m,columns:e,unique:d,only:h,method:g}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new oa(this.config,e)}}class oa{static [_]="PgIndex";config;constructor(e,d){this.config={...e,table:d}}}function on(e){return new oi(!1,e)}function os(e){return new oi(!0,e)}let oo={boolean:ns,geometry:e=>nf({dataType:()=>"geometry(Point)",fromDriver:e=>n8(e),toDriver:e=>`SRID=4326;point(${e[0]} ${e[1]})`})(e),integer:nN,jsonb:nj,numeric:nZ,serial:sl,text:sy,uuid:tk,varchar:sA},ol=({adapter:e,rawTable:d})=>{let h={};for(let[m,g]of Object.entries(d.columns)){switch(g.type){case"enum":"locale"in g?h[m]=e.enums.enum__locales(g.name):(e.enums[g.enumName]=e.pgSchema.enum(g.enumName,g.options),h[m]=e.enums[g.enumName](g.name));break;case"timestamp":{let e=sT(g.name,{mode:g.mode,precision:g.precision,withTimezone:g.withTimezone});g.defaultNow&&(e=e.defaultNow()),h[m]=e;break}case"uuid":{let e=tk(g.name);g.defaultRandom&&(e=e.defaultRandom()),h[m]=e;break}case"vector":{let e=sU(g.name,{dimensions:g.dimensions});h[m]=e;break}default:h[m]=oo[g.type](g.name)}if(g.reference&&h[m].references(()=>e.tables[g.reference.table][g.reference.name],{onDelete:g.reference.onDelete}),g.primaryKey&&h[m].primaryKey(),g.notNull&&h[m].notNull(),void 0!==g.default){let e=g.default;"geometry"===g.type&&Array.isArray(g.default)&&(e=`SRID=4326;POINT(${g.default[0]} ${g.default[1]})`),h[m].default(e)}"geometry"!==g.type||e.extensions.postgis||(e.extensions.postgis=!0)}let m=h=>{let m={};if(d.indexes)for(let[e,g]of Object.entries(d.indexes)){let d=on;g.unique&&(d=os),Array.isArray(g.on)?g.on.length&&(m[e]=d(g.name).on(...g.on.map(e=>h[e]))):m[e]=d(g.name).on(h[g.on])}if(d.foreignKeys)for(let[g,y]of Object.entries(d.foreignKeys)){let d=I({name:y.name,columns:y.columns.map(e=>h[e]),foreignColumns:y.foreignColumns.map(d=>e.tables[d.table][d.name])});y.onDelete&&(d=d.onDelete(y.onDelete)),y.onUpdate&&(d=d.onDelete(y.onUpdate)),m[g]=d}return m};e.tables[d.name]=e.pgSchema.table(d.name,h,m)},od=({adapter:e,columns:d,fields:h})=>{let m=h.find(e=>"id"===e.name);if(m){if("number"===m.type)return d.id={name:"id",type:"numeric",primaryKey:!0},"numeric";if("text"===m.type)return d.id={name:"id",type:"varchar",primaryKey:!0},"varchar"}return"uuid"===e.idType?(d.id={name:"id",type:"uuid",defaultRandom:!0,primaryKey:!0},"uuid"):(d.id={name:"id",type:"serial",primaryKey:!0},"integer")},oc=async function(){for(let e in this.rawRelations={},this.rawTables={},i7({adapter:this,setColumnID:od}),await ot({type:"beforeSchemaInit",adapter:this}),this.payload.config.localization&&(this.enums.enum__locales=this.pgSchema.enum("_locales",this.payload.config.localization.locales.map(({code:e})=>e))),this.rawTables)ol({adapter:this,rawTable:this.rawTables[e]});s9({adapter:this}),await ot({type:"afterSchemaInit",adapter:this}),this.schema={pgSchema:this.pgSchema,...this.tables,...this.relations,...this.enums}},op=async function({db:e,onConflictDoUpdate:d,tableName:h,values:m}){let g,y=this.tables[h];return d?await e.insert(y).values(m).onConflictDoUpdate(d).returning():await e.insert(y).values(m).returning()},ou=(0,h(8086).createRequire)("file:///Users/himanshu/Desktop/Payload%20Cloudflare/pg/node_modules/.pnpm/@payloadcms+drizzle@3.40.0_@types+pg@8.10.2_@types+react@19.1.0_payload@3.40.0_graphql@16.11._prlno26vx5o3xw4tgdgcoj5qwa/node_modules/@payloadcms/drizzle/dist/postgres/requireDrizzleKit.js"),oh=()=>{let{generateDrizzleJson:e,generateMigration:d,pushSchema:h,upPgSnapshot:m}=ou("drizzle-kit/api");return{generateDrizzleJson:e,generateMigration:d,pushSchema:h,upSnapshot:m}};class om{constructor(e,d,h){this.seqName=e,this.seqOptions=d,this.schema=h}static [_]="PgSequence"}function of(e,d,h){return new om(e,d,h)}class og{static [_]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,d){if("_"===d)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(d===ea)return{...e[ea],selectedFields:new Proxy(e[ea].selectedFields,this)};if("symbol"==typeof d)return e[d];let h=(E(e,ee)?e._.selectedFields:E(e,eP)?e[ea].selectedFields:e)[d];if(E(h,ew.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!h.isSelectionField)return h.sql;let e=h.clone();return e.isSelectionField=!0,e}if(E(h,ew)){if("sql"===this.config.sqlBehavior)return h;throw Error(`You tried to reference "${d}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return E(h,k)?this.config.alias?new Proxy(h,new tr(new Proxy(h.table,new ta(this.config.alias,this.config.replaceOriginalName??!1)))):h:"object"!=typeof h||null===h?h:new Proxy(h,new og(this.config))}}function oy(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function ob(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,d,h)=>e+(0===h?d.toLowerCase():`${d[0].toUpperCase()}${d.slice(1)}`),"")}function ov(e){return e}class ow{static [_]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?oy:"camelCase"===e?ob:ov}getColumnCasing(e){if(!e.keyAsName)return e.name;let d=e.table[eh.Symbol.Schema]??"public",h=e.table[eh.Symbol.OriginalName],m=`${d}.${h}.${e.name}`;return this.cache[m]||this.cacheTable(e.table),this.cache[m]}cacheTable(e){let d=e[eh.Symbol.Schema]??"public",h=e[eh.Symbol.OriginalName],m=`${d}.${h}`;if(!this.cachedTables[m]){for(let d of Object.values(e[eh.Symbol.Columns])){let e=`${m}.${d.name}`;this.cache[e]=this.convert(d.name)}this.cachedTables[m]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class oS extends Error{static [_]="DrizzleError";constructor({message:e,cause:d}){super(e),this.name="DrizzleError",this.cause=d}}class ox extends oS{static [_]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class o_ extends eP{static [_]="PgViewBase"}class oE{static [_]="PgDialect";casing;constructor(e){this.casing=new ow(e?.casing)}async migrate(e,d,h){let m="string"==typeof h?"__drizzle_migrations":h.migrationsTable??"__drizzle_migrations",g="string"==typeof h?"drizzle":h.migrationsSchema??"drizzle",y=ek`
			CREATE TABLE IF NOT EXISTS ${ek.identifier(g)}.${ek.identifier(m)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await d.execute(ek`CREATE SCHEMA IF NOT EXISTS ${ek.identifier(g)}`),await d.execute(y);let b=(await d.all(ek`select id, hash, created_at from ${ek.identifier(g)}.${ek.identifier(m)} order by created_at desc limit 1`))[0];await d.transaction(async d=>{for await(let h of e)if(!b||Number(b.created_at)<h.folderMillis){for(let e of h.sql)await d.execute(ek.raw(e));await d.execute(ek`insert into ${ek.identifier(g)}.${ek.identifier(m)} ("hash", "created_at") values(${h.hash}, ${h.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let d=[ek`with `];for(let[h,m]of e.entries())d.push(ek`${ek.identifier(m._.alias)} as (${m._.sql})`),h<e.length-1&&d.push(ek`, `);return d.push(ek` `),ek.join(d)}buildDeleteQuery({table:e,where:d,returning:h,withList:m}){let g=this.buildWithCTE(m),y=h?ek` returning ${this.buildSelection(h,{isSingleTable:!0})}`:void 0,b=d?ek` where ${d}`:void 0;return ek`${g}delete from ${e}${b}${y}`}buildUpdateSet(e,d){let h=e[eh.Symbol.Columns],m=Object.keys(h).filter(e=>void 0!==d[e]||h[e]?.onUpdateFn!==void 0),g=m.length;return ek.join(m.flatMap((e,m)=>{let y=h[e],b=d[e]??ek.param(y.onUpdateFn(),y),v=ek`${ek.identifier(this.casing.getColumnCasing(y))} = ${b}`;return m<g-1?[v,ek.raw(", ")]:[v]}))}buildUpdateQuery({table:e,set:d,where:h,returning:m,withList:g}){let y=this.buildWithCTE(g),b=this.buildUpdateSet(e,d),v=m?ek` returning ${this.buildSelection(m,{isSingleTable:!0})}`:void 0,w=h?ek` where ${h}`:void 0;return ek`${y}update ${e} set ${b}${w}${v}`}buildSelection(e,{isSingleTable:d=!1}={}){let h=e.length,m=e.flatMap(({field:e},m)=>{let g=[];if(E(e,ew.Aliased)&&e.isSelectionField)g.push(ek.identifier(e.fieldAlias));else if(E(e,ew.Aliased)||E(e,ew)){let h=E(e,ew.Aliased)?e.sql:e;d?g.push(new ew(h.queryChunks.map(e=>E(e,q)?ek.identifier(this.casing.getColumnCasing(e)):e))):g.push(h),E(e,ew.Aliased)&&g.push(ek` as ${ek.identifier(e.fieldAlias)}`)}else E(e,k)&&(d?g.push(ek.identifier(this.casing.getColumnCasing(e))):g.push(e));return m<h-1&&g.push(ek`, `),g});return ek.join(m)}buildSelectQuery({withList:e,fields:d,fieldsFlat:h,where:m,having:g,table:y,joins:b,orderBy:v,groupBy:w,limit:S,offset:x,lockingClause:_,distinct:T,setOperators:C}){let P,O,I,R=h??aJ(d);for(let e of R){let d;if(E(e.field,k)&&em(e.field.table)!==(E(y,ee)?y._.alias:E(y,o_)?y[ea].name:E(y,ew)?void 0:em(y))&&(d=e.field.table,!b?.some(({alias:e})=>e===(d[eh.Symbol.IsAlias]?em(d):d[eh.Symbol.BaseName])))){let d=em(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${d}"."${e.field.name}", but the table "${d}" is not part of the query! Did you forget to join it?`)}}let D=!b||0===b.length,L=this.buildWithCTE(e);T&&(P=!0===T?ek` distinct`:ek` distinct on (${ek.join(T.on,ek`, `)})`);let $=this.buildSelection(R,{isSingleTable:D}),M=(()=>{if(E(y,eh)&&y[eh.Symbol.OriginalName]!==y[eh.Symbol.Name]){let e=ek`${ek.identifier(y[eh.Symbol.OriginalName])}`;return y[eh.Symbol.Schema]&&(e=ek`${ek.identifier(y[eh.Symbol.Schema])}.${e}`),ek`${e} ${ek.identifier(y[eh.Symbol.Name])}`}return y})(),B=[];if(b)for(let[e,d]of b.entries()){0===e&&B.push(ek` `);let h=d.table,m=d.lateral?ek` lateral`:void 0;if(E(h,sV)){let e=h[sV.Symbol.Name],g=h[sV.Symbol.Schema],y=h[sV.Symbol.OriginalName],b=e===y?void 0:d.alias;B.push(ek`${ek.raw(d.joinType)} join${m} ${g?ek`${ek.identifier(g)}.`:void 0}${ek.identifier(y)}${b&&ek` ${ek.identifier(b)}`} on ${d.on}`)}else if(E(h,eP)){let e=h[ea].name,g=h[ea].schema,y=h[ea].originalName,b=e===y?void 0:d.alias;B.push(ek`${ek.raw(d.joinType)} join${m} ${g?ek`${ek.identifier(g)}.`:void 0}${ek.identifier(y)}${b&&ek` ${ek.identifier(b)}`} on ${d.on}`)}else B.push(ek`${ek.raw(d.joinType)} join${m} ${h} on ${d.on}`);e<b.length-1&&B.push(ek` `)}let j=ek.join(B),U=m?ek` where ${m}`:void 0,F=g?ek` having ${g}`:void 0;v&&v.length>0&&(O=ek` order by ${ek.join(v,ek`, `)}`),w&&w.length>0&&(I=ek` group by ${ek.join(w,ek`, `)}`);let z="object"==typeof S||"number"==typeof S&&S>=0?ek` limit ${S}`:void 0,q=x?ek` offset ${x}`:void 0,V=ek.empty();if(_){let e=ek` for ${ek.raw(_.strength)}`;_.config.of&&e.append(ek` of ${ek.join(Array.isArray(_.config.of)?_.config.of:[_.config.of],ek`, `)}`),_.config.noWait?e.append(ek` no wait`):_.config.skipLocked&&e.append(ek` skip locked`),V.append(e)}let H=ek`${L}select${P} ${$} from ${M}${j}${U}${I}${F}${O}${z}${q}${V}`;return C.length>0?this.buildSetOperations(H,C):H}buildSetOperations(e,d){let[h,...m]=d;if(!h)throw Error("Cannot pass undefined values to any set operator");return 0===m.length?this.buildSetOperationQuery({leftSelect:e,setOperator:h}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:h}),m)}buildSetOperationQuery({leftSelect:e,setOperator:{type:d,isAll:h,rightSelect:m,limit:g,orderBy:y,offset:b}}){let v,w=ek`(${e.getSQL()}) `,S=ek`(${m.getSQL()})`;if(y&&y.length>0){let e=[];for(let d of y)if(E(d,q))e.push(ek.identifier(d.name));else if(E(d,ew)){for(let e=0;e<d.queryChunks.length;e++){let h=d.queryChunks[e];E(h,q)&&(d.queryChunks[e]=ek.identifier(h.name))}e.push(ek`${d}`)}else e.push(ek`${d}`);v=ek` order by ${ek.join(e,ek`, `)} `}let x="object"==typeof g||"number"==typeof g&&g>=0?ek` limit ${g}`:void 0,_=ek.raw(`${d} ${h?"all ":""}`),T=b?ek` offset ${b}`:void 0;return ek`${w}${_}${S}${v}${x}${T}`}buildInsertQuery({table:e,values:d,onConflict:h,returning:m,withList:g}){let y=[],b=Object.entries(e[eh.Symbol.Columns]).filter(([e,d])=>!d.shouldDisableInsert()),v=b.map(([,e])=>ek.identifier(this.casing.getColumnCasing(e)));for(let[e,h]of d.entries()){let m=[];for(let[e,d]of b){let g=h[e];if(void 0===g||E(g,eT)&&void 0===g.value)if(void 0!==d.defaultFn){let e=d.defaultFn(),h=E(e,ew)?e:ek.param(e,d);m.push(h)}else if(d.default||void 0===d.onUpdateFn)m.push(ek`default`);else{let e=d.onUpdateFn(),h=E(e,ew)?e:ek.param(e,d);m.push(h)}else m.push(g)}y.push(m),e<d.length-1&&y.push(ek`, `)}let w=this.buildWithCTE(g),S=ek.join(y),x=m?ek` returning ${this.buildSelection(m,{isSingleTable:!0})}`:void 0,_=h?ek` on conflict ${h}`:void 0;return ek`${w}insert into ${e} ${v} values ${S}${_}${x}`}buildRefreshMaterializedViewQuery({view:e,concurrently:d,withNoData:h}){let m=d?ek` concurrently`:void 0,g=h?ek` with no data`:void 0;return ek`refresh materialized view${m} ${e}${g}`}prepareTyping(e){if(E(e,nB)||E(e,nL))return"json";if(E(e,nX))return"decimal";if(E(e,sv))return"time";if(E(e,sx)||E(e,sE))return"timestamp";if(E(e,nb)||E(e,nw))return"date";else if(E(e,tT))return"uuid";else return"none"}sqlToQuery(e,d){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:d})}buildRelationalQueryWithoutPK({fullSchema:e,schema:d,tableNamesMap:h,table:m,tableConfig:g,queryConfig:y,tableAlias:b,nestedQueryRelation:v,joinOn:w}){let S,x=[],_,T,C=[],P,O=[];if(!0===y)x=Object.entries(g.columns).map(([e,d])=>({dbKey:d.name,tsKey:e,field:to(d,b),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let m=Object.fromEntries(Object.entries(g.columns).map(([e,d])=>[e,to(d,b)]));if(y.where){let e="function"==typeof y.where?y.where(m,sZ()):y.where;P=e&&td(e,b)}let v=[],w=[];if(y.columns){let e=!1;for(let[d,h]of Object.entries(y.columns))void 0!==h&&d in g.columns&&(e||!0!==h||(e=!0),w.push(d));w.length>0&&(w=e?w.filter(e=>y.columns?.[e]===!0):Object.keys(g.columns).filter(e=>!w.includes(e)))}else w=Object.keys(g.columns);for(let e of w){let d=g.columns[e];v.push({tsKey:e,value:d})}let S=[];if(y.with&&(S=Object.entries(y.with).filter(e=>!!e[1]).map(([e,d])=>({tsKey:e,queryConfig:d,relation:g.relations[e]}))),y.extras)for(let[e,d]of Object.entries("function"==typeof y.extras?y.extras(m,{sql:ek}):y.extras))v.push({tsKey:e,value:tl(d,b)});for(let{tsKey:e,value:d}of v)x.push({dbKey:E(d,ew.Aliased)?d.fieldAlias:g.columns[e].name,tsKey:e,field:E(d,k)?to(d,b):d,relationTableTsKey:void 0,isJson:!1,selection:[]});let I="function"==typeof y.orderBy?y.orderBy(m,s1()):y.orderBy??[];for(let{tsKey:m,queryConfig:g,relation:v}of(Array.isArray(I)||(I=[I]),C=I.map(e=>E(e,k)?to(e,b):td(e,b)),_=y.limit,T=y.offset,S)){let y=s3(d,h,v),w=h[ef(v.referencedTable)],S=`${b}_${m}`,_=e$(...y.fields.map((e,d)=>eD(to(y.references[d],S),to(e,b)))),T=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:d,tableNamesMap:h,table:e[w],tableConfig:d[w],queryConfig:E(v,sY)?!0===g?{limit:1}:{...g,limit:1}:g,tableAlias:S,joinOn:_,nestedQueryRelation:v}),k=ek`${ek.identifier(S)}.${ek.identifier("data")}`.as(m);O.push({on:ek`true`,table:new ee(T.sql,{},S),alias:S,joinType:"left",lateral:!0}),x.push({dbKey:m,tsKey:m,field:k,relationTableTsKey:w,isJson:!0,selection:T.selection})}}if(0===x.length)throw new oS({message:`No fields selected for table "${g.tsName}" ("${b}")`});if(P=e$(w,P),v){let e=ek`json_build_array(${ek.join(x.map(({field:e,tsKey:d,isJson:h})=>h?ek`${ek.identifier(`${b}_${d}`)}.${ek.identifier("data")}`:E(e,ew.Aliased)?e.sql:e),ek`, `)})`;E(v,sX)&&(e=ek`coalesce(json_agg(${e}${C.length>0?ek` order by ${ek.join(C,ek`, `)}`:void 0}), '[]'::json)`);let d=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:g.tsName,selection:x}];void 0!==_||void 0!==T||C.length>0?(S=this.buildSelectQuery({table:ts(m,b),fields:{},fieldsFlat:[{path:[],field:ek.raw("*")}],where:P,limit:_,offset:T,orderBy:C,setOperators:[]}),P=void 0,_=void 0,T=void 0,C=[]):S=ts(m,b),S=this.buildSelectQuery({table:E(S,sV)?S:new ee(S,{},b),fields:{},fieldsFlat:d.map(({field:e})=>({path:[],field:E(e,k)?to(e,b):e})),joins:O,where:P,limit:_,offset:T,orderBy:C,setOperators:[]})}else S=this.buildSelectQuery({table:ts(m,b),fields:{},fieldsFlat:x.map(({field:e})=>({path:[],field:E(e,k)?to(e,b):e})),joins:O,where:P,limit:_,offset:T,orderBy:C,setOperators:[]});return{tableTsKey:g.tsName,sql:S,selection:x}}}class oT{static [_]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class ok{static [_]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(d=>(e?.(),d),d=>{throw e?.(),d})}then(e,d){return this.execute().then(e,d)}}class oC{static [_]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}from(e){let d,h=!!this.fields;return d=this.fields?this.fields:E(e,ee)?Object.fromEntries(Object.keys(e._.selectedFields).map(d=>[d,e[d]])):E(e,o_)?e[ea].selectedFields:E(e,ew)?{}:aZ(e),new oP({table:e,fields:d,isPartialSelect:h,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct})}}class oA extends oT{static [_]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;constructor({table:e,fields:d,isPartialSelect:h,session:m,dialect:g,withList:y,distinct:b}){super(),this.config={withList:y,table:e,fields:{...d},distinct:b,setOperators:[]},this.isPartialSelect=h,this.session=m,this.dialect=g,this._={selectedFields:d},this.tableName=a1(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}createJoin(e){return(d,h)=>{let m=this.tableName,g=a1(d);if("string"==typeof g&&this.config.joins?.some(e=>e.alias===g))throw Error(`Alias "${g}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof m&&(this.config.fields={[m]:this.config.fields}),"string"==typeof g&&!E(d,ew))){let e=E(d,ee)?d._.selectedFields:E(d,eP)?d[ea].selectedFields:d[eh.Symbol.Columns];this.config.fields[g]=e}if("function"==typeof h&&(h=h(new Proxy(this.config.fields,new og({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:h,table:d,joinType:e,alias:g}),"string"==typeof g)switch(e){case"left":this.joinsNotNullableMap[g]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[g]=!0;break;case"inner":this.joinsNotNullableMap[g]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[g]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");createSetOperator(e,d){return h=>{let m="function"==typeof h?h(oO()):h;if(!aQ(this.getSelectedFields(),m.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:d,rightSelect:m}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new og({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new og({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let d=e[0](new Proxy(this.config.fields,new og({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(d)?d:[d]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let d=e[0](new Proxy(this.config.fields,new og({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),h=Array.isArray(d)?d:[d];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=h:this.config.orderBy=h}else{let d=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=d:this.config.orderBy=d}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,d={}){return this.config.lockingClause={strength:e,config:d},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...d}=this.dialect.sqlToQuery(this.getSQL());return d}as(e){return new Proxy(new ee(this.getSQL(),this.config.fields,e),new og({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new og({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}}class oP extends oA{static [_]="PgSelect";_prepare(e){let{session:d,config:h,dialect:m,joinsNotNullableMap:g}=this;if(!d)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");return er.startActiveSpan("drizzle.prepareQuery",()=>{let y=aJ(h.fields),b=d.prepareQuery(m.sqlToQuery(this.getSQL()),y,e,!0);return b.joinsNotNullableMap=g,b})}prepare(e){return this._prepare(e)}execute=e=>er.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e))}function oN(e,d){return(h,m,...g)=>{let y=[m,...g].map(h=>({type:e,isAll:d,rightSelect:h}));for(let e of y)if(!aQ(h.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return h.addSetOperators(y)}}aX(oP,[ok]);let oO=()=>({union:oI,unionAll:oR,intersect:oD,intersectAll:oL,except:o$,exceptAll:oM}),oI=oN("union",!1),oR=oN("union",!0),oD=oN("intersect",!1),oL=oN("intersect",!0),o$=oN("except",!1),oM=oN("except",!0);class oB{static [_]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=E(e,oE)?e:void 0,this.dialectConfig=E(e,oE)?void 0:e}$with(e){let d=this;return{as:h=>("function"==typeof h&&(h=h(d)),new Proxy(new et(h.getSQL(),h.getSelectedFields(),e,!0),new og({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}}with(...e){let d=this;return{select:function(h){return new oC({fields:h??void 0,session:void 0,dialect:d.getDialect(),withList:e})},selectDistinct:function(e){return new oC({fields:e??void 0,session:void 0,dialect:d.getDialect(),distinct:!0})},selectDistinctOn:function(e,h){return new oC({fields:h??void 0,session:void 0,dialect:d.getDialect(),distinct:{on:e}})}}}select(e){return new oC({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new oC({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,d){return new oC({fields:d??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new oE(this.dialectConfig)),this.dialect}}let oj=Symbol.for("drizzle:PgViewConfig");class oU{constructor(e,d){this.name=e,this.schema=d}static [_]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}}class oF extends oU{static [_]="PgViewBuilder";as(e){"function"==typeof e&&(e=e(new oB));let d=new og({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),h=new Proxy(e.getSelectedFields(),d);return new Proxy(new oK({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:h,query:e.getSQL().inlineParams()}}),d)}}class oz extends oU{static [_]="PgManualViewBuilder";columns;constructor(e,d,h){super(e,h),this.columns=aZ(sK(e,d))}existing(){return new Proxy(new oK({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new og({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new oK({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new og({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class oq{constructor(e,d){this.name=e,this.schema=d}static [_]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}}class oV extends oq{static [_]="PgMaterializedViewBuilder";as(e){"function"==typeof e&&(e=e(new oB));let d=new og({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),h=new Proxy(e.getSelectedFields(),d);return new Proxy(new oW({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:h,query:e.getSQL().inlineParams()}}),d)}}class oH extends oq{static [_]="PgManualMaterializedViewBuilder";columns;constructor(e,d,h){super(e,h),this.columns=aZ(sK(e,d))}existing(){return new Proxy(new oW({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new og({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new oW({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new og({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class oK extends o_{static [_]="PgView";[oj];constructor({pgConfig:e,config:d}){super(d),e&&(this[oj]={with:e.with})}}let oG=Symbol.for("drizzle:PgMaterializedViewConfig");class oW extends o_{static [_]="PgMaterializedView";[oG];constructor({pgConfig:e,config:d}){super(d),this[oG]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}function oJ(e,d,h){return d?new oz(e,d,h):new oF(e,h)}function oQ(e,d,h){return d?new oH(e,d,h):new oV(e,h)}class oY{constructor(e){this.schemaName=e}static [_]="PgSchema";table=(e,d,h)=>sH(e,d,h,this.schemaName);view=(e,d)=>oJ(e,d,this.schemaName);materializedView=(e,d)=>oQ(e,d,this.schemaName);enum=(e,d)=>Z(e,d,this.schemaName);sequence=(e,d)=>of(e,d,this.schemaName);getSQL(){return new ew([ek.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}function oX(e){if("public"===e)throw Error("You can't specify 'public' as schema name. Postgres is using public schema by default. If you want to use 'public' schema, just use pgTable() instead of creating a schema");return new oY(e)}var oZ=h(49495);let o1=async function({id:e,data:d,limit:h,req:m,returning:g,where:y}){let b=[],v=(e?[await this.findOne({collection:oZ.SJ,req:m,where:{id:{equals:e}}})]:(await this.find({collection:oZ.SJ,limit:h,pagination:!1,req:m,where:y})).docs).filter(Boolean);if(!v)return null;for(let e of v){let h={...e,...d},y=await this.updateOne({id:e.id,collection:oZ.SJ,data:h,req:m,returning:g});b.push(y)}return b},o0=`
import {
  MigrateUpArgs,
  MigrateDownArgs,
} from "@payloadcms/db-mongodb";

export async function up({ payload, req }: MigrateUpArgs): Promise<void> {
  // Migration code
};

export async function down({ payload, req }: MigrateDownArgs): Promise<void> {
  // Migration code
};
`,o2=function({migrationName:e,payload:d}){let h=d.db.migrationDir;iI.existsSync(h)||iI.mkdirSync(h);let[m,g]=new Date().toISOString().split("T"),y=m.replace(/\D/g,""),b=g.split(".")[0].replace(/\D/g,""),v=`${y}_${b}`,w=e.replace(/\W/g,"_"),S=`${v}_${w}.ts`,x=`${h}/${S}`;iI.writeFileSync(x,o0),aT({migrationsDir:d.db.migrationDir}),d.logger.info({msg:`Migration created at ${x}`})},o4=async function(e){let{payload:d}=this,h=e?.migrations||await (0,iM.I)({payload:d}),{existingMigrations:m,latestBatch:g}=await iG({payload:d}),y=g+1;for(let e of h){if(m.find(d=>d.name===e.name))continue;let h=Date.now(),g=await (0,iB.M)({},d);d.logger.info({msg:`Migrating: ${e.name}`});try{await (0,ij.n)(g);let m=d.db.sessions?.[await g.transactionID];await e.up({payload:d,req:g,session:m}),d.logger.info({msg:`Migrated:  ${e.name} (${Date.now()-h}ms)`}),await d.create({collection:"payload-migrations",data:{name:e.name,batch:y},req:g}),await (0,iU.w)(g)}catch(h){throw await (0,iF.J)(g),d.logger.error({err:h,msg:`Error running migration ${e.name}`}),h}}};async function o6(){let{payload:e}=this,d=await (0,iM.I)({payload:e}),{existingMigrations:h,latestBatch:m}=await iG({payload:e});if(!h?.length)return void e.logger.info({msg:"No migrations to rollback."});for(let g of(e.logger.info({msg:`Rolling back batch ${m} consisting of ${h.length} migration(s).`}),h.filter(({batch:e})=>e===m))){let h=d.find(e=>e.name===g.name);if(!h)throw Error(`Migration ${g.name} not found locally.`);let m=Date.now(),y=await (0,iB.M)({},e);try{e.logger.info({msg:`Migrating down: ${h.name}`}),await (0,ij.n)(y);let d=e.db.sessions?.[await y.transactionID];await h.down({payload:e,req:y,session:d}),e.logger.info({msg:`Migrated down:  ${h.name} (${Date.now()-m}ms)`}),await e.delete({id:g.id,collection:"payload-migrations",req:y}),await (0,iU.w)(y)}catch(d){await (0,iF.J)(y),e.logger.error({err:d,msg:`Error running migration ${h.name}`}),process.exit(1)}}}async function o3(){let{payload:e}=this,d=await (0,iM.I)({payload:e}),{existingMigrations:h}=await iG({payload:e}),m=await (0,iB.M)({},e);if(h?.length)for(let g of(e.logger.info({msg:`Rolling back all ${h.length} migration(s).`}),h.reverse(),h))try{let h=d.find(e=>e.name===g.name);if(!h)throw Error(`Migration ${g.name} not found locally.`);e.logger.info({msg:`Migrating down: ${g.name}`});let y=Date.now();await (0,ij.n)(m);let b=e.db.sessions?.[await m.transactionID];await h.down({payload:e,req:m,session:b}),e.logger.info({msg:`Migrated down:  ${g.name} (${Date.now()-y}ms)`}),await e.delete({collection:"payload-migrations",req:m,where:{name:{equals:g.name}}})}catch(h){await (0,iF.J)(m);let d=`Error running migration ${g.name}. Rolling back.`;h instanceof Error&&(d+=` ${h.message}`),e.logger.error({err:h,msg:d}),process.exit(1)}else e.logger.info({msg:"No migrations to rollback."});for(let h of d){e.logger.info({msg:`Migrating: ${h.name}`});try{let d=Date.now();await (0,ij.n)(m),await h.up({payload:e,req:m}),await e.create({collection:"payload-migrations",data:{name:h.name,executed:!0},req:m}),await (0,iU.w)(m),e.logger.info({msg:`Migrated:  ${h.name} (${Date.now()-d}ms)`})}catch(g){await (0,iF.J)(m);let d=`Error running migration ${h.name}. Rolling back.`;g instanceof Error&&(d+=` ${g.message}`),e.logger.error({err:g,msg:d}),process.exit(1)}}}async function o5(){let{payload:e}=this,d=await (0,iM.I)({payload:e}),{existingMigrations:h}=await iG({payload:e});if(!h?.length)return void e.logger.info({msg:"No migrations to reset."});let m=await (0,iB.M)({},e);for(let g of(d.reverse(),d)){let d=h.find(e=>e.name===g.name);if(d){e.logger.info({msg:`Migrating down: ${g.name}`});try{let h=Date.now();await (0,ij.n)(m);let y=e.db.sessions?.[await m.transactionID];await g.down({payload:e,req:m,session:y}),await e.delete({collection:"payload-migrations",req:m,where:{id:{equals:d.id}}}),await (0,iU.w)(m),e.logger.info({msg:`Migrated down:  ${g.name} (${Date.now()-h}ms)`})}catch(d){throw await (0,iF.J)(m),e.logger.error({err:d,msg:`Error running migration ${g.name}`}),d}}}try{await e.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(d){e.logger.error({err:d,msg:"Error deleting dev migration"})}}async function o8(){let{payload:e}=this,d=await (0,iM.I)({payload:e});e.logger.debug({msg:`Found ${d.length} migration files.`});let{existingMigrations:h}=await iG({payload:e});if(!d.length)return void e.logger.info({msg:"No migrations found."});let m=d.map(e=>{let d=h.find(d=>d.name===e.name);return{Name:e.name,Batch:d?.batch,Ran:d?"Yes":"No"}}),g=new iX.Table;m.forEach(e=>{g.addRow(e,{color:"Yes"===e.Ran?"green":"red"})}),g.printTable()}let o9=()=>Promise.resolve(null),o7=()=>Promise.resolve(null),le=()=>Promise.resolve(null);function lt(e){return{beginTransaction:o9,commitTransaction:le,createMigration:o2,migrate:o4,migrateDown:o6,migrateFresh:()=>Promise.resolve(null),migrateRefresh:o3,migrateReset:o5,migrateStatus:o8,rollbackTransaction:o7,updateJobs:o1,...e,migrationDir:e.migrationDir||"migrations"}}function li(){let e=Promise.resolve(null);return()=>e}var lr=h(22772),la=h(79551);class ln{static [_]="ConsoleLogWriter";write(e){console.log(e)}}class ls{static [_]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new ln}logQuery(e,d){let h=d.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),m=h.length?` -- params: [${h.join(", ")}]`:"";this.writer.write(`Query: ${e}${m}`)}}class lo{static [_]="NoopLogger";logQuery(){}}class ll{constructor(e,d,h,m){this.table=e,this.session=d,this.dialect=h,this.withList=m}static [_]="PgUpdateBuilder";set(e){return new ld(this.table,aY(this.table,e),this.session,this.dialect,this.withList)}}class ld extends ok{constructor(e,d,h,m,g){super(),this.session=h,this.dialect=m,this.config={set:d,table:e,withList:g}}static [_]="PgUpdate";config;where(e){return this.config.where=e,this}returning(e=this.config.table[eh.Symbol.Columns]){return this.config.returning=aJ(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...d}=this.dialect.sqlToQuery(this.getSQL());return d}_prepare(e){return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0)}prepare(e){return this._prepare(e)}execute=e=>this._prepare().execute(e);$dynamic(){return this}}class lc{constructor(e,d,h,m){this.table=e,this.session=d,this.dialect=h,this.withList=m}static [_]="PgInsertBuilder";values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let d=e.map(e=>{let d={},h=this.table[eh.Symbol.Columns];for(let m of Object.keys(e)){let g=e[m];d[m]=E(g,ew)?g:new eT(g,h[m])}return d});return new lp(this.table,d,this.session,this.dialect,this.withList)}}class lp extends ok{constructor(e,d,h,m,g){super(),this.session=h,this.dialect=m,this.config={table:e,values:d,withList:g}}static [_]="PgInsert";config;returning(e=this.config.table[eh.Symbol.Columns]){return this.config.returning=aJ(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=ek`do nothing`;else{let d="";d=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let h=e.where?ek` where ${e.where}`:void 0;this.config.onConflict=ek`(${ek.raw(d)})${h} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let d=e.where?ek` where ${e.where}`:void 0,h=e.targetWhere?ek` where ${e.targetWhere}`:void 0,m=e.setWhere?ek` where ${e.setWhere}`:void 0,g=this.dialect.buildUpdateSet(this.config.table,aY(this.config.table,e.set)),y="";return y=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=ek`(${ek.raw(y)})${h} do update set ${g}${d}${m}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...d}=this.dialect.sqlToQuery(this.getSQL());return d}_prepare(e){return er.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}execute=e=>er.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e));$dynamic(){return this}}class lu extends ok{constructor(e,d,h,m){super(),this.session=d,this.dialect=h,this.config={table:e,withList:m}}static [_]="PgDelete";config;where(e){return this.config.where=e,this}returning(e=this.config.table[eh.Symbol.Columns]){return this.config.returning=aJ(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...d}=this.dialect.sqlToQuery(this.getSQL());return d}_prepare(e){return er.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0))}prepare(e){return this._prepare(e)}execute=e=>er.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e));$dynamic(){return this}}class lh extends ew{constructor(e){super(lh.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=lh.buildCount(e.source,e.filters)}sql;static [_]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,d){return ek`(select count(*) from ${e}${ek.raw(" where ").if(d)}${d})`}static buildCount(e,d){return ek`select count(*) as count from ${e}${ek.raw(" where ").if(d)}${d};`}then(e,d){return Promise.resolve(this.session.count(this.sql)).then(e,d)}catch(e){return this.then(void 0,e)}finally(e){return this.then(d=>(e?.(),d),d=>{throw e?.(),d})}}class lm{constructor(e,d,h,m,g,y,b){this.fullSchema=e,this.schema=d,this.tableNamesMap=h,this.table=m,this.tableConfig=g,this.dialect=y,this.session=b}static [_]="PgRelationalQueryBuilder";findMany(e){return new lf(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new lf(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class lf extends ok{constructor(e,d,h,m,g,y,b,v,w){super(),this.fullSchema=e,this.schema=d,this.tableNamesMap=h,this.table=m,this.tableConfig=g,this.dialect=y,this.session=b,this.config=v,this.mode=w}static [_]="PgRelationalQuery";_prepare(e){return er.startActiveSpan("drizzle.prepareQuery",()=>{let{query:d,builtQuery:h}=this._toSQL();return this.session.prepareQuery(h,void 0,e,!0,(e,h)=>{let m=e.map(e=>s8(this.schema,this.tableConfig,e,d.selection,h));return"first"===this.mode?m[0]:m})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),d=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:d}}toSQL(){return this._toSQL().builtQuery}execute(){return er.startActiveSpan("drizzle.operation",()=>this._prepare().execute())}}class lg extends ok{constructor(e,d,h,m){super(),this.execute=e,this.sql=d,this.query=h,this.mapBatchResult=m}static [_]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,d){return d?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class ly extends ok{constructor(e,d,h){super(),this.session=d,this.dialect=h,this.config={view:e}}static [_]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...d}=this.dialect.sqlToQuery(this.getSQL());return d}_prepare(e){return er.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}execute=e=>er.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e))}class lb{constructor(e,d,h){if(this.dialect=e,this.session=d,this._=h?{schema:h.schema,fullSchema:h.fullSchema,tableNamesMap:h.tableNamesMap,session:d}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:d},this.query={},this._.schema)for(let[m,g]of Object.entries(this._.schema))this.query[m]=new lm(h.fullSchema,this._.schema,this._.tableNamesMap,h.fullSchema[m],g,e,d)}static [_]="PgDatabase";query;$with(e){let d=this;return{as:h=>("function"==typeof h&&(h=h(new oB(d.dialect))),new Proxy(new et(h.getSQL(),h.getSelectedFields(),e,!0),new og({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}}$count(e,d){return new lh({source:e,filters:d,session:this.session})}with(...e){let d=this;return{select:function(h){return new oC({fields:h??void 0,session:d.session,dialect:d.dialect,withList:e})},selectDistinct:function(h){return new oC({fields:h??void 0,session:d.session,dialect:d.dialect,withList:e,distinct:!0})},selectDistinctOn:function(h,m){return new oC({fields:m??void 0,session:d.session,dialect:d.dialect,withList:e,distinct:{on:h}})},update:function(h){return new ll(h,d.session,d.dialect,e)},insert:function(h){return new lc(h,d.session,d.dialect,e)},delete:function(h){return new lu(h,d.session,d.dialect,e)}}}select(e){return new oC({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new oC({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,d){return new oC({fields:d??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new ll(e,this.session,this.dialect)}insert(e){return new lc(e,this.session,this.dialect)}delete(e){return new lu(e,this.session,this.dialect)}refreshMaterializedView(e){return new ly(e,this.session,this.dialect)}execute(e){let d="string"==typeof e?ek.raw(e):e.getSQL(),h=this.dialect.sqlToQuery(d),m=this.session.prepareQuery(h,void 0,void 0,!1);return new lg(()=>m.execute(),d,h,e=>m.mapResult(e,!0))}transaction(e,d){return this.session.transaction(e,d)}}class lv{constructor(e){this.query=e}getQuery(){return this.query}mapResult(e,d){return e}static [_]="PgPreparedQuery";joinsNotNullableMap}class lw{constructor(e){this.dialect=e}static [_]="PgSession";execute(e){return er.startActiveSpan("drizzle.operation",()=>er.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).execute())}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e){return Number((await this.execute(e))[0].count)}}class lS extends lb{constructor(e,d,h,m=0){super(e,d,h),this.schema=h,this.nestedIndex=m}static [_]="PgTransaction";rollback(){throw new ox}getTransactionConfigSQL(e){let d=[];return e.isolationLevel&&d.push(`isolation level ${e.isolationLevel}`),e.accessMode&&d.push(e.accessMode),"boolean"==typeof e.deferrable&&d.push(e.deferrable?"deferrable":"not deferrable"),ek.raw(d.join(" "))}setTransaction(e){return this.session.execute(ek`set transaction ${this.getTransactionConfigSQL(e)}`)}}let{Pool:lx,types:l_}=lr;class lE extends lv{constructor(e,d,h,m,g,y,b,v){super({sql:d,params:h}),this.client=e,this.params=h,this.logger=m,this.fields=g,this._isResponseInArrayMode=b,this.customResultMapper=v,this.rawQueryConfig={name:y,text:d,types:{getTypeParser:(e,d)=>e===l_.builtins.TIMESTAMPTZ||e===l_.builtins.TIMESTAMP||e===l_.builtins.DATE||e===l_.builtins.INTERVAL?e=>e:l_.getTypeParser(e,d)}},this.queryConfig={name:y,text:d,rowMode:"array",types:{getTypeParser:(e,d)=>e===l_.builtins.TIMESTAMPTZ||e===l_.builtins.TIMESTAMP||e===l_.builtins.DATE||e===l_.builtins.INTERVAL?e=>e:l_.getTypeParser(e,d)}}}static [_]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return er.startActiveSpan("drizzle.execute",async()=>{let d=eA(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,d);let{fields:h,rawQueryConfig:m,client:g,queryConfig:y,joinsNotNullableMap:b,customResultMapper:v}=this;if(!h&&!v)return er.startActiveSpan("drizzle.driver.execute",async e=>(e?.setAttributes({"drizzle.query.name":m.name,"drizzle.query.text":m.text,"drizzle.query.params":JSON.stringify(d)}),g.query(m,d)));let w=await er.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":y.name,"drizzle.query.text":y.text,"drizzle.query.params":JSON.stringify(d)}),g.query(y,d)));return er.startActiveSpan("drizzle.mapResponse",()=>v?v(w.rows):w.rows.map(e=>aW(h,e,b)))})}all(e={}){return er.startActiveSpan("drizzle.execute",()=>{let d=eA(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,d),er.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(d)}),this.client.query(this.rawQueryConfig,d).then(e=>e.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class lT extends lw{constructor(e,d,h,m={}){super(d),this.client=e,this.schema=h,this.options=m,this.logger=m.logger??new lo}static [_]="NodePgSession";logger;prepareQuery(e,d,h,m,g){return new lE(this.client,e.sql,e.params,this.logger,d,h,m,g)}async transaction(e,d){let h=this.client instanceof lx?new lT(await this.client.connect(),this.dialect,this.schema,this.options):this,m=new lk(this.dialect,h,this.schema);await m.execute(ek`begin${d?ek` ${m.getTransactionConfigSQL(d)}`:void 0}`);try{let d=await e(m);return await m.execute(ek`commit`),d}catch(e){throw await m.execute(ek`rollback`),e}finally{this.client instanceof lx&&h.client.release()}}async count(e){return Number((await this.execute(e)).rows[0].count)}}class lk extends lS{static [_]="NodePgTransaction";async transaction(e){let d=`sp${this.nestedIndex+1}`,h=new lk(this.dialect,this.session,this.schema,this.nestedIndex+1);await h.execute(ek.raw(`savepoint ${d}`));try{let m=await e(h);return await h.execute(ek.raw(`release savepoint ${d}`)),m}catch(e){throw await h.execute(ek.raw(`rollback to savepoint ${d}`)),e}}}class lC{constructor(e,d,h={}){this.client=e,this.dialect=d,this.options=h}static [_]="NodePgDriver";createSession(e){return new lT(this.client,this.dialect,e,{logger:this.options.logger})}}class lA extends lb{static [_]="NodePgDatabase"}function lP(e,d={}){let h,m,g=new oE({casing:d.casing});if(!0===d.logger?h=new ls:!1!==d.logger&&(h=d.logger),d.schema){let e=s0(d.schema,s5);m={fullSchema:d.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let y=new lC(e,g,{logger:h}).createSession(m),b=new lA(g,y,m);return b.$client=e,b}function lN(...e){if("string"==typeof e[0])return lP(new lr.Pool({connectionString:e[0]}),e[1]);if(a2(e[0])){let{connection:d,client:h,...m}=e[0];return h?lP(h,m):lP(new lr.Pool("string"==typeof d?{connectionString:d}:d),m)}return lP(e[0],e[1])}(e=>{e.mock=function(e){return lP({},e)}})(lN||(lN={}));let lO=async function({adapter:e,payload:d,reconnect:h=!1}){let m;if(h)try{m=await e.pool.connect()}catch(h){setTimeout(()=>{d.logger.info("Reconnecting to postgres"),lO({adapter:e,payload:d,reconnect:!0})},1e3)}else m=await e.pool.connect();m&&m.prependListener("error",h=>{try{"ECONNRESET"===h.code&&lO({adapter:e,payload:d,reconnect:!0})}catch(e){}})},lI=async function(e={hotReload:!1}){let{hotReload:d}=e;try{this.pool||(this.pool=new this.pg.Pool(this.poolOptions),await lO({adapter:this,payload:this.payload}));let e=this.logger||!1;this.drizzle=lN({client:this.pool,logger:e,schema:this.schema}),d||"true"!==process.env.PAYLOAD_DROP_DATABASE||(this.payload.logger.info(`---- DROPPING TABLES SCHEMA(${this.schemaName||"public"}) ----`),await this.dropDatabase({adapter:this}),this.payload.logger.info("---- DROPPED TABLES ----"))}catch(h){let d=h instanceof Error?h:Error(String(h));if(d.message?.match(/database .* does not exist/i)&&!this.disableCreateDatabase){if(this.payload.logger.info(`${d.message.charAt(0).toUpperCase()+d.message.slice(1)}, creating...`),await this.createDatabase()&&this.connect)return void await this.connect(e)}else this.payload.logger.error({err:d,msg:`Error: cannot connect to Postgres. Details: ${d.message}`});"function"==typeof this.rejectInitializing&&this.rejectInitializing(),process.exit(1)}await this.createExtensions(),"function"==typeof this.resolveInitializing&&this.resolveInitializing(),this.prodMigrations&&await this.migrate({migrations:this.prodMigrations})},lR=(0,la.fileURLToPath)("file:///Users/himanshu/Desktop/Payload%20Cloudflare/pg/node_modules/.pnpm/@payloadcms+db-postgres@3.40.0_@types+react@19.1.0_payload@3.40.0_graphql@16.11.0_typescript@5.7.3__react@19.1.0/node_modules/@payloadcms/db-postgres/dist/index.js");function lD(e){let d=e.idType||"serial",h="serial"===d?"number":"text",m=e.allowIDOnCreate??!1;function g({payload:g}){let y,b,v,w=iD(e.migrationDir),S=new Promise((e,d)=>{y=e,b=d});v=e.schemaName?oX(e.schemaName):{enum:X,table:sK};let x=(e.extensions??[]).reduce((e,d)=>(e[d]=!0,e),{});return lt({name:"postgres",afterSchemaInit:e.afterSchemaInit??[],allowIDOnCreate:m,beforeSchemaInit:e.beforeSchemaInit??[],createDatabase:aj,createExtensions:aU,createMigration:aA({executeMethod:"execute",filename:lR,sanitizeStatements:({sqlExecute:e,statements:d})=>`${e}
 ${d.join("\n")}\`)`}),defaultDrizzleSnapshot:aV,disableCreateDatabase:e.disableCreateDatabase??!1,drizzle:void 0,enums:{},extensions:x,features:{json:!0},fieldConstraints:{},generateSchema:aI({columnToCodeConverter:a$,corePackageSuffix:"pg-core",defaultOutputFile:e.generateSchemaOutputFile,enumImport:"pgEnum",schemaImport:"pgSchema",tableImport:"pgTable"}),idType:d,initializing:S,localesSuffix:e.localesSuffix||"_locales",logger:e.logger,operators:tY,pg:e.pg||lr,pgSchema:v,pool:void 0,poolOptions:e.pool,prodMigrations:e.prodMigrations,push:e.push,relations:{},relationshipsSuffix:e.relationshipsSuffix||"_rels",schema:{},schemaName:e.schemaName,sessions:{},tableNameMap:new Map,tables:{},tablesFilter:e.tablesFilter,transactionOptions:e.transactionOptions||void 0,versionsSuffix:e.versionsSuffix||"_v",beginTransaction:!1===e.transactionOptions?li():re,commitTransaction:rt,connect:lI,count:tU,countDistinct:aM,countGlobalVersions:tz,countVersions:tV,create:ib,createGlobal:iv,createGlobalVersion:iw,createJSONQuery:aq,createVersion:ix,defaultIDType:h,deleteMany:iT,deleteOne:ik,deleteVersions:iC,deleteWhere:aH,destroy:iA,dropDatabase:aK,execute:aG,find:iP,findGlobal:iN,findGlobalVersions:iO,updateJobs:rn,findOne:iL,findVersions:i$,indexes:new Set,init:oc,insert:op,migrate:iH,migrateDown:iW,migrateFresh:iJ,migrateRefresh:iQ,migrateReset:iY,migrateStatus:iZ,migrationDir:w,packageName:"@payloadcms/db-postgres",payload:g,queryDrafts:i1,rawRelations:{},rawTables:{},rejectInitializing:b,requireDrizzleKit:oh,resolveInitializing:y,rollbackTransaction:ri,updateGlobal:rr,updateGlobalVersion:ra,updateMany:rs,updateOne:ro,updateVersion:rl,upsert:ro})}return{name:"postgres",allowIDOnCreate:m,defaultIDType:h,init:g}}},34198:(e,d,h)=>{"use strict";let m=h(52838),g=h(20906),y=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"\uD83D\uDE03".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),b=e=>y[e]||y.default,v=Object.freeze({aborted:m.red(g.cross),done:m.green(g.tick),exited:m.yellow(g.cross),default:m.cyan("?")}),w=(e,d,h)=>d?v.aborted:h?v.exited:e?v.done:v.default;e.exports={styles:y,render:b,symbols:v,symbol:w,delimiter:e=>m.gray(e?g.ellipsis:g.pointerSmall),item:(e,d)=>m.gray(e?d?g.pointerSmall:"+":g.line)}},34228:(e,d,h)=>{"use strict";let m=h(97750);class g extends m{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=g},34344:(e,d)=>{let h={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,d){return d},attributeValueProcessor:function(e,d){return d},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,d,h){return e}};d.buildOptions=function(e){return Object.assign({},h,e)},d.defaultOptions=h},34549:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{addExpectContinueMiddleware:()=>E,addExpectContinueMiddlewareOptions:()=>T,getAddExpectContinuePlugin:()=>k}),e.exports=S(x);var _=h(96543);function E(e){return d=>async h=>{let{request:m}=h;return _.HttpRequest.isInstance(m)&&m.body&&"node"===e.runtime&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(m.headers={...m.headers,Expect:"100-continue"}),d({...h,request:m})}}v(E,"addExpectContinueMiddleware");var T={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},k=v(e=>({applyToStack:v(d=>{d.add(E(e),T)},"applyToStack")}),"getAddExpectContinuePlugin")},34572:(e,d,h)=>{"use strict";h.d(d,{D:()=>eF});var m=h(36343),g=h(87615),y=h(64099),b=h(71860),v=h(18219),w=h(55324),S=h(85720),x=h(65067),_=h(35008),E=h(135),T=h(37122),k=h(43510);let C=async(e,d,h)=>({operation:(0,k.getSmithyContext)(d).operation,region:await (0,k.normalizeProvider)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function P(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(e,d)=>({signingProperties:{config:e,context:d}})}}function O(e){return{schemeId:"smithy.api#noAuth"}}let I=e=>{let d=[];switch(e.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":d.push(O(e));break;default:d.push(P(e))}return d},R=e=>Object.assign((0,T.h)(e),{authSchemePreference:(0,k.normalizeProvider)(e.authSchemePreference??[])});var D=h(21210);let L={rE:"3.817.0"};var $=h(7977),M=h(30201),B=h(25717),j=h(11075),U=h(71475);let F="AWS_EC2_METADATA_DISABLED",z=async e=>{let{ENV_CMDS_FULL_URI:d,ENV_CMDS_RELATIVE_URI:m,fromContainerMetadata:g,fromInstanceMetadata:y}=await Promise.resolve().then(h.bind(h,81633));if(process.env[m]||process.env[d]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:d}=await Promise.resolve().then(h.bind(h,10587));return(0,j.chain)(d(e),g(e))}return process.env[F]&&"false"!==process.env[F]?async()=>{throw new j.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),y(e))},q=!1,V=(e={})=>(0,j.memoize)((0,j.chain)(async()=>{if(e.profile??process.env[U.ENV_PROFILE])throw process.env[B.ENV_KEY]&&process.env[B.ENV_SECRET]&&!q&&((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),q=!0),new j.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,B.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:d,ssoAccountId:m,ssoRegion:g,ssoRoleName:y,ssoSession:b}=e;if(!d&&!m&&!g&&!y&&!b)throw new j.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:v}=await Promise.resolve().then(h.bind(h,50893));return v(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:d}=await Promise.resolve().then(h.bind(h,26702));return d(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:d}=await Promise.resolve().then(h.bind(h,19719));return d(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:d}=await Promise.resolve().then(h.bind(h,67174));return d(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await z(e))()),async()=>{throw new j.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),K,H),H=e=>e?.expiration!==void 0,K=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;var G=h(78294),W=h(59412),J=h(35804),Q=h(82436),Y=h(87143),X=h(76199),Z=h(96573),ee=h(92828),et=h(80621),ei=h(69713),er=h(9242),ea=h(50672);let en="required",es="fn",eo="argv",el="ref",ed="isSet",ec="booleanEquals",ep="error",eu="endpoint",eh="tree",em="PartitionResult",ef="getAttr",eg="stringEquals",ey={[en]:!1,type:"String"},eb={[en]:!0,default:!1,type:"Boolean"},ev={[el]:"Endpoint"},ew={[es]:ec,[eo]:[{[el]:"UseFIPS"},!0]},eS={[es]:ec,[eo]:[{[el]:"UseDualStack"},!0]},ex={},e_={[el]:"Region"},eE={[es]:ef,[eo]:[{[el]:em},"supportsFIPS"]},eT={[el]:em},ek={[es]:ec,[eo]:[!0,{[es]:ef,[eo]:[eT,"supportsDualStack"]}]},eC=[ew],eA=[eS],eP=[e_],eN={version:"1.0",parameters:{Region:ey,UseDualStack:eb,UseFIPS:eb,Endpoint:ey},rules:[{conditions:[{[es]:ed,[eo]:[ev]}],rules:[{conditions:eC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ep},{conditions:eA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ep},{endpoint:{url:ev,properties:ex,headers:ex},type:eu}],type:eh},{conditions:[{[es]:ed,[eo]:eP}],rules:[{conditions:[{[es]:"aws.partition",[eo]:eP,assign:em}],rules:[{conditions:[ew,eS],rules:[{conditions:[{[es]:ec,[eo]:[!0,eE]},ek],rules:[{conditions:[{[es]:eg,[eo]:[e_,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:ex,headers:ex},type:eu},{conditions:[{[es]:eg,[eo]:[e_,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:ex,headers:ex},type:eu},{conditions:[{[es]:eg,[eo]:[e_,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:ex,headers:ex},type:eu},{conditions:[{[es]:eg,[eo]:[e_,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:ex,headers:ex},type:eu},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ex,headers:ex},type:eu}],type:eh},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ep}],type:eh},{conditions:eC,rules:[{conditions:[{[es]:ec,[eo]:[eE,!0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ex,headers:ex},type:eu}],type:eh},{error:"FIPS is enabled but this partition does not support FIPS",type:ep}],type:eh},{conditions:eA,rules:[{conditions:[ek],rules:[{conditions:[{[es]:eg,[eo]:["aws",{[es]:ef,[eo]:[eT,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:ex,headers:ex},type:eu},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ex,headers:ex},type:eu}],type:eh},{error:"DualStack is enabled but this partition does not support DualStack",type:ep}],type:eh},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:ex,headers:ex},type:eu}],type:eh}],type:eh},{error:"Invalid Configuration: Missing Region",type:ep}]},eO=new ea.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),eI=(e,d={})=>eO.get(e,()=>(0,ea.resolveEndpoint)(eN,{endpointParams:e,logger:d.logger}));ea.customEndpointFunctions.aws=er.awsEndpointFunctions;let eR=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??et.fromBase64,base64Encoder:e?.base64Encoder??et.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??eI,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??I,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Z.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new w.NoAuthSigner}],logger:e?.logger??new E.NoOpLogger,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??ee.parseUrl,utf8Decoder:e?.utf8Decoder??ei.fromUtf8,utf8Encoder:e?.utf8Encoder??ei.toUtf8});var eD=h(63760);let eL=e=>{(0,E.emitWarningIfUnsupportedVersion)(process.version);let d=(0,eD.I)(e),h=()=>d().then(E.loadConfigsForDefaultMode),m=eR(e);(0,$.I)(process.version);let g={profile:e?.profile,logger:m.logger};return{...m,...e,runtime:"node",defaultsMode:d,authSchemePreference:e?.authSchemePreference??(0,J.loadConfig)(M.$,g),bodyLengthChecker:e?.bodyLengthChecker??Y.n,credentialDefaultProvider:e?.credentialDefaultProvider??V,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,G.pf)({serviceId:m.serviceId,clientVersion:L.rE}),maxAttempts:e?.maxAttempts??(0,J.loadConfig)(_.qs,e),region:e?.region??(0,J.loadConfig)(v.NODE_REGION_CONFIG_OPTIONS,{...v.NODE_REGION_CONFIG_FILE_OPTIONS,...g}),requestHandler:Q.NodeHttpHandler.create(e?.requestHandler??h),retryMode:e?.retryMode??(0,J.loadConfig)({..._.kN,default:async()=>(await h()).retryMode||X.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??W.V.bind(null,"sha256"),streamCollector:e?.streamCollector??Q.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,J.loadConfig)(v.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,g),useFipsEndpoint:e?.useFipsEndpoint??(0,J.loadConfig)(v.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,g),userAgentAppId:e?.userAgentAppId??(0,J.loadConfig)(G.hV,g)}};var e$=h(15329),eM=h(96543);let eB=e=>{let d=e.httpAuthSchemes,h=e.httpAuthSchemeProvider,m=e.credentials;return{setHttpAuthScheme(e){let h=d.findIndex(d=>d.schemeId===e.schemeId);-1===h?d.push(e):d.splice(h,1,e)},httpAuthSchemes:()=>d,setHttpAuthSchemeProvider(e){h=e},httpAuthSchemeProvider:()=>h,setCredentials(e){m=e},credentials:()=>m}},ej=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),eU=(e,d)=>{let h=Object.assign((0,e$.Rq)(e),(0,E.getDefaultExtensionConfiguration)(e),(0,eM.getHttpHandlerExtensionConfiguration)(e),eB(e));return d.forEach(e=>e.configure(h)),Object.assign(e,(0,e$.$3)(h),(0,E.resolveDefaultRuntimeConfig)(h),(0,eM.resolveHttpHandlerRuntimeConfig)(h),ej(h))};class eF extends E.Client{config;constructor(...[e]){let d=eL(e||{});super(d),this.initConfig=d;let h=(0,D.v)(d),E=(0,b.resolveUserAgentConfig)(h),T=(0,_.$z)(E),k=(0,v.resolveRegionConfig)(T),P=(0,m.OV)(k),O=eU(R((0,x.Co)(P)),e?.extensions||[]);this.config=O,this.middlewareStack.use((0,b.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,_.ey)(this.config)),this.middlewareStack.use((0,S.vK)(this.config)),this.middlewareStack.use((0,m.TC)(this.config)),this.middlewareStack.use((0,g.Y7)(this.config)),this.middlewareStack.use((0,y.n4)(this.config)),this.middlewareStack.use((0,w.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:C,identityProviderConfigProvider:async e=>new w.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,w.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}}},34578:(e,d,h)=>{"use strict";let{isColorSupported:m}=h(72541),g=h(14231),{Transform:y}=h(27910),b=h(21548),v=h(92345),{ERROR_LIKE_KEYS:w,LEVEL_KEY:S,LEVEL_LABEL:x,MESSAGE_KEY:_,TIMESTAMP_KEY:E}=h(40844),{buildSafeSonicBoom:T,parseFactoryOptions:k}=h(60723),C=h(61885),P={colorize:m,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:w,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:S,levelLabel:x,messageFormat:null,messageKey:_,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:E,translateTime:!0,useOnlyCustomProps:!0};function O(e){let d=k(Object.assign({},P,e));return C.bind({...d,context:d})}function I(e={}){let d,h=O(e);return b(function(m){m.on("message",function d(g){g&&"PINO_CONFIG"===g.code&&(Object.assign(e,{messageKey:g.config.messageKey,errorLikeObjectKeys:Array.from(new Set([...e.errorLikeObjectKeys||w,g.config.errorKey])),customLevels:g.config.levels.values}),h=O(e),m.off("message",d))});let b=new y({objectMode:!0,autoDestroy:!0,transform(e,d,m){m(null,h(e))}});return d="object"==typeof e.destination&&"function"==typeof e.destination.write?e.destination:T({dest:e.destination||1,append:e.append,mkdir:e.mkdir,sync:e.sync}),m.on("unknown",function(e){d.write(e+"\n")}),g(m,b,d),b},{parse:"lines",close(e,h){d.on("close",()=>{h(e)})}})}e.exports=I,e.exports.build=I,e.exports.PinoPretty=I,e.exports.prettyFactory=O,e.exports.colorizerFactory=v,e.exports.isColorSupported=m,e.exports.default=I},34645:(e,d,h)=>{"use strict";let m=h(94735),g=h(99600),y=h(5295),b=h(31088),v=h(36984),w=h(97140);class S extends m{constructor(e){let d;super(),"string"==typeof(e=e||{})&&(e={url:e});let h=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(d=b.parseConnectionUrl(e.url),h=h||d.service),this.options=b.assign(!1,e,d,h&&y(h)),this.logger=b.getLogger(this.options,{component:this.options.component||"smtp-transport"});let m=new g(this.options);this.name="SMTP",this.version=w.version+"[client:"+m.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(e,d){return setImmediate(()=>d(null,!1))}getAuth(e){if(!e)return this.auth;let d=!1,h={};if(this.options.auth&&"object"==typeof this.options.auth&&Object.keys(this.options.auth).forEach(e=>{d=!0,h[e]=this.options.auth[e]}),e&&"object"==typeof e&&Object.keys(e).forEach(m=>{d=!0,h[m]=e[m]}),!d)return!1;if("OAUTH2"!==(h.type||"").toString().toUpperCase())return{type:(h.type||"").toString().toUpperCase()||"LOGIN",user:h.user,credentials:{user:h.user||"",pass:h.pass,options:h.options},method:(h.method||"").trim().toUpperCase()||this.options.authMethod||!1};{if(!h.service&&!h.user)return!1;let e=new v(h,this.logger);return e.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||e.provisionCallback,e.on("token",e=>this.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e)),{type:"OAUTH2",user:h.user,oauth2:e,method:"XOAUTH2"}}}send(e,d){this.getSocket(this.options,(h,m)=>{if(h)return d(h);let y=!1,v=this.options;m&&m.connection&&(this.logger.info({tnx:"proxy",remoteAddress:m.connection.remoteAddress,remotePort:m.connection.remotePort,destHost:v.host||"",destPort:v.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",m.connection.remoteAddress,m.connection.remotePort,v.host||"",v.port||""),v=b.assign(!1,v),Object.keys(m).forEach(e=>{v[e]=m[e]}));let w=new g(v);w.once("error",e=>{if(!y)return y=!0,w.close(),d(e)}),w.once("end",()=>{if(y)return;let e=setTimeout(()=>{if(y)return;y=!0;let e=Error("Unexpected socket close");w&&w._socket&&w._socket.upgrading&&(e.code="ETLS"),d(e)},1e3);try{e.unref()}catch(e){}});let S=()=>{let h=e.message.getEnvelope(),m=e.message.messageId(),g=[].concat(h.to||[]);g.length>3&&g.push("...and "+g.splice(2).length+" more"),e.data.dsn&&(h.dsn=e.data.dsn),this.logger.info({tnx:"send",messageId:m},"Sending message %s to <%s>",m,g.join(", ")),w.send(h,e.message.createReadStream(),(e,g)=>{if(y=!0,w.close(),e)return this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",m,e.message),d(e);g.envelope={from:h.from,to:h.to},g.messageId=m;try{return d(null,g)}catch(e){this.logger.error({err:e,tnx:"callback"},"Callback error for %s: %s",m,e.message)}})};w.connect(()=>{if(y)return;let h=this.getAuth(e.data.auth);h&&(w.allowsAuth||v.forceAuth)?w.login(h,e=>{if(h&&h!==this.auth&&h.oauth2&&h.oauth2.removeAllListeners(),!y){if(e)return y=!0,w.close(),d(e);S()}}):S()})})}verify(e){let d;return e||(d=new Promise((d,h)=>{e=b.callbackPromise(d,h)})),this.getSocket(this.options,(d,h)=>{if(d)return e(d);let m=this.options;h&&h.connection&&(this.logger.info({tnx:"proxy",remoteAddress:h.connection.remoteAddress,remotePort:h.connection.remotePort,destHost:m.host||"",destPort:m.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",h.connection.remoteAddress,h.connection.remotePort,m.host||"",m.port||""),m=b.assign(!1,m),Object.keys(h).forEach(e=>{m[e]=h[e]}));let y=new g(m),v=!1;y.once("error",d=>{if(!v)return v=!0,y.close(),e(d)}),y.once("end",()=>{if(!v)return v=!0,e(Error("Connection closed"))});let w=()=>{if(!v)return v=!0,y.quit(),e(null,!0)};y.connect(()=>{if(v)return;let d=this.getAuth({});if(d&&(y.allowsAuth||m.forceAuth))y.login(d,d=>{if(!v){if(d)return v=!0,y.close(),e(d);w()}});else if(!d&&y.allowsAuth&&m.forceAuth){let d=Error("Authentication info was not provided");return d.code="NoAuth",v=!0,y.close(),e(d)}else w()})}),d}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}}e.exports=S},34834:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{contentLengthMiddleware:()=>T,contentLengthMiddlewareOptions:()=>k,getContentLengthPlugin:()=>C}),e.exports=S(x);var _=h(96543),E="content-length";function T(e){return d=>async h=>{let m=h.request;if(_.HttpRequest.isInstance(m)){let{body:d,headers:h}=m;if(d&&-1===Object.keys(h).map(e=>e.toLowerCase()).indexOf(E))try{let h=e(d);m.headers={...m.headers,[E]:String(h)}}catch(e){}}return d({...h,request:m})}}v(T,"contentLengthMiddleware");var k={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},C=v(e=>({applyToStack:d=>{d.add(T(e.bodyLengthChecker),k)}}),"getContentLengthPlugin")},34999:(e,d,h)=>{"use strict";e.exports={DatePart:h(97750),Meridiem:h(14577),Day:h(66677),Hours:h(34228),Milliseconds:h(40633),Minutes:h(57414),Month:h(44289),Seconds:h(52602),Year:h(36054)}},35008:(e,d,h)=>{"use strict";h.d(d,{qs:()=>_,kN:()=>C,ey:()=>B,$z:()=>E});var m=h(76199),g=h(96543),y=h(44584),b=h(91392);let v=e=>e instanceof Error?e:e instanceof Object?Object.assign(Error(),e):"string"==typeof e?Error(e):Error(`AWS SDK error wrapper for ${e}`);var w=h(43510);let S="AWS_MAX_ATTEMPTS",x="max_attempts",_={environmentVariableSelector:e=>{let d=e[S];if(!d)return;let h=parseInt(d);if(Number.isNaN(h))throw Error(`Environment variable ${S} mast be a number, got "${d}"`);return h},configFileSelector:e=>{let d=e[x];if(!d)return;let h=parseInt(d);if(Number.isNaN(h))throw Error(`Shared config file entry ${x} mast be a number, got "${d}"`);return h},default:m.DEFAULT_MAX_ATTEMPTS},E=e=>{let{retryStrategy:d,retryMode:h,maxAttempts:g}=e,y=(0,w.normalizeProvider)(g??m.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:y,retryStrategy:async()=>d||(await (0,w.normalizeProvider)(h)()===m.RETRY_MODES.ADAPTIVE?new m.AdaptiveRetryStrategy(y):new m.StandardRetryStrategy(y))})},T="AWS_RETRY_MODE",k="retry_mode",C={environmentVariableSelector:e=>e[T],configFileSelector:e=>e[k],default:m.DEFAULT_RETRY_MODE};var P=h(135),O=h(27910);let I=e=>e?.body instanceof O.Readable||"undefined"!=typeof ReadableStream&&e?.body instanceof ReadableStream,R=e=>(d,h)=>async y=>{let w=await e.retryStrategy(),S=await e.maxAttempts();if(!D(w))return w?.mode&&(h.userAgent=[...h.userAgent||[],["cfg/retry-mode",w.mode]]),w.retry(d,y);{let e=await w.acquireInitialRetryToken(h.partition_id),x=Error(),_=0,E=0,{request:T}=y,k=g.HttpRequest.isInstance(T);for(k&&(T.headers[m.INVOCATION_ID_HEADER]=(0,b.A)());;)try{k&&(T.headers[m.REQUEST_HEADER]=`attempt=${_+1}; max=${S}`);let{response:h,output:g}=await d(y);return w.recordSuccess(e),g.$metadata.attempts=_+1,g.$metadata.totalRetryDelay=E,{response:h,output:g}}catch(g){let d=L(g);if(x=v(g),k&&I(T))throw(h.logger instanceof P.NoOpLogger?console:h.logger)?.warn("An error was encountered in a non-retryable streaming request."),x;try{e=await w.refreshRetryTokenForRetry(e,d)}catch(e){throw x.$metadata||(x.$metadata={}),x.$metadata.attempts=_+1,x.$metadata.totalRetryDelay=E,x}_=e.getRetryCount();let m=e.getRetryDelay();E+=m,await new Promise(e=>setTimeout(e,m))}}},D=e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,L=e=>{let d={error:e,errorType:$(e)},h=j(e.$response);return h&&(d.retryAfterHint=h),d},$=e=>(0,y.isThrottlingError)(e)?"THROTTLING":(0,y.isTransientError)(e)?"TRANSIENT":(0,y.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR",M={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},B=e=>({applyToStack:d=>{d.add(R(e),M)}}),j=e=>{if(!g.HttpResponse.isInstance(e))return;let d=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!d)return;let h=e.headers[d],m=Number(h);return new Date(Number.isNaN(m)?h:1e3*m)}},35308:(e,d,h)=>{"use strict";h.d(d,{m:()=>m});let m=({fallbackLocale:e,locale:d,localization:h})=>{let m=!1;if(null==e&&(m=!!(h&&h.fallback)),e&&!["false","none","null"].includes(e)&&(m=!0),m){if(!e){let m=h&&h?.locales?.length?h.locales.find(e=>e.code===d)?.fallbackLocale:void 0;m?e=m:h&&"fallback"in h&&h.fallback&&(e=h.defaultLocale)}}else e=null;return e}},35399:(e,d,h)=>{"use strict";try{m=h(Object(function(){var e=Error("Cannot find module 'pg-native'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){throw e}var m,g=h(57338),y=h(94735).EventEmitter,b=h(28354),v=h(78183),w=h(61254),S=e.exports=function(e){y.call(this),e=e||{},this._Promise=e.Promise||global.Promise,this._types=new g(e.types),this.native=new m({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var d=this.connectionParameters=new v(e);e.nativeConnectionString&&(d.nativeConnectionString=e.nativeConnectionString),this.user=d.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:d.password}),this.database=d.database,this.host=d.host,this.port=d.port,this.namedQueries={}};S.Query=w,b.inherits(S,y),S.prototype._errorAllQueries=function(e){let d=d=>{process.nextTick(()=>{d.native=this.native,d.handleError(e)})};this._hasActiveQuery()&&(d(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(d),this._queryQueue.length=0},S.prototype._connect=function(e){var d=this;if(this._connecting)return void process.nextTick(()=>e(Error("Client has already been connected. You cannot reuse a client.")));this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(h,m){if(d.connectionParameters.nativeConnectionString&&(m=d.connectionParameters.nativeConnectionString),h)return e(h);d.native.connect(m,function(h){if(h)return d.native.end(),e(h);d._connected=!0,d.native.on("error",function(e){d._queryable=!1,d._errorAllQueries(e),d.emit("error",e)}),d.native.on("notification",function(e){d.emit("notification",{channel:e.relname,payload:e.extra})}),d.emit("connect"),d._pulseQueryQueue(!0),e()})})},S.prototype.connect=function(e){return e?void this._connect(e):new this._Promise((e,d)=>{this._connect(h=>{h?d(h):e()})})},S.prototype.query=function(e,d,h){var m,g,y,b,v;if(null==e)throw TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)y=e.query_timeout||this.connectionParameters.query_timeout,g=m=e,"function"==typeof d&&(e.callback=d);else if(y=this.connectionParameters.query_timeout,!(m=new w(e,d,h)).callback){let e,d;g=new this._Promise((h,m)=>{e=h,d=m}).catch(e=>{throw Error.captureStackTrace(e),e}),m.callback=(h,m)=>h?d(h):e(m)}return(y&&(v=m.callback,b=setTimeout(()=>{var e=Error("Query read timeout");process.nextTick(()=>{m.handleError(e,this.connection)}),v(e),m.callback=()=>{};var d=this._queryQueue.indexOf(m);d>-1&&this._queryQueue.splice(d,1),this._pulseQueryQueue()},y),m.callback=(e,d)=>{clearTimeout(b),v(e,d)}),this._queryable)?this._ending?(m.native=this.native,process.nextTick(()=>{m.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(m),this._pulseQueryQueue()):(m.native=this.native,process.nextTick(()=>{m.handleError(Error("Client has encountered a connection error and is not queryable"))})),g},S.prototype.end=function(e){var d,h=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(d=new this._Promise(function(d,h){e=e=>e?h(e):d()})),this.native.end(function(){h._errorAllQueries(Error("Connection terminated")),process.nextTick(()=>{h.emit("end"),e&&e()})}),d},S.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},S.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var d=this._queryQueue.shift();if(!d){e||this.emit("drain");return}this._activeQuery=d,d.submit(this);var h=this;d.once("_done",function(){h._pulseQueryQueue()})}},S.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},S.prototype.ref=function(){},S.prototype.unref=function(){},S.prototype.setTypeParser=function(e,d,h){return this._types.setTypeParser(e,d,h)},S.prototype.getTypeParser=function(e,d){return this._types.getTypeParser(e,d)}},35653:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(31537);d.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,m.validateTuple)(e,"items")}},35804:(e,d,h)=>{"use strict";h.r(d),h.d(d,{loadConfig:()=>x});var m=h(11075);function g(e){try{let d=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return d.delete("CONFIG"),d.delete("CONFIG_PREFIX_SEPARATOR"),d.delete("ENV"),[...d].join(", ")}catch(d){return e}}let y=(e,d)=>async()=>{try{let h=e(process.env,d);if(void 0===h)throw Error();return h}catch(h){throw new m.CredentialsProviderError(h.message||`Not found in ENV: ${g(e.toString())}`,{logger:d?.logger})}};var b=h(71475);let v=(e,{preferredFile:d="config",...h}={})=>async()=>{let y=(0,b.getProfileName)(h),{configFile:v,credentialsFile:w}=await (0,b.loadSharedConfigFiles)(h),S=w[y]||{},x=v[y]||{},_="config"===d?{...S,...x}:{...x,...S};try{let h="config"===d?v:w,m=e(_,h);if(void 0===m)throw Error();return m}catch(d){throw new m.CredentialsProviderError(d.message||`Not found in config files w/ profile [${y}]: ${g(e.toString())}`,{logger:h.logger})}},w=e=>"function"==typeof e,S=e=>w(e)?async()=>await e():(0,m.fromStatic)(e),x=({environmentVariableSelector:e,configFileSelector:d,default:h},g={})=>{let{signingName:b,logger:w}=g,x={signingName:b,logger:w};return(0,m.memoize)((0,m.chain)(y(e,x),v(d,g),S(h)))}},35879:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ChecksumStream=void 0;let h="function"==typeof ReadableStream?ReadableStream:function(){};class m extends h{}d.ChecksumStream=m},36031:(e,d,h)=>{"use strict";h.d(d,{j:()=>g});var m=h(33489);let g=async({collectionConfig:e,ids:d,payload:h,req:g})=>{e.auth?await h.db.deleteMany({collection:m.Y,req:g,where:{or:[{and:[{"user.value":{in:d}},{"user.relationTo":{equals:e.slug}}]},{key:{in:d.map(d=>`collection-${e.slug}-${d}`)}}]}}):await h.db.deleteMany({collection:m.Y,req:g,where:{key:{in:d.map(d=>`collection-${e.slug}-${d}`)}}})}},36054:(e,d,h)=>{"use strict";let m=h(97750);class g extends m{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?e.substr(-2):e}}e.exports=g},36271:e=>{"use strict";e.exports=function e(e){let d=[],h=!1,m="";for(let g=0;g<e.length;g++){let y=e.charAt(g);if("\\"===y){h=!0;continue}if(h){h=!1,m+=y;continue}if("."===y){d.push(m),m="";continue}m+=y}return m.length&&d.push(m),d}},36343:(e,d,h)=>{"use strict";h.d(d,{OV:()=>g,TC:()=>v});var m=h(96543);function g(e){return e}let y=e=>d=>async h=>{if(!m.HttpRequest.isInstance(h.request))return d(h);let{request:g}=h,{handlerProtocol:y=""}=e.requestHandler.metadata||{};if(y.indexOf("h2")>=0&&!g.headers[":authority"])delete g.headers.host,g.headers[":authority"]=g.hostname+(g.port?":"+g.port:"");else if(!g.headers.host){let e=g.hostname;null!=g.port&&(e+=`:${g.port}`),g.headers.host=e}return d(h)},b={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},v=e=>({applyToStack:d=>{d.add(y(e),b)}})},36464:function(e){"use strict";function d(e,d,h){for(;d<e.length;){let m,g;for(;d<e.length;++d){let h=e.charCodeAt(d);if(32!==h&&9!==h)break}if(d===e.length)break;if(59!==e.charCodeAt(d++))return;for(;d<e.length;++d){let h=e.charCodeAt(d);if(32!==h&&9!==h)break}if(d===e.length)return;let y=d;for(;d<e.length;++d){let h=e.charCodeAt(d);if(1!==b[h]){if(61!==h)return;break}}if(d===e.length||(m=e.slice(y,d),++d===e.length))return;let w="";if(34===e.charCodeAt(d)){g=++d;let h=!1;for(;d<e.length;++d){let m=e.charCodeAt(d);if(92===m){h?(g=d,h=!1):(w+=e.slice(g,d),h=!0);continue}if(34===m){if(h){g=d,h=!1;continue}w+=e.slice(g,d);break}if(h&&(g=d-1,h=!1),1!==v[m])return}if(d===e.length)return;++d}else{for(g=d;d<e.length;++d)if(1!==b[e.charCodeAt(d)]){if(d===g)return;break}w=e.slice(g,d)}void 0===h[m=m.toLowerCase()]&&(h[m]=w)}return h}function h(e,d,h,m){for(;d<e.length;){let g,_,E;for(;d<e.length;++d){let h=e.charCodeAt(d);if(32!==h&&9!==h)break}if(d===e.length)break;if(59!==e.charCodeAt(d++))return;for(;d<e.length;++d){let h=e.charCodeAt(d);if(32!==h&&9!==h)break}if(d===e.length)return;let T=d;for(;d<e.length;++d){let h=e.charCodeAt(d);if(1!==b[h]){if(61===h)break;return}}if(d===e.length)return;let k="";if(42===(g=e.slice(T,d)).charCodeAt(g.length-1)){let h=++d;for(;d<e.length;++d){let h=e.charCodeAt(d);if(1!==w[h]){if(39!==h)return;break}}if(d===e.length)return;for(E=e.slice(h,d),++d;d<e.length&&39!==e.charCodeAt(d);++d);if(d===e.length||++d===e.length)return;_=d;let m=0;for(;d<e.length;++d){let h=e.charCodeAt(d);if(1!==S[h]){if(37===h){let h,g;if(d+2<e.length&&-1!==(h=x[e.charCodeAt(d+1)])&&-1!==(g=x[e.charCodeAt(d+2)])){let y=(h<<4)+g;k+=e.slice(_,d),k+=String.fromCharCode(y),d+=2,_=d+1,y>=128?m=2:0===m&&(m=1);continue}return}break}}if(k+=e.slice(_,d),void 0===(k=y(k,E,m)))return}else{if(++d===e.length)return;if(34===e.charCodeAt(d)){_=++d;let h=!1;for(;d<e.length;++d){let m=e.charCodeAt(d);if(92===m){h?(_=d,h=!1):(k+=e.slice(_,d),h=!0);continue}if(34===m){if(h){_=d,h=!1;continue}k+=e.slice(_,d);break}if(h&&(_=d-1,h=!1),1!==v[m])return}if(d===e.length)return;++d}else{for(_=d;d<e.length;++d)if(1!==b[e.charCodeAt(d)]){if(d===_)return;break}k=e.slice(_,d)}if(void 0===(k=m(k,2)))return}void 0===h[g=g.toLowerCase()]&&(h[g]=k)}return h}function m(e){let d;for(;;)switch(e){case"utf-8":case"utf8":return g.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return g.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return g.utf16le;case"base64":return g.base64;default:if(void 0===d){d=!0,e=e.toLowerCase();continue}return g.other.bind(e)}}let g={utf8:(e,d)=>{if(0===e.length)return"";if("string"==typeof e){if(d<2)return e;e=Buffer.from(e,"latin1")}return e.utf8Slice(0,e.length)},latin1:(e,d)=>0===e.length?"":"string"==typeof e?e:e.latin1Slice(0,e.length),utf16le:(e,d)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.ucs2Slice(0,e.length)),base64:(e,d)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.base64Slice(0,e.length)),other:(e,d)=>{if(0===e.length)return"";"string"==typeof e&&(e=Buffer.from(e,"latin1"));try{return new TextDecoder(this).decode(e)}catch{}}};function y(e,d,h){let g=m(d);if(g)return g(e,h)}let b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];e.exports={basename:function(e){if("string"!=typeof e)return"";for(let d=e.length-1;d>=0;--d)switch(e.charCodeAt(d)){case 47:case 92:return".."===(e=e.slice(d+1))||"."===e?"":e}return".."===e||"."===e?"":e},convertToUTF8:y,getDecoder:m,parseContentType:function(e){if(0===e.length)return;let h=Object.create(null),m=0;for(;m<e.length;++m){let d=e.charCodeAt(m);if(1!==b[d]){if(47!==d||0===m)return;break}}if(m===e.length)return;let g=e.slice(0,m).toLowerCase(),y=++m;for(;m<e.length;++m)if(1!==b[e.charCodeAt(m)]){if(m===y||void 0===d(e,m,h))return;break}if(m!==y)return{type:g,subtype:e.slice(y,m).toLowerCase(),params:h}},parseDisposition:function(e,d){if(0===e.length)return;let m=Object.create(null),g=0;for(;g<e.length;++g)if(1!==b[e.charCodeAt(g)]){if(void 0===h(e,g,m,d))return;break}return{type:e.slice(0,g).toLowerCase(),params:m}}}},36556:(e,d,h)=>{"use strict";let m=h(56958),g=h(65428),y=h(53068),b=h(76038);class v{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,d)=>String.fromCharCode(Number.parseInt(d,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,d)=>String.fromCharCode(Number.parseInt(d,16))}},this.addExternalEntities=w,this.parseXml=T,this.parseTextData=S,this.resolveNameSpace=x,this.buildAttributesMap=E,this.isItStopNode=O,this.replaceEntitiesValue=C,this.readStopNodeData=L,this.saveTextToParentTag=P,this.addChild=k}}function w(e){let d=Object.keys(e);for(let h=0;h<d.length;h++){let m=d[h];this.lastEntities[m]={regex:RegExp("&"+m+";","g"),val:e[m]}}}function S(e,d,h,m,g,y,b){if(void 0!==e&&(this.options.trimValues&&!m&&(e=e.trim()),e.length>0)){b||(e=this.replaceEntitiesValue(e));let m=this.options.tagValueProcessor(d,e,h,g,y);return null==m?e:typeof m!=typeof e||m!==e?m:this.options.trimValues||e.trim()===e?$(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function x(e){if(this.options.removeNSPrefix){let d=e.split(":"),h="/"===e.charAt(0)?"/":"";if("xmlns"===d[0])return"";2===d.length&&(e=h+d[1])}return e}let _=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function E(e,d,h){if(!this.options.ignoreAttributes&&"string"==typeof e){let h=m.getAllMatches(e,_),g=h.length,y={};for(let e=0;e<g;e++){let m=this.resolveNameSpace(h[e][1]),g=h[e][4],b=this.options.attributeNamePrefix+m;if(m.length)if(this.options.transformAttributeName&&(b=this.options.transformAttributeName(b)),"__proto__"===b&&(b="#__proto__"),void 0!==g){this.options.trimValues&&(g=g.trim()),g=this.replaceEntitiesValue(g);let e=this.options.attributeValueProcessor(m,g,d);null==e?y[b]=g:typeof e!=typeof g||e!==g?y[b]=e:y[b]=$(g,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(y[b]=!0)}if(Object.keys(y).length){if(this.options.attributesGroupName){let e={};return e[this.options.attributesGroupName]=y,e}return y}}}let T=function(e){e=e.replace(/\r\n?/g,"\n");let d=new g("!xml"),h=d,m="",b="";for(let v=0;v<e.length;v++)if("<"===e[v])if("/"===e[v+1]){let d=R(e,">",v,"Closing Tag is not closed."),g=e.substring(v+2,d).trim();if(this.options.removeNSPrefix){let e=g.indexOf(":");-1!==e&&(g=g.substr(e+1))}this.options.transformTagName&&(g=this.options.transformTagName(g)),h&&(m=this.saveTextToParentTag(m,h,b));let y=b.substring(b.lastIndexOf(".")+1);if(g&&-1!==this.options.unpairedTags.indexOf(g))throw Error(`Unpaired tag can not be used as closing tag: </${g}>`);let w=0;y&&-1!==this.options.unpairedTags.indexOf(y)?(w=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):w=b.lastIndexOf("."),b=b.substring(0,w),h=this.tagsNodeStack.pop(),m="",v=d}else if("?"===e[v+1]){let d=D(e,v,!1,"?>");if(!d)throw Error("Pi Tag is not closed.");if(m=this.saveTextToParentTag(m,h,b),this.options.ignoreDeclaration&&"?xml"===d.tagName||this.options.ignorePiTags);else{let e=new g(d.tagName);e.add(this.options.textNodeName,""),d.tagName!==d.tagExp&&d.attrExpPresent&&(e[":@"]=this.buildAttributesMap(d.tagExp,b,d.tagName)),this.addChild(h,e,b)}v=d.closeIndex+1}else if("!--"===e.substr(v+1,3)){let d=R(e,"--\x3e",v+4,"Comment is not closed.");if(this.options.commentPropName){let g=e.substring(v+4,d-2);m=this.saveTextToParentTag(m,h,b),h.add(this.options.commentPropName,[{[this.options.textNodeName]:g}])}v=d}else if("!D"===e.substr(v+1,2)){let d=y(e,v);this.docTypeEntities=d.entities,v=d.i}else if("!["===e.substr(v+1,2)){let d=R(e,"]]>",v,"CDATA is not closed.")-2,g=e.substring(v+9,d);m=this.saveTextToParentTag(m,h,b);let y=this.parseTextData(g,h.tagname,b,!0,!1,!0,!0);void 0==y&&(y=""),this.options.cdataPropName?h.add(this.options.cdataPropName,[{[this.options.textNodeName]:g}]):h.add(this.options.textNodeName,y),v=d+2}else{let y=D(e,v,this.options.removeNSPrefix),w=y.tagName,S=y.rawTagName,x=y.tagExp,_=y.attrExpPresent,E=y.closeIndex;this.options.transformTagName&&(w=this.options.transformTagName(w)),h&&m&&"!xml"!==h.tagname&&(m=this.saveTextToParentTag(m,h,b,!1));let T=h;if(T&&-1!==this.options.unpairedTags.indexOf(T.tagname)&&(h=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),w!==d.tagname&&(b+=b?"."+w:w),this.isItStopNode(this.options.stopNodes,b,w)){let d="";if(x.length>0&&x.lastIndexOf("/")===x.length-1)"/"===w[w.length-1]?(w=w.substr(0,w.length-1),b=b.substr(0,b.length-1),x=w):x=x.substr(0,x.length-1),v=y.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(w))v=y.closeIndex;else{let h=this.readStopNodeData(e,S,E+1);if(!h)throw Error(`Unexpected end of ${S}`);v=h.i,d=h.tagContent}let m=new g(w);w!==x&&_&&(m[":@"]=this.buildAttributesMap(x,b,w)),d&&(d=this.parseTextData(d,w,b,!0,_,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),m.add(this.options.textNodeName,d),this.addChild(h,m,b)}else{if(x.length>0&&x.lastIndexOf("/")===x.length-1){"/"===w[w.length-1]?(w=w.substr(0,w.length-1),b=b.substr(0,b.length-1),x=w):x=x.substr(0,x.length-1),this.options.transformTagName&&(w=this.options.transformTagName(w));let e=new g(w);w!==x&&_&&(e[":@"]=this.buildAttributesMap(x,b,w)),this.addChild(h,e,b),b=b.substr(0,b.lastIndexOf("."))}else{let e=new g(w);this.tagsNodeStack.push(h),w!==x&&_&&(e[":@"]=this.buildAttributesMap(x,b,w)),this.addChild(h,e,b),h=e}m="",v=E}}else m+=e[v];return d.child};function k(e,d,h){let m=this.options.updateTag(d.tagname,h,d[":@"]);!1===m||("string"==typeof m&&(d.tagname=m),e.addChild(d))}let C=function(e){if(this.options.processEntities){for(let d in this.docTypeEntities){let h=this.docTypeEntities[d];e=e.replace(h.regx,h.val)}for(let d in this.lastEntities){let h=this.lastEntities[d];e=e.replace(h.regex,h.val)}if(this.options.htmlEntities)for(let d in this.htmlEntities){let h=this.htmlEntities[d];e=e.replace(h.regex,h.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function P(e,d,h,m){return e&&(void 0===m&&(m=0===Object.keys(d.child).length),void 0!==(e=this.parseTextData(e,d.tagname,h,!1,!!d[":@"]&&0!==Object.keys(d[":@"]).length,m))&&""!==e&&d.add(this.options.textNodeName,e),e=""),e}function O(e,d,h){let m="*."+h;for(let h in e){let g=e[h];if(m===g||d===g)return!0}return!1}function I(e,d,h=">"){let m,g="";for(let y=d;y<e.length;y++){let d=e[y];if(m)d===m&&(m="");else if('"'===d||"'"===d)m=d;else if(d===h[0]){if(!h[1])return{data:g,index:y};else if(e[y+1]===h[1])return{data:g,index:y}}else"	"===d&&(d=" ");g+=d}}function R(e,d,h,m){let g=e.indexOf(d,h);if(-1!==g)return g+d.length-1;throw Error(m)}function D(e,d,h,m=">"){let g=I(e,d+1,m);if(!g)return;let y=g.data,b=g.index,v=y.search(/\s/),w=y,S=!0;-1!==v&&(w=y.substring(0,v),y=y.substring(v+1).trimStart());let x=w;if(h){let e=w.indexOf(":");-1!==e&&(S=(w=w.substr(e+1))!==g.data.substr(e+1))}return{tagName:w,tagExp:y,closeIndex:b,attrExpPresent:S,rawTagName:x}}function L(e,d,h){let m=h,g=1;for(;h<e.length;h++)if("<"===e[h])if("/"===e[h+1]){let y=R(e,">",h,`${d} is not closed`);if(e.substring(h+2,y).trim()===d&&0==--g)return{tagContent:e.substring(m,h),i:y};h=y}else if("?"===e[h+1])h=R(e,"?>",h+1,"StopNode is not closed.");else if("!--"===e.substr(h+1,3))h=R(e,"--\x3e",h+3,"StopNode is not closed.");else if("!["===e.substr(h+1,2))h=R(e,"]]>",h,"StopNode is not closed.")-2;else{let m=D(e,h,">");m&&((m&&m.tagName)===d&&"/"!==m.tagExp[m.tagExp.length-1]&&g++,h=m.closeIndex)}}function $(e,d,h){if(d&&"string"==typeof e){let d=e.trim();return"true"===d||"false"!==d&&b(e,h)}return m.isExist(e)?e:""}e.exports=v},36610:(e,d,h)=>{"use strict";h.d(d,{u:()=>y});var m=h(13062),g=h(89554);let y=async e=>{let d=e,{collection:{config:h},req:{user:y},req:b}=e;if(!y)throw new g.L("No User",m.h.BAD_REQUEST);if(y.collection!==h.slug)throw new g.L("Incorrect collection",m.h.FORBIDDEN);if(h.hooks?.afterLogout?.length)for(let e of h.hooks.afterLogout)d=await e({collection:d.collection?.config,context:b.context,req:b})||d;return!0}},36914:(e,d,h)=>{"use strict";h.d(d,{Z:()=>v});var m=h(13589),g=h(79748),y=h(27910);let b=async(e,d)=>{let h=e,m=new y.Readable;return m._read=()=>{m.push(h),h=null},await g.writeFile(d,e)},v=async(e,d,h)=>{try{await Promise.all(d.map(async({buffer:e,path:d})=>{await b(e,d)}))}catch(d){throw e.logger.error(d),new m.e(h.t)}}},36984:(e,d,h)=>{"use strict";let m=h(27910).Stream,g=h(1479),y=h(55511),b=h(31088);class v extends m{constructor(e,d){if(super(),this.options=e||{},e&&e.serviceClient){if(!e.privateKey||!e.user)return void setImmediate(()=>this.emit("error",Error('Options "privateKey" and "user" are required for service account!')));let d=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=d||300}if(this.logger=b.getLogger({logger:d},{component:this.options.component||"OAuth2"}),this.provisionCallback="function"==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let e=Math.max(Number(this.options.timeout)||0,0);this.expires=e&&Date.now()+1e3*e||0}}getToken(e,d){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now()))return d(null,this.accessToken);let h=(...e)=>{e[0]?this.logger.error({err:e[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),d(...e)};this.provisionCallback?this.provisionCallback(this.options.user,!!e,(e,d,m)=>{!e&&d&&(this.accessToken=d,this.expires=m||0),h(e,d)}):this.generateToken(h)}updateToken(e,d){this.accessToken=e,d=Math.max(Number(d)||0,0),this.expires=d&&Date.now()+1e3*d||0,this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let d,h;if(this.options.serviceClient){let m,g=Math.floor(Date.now()/1e3),y={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:g,exp:g+this.options.serviceRequestTimeout};try{m=this.jwtSignRS256(y)}catch(d){return e(Error("Can't generate token. Check your auth options"))}d={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:m},h={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:y}}else{if(!this.options.refreshToken)return e(Error("Can't create new access token for user"));d={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},h={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(e=>{d[e]=this.options.customParams[e],h[e]=this.options.customParams[e]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(h)),this.postRequest(this.options.accessUrl,d,this.options,(d,h)=>{let m;if(d)return e(d);try{m=JSON.parse(h.toString())}catch(d){return e(d)}if(!m||"object"!=typeof m)return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(h||"").toString()),e(Error("Invalid authentication response"));let g={};if(Object.keys(m).forEach(e=>{"access_token"!==e?g[e]=m[e]:g[e]=(m[e]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(g)),m.error){let d=m.error;return m.error_description&&(d+=": "+m.error_description),m.error_uri&&(d+=" ("+m.error_uri+")"),e(Error(d))}return m.access_token?(this.updateToken(m.access_token,m.expires_in),e(null,this.accessToken)):e(Error("No access token"))})}buildXOAuth2Token(e){let d=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(d.join("\x01"),"utf-8").toString("base64")}postRequest(e,d,h,m){let y=!1,b=[],v=0,w=g(e,{method:"post",headers:h.customHeaders,body:d,allowErrorResponse:!0});w.on("readable",()=>{let e;for(;null!==(e=w.read());)b.push(e),v+=e.length}),w.once("error",e=>{if(!y)return y=!0,m(e)}),w.once("end",()=>{if(!y)return y=!0,m(null,Buffer.concat(b,v))})}toBase64URL(e){return"string"==typeof e&&(e=Buffer.from(e)),e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(e=>this.toBase64URL(e)).join(".");let d=y.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(d)}}e.exports=v},36994:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(11622),g=h(52046),y=h(31934),b=h(31934);d.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:d,schema:h,data:v,parentSchema:w,it:S}=e,{opts:x}=S,_=(0,m.allSchemaProperties)(h),E=_.filter(e=>(0,y.alwaysValidSchema)(S,h[e]));if(0===_.length||E.length===_.length&&(!S.opts.unevaluated||!0===S.props))return;let T=x.strictSchema&&!x.allowMatchingProperties&&w.properties,k=d.name("valid");!0===S.props||S.props instanceof g.Name||(S.props=(0,b.evaluatedPropsToName)(d,S.props));let{props:C}=S;function P(e){for(let d in T)new RegExp(e).test(d)&&(0,y.checkStrictMode)(S,`property ${d} matches pattern ${e} (use allowMatchingProperties)`)}function O(h){d.forIn("key",v,y=>{d.if((0,g._)`${(0,m.usePattern)(e,h)}.test(${y})`,()=>{let m=E.includes(h);m||e.subschema({keyword:"patternProperties",schemaProp:h,dataProp:y,dataPropType:b.Type.Str},k),S.opts.unevaluated&&!0!==C?d.assign((0,g._)`${C}[${y}]`,!0):m||S.allErrors||d.if((0,g.not)(k),()=>d.break())})})}(function e(){for(let e of _)T&&P(e),S.allErrors?O(e):(d.var(k,!0),O(e),d.if(k))})()}}},37122:(e,d,h)=>{"use strict";h.d(d,{h:()=>b,x:()=>v});var m=h(76941),g=h(55324),y=h(6541);let b=e=>{let d,h,b=e.credentials,v=!!e.credentials;Object.defineProperty(e,"credentials",{set(h){h&&h!==b&&h!==d&&(v=!0);let g=w(e,{credentials:b=h,credentialDefaultProvider:e.credentialDefaultProvider}),y=S(e,g);v&&!y.attributed?((d=async e=>y(e).then(e=>(0,m.g)(e,"CREDENTIALS_CODE","e"))).memoized=y.memoized,d.configBound=y.configBound,d.attributed=!0):d=y},get:()=>d,enumerable:!0,configurable:!0}),e.credentials=b;let{signingEscapePath:x=!0,systemClockOffset:_=e.systemClockOffset||0,sha256:E}=e;return h=e.signer?(0,g.normalizeProvider)(e.signer):e.regionInfoProvider?()=>(0,g.normalizeProvider)(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,h])=>{let{signingRegion:m,signingService:g}=d;e.signingRegion=e.signingRegion||m||h,e.signingName=e.signingName||g||e.serviceId;let b={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:E,uriEscapePath:x};return new(e.signerConstructor||y.SignatureV4)(b)}):async d=>{let h=(d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await (0,g.normalizeProvider)(e.region)(),properties:{}},d)).signingRegion,m=d.signingName;e.signingRegion=e.signingRegion||h,e.signingName=e.signingName||m||e.serviceId;let b={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:E,uriEscapePath:x};return new(e.signerConstructor||y.SignatureV4)(b)},Object.assign(e,{systemClockOffset:_,signingEscapePath:x,signer:h})},v=b;function w(e,{credentials:d,credentialDefaultProvider:h}){let m;return(m=d?d?.memoized?d:(0,g.memoizeIdentityProvider)(d,g.isIdentityExpired,g.doesIdentityRequireRefresh):h?(0,g.normalizeProvider)(h(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")}).memoized=!0,m}function S(e,d){if(d.configBound)return d;let h=async h=>d({...h,callerClientConfig:e});return h.memoized=d.memoized,h.configBound=!0,h}},37123:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getRules=d.isJSONType=void 0;let h=new Set(["string","number","integer","boolean","null","object","array"]);d.isJSONType=function(e){return"string"==typeof e&&h.has(e)},d.getRules=function(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},37182:(e,d,h)=>{"use strict";h.d(d,{Ay:()=>g,FU:()=>m});let m={name:"snapshot",type:"checkbox",admin:{disableBulkEdit:!0,disabled:!0},index:!0},g=[{name:"_status",type:"select",admin:{components:{Field:!1},disableBulkEdit:!0},defaultValue:"draft",index:!0,label:({t:e})=>e("version:status"),options:[{label:({t:e})=>e("version:draft"),value:"draft"},{label:({t:e})=>e("version:published"),value:"published"}]}]},37279:e=>{"use strict";e.exports=JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]')},37317:(e,d)=>{"use strict";let{hasOwnProperty:h}=Object.prototype,m=O();m.configure=O,m.stringify=m,m.default=m,d.stringify=m,d.configure=O,e.exports=m;let g=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function y(e){return e.length<5e3&&!g.test(e)?`"${e}"`:JSON.stringify(e)}function b(e,d){if(e.length>200||d)return e.sort(d);for(let d=1;d<e.length;d++){let h=e[d],m=d;for(;0!==m&&e[m-1]>h;)e[m]=e[m-1],m--;e[m]=h}return e}let v=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function w(e){return void 0!==v.call(e)&&0!==e.length}function S(e,d,h){e.length<h&&(h=e.length);let m=","===d?"":" ",g=`"0":${m}${e[0]}`;for(let y=1;y<h;y++)g+=`${d}"${y}":${m}${e[y]}`;return g}function x(e){if(h.call(e,"circularValue")){let d=e.circularValue;if("string"==typeof d)return`"${d}"`;if(null==d)return d;if(d===Error||d===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function _(e){let d;if(h.call(e,"deterministic")&&"boolean"!=typeof(d=e.deterministic)&&"function"!=typeof d)throw TypeError('The "deterministic" argument must be of type boolean or comparator function');return void 0===d||d}function E(e,d){let m;if(h.call(e,d)&&"boolean"!=typeof(m=e[d]))throw TypeError(`The "${d}" argument must be of type boolean`);return void 0===m||m}function T(e,d){let m;if(h.call(e,d)){if("number"!=typeof(m=e[d]))throw TypeError(`The "${d}" argument must be of type number`);if(!Number.isInteger(m))throw TypeError(`The "${d}" argument must be an integer`);if(m<1)throw RangeError(`The "${d}" argument must be >= 1`)}return void 0===m?1/0:m}function k(e){return 1===e?"1 item":`${e} items`}function C(e){let d=new Set;for(let h of e)("string"==typeof h||"number"==typeof h)&&d.add(String(h));return d}function P(e){if(h.call(e,"strict")){let d=e.strict;if("boolean"!=typeof d)throw TypeError('The "strict" argument must be of type boolean');if(d)return e=>{let d=`Object can not safely be stringified. Received type ${typeof e}`;throw"function"!=typeof e&&(d+=` (${e.toString()})`),Error(d)}}}function O(e){let d=P(e={...e});d&&(void 0===e.bigint&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let h=x(e),m=E(e,"bigint"),g=_(e),v="function"==typeof g?g:void 0,O=T(e,"maximumDepth"),I=T(e,"maximumBreadth");function R(e,S,x,_,E,T){let C=S[e];switch("object"==typeof C&&null!==C&&"function"==typeof C.toJSON&&(C=C.toJSON(e)),typeof(C=_.call(S,e,C))){case"string":return y(C);case"object":{if(null===C)return"null";if(-1!==x.indexOf(C))return h;let e="",d=",",m=T;if(Array.isArray(C)){if(0===C.length)return"[]";if(O<x.length+1)return'"[Array]"';x.push(C),""!==E&&(T+=E,e+=`
${T}`,d=`,
${T}`);let h=Math.min(C.length,I),g=0;for(;g<h-1;g++){let h=R(String(g),C,x,_,E,T);e+=void 0!==h?h:"null",e+=d}let y=R(String(g),C,x,_,E,T);if(e+=void 0!==y?y:"null",C.length-1>I){let h=C.length-I-1;e+=`${d}"... ${k(h)} not stringified"`}return""!==E&&(e+=`
${m}`),x.pop(),`[${e}]`}let S=Object.keys(C),P=S.length;if(0===P)return"{}";if(O<x.length+1)return'"[Object]"';let D="",L="";""!==E&&(T+=E,d=`,
${T}`,D=" ");let $=Math.min(P,I);g&&!w(C)&&(S=b(S,v)),x.push(C);for(let h=0;h<$;h++){let m=S[h],g=R(m,C,x,_,E,T);void 0!==g&&(e+=`${L}${y(m)}:${D}${g}`,L=d)}if(P>I){let h=P-I;e+=`${L}"...":${D}"${k(h)} not stringified"`,L=d}return""!==E&&L.length>1&&(e=`
${T}${e}
${m}`),x.pop(),`{${e}}`}case"number":return isFinite(C)?String(C):d?d(C):"null";case"boolean":return!0===C?"true":"false";case"undefined":return;case"bigint":if(m)return String(C);default:return d?d(C):void 0}}function D(e,g,b,v,w,S){switch("object"==typeof g&&null!==g&&"function"==typeof g.toJSON&&(g=g.toJSON(e)),typeof g){case"string":return y(g);case"object":{if(null===g)return"null";if(-1!==b.indexOf(g))return h;let e=S,d="",m=",";if(Array.isArray(g)){if(0===g.length)return"[]";if(O<b.length+1)return'"[Array]"';b.push(g),""!==w&&(S+=w,d+=`
${S}`,m=`,
${S}`);let h=Math.min(g.length,I),y=0;for(;y<h-1;y++){let e=D(String(y),g[y],b,v,w,S);d+=void 0!==e?e:"null",d+=m}let x=D(String(y),g[y],b,v,w,S);if(d+=void 0!==x?x:"null",g.length-1>I){let e=g.length-I-1;d+=`${m}"... ${k(e)} not stringified"`}return""!==w&&(d+=`
${e}`),b.pop(),`[${d}]`}b.push(g);let x="";""!==w&&(S+=w,m=`,
${S}`,x=" ");let _="";for(let e of v){let h=D(e,g[e],b,v,w,S);void 0!==h&&(d+=`${_}${y(e)}:${x}${h}`,_=m)}return""!==w&&_.length>1&&(d=`
${S}${d}
${e}`),b.pop(),`{${d}}`}case"number":return isFinite(g)?String(g):d?d(g):"null";case"boolean":return!0===g?"true":"false";case"undefined":return;case"bigint":if(m)return String(g);default:return d?d(g):void 0}}function L(e,x,_,E,T){switch(typeof x){case"string":return y(x);case"object":{if(null===x)return"null";if("function"==typeof x.toJSON){if("object"!=typeof(x=x.toJSON(e)))return L(e,x,_,E,T);if(null===x)return"null"}if(-1!==_.indexOf(x))return h;let d=T;if(Array.isArray(x)){if(0===x.length)return"[]";if(O<_.length+1)return'"[Array]"';_.push(x),T+=E;let e=`
${T}`,h=`,
${T}`,m=Math.min(x.length,I),g=0;for(;g<m-1;g++){let d=L(String(g),x[g],_,E,T);e+=void 0!==d?d:"null",e+=h}let y=L(String(g),x[g],_,E,T);if(e+=void 0!==y?y:"null",x.length-1>I){let d=x.length-I-1;e+=`${h}"... ${k(d)} not stringified"`}return e+=`
${d}`,_.pop(),`[${e}]`}let m=Object.keys(x),C=m.length;if(0===C)return"{}";if(O<_.length+1)return'"[Object]"';T+=E;let P=`,
${T}`,R="",D="",$=Math.min(C,I);w(x)&&(R+=S(x,P,I),m=m.slice(x.length),$-=x.length,D=P),g&&(m=b(m,v)),_.push(x);for(let e=0;e<$;e++){let d=m[e],h=L(d,x[d],_,E,T);void 0!==h&&(R+=`${D}${y(d)}: ${h}`,D=P)}if(C>I){let e=C-I;R+=`${D}"...": "${k(e)} not stringified"`,D=P}return""!==D&&(R=`
${T}${R}
${d}`),_.pop(),`{${R}}`}case"number":return isFinite(x)?String(x):d?d(x):"null";case"boolean":return!0===x?"true":"false";case"undefined":return;case"bigint":if(m)return String(x);default:return d?d(x):void 0}}function $(e,x,_){switch(typeof x){case"string":return y(x);case"object":{if(null===x)return"null";if("function"==typeof x.toJSON){if("object"!=typeof(x=x.toJSON(e)))return $(e,x,_);if(null===x)return"null"}if(-1!==_.indexOf(x))return h;let d="",m=void 0!==x.length;if(m&&Array.isArray(x)){if(0===x.length)return"[]";if(O<_.length+1)return'"[Array]"';_.push(x);let e=Math.min(x.length,I),h=0;for(;h<e-1;h++){let e=$(String(h),x[h],_);d+=void 0!==e?e:"null",d+=","}let m=$(String(h),x[h],_);if(d+=void 0!==m?m:"null",x.length-1>I){let e=x.length-I-1;d+=`,"... ${k(e)} not stringified"`}return _.pop(),`[${d}]`}let E=Object.keys(x),T=E.length;if(0===T)return"{}";if(O<_.length+1)return'"[Object]"';let C="",P=Math.min(T,I);m&&w(x)&&(d+=S(x,",",I),E=E.slice(x.length),P-=x.length,C=","),g&&(E=b(E,v)),_.push(x);for(let e=0;e<P;e++){let h=E[e],m=$(h,x[h],_);void 0!==m&&(d+=`${C}${y(h)}:${m}`,C=",")}if(T>I){let e=T-I;d+=`${C}"...":"${k(e)} not stringified"`}return _.pop(),`{${d}}`}case"number":return isFinite(x)?String(x):d?d(x):"null";case"boolean":return!0===x?"true":"false";case"undefined":return;case"bigint":if(m)return String(x);default:return d?d(x):void 0}}return function(e,d,h){if(arguments.length>1){let m="";if("number"==typeof h?m=" ".repeat(Math.min(h,10)):"string"==typeof h&&(m=h.slice(0,10)),null!=d){if("function"==typeof d)return R("",{"":e},[],d,m,"");if(Array.isArray(d))return D("",e,[],C(d),m,"")}if(0!==m.length)return L("",e,[],m,"")}return $("",e,[])}}},37350:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{EventStreamMarshaller:()=>k,eventStreamSerdeProvider:()=>C}),e.exports=S(x);var _=h(13038),E=h(27910);async function*T(e){let d=!1,h=!1,m=[];for(e.on("error",e=>{if(d||(d=!0),e)throw e}),e.on("data",e=>{m.push(e)}),e.on("end",()=>{d=!0});!h;){let e=await new Promise(e=>setTimeout(()=>e(m.shift()),0));e&&(yield e),h=d&&0===m.length}}v(T,"readabletoIterable");var k=class{static{v(this,"EventStreamMarshaller")}constructor({utf8Encoder:e,utf8Decoder:d}){this.universalMarshaller=new _.EventStreamMarshaller({utf8Decoder:d,utf8Encoder:e})}deserialize(e,d){let h="function"==typeof e[Symbol.asyncIterator]?e:T(e);return this.universalMarshaller.deserialize(h,d)}serialize(e,d){return E.Readable.from(this.universalMarshaller.serialize(e,d))}},C=v(e=>new k(e),"eventStreamSerdeProvider")},37601:(e,d,h)=>{"use strict";h.d(d,{V:()=>g});var m=h(69548);let g=({select:e})=>e?"include"===(0,m.a)(e)?{parent:!0,version:e}:{version:e}:void 0},37701:e=>{"use strict";let d="undefined"!=typeof Buffer,h=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,m=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function g(e,g,b){null==b&&null!==g&&"object"==typeof g&&(b=g,g=void 0),d&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let v=JSON.parse(e,g);if(null===v||"object"!=typeof v)return v;let w=b&&b.protoAction||"error",S=b&&b.constructorAction||"error";if("ignore"===w&&"ignore"===S)return v;if("ignore"!==w&&"ignore"!==S){if(!1===h.test(e)&&!1===m.test(e))return v}else if("ignore"!==w&&"ignore"===S){if(!1===h.test(e))return v}else if(!1===m.test(e))return v;return y(v,{protoAction:w,constructorAction:S,safe:b&&b.safe})}function y(e,{protoAction:d="error",constructorAction:h="error",safe:m}={}){let g=[e];for(;g.length;){let e=g;for(let y of(g=[],e)){if("ignore"!==d&&Object.prototype.hasOwnProperty.call(y,"__proto__")){if(!0===m)return null;if("error"===d)throw SyntaxError("Object contains forbidden prototype property");delete y.__proto__}if("ignore"!==h&&Object.prototype.hasOwnProperty.call(y,"constructor")&&Object.prototype.hasOwnProperty.call(y.constructor,"prototype")){if(!0===m)return null;if("error"===h)throw SyntaxError("Object contains forbidden prototype property");delete y.constructor}for(let e in y){let d=y[e];d&&"object"==typeof d&&g.push(d)}}}return e}function b(e,d,h){let m=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(e,d,h)}finally{Error.stackTraceLimit=m}}function v(e,d){let h=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return g(e,d,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=h}}e.exports=b,e.exports.default=b,e.exports.parse=b,e.exports.safeParse=v,e.exports.scan=y},37875:(e,d,h)=>{"use strict";let m=h(99600),g=h(31088).assign,y=h(36984),b=h(94735);class v extends b{constructor(e){if(super(),this.pool=e,this.options=e.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let e=new y(this.options.auth,this.logger);e.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||e.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:e,method:"XOAUTH2"},e.on("token",e=>this.pool.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(e){this.pool.getSocket(this.options,(d,h)=>{if(d)return e(d);let y=!1,b=this.options;h&&h.connection&&(this.logger.info({tnx:"proxy",remoteAddress:h.connection.remoteAddress,remotePort:h.connection.remotePort,destHost:b.host||"",destPort:b.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",h.connection.remoteAddress,h.connection.remotePort,b.host||"",b.port||""),b=g(!1,b),Object.keys(h).forEach(e=>{b[e]=h[e]})),this.connection=new m(b),this.connection.once("error",d=>{if(this.emit("error",d),!y)return y=!0,e(d)}),this.connection.once("end",()=>{if(this.close(),y)return;y=!0;let d=setTimeout(()=>{if(y)return;let d=Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(d.code="ETLS"),e(d)},1e3);try{d.unref()}catch(e){}}),this.connection.connect(()=>{if(!y)if(!this.auth||!this.connection.allowsAuth&&!b.forceAuth)return y=!0,this._connected=!0,e(null,!0);else this.connection.login(this.auth,d=>{if(!y){if(y=!0,d)return this.connection.close(),this.emit("error",d),e(d);this._connected=!0,e(null,!0)}})})})}send(e,d){if(!this._connected)return this.connect(h=>h?d(h):this.send(e,d));let h=e.message.getEnvelope(),m=e.message.messageId(),g=[].concat(h.to||[]);g.length>3&&g.push("...and "+g.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:m,cid:this.id},"Sending message %s using #%s to <%s>",m,this.id,g.join(", ")),e.data.dsn&&(h.dsn=e.data.dsn),this.connection.send(h,e.message.createReadStream(),(e,g)=>{if(this.messages++,e)return this.connection.close(),this.emit("error",e),d(e);g.envelope={from:h.from,to:h.to},g.messageId=m,setImmediate(()=>{let e;this.messages>=this.options.maxMessages?((e=Error("Resource exhausted")).code="EMAXLIMIT",this.connection.close(),this.emit("error",e)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),d(null,g)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}}e.exports=v},38130:e=>{"use strict";e.exports=function e({log:e,context:d}){let{customPrettifiers:h,colorizer:m}=d,g="";if(e.name||e.pid||e.hostname){if(g+="(",e.name&&(g+=h.name?h.name(e.name,"name",e,{colors:m.colors}):e.name),e.pid){let d=h.pid?h.pid(e.pid,"pid",e,{colors:m.colors}):e.pid;e.name&&e.pid?g+="/"+d:g+=d}if(e.hostname){let d=h.hostname?h.hostname(e.hostname,"hostname",e,{colors:m.colors}):e.hostname;g+=`${"("===g?"on":" on"} ${d}`}g+=")"}if(e.caller){let d=h.caller?h.caller(e.caller,"caller",e,{colors:m.colors}):e.caller;g+=`${""===g?"":" "}<${d}>`}if(""!==g)return g}},38254:(e,d,h)=>{"use strict";h.r(d),h.d(d,{NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS:()=>V,S3ExpressIdentityCache:()=>I,S3ExpressIdentityCacheEntry:()=>R,S3ExpressIdentityProviderImpl:()=>D,SignatureV4S3Express:()=>H,checkContentLengthHeader:()=>v,checkContentLengthHeaderMiddlewareOptions:()=>w,getCheckContentLengthHeaderPlugin:()=>S,getRegionRedirectMiddlewarePlugin:()=>k,getS3ExpiresMiddlewarePlugin:()=>O,getS3ExpressHttpSigningPlugin:()=>en,getS3ExpressPlugin:()=>Y,getThrow200ExceptionsPlugin:()=>eh,getValidateBucketNamePlugin:()=>ev,regionRedirectEndpointMiddleware:()=>x,regionRedirectEndpointMiddlewareOptions:()=>_,regionRedirectMiddleware:()=>E,regionRedirectMiddlewareOptions:()=>T,resolveS3Config:()=>es,s3ExpiresMiddleware:()=>C,s3ExpiresMiddlewareOptions:()=>P,s3ExpressHttpSigningMiddleware:()=>ea,s3ExpressHttpSigningMiddlewareOptions:()=>er,s3ExpressMiddleware:()=>J,s3ExpressMiddlewareOptions:()=>Q,throw200ExceptionsMiddleware:()=>ec,throw200ExceptionsMiddlewareOptions:()=>eu,validateBucketNameMiddleware:()=>ey,validateBucketNameMiddlewareOptions:()=>eb});var m=h(96543),g=h(135);let y="content-length",b="x-amz-decoded-content-length";function v(){return(e,d)=>async h=>{let{request:v}=h;if(m.HttpRequest.isInstance(v)&&!(y in v.headers)&&!(b in v.headers)){let e="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"!=typeof d?.logger?.warn||d.logger instanceof g.NoOpLogger?console.warn(e):d.logger.warn(e)}return e({...h})}}let w={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},S=e=>({applyToStack:e=>{e.add(v(),w)}}),x=e=>(d,h)=>async m=>{let g=await e.region(),y=e.region,b=()=>{};h.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>h.__s3RegionRedirect}),b=()=>Object.defineProperty(e,"region",{writable:!0,value:y}));try{let y=await d(m);if(h.__s3RegionRedirect){b();let d=await e.region();if(g!==d)throw Error("Region was not restored following S3 region redirect.")}return y}catch(e){throw b(),e}},_={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function E(e){return(d,h)=>async m=>{try{return await d(m)}catch(g){if(e.followRegionRedirects&&(g?.$metadata?.httpStatusCode===301||g?.$metadata?.httpStatusCode===400&&g?.name==="IllegalLocationConstraintException")){try{let d=g.$response.headers["x-amz-bucket-region"];h.logger?.debug(`Redirecting from ${await e.region()} to ${d}`),h.__s3RegionRedirect=d}catch(e){throw Error("Region redirect failed: "+e)}return d(m)}throw g}}}let T={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},k=e=>({applyToStack:d=>{d.add(E(e),T),d.addRelativeTo(x(e),_)}}),C=e=>(e,d)=>async h=>{let y=await e(h),{response:b}=y;if(m.HttpResponse.isInstance(b)&&b.headers.expires){b.headers.expiresstring=b.headers.expires;try{(0,g.parseRfc7231DateTime)(b.headers.expires)}catch(e){d.logger?.warn(`AWS SDK Warning for ${d.clientName}::${d.commandName} response parsing (${b.headers.expires}): ${e}`),delete b.headers.expires}}return y},P={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},O=e=>({applyToStack:d=>{d.addRelativeTo(C(e),P)}});class I{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(e={}){this.data=e}get(e){let d=this.data[e];if(d)return d}set(e,d){return this.data[e]=d,d}delete(e){delete this.data[e]}async purgeExpired(){let e=Date.now();if(!(this.lastPurgeTime+I.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(let d in this.data){let h=this.data[d];if(!h.isRefreshing){let m=await h.identity;m.expiration&&m.expiration.getTime()<e&&delete this.data[d]}}}}class R{_identity;isRefreshing;accessed;constructor(e,d=!1,h=Date.now()){this._identity=e,this.isRefreshing=d,this.accessed=h}get identity(){return this.accessed=Date.now(),this._identity}}class D{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(e,d=new I){this.createSessionFn=e,this.cache=d}async getS3ExpressIdentity(e,d){let h=d.Bucket,{cache:m}=this,g=m.get(h);return g?g.identity.then(e=>(e.expiration?.getTime()??0)<Date.now()?m.set(h,new R(this.getIdentity(h))).identity:((e.expiration?.getTime()??0)<Date.now()+D.REFRESH_WINDOW_MS&&!g.isRefreshing&&(g.isRefreshing=!0,this.getIdentity(h).then(e=>{m.set(h,new R(Promise.resolve(e)))})),e)):m.set(h,new R(this.getIdentity(h))).identity}async getIdentity(e){await this.cache.purgeExpired().catch(e=>{console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+e)});let d=await this.createSessionFn(e);if(!d.Credentials?.AccessKeyId||!d.Credentials?.SecretAccessKey)throw Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:d.Credentials.AccessKeyId,secretAccessKey:d.Credentials.SecretAccessKey,sessionToken:d.Credentials.SessionToken,expiration:d.Credentials.Expiration?new Date(d.Credentials.Expiration):void 0}}}var L=h(6541),$=h(7743);let M="Directory",B="S3Express",j="sigv4-s3express",U="X-Amz-S3session-Token",F=U.toLowerCase(),z="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",q="s3_disable_express_session_auth",V={environmentVariableSelector:e=>(0,$.booleanSelector)(e,z,$.SelectorType.ENV),configFileSelector:e=>(0,$.booleanSelector)(e,q,$.SelectorType.CONFIG),default:!1};class H extends L.SignatureV4{async signWithCredentials(e,d,h){let m=K(d);e.headers[F]=d.sessionToken;let g=this;return G(g,m),g.signRequest(e,h??{})}async presignWithCredentials(e,d,h){let m=K(d);delete e.headers[F],e.headers[U]=d.sessionToken,e.query=e.query??{},e.query[U]=d.sessionToken;let g=this;return G(g,m),this.presign(e,h)}}function K(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function G(e,d){let h=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),m=e.credentialProvider,g=()=>(clearTimeout(h),e.credentialProvider=m,Promise.resolve(d));e.credentialProvider=g}var W=h(84734);let J=e=>(d,h)=>async g=>{if(h.endpointV2){let d=h.endpointV2,y=d.properties?.authSchemes?.[0]?.name===j;if((d.properties?.backend===B||d.properties?.bucketType===M)&&((0,W.J)(h,"S3_EXPRESS_BUCKET","J"),h.isS3ExpressBucket=!0),y){let d=g.input.Bucket;if(d){let y=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:d});h.s3ExpressIdentity=y,m.HttpRequest.isInstance(g.request)&&y.sessionToken&&(g.request.headers[F]=y.sessionToken)}}}return d(g)},Q={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},Y=e=>({applyToStack:d=>{d.add(J(e),Q)}});var X=h(55324);h(38755);var Z=h(43510);let ee=async(e,d,h,m)=>{let g=await m.signWithCredentials(h,e,{});if(g.headers["X-Amz-Security-Token"]||g.headers["x-amz-security-token"])throw Error("X-Amz-Security-Token must not be set for s3-express requests.");return g},et=e=>e=>{throw e},ei=(e,d)=>{},er=X.httpSigningMiddlewareOptions,ea=e=>(d,h)=>async g=>{let y;if(!m.HttpRequest.isInstance(g.request))return d(g);let b=(0,Z.getSmithyContext)(h).selectedHttpAuthScheme;if(!b)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:v={}},identity:w,signer:S}=b;y=h.s3ExpressIdentity?await ee(h.s3ExpressIdentity,v,g.request,await e.signer()):await S.sign(g.request,w,v);let x=await d({...g,request:y}).catch((S.errorHandler||et)(v));return(S.successHandler||ei)(x.response,v),x},en=e=>({applyToStack:d=>{d.addRelativeTo(ea(e),X.httpSigningMiddlewareOptions)}}),es=(e,{session:d})=>{let[h,m]=d,{forcePathStyle:g,useAccelerateEndpoint:y,disableMultiregionAccessPoints:b,followRegionRedirects:v,s3ExpressIdentityProvider:w,bucketEndpoint:S}=e;return Object.assign(e,{forcePathStyle:g??!1,useAccelerateEndpoint:y??!1,disableMultiregionAccessPoints:b??!1,followRegionRedirects:v??!1,s3ExpressIdentityProvider:w??new D(async e=>h().send(new m({Bucket:e}))),bucketEndpoint:S??!1})};var eo=h(80854);let el={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},ed=3e3,ec=e=>(d,h)=>async g=>{let y=await d(g),{response:b}=y;if(!m.HttpResponse.isInstance(b))return y;let{statusCode:v,body:w}=b;if(v<200||v>=300||"function"!=typeof w?.stream&&"function"!=typeof w?.pipe&&"function"!=typeof w?.tee)return y;let S=w,x=w;!w||"object"!=typeof w||w instanceof Uint8Array||([S,x]=await (0,eo.splitStream)(w)),b.body=x;let _=await ep(S,{streamCollector:async e=>(0,eo.headStream)(e,ed)});"function"==typeof S?.destroy&&S.destroy();let E=e.utf8Encoder(_.subarray(_.length-16));if(0===_.length&&el[h.commandName]){let e=Error("S3 aborted request");throw e.name="InternalError",e}return E&&E.endsWith("</Error>")&&(b.statusCode=400),y},ep=(e=new Uint8Array,d)=>e instanceof Uint8Array?Promise.resolve(e):d.streamCollector(e)||Promise.resolve(new Uint8Array),eu={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},eh=e=>({applyToStack:d=>{d.addRelativeTo(ec(e),eu)}});var em=h(43757);function ef(e){return(d,h)=>async m=>{if(e.bucketEndpoint){let e=h.endpointV2;if(e){let d=m.input.Bucket;if("string"==typeof d)try{let m=new URL(d);h.endpointV2={...e,url:m}}catch(m){let e=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${d} could not be parsed as URL.`;throw h.logger?.constructor?.name==="NoOpLogger"?console.warn(e):h.logger?.warn?.(e),m}}}return d(m)}}let eg={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function ey({bucketEndpoint:e}){return d=>async h=>{let{input:{Bucket:m}}=h;if(!e&&"string"==typeof m&&!(0,em.validate)(m)&&m.indexOf("/")>=0){let e=Error(`Bucket name shouldn't contain '/', received '${m}'`);throw e.name="InvalidBucketName",e}return d({...h})}}let eb={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},ev=e=>({applyToStack:d=>{d.add(ey(e),eb),d.addRelativeTo(ef(e),eg)}})},38480:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.resolveSchema=d.getCompilingSchema=d.resolveRef=d.compileSchema=d.SchemaEnv=void 0;let m=h(52046),g=h(91163),y=h(9828),b=h(48395),v=h(31934),w=h(89779);class S{constructor(e){var d;let h;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(h=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!=(d=e.baseId)?d:(0,b.normalizeId)(null==h?void 0:h[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==h?void 0:h.$async,this.refs={}}}function x(e){let d,h,v=E.call(this,e);if(v)return v;let S=(0,b.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:x,lines:_}=this.opts.code,{ownProperties:T}=this.opts,k=new m.CodeGen(this.scope,{es5:x,lines:_,ownProperties:T});e.$async&&(d=k.scopeValue("Error",{ref:g.default,code:(0,m._)`require("ajv/dist/runtime/validation_error").default`}));let C=k.scopeName("validate");e.validateName=C;let P={gen:k,allErrors:this.opts.allErrors,data:y.default.data,parentData:y.default.parentData,parentDataProperty:y.default.parentDataProperty,dataNames:[y.default.data],dataPathArr:[m.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:k.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,m.stringify)(e.schema)}:{ref:e.schema}),validateName:C,ValidationError:d,schema:e.schema,schemaEnv:e,rootId:S,baseId:e.baseId||S,schemaPath:m.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,m._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,w.validateFunctionCode)(P),k.optimize(this.opts.code.optimize);let d=k.toString();h=`${k.scopeRefs(y.default.scope)}return ${d}`,this.opts.code.process&&(h=this.opts.code.process(h,e));let g=Function(`${y.default.self}`,`${y.default.scope}`,h)(this,this.scope.get());if(this.scope.value(C,{ref:g}),g.errors=null,g.schema=e.schema,g.schemaEnv=e,e.$async&&(g.$async=!0),!0===this.opts.code.source&&(g.source={validateName:C,validateCode:d,scopeValues:k._values}),this.opts.unevaluated){let{props:e,items:d}=P;g.evaluated={props:e instanceof m.Name?void 0:e,items:d instanceof m.Name?void 0:d,dynamicProps:e instanceof m.Name,dynamicItems:d instanceof m.Name},g.source&&(g.source.evaluated=(0,m.stringify)(g.evaluated))}return e.validate=g,e}catch(d){throw delete e.validate,delete e.validateName,h&&this.logger.error("Error compiling schema, function code:",h),d}finally{this._compilations.delete(e)}}function _(e){return(0,b.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:x.call(this,e)}function E(e){for(let d of this._compilations)if(T(d,e))return d}function T(e,d){return e.schema===d.schema&&e.root===d.root&&e.baseId===d.baseId}function k(e,d){let h;for(;"string"==typeof(h=this.refs[d]);)d=h;return h||this.schemas[d]||C.call(this,e,d)}function C(e,d){let h=this.opts.uriResolver.parse(d),m=(0,b._getFullPath)(this.opts.uriResolver,h),g=(0,b.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&m===g)return O.call(this,h,e);let y=(0,b.normalizeId)(m),v=this.refs[y]||this.schemas[y];if("string"==typeof v){let d=C.call(this,e,v);if("object"!=typeof(null==d?void 0:d.schema))return;return O.call(this,h,d)}if("object"==typeof(null==v?void 0:v.schema)){if(v.validate||x.call(this,v),y===(0,b.normalizeId)(d)){let{schema:d}=v,{schemaId:h}=this.opts,m=d[h];return m&&(g=(0,b.resolveUrl)(this.opts.uriResolver,g,m)),new S({schema:d,schemaId:h,root:e,baseId:g})}return O.call(this,h,v)}}d.SchemaEnv=S,d.compileSchema=x,d.resolveRef=function(e,d,h){var m;h=(0,b.resolveUrl)(this.opts.uriResolver,d,h);let g=e.refs[h];if(g)return g;let y=k.call(this,e,h);if(void 0===y){let g=null==(m=e.localRefs)?void 0:m[h],{schemaId:b}=this.opts;g&&(y=new S({schema:g,schemaId:b,root:e,baseId:d}))}if(void 0!==y)return e.refs[h]=_.call(this,y)},d.getCompilingSchema=E,d.resolveSchema=C;let P=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function O(e,{baseId:d,schema:h,root:m}){var g;let y;if((null==(g=e.fragment)?void 0:g[0])!=="/")return;for(let m of e.fragment.slice(1).split("/")){if("boolean"==typeof h)return;let e=h[(0,v.unescapeFragment)(m)];if(void 0===e)return;let g="object"==typeof(h=e)&&h[this.opts.schemaId];!P.has(m)&&g&&(d=(0,b.resolveUrl)(this.opts.uriResolver,d,g))}if("boolean"!=typeof h&&h.$ref&&!(0,v.schemaHasRulesButRef)(h,this.RULES)){let e=(0,b.resolveUrl)(this.opts.uriResolver,d,h.$ref);y=C.call(this,m,e)}let{schemaId:w}=this.opts;if((y=y||new S({schema:h,schemaId:w,root:m,baseId:d})).schema!==y.root.schema)return y}},38588:(e,d,h)=>{"use strict";h.d(d,{A:()=>g});var m=h(26900);function g(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new m.T0(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},38699:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{getHostHeaderPlugin:()=>C,hostHeaderMiddleware:()=>T,hostHeaderMiddlewareOptions:()=>k,resolveHostHeaderConfig:()=>E}),e.exports=S(x);var _=h(96543);function E(e){return e}v(E,"resolveHostHeaderConfig");var T=v(e=>d=>async h=>{if(!_.HttpRequest.isInstance(h.request))return d(h);let{request:m}=h,{handlerProtocol:g=""}=e.requestHandler.metadata||{};if(g.indexOf("h2")>=0&&!m.headers[":authority"])delete m.headers.host,m.headers[":authority"]=m.hostname+(m.port?":"+m.port:"");else if(!m.headers.host){let e=m.hostname;null!=m.port&&(e+=`:${m.port}`),m.headers.host=e}return d(h)},"hostHeaderMiddleware"),k={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},C=v(e=>({applyToStack:v(d=>{d.add(T(e),k)},"applyToStack")}),"getHostHeaderPlugin")},38703:(e,d,h)=>{"use strict";h.d(d,{K:()=>g});let m=({fields:e,sort:d})=>{let h=d,m=!1;for(let g of(0===d.indexOf("-")&&(m=!0,h=h.substring(1)),h.split("."))){let d=e.find(e=>e.name===g);if(!d)break;if("fields"in d){e=d.flattenedFields;continue}if("virtual"in d&&"string"==typeof d.virtual)return`${m?"-":""}${d.virtual}`}return d},g=({fields:e,sort:d})=>{if(d)return Array.isArray(d)?d.map(d=>m({fields:e,sort:d})):m({fields:e,sort:d})}},38741:(e,d,h)=>{"use strict";let{tokenChars:m}=h(54640);e.exports={parse:function(e){let d=new Set,h=-1,g=-1,y=0;for(;y<e.length;y++){let b=e.charCodeAt(y);if(-1===g&&1===m[b])-1===h&&(h=y);else if(0!==y&&(32===b||9===b))-1===g&&-1!==h&&(g=y);else if(44===b){if(-1===h)throw SyntaxError(`Unexpected character at index ${y}`);-1===g&&(g=y);let m=e.slice(h,g);if(d.has(m))throw SyntaxError(`The "${m}" subprotocol is duplicated`);d.add(m),h=g=-1}else throw SyntaxError(`Unexpected character at index ${y}`)}if(-1===h||-1!==g)throw SyntaxError("Unexpected end of input");let b=e.slice(h,y);if(d.has(b))throw SyntaxError(`The "${b}" subprotocol is duplicated`);return d.add(b),d}}},38755:(e,d,h)=>{"use strict";var m,g,y,b,v,w,S;h.r(d),h.d(d,{AlgorithmId:()=>b,EndpointURLScheme:()=>y,FieldPosition:()=>v,HttpApiKeyAuthLocation:()=>g,HttpAuthLocation:()=>m,IniSectionType:()=>w,RequestHandlerProtocol:()=>S,SMITHY_CONTEXT_KEY:()=>k,getDefaultClientConfiguration:()=>E,resolveDefaultRuntimeConfig:()=>T}),function(e){e.HEADER="header",e.QUERY="query"}(m||(m={})),function(e){e.HEADER="header",e.QUERY="query"}(g||(g={})),function(e){e.HTTP="http",e.HTTPS="https"}(y||(y={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(b||(b={}));let x=e=>{let d=[];return void 0!==e.sha256&&d.push({algorithmId:()=>b.SHA256,checksumConstructor:()=>e.sha256}),void 0!=e.md5&&d.push({algorithmId:()=>b.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(e){d.push(e)},checksumAlgorithms:()=>d}},_=e=>{let d={};return e.checksumAlgorithms().forEach(e=>{d[e.algorithmId()]=e.checksumConstructor()}),d},E=e=>x(e),T=e=>_(e);!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(v||(v={}));let k="__smithy_context";!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(w||(w={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(S||(S={}))},39120:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934);d.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,m._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:d,schema:h,parentSchema:y,it:b}=e;if(!Array.isArray(h))throw Error("ajv implementation error");if(b.opts.discriminator&&y.discriminator)return;let v=h,w=d.let("valid",!1),S=d.let("passing",null),x=d.name("_valid");function _(){v.forEach((h,y)=>{let v;(0,g.alwaysValidSchema)(b,h)?d.var(x,!0):v=e.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},x),y>0&&d.if((0,m._)`${x} && ${w}`).assign(w,!1).assign(S,(0,m._)`[${S}, ${y}]`).else(),d.if(x,()=>{d.assign(w,!0),d.assign(S,y),v&&e.mergeEvaluated(v,m.Name)})})}e.setParams({passing:S}),d.block(_),e.result(w,()=>e.reset(),()=>e.error(!0))}}},39287:(e,d,h)=>{"use strict";let m=h(90473);class g extends m{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=g},39444:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isBlob=d.isReadableStream=void 0,d.isReadableStream=e=>{var d;return"function"==typeof ReadableStream&&((null==(d=null==e?void 0:e.constructor)?void 0:d.name)===ReadableStream.name||e instanceof ReadableStream)},d.isBlob=e=>{var d;return"function"==typeof Blob&&((null==(d=null==e?void 0:e.constructor)?void 0:d.name)===Blob.name||e instanceof Blob)}},39468:(e,d,h)=>{"use strict";h.d(d,{m:()=>w});var m=h(71707),g=h(21429),y=h(32808);let b=({headers:e,payload:d,user:h})=>{let m,b,v=e.get("host");v&&(m=(0,y.Q)(v,d.secret)),h?.id&&(b=(0,y.Q)(String(h.id),d.secret)),(0,g.BI)({event:{type:"admin-init",domainID:m,userID:b},payload:d})};var v=h(33599);let w=async e=>{let{req:d}=e;b(d);try{return(0,v.R)({req:d})}catch(e){throw await (0,m.J)(d),e}}},39610:e=>{"use strict";let d=Symbol("pino.setLevel"),h=Symbol("pino.getLevel"),m=Symbol("pino.levelVal"),g=Symbol("pino.levelComp"),y=Symbol("pino.useLevelLabels"),b=Symbol("pino.useOnlyCustomLevels"),v=Symbol("pino.mixin"),w=Symbol("pino.lsCache"),S=Symbol("pino.chindings"),x=Symbol("pino.asJson"),_=Symbol("pino.write"),E=Symbol("pino.redactFmt"),T=Symbol("pino.time"),k=Symbol("pino.timeSliceIndex"),C=Symbol("pino.stream"),P=Symbol("pino.stringify"),O=Symbol("pino.stringifySafe"),I=Symbol("pino.stringifiers"),R=Symbol("pino.end"),D=Symbol("pino.formatOpts"),L=Symbol("pino.messageKey"),$=Symbol("pino.errorKey"),M=Symbol("pino.nestedKey"),B=Symbol("pino.nestedKeyStr"),j=Symbol("pino.mixinMergeStrategy"),U=Symbol("pino.msgPrefix"),F=Symbol("pino.wildcardFirst"),z=Symbol.for("pino.serializers"),q=Symbol.for("pino.formatters"),V=Symbol.for("pino.hooks");e.exports={setLevelSym:d,getLevelSym:h,levelValSym:m,levelCompSym:g,useLevelLabelsSym:y,mixinSym:v,lsCacheSym:w,chindingsSym:S,asJsonSym:x,writeSym:_,serializersSym:z,redactFmtSym:E,timeSym:T,timeSliceIndexSym:k,streamSym:C,stringifySym:P,stringifySafeSym:O,stringifiersSym:I,endSym:R,formatOptsSym:D,messageKeySym:L,errorKeySym:$,nestedKeySym:M,wildcardFirstSym:F,needsMetadataGsym:Symbol.for("pino.metadata"),useOnlyCustomLevelsSym:b,formattersSym:q,hooksSym:V,nestedKeyStrSym:B,mixinMergeStrategySym:j,msgPrefixSym:U}},39638:e=>{"use strict";e.exports={nullTime:()=>"",epochTime:()=>`,"time":${Date.now()}`,unixTime:()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}},40496:(e,d,h)=>{"use strict";h.d(d,{h:()=>g});var m=h(52770);let g=async e=>{let{id:d,...h}=e;return(0,m.k)({...h,data:e?.data||{},duplicateFromID:d})}},40598:(e,d,h)=>{"use strict";h.d(d,{t:()=>g});var m=h(15428);let g=async({collection:e,context:d,data:h,doc:g,global:y,operation:b,previousDoc:v,req:w})=>(await (0,m.m)({collection:e,context:d,data:h,doc:g,fields:e?.fields||y?.fields,global:y,operation:b,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",previousDoc:v,previousSiblingDoc:v,req:w,siblingData:h,siblingDoc:g}),g)},40633:(e,d,h)=>{"use strict";let m=h(97750);class g extends m{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}e.exports=g},40765:(e,d,h)=>{"use strict";h.d(d,{l:()=>P});var m=h(11746),g=h(68139),y=h(553),b=h(40598),v=h(89426),w=h(42303),S=h(46037),x=h(97507),_=h(16861),E=h(36914),T=h(22894),k=h(59587),C=h(42372);let P=async({id:e,accessResults:d,autosave:h,collectionConfig:P,config:O,data:I,depth:R,docWithLocales:D,draftArg:L,fallbackLocale:$,filesToUpload:M,locale:B,overrideAccess:j,overrideLock:U,payload:F,populate:z,publishSpecificLocale:q,req:V,select:H,showHiddenFields:K})=>{let G,W=I?.password,J=!!(L&&P.versions.drafts)&&"published"!==I._status,Q=!!(W&&P.auth&&(!P.auth.disableLocalStrategy||"object"==typeof P.auth.disableLocalStrategy&&P.auth.disableLocalStrategy.enableFields)&&!J);await (0,T.B)({id:e,collectionSlug:P.slug,lockErrorMessage:`Document with ID ${e} is currently locked by another user and cannot be updated.`,overrideLock:U,req:V});let Y=await (0,v.v)({collection:P,context:V.context,depth:0,doc:(0,x.Zt)(D),draft:L,fallbackLocale:e?null:$,global:null,locale:B,overrideAccess:!0,req:V,showHiddenFields:!0});if(P.auth&&(0,m.q)({authOptions:P.auth,collectionSlug:P.slug,data:I,operation:"update",originalDoc:Y,req:V}),await (0,_.F)({collectionConfig:P,config:O,doc:D,files:M,overrideDelete:!1,req:V}),I=await (0,S.M)({id:e,collection:P,context:V.context,data:I,doc:Y,global:null,operation:"update",overrideAccess:j,req:V}),P.hooks?.beforeValidate?.length)for(let e of P.hooks.beforeValidate)I=await e({collection:P,context:V.context,data:I,operation:"update",originalDoc:Y,req:V})||I;if(P.upload.disableLocalStorage||await (0,E.Z)(F,M,V),P.hooks?.beforeChange?.length)for(let e of P.hooks.beforeChange)I=await e({collection:P,context:V.context,data:I,operation:"update",originalDoc:Y,req:V})||I;let X=D,Z={id:e,collection:P,context:V.context,data:{...I,id:e},doc:Y,docWithLocales:void 0,global:null,operation:"update",overrideAccess:j,req:V,skipValidation:J&&P.versions.drafts&&!P.versions.drafts.validate};q&&(G=await (0,w.o)({...Z,docWithLocales:D}),X=await (0,k.a)({id:e,config:P,payload:F,published:!0,query:{collection:P.slug,locale:B,req:V,where:(0,y.m)({id:{equals:e}},d)},req:V})||{});let ee=await (0,w.o)({...Z,docWithLocales:X}),et={...ee};if(Q&&"string"==typeof W){let{hash:e,salt:d}=await (0,g.$)({collection:P,password:W,req:V});et.salt=d,et.hash=e,delete et.password,delete I.password}if(J||(ee=await V.payload.db.updateOne({id:e,collection:P.slug,data:et,locale:B,req:V,select:H})),P.versions&&(ee=await (0,C.U)({id:e,autosave:h,collection:P,docWithLocales:ee,draft:J,payload:F,publishSpecificLocale:q,req:V,select:H,snapshot:G})),ee=await (0,v.v)({collection:P,context:V.context,depth:R,doc:ee,draft:L,fallbackLocale:$,global:null,locale:B,overrideAccess:j,populate:z,req:V,select:H,showHiddenFields:K}),P.hooks?.afterRead?.length)for(let e of P.hooks.afterRead)ee=await e({collection:P,context:V.context,doc:ee,req:V})||ee;if(ee=await (0,b.t)({collection:P,context:V.context,data:I,doc:ee,global:null,operation:"update",previousDoc:Y,req:V}),P.hooks?.afterChange?.length)for(let e of P.hooks.afterChange)ee=await e({collection:P,context:V.context,doc:ee,operation:"update",previousDoc:Y,req:V})||ee;return ee}},40788:(e,d,h)=>{"use strict";h.d(d,{L:()=>k});var m=h(13062),g=h(26154),y=h(553),b=h(89554),v=h(14603),w=h(19131),S=h(89426),x=h(71707),_=h(12276),E=h(80961),T=h(37601);let k=async e=>{let{id:d,collection:{config:h},currentDepth:k,depth:C,disableErrors:P,overrideAccess:O,populate:I,req:{fallbackLocale:R,locale:D,payload:L},req:$,select:M,showHiddenFields:B}=e;if(!d)throw new b.L("Missing ID of version.",m.h.BAD_REQUEST);try{let e=!!O||await (0,g.A)({id:d,disableErrors:P,req:$},h.access.readVersions);if(!1===e)return null;let m="object"==typeof e,b=(0,y.m)({id:{equals:d}},e),x=(0,_.Y)({fields:(0,E.c)(L.config,h,!0),forceSelect:(0,T.V)({select:h.forceSelect}),select:M,versions:!0}),j=(await L.db.findVersions({collection:h.slug,limit:1,locale:D,pagination:!1,req:$,select:x,where:b})).docs[0];if(!j){if(!P){if(!m)throw new v.M($.t);if(m)throw new w.c($.t)}return null}if(j.version||(j.version={}),h.hooks?.beforeRead?.length)for(let e of h.hooks.beforeRead)j.version=await e({collection:h,context:$.context,doc:j.version,query:b,req:$})||j.version;if(j.version=await (0,S.v)({collection:h,context:$.context,currentDepth:k,depth:C,doc:j.version,draft:void 0,fallbackLocale:R,global:null,locale:D,overrideAccess:O,populate:I,req:$,select:"object"==typeof x?.version?x.version:void 0,showHiddenFields:B}),h.hooks?.afterRead?.length)for(let e of h.hooks.afterRead)j.version=await e({collection:h,context:$.context,doc:j.version,query:b,req:$})||j.version;return j}catch(e){throw await (0,x.J)($),e}}},40844:e=>{"use strict";e.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}},41531:e=>{"use strict";e.exports=function e(e){return e?"string"==typeof e?e.split(",").reduce((e,d,h)=>{let[m,g=h]=d.split(":");return e[m.toLowerCase()]=g,e},{}):"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((d,h)=>(d[h.toLowerCase()]=e[h],d),{}):{}:{}}},41696:(e,d,h)=>{"use strict";h.d(d,{H:()=>m});let m=async({id:e,slug:d,payload:h,req:m})=>{try{await h.db.deleteVersions({collection:d,req:m,where:{parent:{equals:e}}})}catch(m){h.logger.error({err:m,msg:`There was an error removing versions for the deleted ${d} document with ID ${e}.`})}}},41855:(e,d,h)=>{"use strict";h.d(d,{A:()=>m});let m=e=>Math.floor(e.getTime()/1e3)},41893:e=>{"use strict";let d="\x1b",h=`${d}[`,m="\x07",g={to:(e,d)=>d?`${h}${d+1};${e+1}H`:`${h}${e+1}G`,move(e,d){let m="";return e<0?m+=`${h}${-e}D`:e>0&&(m+=`${h}${e}C`),d<0?m+=`${h}${-d}A`:d>0&&(m+=`${h}${d}B`),m},up:(e=1)=>`${h}${e}A`,down:(e=1)=>`${h}${e}B`,forward:(e=1)=>`${h}${e}C`,backward:(e=1)=>`${h}${e}D`,nextLine:(e=1)=>`${h}E`.repeat(e),prevLine:(e=1)=>`${h}F`.repeat(e),left:`${h}G`,hide:`${h}?25l`,show:`${h}?25h`,save:`${d}7`,restore:`${d}8`},y={up:(e=1)=>`${h}S`.repeat(e),down:(e=1)=>`${h}T`.repeat(e)},b={screen:`${h}2J`,up:(e=1)=>`${h}1J`.repeat(e),down:(e=1)=>`${h}J`.repeat(e),line:`${h}2K`,lineEnd:`${h}K`,lineStart:`${h}1K`,lines(e){let d="";for(let h=0;h<e;h++)d+=this.line+(h<e-1?g.up():"");return e&&(d+=g.left),d}};e.exports={cursor:g,scroll:y,erase:b,beep:m}},42004:e=>{"use strict";e.exports=(e,d)=>{if(!e.meta||"escape"===e.name){if(e.ctrl){if("a"===e.name)return"first";if("c"===e.name||"d"===e.name)return"abort";if("e"===e.name)return"last";if("g"===e.name)return"reset"}if(d){if("j"===e.name)return"down";if("k"===e.name)return"up"}return"return"===e.name||"enter"===e.name?"submit":"backspace"===e.name?"delete":"delete"===e.name?"deleteForward":"abort"===e.name?"abort":"escape"===e.name?"exit":"tab"===e.name?"next":"pagedown"===e.name?"nextPage":"pageup"===e.name?"prevPage":"home"===e.name?"home":"end"===e.name?"end":"up"===e.name?"up":"down"===e.name?"down":"right"===e.name?"right":"left"===e.name&&"left"}}},42303:(e,d,h)=>{"use strict";h.d(d,{o:()=>b});var m=h(79853),g=h(97507),y=h(8409);let b=async({id:e,collection:d,context:h,data:b,doc:v,docWithLocales:w,global:S,operation:x,overrideAccess:_,req:E,skipValidation:T})=>{let k=(0,g.Zt)(b),C=[],P=[];if(await (0,y.m)({id:e,collection:d,context:h,data:k,doc:v,docWithLocales:w,errors:P,fieldLabelPath:"",fields:d?.fields||S?.fields,global:S,mergeLocaleActions:C,operation:x,overrideAccess:_,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:E,siblingData:k,siblingDoc:v,siblingDocWithLocales:w,skipValidation:T}),P.length>0)throw new m.y({id:e,collection:d?.slug,errors:P,global:S?.slug,req:E},E.t);for(let e of C)await e();return k}},42344:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getEndpointFromConfig=void 0;let m=h(35804),g=h(42839);d.getEndpointFromConfig=async e=>(0,m.loadConfig)((0,g.getEndpointUrlConfig)(null!=e?e:""))()},42372:(e,d,h)=>{"use strict";h.d(d,{U:()=>v});var m=h(97507),g=h(53296),y=h(37601);let b=async({id:e,collection:d,global:h,max:m,payload:g,req:y})=>{let b=d?"collection":"global",v=d?d.slug:h?.slug;try{let b,w={};if(d){w.parent={equals:e};let h=await g.db.findVersions({collection:d.slug,limit:1,pagination:!1,req:y,skip:m,sort:"-updatedAt",where:w});[b]=h.docs}else if(h){let e=await g.db.findGlobalVersions({global:h.slug,limit:1,pagination:!1,req:y,skip:m,sort:"-updatedAt",where:w});[b]=e.docs}if(b?.updatedAt){let h={updatedAt:{less_than_equal:b.updatedAt}};d&&(h.parent={equals:e}),await g.db.deleteVersions({collection:v,req:y,where:h})}}catch(e){g.logger.error(`There was an error cleaning up old versions for the ${b} ${v}`)}},v=async({id:e,autosave:d,collection:h,docWithLocales:v,draft:w,global:S,payload:x,publishSpecificLocale:_,req:E,select:T,snapshot:k})=>{let C,P=!0,O=new Date().toISOString(),I=(0,m.Zt)(v);w&&(I._status="draft"),h?.timestamps&&w&&(I.updatedAt=O),I._id&&delete I._id;try{if(d){let d,m={limit:1,pagination:!1,req:E,sort:"-updatedAt"};h?{docs:d}=await x.db.findVersions({...m,collection:h.slug,limit:1,pagination:!1,req:E,where:{parent:{equals:e}}}):{docs:d}=await x.db.findGlobalVersions({...m,global:S.slug,limit:1,pagination:!1,req:E});let[g]=d;if(g?.autosave===!0){P=!1;let d={createdAt:new Date(g.createdAt).toISOString(),latest:!0,parent:e,updatedAt:O,version:{...I}},m={id:g.id,req:E,versionData:d};C=h?await x.db.updateVersion({...m,collection:h.slug,req:E}):await x.db.updateGlobalVersion({...m,global:S.slug,req:E})}}if(P){let g={autosave:!!d,collectionSlug:void 0,createdAt:O,globalSlug:void 0,parent:h?e:void 0,publishedLocale:_||void 0,req:E,select:(0,y.V)({select:T}),updatedAt:O,versionData:I};if(h&&(g.collectionSlug=h.slug,C=await x.db.createVersion(g)),S&&(g.globalSlug=S.slug,C=await x.db.createGlobalVersion(g)),_&&k){let e=(0,m.Zt)(k);e._id&&delete e._id,e._status="draft";let d=new Date().toISOString(),y={...g,createdAt:d,returning:!1,snapshot:!0,updatedAt:d,versionData:e};h&&await x.db.createVersion(y),S&&await x.db.createGlobalVersion(y)}}}catch(m){let d;h&&(d=`There was an error while saving a version for the ${"string"==typeof h.labels.singular?h.labels.singular:h.slug} with ID ${e}.`),S&&(d=`There was an error while saving a version for the global ${"string"==typeof S.label?S.label:S.slug}.`),x.logger.error({err:m,msg:d});return}let R=h?h.versions.maxPerDoc:S.versions.max;P&&R>0&&await b({id:e,collection:h,global:S,max:R,payload:x,req:E});let D=C.version;return(D=(0,g.A)(D)).id=C.parent,D}},42839:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getEndpointUrlConfig=void 0;let m=h(71475),g="AWS_ENDPOINT_URL",y="endpoint_url";d.getEndpointUrlConfig=e=>({environmentVariableSelector:d=>{let h=d[[g,...e.split(" ").map(e=>e.toUpperCase())].join("_")];if(h)return h;let m=d[g];if(m)return m},configFileSelector:(d,h)=>{if(h&&d.services){let g=h[["services",d.services].join(m.CONFIG_PREFIX_SEPARATOR)];if(g){let d=g[[e.split(" ").map(e=>e.toLowerCase()).join("_"),y].join(m.CONFIG_PREFIX_SEPARATOR)];if(d)return d}}let g=d[y];if(g)return g},default:void 0})},43030:(e,d,h)=>{"use strict";h.d(d,{m:()=>k});var m=h(57650),g=h(45970),y=h(23166),b=h(74290),v=h(11770),w=h(86292),S=h(73243);let x=async({currentDepth:e,data:d,dataReference:h,depth:m,draft:g,fallbackLocale:y,field:b,index:v,key:w,locale:x,overrideAccess:_,populateArg:E,req:T,showHiddenFields:k})=>{let C,P=h;C="join"===b.type?Array.isArray(b.collection)?d.relationTo:b.collection:Array.isArray(b.relationTo)?d.relationTo:b.relationTo;let O=T.payload.collections[C];if(O){let h,C;h="join"===b.type&&Array.isArray(b.collection)||"join"!==b.type&&Array.isArray(b.relationTo)?d.value:d;let I=m&&e<=m;"string"!=typeof h&&"number"!=typeof h&&"function"==typeof h?.toString&&"object"!=typeof h&&(h=h.toString()),I&&(C=await T.payloadDataLoader.load((0,S.h)({collectionSlug:O.config.slug,currentDepth:e+1,depth:m,docID:h,draft:g,fallbackLocale:y,locale:x,overrideAccess:_,populate:E,select:E?.[O.config.slug]??O.config.defaultPopulate,showHiddenFields:k,transactionID:T.transactionID}))),C||(C=h),"number"==typeof v&&"string"==typeof w?"join"!==b.type&&Array.isArray(b.relationTo)||"join"===b.type&&Array.isArray(b.collection)?P[b.name][w][v].value=C:P[b.name][w][v]=C:"number"==typeof v||"string"==typeof w?"join"===b.type?Array.isArray(b.collection)?P[b.name].docs[v??w].value=C:P[b.name].docs[v??w]=C:Array.isArray(b.relationTo)?P[b.name][v??w].value=C:P[b.name][v??w]=C:"join"!==b.type&&Array.isArray(b.relationTo)||"join"===b.type&&Array.isArray(b.collection)?P[b.name].value=C:P[b.name]=C}},_=async({currentDepth:e,depth:d,draft:h,fallbackLocale:m,field:g,locale:y,overrideAccess:v,parentIsLocalized:w,populate:S,req:_,showHiddenFields:E,siblingDoc:T})=>{let k=T,C=(0,b.M2)(g)&&g.maxDepth<d?g.maxDepth:d,P=[];"join"===g.type||(0,b.Ez)(g)&&g.hasMany?(0,b.Cd)({field:g,parentIsLocalized:w})&&"all"===y&&"object"==typeof T[g.name]&&null!==T[g.name]?Object.keys(T[g.name]).forEach(d=>{Array.isArray(T[g.name][d])&&T[g.name][d].forEach((b,w)=>{let O=async()=>{await x({currentDepth:e,data:T[g.name][d][w],dataReference:k,depth:C,draft:h,fallbackLocale:m,field:g,index:w,key:d,locale:y,overrideAccess:v,populateArg:S,req:_,showHiddenFields:E})};P.push(O())})}):(Array.isArray(T[g.name])||Array.isArray(T[g.name]?.docs))&&(Array.isArray(T[g.name])?T[g.name]:T[g.name].docs).forEach((d,b)=>{let w=async()=>{d&&await x({currentDepth:e,data:!("join"===g.type&&Array.isArray(g.collection))&&d?.id?d.id:d,dataReference:k,depth:C,draft:h,fallbackLocale:m,field:g,index:b,locale:y,overrideAccess:v,populateArg:S,req:_,showHiddenFields:E})};P.push(w())}):g.localized&&"all"===y&&"object"==typeof T[g.name]&&null!==T[g.name]?(Object.keys(T[g.name]).forEach(d=>{let b=async()=>{await x({currentDepth:e,data:T[g.name][d],dataReference:k,depth:C,draft:h,fallbackLocale:m,field:g,key:d,locale:y,overrideAccess:v,populateArg:S,req:_,showHiddenFields:E})};P.push(b())}),await Promise.all(P)):T[g.name]&&await x({currentDepth:e,data:T[g.name],dataReference:k,depth:C,draft:h,fallbackLocale:m,field:g,locale:y,overrideAccess:v,populateArg:S,req:_,showHiddenFields:E}),await Promise.all(P)},E=async({name:e,draft:d,fallbackLocale:h,fields:m,locale:g,overrideAccess:y,ref:b,req:v,segments:w,showHiddenFields:x,siblingDoc:_})=>{let T=w.shift();if(!T)return;let k=b[T];if(void 0===k)return;if(0===w.length){_[e]=k;return}let C=m.find(e=>e.name===T);if(C){if("group"===C.type||"tab"===C.type){if(!k||"object"!=typeof k)return;return E({name:e,draft:d,fallbackLocale:h,fields:C.flattenedFields,locale:g,overrideAccess:y,ref:k,req:v,segments:w,showHiddenFields:x,siblingDoc:_})}if(("relationship"===C.type||"upload"===C.type)&&"string"==typeof C.relationTo&&!C.hasMany){let m;if(m="object"==typeof k&&k?k.id:k,"id"===w[0]&&0===w.length){_[e]=m;return}if("string"!=typeof m&&"number"!=typeof m)return;let b={},T=b,P=v.payload.collections[C.relationTo].config.flattenedFields;for(let e=0;e<w.length;e++){let d=P.find(d=>d.name===w[e]),h=e===w.length-1||d?.type==="relationship"||d?.type==="upload";if(T[w[e]]=!!h||{},T=T[w[e]],h)break}let O=await v.payloadDataLoader.load((0,S.h)({collectionSlug:C.relationTo,currentDepth:0,depth:0,docID:m,draft:d,fallbackLocale:h,locale:g,overrideAccess:y,select:b,showHiddenFields:x,transactionID:v.transactionID}));if(!O)return;return E({name:e,draft:d,fallbackLocale:h,fields:v.payload.collections[C.relationTo].config.flattenedFields,locale:g,overrideAccess:y,ref:O,req:v,segments:w,showHiddenFields:x,siblingDoc:_})}}},T=async({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,field:O,fieldIndex:I,fieldPromises:R,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:j,parentIsLocalized:U,parentPath:F,parentSchemaPath:z,populate:q,populationPromises:V,req:H,select:K,selectMode:G,showHiddenFields:W,siblingDoc:J,siblingFields:Q,triggerAccessControl:Y=!0,triggerHooks:X=!0})=>{let{indexPath:Z,path:ee,schemaPath:et}=(0,w.I)({field:O,index:I,parentIndexPath:j,parentPath:F,parentSchemaPath:z}),ei=ee?ee.split("."):[],er=et?et.split("."):[],ea=Z?Z.split("-").filter(Boolean)?.map(Number):[];if((0,b.Z7)(O)&&O.hidden&&void 0!==J[O.name]&&!W&&delete J[O.name],"id"!==ee&&!(0,y.e)({field:O,select:K,selectMode:G,siblingDoc:J}))return;let en=L&&(0,b.Z7)(O)&&"object"==typeof J[O.name]&&null!==J[O.name]&&(0,b.Cd)({field:O,parentIsLocalized:U})&&"all"!==M&&H.payload.config.localization;if(en){let e=J[O.name][M],d=e;if(P&&P!==M){let h=J[O.name][P],m=null==e;if(h)switch(O.type){case"text":case"textarea":(""===e||m)&&(d=h);break;default:m&&(d=h)}}J[O.name]=d}switch(O.type){case"group":(0,b.Z7)(O)&&void 0===J[O.name]&&(J[O.name]={});break;case"point":{let e=J[O.name];Array.isArray(e?.coordinates)&&2===e.coordinates.length?J[O.name]=e.coordinates:J[O.name]=void 0;break}case"richText":if(!O?.editor)throw new m.X(O);if("function"==typeof O?.editor)throw Error("Attempted to access unsanitized rich text editor.");break;case"tabs":O.tabs.forEach(e=>{(0,b.pz)(e)&&(void 0===J[e.name]||null===J[e.name])&&(J[e.name]={})})}if((0,b.Z7)(O)){if(X&&O.hooks?.afterRead)for(let m of O.hooks.afterRead)if((0,b.Cd)({field:O,parentIsLocalized:U})&&("all"===M||!L)&&"object"==typeof J[O.name]){let g=Object.entries(J[O.name]);await Promise.all(g.map(async([g,y])=>{let b=await m({blockData:e,collection:d,context:h,currentDepth:S,data:T,depth:x,draft:C,field:O,findMany:D,global:$,indexPath:ea,operation:"read",originalDoc:T,overrideAccess:B,path:ei,req:H,schemaPath:er,showHiddenFields:W,siblingData:J,siblingFields:Q,value:y});void 0!==b&&(J[O.name][g]=b)}))}else{let g=await m({blockData:e,collection:d,context:h,currentDepth:S,data:T,depth:x,draft:C,field:O,findMany:D,global:$,indexPath:ea,operation:"read",originalDoc:T,overrideAccess:B,path:ei,req:H,schemaPath:er,showHiddenFields:W,siblingData:J,siblingFields:Q,value:J[O.name]});void 0!==g&&(J[O.name]=g)}"virtual"in O&&"string"==typeof O.virtual&&(!O.hidden||W)&&V.push(E({name:O.name,draft:C,fallbackLocale:P,fields:(d||$).flattenedFields,locale:M,overrideAccess:B,ref:T,req:H,segments:O.virtual.split("."),showHiddenFields:W,siblingDoc:J}));let m=!0;Y&&O.access&&O.access.read&&(B||await O.access.read({id:T.id,blockData:e,data:T,doc:T,req:H,siblingData:J})||(m=!1,delete J[O.name])),m&&void 0===J[O.name]&&void 0!==O.defaultValue&&(J[O.name]=await (0,v.B)({defaultValue:O.defaultValue,locale:M,req:H,user:H.user,value:J[O.name]})),("relationship"===O.type||"upload"===O.type||"join"===O.type)&&V.push(_({currentDepth:S,depth:x,draft:C,fallbackLocale:P,field:O,locale:M,overrideAccess:B,parentIsLocalized:U,populate:q,req:H,showHiddenFields:W,siblingDoc:J}))}switch(O.type){case"array":{let m=J[O.name],g=K?.[O.name];"include"===G&&"object"==typeof g&&(g={...g,id:!0}),Array.isArray(m)?m.forEach((m,y)=>{k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:O.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:"",parentIsLocalized:U||O.localized,parentPath:ee+"."+y,parentSchemaPath:et,populate:q,populationPromises:V,req:H,select:"object"==typeof g?g:void 0,selectMode:G,showHiddenFields:W,siblingDoc:m||{},triggerAccessControl:Y,triggerHooks:X})}):en||"object"!=typeof m||null===m?J[O.name]=[]:Object.values(m).forEach(m=>{Array.isArray(m)&&m.forEach((m,g)=>{k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:O.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:"",parentIsLocalized:U||O.localized,parentPath:ee+"."+g,parentSchemaPath:et,populate:q,populationPromises:V,req:H,showHiddenFields:W,siblingDoc:m||{},triggerAccessControl:Y,triggerHooks:X})})});break}case"blocks":{let e=J[O.name];Array.isArray(e)?e.forEach((e,m)=>{let y=e.blockType,b=H.payload.blocks[y]??(O.blockReferences??O.blocks).find(e=>"string"!=typeof e&&e.slug===y),{blockSelect:v,blockSelectMode:w}=(0,g.c)({block:b,select:K?.[O.name],selectMode:G});b&&k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:b.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:"",parentIsLocalized:U||O.localized,parentPath:ee+"."+m,parentSchemaPath:et+"."+b.slug,populate:q,populationPromises:V,req:H,select:"object"==typeof v?v:void 0,selectMode:w,showHiddenFields:W,siblingDoc:e||{},triggerAccessControl:Y,triggerHooks:X})}):en||"object"!=typeof e||null===e?J[O.name]=[]:Object.values(e).forEach(e=>{Array.isArray(e)&&e.forEach((e,m)=>{let g=e.blockType,y=H.payload.blocks[g]??(O.blockReferences??O.blocks).find(e=>"string"!=typeof e&&e.slug===g);y&&k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:y.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:"",parentIsLocalized:U||O.localized,parentPath:ee+"."+m,parentSchemaPath:et+"."+y.slug,populate:q,populationPromises:V,req:H,showHiddenFields:W,siblingDoc:e||{},triggerAccessControl:Y,triggerHooks:X})})});break}case"collapsible":case"row":k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:O.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:Z,parentIsLocalized:U,parentPath:F,parentSchemaPath:et,populate:q,populationPromises:V,req:H,select:K,selectMode:G,showHiddenFields:W,siblingDoc:J,triggerAccessControl:Y,triggerHooks:X});break;case"group":if((0,b.Z7)(O)){let m=J[O.name];"object"!=typeof J[O.name]&&(m={});let g=K?.[O.name];k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:O.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:"",parentIsLocalized:U||O.localized,parentPath:ee,parentSchemaPath:et,populate:q,populationPromises:V,req:H,select:"object"==typeof g?g:void 0,selectMode:G,showHiddenFields:W,siblingDoc:m,triggerAccessControl:Y,triggerHooks:X})}else k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:O.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:Z,parentIsLocalized:U,parentPath:F,parentSchemaPath:et,populate:q,populationPromises:V,req:H,select:K,selectMode:G,showHiddenFields:W,siblingDoc:J,triggerAccessControl:Y,triggerHooks:X});break;case"richText":{if(!O?.editor)throw new m.X(O);if("function"==typeof O?.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=O?.editor;if(e?.hooks?.afterRead?.length)for(let m of e.hooks.afterRead)if((0,b.Cd)({field:O,parentIsLocalized:U})&&("all"===M||!L)&&"object"==typeof J[O.name]){let e=Object.entries(J[O.name]);await Promise.all(e.map(async([e,g])=>{let y=await m({collection:d,context:h,currentDepth:S,data:T,depth:x,draft:C,fallbackLocale:P,field:O,fieldPromises:R,findMany:D,flattenLocales:L,global:$,indexPath:ea,locale:e,operation:"read",originalDoc:T,overrideAccess:B,parentIsLocalized:U,path:ei,populate:q,populationPromises:V,req:H,schemaPath:er,showHiddenFields:W,siblingData:J,triggerAccessControl:Y,triggerHooks:X,value:g});void 0!==y&&(J[O.name][e]=y)}))}else{let e=await m({collection:d,context:h,currentDepth:S,data:T,depth:x,draft:C,fallbackLocale:P,field:O,fieldPromises:R,findMany:D,flattenLocales:L,global:$,indexPath:ea,locale:M,operation:"read",originalDoc:T,overrideAccess:B,parentIsLocalized:U,path:ei,populate:q,populationPromises:V,req:H,schemaPath:er,showHiddenFields:W,siblingData:J,triggerAccessControl:Y,triggerHooks:X,value:J[O.name]});void 0!==e&&(J[O.name]=e)}break}case"tab":{let m,g=J,y=(0,b.pz)(O);y?(g=J[O.name],"object"!=typeof J[O.name]&&(g={}),"object"==typeof K?.[O.name]&&(m=K?.[O.name])):m=K,k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:O.fields,findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:y?"":Z,parentIsLocalized:U||O.localized,parentPath:y?ee:F,parentSchemaPath:et,populate:q,populationPromises:V,req:H,select:m,selectMode:G,showHiddenFields:W,siblingDoc:g,triggerAccessControl:Y,triggerHooks:X});break}case"tabs":k({blockData:e,collection:d,context:h,currentDepth:S,depth:x,doc:T,draft:C,fallbackLocale:P,fieldPromises:R,fields:O.tabs.map(e=>({...e,type:"tab"})),findMany:D,flattenLocales:L,global:$,locale:M,overrideAccess:B,parentIndexPath:Z,parentIsLocalized:U,parentPath:ee,parentSchemaPath:et,populate:q,populationPromises:V,req:H,select:K,selectMode:G,showHiddenFields:W,siblingDoc:J,triggerAccessControl:Y,triggerHooks:X})}},k=({blockData:e,collection:d,context:h,currentDepth:m,depth:g,doc:y,draft:b,fallbackLocale:v,fieldPromises:w,fields:S,findMany:x,flattenLocales:_,global:E,locale:k,overrideAccess:C,parentIndexPath:P,parentIsLocalized:O,parentPath:I,parentSchemaPath:R,populate:D,populationPromises:L,req:$,select:M,selectMode:B,showHiddenFields:j,siblingDoc:U,triggerAccessControl:F=!0,triggerHooks:z=!0})=>{S.forEach((q,V)=>{w.push(T({blockData:e,collection:d,context:h,currentDepth:m,depth:g,doc:y,draft:b,fallbackLocale:v,field:q,fieldIndex:V,fieldPromises:w,findMany:x,flattenLocales:_,global:E,locale:k,overrideAccess:C,parentIndexPath:P,parentIsLocalized:O,parentPath:I,parentSchemaPath:R,populate:D,populationPromises:L,req:$,select:M,selectMode:B,showHiddenFields:j,siblingDoc:U,siblingFields:S,triggerAccessControl:F,triggerHooks:z}))})}},43171:(e,d,h)=>{"use strict";h.d(d,{A:()=>b});var m=h(45886),g=h(74290);function y(e,d){let{i18n:h,keepPresentationalFields:b,labelPrefix:v,moveSubFieldsToTop:w=!1,pathPrefix:S}="boolean"==typeof d?{keepPresentationalFields:d}:d??{};return e.reduce((e,x)=>{if("group"===x.type&&"fields"in x)if(w){let d="name"in x&&"string"==typeof x.name&&!!x.name,g="name"in x?x.name:void 0,_="label"in x&&x.label&&h?(0,m.sC)(x.label,h):void 0,E=v?`${v} > ${_??g}`:_??g,T="name"in x&&x.name?S?`${S}-${x.name}`:x.name:S;e.push(x,...y(x.fields,{i18n:h,keepPresentationalFields:b,labelPrefix:d?E:v,moveSubFieldsToTop:w,pathPrefix:d?T:S}))}else e.push(x);else if("tabs"===x.type&&"tabs"in x)return[...e,...x.tabs.reduce((e,x)=>{if(!(0,g.pz)(x))return[...e,...y(x.fields,d)];if(!w)return[...e,{...x,type:"tab"}];{let d="label"in x&&x.label&&h?(0,m.sC)(x.label,h):void 0,g=v?`${v} > ${d??x.name}`:d??x.name,_=x.name?S?`${S}-${x.name}`:x.name:S;return[...e,...y(x.fields,{i18n:h,keepPresentationalFields:b,labelPrefix:g,moveSubFieldsToTop:w,pathPrefix:_})]}},[])];else if((0,g.sd)(x)&&["collapsible","row"].includes(x.type))e.push(...y(x.fields,d));else if((0,g.Z7)(x)||b&&(0,g.aO)(x)){if("id"===x.name&&void 0!==v)return e;let d="label"in x&&x.label&&h?(0,m.sC)(x.label,h):void 0,g="name"in x?x.name:void 0,y=void 0!==S||void 0!==v;e.push({...x,...w&&y&&{accessor:S&&g?`${S}-${g}`:g??"",labelWithPrefix:v?`${v} > ${d??g}`:d??g}})}return e},[])}let b=y},43510:(e,d,h)=>{"use strict";h.r(d),h.d(d,{getSmithyContext:()=>g,normalizeProvider:()=>y});var m=h(38755);let g=e=>e[m.SMITHY_CONTEXT_KEY]||(e[m.SMITHY_CONTEXT_KEY]={}),y=e=>{if("function"==typeof e)return e;let d=Promise.resolve(e);return()=>d}},43566:(e,d,h)=>{"use strict";function m(e){return e&&"object"==typeof e}h.d(d,{L:()=>m})},43757:(e,d,h)=>{"use strict";h.r(d),h.d(d,{build:()=>y,parse:()=>g,validate:()=>m});let m=e=>"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6,g=e=>{let d=e.split(":");if(d.length<6||"arn"!==d[0])throw Error("Malformed ARN");let[,h,m,g,y,...b]=d;return{partition:h,service:m,region:g,accountId:y,resource:b.join(":")}},y=e=>{let{partition:d="aws",service:h,region:m,accountId:g,resource:y}=e;if([h,m,g,y].some(e=>"string"!=typeof e))throw Error("Input ARN object is invalid");return`arn:${d}:${h}:${m}:${g}:${y}`}},43769:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.MissingRefError=d.ValidationError=d.CodeGen=d.Name=d.nil=d.stringify=d.str=d._=d.KeywordCxt=d.Ajv=void 0;let m=h(28203),g=h(30611),y=h(59304),b=h(12197),v=["/properties"],w="http://json-schema.org/draft-07/schema";class S extends m.default{_addVocabularies(){super._addVocabularies(),g.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(y.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(b,v):b;this.addMetaSchema(e,w,!1),this.refs["http://json-schema.org/schema"]=w}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(w)?w:void 0)}}d.Ajv=S,e.exports=d=S,e.exports.Ajv=S,Object.defineProperty(d,"__esModule",{value:!0}),d.default=S;var x=h(89779);Object.defineProperty(d,"KeywordCxt",{enumerable:!0,get:function(){return x.KeywordCxt}});var _=h(52046);Object.defineProperty(d,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(d,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var E=h(91163);Object.defineProperty(d,"ValidationError",{enumerable:!0,get:function(){return E.default}});var T=h(78540);Object.defineProperty(d,"MissingRefError",{enumerable:!0,get:function(){return T.default}})},43771:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS:()=>k,NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME:()=>E,NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME:()=>T,NODE_USE_ARN_REGION_CONFIG_OPTIONS:()=>O,NODE_USE_ARN_REGION_ENV_NAME:()=>C,NODE_USE_ARN_REGION_INI_NAME:()=>P,bucketEndpointMiddleware:()=>em,bucketEndpointMiddlewareOptions:()=>ef,bucketHostname:()=>eo,getArnResources:()=>er,getBucketEndpointPlugin:()=>eg,getSuffixForArnEndpoint:()=>H,resolveBucketEndpointConfig:()=>ey,validateAccountId:()=>ee,validateDNSHostLabel:()=>et,validateNoDualstack:()=>ea,validateNoFIPS:()=>en,validateOutpostService:()=>J,validatePartition:()=>Q,validateRegion:()=>Y}),e.exports=S(x);var _=h(7743),E="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",T="s3_disable_multiregion_access_points",k={environmentVariableSelector:v(e=>(0,_.booleanSelector)(e,E,_.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:v(e=>(0,_.booleanSelector)(e,T,_.SelectorType.CONFIG),"configFileSelector"),default:!1},C="AWS_S3_USE_ARN_REGION",P="s3_use_arn_region",O={environmentVariableSelector:v(e=>(0,_.booleanSelector)(e,C,_.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:v(e=>(0,_.booleanSelector)(e,P,_.SelectorType.CONFIG),"configFileSelector"),default:!1},I=h(43757),R=h(96543),D=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,L=/(\d+\.){3}\d+/,$=/\.\./,M=/\./,B=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,j=/^s3(-external-1)?\.amazonaws\.com$/,U="amazonaws.com",F=v(e=>"string"==typeof e.bucketName,"isBucketNameOptions"),z=v(e=>D.test(e)&&!L.test(e)&&!$.test(e),"isDnsCompatibleBucketName"),q=v(e=>{let d=e.match(B);return[d[4],e.replace(RegExp(`^${d[0]}`),"")]},"getRegionalSuffix"),V=v(e=>j.test(e)?["us-east-1",U]:q(e),"getSuffix"),H=v(e=>j.test(e)?[e.replace(`.${U}`,""),U]:q(e),"getSuffixForArnEndpoint"),K=v(e=>{if(e.pathStyleEndpoint)throw Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw Error("HTTPS is required when bucket is an ARN")},"validateArnEndpointOptions"),G=v(e=>{if("s3"!==e&&"s3-outposts"!==e&&"s3-object-lambda"!==e)throw Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},"validateService"),W=v(e=>{if("s3"!==e)throw Error("Expect 's3' in Accesspoint ARN service component")},"validateS3Service"),J=v(e=>{if("s3-outposts"!==e)throw Error("Expect 's3-posts' in Outpost ARN service component")},"validateOutpostService"),Q=v((e,d)=>{if(e!==d.clientPartition)throw Error(`Partition in ARN is incompatible, got "${e}" but expected "${d.clientPartition}"`)},"validatePartition"),Y=v((e,d)=>{if(""===e)throw Error("ARN region is empty");if(d.useFipsEndpoint)if(d.allowFipsRegion){if(!Z(e,d.clientRegion))throw Error(`Client FIPS region ${d.clientRegion} doesn't match region ${e} in ARN`)}else throw Error("FIPS region is not supported");if(!d.useArnRegion&&!Z(e,d.clientRegion||"")&&!Z(e,d.clientSigningRegion||""))throw Error(`Region in ARN is incompatible, got ${e} but expected ${d.clientRegion}`)},"validateRegion"),X=v(e=>{if(["s3-external-1","aws-global"].includes(e))throw Error(`Client region ${e} is not regional`)},"validateRegionalClient"),Z=v((e,d)=>e===d,"isEqualRegions"),ee=v(e=>{if(!/[0-9]{12}/.exec(e))throw Error("Access point ARN accountID does not match regex '[0-9]{12}'")},"validateAccountId"),et=v((e,d={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||d?.tlsCompatible&&M.test(e))throw Error(`Invalid DNS label ${e}`)},"validateDNSHostLabel"),ei=v(e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw Error("Accelerate endpoint is not supported with custom endpoint")}},"validateCustomEndpoint"),er=v(e=>{let d=e.includes(":")?":":"/",[h,...m]=e.split(d);if("accesspoint"===h){if(1!==m.length||""===m[0])throw Error(`Access Point ARN should have one resource accesspoint${d}{accesspointname}`);return{accesspointName:m[0]}}if("outpost"===h){if(!m[0]||"accesspoint"!==m[1]||!m[2]||3!==m.length)throw Error(`Outpost ARN should have resource outpost${d}{outpostId}${d}accesspoint${d}{accesspointName}`);let[e,h,g]=m;return{outpostId:e,accesspointName:g}}throw Error(`ARN resource should begin with 'accesspoint${d}' or 'outpost${d}'`)},"getArnResources"),ea=v(e=>{if(e)throw Error("Dualstack endpoint is not supported with Outpost or Multi-region Access Point ARN.")},"validateNoDualstack"),en=v(e=>{if(e)throw Error("FIPS region is not supported with Outpost.")},"validateNoFIPS"),es=v(e=>{try{e.split(".").forEach(e=>{et(e)})}catch(d){throw Error(`"${e}" is not a DNS compatible name.`)}},"validateMrapAlias"),eo=v(e=>(ei(e),F(e)?el(e):ed(e)),"bucketHostname"),el=v(({accelerateEndpoint:e=!1,clientRegion:d,baseHostname:h,bucketName:m,dualstackEndpoint:g=!1,fipsEndpoint:y=!1,pathStyleEndpoint:b=!1,tlsCompatible:v=!0,isCustomEndpoint:w=!1})=>{let[S,x]=w?[d,h]:V(h);return b||!z(m)||v&&M.test(m)?{bucketEndpoint:!1,hostname:g?`s3.dualstack.${S}.${x}`:h}:(e?h=`s3-accelerate${g?".dualstack":""}.${x}`:g&&(h=`s3.dualstack.${S}.${x}`),{bucketEndpoint:!0,hostname:`${m}.${h}`})},"getEndpointFromBucketName"),ed=v(e=>{let{isCustomEndpoint:d,baseHostname:h,clientRegion:m}=e,g=d?h:H(h)[1],{pathStyleEndpoint:y,accelerateEndpoint:b=!1,fipsEndpoint:v=!1,tlsCompatible:w=!0,bucketName:S,clientPartition:x="aws"}=e;K({pathStyleEndpoint:y,accelerateEndpoint:b,tlsCompatible:w});let{service:_,partition:E,accountId:T,region:k,resource:C}=S;G(_),Q(E,{clientPartition:x}),ee(T);let{accesspointName:P,outpostId:O}=er(C);return"s3-object-lambda"===_?ec({...e,tlsCompatible:w,bucketName:S,accesspointName:P,hostnameSuffix:g}):""===k?ep({...e,clientRegion:m,mrapAlias:P,hostnameSuffix:g}):O?eu({...e,clientRegion:m,outpostId:O,accesspointName:P,hostnameSuffix:g}):eh({...e,clientRegion:m,accesspointName:P,hostnameSuffix:g})},"getEndpointFromArn"),ec=v(({dualstackEndpoint:e=!1,fipsEndpoint:d=!1,tlsCompatible:h=!0,useArnRegion:m,clientRegion:g,clientSigningRegion:y=g,accesspointName:b,bucketName:v,hostnameSuffix:w})=>{let{accountId:S,region:x,service:_}=v;X(g),Y(x,{useArnRegion:m,clientRegion:g,clientSigningRegion:y,allowFipsRegion:!0,useFipsEndpoint:d}),ea(e);let E=`${b}-${S}`;et(E,{tlsCompatible:h});let T=m?x:g;return{bucketEndpoint:!0,hostname:`${E}.${_}${d?"-fips":""}.${T}.${w}`,signingRegion:m?x:y,signingService:_}},"getEndpointFromObjectLambdaArn"),ep=v(({disableMultiregionAccessPoints:e,dualstackEndpoint:d=!1,isCustomEndpoint:h,mrapAlias:m,hostnameSuffix:g})=>{if(!0===e)throw Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return es(m),ea(d),{bucketEndpoint:!0,hostname:`${m}${h?"":".accesspoint.s3-global"}.${g}`,signingRegion:"*"}},"getEndpointFromMRAPArn"),eu=v(({useArnRegion:e,clientRegion:d,clientSigningRegion:h=d,bucketName:m,outpostId:g,dualstackEndpoint:y=!1,fipsEndpoint:b=!1,tlsCompatible:v=!0,accesspointName:w,isCustomEndpoint:S,hostnameSuffix:x})=>{X(d),Y(m.region,{useArnRegion:e,clientRegion:d,clientSigningRegion:h,useFipsEndpoint:b});let _=`${w}-${m.accountId}`;et(_,{tlsCompatible:v});let E=e?m.region:d,T=e?m.region:h;J(m.service),et(g,{tlsCompatible:v}),ea(y),en(b);let k=`${_}.${g}`;return{bucketEndpoint:!0,hostname:`${k}${S?"":`.s3-outposts.${E}`}.${x}`,signingRegion:T,signingService:"s3-outposts"}},"getEndpointFromOutpostArn"),eh=v(({useArnRegion:e,clientRegion:d,clientSigningRegion:h=d,bucketName:m,dualstackEndpoint:g=!1,fipsEndpoint:y=!1,tlsCompatible:b=!0,accesspointName:v,isCustomEndpoint:w,hostnameSuffix:S})=>{X(d),Y(m.region,{useArnRegion:e,clientRegion:d,clientSigningRegion:h,allowFipsRegion:!0,useFipsEndpoint:y});let x=`${v}-${m.accountId}`;et(x,{tlsCompatible:b});let _=e?m.region:d,E=e?m.region:h;return W(m.service),{bucketEndpoint:!0,hostname:`${x}${w?"":`.s3-accesspoint${y?"-fips":""}${g?".dualstack":""}.${_}`}.${S}`,signingRegion:E}},"getEndpointFromAccessPointArn"),em=v(e=>(d,h)=>async m=>{let{Bucket:g}=m.input,y=e.bucketEndpoint,b=m.request;if(R.HttpRequest.isInstance(b)){if(e.bucketEndpoint)b.hostname=g;else if((0,I.validate)(g)){let d=(0,I.parse)(g),m=await e.region(),v=await e.useDualstackEndpoint(),w=await e.useFipsEndpoint(),{partition:S,signingRegion:x=m}=await e.regionInfoProvider(m,{useDualstackEndpoint:v,useFipsEndpoint:w})||{},_=await e.useArnRegion(),{hostname:E,bucketEndpoint:T,signingRegion:k,signingService:C}=eo({bucketName:d,baseHostname:b.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:v,fipsEndpoint:w,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===b.protocol,useArnRegion:_,clientPartition:S,clientSigningRegion:x,clientRegion:m,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});k&&k!==x&&(h.signing_region=k),C&&"s3"!==C&&(h.signing_service=C),b.hostname=E,y=T}else{let d=await e.region(),h=await e.useDualstackEndpoint(),m=await e.useFipsEndpoint(),{hostname:v,bucketEndpoint:w}=eo({bucketName:g,clientRegion:d,baseHostname:b.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:h,fipsEndpoint:m,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===b.protocol,isCustomEndpoint:e.isCustomEndpoint});b.hostname=v,y=w}y&&(b.path=b.path.replace(/^(\/)?[^\/]+/,""),""===b.path&&(b.path="/"))}return d({...m,request:b})},"bucketEndpointMiddleware"),ef={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},eg=v(e=>({applyToStack:v(d=>{d.addRelativeTo(em(e),ef)},"applyToStack")}),"getBucketEndpointPlugin");function ey(e){let{bucketEndpoint:d=!1,forcePathStyle:h=!1,useAccelerateEndpoint:m=!1,useArnRegion:g=!1,disableMultiregionAccessPoints:y=!1}=e;return Object.assign(e,{bucketEndpoint:d,forcePathStyle:h,useAccelerateEndpoint:m,useArnRegion:"function"==typeof g?g:()=>Promise.resolve(g),disableMultiregionAccessPoints:"function"==typeof y?y:()=>Promise.resolve(y)})}v(ey,"resolveBucketEndpointConfig")},43803:(e,d,h)=>{"use strict";var m=h(44612),g=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/;class y{constructor(e,d){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=d,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){var d;(d=e.text?g.exec(e.text):g.exec(e.command))&&(this.command=d[1],d[3]?(this.oid=parseInt(d[2],10),this.rowCount=parseInt(d[3],10)):d[2]&&(this.rowCount=parseInt(d[2],10)))}_parseRowAsArray(e){for(var d=Array(e.length),h=0,m=e.length;h<m;h++){var g=e[h];null!==g?d[h]=this._parsers[h](g):d[h]=null}return d}parseRow(e){for(var d={...this._prebuiltEmptyResultObject},h=0,m=e.length;h<m;h++){var g=e[h],y=this.fields[h].name;null!==g&&(d[y]=this._parsers[h](g))}return d}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=Array(e.length));for(var d=0;d<e.length;d++){var h=e[d];this._types?this._parsers[d]=this._types.getTypeParser(h.dataTypeID,h.format||"text"):this._parsers[d]=m.getTypeParser(h.dataTypeID,h.format||"text")}this._createPrebuiltEmptyResultObject()}_createPrebuiltEmptyResultObject(){for(var e={},d=0;d<this.fields.length;d++)e[this.fields[d].name]=null;this._prebuiltEmptyResultObject={...e}}}e.exports=y},43850:(e,d,h)=>{"use strict";h.d(d,{r:()=>m});let m=async(e,d)=>{let{relationTo:h}=d,m=Array.isArray(h)?h:[h],g={};return void 0!==e&&await Promise.all(m.map(async h=>{g[h]="function"==typeof e?await e({...d,relationTo:h}):e,!0===g[h]&&(g[h]={}),!1===g[h]&&(g[h]={id:{exists:!1}})})),g}},44289:(e,d,h)=>{"use strict";let m=h(97750);class g extends m{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),d=this.token.length;return 2===d?String(e+1).padStart(2,"0"):3===d?this.locales.monthsShort[e]:4===d?this.locales.months[e]:String(e+1)}}e.exports=g},44314:e=>{"use strict";let d=["nodebuffer","arraybuffer","fragments"],h="undefined"!=typeof Blob;h&&d.push("blob"),e.exports={BINARY_TYPES:d,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:h,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},44584:(e,d,h)=>{"use strict";h.r(d),h.d(d,{isBrowserNetworkError:()=>_,isClockSkewCorrectedError:()=>x,isClockSkewError:()=>S,isRetryableByTrait:()=>w,isServerError:()=>k,isThrottlingError:()=>E,isTransientError:()=>T});let m=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],g=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],y=["TimeoutError","RequestTimeout","RequestTimeoutException"],b=[500,502,503,504],v=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],w=e=>void 0!==e.$retryable,S=e=>m.includes(e.name),x=e=>e.$metadata?.clockSkewCorrected,_=e=>{let d=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return!!(e&&e instanceof TypeError)&&d.has(e.message)},E=e=>e.$metadata?.httpStatusCode===429||g.includes(e.name)||e.$retryable?.throttling==!0,T=(e,d=0)=>x(e)||y.includes(e.name)||v.includes(e?.code||"")||b.includes(e.$metadata?.httpStatusCode||0)||_(e)||void 0!==e.cause&&d<=10&&T(e.cause,d+1),k=e=>{if(e.$metadata?.httpStatusCode!==void 0){let d=e.$metadata.httpStatusCode;if(500<=d&&d<=599&&!T(e))return!0}return!1}},44612:(e,d,h)=>{var m=h(93457),g=h(47563),y=h(3206),b=h(21534);d.getTypeParser=S,d.setTypeParser=x,d.arrayParser=y,d.builtins=b;var v={text:{},binary:{}};function w(e){return String(e)}function S(e,d){return v[d=d||"text"]&&v[d][e]||w}function x(e,d,h){"function"==typeof d&&(h=d,d="text"),v[d][e]=h}m.init(function(e,d){v.text[e]=d}),g.init(function(e,d){v.binary[e]=d})},44645:(e,d,h)=>{"use strict";function m(e,d,h,m,g,y,b){try{var v=e[y](b),w=v.value}catch(e){h(e);return}v.done?d(w):Promise.resolve(w).then(m,g)}function g(e){return function(){var d=this,h=arguments;return new Promise(function(g,y){var b=e.apply(d,h);function v(e){m(b,g,y,v,w,"next",e)}function w(e){m(b,g,y,v,w,"throw",e)}v(void 0)})}}let y=h(52838),b=h(85183),v=h(8984),w=v.style,S=v.clear,x=v.figures,_=h(41893),E=_.erase,T=_.cursor,k=h(72434),C=k.DatePart,P=k.Meridiem,O=k.Day,I=k.Hours,R=k.Milliseconds,D=k.Minutes,L=k.Month,$=k.Seconds,M=k.Year,B=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,j={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new O(e),3:e=>new L(e),4:e=>new M(e),5:e=>new P(e),6:e=>new I(e),7:e=>new D(e),8:e=>new $(e),9:e=>new R(e)},U={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class F extends b{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(U,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=S("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let d;for(this.parts=[];d=B.exec(e);){let e=d.shift(),h=d.findIndex(e=>null!=e);this.parts.push(h in j?j[h]({token:d[h]||e,date:this.date,parts:this.parts,locales:this.locales}):d[h]||e)}let h=this.parts.reduce((e,d)=>("string"==typeof d&&"string"==typeof e[e.length-1]?e[e.length-1]+=d:e.push(d),e),[]);this.parts.splice(0),this.parts.push(...h),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof C)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var e=this;return g(function*(){let d=yield e.validator(e.value);"string"==typeof d&&(e.errorMsg=d,d=!1),e.error=!d})()}submit(){var e=this;return g(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write("\n"),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(e=>e instanceof C)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(T.hide):this.out.write(S(this.outputText,this.out.columns)),super.render(),this.outputText=[w.symbol(this.done,this.aborted),y.bold(this.msg),w.delimiter(!1),this.parts.reduce((e,d,h)=>e.concat(h!==this.cursor||this.done?d:y.cyan().underline(d.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((e,d,h)=>e+`
${h?" ":x.pointerSmall} ${y.red().italic(d)}`,"")),this.out.write(E.line+T.to(0)+this.outputText))}}e.exports=F},44697:(e,d,h)=>{"use strict";let m=h(52838),g=h(85183),y=h(8984),b=y.style,v=y.clear,w=h(41893),S=w.erase,x=w.cursor;class _ extends g{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,d){return"y"===e.toLowerCase()?(this.value=!0,this.submit()):"n"===e.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(x.hide):this.out.write(v(this.outputText,this.out.columns)),super.render(),this.outputText=[b.symbol(this.done,this.aborted),m.bold(this.msg),b.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:m.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(S.line+x.to(0)+this.outputText))}}e.exports=_},44721:(e,d,h)=>{"use strict";let{EventEmitter:m}=h(78474),{lsCacheSym:g,levelValSym:y,setLevelSym:b,getLevelSym:v,chindingsSym:w,parsedChindingsSym:S,mixinSym:x,asJsonSym:_,writeSym:E,mixinMergeStrategySym:T,timeSym:k,timeSliceIndexSym:C,streamSym:P,serializersSym:O,formattersSym:I,errorKeySym:R,messageKeySym:D,useOnlyCustomLevelsSym:L,needsMetadataGsym:$,redactFmtSym:M,stringifySym:B,formatOptsSym:j,stringifiersSym:U,msgPrefixSym:F}=h(39610),{getLevel:z,setLevel:q,isLevelEnabled:V,mappings:H,initialLsCache:K,genLsCache:G,assertNoLevelCollisions:W}=h(84772),{asChindings:J,asJson:Q,buildFormatters:Y,stringify:X}=h(21840),{version:Z}=h(51778),ee=h(53570),et={constructor:class{},child:er,bindings:ea,setBindings:en,flush:ed,isLevelEnabled:V,version:Z,get level(){return this[v]()},set level(lvl){this[b](lvl)},get levelVal(){return this[y]},set levelVal(n){throw Error("levelVal is read-only")},[g]:K,[E]:eo,[_]:Q,[v]:z,[b]:q};Object.setPrototypeOf(et,m.prototype),e.exports=function(){return Object.create(et)};let ei=e=>e;function er(e,d){if(!e)throw Error("missing bindings for child Pino");d=d||{};let h=this[O],m=this[I],g=Object.create(this);if(!0===d.hasOwnProperty("serializers")){for(let e in g[O]=Object.create(null),h)g[O][e]=h[e];let e=Object.getOwnPropertySymbols(h);for(var y=0;y<e.length;y++){let d=e[y];g[O][d]=h[d]}for(let e in d.serializers)g[O][e]=d.serializers[e];let m=Object.getOwnPropertySymbols(d.serializers);for(var v=0;v<m.length;v++){let e=m[v];g[O][e]=d.serializers[e]}}else g[O]=h;if(d.hasOwnProperty("formatters")){let{level:e,bindings:h,log:y}=d.formatters;g[I]=Y(e||m.level,h||ei,y||m.log)}else g[I]=Y(m.level,ei,m.log);if(!0===d.hasOwnProperty("customLevels")&&(W(this.levels,d.customLevels),g.levels=H(d.customLevels,g[L]),G(g)),"object"==typeof d.redact&&null!==d.redact||Array.isArray(d.redact)){g.redact=d.redact;let e=ee(g.redact,X),h={stringify:e[M]};g[B]=X,g[U]=e,g[j]=h}"string"==typeof d.msgPrefix&&(g[F]=(this[F]||"")+d.msgPrefix),g[w]=J(g,e);let S=d.level||this.level;return g[b](S),this.onChild(g),g}function ea(){let e=this[w],d=JSON.parse(`{${e.substr(1)}}`);return delete d.pid,delete d.hostname,d}function en(e){let d=J(this,e);this[w]=d,delete this[S]}function es(e,d){return Object.assign(d,e)}function eo(e,d,h){let m,g=this[k](),y=this[x],b=this[R],v=this[D],w=this[T]||es;null==e?m={}:e instanceof Error?(m={[b]:e},void 0===d&&(d=e.message)):(m=e,void 0===d&&void 0===e[v]&&e[b]&&(d=e[b].message)),y&&(m=w(m,y(m,h,this)));let S=this[_](m,d,h,g),E=this[P];!0===E[$]&&(E.lastLevel=h,E.lastObj=m,E.lastMsg=d,E.lastTime=g.slice(this[C]),E.lastLogger=this),E.write(S)}function el(){}function ed(e){if(null!=e&&"function"!=typeof e)throw Error("callback must be a function");let d=this[P];"function"==typeof d.flush?d.flush(e||el):e&&e()}},45338:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{calculateBodyLength:()=>E}),e.exports=S(x);var _=h(29021),E=v(e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,_.lstatSync)(e.path).size;else if("number"==typeof e.fd)return(0,_.fstatSync)(e.fd).size;throw Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")},45384:(e,d,h)=>{let m;var g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,w=(e,d,h,m)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of b(d))v.call(e,w)||w===h||g(e,w,{get:()=>d[w],enumerable:!(m=y(d,w))||m.enumerable});return e},S=(e,d,h)=>(w(e,d,"default"),h&&w(h,d,"default")),x={};m=x,e.exports=w(g({},"__esModule",{value:!0}),m),S(x,h(87829),e.exports),S(x,h(8840),e.exports)},45397:(e,d,h)=>{"use strict";h.d(d,{bN:()=>T});var m=h(37830),g=h(51455),y=h(71152),b=h(69540),v=h(13741);class w extends b.G{constructor(e,d){super(d),this.fileHandle=e}async readBuffer(e,d){let h=this.normalizeOptions(e,d);if(this.position=h.position,0===h.length)return 0;let m=await this.fileHandle.read(e,h.offset,h.length,h.position);if(this.position+=m.bytesRead,m.bytesRead<h.length&&(!d||!d.mayBeLess))throw new v.d1;return m.bytesRead}async peekBuffer(e,d){let h=this.normalizeOptions(e,d),m=await this.fileHandle.read(e,h.offset,h.length,h.position);if(!h.mayBeLess&&m.bytesRead<h.length)throw new v.d1;return m.bytesRead}async close(){return await this.fileHandle.close(),super.close()}}async function S(e){let d=await (0,g.open)(e,"r"),h=await d.stat();return new w(d,{fileInfo:{path:e,size:h.size}})}async function x(e,d){let h=d??{};if(h.fileInfo=h.fileInfo??{},e.path){let d=await (0,g.stat)(e.path);h.fileInfo.path=e.path,h.fileInfo.size=d.size}return(0,y.n7)(e,h)}var _=h(4197);class E extends _.U1{async fromStream(e){let d=await (e instanceof m.ReadableStream?y.Xx(e):x(e));try{return super.fromTokenizer(d)}finally{await d.close()}}async fromFile(e){let d=await S(e);try{return await super.fromTokenizer(d)}finally{await d.close()}}async toDetectionStream(e,d={}){let{default:m}=await Promise.resolve().then(h.t.bind(h,57075,19)),{sampleSize:g=_.rB}=d;return new Promise((d,h)=>{e.on("error",h),e.once("readable",()=>{(async()=>{try{let b=new m.PassThrough,v=m.pipeline?m.pipeline(e,b,()=>{}):e.pipe(b),w=e.read(g)??e.read()??new Uint8Array(0);try{b.fileType=await this.fromBuffer(w)}catch(e){e instanceof y.d1?b.fileType=void 0:h(e)}d(v)}catch(e){h(e)}})()})})}}async function T(e,d){return new E(d).fromFile(e,d)}},45800:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{SignatureV4MultiRegion:()=>k,signatureV4CrtContainer:()=>T}),e.exports=S(x);var _=h(38254),E=h(6541),T={CrtSignerV4:null},k=class{static{v(this,"SignatureV4MultiRegion")}sigv4aSigner;sigv4Signer;signerOptions;constructor(e){this.sigv4Signer=new _.SignatureV4S3Express(e),this.signerOptions=e}async sign(e,d={}){return"*"===d.signingRegion?this.getSigv4aSigner().sign(e,d):this.sigv4Signer.sign(e,d)}async signWithCredentials(e,d,h={}){if("*"===h.signingRegion){let m=this.getSigv4aSigner(),g=T.CrtSignerV4;if(g&&m instanceof g)return m.signWithCredentials(e,d,h);throw Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.signWithCredentials(e,d,h)}async presign(e,d={}){if("*"===d.signingRegion){let h=this.getSigv4aSigner(),m=T.CrtSignerV4;if(m&&h instanceof m)return h.presign(e,d);throw Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.presign(e,d)}async presignWithCredentials(e,d,h={}){if("*"===h.signingRegion)throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,d,h)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=T.CrtSignerV4,d=E.signatureV4aContainer.SignatureV4a;if("node"===this.signerOptions.runtime){if(!e&&!d)throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(e&&"function"==typeof e)this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1});else if(d&&"function"==typeof d)this.sigv4aSigner=new d({...this.signerOptions});else throw Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!d||"function"!=typeof d)throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new d({...this.signerOptions})}}return this.sigv4aSigner}}},45865:(e,d,h)=>{"use strict";var m=Object.create,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,v=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,S=(e,d)=>g(e,"name",{value:d,configurable:!0}),x=(e,d,h,m)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let v of b(d))w.call(e,v)||v===h||g(e,v,{get:()=>d[v],enumerable:!(m=y(d,v))||m.enumerable});return e},_=(e,d,h)=>(h=null!=e?m(v(e)):{},x(!d&&e&&e.__esModule?h:g(h,"default",{value:e,enumerable:!0}),e)),E=e=>x(g({},"__esModule",{value:!0}),e),T={};((e,d)=>{for(var h in d)g(e,h,{get:d[h],enumerable:!0})})(T,{credentialsTreatedAsExpired:()=>$,credentialsWillNeedRefresh:()=>L,defaultProvider:()=>D}),e.exports=E(T);var k=h(25717),C=h(71475),P=h(11075),O="AWS_EC2_METADATA_DISABLED",I=S(async e=>{let{ENV_CMDS_FULL_URI:d,ENV_CMDS_RELATIVE_URI:m,fromContainerMetadata:g,fromInstanceMetadata:y}=await Promise.resolve().then(()=>_(h(81633)));if(process.env[m]||process.env[d]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:d}=await Promise.resolve().then(()=>_(h(10587)));return(0,P.chain)(d(e),g(e))}return process.env[O]&&"false"!==process.env[O]?async()=>{throw new P.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),y(e))},"remoteProvider"),R=!1,D=S((e={})=>(0,P.memoize)((0,P.chain)(async()=>{if(e.profile??process.env[C.ENV_PROFILE])throw process.env[k.ENV_KEY]&&process.env[k.ENV_SECRET]&&!R&&((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),R=!0),new P.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,k.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:d,ssoAccountId:m,ssoRegion:g,ssoRoleName:y,ssoSession:b}=e;if(!d&&!m&&!g&&!y&&!b)throw new P.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:v}=await Promise.resolve().then(()=>_(h(50893)));return v(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:d}=await Promise.resolve().then(()=>_(h(26702)));return d(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:d}=await Promise.resolve().then(()=>_(h(19719)));return d(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:d}=await Promise.resolve().then(()=>_(h(67174)));return d(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await I(e))()),async()=>{throw new P.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),$,L),"defaultProvider"),L=S(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),$=S(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")},45886:(e,d,h)=>{"use strict";h.d(d,{R8:()=>I,sC:()=>m,LE:()=>k,aG:()=>C});let m=(e,d)=>{if("object"==typeof e&&!Object.prototype.hasOwnProperty.call(e,"$$typeof")){if(e[d.language])return e[d.language];let h=[];"string"==typeof d.fallbackLanguage?h=[d.fallbackLanguage]:Array.isArray(d.fallbackLanguage)&&(h=d.fallbackLanguage);let m=h.find(d=>e[d]);return m&&e[m]?e[m]:e[Object.keys(e)[0]]}return"function"==typeof e?e({i18n:void 0,t:d.t}):e},g=async e=>{let d;switch(e){case"ar":d=(await h.e(3658).then(h.bind(h,23658))).ar;break;case"az":d=(await h.e(5928).then(h.bind(h,25928))).az;break;case"bg":d=(await h.e(4115).then(h.bind(h,84115))).bg;break;case"ca":d=(await h.e(2205).then(h.bind(h,2205))).ca;break;case"cs":d=(await h.e(2805).then(h.bind(h,72805))).cs;break;case"da":d=(await h.e(3661).then(h.bind(h,83661))).da;break;case"de":d=(await h.e(8045).then(h.bind(h,58045))).de;break;case"en-US":d=(await h.e(5254).then(h.bind(h,75254))).enUS;break;case"es":d=(await h.e(2298).then(h.bind(h,22298))).es;break;case"et":d=(await h.e(981).then(h.bind(h,40981))).et;break;case"fa-IR":d=(await h.e(1612).then(h.bind(h,81612))).faIR;break;case"fr":d=(await h.e(2318).then(h.bind(h,2318))).fr;break;case"he":d=(await h.e(6513).then(h.bind(h,36513))).he;break;case"hr":d=(await h.e(6138).then(h.bind(h,56138))).hr;break;case"hu":d=(await h.e(7980).then(h.bind(h,57980))).hu;break;case"it":d=(await h.e(1256).then(h.bind(h,51256))).it;break;case"ja":d=(await h.e(1415).then(h.bind(h,91415))).ja;break;case"ko":d=(await h.e(6953).then(h.bind(h,36953))).ko;break;case"lt":d=(await h.e(8610).then(h.bind(h,88610))).lt;break;case"nb":d=(await h.e(1556).then(h.bind(h,41556))).nb;break;case"nl":d=(await h.e(4179).then(h.bind(h,74179))).nl;break;case"pl":d=(await h.e(2657).then(h.bind(h,42657))).pl;break;case"pt":d=(await h.e(8488).then(h.bind(h,18488))).pt;break;case"ro":d=(await h.e(7271).then(h.bind(h,47271))).ro;break;case"rs":d=(await h.e(8687).then(h.bind(h,58687))).sr;break;case"rs-Latin":d=(await h.e(8957).then(h.bind(h,88957))).srLatn;break;case"ru":d=(await h.e(8783).then(h.bind(h,8783))).ru;break;case"sk":d=(await h.e(8257).then(h.bind(h,78257))).sk;break;case"sl-SI":d=(await h.e(8674).then(h.bind(h,58674))).sl;break;case"sv":d=(await h.e(535).then(h.bind(h,60535))).sv;break;case"th":d=(await h.e(7491).then(h.bind(h,77491))).th;break;case"tr":d=(await h.e(7250).then(h.bind(h,7250))).tr;break;case"uk":d=(await h.e(3044).then(h.bind(h,83044))).uk;break;case"vi":d=(await h.e(9718).then(h.bind(h,59718))).vi;break;case"zh-CN":d=(await h.e(7350).then(h.bind(h,54969))).zhCN;break;case"zh-TW":d=(await h.e(7593).then(h.bind(h,77593))).zhTW}return d?.default?d.default:d};var y=h(3505);let b=["authentication:account","authentication:accountOfCurrentUser","authentication:accountVerified","authentication:alreadyActivated","authentication:alreadyLoggedIn","authentication:apiKey","authentication:authenticated","authentication:backToLogin","authentication:beginCreateFirstUser","authentication:changePassword","authentication:checkYourEmailForPasswordReset","authentication:confirmGeneration","authentication:confirmPassword","authentication:createFirstUser","authentication:emailNotValid","authentication:usernameNotValid","authentication:emailOrUsername","authentication:emailSent","authentication:emailVerified","authentication:enableAPIKey","authentication:failedToUnlock","authentication:forceUnlock","authentication:forgotPassword","authentication:forgotPasswordEmailInstructions","authentication:forgotPasswordUsernameInstructions","authentication:forgotPasswordQuestion","authentication:generate","authentication:generateNewAPIKey","authentication:generatingNewAPIKeyWillInvalidate","authentication:logBackIn","authentication:loggedOutInactivity","authentication:loggedOutSuccessfully","authentication:loggingOut","authentication:login","authentication:logOut","authentication:loggedIn","authentication:loggedInChangePassword","authentication:logout","authentication:logoutUser","authentication:logoutSuccessful","authentication:newAPIKeyGenerated","authentication:newPassword","authentication:passed","authentication:passwordResetSuccessfully","authentication:resetPassword","authentication:stayLoggedIn","authentication:successfullyRegisteredFirstUser","authentication:successfullyUnlocked","authentication:username","authentication:unableToVerify","authentication:tokenRefreshSuccessful","authentication:verified","authentication:verifiedSuccessfully","authentication:verify","authentication:verifyUser","authentication:youAreInactive","error:autosaving","error:correctInvalidFields","error:deletingTitle","error:emailOrPasswordIncorrect","error:usernameOrPasswordIncorrect","error:loadingDocument","error:invalidRequestArgs","error:invalidFileType","error:logoutFailed","error:noMatchedField","error:notAllowedToAccessPage","error:previewing","error:unableToDeleteCount","error:unableToReindexCollection","error:unableToUpdateCount","error:unauthorized","error:unauthorizedAdmin","error:unknown","error:unspecific","error:unverifiedEmail","error:userEmailAlreadyRegistered","error:usernameAlreadyRegistered","error:tokenNotProvided","error:unPublishingDocument","error:problemUploadingFile","fields:addLabel","fields:addLink","fields:addNew","fields:addNewLabel","fields:addRelationship","fields:addUpload","fields:block","fields:blocks","fields:blockType","fields:chooseBetweenCustomTextOrDocument","fields:customURL","fields:chooseDocumentToLink","fields:openInNewTab","fields:enterURL","fields:internalLink","fields:chooseFromExisting","fields:linkType","fields:textToDisplay","fields:collapseAll","fields:editLink","fields:editRelationship","fields:itemsAndMore","fields:labelRelationship","fields:latitude","fields:linkedTo","fields:longitude","fields:passwordsDoNotMatch","fields:removeRelationship","fields:removeUpload","fields:saveChanges","fields:searchForBlock","fields:selectFieldsToEdit","fields:showAll","fields:swapRelationship","fields:swapUpload","fields:toggleBlock","fields:uploadNewLabel","folder:byFolder","folder:browseByFolder","folder:deleteFolder","folder:folders","folder:folderName","folder:itemsMovedToFolder","folder:itemsMovedToRoot","folder:itemHasBeenMoved","folder:itemHasBeenMovedToRoot","folder:moveFolder","folder:movingFromFolder","folder:moveItemsToFolderConfirmation","folder:moveItemsToRootConfirmation","folder:moveItemToFolderConfirmation","folder:moveItemToRootConfirmation","folder:noFolder","folder:newFolder","folder:renameFolder","folder:searchByNameInFolder","folder:selectFolderForItem","general:all","general:aboutToDeleteCount","general:aboutToDelete","general:addBelow","general:addFilter","general:adminTheme","general:allCollections","general:and","general:anotherUser","general:anotherUserTakenOver","general:applyChanges","general:ascending","general:automatic","general:backToDashboard","general:cancel","general:changesNotSaved","general:close","general:collapse","general:collections","general:confirmMove","general:yes","general:no","general:columns","general:columnToSort","general:confirm","general:confirmCopy","general:confirmDeletion","general:confirmDuplication","general:confirmReindex","general:confirmReindexAll","general:confirmReindexDescription","general:confirmReindexDescriptionAll","general:copied","general:clearAll","general:copy","general:copyWarning","general:copying","general:create","general:created","general:createdAt","general:createNew","general:createNewLabel","general:creating","general:creatingNewLabel","general:currentlyEditing","general:custom","general:dark","general:dashboard","general:delete","general:deletedSuccessfully","general:deletedCountSuccessfully","general:deleting","general:descending","general:depth","general:deselectAllRows","general:document","general:documentLocked","general:documents","general:duplicate","general:duplicateWithoutSaving","general:edit","general:editAll","general:editing","general:editingLabel","general:editingTakenOver","general:editLabel","general:editedSince","general:email","general:emailAddress","general:enterAValue","general:error","general:errors","general:fallbackToDefaultLocale","general:false","general:filters","general:filterWhere","general:globals","general:goBack","general:isEditing","general:item","general:items","general:language","general:lastModified","general:leaveAnyway","general:leaveWithoutSaving","general:light","general:livePreview","general:loading","general:locale","general:menu","general:moreOptions","general:move","general:moveConfirm","general:moveCount","general:moveDown","general:moveUp","general:moving","general:movingCount","general:name","general:next","general:noDateSelected","general:noFiltersSet","general:noLabel","general:none","general:noOptions","general:noResults","general:notFound","general:nothingFound","general:noUpcomingEventsScheduled","general:noValue","general:of","general:open","general:only","general:or","general:order","general:overwriteExistingData","general:pageNotFound","general:password","general:payloadSettings","general:perPage","general:previous","general:reindex","general:reindexingAll","general:remove","general:rename","general:reset","general:resetPreferences","general:resetPreferencesDescription","general:resettingPreferences","general:row","general:rows","general:save","general:schedulePublishFor","general:saving","general:searchBy","general:select","general:selectAll","general:selectAllRows","general:selectedCount","general:selectLabel","general:selectValue","general:showAllLabel","general:sorryNotFound","general:sort","general:sortByLabelDirection","general:stayOnThisPage","general:submissionSuccessful","general:submit","general:submitting","general:success","general:successfullyCreated","general:successfullyDuplicated","general:successfullyReindexed","general:takeOver","general:thisLanguage","general:time","general:timezone","general:titleDeleted","general:import","general:export","general:allLocales","general:true","general:upcomingEvents","general:users","general:user","general:username","general:unauthorized","general:unsavedChanges","general:unsavedChangesDuplicate","general:untitled","general:updatedAt","general:updatedLabelSuccessfully","general:updatedCountSuccessfully","general:updateForEveryone","general:updatedSuccessfully","general:updating","general:value","general:viewReadOnly","general:uploading","general:uploadingBulk","general:welcome","localization:localeToPublish","localization:copyToLocale","localization:copyFromTo","localization:selectLocaleToCopy","localization:cannotCopySameLocale","localization:copyFrom","localization:copyTo","operators:equals","operators:exists","operators:isNotIn","operators:isIn","operators:contains","operators:isLike","operators:isNotLike","operators:isNotEqualTo","operators:near","operators:isGreaterThan","operators:isLessThan","operators:isGreaterThanOrEqualTo","operators:isLessThanOrEqualTo","operators:within","operators:intersects","upload:addFile","upload:addFiles","upload:bulkUpload","upload:crop","upload:cropToolDescription","upload:dragAndDrop","upload:editImage","upload:fileToUpload","upload:filesToUpload","upload:focalPoint","upload:focalPointDescription","upload:height","upload:pasteURL","upload:previewSizes","upload:selectCollectionToBrowse","upload:selectFile","upload:setCropArea","upload:setFocalPoint","upload:sizesFor","upload:sizes","upload:width","upload:fileName","upload:fileSize","upload:noFile","upload:download","validation:emailAddress","validation:enterNumber","validation:fieldHasNo","validation:greaterThanMax","validation:invalidInput","validation:invalidSelection","validation:invalidSelections","validation:lessThanMin","validation:limitReached","validation:longerThanMin","validation:notValidDate","validation:required","validation:requiresAtLeast","validation:requiresNoMoreThan","validation:requiresTwoNumbers","validation:shorterThanMax","validation:trueOrFalse","validation:timezoneRequired","validation:username","validation:validUploadID","version:aboutToPublishSelection","version:aboutToRestore","version:aboutToRestoreGlobal","version:aboutToRevertToPublished","version:aboutToUnpublish","version:aboutToUnpublishSelection","version:autosave","version:autosavedSuccessfully","version:autosavedVersion","version:changed","version:changedFieldsCount","version:confirmRevertToSaved","version:compareVersion","version:confirmPublish","version:confirmUnpublish","version:confirmVersionRestoration","version:currentDraft","version:currentPublishedVersion","version:draft","version:draftSavedSuccessfully","version:lastSavedAgo","version:modifiedOnly","version:noFurtherVersionsFound","version:noRowsFound","version:noRowsSelected","version:preview","version:previouslyPublished","version:problemRestoringVersion","version:publish","version:publishAllLocales","version:publishChanges","version:published","version:publishIn","version:publishing","version:restoreAsDraft","version:restoredSuccessfully","version:restoreThisVersion","version:restoring","version:reverting","version:revertToPublished","version:saveDraft","version:scheduledSuccessfully","version:schedulePublish","version:selectLocales","version:selectVersionToCompare","version:showLocales","version:status","version:type","version:unpublish","version:unpublishing","version:versionCreatedOn","version:versionID","version:version","version:versions","version:viewingVersion","version:viewingVersionGlobal","version:viewingVersions","version:viewingVersionsGlobal"];function v(e,d="",h){let m={};for(let[g,y]of Object.entries(e)){if("$schema"===g){m[g]=y;continue}if("object"==typeof y){let e=v(y,g,h);Object.keys(e).length>0&&(m[g]=e)}else for(let e of h){let[h,b]=e.split(":");d===h&&(g===b?m[b]=y:["zero","one","two","few","many","other"].forEach(e=>{g===`${b}_${e}`&&(m[`${b}_${e}`]=y)}))}}return m}function w(e){let d={};return Object.keys(e).sort().forEach(h=>{"object"==typeof e[h]?d[h]=w(e[h]):d[h]=e[h]}),d}let S=(e,d)=>"client"===d?w(v(e.translations,"",b)):e.translations,x=({count:e,key:d,translations:h})=>{let m=d.split(":"),g="",y=m.reduce((d,h,y)=>{if("string"==typeof d)return d;"number"==typeof e&&(0===e&&`${h}_zero`in d?g="_zero":1===e&&`${h}_one`in d?g="_one":2===e&&`${h}_two`in d?g="_two":e>5&&`${h}_many`in d?g="_many":e>2&&e<=5&&`${h}_few`in d?g="_few":`${h}_other`in d&&(g="_other"));let b=h;if(y===m.length-1&&g&&(b=`${h}${g}`),d&&b in d)return d[b]},h);return y||console.log("key not found:",d),y||d},_=({translationString:e,vars:d})=>e.split(/(\{\{.*?\}\})/).map(e=>{if(!(e.startsWith("{{")&&e.endsWith("}}")))return e;{let h=d[e.substring(2,e.length-2).trim()];return null!=h?h:e}}).join("");function E({key:e,translations:d,vars:h}){let m=x({count:"number"==typeof h?.count?h.count:void 0,key:e,translations:d});return h&&(m=_({translationString:m,vars:h})),m||(m=e),m}let T=e=>{let{config:d,language:h,translations:m}=e,g=h&&d?.translations?.[h]?(0,y.p)(m,d.translations[h]):m;return{t:(e,d)=>E({key:e,translations:g,vars:d}),translations:g}},k=function(e,d){let h=new Map;return async m=>{let g=d.reduce((e,d)=>e+String(m[d]),"");if(!h.has(g)){let d=await e(m);h.set(g,d)}return h.get(g)}}(async({config:e,context:d,language:h=e.fallbackLanguage})=>{if(!h||!e.supportedLanguages?.[h])throw Error(`Language ${h} not supported`);let m=S(e.supportedLanguages?.[h],d),{t:y,translations:b}=T({config:e,language:h||e.fallbackLanguage,translations:m}),v=e.supportedLanguages[h]?.dateFNSKey||"en-US";return{dateFNS:await g(v),dateFNSKey:v,fallbackLanguage:e.fallbackLanguage,language:h||e.fallbackLanguage,t:y,translations:b}},["language","context"]),C=["ar","fa","he"],P=["ar","az","bg","ca","cs","da","de","en","es","et","fa","fr","he","hr","hu","hy","it","ja","ko","lt","lv","my","nb","nl","pl","pt","ro","rs","rs-latin","ru","sk","sl","sv","th","tr","uk","vi","zh","zh-TW"];function O(e){return e.split(",").map(e=>{let[d,h]=e.trim().split(";q=");return{language:d,quality:h?parseFloat(h):1}}).sort((e,d)=>d.quality-e.quality)}function I(e){let d;for(let{language:h}of O(e))!d&&P.includes(h)&&(d=h);return d}},45919:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>importHandlerPath});var url__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(79551);async function importHandlerPath(path){let runner,runnerModule,[runnerPath,runnerImportName]=path.split("#");try{runnerModule="function"==typeof require?await eval(`require('${runnerPath.replaceAll("\\","/")}')`):await eval(`import('${(0,url__WEBPACK_IMPORTED_MODULE_0__.pathToFileURL)(runnerPath).href}')`)}catch(e){throw Error(`Error importing job queue handler module for path ${path}. This is an advanced feature that may require a sophisticated build pipeline, especially when using it in production or within Next.js, e.g. by calling opening the /api/payload-jobs/run endpoint. You will have to transpile the handler files separately and ensure they are available in the same location when the job is run. If you're using an endpoint to execute your jobs, it's recommended to define your handlers as functions directly in your Payload Config, or use import paths handlers outside of Next.js. Import Error: 
${e.message}`)}return runnerImportName&&runnerModule[runnerImportName]&&(runner=runnerModule[runnerImportName]),!runner&&runnerModule.default&&(runner=runnerModule.default),runner||(runner=runnerModule),runner}},45970:(e,d,h)=>{"use strict";h.d(d,{c:()=>m});let m=({block:e,select:d,selectMode:h})=>{if("object"==typeof d){let m=h,g={...d}[e.slug];return"exclude"===h&&!1===g?(m="include",g={id:!0,blockType:!0}):"include"===h&&(g||(g={}),"object"==typeof g&&((g={...g}).id=!0,g.blockType=!0)),{blockSelect:g,blockSelectMode:m}}return{blockSelect:d,blockSelectMode:h}}},46037:(e,d,h)=>{"use strict";h.d(d,{M:()=>g});var m=h(15783);let g=async({id:e,collection:d,context:h,data:g,doc:y,global:b,operation:v,overrideAccess:w,req:S})=>(await (0,m.m)({id:e,collection:d,context:h,data:g,doc:y,fields:d?.fields||b?.fields,global:b,operation:v,overrideAccess:w,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:S,siblingData:g,siblingDoc:y}),g)},46048:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934),y=h(73077);d.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,m._)`{allowedValue: ${e}}`},code(e){let{gen:d,data:h,$data:b,schemaCode:v,schema:w}=e;b||w&&"object"==typeof w?e.fail$data((0,m._)`!${(0,g.useFunc)(d,y.default)}(${h}, ${v})`):e.fail((0,m._)`${w} !== ${h}`)}}},46122:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{getSmithyContext:()=>E,normalizeProvider:()=>T}),e.exports=S(x);var _=h(38755),E=v(e=>e[_.SMITHY_CONTEXT_KEY]||(e[_.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),T=v(e=>{if("function"==typeof e)return e;let d=Promise.resolve(e);return()=>d},"normalizeProvider")},46519:(e,d,h)=>{"use strict";h.d(d,{L:()=>O});var m=h(26154),g=h(40598),y=h(89426),b=h(42303),v=h(46037),w=h(97507),S=h(22894),x=h(83552),_=h(69548),E=h(30433),T=h(71707),k=h(12276);let C=async({slug:e,config:d,locale:h,payload:m,published:g,req:y,where:b})=>{let v,w=g?{"version._status":{equals:"published"}}:{latest:{equals:!0}};d.versions?.drafts&&(v=(await m.db.findGlobalVersions({global:e,limit:1,locale:h,pagination:!1,req:y,where:w})).docs[0]);let S=await m.db.findGlobal({slug:e,locale:h,req:y,where:b}),x=!!S;return v?(v.version.createdAt||(v.version.createdAt=v.createdAt),v.version.updatedAt||(v.version.updatedAt=v.updatedAt),{global:v.version,globalExists:x}):{global:S,globalExists:x}};var P=h(42372);let O=async e=>{e.publishSpecificLocale&&(e.req.locale=e.publishSpecificLocale);let{slug:d,autosave:h,depth:O,disableTransaction:I,draft:R,globalConfig:D,overrideAccess:L,overrideLock:$,populate:M,publishSpecificLocale:B,req:{fallbackLocale:j,locale:U,payload:F},req:z,select:q,showHiddenFields:V}=e;try{let T,H=!I&&await (0,E.n)(z),{data:K}=e,G=!!(R&&D.versions?.drafts),W=!!L||await (0,m.A)({data:K,req:z},D.access.update),J=L?void 0:W,Q=await C({slug:d,config:D,locale:U,payload:F,req:z,where:J}),{global:Y,globalExists:X}=Q||{},Z={};Q&&Q.global&&(Z=(0,w.Zt)(Y))._id&&delete Z._id;let ee=await (0,y.v)({collection:null,context:z.context,depth:0,doc:(0,w.Zt)(Z),draft:R,fallbackLocale:j,global:D,locale:U,overrideAccess:!0,req:z,showHiddenFields:V});if(await (0,S.B)({globalSlug:d,lockErrorMessage:`Global with slug "${d}" is currently locked by another user and cannot be updated.`,overrideLock:$,req:z}),K=await (0,v.M)({collection:null,context:z.context,data:K,doc:ee,global:D,operation:"update",overrideAccess:L,req:z}),D.hooks?.beforeValidate?.length)for(let e of D.hooks.beforeValidate)K=await e({context:z.context,data:K,global:D,originalDoc:ee,req:z})||K;if(D.hooks?.beforeChange?.length)for(let e of D.hooks.beforeChange)K=await e({context:z.context,data:K,global:D,originalDoc:ee,req:z})||K;let et=Z,ei={collection:null,context:z.context,data:K,doc:ee,docWithLocales:void 0,global:D,operation:"update",req:z,skipValidation:G&&D.versions.drafts&&!D.versions.drafts.validate};if(B){let e=await C({slug:d,config:D,payload:F,published:!0,req:z,where:J});et=e?.global||{},T=await (0,b.o)({...ei,docWithLocales:Z})}let er=await (0,b.o)({...ei,docWithLocales:et}),ea=(0,k.Y)({fields:D.flattenedFields,forceSelect:D.forceSelect,select:q});if(G||(er.createdAt||(er.createdAt=new Date().toISOString()),er=X?await F.db.updateGlobal({slug:d,data:er,req:z,select:ea}):await F.db.createGlobal({slug:d,data:er,req:z})),D.versions){let{globalType:e}=er;er={...er=await (0,P.U)({autosave:h,docWithLocales:er,draft:G,global:D,payload:F,publishSpecificLocale:B,req:z,select:ea,snapshot:T}),globalType:e}}if(ea&&er.globalType){let e=(0,_.a)(ea);("include"!==e||ea.globalType)&&("exclude"!==e||!1!==ea.globalType)||delete er.globalType}if(er=await (0,y.v)({collection:null,context:z.context,depth:O,doc:er,draft:R,fallbackLocale:null,global:D,locale:U,overrideAccess:L,populate:M,req:z,select:ea,showHiddenFields:V}),D.hooks?.afterRead?.length)for(let e of D.hooks.afterRead)er=await e({context:z.context,doc:er,global:D,req:z})||er;if(er=await (0,g.t)({collection:null,context:z.context,data:K,doc:er,global:D,operation:"update",previousDoc:ee,req:z}),D.hooks?.afterChange?.length)for(let e of D.hooks.afterChange)er=await e({context:z.context,doc:er,global:D,previousDoc:ee,req:z})||er;return H&&await (0,x.w)(z),er}catch(e){throw await (0,T.J)(z),e}}},46570:e=>{"use strict";var d=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,h=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,m=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,g=/^-?infinity$/;function y(e){var d=h.exec(e);if(d){var m=parseInt(d[1],10),g=!!d[4];g&&(m=v(m));var y=parseInt(d[2],10)-1,b=d[3],S=new Date(m,y,b);return w(m)&&S.setFullYear(m),S}}function b(e){if(e.endsWith("+00"))return 0;var d=m.exec(e.split(" ")[1]);if(d){var h=d[1];if("Z"===h)return 0;var g="-"===h?-1:1,y=3600*parseInt(d[2],10)+60*parseInt(d[3]||0,10)+parseInt(d[4]||0,10);return y*g*1e3}}function v(e){return-(e-1)}function w(e){return e>=0&&e<100}e.exports=function(e){if(g.test(e))return Number(e.replace("i","I"));var h,m=d.exec(e);if(!m)return y(e)||null;var S=!!m[8],x=parseInt(m[1],10);S&&(x=v(x));var _=parseInt(m[2],10)-1,E=m[3],T=parseInt(m[4],10),k=parseInt(m[5],10),C=parseInt(m[6],10),P=m[7];P=P?1e3*parseFloat(P):0;var O=b(e);return null!=O?(h=new Date(Date.UTC(x,_,E,T,k,C,P)),w(x)&&h.setUTCFullYear(x),0!==O&&h.setTime(h.getTime()-O)):(h=new Date(x,_,E,T,k,C,P),w(x)&&h.setFullYear(x)),h}},46613:(e,d,h)=>{"use strict";let m=h(90473);class g extends m{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?e.substr(-2):e}}e.exports=g},46864:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),(0,h(13373).__exportStar)(h(56178),d)},46891:function(e,d,h){"use strict";var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0});let g=m(h(60172)),y=h(49348);class b{constructor(e){this.table=new g.default(e)}addColumn(e){return this.table.addColumn(e),this}addColumns(e){return this.table.addColumns(e),this}addRow(e,d){return this.table.addRow(e,(0,y.convertRawRowOptionsToStandard)(d)),this}addRows(e,d){return this.table.addRows(e,(0,y.convertRawRowOptionsToStandard)(d)),this}printTable(){console.log(this.table.renderTable())}render(){return this.table.renderTable()}}d.default=b},46897:e=>{var d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,y=(e,h)=>d(e,"name",{value:h,configurable:!0}),b=(e,y,b,v)=>{if(y&&"object"==typeof y||"function"==typeof y)for(let w of m(y))g.call(e,w)||w===b||d(e,w,{get:()=>y[w],enumerable:!(v=h(y,w))||v.enumerable});return e},v=e=>b(d({},"__esModule",{value:!0}),e),w={};((e,h)=>{for(var m in h)d(e,m,{get:h[m],enumerable:!0})})(w,{resolveEventStreamSerdeConfig:()=>S}),e.exports=v(w);var S=y(e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")},47141:(e,d,h)=>{"use strict";let m=h(61664);function g(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function y(e){for(var d="{",h=0;h<e.length;h++)h>0&&(d+=","),null===e[h]||void 0===e[h]?d+="NULL":Array.isArray(e[h])?d+=y(e[h]):e[h]instanceof Buffer?d+="\\\\x"+e[h].toString("hex"):d+=g(b(e[h]));return d+"}"}var b=function(e,d){if(null==e)return null;if(e instanceof Buffer)return e;if(ArrayBuffer.isView(e)){var h=Buffer.from(e.buffer,e.byteOffset,e.byteLength);return h.length===e.byteLength?h:h.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(e instanceof Date)if(m.parseInputDatesAsUTC)return x(e);else return S(e);return Array.isArray(e)?y(e):"object"==typeof e?v(e,d):e.toString()};function v(e,d){if(e&&"function"==typeof e.toPostgres){if(-1!==(d=d||[]).indexOf(e))throw Error('circular reference detected while preparing "'+e+'" for query');return d.push(e),b(e.toPostgres(b),d)}return JSON.stringify(e)}function w(e,d){for(e=""+e;e.length<d;)e="0"+e;return e}function S(e){var d=-e.getTimezoneOffset(),h=e.getFullYear(),m=h<1;m&&(h=Math.abs(h)+1);var g=w(h,4)+"-"+w(e.getMonth()+1,2)+"-"+w(e.getDate(),2)+"T"+w(e.getHours(),2)+":"+w(e.getMinutes(),2)+":"+w(e.getSeconds(),2)+"."+w(e.getMilliseconds(),3);return d<0?(g+="-",d*=-1):g+="+",g+=w(Math.floor(d/60),2)+":"+w(d%60,2),m&&(g+=" BC"),g}function x(e){var d=e.getUTCFullYear(),h=d<1;h&&(d=Math.abs(d)+1);var m=w(d,4)+"-"+w(e.getUTCMonth()+1,2)+"-"+w(e.getUTCDate(),2)+"T"+w(e.getUTCHours(),2)+":"+w(e.getUTCMinutes(),2)+":"+w(e.getUTCSeconds(),2)+"."+w(e.getUTCMilliseconds(),3);return m+="+00:00",h&&(m+=" BC"),m}e.exports={prepareValue:function(e){return b(e)},normalizeQueryConfig:function(e,d,h){return e="string"==typeof e?{text:e}:e,d&&("function"==typeof d?e.callback=d:e.values=d),h&&(e.callback=h),e},escapeIdentifier:function(e){return'"'+e.replace(/"/g,'""')+'"'},escapeLiteral:function(e){for(var d=!1,h="'",m=0;m<e.length;m++){var g=e[m];"'"===g?h+=g+g:"\\"===g?(h+=g+g,d=!0):h+=g}return h+="'",!0===d&&(h=" E"+h),h}}},47563:(e,d,h)=>{var m=h(85674),g=function(e,d,h,m,g){h=h||0,m=m||!1,g=g||function(e,d,h){return e*Math.pow(2,h)+d};var y=h>>3,b=function(e){return m?255&~e:e},v=255,w=8-h%8;d<w&&(v=255<<8-d&255,w=d),h&&(v>>=h%8);var S=0;h%8+d>=8&&(S=g(0,b(e[y])&v,w));for(var x=d+h>>3,_=y+1;_<x;_++)S=g(S,b(e[_]),8);var E=(d+h)%8;return E>0&&(S=g(S,b(e[x])>>8-E,E)),S},y=function(e,d,h){var m=Math.pow(2,h-1)-1,y=g(e,1),b=g(e,h,1);if(0===b)return 0;var v=1,w=g(e,d,h+1,!1,function(e,d,h){0===e&&(e=1);for(var m=1;m<=h;m++)v/=2,(d&1<<h-m)>0&&(e+=v);return e});return b==Math.pow(2,h+1)-1?0===w?0===y?1/0:-1/0:NaN:(0===y?1:-1)*Math.pow(2,b-m)*w},b=function(e){return 1==g(e,1)?-1*(g(e,15,1,!0)+1):g(e,15,1)},v=function(e){return 1==g(e,1)?-1*(g(e,31,1,!0)+1):g(e,31,1)},w=function(e){return y(e,23,8)},S=function(e){return y(e,52,11)},x=function(e){var d=g(e,16,32);if(49152==d)return NaN;for(var h=Math.pow(1e4,g(e,16,16)),m=0,y=g(e,16),b=0;b<y;b++)m+=g(e,16,64+16*b)*h,h/=1e4;var v=Math.pow(10,g(e,16,48));return(0===d?1:-1)*Math.round(m*v)/v},_=function(e,d){var h=g(d,1),m=g(d,63,1),y=new Date((0===h?1:-1)*m/1e3+9466848e5);return e||y.setTime(y.getTime()+6e4*y.getTimezoneOffset()),y.usec=m%1e3,y.getMicroSeconds=function(){return this.usec},y.setMicroSeconds=function(e){this.usec=e},y.getUTCMicroSeconds=function(){return this.usec},y},E=function(e){var d=g(e,32);g(e,32,32);for(var h=g(e,32,64),m=96,y=[],b=0;b<d;b++)y[b]=g(e,32,m),m+=64;var v=function(d){var h,y=g(e,32,m);return(m+=32,0xffffffff==y)?null:23==d||20==d?(h=g(e,8*y,m),m+=8*y,h):25==d?h=e.toString(this.encoding,m>>3,(m+=y<<3)>>3):void console.log("ERROR: ElementType not implemented: "+d)},w=function(e,d){var h,m=[];if(e.length>1){var g=e.shift();for(h=0;h<g;h++)m[h]=w(e,d);e.unshift(g)}else for(h=0;h<e[0];h++)m[h]=v(d);return m};return w(y,h)},T=function(e){return e.toString("utf8")},k=function(e){return null===e?null:g(e,8)>0};e.exports={init:function(e){e(20,m),e(21,b),e(23,v),e(26,v),e(1700,x),e(700,w),e(701,S),e(16,k),e(1114,_.bind(null,!1)),e(1184,_.bind(null,!0)),e(1e3,E),e(1007,E),e(1016,E),e(1008,E),e(1009,E),e(25,T)}}},47598:(e,d,h)=>{"use strict";let m=h(2365),{erase:g,cursor:y}=h(41893),b=e=>[...m(e)].length;e.exports=function(e,d){if(!d)return g.line+y.to(0);let h=0;for(let m of e.split(/\r?\n/))h+=1+Math.floor(Math.max(b(m)-1,0)/d);return g.lines(h)}},47731:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(63390),g=h(63614);d.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",m.default,g.default]},47888:e=>{"use strict";e.exports=function e(d={}){let{ERR_PATHS_MUST_BE_STRINGS:h=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:m=e=>`fast-redact  Invalid path (${e})`}=d;return function({paths:e}){e.forEach(e=>{if("string"!=typeof e)throw Error(h());try{if(//.test(e))throw Error();let d=("["===e[0]?"":".")+e.replace(/^\*/,"").replace(/\.\*/g,".").replace(/\[\*\]/g,"[]");if(/\n|\r|;/.test(d)||/\/\*/.test(d))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const  = null;
            o${d}
            if ([o${d}].length !== 1) throw Error()`)()}catch(d){throw Error(m(e))}})}}},47994:(e,d,h)=>{"use strict";let{Transform:m}=h(27910),{StringDecoder:g}=h(41204),y=Symbol("last"),b=Symbol("decoder");function v(e,d,h){let m;if(this.overflow){if(1===(m=this[b].write(e).split(this.matcher)).length)return h();m.shift(),this.overflow=!1}else this[y]+=this[b].write(e),m=this[y].split(this.matcher);this[y]=m.pop();for(let e=0;e<m.length;e++)try{S(this,this.mapper(m[e]))}catch(e){return h(e)}if(this.overflow=this[y].length>this.maxLength,this.overflow&&!this.skipOverflow)return void h(Error("maximum buffer reached"));h()}function w(e){if(this[y]+=this[b].end(),this[y])try{S(this,this.mapper(this[y]))}catch(d){return e(d)}e()}function S(e,d){void 0!==d&&e.push(d)}function x(e){return e}e.exports=function(e,d,h){switch(e=e||/\r?\n/,d=d||x,h=h||{},arguments.length){case 1:"function"==typeof e?(d=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(h=e,e=/\r?\n/);break;case 2:"function"==typeof e?(h=d,d=e,e=/\r?\n/):"object"==typeof d&&(h=d,d=x)}(h=Object.assign({},h)).autoDestroy=!0,h.transform=v,h.flush=w,h.readableObjectMode=!0;let S=new m(h);return S[y]="",S[b]=new g("utf8"),S.matcher=e,S.mapper=d,S.maxLength=h.maxLength,S.skipOverflow=h.skipOverflow||!1,S.overflow=!1,S._destroy=function(e,d){this._writableState.errorEmitted=!1,d(e)},S}},48236:(e,d,h)=>{"use strict";let m=h(52838),g=h(41893).cursor,y=h(49876),b=h(8984),v=b.clear,w=b.style,S=b.figures;class x extends y{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=v("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(e=>!this.inputValue||!!("string"==typeof e.title&&e.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof e.value&&e.value.toLowerCase().includes(this.inputValue.toLowerCase())));let d=this.filteredOptions.findIndex(d=>d===e);this.cursor=d<0?0:d,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,d){" "===e?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${S.arrowUp}/${S.arrowDown}: Highlight option
    ${S.arrowLeft}/${S.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:m.gray("Enter something to filter")}
`}renderOption(e,d,h){let g;return g=d.disabled?e===h?m.gray().underline(d.title):m.strikethrough().gray(d.title):e===h?m.cyan().underline(d.title):d.title,(d.selected?m.green(S.radioOn):S.radioOff)+"  "+g}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[m.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(m.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(g.hide),super.render();let e=[w.symbol(this.done,this.aborted),m.bold(this.msg),w.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=m.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=v(e,this.out.columns)}}e.exports=x},48254:(e,d,h)=>{var m=Object.create,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,v=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,S=(e,d)=>g(e,"name",{value:d,configurable:!0}),x=(e,d,h,m)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let v of b(d))w.call(e,v)||v===h||g(e,v,{get:()=>d[v],enumerable:!(m=y(d,v))||m.enumerable});return e},_=(e,d,h)=>(h=null!=e?m(v(e)):{},x(!d&&e&&e.__esModule?h:g(h,"default",{value:e,enumerable:!0}),e)),E=e=>x(g({},"__esModule",{value:!0}),e),T={};((e,d)=>{for(var h in d)g(e,h,{get:d[h],enumerable:!0})})(T,{DEFAULT_REQUEST_TIMEOUT:()=>H,NodeHttp2Handler:()=>Y,NodeHttpHandler:()=>K,streamCollector:()=>Z}),e.exports=E(T);var k=h(96543),C=h(83524),P=h(81630),O=h(55591),I=["ECONNRESET","EPIPE","ETIMEDOUT"],R=S(e=>{let d={};for(let h of Object.keys(e)){let m=e[h];d[h]=Array.isArray(m)?m.join(","):m}return d},"getTransformedHeaders"),D={setTimeout:(e,d)=>setTimeout(e,d),clearTimeout:e=>clearTimeout(e)},L=1e3,$=S((e,d,h=0)=>{if(!h)return -1;let m=S(m=>{let g=D.setTimeout(()=>{e.destroy(),d(Object.assign(Error(`Socket timed out without establishing a connection within ${h} ms`),{name:"TimeoutError"}))},h-m),y=S(e=>{e?.connecting?e.on("connect",()=>{D.clearTimeout(g)}):D.clearTimeout(g)},"doWithSocket");e.socket?y(e.socket):e.on("socket",y)},"registerTimeout");return h<2e3?(m(0),0):D.setTimeout(m.bind(null,L),L)},"setConnectionTimeout"),M=3e3,B=S((e,{keepAlive:d,keepAliveMsecs:h},m=M)=>{if(!0!==d)return -1;let g=S(()=>{e.socket?e.socket.setKeepAlive(d,h||0):e.on("socket",e=>{e.setKeepAlive(d,h||0)})},"registerListener");return 0===m?(g(),0):D.setTimeout(g,m)},"setSocketKeepAlive"),j=3e3,U=S((e,d,h=H)=>{let m=S(m=>{let g=h-m,y=S(()=>{e.destroy(),d(Object.assign(Error(`Connection timed out after ${h} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(g,y),e.on("close",()=>e.socket?.removeListener("timeout",y))):e.setTimeout(g,y)},"registerTimeout");return 0<h&&h<6e3?(m(0),0):D.setTimeout(m.bind(null,0===h?0:j),j)},"setSocketTimeout"),F=h(27910),z=6e3;async function q(e,d,h=z){let m=d.headers??{},g=m.Expect||m.expect,y=-1,b=!0;"100-continue"===g&&(b=await Promise.race([new Promise(e=>{y=Number(D.setTimeout(()=>e(!0),Math.max(z,h)))}),new Promise(d=>{e.on("continue",()=>{D.clearTimeout(y),d(!0)}),e.on("response",()=>{D.clearTimeout(y),d(!1)}),e.on("error",()=>{D.clearTimeout(y),d(!1)})})])),b&&V(e,d.body)}function V(e,d){if(d instanceof F.Readable)return void d.pipe(e);if(d){if(Buffer.isBuffer(d)||"string"==typeof d)return void e.end(d);let h=d;return"object"==typeof h&&h.buffer&&"number"==typeof h.byteOffset&&"number"==typeof h.byteLength?void e.end(Buffer.from(h.buffer,h.byteOffset,h.byteLength)):void e.end(Buffer.from(d))}e.end()}S(q,"writeRequestBody"),S(V,"writeBody");var H=0,K=class e{constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((d,h)=>{"function"==typeof e?e().then(e=>{d(this.resolveDefaultConfig(e))}).catch(h):d(this.resolveDefaultConfig(e))})}static{S(this,"NodeHttpHandler")}static create(d){return"function"==typeof d?.handle?d:new e(d)}static checkSocketUsage(e,d,h=console){let{sockets:m,requests:g,maxSockets:y}=e;if("number"!=typeof y||y===1/0)return d;let b=15e3;if(Date.now()-b<d)return d;if(m&&g)for(let e in m){let d=m[e]?.length??0,b=g[e]?.length??0;if(d>=y&&b>=2*y)return h?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${b} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return d}resolveDefaultConfig(e){let{requestTimeout:d,connectionTimeout:h,socketTimeout:m,socketAcquisitionWarningTimeout:g,httpAgent:y,httpsAgent:b}=e||{},v=!0,w=50;return{connectionTimeout:h,requestTimeout:d??m,socketAcquisitionWarningTimeout:g,httpAgent:y instanceof P.Agent||"function"==typeof y?.destroy?y:new P.Agent({keepAlive:v,maxSockets:w,...y}),httpsAgent:b instanceof O.Agent||"function"==typeof b?.destroy?b:new O.Agent({keepAlive:v,maxSockets:w,...b}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(d,{abortSignal:h}={}){return this.config||(this.config=await this.configProvider),new Promise((m,g)=>{let y,b,v=[],w=S(async e=>{await y,v.forEach(D.clearTimeout),m(e)},"resolve"),x=S(async e=>{await y,v.forEach(D.clearTimeout),g(e)},"reject");if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(h?.aborted){let e=Error("Request aborted");e.name="AbortError",x(e);return}let _="https:"===d.protocol,E=_?this.config.httpsAgent:this.config.httpAgent;v.push(D.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(E,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let T=(0,C.buildQueryString)(d.query||{});if(null!=d.username||null!=d.password){let e=d.username??"",h=d.password??"";b=`${e}:${h}`}let L=d.path;T&&(L+=`?${T}`),d.fragment&&(L+=`#${d.fragment}`);let M=d.hostname??"";M="["===M[0]&&M.endsWith("]")?d.hostname.slice(1,-1):d.hostname;let j={headers:d.headers,host:M,method:d.method,path:L,port:d.port,agent:E,auth:b},F=(_?O.request:P.request)(j,e=>{w({response:new k.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:R(e.headers),body:e})})});if(F.on("error",e=>{I.includes(e.code)?x(Object.assign(e,{name:"TimeoutError"})):x(e)}),h){let e=S(()=>{F.destroy();let e=Error("Request aborted");e.name="AbortError",x(e)},"onAbort");if("function"==typeof h.addEventListener){let d=h;d.addEventListener("abort",e,{once:!0}),F.once("close",()=>d.removeEventListener("abort",e))}else h.onabort=e}v.push($(F,x,this.config.connectionTimeout)),v.push(U(F,x,this.config.requestTimeout));let z=j.agent;"object"==typeof z&&"keepAlive"in z&&v.push(B(F,{keepAlive:z.keepAlive,keepAliveMsecs:z.keepAliveMsecs})),y=q(F,d,this.config.requestTimeout).catch(e=>(v.forEach(D.clearTimeout),g(e)))})}updateHttpClientConfig(e,d){this.config=void 0,this.configProvider=this.configProvider.then(h=>({...h,[e]:d}))}httpHandlerConfigs(){return this.config??{}}},G=h(73496),W=_(h(73496)),J=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{S(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(d=>d!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let d of this.sessions)d!==e||d.destroyed||d.destroy()}},Q=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw RangeError("maxConcurrency must be greater than zero.")}static{S(this,"NodeHttp2ConnectionManager")}lease(e,d){let h=this.getUrlString(e),m=this.sessionCache.get(h);if(m){let e=m.poll();if(e&&!this.config.disableConcurrency)return e}let g=W.default.connect(h);this.config.maxConcurrency&&g.settings({maxConcurrentStreams:this.config.maxConcurrency},d=>{if(d)throw Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),g.unref();let y=S(()=>{g.destroy(),this.deleteSession(h,g)},"destroySessionCb");g.on("goaway",y),g.on("error",y),g.on("frameError",y),g.on("close",()=>this.deleteSession(h,g)),d.requestTimeout&&g.setTimeout(d.requestTimeout,y);let b=this.sessionCache.get(h)||new J;return b.offerLast(g),this.sessionCache.set(h,b),g}deleteSession(e,d){let h=this.sessionCache.get(e);h&&h.contains(d)&&(h.remove(d),this.sessionCache.set(e,h))}release(e,d){let h=this.getUrlString(e);this.sessionCache.get(h)?.offerLast(d)}destroy(){for(let[e,d]of this.sessionCache){for(let e of d)e.destroyed||e.destroy(),d.remove(e);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Y=class e{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Q({}),this.configProvider=new Promise((d,h)=>{"function"==typeof e?e().then(e=>{d(e||{})}).catch(h):d(e||{})})}static{S(this,"NodeHttp2Handler")}static create(d){return"function"==typeof d?.handle?d:new e(d)}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:d}={}){!this.config&&(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:h,disableConcurrentStreams:m}=this.config;return new Promise((g,y)=>{let b,v=!1,w=S(async e=>{await b,g(e)},"resolve"),x=S(async e=>{await b,y(e)},"reject");if(d?.aborted){v=!0;let e=Error("Request aborted");e.name="AbortError",x(e);return}let{hostname:_,method:E,port:T,protocol:P,query:O}=e,I="";if(null!=e.username||null!=e.password){let d=e.username??"",h=e.password??"";I=`${d}:${h}@`}let D=`${P}//${I}${_}${T?`:${T}`:""}`,L={destination:new URL(D)},$=this.connectionManager.lease(L,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:m||!1}),M=S(e=>{m&&this.destroySession($),v=!0,x(e)},"rejectWithDestroy"),B=(0,C.buildQueryString)(O||{}),j=e.path;B&&(j+=`?${B}`),e.fragment&&(j+=`#${e.fragment}`);let U=$.request({...e.headers,[G.constants.HTTP2_HEADER_PATH]:j,[G.constants.HTTP2_HEADER_METHOD]:E});if($.ref(),U.on("response",e=>{let d=new k.HttpResponse({statusCode:e[":status"]||-1,headers:R(e),body:U});v=!0,w({response:d}),m&&($.close(),this.connectionManager.deleteSession(D,$))}),h&&U.setTimeout(h,()=>{U.close();let e=Error(`Stream timed out because of no activity for ${h} ms`);e.name="TimeoutError",M(e)}),d){let e=S(()=>{U.close();let e=Error("Request aborted");e.name="AbortError",M(e)},"onAbort");if("function"==typeof d.addEventListener){let h=d;h.addEventListener("abort",e,{once:!0}),U.once("close",()=>h.removeEventListener("abort",e))}else d.onabort=e}U.on("frameError",(e,d,h)=>{M(Error(`Frame type id ${e} in stream id ${h} has failed with code ${d}.`))}),U.on("error",M),U.on("aborted",()=>{M(Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${U.rstCode}.`))}),U.on("close",()=>{$.unref(),m&&$.destroy(),v||M(Error("Unexpected error: http2 request did not get a response"))}),b=q(U,e,h)})}updateHttpClientConfig(e,d){this.config=void 0,this.configProvider=this.configProvider.then(h=>({...h,[e]:d}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}},X=class extends F.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{S(this,"Collector")}_write(e,d,h){this.bufferedBytes.push(e),h()}},Z=S(e=>ee(e)?et(e):new Promise((d,h)=>{let m=new X;e.pipe(m),e.on("error",e=>{m.end(),h(e)}),m.on("error",h),m.on("finish",function(){d(new Uint8Array(Buffer.concat(this.bufferedBytes)))})}),"streamCollector"),ee=S(e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,"isReadableStreamInstance");async function et(e){let d=[],h=e.getReader(),m=!1,g=0;for(;!m;){let{done:e,value:y}=await h.read();y&&(d.push(y),g+=y.length),m=e}let y=new Uint8Array(g),b=0;for(let e of d)y.set(e,b),b+=e.length;return y}S(et,"collectReadableStream")},48395:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getSchemaRefs=d.resolveUrl=d.normalizeId=d._getFullPath=d.getFullPath=d.inlineRef=void 0;let m=h(31934),g=h(65989),y=h(58675),b=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);d.inlineRef=function(e,d=!0){return"boolean"==typeof e||(!0===d?!w(e):!!d&&S(e)<=d)};let v=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function w(e){for(let d in e){if(v.has(d))return!0;let h=e[d];if(Array.isArray(h)&&h.some(w)||"object"==typeof h&&w(h))return!0}return!1}function S(e){let d=0;for(let h in e)if("$ref"===h||(d++,!b.has(h)&&("object"==typeof e[h]&&(0,m.eachItem)(e[h],e=>d+=S(e)),d===1/0)))return 1/0;return d}function x(e,d="",h){!1!==h&&(d=T(d));let m=e.parse(d);return _(e,m)}function _(e,d){return e.serialize(d).split("#")[0]+"#"}d.getFullPath=x,d._getFullPath=_;let E=/#\/?$/;function T(e){return e?e.replace(E,""):""}d.normalizeId=T,d.resolveUrl=function(e,d,h){return h=T(h),e.resolve(d,h)};let k=/^[a-z_][-a-z0-9._]*$/i;d.getSchemaRefs=function(e,d){if("boolean"==typeof e)return{};let{schemaId:h,uriResolver:m}=this.opts,b=T(e[h]||d),v={"":b},w=x(m,b,!1),S={},_=new Set;return y(e,{allKeys:!0},(e,d,m,g)=>{if(void 0===g)return;let y=w+d,b=v[g];function x(d){let h=this.opts.uriResolver.resolve;if(d=T(b?h(b,d):d),_.has(d))throw C(d);_.add(d);let m=this.refs[d];return"string"==typeof m&&(m=this.refs[m]),"object"==typeof m?E(e,m.schema,d):d!==T(y)&&("#"===d[0]?(E(e,S[d],d),S[d]=e):this.refs[d]=y),d}function P(e){if("string"==typeof e){if(!k.test(e))throw Error(`invalid anchor "${e}"`);x.call(this,`#${e}`)}}"string"==typeof e[h]&&(b=x.call(this,e[h])),P.call(this,e.$anchor),P.call(this,e.$dynamicAnchor),v[d]=b}),S;function E(e,d,h){if(void 0!==d&&!g(e,d))throw C(h)}function C(e){return Error(`reference "${e}" resolves to more than one schema`)}}},48651:function(e,d,h){"use strict";var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0});let g=m(h(31790));d.default=e=>{let d=0;for(let h=0;h<e.length;h++){let m=e.charCodeAt(h),y=g.default(m);if(y<0)return -1;d+=y}return d}},48722:(e,d,h)=>{"use strict";h.r(d),h.d(d,{AWSSDKSigV4Signer:()=>b.PG,AwsSdkSigV4ASigner:()=>v.S,AwsSdkSigV4Signer:()=>b.f2,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>w.$,NODE_SIGV4A_CONFIG_OPTIONS:()=>S.A,_toBool:()=>T,_toNum:()=>k,_toStr:()=>E,awsExpectUnion:()=>P,emitWarningIfUnsupportedVersion:()=>m.I,getBearerTokenEnvKey:()=>_.R,loadRestJsonErrorCode:()=>O.cJ,loadRestXmlErrorCode:()=>I.FZ,parseJsonBody:()=>O.Y2,parseJsonErrorBody:()=>O.CG,parseXmlBody:()=>I.t_,parseXmlErrorBody:()=>I.FI,resolveAWSSDKSigV4Config:()=>x.x,resolveAwsSdkSigV4AConfig:()=>S.O,resolveAwsSdkSigV4Config:()=>x.h,setCredentialFeature:()=>g.g,setFeature:()=>y.J,state:()=>m.w,validateSigningProperties:()=>b.pz});var m=h(7977),g=h(76941),y=h(84734),b=h(96573),v=h(85901),w=h(30201),S=h(96263),x=h(37122),_=h(63059);let E=e=>{if(null==e)return e;if("number"==typeof e||"bigint"==typeof e){let d=Error(`Received number ${e} where a string was expected.`);return d.name="Warning",console.warn(d),String(e)}if("boolean"==typeof e){let d=Error(`Received boolean ${e} where a string was expected.`);return d.name="Warning",console.warn(d),String(e)}return e},T=e=>{if(null==e)return e;if("string"==typeof e){let d=e.toLowerCase();if(""!==e&&"false"!==d&&"true"!==d){let d=Error(`Received string "${e}" where a boolean was expected.`);d.name="Warning",console.warn(d)}return""!==e&&"false"!==d}return e},k=e=>{if(null==e)return e;if("string"==typeof e){let d=Number(e);if(d.toString()!==e){let d=Error(`Received string "${e}" where a number was expected.`);return d.name="Warning",console.warn(d),e}return d}return e};var C=h(135);let P=e=>{if(null!=e)return"object"==typeof e&&"__type"in e&&delete e.__type,(0,C.expectUnion)(e)};var O=h(61596),I=h(25902)},48795:(e,d,h)=>{"use strict";let m=h(27910).Transform;class g extends m{constructor(){super(),this.lastByte=!1}_transform(e,d,h){e.length&&(this.lastByte=e[e.length-1]),this.push(e),h()}_flush(e){return 10===this.lastByte||(13===this.lastByte?this.push(Buffer.from("\n")):this.push(Buffer.from("\r\n"))),e()}}e.exports=g},48983:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateSchemaDeps=d.validatePropertyDeps=d.error=void 0;let m=h(52046),g=h(31934),y=h(11622);d.error={message:({params:{property:e,depsCount:d,deps:h}})=>{let g=1===d?"property":"properties";return(0,m.str)`must have ${g} ${h} when property ${e} is present`},params:({params:{property:e,depsCount:d,deps:h,missingProperty:g}})=>(0,m._)`{property: ${e},
    missingProperty: ${g},
    depsCount: ${d},
    deps: ${h}}`};let b={keyword:"dependencies",type:"object",schemaType:"object",error:d.error,code(e){let[d,h]=v(e);w(e,d),S(e,h)}};function v({schema:e}){let d={},h={};for(let m in e)"__proto__"!==m&&((Array.isArray(e[m])?d:h)[m]=e[m]);return[d,h]}function w(e,d=e.schema){let{gen:h,data:g,it:b}=e;if(0===Object.keys(d).length)return;let v=h.let("missing");for(let w in d){let S=d[w];if(0===S.length)continue;let x=(0,y.propertyInData)(h,g,w,b.opts.ownProperties);e.setParams({property:w,depsCount:S.length,deps:S.join(", ")}),b.allErrors?h.if(x,()=>{for(let d of S)(0,y.checkReportMissingProp)(e,d)}):(h.if((0,m._)`${x} && (${(0,y.checkMissingProp)(e,S,v)})`),(0,y.reportMissingProp)(e,v),h.else())}}function S(e,d=e.schema){let{gen:h,data:m,keyword:b,it:v}=e,w=h.name("valid");for(let S in d)(0,g.alwaysValidSchema)(v,d[S])||(h.if((0,y.propertyInData)(h,m,S,v.opts.ownProperties),()=>{let d=e.subschema({keyword:b,schemaProp:S},w);e.mergeValidEvaluated(d,w)},()=>h.var(w,!0)),e.ok(w))}d.validatePropertyDeps=w,d.validateSchemaDeps=S,d.default=b},49013:e=>{"use strict";var d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,y=(e,h)=>d(e,"name",{value:h,configurable:!0}),b=(e,y,b,v)=>{if(y&&"object"==typeof y||"function"==typeof y)for(let w of m(y))g.call(e,w)||w===b||d(e,w,{get:()=>y[w],enumerable:!(v=h(y,w))||v.enumerable});return e},v=e=>b(d({},"__esModule",{value:!0}),e),w={};((e,h)=>{for(var m in h)d(e,m,{get:h[m],enumerable:!0})})(w,{getLoggerPlugin:()=>_,loggerMiddleware:()=>S,loggerMiddlewareOptions:()=>x}),e.exports=v(w);var S=y(()=>(e,d)=>async h=>{try{let m=await e(h),{clientName:g,commandName:y,logger:b,dynamoDbDocumentClientOptions:v={}}=d,{overrideInputFilterSensitiveLog:w,overrideOutputFilterSensitiveLog:S}=v,x=w??d.inputFilterSensitiveLog,_=S??d.outputFilterSensitiveLog,{$metadata:E,...T}=m.output;return b?.info?.({clientName:g,commandName:y,input:x(h.input),output:_(T),metadata:E}),m}catch(w){let{clientName:e,commandName:m,logger:g,dynamoDbDocumentClientOptions:y={}}=d,{overrideInputFilterSensitiveLog:b}=y,v=b??d.inputFilterSensitiveLog;throw g?.error?.({clientName:e,commandName:m,input:v(h.input),error:w,metadata:w.$metadata}),w}},"loggerMiddleware"),x={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},_=y(e=>({applyToStack:y(e=>{e.add(S(),x)},"applyToStack")}),"getLoggerPlugin")},49077:(e,d,h)=>{"use strict";let m=d,g=h(6134),y=e=>e;function b(e,d,h={}){return new Promise((m,b)=>{let v=new g[e](d),w=h.onAbort||y,S=h.onSubmit||y,x=h.onExit||y;v.on("state",d.onState||y),v.on("submit",e=>m(S(e))),v.on("exit",e=>m(x(e))),v.on("abort",e=>b(w(e)))})}m.text=e=>b("TextPrompt",e),m.password=e=>(e.style="password",m.text(e)),m.invisible=e=>(e.style="invisible",m.text(e)),m.number=e=>b("NumberPrompt",e),m.date=e=>b("DatePrompt",e),m.confirm=e=>b("ConfirmPrompt",e),m.list=e=>{let d=e.separator||",";return b("TextPrompt",e,{onSubmit:e=>e.split(d).map(e=>e.trim())})},m.toggle=e=>b("TogglePrompt",e),m.select=e=>b("SelectPrompt",e),m.multiselect=e=>{e.choices=[].concat(e.choices||[]);let d=e=>e.filter(e=>e.selected).map(e=>e.value);return b("MultiselectPrompt",e,{onAbort:d,onSubmit:d})},m.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);let d=e=>e.filter(e=>e.selected).map(e=>e.value);return b("AutocompleteMultiselectPrompt",e,{onAbort:d,onSubmit:d})};let v=(e,d)=>Promise.resolve(d.filter(d=>d.title.slice(0,e.length).toLowerCase()===e.toLowerCase()));m.autocomplete=e=>(e.suggest=e.suggest||v,e.choices=[].concat(e.choices||[]),b("AutocompletePrompt",e))},49090:(e,d,h)=>{"use strict";let{Writable:m}=h(27910),g=h(16943),{BINARY_TYPES:y,EMPTY_BUFFER:b,kStatusCode:v,kWebSocket:w}=h(44314),{concat:S,toArrayBuffer:x,unmask:_}=h(82854),{isValidStatusCode:E,isValidUTF8:T}=h(54640),k=Buffer[Symbol.species],C=0,P=1,O=2,I=3,R=4,D=5,L=6;class $ extends m{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||y[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[w]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=C}_write(e,d,h){if(8===this._opcode&&this._state==C)return h();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(h)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let d=this._buffers[0];return this._buffers[0]=new k(d.buffer,d.byteOffset+e,d.length-e),new k(d.buffer,d.byteOffset,e)}let d=Buffer.allocUnsafe(e);do{let h=this._buffers[0],m=d.length-e;e>=h.length?d.set(this._buffers.shift(),m):(d.set(new Uint8Array(h.buffer,h.byteOffset,e),m),this._buffers[0]=new k(h.buffer,h.byteOffset+e,h.length-e)),e-=h.length}while(e>0);return d}startLoop(e){this._loop=!0;do switch(this._state){case C:this.getInfo(e);break;case P:this.getPayloadLength16(e);break;case O:this.getPayloadLength64(e);break;case I:this.getMask();break;case R:this.getData(e);break;case D:case L:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let d=this.consume(2);if((48&d[0])!=0)return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));let h=(64&d[0])==64;if(h&&!this._extensions[g.extensionName])return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._fin=(128&d[0])==128,this._opcode=15&d[0],this._payloadLength=127&d[1],0===this._opcode){if(h)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=h}else{if(!(this._opcode>7)||!(this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(h)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&d[1])==128,this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=P:127===this._payloadLength?this._state=O:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let d=this.consume(8),h=d.readUInt32BE(0);if(h>2097151)return void e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));this._payloadLength=0x100000000*h+d.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return void e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._masked?this._state=I:this._state=R}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=R}getData(e){let d=b;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}d=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&_(d,this._mask)}if(this._opcode>7)return void this.controlMessage(d,e);if(this._compressed){this._state=D,this.decompress(d,e);return}d.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(d)),this.dataMessage(e)}decompress(e,d){this._extensions[g.extensionName].decompress(e,this._fin,(e,h)=>{if(e)return d(e);if(h.length){if(this._messageLength+=h.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return void d(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(h)}this.dataMessage(d),this._state===C&&this.startLoop(d)})}dataMessage(e){if(!this._fin){this._state=C;return}let d=this._messageLength,h=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let m;m="nodebuffer"===this._binaryType?S(h,d):"arraybuffer"===this._binaryType?x(S(h,d)):"blob"===this._binaryType?new Blob(h):h,this._allowSynchronousEvents?(this.emit("message",m,!0),this._state=C):(this._state=L,setImmediate(()=>{this.emit("message",m,!0),this._state=C,this.startLoop(e)}))}else{let m=S(h,d);if(!this._skipUTF8Validation&&!T(m))return void e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._state===D||this._allowSynchronousEvents?(this.emit("message",m,!1),this._state=C):(this._state=L,setImmediate(()=>{this.emit("message",m,!1),this._state=C,this.startLoop(e)}))}}controlMessage(e,d){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,b),this.end();else{let h=e.readUInt16BE(0);if(!E(h))return void d(this.createError(RangeError,`invalid status code ${h}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));let m=new k(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!T(m))return void d(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));this._loop=!1,this.emit("conclude",h,m),this.end()}this._state=C;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=C):(this._state=L,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=C,this.startLoop(d)}))}createError(e,d,h,m,g){this._loop=!1,this._errored=!0;let y=new e(h?`Invalid WebSocket frame: ${d}`:d);return Error.captureStackTrace(y,this.createError),y.code=g,y[v]=m,y}}e.exports=$},49348:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getWidthLimitedColumnsArray=d.createHeaderAsRow=d.renderTableHorizontalBorders=d.findLenOfColumn=d.createRow=d.createColumFromComputedColumn=d.createColumFromOnlyName=d.createTableHorizontalBorders=d.convertRawRowOptionsToStandard=d.cellText=void 0;let m=h(77507),g=h(7021),y=h(70727),b=h(32152),v=(e,d)=>Math.max(e,d);d.cellText=e=>null==e?"":`${e}`,d.convertRawRowOptionsToStandard=e=>{if(e)return{color:e.color,separator:e.separator||b.DEFAULT_ROW_SEPARATOR}},d.createTableHorizontalBorders=({left:e,mid:d,right:h,other:m},g)=>{let y=e;return g.forEach(e=>{y+=m.repeat(e+2),y+=d}),y=y.slice(0,-d.length)+h},d.createColumFromOnlyName=e=>({name:e,title:e}),d.createColumFromComputedColumn=e=>{var d;return Object.assign(Object.assign(Object.assign(Object.assign({name:e.name,title:null!=(d=e.title)?d:e.name},(0,m.objIfExists)("color",e.color)),(0,m.objIfExists)("maxLen",e.maxLen)),(0,m.objIfExists)("minLen",e.minLen)),{alignment:e.alignment||b.DEFAULT_ROW_ALIGNMENT})},d.createRow=(e,d,h)=>({color:e,separator:h,text:d});let w=(e,h,m)=>{let b=e.name,w=e.title,S=v(0,(null==e?void 0:e.minLen)||0);return e.maxLen?(S=v(S,v(e.maxLen,(0,y.biggestWordInSentence)(w,m))),S=h.reduce((e,h)=>v(e,(0,y.biggestWordInSentence)((0,d.cellText)(h.text[b]),m)),S)):(S=v(S,(0,g.findWidthInConsole)(w,m)),h.forEach(e=>{S=v(S,(0,g.findWidthInConsole)((0,d.cellText)(e.text[b]),m))}),S)};d.findLenOfColumn=w;let S=(e,h)=>(0,d.createTableHorizontalBorders)(e,h);d.renderTableHorizontalBorders=S,d.createHeaderAsRow=(e,d)=>{let h=e(b.DEFAULT_HEADER_FONT_COLOR,{},!1);return d.forEach(e=>{h.text[e.name]=e.title}),h};let x=(e,h,m)=>{let g={};return e.forEach(e=>{g[e.name]=(0,y.splitTextIntoTextsOfMinLen)((0,d.cellText)(h.text[e.name]),e.length||b.DEFAULT_COLUMN_LEN,m)}),g};d.getWidthLimitedColumnsArray=x},49495:(e,d,h)=>{"use strict";h.d(d,{MT:()=>w,Sf:()=>S,SJ:()=>v});var m=h(83732);let g=e=>!!e.jobs&&!!(e.jobs.tasks?.length>0||e.jobs.workflows?.length>0),y={handler:async e=>{if(!g(e.payload.config))return Response.json({message:"No jobs to run."},{status:200});if(!await e.payload.config.jobs.access.run({req:e}))return Response.json({message:e.i18n.t("error:unauthorized")},{status:401});let{limit:d,queue:h}=e.query,y={queue:"default",req:e,overrideAccess:!0};"string"==typeof h&&(y.queue=h),void 0!==d&&(y.limit=Number(d));let b=!1,v=0;try{let e=await (0,m.A)(y);b=!!e.noJobsRemaining,v=e.remainingJobsFromQueried}catch(d){return e.payload.logger.error({err:d,msg:"There was an error running jobs:",queue:y.queue}),Response.json({message:e.i18n.t("error:unknown"),noJobsRemaining:!0,remainingJobsFromQueried:v},{status:500})}return Response.json({message:e.i18n.t("general:success"),noJobsRemaining:b,remainingJobsFromQueried:v},{status:200})},method:"get",path:"/run"},b=({jobLog:e})=>{let d={};for(let h of e)if(d[h.taskSlug]||(d[h.taskSlug]={}),d[h.taskSlug][h.taskID]){let e=d[h.taskSlug][h.taskID];e.totalTried+=1,"succeeded"===h.state&&(e.complete=!0,e.output=h.output,e.input=h.input,e.taskSlug=h.taskSlug),d[h.taskSlug][h.taskID]=e}else d[h.taskSlug][h.taskID]={complete:"succeeded"===h.state,input:h.input,output:h.output,taskSlug:h.taskSlug,totalTried:1};return d},v="payload-jobs",w=e=>{let d=new Set,h=new Set(["inline"]);e.jobs?.workflows?.length&&e.jobs?.workflows.forEach(e=>{d.add(e.slug)}),e.jobs?.tasks?.length&&e.jobs.tasks.forEach(e=>{if(d.has(e.slug))throw Error(`Task slug "${e.slug}" is already used by a workflow. No tasks are allowed to have the same slug as a workflow.`);h.add(e.slug)});let m=[{name:"executedAt",type:"date",required:!0},{name:"completedAt",type:"date",required:!0},{name:"taskSlug",type:"select",options:[...h],required:!0},{name:"taskID",type:"text",required:!0},{name:"input",type:"json"},{name:"output",type:"json"},{name:"state",type:"radio",options:["failed","succeeded"],required:!0},{name:"error",type:"json",admin:{condition:(e,d)=>"failed"===d.state},required:!0}];return e?.jobs?.addParentToTaskLog&&m.push({name:"parent",type:"group",fields:[{name:"taskSlug",type:"select",options:[...h]},{name:"taskID",type:"text"}]}),{slug:v,admin:{group:"System",hidden:!0},endpoints:[y],fields:[{name:"input",type:"json",admin:{description:"Input data provided to the job"}},{name:"taskStatus",type:"json",virtual:!0},{type:"tabs",tabs:[{fields:[{name:"completedAt",type:"date",index:!0},{name:"totalTried",type:"number",defaultValue:0,index:!0},{name:"hasError",type:"checkbox",admin:{description:"If hasError is true this job will not be retried"},defaultValue:!1,index:!0},{name:"error",type:"json",admin:{condition:e=>e.hasError,description:"If hasError is true, this is the error that caused it"}},{name:"log",type:"array",admin:{description:"Task execution log"},fields:m}],label:"Status"}]},...d.size>0?[{name:"workflowSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...d]}]:[],{name:"taskSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...h],required:!1},{name:"queue",type:"text",admin:{position:"sidebar"},defaultValue:"default",index:!0},{name:"waitUntil",type:"date",index:!0},{name:"processing",type:"checkbox",admin:{position:"sidebar"},defaultValue:!1,index:!0}],hooks:{afterRead:[({doc:e,req:d})=>S({config:d.payload.config,doc:e})],beforeChange:[({data:e,originalDoc:d})=>(d?.error?.cancelled&&(e.processing=!1,e.hasError=!0,delete e.completedAt,delete e.waitUntil),e)]},lockDocuments:!1}};function S({config:e,doc:d}){return d.taskStatus=b({jobLog:d.log||[]}),d}},49502:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.headStream=void 0;let m=h(27910),g=h(11852),y=h(39444);d.headStream=(e,d)=>(0,y.isReadableStream)(e)?(0,g.headStream)(e,d):new Promise((h,m)=>{let g=new b;g.limit=d,e.pipe(g),e.on("error",e=>{g.end(),m(e)}),g.on("error",m),g.on("finish",function(){h(new Uint8Array(Buffer.concat(this.buffers)))})});class b extends m.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,d,h){var m;if(this.buffers.push(e),this.bytesBuffered+=null!=(m=e.byteLength)?m:0,this.bytesBuffered>=this.limit){let e=this.bytesBuffered-this.limit,d=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=d.subarray(0,d.byteLength-e),this.emit("finish")}h()}}},49631:e=>{"use strict";e.exports=JSON.parse('{"126":{"host":"smtp.126.com","port":465,"secure":true},"163":{"host":"smtp.163.com","port":465,"secure":true},"1und1":{"host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"Aliyun":{"domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AOL":{"domains":["aol.com"],"host":"smtp.aol.com","port":587},"Bluewin":{"host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"DebugMail":{"host":"debugmail.io","port":25},"DynectEmail":{"aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"Ethereal":{"aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Forward Email":{"aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"Feishu Mail":{"aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"GandiMail":{"aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"Godaddy":{"host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"host":"mail.hot.ee"},"Hotmail":{"aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"Loopia":{"host":"mailcluster.loopia.se","port":465},"mail.ee":{"host":"smtp.mail.ee"},"Mail.ru":{"host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"port":1025,"ignoreTLS":true},"Mailgun":{"host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"host":"in.mailjet.com","port":587},"Mailosaur":{"host":"mailosaur.io","port":25},"Mailtrap":{"host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"host":"smtp.mandrillapp.com","port":587},"Naver":{"host":"smtp.naver.com","port":587},"One":{"host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"host":"smtp.office365.com","port":587,"secure":false},"OhMySMTP":{"host":"smtp.ohmysmtp.com","port":587,"secure":false},"Postmark":{"aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"qiye.aliyun":{"host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"SendCloud":{"host":"smtp.sendcloud.net","port":2525},"SendGrid":{"host":"smtp.sendgrid.net","port":587},"SendinBlue":{"aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"host":"smtp-pulse.com","port":465,"secure":true},"SES":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"Sparkpost":{"aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"host":"smtp.tipimail.com","port":587},"Yahoo":{"domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zoho":{"host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}')},49694:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.uint32ArrayFrom=void 0,d.uint32ArrayFrom=function(e){if(!Array.from){for(var d=new Uint32Array(e.length),h=0;h<e.length;)d[h]=e[h];return d}return Uint32Array.from(e)}},49876:(e,d,h)=>{"use strict";let m=h(52838),g=h(41893).cursor,y=h(85183),b=h(8984),v=b.clear,w=b.figures,S=b.style,x=b.wrap,_=b.entriesToDisplay;class E extends y{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((e,d)=>("string"==typeof e&&(e={title:e,value:d}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(void 0===e.value?d:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=v("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let e=this.value.filter(e=>e.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(d=>d.selected=e),this.render()}_(e,d){if(" "===e)this.handleSpaceToggle();else{if("a"!==e)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${w.arrowUp}/${w.arrowDown}: Highlight option
    ${w.arrowLeft}/${w.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,d,h,g){let y,b,v=(d.selected?m.green(w.radioOn):w.radioOff)+" "+g+" ";return d.disabled?y=e===h?m.gray().underline(d.title):m.strikethrough().gray(d.title):(y=e===h?m.cyan().underline(d.title):d.title,e===h&&d.description&&(b=` - ${d.description}`,(v.length+y.length+b.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(b="\n"+x(d.description,{margin:v.length,width:this.out.columns})))),v+y+m.gray(b||"")}paginateOptions(e){if(0===e.length)return m.red("No matches for this query.");let d=_(this.cursor,e.length,this.optionsPerPage),h=d.startIndex,g=d.endIndex,y,b=[];for(let d=h;d<g;d++)y=d===h&&h>0?w.arrowUp:d===g-1&&g<e.length?w.arrowDown:" ",b.push(this.renderOption(this.cursor,e[d],d,y));return"\n"+b.join("\n")}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[m.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(m.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(g.hide),super.render();let e=[S.symbol(this.done,this.aborted),m.bold(this.msg),S.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=m.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=v(e,this.out.columns)}}e.exports=E},49884:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.convertToBuffer=void 0;var m=h(79980),g="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:m.fromUtf8;d.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?g(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},49922:(e,d,h)=>{"use strict";let m,g;h.r(d),h.d(d,{NIL:()=>L,parse:()=>_,stringify:()=>b.A,v1:()=>S,v3:()=>I,v4:()=>R.A,v5:()=>D,validate:()=>x.A,version:()=>$});var y=h(69921),b=h(13969);let v=0,w=0,S=function(e,d,h){let S=d&&h||0,x=d||Array(16),_=(e=e||{}).node||m,E=void 0!==e.clockseq?e.clockseq:g;if(null==_||null==E){let d=e.random||(e.rng||y.A)();null==_&&(_=m=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==E&&(E=g=(d[6]<<8|d[7])&16383)}let T=void 0!==e.msecs?e.msecs:Date.now(),k=void 0!==e.nsecs?e.nsecs:w+1,C=T-v+(k-w)/1e4;if(C<0&&void 0===e.clockseq&&(E=E+1&16383),(C<0||T>v)&&void 0===e.nsecs&&(k=0),k>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");v=T,w=k,g=E;let P=((0xfffffff&(T+=122192928e5))*1e4+k)%0x100000000;x[S++]=P>>>24&255,x[S++]=P>>>16&255,x[S++]=P>>>8&255,x[S++]=255&P;let O=T/0x100000000*1e4&0xfffffff;x[S++]=O>>>8&255,x[S++]=255&O,x[S++]=O>>>24&15|16,x[S++]=O>>>16&255,x[S++]=E>>>8|128,x[S++]=255&E;for(let e=0;e<6;++e)x[S+e]=_[e];return d||(0,b.k)(x)};var x=h(79540);let _=function(e){let d;if(!(0,x.A)(e))throw TypeError("Invalid UUID");let h=new Uint8Array(16);return h[0]=(d=parseInt(e.slice(0,8),16))>>>24,h[1]=d>>>16&255,h[2]=d>>>8&255,h[3]=255&d,h[4]=(d=parseInt(e.slice(9,13),16))>>>8,h[5]=255&d,h[6]=(d=parseInt(e.slice(14,18),16))>>>8,h[7]=255&d,h[8]=(d=parseInt(e.slice(19,23),16))>>>8,h[9]=255&d,h[10]=(d=parseInt(e.slice(24,36),16))/0x10000000000&255,h[11]=d/0x100000000&255,h[12]=d>>>24&255,h[13]=d>>>16&255,h[14]=d>>>8&255,h[15]=255&d,h};function E(e){e=unescape(encodeURIComponent(e));let d=[];for(let h=0;h<e.length;++h)d.push(e.charCodeAt(h));return d}let T="6ba7b810-9dad-11d1-80b4-00c04fd430c8",k="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function C(e,d,h){function m(e,m,g,y){var v;if("string"==typeof e&&(e=E(e)),"string"==typeof m&&(m=_(m)),(null==(v=m)?void 0:v.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let w=new Uint8Array(16+e.length);if(w.set(m),w.set(e,m.length),(w=h(w))[6]=15&w[6]|d,w[8]=63&w[8]|128,g){y=y||0;for(let e=0;e<16;++e)g[y+e]=w[e];return g}return(0,b.k)(w)}try{m.name=e}catch(e){}return m.DNS=T,m.URL=k,m}var P=h(55511),O=h.n(P);let I=C("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),O().createHash("md5").update(e).digest()});var R=h(91392);let D=C("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),O().createHash("sha1").update(e).digest()}),L="00000000-0000-0000-0000-000000000000",$=function(e){if(!(0,x.A)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},50035:(e,d,h)=>{"use strict";h.d(d,{A:()=>g});var m=h(57975);let g=e=>m.types.isKeyObject(e)},50366:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{AdaptiveRetryStrategy:()=>L,CONFIG_MAX_ATTEMPTS:()=>B,CONFIG_RETRY_MODE:()=>z,ENV_MAX_ATTEMPTS:()=>M,ENV_RETRY_MODE:()=>F,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>j,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>q,StandardRetryStrategy:()=>R,defaultDelayDecider:()=>C,defaultRetryDecider:()=>O,getOmitRetryHeadersPlugin:()=>K,getRetryAfterHint:()=>et,getRetryPlugin:()=>ee,omitRetryHeadersMiddleware:()=>V,omitRetryHeadersMiddlewareOptions:()=>H,resolveRetryConfig:()=>U,retryMiddleware:()=>J,retryMiddlewareOptions:()=>Z}),e.exports=S(x);var _=h(96543),E=h(49922),T=h(76199),k=v((e,d)=>{let h=e,m=d?.noRetryIncrement??T.NO_RETRY_INCREMENT,g=d?.retryCost??T.RETRY_COST,y=d?.timeoutRetryCost??T.TIMEOUT_RETRY_COST,b=e,w=v(e=>"TimeoutError"===e.name?y:g,"getCapacityAmount"),S=v(e=>w(e)<=b,"hasRetryTokens"),x=v(e=>{if(!S(e))throw Error("No retry token available");let d=w(e);return b-=d,d},"retrieveRetryTokens");return Object.freeze({hasRetryTokens:S,retrieveRetryTokens:x,releaseRetryTokens:v(e=>{b+=e??m,b=Math.min(b,h)},"releaseRetryTokens")})},"getDefaultRetryQuota"),C=v((e,d)=>Math.floor(Math.min(T.MAXIMUM_RETRY_DELAY,Math.random()*2**d*e)),"defaultDelayDecider"),P=h(44584),O=v(e=>!!e&&((0,P.isRetryableByTrait)(e)||(0,P.isClockSkewError)(e)||(0,P.isThrottlingError)(e)||(0,P.isTransientError)(e)),"defaultRetryDecider"),I=v(e=>e instanceof Error?e:e instanceof Object?Object.assign(Error(),e):"string"==typeof e?Error(e):Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),R=class{constructor(e,d){this.maxAttemptsProvider=e,this.mode=T.RETRY_MODES.STANDARD,this.retryDecider=d?.retryDecider??O,this.delayDecider=d?.delayDecider??C,this.retryQuota=d?.retryQuota??k(T.INITIAL_RETRY_TOKENS)}static{v(this,"StandardRetryStrategy")}shouldRetry(e,d,h){return d<h&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch(d){e=T.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,d,h){let m,g=0,y=0,b=await this.getMaxAttempts(),{request:v}=d;for(_.HttpRequest.isInstance(v)&&(v.headers[T.INVOCATION_ID_HEADER]=(0,E.v4)());;)try{_.HttpRequest.isInstance(v)&&(v.headers[T.REQUEST_HEADER]=`attempt=${g+1}; max=${b}`),h?.beforeRequest&&await h.beforeRequest();let{response:w,output:S}=await e(d);return h?.afterRequest&&h.afterRequest(w),this.retryQuota.releaseRetryTokens(m),S.$metadata.attempts=g+1,S.$metadata.totalRetryDelay=y,{response:w,output:S}}catch(d){let e=I(d);if(g++,this.shouldRetry(e,g,b)){m=this.retryQuota.retrieveRetryTokens(e);let d=this.delayDecider((0,P.isThrottlingError)(e)?T.THROTTLING_RETRY_DELAY_BASE:T.DEFAULT_RETRY_DELAY_BASE,g),h=Math.max(D(e.$response)||0,d);y+=h,await new Promise(e=>setTimeout(e,h));continue}throw e.$metadata||(e.$metadata={}),e.$metadata.attempts=g,e.$metadata.totalRetryDelay=y,e}}},D=v(e=>{if(!_.HttpResponse.isInstance(e))return;let d=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!d)return;let h=e.headers[d],m=Number(h);return Number.isNaN(m)?new Date(h).getTime()-Date.now():1e3*m},"getDelayFromRetryAfterHeader"),L=class extends R{static{v(this,"AdaptiveRetryStrategy")}constructor(e,d){let{rateLimiter:h,...m}=d??{};super(e,m),this.rateLimiter=h??new T.DefaultRateLimiter,this.mode=T.RETRY_MODES.ADAPTIVE}async retry(e,d){return super.retry(e,d,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:e=>{this.rateLimiter.updateClientSendingRate(e)}})}},$=h(43510),M="AWS_MAX_ATTEMPTS",B="max_attempts",j={environmentVariableSelector:e=>{let d=e[M];if(!d)return;let h=parseInt(d);if(Number.isNaN(h))throw Error(`Environment variable ${M} mast be a number, got "${d}"`);return h},configFileSelector:e=>{let d=e[B];if(!d)return;let h=parseInt(d);if(Number.isNaN(h))throw Error(`Shared config file entry ${B} mast be a number, got "${d}"`);return h},default:T.DEFAULT_MAX_ATTEMPTS},U=v(e=>{let{retryStrategy:d,retryMode:h,maxAttempts:m}=e,g=(0,$.normalizeProvider)(m??T.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:g,retryStrategy:async()=>d||(await (0,$.normalizeProvider)(h)()===T.RETRY_MODES.ADAPTIVE?new T.AdaptiveRetryStrategy(g):new T.StandardRetryStrategy(g))})},"resolveRetryConfig"),F="AWS_RETRY_MODE",z="retry_mode",q={environmentVariableSelector:e=>e[F],configFileSelector:e=>e[z],default:T.DEFAULT_RETRY_MODE},V=v(()=>e=>async d=>{let{request:h}=d;return _.HttpRequest.isInstance(h)&&(delete h.headers[T.INVOCATION_ID_HEADER],delete h.headers[T.REQUEST_HEADER]),e(d)},"omitRetryHeadersMiddleware"),H={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},K=v(e=>({applyToStack:e=>{e.addRelativeTo(V(),H)}}),"getOmitRetryHeadersPlugin"),G=h(135),W=h(30579),J=v(e=>(d,h)=>async m=>{let g=await e.retryStrategy(),y=await e.maxAttempts();if(!Q(g))return g?.mode&&(h.userAgent=[...h.userAgent||[],["cfg/retry-mode",g.mode]]),g.retry(d,m);{let e=await g.acquireInitialRetryToken(h.partition_id),b=Error(),v=0,w=0,{request:S}=m,x=_.HttpRequest.isInstance(S);for(x&&(S.headers[T.INVOCATION_ID_HEADER]=(0,E.v4)());;)try{x&&(S.headers[T.REQUEST_HEADER]=`attempt=${v+1}; max=${y}`);let{response:h,output:b}=await d(m);return g.recordSuccess(e),b.$metadata.attempts=v+1,b.$metadata.totalRetryDelay=w,{response:h,output:b}}catch(y){let d=Y(y);if(b=I(y),x&&(0,W.isStreamingPayload)(S))throw(h.logger instanceof G.NoOpLogger?console:h.logger)?.warn("An error was encountered in a non-retryable streaming request."),b;try{e=await g.refreshRetryTokenForRetry(e,d)}catch(e){throw b.$metadata||(b.$metadata={}),b.$metadata.attempts=v+1,b.$metadata.totalRetryDelay=w,b}v=e.getRetryCount();let m=e.getRetryDelay();w+=m,await new Promise(e=>setTimeout(e,m))}}},"retryMiddleware"),Q=v(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,"isRetryStrategyV2"),Y=v(e=>{let d={error:e,errorType:X(e)},h=et(e.$response);return h&&(d.retryAfterHint=h),d},"getRetryErrorInfo"),X=v(e=>(0,P.isThrottlingError)(e)?"THROTTLING":(0,P.isTransientError)(e)?"TRANSIENT":(0,P.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Z={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ee=v(e=>({applyToStack:d=>{d.add(J(e),Z)}}),"getRetryPlugin"),et=v(e=>{if(!_.HttpResponse.isInstance(e))return;let d=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!d)return;let h=e.headers[d],m=Number(h);return new Date(Number.isNaN(m)?h:1e3*m)},"getRetryAfterHint")},50672:(e,d,h)=>{"use strict";h.r(d),h.d(d,{EndpointCache:()=>m,EndpointError:()=>_,customEndpointFunctions:()=>w,isIpAddress:()=>y,isValidHostLabel:()=>v,resolveEndpoint:()=>W});class m{constructor({size:e,params:d}){this.data=new Map,this.parameters=[],this.capacity=e??50,d&&(this.parameters=d)}get(e,d){let h=this.hash(e);if(!1===h)return d();if(!this.data.has(h)){if(this.data.size>this.capacity+10){let e=this.data.keys(),d=0;for(;;){let{value:h,done:m}=e.next();if(this.data.delete(h),m||++d>10)break}}this.data.set(h,d())}return this.data.get(h)}size(){return this.data.size}hash(e){let d="",{parameters:h}=this;if(0===h.length)return!1;for(let m of h){let h=String(e[m]??"");if(h.includes("|;"))return!1;d+=h+"|;"}return d}}let g=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),y=e=>g.test(e)||e.startsWith("[")&&e.endsWith("]"),b=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),v=(e,d=!1)=>{if(!d)return b.test(e);for(let d of e.split("."))if(!v(d))return!1;return!0},w={},S="endpoints";function x(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${x(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(x).join(", ")})`:JSON.stringify(e,null,2)}class _ extends Error{constructor(e){super(e),this.name="EndpointError"}}let E=(e,d)=>e===d,T=e=>{let d=e.split("."),h=[];for(let m of d){let d=m.indexOf("[");if(-1!==d){if(m.indexOf("]")!==m.length-1)throw new _(`Path: '${e}' does not end with ']'`);let g=m.slice(d+1,-1);if(Number.isNaN(parseInt(g)))throw new _(`Invalid array index: '${g}' in path: '${e}'`);0!==d&&h.push(m.slice(0,d)),h.push(g)}else h.push(m)}return h},k=(e,d)=>T(d).reduce((h,m)=>{if("object"!=typeof h)throw new _(`Index '${m}' in '${d}' not found in '${JSON.stringify(e)}'`);return Array.isArray(h)?h[parseInt(m)]:h[m]},e),C=e=>null!=e,P=e=>!e;var O=h(38755);let I={[O.EndpointURLScheme.HTTP]:80,[O.EndpointURLScheme.HTTPS]:443},R={booleanEquals:E,getAttr:k,isSet:C,isValidHostLabel:v,not:P,parseURL:e=>{let d=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){let{hostname:d,port:h,protocol:m="",path:g="",query:y={}}=e,b=new URL(`${m}//${d}${h?`:${h}`:""}${g}`);return b.search=Object.entries(y).map(([e,d])=>`${e}=${d}`).join("&"),b}return new URL(e)}catch(e){return null}})();if(!d)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let h=d.href,{host:m,hostname:g,pathname:b,protocol:v,search:w}=d;if(w)return null;let S=v.slice(0,-1);if(!Object.values(O.EndpointURLScheme).includes(S))return null;let x=y(g),_=h.includes(`${m}:${I[S]}`)||"string"==typeof e&&e.includes(`${m}:${I[S]}`),E=`${m}${_?`:${I[S]}`:""}`;return{scheme:S,authority:E,path:b,normalizedPath:b.endsWith("/")?b:`${b}/`,isIp:x}},stringEquals:(e,d)=>e===d,substring:(e,d,h,m)=>d>=h||e.length<h?null:m?e.substring(e.length-h,e.length-d):e.substring(d,h),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},D=(e,d)=>{let h=[],m={...d.endpointParams,...d.referenceRecord},g=0;for(;g<e.length;){let d=e.indexOf("{",g);if(-1===d){h.push(e.slice(g));break}h.push(e.slice(g,d));let y=e.indexOf("}",d);if(-1===y){h.push(e.slice(d));break}"{"===e[d+1]&&"}"===e[y+1]&&(h.push(e.slice(d+1,y)),g=y+2);let b=e.substring(d+1,y);if(b.includes("#")){let[e,d]=b.split("#");h.push(k(m[e],d))}else h.push(m[b]);g=y+1}return h.join("")},L=({ref:e},d)=>({...d.endpointParams,...d.referenceRecord})[e],$=(e,d,h)=>{if("string"==typeof e)return D(e,h);if(e.fn)return M(e,h);if(e.ref)return L(e,h);throw new _(`'${d}': ${String(e)} is not a string, function or reference.`)},M=({fn:e,argv:d},h)=>{let m=d.map(e=>["boolean","number"].includes(typeof e)?e:$(e,"arg",h)),g=e.split(".");return g[0]in w&&null!=g[1]?w[g[0]][g[1]](...m):R[e](...m)},B=({assign:e,...d},h)=>{if(e&&e in h.referenceRecord)throw new _(`'${e}' is already defined in Reference Record.`);let m=M(d,h);return h.logger?.debug?.(`${S} evaluateCondition: ${x(d)} = ${x(m)}`),{result:""===m||!!m,...null!=e&&{toAssign:{name:e,value:m}}}},j=(e=[],d)=>{let h={};for(let m of e){let{result:e,toAssign:g}=B(m,{...d,referenceRecord:{...d.referenceRecord,...h}});if(!e)return{result:e};g&&(h[g.name]=g.value,d.logger?.debug?.(`${S} assign: ${g.name} := ${x(g.value)}`))}return{result:!0,referenceRecord:h}},U=(e,d)=>Object.entries(e).reduce((e,[h,m])=>({...e,[h]:m.map(e=>{let m=$(e,"Header value entry",d);if("string"!=typeof m)throw new _(`Header '${h}' value '${m}' is not a string`);return m})}),{}),F=(e,d)=>{if(Array.isArray(e))return e.map(e=>F(e,d));switch(typeof e){case"string":return D(e,d);case"object":if(null===e)throw new _(`Unexpected endpoint property: ${e}`);return z(e,d);case"boolean":return e;default:throw new _(`Unexpected endpoint property type: ${typeof e}`)}},z=(e,d)=>Object.entries(e).reduce((e,[h,m])=>({...e,[h]:F(m,d)}),{}),q=(e,d)=>{let h=$(e,"Endpoint URL",d);if("string"==typeof h)try{return new URL(h)}catch(e){throw console.error(`Failed to construct URL with ${h}`,e),e}throw new _(`Endpoint URL must be a string, got ${typeof h}`)},V=(e,d)=>{let{conditions:h,endpoint:m}=e,{result:g,referenceRecord:y}=j(h,d);if(!g)return;let b={...d,referenceRecord:{...d.referenceRecord,...y}},{url:v,properties:w,headers:_}=m;return d.logger?.debug?.(`${S} Resolving endpoint from template: ${x(m)}`),{...void 0!=_&&{headers:U(_,b)},...void 0!=w&&{properties:z(w,b)},url:q(v,b)}},H=(e,d)=>{let{conditions:h,error:m}=e,{result:g,referenceRecord:y}=j(h,d);if(g)throw new _($(m,"Error",{...d,referenceRecord:{...d.referenceRecord,...y}}))},K=(e,d)=>{let{conditions:h,rules:m}=e,{result:g,referenceRecord:y}=j(h,d);if(g)return G(m,{...d,referenceRecord:{...d.referenceRecord,...y}})},G=(e,d)=>{for(let h of e)if("endpoint"===h.type){let e=V(h,d);if(e)return e}else if("error"===h.type)H(h,d);else if("tree"===h.type){let e=K(h,d);if(e)return e}else throw new _(`Unknown endpoint rule: ${h}`);throw new _("Rules evaluation failed")},W=(e,d)=>{let{endpointParams:h,logger:m}=d,{parameters:g,rules:y}=e;d.logger?.debug?.(`${S} Initial EndpointParams: ${x(h)}`);let b=Object.entries(g).filter(([,e])=>null!=e.default).map(([e,d])=>[e,d.default]);if(b.length>0)for(let[e,d]of b)h[e]=h[e]??d;for(let e of Object.entries(g).filter(([,e])=>e.required).map(([e])=>e))if(null==h[e])throw new _(`Missing required parameter: '${e}'`);let v=G(y,{endpointParams:h,logger:m,referenceRecord:{}});return d.logger?.debug?.(`${S} Resolved endpoint: ${x(v)}`),v}},50809:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>T,CONFIG_USE_FIPS_ENDPOINT:()=>O,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>k,DEFAULT_USE_FIPS_ENDPOINT:()=>I,ENV_USE_DUALSTACK_ENDPOINT:()=>E,ENV_USE_FIPS_ENDPOINT:()=>P,NODE_REGION_CONFIG_FILE_OPTIONS:()=>F,NODE_REGION_CONFIG_OPTIONS:()=>U,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>C,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>R,REGION_ENV_NAME:()=>B,REGION_INI_NAME:()=>j,getRegionInfo:()=>J,resolveCustomEndpointsConfig:()=>L,resolveEndpointsConfig:()=>M,resolveRegionConfig:()=>V}),e.exports=S(x);var _=h(7743),E="AWS_USE_DUALSTACK_ENDPOINT",T="use_dualstack_endpoint",k=!1,C={environmentVariableSelector:e=>(0,_.booleanSelector)(e,E,_.SelectorType.ENV),configFileSelector:e=>(0,_.booleanSelector)(e,T,_.SelectorType.CONFIG),default:!1},P="AWS_USE_FIPS_ENDPOINT",O="use_fips_endpoint",I=!1,R={environmentVariableSelector:e=>(0,_.booleanSelector)(e,P,_.SelectorType.ENV),configFileSelector:e=>(0,_.booleanSelector)(e,O,_.SelectorType.CONFIG),default:!1},D=h(43510),L=v(e=>{let{tls:d,endpoint:h,urlParser:m,useDualstackEndpoint:g}=e;return Object.assign(e,{tls:d??!0,endpoint:(0,D.normalizeProvider)("string"==typeof h?m(h):h),isCustomEndpoint:!0,useDualstackEndpoint:(0,D.normalizeProvider)(g??!1)})},"resolveCustomEndpointsConfig"),$=v(async e=>{let{tls:d=!0}=e,h=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(h))throw Error("Invalid region in client config");let m=await e.useDualstackEndpoint(),g=await e.useFipsEndpoint(),{hostname:y}=await e.regionInfoProvider(h,{useDualstackEndpoint:m,useFipsEndpoint:g})??{};if(!y)throw Error("Cannot resolve hostname from client config");return e.urlParser(`${d?"https:":"http:"}//${y}`)},"getEndpointFromRegion"),M=v(e=>{let d=(0,D.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:h,useFipsEndpoint:m,urlParser:g,tls:y}=e;return Object.assign(e,{tls:y??!0,endpoint:h?(0,D.normalizeProvider)("string"==typeof h?g(h):h):()=>$({...e,useDualstackEndpoint:d,useFipsEndpoint:m}),isCustomEndpoint:!!h,useDualstackEndpoint:d})},"resolveEndpointsConfig"),B="AWS_REGION",j="region",U={environmentVariableSelector:e=>e[B],configFileSelector:e=>e[j],default:()=>{throw Error("Region is missing")}},F={preferredFile:"credentials"},z=v(e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),q=v(e=>z(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),V=v(e=>{let{region:d,useFipsEndpoint:h}=e;if(!d)throw Error("Region is missing");return Object.assign(e,{region:async()=>"string"==typeof d?q(d):q(await d()),useFipsEndpoint:async()=>!!z("string"==typeof d?d:await d())||("function"!=typeof h?Promise.resolve(!!h):h())})},"resolveRegionConfig"),H=v((e=[],{useFipsEndpoint:d,useDualstackEndpoint:h})=>e.find(({tags:e})=>d===e.includes("fips")&&h===e.includes("dualstack"))?.hostname,"getHostnameFromVariants"),K=v((e,{regionHostname:d,partitionHostname:h})=>d||(h?h.replace("{region}",e):void 0),"getResolvedHostname"),G=v((e,{partitionHash:d})=>Object.keys(d||{}).find(h=>d[h].regions.includes(e))??"aws","getResolvedPartition"),W=v((e,{signingRegion:d,regionRegex:h,useFipsEndpoint:m})=>{if(d)return d;if(m){let d=h.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),m=e.match(d);if(m)return m[0].slice(1,-1)}},"getResolvedSigningRegion"),J=v((e,{useFipsEndpoint:d=!1,useDualstackEndpoint:h=!1,signingService:m,regionHash:g,partitionHash:y})=>{let b=G(e,{partitionHash:y}),v=e in g?e:y[b]?.endpoint??e,w={useFipsEndpoint:d,useDualstackEndpoint:h},S=H(g[v]?.variants,w),x=K(v,{regionHostname:S,partitionHostname:H(y[b]?.variants,w)});if(void 0===x)throw Error(`Endpoint resolution failed for: ${{resolvedRegion:v,useFipsEndpoint:d,useDualstackEndpoint:h}}`);let _=W(x,{signingRegion:g[v]?.signingRegion,regionRegex:y[b].regionRegex,useFipsEndpoint:d});return{partition:b,signingService:m,hostname:x,..._&&{signingRegion:_},...g[v]?.signingService&&{signingService:g[v].signingService}}},"getRegionInfo")},50862:(e,d,h)=>{"use strict";let m=h(47888),g=h(75885),y=h(55292),b=h(73276),{groupRedact:v,nestedRedact:w}=h(7468),S=h(60411),x=h(30658),_=m(),E=e=>e;E.restore=E;let T="[REDACTED]";function k(e={}){let d=Array.from(new Set(e.paths||[])),h="serialize"in e&&(!1===e.serialize||"function"==typeof e.serialize)?e.serialize:JSON.stringify,m=e.remove;if(!0===m&&h!==JSON.stringify)throw Error("fast-redact  remove option may only be set when serializer is JSON.stringify");let x=!0===m?void 0:"censor"in e?e.censor:T,C="function"==typeof x,P=C&&x.length>1;if(0===d.length)return h||E;_({paths:d,serialize:h,censor:x});let{wildcards:O,wcLen:I,secret:R}=g({paths:d,censor:x}),D=b();return y({secret:R,wcLen:I,serialize:h,strict:!("strict"in e)||e.strict,isCensorFct:C,censorFctTakesPath:P},S({secret:R,censor:x,compileRestore:D,serialize:h,groupRedact:v,nestedRedact:w,wildcards:O,wcLen:I}))}k.rx=x,k.validator=m,e.exports=k},50893:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromSSO:()=>D,isSsoProfile:()=>y,validateSsoProfile:()=>R});var m=h(11075),g=h(71475);let y=e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name);var b=h(76941);let v=3e5,w="To refresh this SSO session run 'aws sso login' with the corresponding profile.",S=async(e,d={})=>{let{SSOOIDCClient:m}=await h.e(2388).then(h.bind(h,62388));return new m(Object.assign({},d.clientConfig??{},{region:e??d.clientConfig?.region,logger:d.clientConfig?.logger??d.parentClientConfig?.logger}))},x=async(e,d,m={})=>{let{CreateTokenCommand:g}=await h.e(2388).then(h.bind(h,62388));return(await S(d,m)).send(new g({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},_=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new m.TokenProviderError(`Token is expired. ${w}`,!1)},E=(e,d,h=!1)=>{if(void 0===d)throw new m.TokenProviderError(`Value not present for '${e}' in SSO Token${h?". Cannot refresh":""}. ${w}`,!1)},{writeFile:T}=h(29021).promises,k=(e,d)=>T((0,g.getSSOTokenFilepath)(e),JSON.stringify(d,null,2)),C=new Date(0),P=(e={})=>async({callerClientConfig:d}={})=>{let h,y={...e,parentClientConfig:{...d,...e.parentClientConfig}};y.logger?.debug("@aws-sdk/token-providers - fromSso");let b=await (0,g.parseKnownFiles)(y),S=(0,g.getProfileName)({profile:y.profile??d?.profile}),T=b[S];if(T){if(!T.sso_session)throw new m.TokenProviderError(`Profile '${S}' is missing required property 'sso_session'.`)}else throw new m.TokenProviderError(`Profile '${S}' could not be found in shared credentials file.`,!1);let P=T.sso_session,O=(await (0,g.loadSsoSessionData)(y))[P];if(!O)throw new m.TokenProviderError(`Sso session '${P}' could not be found in shared credentials file.`,!1);for(let e of["sso_start_url","sso_region"])if(!O[e])throw new m.TokenProviderError(`Sso session '${P}' is missing required property '${e}'.`,!1);O.sso_start_url;let I=O.sso_region;try{h=await (0,g.getSSOTokenFromFile)(P)}catch(e){throw new m.TokenProviderError(`The SSO session token associated with profile=${S} was not found or is invalid. ${w}`,!1)}E("accessToken",h.accessToken),E("expiresAt",h.expiresAt);let{accessToken:R,expiresAt:D}=h,L={token:R,expiration:new Date(D)};if(L.expiration.getTime()-Date.now()>v)return L;if(Date.now()-C.getTime()<3e4)return _(L),L;E("clientId",h.clientId,!0),E("clientSecret",h.clientSecret,!0),E("refreshToken",h.refreshToken,!0);try{C.setTime(Date.now());let e=await x(h,I,y);E("accessToken",e.accessToken),E("expiresIn",e.expiresIn);let d=new Date(Date.now()+1e3*e.expiresIn);try{await k(P,{...h,accessToken:e.accessToken,expiresAt:d.toISOString(),refreshToken:e.refreshToken})}catch(e){}return{token:e.accessToken,expiration:d}}catch(e){return _(L),L}},O=!1,I=async({ssoStartUrl:e,ssoSession:d,ssoAccountId:y,ssoRegion:v,ssoRoleName:w,ssoClient:S,clientConfig:x,parentClientConfig:_,profile:E,logger:T})=>{let k,C,I="To refresh this SSO session run aws sso login with the corresponding profile.";if(d)try{let e=await P({profile:E})();k={accessToken:e.token,expiresAt:new Date(e.expiration).toISOString()}}catch(e){throw new m.CredentialsProviderError(e.message,{tryNextLink:O,logger:T})}else try{k=await (0,g.getSSOTokenFromFile)(e)}catch(e){throw new m.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${I}`,{tryNextLink:O,logger:T})}if(new Date(k.expiresAt).getTime()-Date.now()<=0)throw new m.CredentialsProviderError(`The SSO session associated with this profile has expired. ${I}`,{tryNextLink:O,logger:T});let{accessToken:R}=k,{SSOClient:D,GetRoleCredentialsCommand:L}=await h.e(4761).then(h.bind(h,24761)),$=S||new D(Object.assign({},x??{},{logger:x?.logger??_?.logger,region:x?.region??v}));try{C=await $.send(new L({accountId:y,roleName:w,accessToken:R}))}catch(e){throw new m.CredentialsProviderError(e,{tryNextLink:O,logger:T})}let{roleCredentials:{accessKeyId:M,secretAccessKey:B,sessionToken:j,expiration:U,credentialScope:F,accountId:z}={}}=C;if(!M||!B||!j||!U)throw new m.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:O,logger:T});let q={accessKeyId:M,secretAccessKey:B,sessionToken:j,expiration:new Date(U),...F&&{credentialScope:F},...z&&{accountId:z}};return d?(0,b.g)(q,"CREDENTIALS_SSO","s"):(0,b.g)(q,"CREDENTIALS_SSO_LEGACY","u"),q},R=(e,d)=>{let{sso_start_url:h,sso_account_id:g,sso_region:y,sso_role_name:b}=e;if(!h||!g||!y||!b)throw new m.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:d});return e},D=(e={})=>async({callerClientConfig:d}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:h,ssoAccountId:b,ssoRegion:v,ssoRoleName:w,ssoSession:S}=e,{ssoClient:x}=e,_=(0,g.getProfileName)({profile:e.profile??d?.profile});if(h||b||v||w||S)if(h&&b&&v&&w)return I({ssoStartUrl:h,ssoSession:S,ssoAccountId:b,ssoRegion:v,ssoRoleName:w,ssoClient:x,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:_});else throw new m.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});{let d=(await (0,g.parseKnownFiles)(e))[_];if(!d)throw new m.CredentialsProviderError(`Profile ${_} was not found.`,{logger:e.logger});if(!y(d))throw new m.CredentialsProviderError(`Profile ${_} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let y=(await (0,g.loadSsoSessionData)(e))[d.sso_session],b=` configurations in profile ${_} and sso-session ${d.sso_session}`;if(v&&v!==y.sso_region)throw new m.CredentialsProviderError("Conflicting SSO region"+b,{tryNextLink:!1,logger:e.logger});if(h&&h!==y.sso_start_url)throw new m.CredentialsProviderError("Conflicting SSO start_url"+b,{tryNextLink:!1,logger:e.logger});d.sso_region=y.sso_region,d.sso_start_url=y.sso_start_url}let{sso_start_url:b,sso_account_id:w,sso_region:S,sso_role_name:E,sso_session:T}=R(d,e.logger);return I({ssoStartUrl:b,ssoSession:T,ssoAccountId:w,ssoRegion:S,ssoRoleName:E,ssoClient:x,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:_})}}},51027:(e,d,h)=>{"use strict";let m=h(79110),g=h(10752),y=h(88683);e.exports={isPlainText(e,d){let h=d?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/;return!("string"!=typeof e||h.test(e))},hasLongerLines:(e,d)=>e.length>131072||RegExp("^.{"+(d+1)+",}","m").test(e),encodeWord(e,d,h){let y;d=(d||"Q").toString().toUpperCase().trim().charAt(0);let b="UTF-8";if((h=h||0)&&h>7+b.length&&(h-=7+b.length),"Q"===d?y=g.encode(e).replace(/[^a-z0-9!*+\-/=]/gi,e=>{let d=e.charCodeAt(0).toString(16).toUpperCase();return" "===e?"_":"="+(1===d.length?"0"+d:d)}):"B"===d&&(y="string"==typeof e?e:m.encode(e),h=h?Math.max(3,(h-h%4)/4*3):0),h&&("B"!==d?y:m.encode(e)).length>h)if("Q"===d)y=this.splitMimeEncodedString(y,h).join("?= =?"+b+"?"+d+"?");else{let e=[],g="";for(let d=0,b=y.length;d<b;d++){let v=y.charAt(d);/[\ud83c\ud83d\ud83e]/.test(v)&&d<b-1&&(v+=y.charAt(++d)),Buffer.byteLength(g+v)<=h||0===d?g+=v:(e.push(m.encode(g)),g=v)}g&&e.push(m.encode(g)),y=e.length>1?e.join("?= =?"+b+"?"+d+"?"):e.join("")}else"B"===d&&(y=m.encode(e));return"=?"+b+"?"+d+"?"+y+("?="===y.substr(-2)?"":"?=")},encodeWords(e,d,h,m){h=h||0;let g=e.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!g)return e;if(m)return this.encodeWord(e,d,h);let y=e.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!y)return e;let b=g.index+(g[0].match(/[^\s]/)||{index:0}).index,v=y.index+(y[1]||"").length;return(b?e.substr(0,b):"")+this.encodeWord(e.substring(b,v),d||"Q",h)+(v<e.length?e.substr(v):"")},buildHeaderValue(e){let d=[];return Object.keys(e.params||{}).forEach(h=>{let m=e.params[h];!this.isPlainText(m,!0)||m.length>=75?this.buildHeaderParam(h,m,50).forEach(e=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(e.value)&&"*"!==e.key.substr(-1)?d.push(e.key+"="+JSON.stringify(e.value)):d.push(e.key+"="+e.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(m)?d.push(h+"="+JSON.stringify(m)):d.push(h+"="+m)}),e.value+(d.length?"; "+d.join("; "):"")},buildHeaderParam(e,d,h){let m,g,y,b,v,w,S=[],x="string"==typeof d?d:(d||"").toString(),_=0;if(h=h||50,this.isPlainText(d,!0)){if(x.length<=h)return[{key:e,value:x}];(x=x.replace(RegExp(".{"+h+"}","g"),e=>(S.push({line:e}),"")))&&S.push({line:x})}else{if(/[\uD800-\uDBFF]/.test(x)){for(v=0,m=[],w=x.length;v<w;v++)(y=(g=x.charAt(v)).charCodeAt(0))>=55296&&y<=56319&&v<w-1?(g+=x.charAt(v+1),m.push(g),v++):m.push(g);x=m}b="utf-8''";let e=!0;for(v=0,_=0,w=x.length;v<w;v++){if(g=x[v],e)g=this.safeEncodeURIComponent(g);else if((g=" "===g?g:this.safeEncodeURIComponent(g))!==x[v])if((this.safeEncodeURIComponent(b)+g).length>=h)S.push({line:b,encoded:e}),b="",_=v-1;else{e=!0,v=_,b="";continue}(b+g).length>=h?(S.push({line:b,encoded:e}),b=g=" "===x[v]?" ":this.safeEncodeURIComponent(x[v]),g===x[v]?(e=!1,_=v-1):e=!0):b+=g}b&&S.push({line:b,encoded:e})}return S.map((d,h)=>({key:e+"*"+h+(d.encoded?"*":""),value:d.line}))},parseHeaderValue(e){let d,h={value:!1,params:{}},m=!1,g="",y="value",b=!1,v=!1;for(let w=0,S=e.length;w<S;w++)if(d=e.charAt(w),"key"===y){if("="===d){m=g.trim().toLowerCase(),y="value",g="";continue}g+=d}else{if(v)g+=d;else if("\\"===d){v=!0;continue}else b&&d===b?b=!1:b||'"'!==d?b||";"!==d?g+=d:(!1===m?h.value=g.trim():h.params[m]=g.trim(),y="key",g=""):b=d;v=!1}return"value"===y?!1===m?h.value=g.trim():h.params[m]=g.trim():g.trim()&&(h.params[g.trim().toLowerCase()]=""),Object.keys(h.params).forEach(e=>{let d,m,g,y;(g=e.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(d=e.substr(0,g.index),m=Number(g[2]||g[3])||0,h.params[d]&&"object"==typeof h.params[d]||(h.params[d]={charset:!1,values:[]}),y=h.params[e],0===m&&"*"===g[0].substr(-1)&&(g=y.match(/^([^']*)'[^']*'(.*)$/))&&(h.params[d].charset=g[1]||"iso-8859-1",y=g[2]),h.params[d].values[m]=y,delete h.params[e])}),Object.keys(h.params).forEach(e=>{let d;h.params[e]&&Array.isArray(h.params[e].values)&&(d=h.params[e].values.map(e=>e||"").join(""),h.params[e].charset?h.params[e]="=?"+h.params[e].charset+"?Q?"+d.replace(/[=?_\s]/g,e=>{let d=e.charCodeAt(0).toString(16);return" "===e?"_":"%"+(d.length<2?"0":"")+d}).replace(/%/g,"=")+"?=":h.params[e]=d)}),h},detectExtension:e=>y.detectExtension(e),detectMimeType:e=>y.detectMimeType(e),foldLines(e,d,h){e=(e||"").toString(),d=d||76;let m=0,g=e.length,y="",b,v;for(;m<g;){if((b=e.substr(m,d)).length<d){y+=b;break}if(v=b.match(/^[^\n\r]*(\r?\n|\r)/)){y+=b=v[0],m+=b.length;continue}(v=b.match(/(\s+)[^\s]*$/))&&v[0].length-(h?(v[1]||"").length:0)<b.length?b=b.substr(0,b.length-(v[0].length-(h?(v[1]||"").length:0))):(v=e.substr(m+b.length).match(/^[^\s]+(\s*)/))&&(b+=v[0].substr(0,v[0].length-(h?0:(v[1]||"").length))),y+=b,(m+=b.length)<g&&(y+="\r\n")}return y},splitMimeEncodedString:(e,d)=>{let h,m,g,y,b=[];for(d=Math.max(d||0,12);e.length;){for((m=(h=e.substr(0,d)).match(/[=][0-9A-F]?$/i))&&(h=h.substr(0,m.index)),y=!1;!y;)y=!0,(m=e.substr(h.length).match(/^[=]([0-9A-F]{2})/i))&&(g=parseInt(m[1],16))<194&&g>127&&(h=h.substr(0,h.length-3),y=!1);h.length&&b.push(h),e=e.substr(h.length)}return b},encodeURICharComponent:e=>{let d="",h=e.charCodeAt(0).toString(16).toUpperCase();if(h.length%2&&(h="0"+h),h.length>2)for(let e=0,m=h.length/2;e<m;e++)d+="%"+h.substr(e,2);else d+="%"+h;return d},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch(d){return e.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}},51255:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(31934);d.default={keyword:"allOf",schemaType:"array",code(e){let{gen:d,schema:h,it:g}=e;if(!Array.isArray(h))throw Error("ajv implementation error");let y=d.name("valid");h.forEach((d,h)=>{if((0,m.alwaysValidSchema)(g,d))return;let b=e.subschema({keyword:"allOf",schemaProp:h},y);e.ok(y),e.mergeEvaluated(b)})}}},51289:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DatabaseError=d.serialize=d.parse=void 0;let m=h(17521);Object.defineProperty(d,"DatabaseError",{enumerable:!0,get:function(){return m.DatabaseError}});let g=h(93777);Object.defineProperty(d,"serialize",{enumerable:!0,get:function(){return g.serialize}});let y=h(84938);d.parse=function(e,d){let h=new y.Parser;return e.on("data",e=>h.parse(e,d)),new Promise(d=>e.on("end",()=>d()))}},51362:e=>{"use strict";e.exports=(e,d={})=>{let h=Number.isSafeInteger(parseInt(d.margin))?Array(parseInt(d.margin)).fill(" ").join(""):d.margin||"",m=d.width;return(e||"").split(/\r?\n/g).map(e=>e.split(/\s+/g).reduce((e,d)=>(d.length+h.length>=m||e[e.length-1].length+d.length+1<m?e[e.length-1]+=` ${d}`:e.push(`${h}${d}`),e),[h]).join("\n")).join("\n")}},51754:(e,d,h)=>{"use strict";let{Writable:m}=h(27910),{getDecoder:g}=h(36464);class y extends m{constructor(e){super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:void 0});let d=e.defCharset||"utf8";e.conType.params&&"string"==typeof e.conType.params.charset&&(d=e.conType.params.charset),this.charset=d;let h=e.limits;this.fieldSizeLimit=h&&"number"==typeof h.fieldSize?h.fieldSize:1048576,this.fieldsLimit=h&&"number"==typeof h.fields?h.fields:1/0,this.fieldNameSizeLimit=h&&"number"==typeof h.fieldNameSize?h.fieldNameSize:100,this._inKey=!0,this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,this._fields=0,this._key="",this._val="",this._byte=-2,this._lastPos=0,this._encode=0,this._decoder=g(d)}static detect(e){return"application"===e.type&&"x-www-form-urlencoded"===e.subtype}_write(e,d,h){if(this._fields>=this.fieldsLimit)return h();let m=0,g=e.length;if(this._lastPos=0,-2!==this._byte){if(-1===(m=b(this,e,m,g)))return h(Error("Malformed urlencoded form"));if(m>=g)return h();this._inKey?++this._bytesKey:++this._bytesVal}e:for(;m<g;)if(this._inKey){for(m=v(this,e,m,g);m<g;){switch(e[m]){case 61:this._lastPos<m&&(this._key+=e.latin1Slice(this._lastPos,m)),this._lastPos=++m,this._key=this._decoder(this._key,this._encode),this._encode=0,this._inKey=!1;continue e;case 38:if(this._lastPos<m&&(this._key+=e.latin1Slice(this._lastPos,m)),this._lastPos=++m,this._key=this._decoder(this._key,this._encode),this._encode=0,this._bytesKey>0&&this.emit("field",this._key,"",{nameTruncated:this._keyTrunc,valueTruncated:!1,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),h();continue;case 43:this._lastPos<m&&(this._key+=e.latin1Slice(this._lastPos,m)),this._key+=" ",this._lastPos=m+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<m&&(this._key+=e.latin1Slice(this._lastPos,m)),this._lastPos=m+1,this._byte=-1,-1===(m=b(this,e,m+1,g)))return h(Error("Malformed urlencoded form"));if(m>=g)return h();++this._bytesKey,m=v(this,e,m,g);continue}++m,++this._bytesKey,m=v(this,e,m,g)}this._lastPos<m&&(this._key+=e.latin1Slice(this._lastPos,m))}else{for(m=w(this,e,m,g);m<g;){switch(e[m]){case 38:if(this._lastPos<m&&(this._val+=e.latin1Slice(this._lastPos,m)),this._lastPos=++m,this._inKey=!0,this._val=this._decoder(this._val,this._encode),this._encode=0,(this._bytesKey>0||this._bytesVal>0)&&this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),h();continue e;case 43:this._lastPos<m&&(this._val+=e.latin1Slice(this._lastPos,m)),this._val+=" ",this._lastPos=m+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<m&&(this._val+=e.latin1Slice(this._lastPos,m)),this._lastPos=m+1,this._byte=-1,-1===(m=b(this,e,m+1,g)))return h(Error("Malformed urlencoded form"));if(m>=g)return h();++this._bytesVal,m=w(this,e,m,g);continue}++m,++this._bytesVal,m=w(this,e,m,g)}this._lastPos<m&&(this._val+=e.latin1Slice(this._lastPos,m))}h()}_final(e){if(-2!==this._byte)return e(Error("Malformed urlencoded form"));(!this._inKey||this._bytesKey>0||this._bytesVal>0)&&(this._inKey?this._key=this._decoder(this._key,this._encode):this._val=this._decoder(this._val,this._encode),this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"})),e()}}function b(e,d,h,m){if(h>=m)return m;if(-1===e._byte){let g=S[d[h++]];if(-1===g)return -1;if(g>=8&&(e._encode=2),h<m){let m=S[d[h++]];if(-1===m)return -1;e._inKey?e._key+=String.fromCharCode((g<<4)+m):e._val+=String.fromCharCode((g<<4)+m),e._byte=-2,e._lastPos=h}else e._byte=g}else{let m=S[d[h++]];if(-1===m)return -1;e._inKey?e._key+=String.fromCharCode((e._byte<<4)+m):e._val+=String.fromCharCode((e._byte<<4)+m),e._byte=-2,e._lastPos=h}return h}function v(e,d,h,m){if(e._bytesKey>e.fieldNameSizeLimit){for(!e._keyTrunc&&e._lastPos<h&&(e._key+=d.latin1Slice(e._lastPos,h-1)),e._keyTrunc=!0;h<m;++h){let m=d[h];if(61===m||38===m)break;++e._bytesKey}e._lastPos=h}return h}function w(e,d,h,m){if(e._bytesVal>e.fieldSizeLimit){for(!e._valTrunc&&e._lastPos<h&&(e._val+=d.latin1Slice(e._lastPos,h-1)),e._valTrunc=!0;h<m&&38!==d[h];++h)++e._bytesVal;e._lastPos=h}return h}let S=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];e.exports=y},51778:e=>{"use strict";e.exports={version:"9.5.0"}},51863:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.createChecksumStream=void 0;let m=h(80621),g=h(39444),y=h(35879);d.createChecksumStream=({expectedChecksum:e,checksum:d,source:h,checksumSourceLocation:b,base64Encoder:v})=>{var w,S;if(!(0,g.isReadableStream)(h))throw Error(`@smithy/util-stream: unsupported source type ${null!=(S=null==(w=null==h?void 0:h.constructor)?void 0:w.name)?S:h} in ChecksumStream.`);let x=null!=v?v:m.toBase64;if("function"!=typeof TransformStream)throw Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let _=new TransformStream({start(){},async transform(e,h){d.update(e),h.enqueue(e)},async flush(h){let m=x(await d.digest());if(e!==m){let d=Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${b}".`);h.error(d)}else h.terminate()}});h.pipeThrough(_);let E=_.readable;return Object.setPrototypeOf(E,y.ChecksumStream.prototype),E}},52046:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.or=d.and=d.not=d.CodeGen=d.operators=d.varKinds=d.ValueScopeName=d.ValueScope=d.Scope=d.Name=d.regexpCode=d.stringify=d.getProperty=d.nil=d.strConcat=d.str=d._=void 0;let m=h(71389),g=h(28566);var y=h(71389);Object.defineProperty(d,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(d,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(d,"strConcat",{enumerable:!0,get:function(){return y.strConcat}}),Object.defineProperty(d,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(d,"getProperty",{enumerable:!0,get:function(){return y.getProperty}}),Object.defineProperty(d,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(d,"regexpCode",{enumerable:!0,get:function(){return y.regexpCode}}),Object.defineProperty(d,"Name",{enumerable:!0,get:function(){return y.Name}});var b=h(28566);Object.defineProperty(d,"Scope",{enumerable:!0,get:function(){return b.Scope}}),Object.defineProperty(d,"ValueScope",{enumerable:!0,get:function(){return b.ValueScope}}),Object.defineProperty(d,"ValueScopeName",{enumerable:!0,get:function(){return b.ValueScopeName}}),Object.defineProperty(d,"varKinds",{enumerable:!0,get:function(){return b.varKinds}}),d.operators={GT:new m._Code(">"),GTE:new m._Code(">="),LT:new m._Code("<"),LTE:new m._Code("<="),EQ:new m._Code("==="),NEQ:new m._Code("!=="),NOT:new m._Code("!"),OR:new m._Code("||"),AND:new m._Code("&&"),ADD:new m._Code("+")};class v{optimizeNodes(){return this}optimizeNames(e,d){return this}}class w extends v{constructor(e,d,h){super(),this.varKind=e,this.name=d,this.rhs=h}render({es5:e,_n:d}){let h=e?g.varKinds.var:this.varKind,m=void 0===this.rhs?"":` = ${this.rhs}`;return`${h} ${this.name}${m};`+d}optimizeNames(e,d){if(e[this.name.str])return this.rhs&&(this.rhs=K(this.rhs,e,d)),this}get names(){return this.rhs instanceof m._CodeOrName?this.rhs.names:{}}}class S extends v{constructor(e,d,h){super(),this.lhs=e,this.rhs=d,this.sideEffects=h}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,d){if(!(this.lhs instanceof m.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=K(this.rhs,e,d),this}get names(){return H(this.lhs instanceof m.Name?{}:{...this.lhs.names},this.rhs)}}class x extends S{constructor(e,d,h,m){super(e,h,m),this.op=d}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class _ extends v{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class E extends v{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let d=this.label?` ${this.label}`:"";return`break${d};`+e}}class T extends v{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class k extends v{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,d){return this.code=K(this.code,e,d),this}get names(){return this.code instanceof m._CodeOrName?this.code.names:{}}}class C extends v{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((d,h)=>d+h.render(e),"")}optimizeNodes(){let{nodes:e}=this,d=e.length;for(;d--;){let h=e[d].optimizeNodes();Array.isArray(h)?e.splice(d,1,...h):h?e[d]=h:e.splice(d,1)}return e.length>0?this:void 0}optimizeNames(e,d){let{nodes:h}=this,m=h.length;for(;m--;){let g=h[m];g.optimizeNames(e,d)||(G(e,g.names),h.splice(m,1))}return h.length>0?this:void 0}get names(){return this.nodes.reduce((e,d)=>V(e,d.names),{})}}class P extends C{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class O extends C{}class I extends P{}I.kind="else";class R extends P{constructor(e,d){super(d),this.condition=e}render(e){let d=`if(${this.condition})`+super.render(e);return this.else&&(d+="else "+this.else.render(e)),d}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;let d=this.else;if(d){let e=d.optimizeNodes();d=this.else=Array.isArray(e)?new I(e):e}return d?!1===e?d instanceof R?d:d.nodes:this.nodes.length?this:new R(W(e),d instanceof R?[d]:d.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,d){var h;if(this.else=null==(h=this.else)?void 0:h.optimizeNames(e,d),super.optimizeNames(e,d)||this.else)return this.condition=K(this.condition,e,d),this}get names(){let e=super.names;return H(e,this.condition),this.else&&V(e,this.else.names),e}}R.kind="if";class D extends P{}D.kind="for";class L extends D{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,d){if(super.optimizeNames(e,d))return this.iteration=K(this.iteration,e,d),this}get names(){return V(super.names,this.iteration.names)}}class $ extends D{constructor(e,d,h,m){super(),this.varKind=e,this.name=d,this.from=h,this.to=m}render(e){let d=e.es5?g.varKinds.var:this.varKind,{name:h,from:m,to:y}=this;return`for(${d} ${h}=${m}; ${h}<${y}; ${h}++)`+super.render(e)}get names(){let e=H(super.names,this.from);return H(e,this.to)}}class M extends D{constructor(e,d,h,m){super(),this.loop=e,this.varKind=d,this.name=h,this.iterable=m}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,d){if(super.optimizeNames(e,d))return this.iterable=K(this.iterable,e,d),this}get names(){return V(super.names,this.iterable.names)}}class B extends P{constructor(e,d,h){super(),this.name=e,this.args=d,this.async=h}render(e){let d=this.async?"async ":"";return`${d}function ${this.name}(${this.args})`+super.render(e)}}B.kind="func";class j extends C{render(e){return"return "+super.render(e)}}j.kind="return";class U extends P{render(e){let d="try"+super.render(e);return this.catch&&(d+=this.catch.render(e)),this.finally&&(d+=this.finally.render(e)),d}optimizeNodes(){var e,d;return super.optimizeNodes(),null==(e=this.catch)||e.optimizeNodes(),null==(d=this.finally)||d.optimizeNodes(),this}optimizeNames(e,d){var h,m;return super.optimizeNames(e,d),null==(h=this.catch)||h.optimizeNames(e,d),null==(m=this.finally)||m.optimizeNames(e,d),this}get names(){let e=super.names;return this.catch&&V(e,this.catch.names),this.finally&&V(e,this.finally.names),e}}class F extends P{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}F.kind="catch";class z extends P{render(e){return"finally"+super.render(e)}}z.kind="finally";class q{constructor(e,d={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...d,_n:d.lines?"\n":""},this._extScope=e,this._scope=new g.Scope({parent:e}),this._nodes=[new O]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,d){let h=this._extScope.value(e,d);return(this._values[h.prefix]||(this._values[h.prefix]=new Set)).add(h),h}getScopeValue(e,d){return this._extScope.getValue(e,d)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,d,h,m){let g=this._scope.toName(d);return void 0!==h&&m&&(this._constants[g.str]=h),this._leafNode(new w(e,g,h)),g}const(e,d,h){return this._def(g.varKinds.const,e,d,h)}let(e,d,h){return this._def(g.varKinds.let,e,d,h)}var(e,d,h){return this._def(g.varKinds.var,e,d,h)}assign(e,d,h){return this._leafNode(new S(e,d,h))}add(e,h){return this._leafNode(new x(e,d.operators.ADD,h))}code(e){return"function"==typeof e?e():e!==m.nil&&this._leafNode(new k(e)),this}object(...e){let d=["{"];for(let[h,g]of e)d.length>1&&d.push(","),d.push(h),(h!==g||this.opts.es5)&&(d.push(":"),(0,m.addCodeArg)(d,g));return d.push("}"),new m._Code(d)}if(e,d,h){if(this._blockNode(new R(e)),d&&h)this.code(d).else().code(h).endIf();else if(d)this.code(d).endIf();else if(h)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new R(e))}else(){return this._elseNode(new I)}endIf(){return this._endBlockNode(R,I)}_for(e,d){return this._blockNode(e),d&&this.code(d).endFor(),this}for(e,d){return this._for(new L(e),d)}forRange(e,d,h,m,y=this.opts.es5?g.varKinds.var:g.varKinds.let){let b=this._scope.toName(e);return this._for(new $(y,b,d,h),()=>m(b))}forOf(e,d,h,y=g.varKinds.const){let b=this._scope.toName(e);if(this.opts.es5){let e=d instanceof m.Name?d:this.var("_arr",d);return this.forRange("_i",0,(0,m._)`${e}.length`,d=>{this.var(b,(0,m._)`${e}[${d}]`),h(b)})}return this._for(new M("of",y,b,d),()=>h(b))}forIn(e,d,h,y=this.opts.es5?g.varKinds.var:g.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,m._)`Object.keys(${d})`,h);let b=this._scope.toName(e);return this._for(new M("in",y,b,d),()=>h(b))}endFor(){return this._endBlockNode(D)}label(e){return this._leafNode(new _(e))}break(e){return this._leafNode(new E(e))}return(e){let d=new j;if(this._blockNode(d),this.code(e),1!==d.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(j)}try(e,d,h){if(!d&&!h)throw Error('CodeGen: "try" without "catch" and "finally"');let m=new U;if(this._blockNode(m),this.code(e),d){let e=this.name("e");this._currNode=m.catch=new F(e),d(e)}return h&&(this._currNode=m.finally=new z,this.code(h)),this._endBlockNode(F,z)}throw(e){return this._leafNode(new T(e))}block(e,d){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(d),this}endBlock(e){let d=this._blockStarts.pop();if(void 0===d)throw Error("CodeGen: not in self-balancing block");let h=this._nodes.length-d;if(h<0||void 0!==e&&h!==e)throw Error(`CodeGen: wrong number of nodes: ${h} vs ${e} expected`);return this._nodes.length=d,this}func(e,d=m.nil,h,g){return this._blockNode(new B(e,d,h)),g&&this.code(g).endFunc(),this}endFunc(){return this._endBlockNode(B)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,d){let h=this._currNode;if(h instanceof e||d&&h instanceof d)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${d?`${e.kind}/${d.kind}`:e.kind}"`)}_elseNode(e){let d=this._currNode;if(!(d instanceof R))throw Error('CodeGen: "else" without "if"');return this._currNode=d.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let d=this._nodes;d[d.length-1]=e}}function V(e,d){for(let h in d)e[h]=(e[h]||0)+(d[h]||0);return e}function H(e,d){return d instanceof m._CodeOrName?V(e,d.names):e}function K(e,d,h){if(e instanceof m.Name)return g(e);if(!y(e))return e;return new m._Code(e._items.reduce((e,d)=>(d instanceof m.Name&&(d=g(d)),d instanceof m._Code?e.push(...d._items):e.push(d),e),[]));function g(e){let m=h[e.str];return void 0===m||1!==d[e.str]?e:(delete d[e.str],m)}function y(e){return e instanceof m._Code&&e._items.some(e=>e instanceof m.Name&&1===d[e.str]&&void 0!==h[e.str])}}function G(e,d){for(let h in d)e[h]=(e[h]||0)-(d[h]||0)}function W(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,m._)`!${X(e)}`}d.CodeGen=q,d.not=W;let J=Y(d.operators.AND);d.and=function(...e){return e.reduce(J)};let Q=Y(d.operators.OR);function Y(e){return(d,h)=>d===m.nil?h:h===m.nil?d:(0,m._)`${X(d)} ${e} ${X(h)}`}function X(e){return e instanceof m.Name?e:(0,m._)`(${e})`}d.or=function(...e){return e.reduce(Q)}},52068:(e,d,h)=>{"use strict";e.exports=w;let{LEVEL_NAMES:m}=h(40844),g=h(92345),y=h(59812),b=h(41531),v=h(82952);function w(e){let d,h=e.crlf?"\r\n":"\n",w="    ",{customPrettifiers:S,errorLikeObjectKeys:x,hideObject:_,levelFirst:E,levelKey:T,levelLabel:k,messageFormat:C,messageKey:P,minimumLevel:O,singleLine:I,timestampKey:R,translateTime:D}=e,L=e.errorProps.split(","),$="boolean"==typeof e.useOnlyCustomProps?e.useOnlyCustomProps:"true"===e.useOnlyCustomProps,M=y(e.customLevels),B=b(e.customLevels),j=v($,M,B);if(e.customColors)if("string"==typeof e.customColors)d=e.customColors.split(",").reduce((d,h)=>{let[g,y]=h.split(":"),b=($?e.customLevels:void 0!==B[g])?B[g]:m[g],v=void 0!==b?b:g;return d.push([v,y]),d},[]);else if("object"==typeof e.customColors)d=Object.keys(e.customColors).reduce((d,h)=>{let[g,y]=[h,e.customColors[h]],b=($?e.customLevels:void 0!==B[g])?B[g]:m[g],v=void 0!==b?b:g;return d.push([v,y]),d},[]);else throw Error("options.customColors must be of type string or object.");let U={customLevels:M,customLevelNames:B};!0!==$||e.customLevels||(U.customLevels=void 0,U.customLevelNames=void 0);let F=void 0!==e.include?new Set(e.include.split(",")):void 0,z=!F&&e.ignore?new Set(e.ignore.split(",")):void 0,q=g(e.colorize,d,$),V=e.colorizeObjects?q:g(!1,[],!1);return{EOL:h,IDENT:w,colorizer:q,customColors:d,customLevelNames:B,customLevels:M,customPrettifiers:S,customProperties:U,errorLikeObjectKeys:x,errorProps:L,getLevelLabelData:j,hideObject:_,ignoreKeys:z,includeKeys:F,levelFirst:E,levelKey:T,levelLabel:k,messageFormat:C,messageKey:P,minimumLevel:O,objectColorizer:V,singleLine:I,timestampKey:R,translateTime:D,useOnlyCustomProps:$}}},52417:e=>{"use strict";var d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,y=(e,h)=>d(e,"name",{value:h,configurable:!0}),b=(e,y,b,v)=>{if(y&&"object"==typeof y||"function"==typeof y)for(let w of m(y))g.call(e,w)||w===b||d(e,w,{get:()=>y[w],enumerable:!(v=h(y,w))||v.enumerable});return e},v=e=>b(d({},"__esModule",{value:!0}),e),w={};function S(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function x(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}((e,h)=>{for(var m in h)d(e,m,{get:h[m],enumerable:!0})})(w,{XmlNode:()=>E,XmlText:()=>_}),e.exports=v(w),y(S,"escapeAttribute"),y(x,"escapeElement");var _=class{constructor(e){this.value=e}static{y(this,"XmlText")}toString(){return x(""+this.value)}},E=class e{constructor(e,d=[]){this.name=e,this.children=d}static{y(this,"XmlNode")}attributes={};static of(d,h,m){let g=new e(d);return void 0!==h&&g.addChildNode(new _(h)),void 0!==m&&g.withName(m),g}withName(e){return this.name=e,this}addAttribute(e,d){return this.attributes[e]=d,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,d){return null!=d&&(this.attributes[e]=d),this}cc(d,h,m=h){if(null!=d[h]){let g=e.of(h,d[h]).withName(m);this.c(g)}}l(e,d,h,m){null!=e[d]&&m().map(e=>{e.withName(h),this.c(e)})}lc(d,h,m,g){if(null!=d[h]){let d=g(),h=new e(m);d.map(e=>{h.c(e)}),this.c(h)}}toString(){let e=!!this.children.length,d=`<${this.name}`,h=this.attributes;for(let e of Object.keys(h)){let m=h[e];null!=m&&(d+=` ${e}="${S(""+m)}"`)}return d+(e?`>${this.children.map(e=>e.toString()).join("")}</${this.name}>`:"/>")}}},52579:(e,d,h)=>{"use strict";h.d(d,{y:()=>g});var m=h(49495);let g=async({id:e,slug:d,payload:h,req:g})=>{try{await h.db.deleteMany({collection:m.SJ,req:g,where:{and:[{completedAt:{exists:!1}},{processing:{equals:!1}},{"input.doc.value":{equals:e}},{"input.doc.relationTo":{equals:d}},{taskSlug:{equals:"schedulePublish"}}]}})}catch(m){h.logger.error({err:m,msg:`There was an error deleting scheduled publish jobs from the queue for ${d} document with ID ${e}.`})}}},52602:(e,d,h)=>{"use strict";let m=h(97750);class g extends m{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=g},52770:(e,d,h)=>{"use strict";h.d(d,{k:()=>X});var m=h(55511),g=h(11746),y=h(26154),b=h(79551);async function v(e){let{collection:{config:d},config:h,disableEmail:m,email:g,req:y,token:v,user:w}=e;if(!m){let e=new b.URL(y.url).protocol,m=null!==h.serverURL&&""!==h.serverURL?h.serverURL:`${e}//${y.headers.get("host")}`,S=`${m}${h.routes.admin}/${d.slug}/verify/${v}`,x=`${y.t("authentication:newAccountCreated",{serverURL:h.serverURL,verificationURL:S})}`,_=d.auth.verify;"function"==typeof _.generateEmailHTML&&(x=await _.generateEmailHTML({req:y,token:v,user:w}));let E=y.t("authentication:verifyYourEmail");"function"==typeof _.generateEmailSubject&&(E=await _.generateEmailSubject({req:y,token:v,user:w})),await g.sendEmail({from:`"${g.defaultFromName}" <${g.defaultFromAddress}>`,html:x,subject:E,to:w.email})}}var w=h(79853),S=h(85278),x=h(68139);let _=async({collection:e,doc:d,password:h,payload:m,req:g,select:y})=>{let b,v=e?.auth?.loginWithUsername,{canLoginWithEmail:_,canLoginWithUsername:E}=(0,S.Y)(v);if(E?(b={or:[]},_&&d.email&&b.or?.push({email:{equals:d.email}}),d.username&&b.or?.push({username:{equals:d.username}})):b={email:{equals:d.email}},(await m.find({collection:e.slug,depth:0,limit:1,pagination:!1,req:g,where:b})).docs.length>0)throw new w.y({collection:e.slug,errors:[E?{message:g.t("error:usernameAlreadyRegistered"),path:"username"}:{message:g.t("error:userEmailAlreadyRegistered"),path:"email"}]});let{hash:T,salt:k}=await (0,x.$)({collection:e,password:h,req:g}),C={...d};return C.password&&delete C.password,m.db.create({collection:e.slug,data:{...C,hash:T,salt:k},req:g,select:y})};var E=h(43566),T=h(553),k=h(19131),C=h(14603),P=h(89426),O=h(74290),I=h(86292);let R=async({id:e,blockData:d,collection:h,context:m,doc:g,field:y,fieldIndex:b,overrideAccess:v,parentIndexPath:w,parentIsLocalized:S,parentPath:x,parentSchemaPath:_,req:E,siblingDoc:T,siblingFields:k})=>{let{indexPath:C,path:P,schemaPath:R}=(0,I.I)({field:y,index:b,parentIndexPath:w,parentPath:x,parentSchemaPath:_}),{localization:L}=E.payload.config,$=P?P.split("."):[],M=R?R.split("."):[],B=C?C.split("-").filter(Boolean)?.map(Number):[];if((0,O.Z7)(y)){let b=T?.[y.name],w=L&&(0,O.Cd)({field:y,parentIsLocalized:S});if(Array.isArray(y.hooks?.beforeDuplicate))if(w){let e={};for(let b of L.localeCodes){let v,w={blockData:d,collection:h,context:m,data:g,field:y,global:void 0,indexPath:B,path:$,previousSiblingDoc:T,previousValue:T[y.name]?.[b],req:E,schemaPath:M,siblingData:T,siblingDocWithLocales:T,siblingFields:k,value:T[y.name]?.[b]};for(let e of y.hooks.beforeDuplicate)v=await e(w);void 0!==v&&(e[b]=v)}T[y.name]=e}else{let e,b={blockData:d,collection:h,context:m,data:g,field:y,global:void 0,indexPath:B,path:$,previousSiblingDoc:T,previousValue:T[y.name],req:E,schemaPath:M,siblingData:T,siblingDocWithLocales:T,siblingFields:k,value:T[y.name]};for(let d of y.hooks.beforeDuplicate)e=await d(b);void 0!==e&&(T[y.name]=e)}if(w){("object"!=typeof b||null===b)&&(T[y.name]={},b=T[y.name]);let w=[];L.localeCodes.forEach(x=>{if(b[x])switch(y.type){case"array":{let w=b[x];if(Array.isArray(w)){let b=[];w.forEach((w,x)=>{b.push(D({id:e,blockData:d,collection:h,context:m,doc:g,fields:y.fields,overrideAccess:v,parentIndexPath:"",parentIsLocalized:S||y.localized,parentPath:P+"."+x,parentSchemaPath:R,req:E,siblingDoc:w}))})}break}case"blocks":{let d=b[x];if(Array.isArray(d)){let b=[];d.forEach((d,w)=>{let x=d.blockType,_=E.payload.blocks[x]??(y.blockReferences??y.blocks).find(e=>"string"!=typeof e&&e.slug===x);b.push(D({id:e,blockData:d,collection:h,context:m,doc:g,fields:_.fields,overrideAccess:v,parentIndexPath:"",parentIsLocalized:S||y.localized,parentPath:P+"."+w,parentSchemaPath:R+"."+_.slug,req:E,siblingDoc:d}))})}break}case"group":case"tab":w.push(D({id:e,blockData:d,collection:h,context:m,doc:g,fields:y.fields,overrideAccess:v,parentIndexPath:"",parentIsLocalized:S||y.localized,parentPath:P,parentSchemaPath:R,req:E,siblingDoc:b[x]}))}}),await Promise.all(w)}else switch(y.type){case"array":{let b=T[y.name];if(Array.isArray(b)){let w=[];b.forEach((b,x)=>{w.push(D({id:e,blockData:d,collection:h,context:m,doc:g,fields:y.fields,overrideAccess:v,parentIndexPath:"",parentIsLocalized:S||y.localized,parentPath:P+"."+x,parentSchemaPath:R,req:E,siblingDoc:b}))}),await Promise.all(w)}break}case"blocks":{let d=T[y.name];if(Array.isArray(d)){let b=[];d.forEach((d,w)=>{let x=d.blockType,_=E.payload.blocks[x]??(y.blockReferences??y.blocks).find(e=>"string"!=typeof e&&e.slug===x);_&&(d.blockType=x,b.push(D({id:e,blockData:d,collection:h,context:m,doc:g,fields:_.fields,overrideAccess:v,parentIndexPath:"",parentIsLocalized:S||y.localized,parentPath:P+"."+w,parentSchemaPath:R+"."+_.slug,req:E,siblingDoc:d})))}),await Promise.all(b)}break}case"group":{"object"!=typeof T[y.name]&&(T[y.name]={});let b=T[y.name];await D({id:e,blockData:d,collection:h,context:m,doc:g,fields:y.fields,overrideAccess:v,parentIndexPath:"",parentIsLocalized:S||y.localized,parentPath:P,parentSchemaPath:R,req:E,siblingDoc:b});break}case"tab":{"object"!=typeof T[y.name]&&(T[y.name]={});let b=T[y.name];await D({id:e,blockData:d,collection:h,context:m,doc:g,fields:y.fields,overrideAccess:v,parentIndexPath:"",parentIsLocalized:S||y.localized,parentPath:P,parentSchemaPath:R,req:E,siblingDoc:b})}}}else switch(y.type){case"collapsible":case"group":case"row":case"tab":await D({id:e,blockData:d,collection:h,context:m,doc:g,fields:y.fields,overrideAccess:v,parentIndexPath:C,parentIsLocalized:S,parentPath:x,parentSchemaPath:R,req:E,siblingDoc:T});break;case"tabs":await D({id:e,blockData:d,collection:h,context:m,doc:g,fields:y.tabs.map(e=>({...e,type:"tab"})),overrideAccess:v,parentIndexPath:C,parentIsLocalized:S,parentPath:P,parentSchemaPath:R,req:E,siblingDoc:T})}},D=async({id:e,blockData:d,collection:h,context:m,doc:g,fields:y,overrideAccess:b,parentIndexPath:v,parentIsLocalized:w,parentPath:S,parentSchemaPath:x,req:_,siblingDoc:E})=>{let T=[];y.forEach((k,C)=>{T.push(R({id:e,blockData:d,collection:h,context:m,doc:g,field:k,fieldIndex:C,overrideAccess:b,parentIndexPath:v,parentIsLocalized:w,parentPath:S,parentSchemaPath:x,req:_,siblingDoc:E,siblingFields:y}))}),await Promise.all(T)},L=async({id:e,collection:d,context:h,doc:m,overrideAccess:g,req:y})=>(await D({id:e,collection:d,context:h,doc:m,fields:d?.fields,overrideAccess:g,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:y,siblingDoc:m}),m);var $=h(97507),M=h(59587);let B=async({id:e,collectionConfig:d,draftArg:h,overrideAccess:m,req:g,shouldSaveDraft:b})=>{let{payload:v}=g,w=!!m||await (0,y.A)({id:e,req:g},d.access.read),S=(0,E.L)(w),x={collection:d.slug,locale:g.locale,req:g,where:(0,T.m)({id:{equals:e}},w)},_=await (0,M.a)({id:e,config:d,payload:v,query:x,req:g});if(!_&&!S)throw new C.M(g.t);if(!_&&S)throw new k.c(g.t);return"createdAt"in _&&delete _.createdAt,"id"in _&&delete _.id,_=await L({id:e,collection:d,context:g.context,doc:_,overrideAccess:m,req:g}),b&&(_._status="draft"),{duplicatedFromDoc:await (0,P.v)({collection:d,context:g.context,depth:0,doc:(0,$.Zt)(_),draft:h,fallbackLocale:null,global:null,locale:g.locale,overrideAccess:!0,req:g,showHiddenFields:!0}),duplicatedFromDocWithLocales:_}};var j=h(40598),U=h(42303),F=h(46037),z=h(61081),q=h(83856),V=h(36914),H=h(83552),K=h(30433),G=h(71707),W=h(53296),J=h(12276),Q=h(42372),Y=h(77900);let X=async e=>{let d=e;try{let e,h=!d.disableTransaction&&await (0,K.n)(d.req);if((0,g.q)({authOptions:d.collection.config.auth,collectionSlug:d.collection.config.slug,data:d.data,operation:"create",req:d.req}),d.collection.config.hooks.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"create",req:d.req})||d;let{autosave:b=!1,collection:{config:w},collection:S,depth:x,disableVerificationEmail:E,draft:T=!1,duplicateFromID:k,overrideAccess:C,overwriteExistingFiles:O=!1,populate:I,req:{fallbackLocale:R,locale:D,payload:L,payload:{config:$}},req:M,select:G,showHiddenFields:X}=d,{data:Z}=d,ee=!!(T&&w.versions.drafts),et={},ei={};if(k){let e=await B({id:k,collectionConfig:w,draftArg:ee,overrideAccess:C,req:M,shouldSaveDraft:ee});ei=e.duplicatedFromDoc,et=e.duplicatedFromDocWithLocales}C||await (0,y.A)({data:Z,req:M},w.access.create);let{data:er,files:ea}=await (0,z.Y)({collection:S,config:$,data:Z,isDuplicating:!!k,operation:"create",originalDoc:ei,overwriteExistingFiles:O,req:M,throwOnMissingFile:!ee&&!1!==S.config.upload.filesRequiredOnCreate});if(Z=er,Z=await (0,F.M)({collection:w,context:M.context,data:Z,doc:ei,global:null,operation:"create",overrideAccess:C,req:M}),w.hooks.beforeValidate?.length)for(let e of w.hooks.beforeValidate)Z=await e({collection:w,context:M.context,data:Z,operation:"create",originalDoc:ei,req:M})||Z;if(w.hooks?.beforeChange?.length)for(let e of w.hooks.beforeChange)Z=await e({collection:w,context:M.context,data:Z,operation:"create",originalDoc:ei,req:M})||Z;let en=await (0,U.o)({collection:w,context:M.context,data:Z,doc:ei,docWithLocales:et,global:null,operation:"create",overrideAccess:C,req:M,skipValidation:ee&&w.versions.drafts&&!w.versions.drafts.validate});w.upload.disableLocalStorage||await (0,V.Z)(L,ea,M);let es=(0,J.Y)({fields:w.flattenedFields,forceSelect:w.forceSelect,select:G});w.auth&&!w.auth.disableLocalStrategy?(w.auth.verify&&(en._verified=!!en._verified,en._verificationToken=m.randomBytes(20).toString("hex")),e=await _({collection:w,doc:en,password:Z.password,payload:M.payload,req:M,select:es})):e=await L.db.create({collection:w.slug,data:en,req:M,select:es});let eo=e._verificationToken,el=(0,W.A)(e);if(w.versions&&await (0,Q.U)({id:el.id,autosave:b,collection:w,docWithLocales:el,payload:L,req:M}),w.auth&&w.auth.verify&&el.email&&await v({collection:{config:w},config:L.config,disableEmail:E,email:L.email,req:M,token:eo,user:el}),el=await (0,P.v)({collection:w,context:M.context,depth:x,doc:el,draft:T,fallbackLocale:R,global:null,locale:D,overrideAccess:C,populate:I,req:M,select:es,showHiddenFields:X}),w.hooks?.afterRead?.length)for(let e of w.hooks.afterRead)el=await e({collection:w,context:M.context,doc:el,req:M})||el;if(el=await (0,j.t)({collection:w,context:M.context,data:Z,doc:el,global:null,operation:"create",previousDoc:{},req:M}),w.hooks?.afterChange?.length)for(let e of w.hooks.afterChange)el=await e({collection:w,context:M.context,doc:el,operation:"create",previousDoc:{},req:d.req})||el;return el=await (0,Y.E)({args:d,collection:w,operation:"create",result:el}),await (0,q.b)({collectionConfig:w,config:$,req:M}),h&&await (0,H.w)(M),el}catch(e){throw await (0,G.J)(d.req),e}}},52790:e=>{"use strict";e.exports=JSON.parse('{"name":"thread-stream","version":"3.1.0","description":"A streaming way to send data to a Node.js Worker Thread","main":"index.js","types":"index.d.ts","dependencies":{"real-require":"^0.2.0"},"devDependencies":{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5","desm":"^1.3.0","fastbench":"^1.0.1","husky":"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1","standard":"^17.0.0","tap":"^16.2.0","ts-node":"^10.8.0","typescript":"^5.3.2","why-is-node-running":"^2.2.2"},"scripts":{"build":"tsc --noEmit","test":"standard && npm run build && npm run transpile && tap \\"test/**/*.test.*js\\" && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":"tap --no-check-coverage --timeout=120 --coverage-report=lcovonly \\"test/**/*.test.*js\\"","test:ci:ts":"tap --ts --no-check-coverage --coverage-report=lcovonly \\"test/**/*.test.*ts\\"","test:yarn":"npm run transpile && tap \\"test/**/*.test.js\\" --no-check-coverage","transpile":"sh ./test/ts/transpile.sh","prepare":"husky install"},"standard":{"ignore":["test/ts/**/*","test/syntax-error.mjs"]},"repository":{"type":"git","url":"git+https://github.com/mcollina/thread-stream.git"},"keywords":["worker","thread","threads","stream"],"author":"Matteo Collina <hello@matteocollina.com>","license":"MIT","bugs":{"url":"https://github.com/mcollina/thread-stream/issues"},"homepage":"https://github.com/mcollina/thread-stream#readme"}')},52838:e=>{"use strict";let{FORCE_COLOR:d,NODE_DISABLE_COLORS:h,TERM:m}=process.env,g={enabled:!h&&"dumb"!==m&&"0"!==d,reset:v(0,0),bold:v(1,22),dim:v(2,22),italic:v(3,23),underline:v(4,24),inverse:v(7,27),hidden:v(8,28),strikethrough:v(9,29),black:v(30,39),red:v(31,39),green:v(32,39),yellow:v(33,39),blue:v(34,39),magenta:v(35,39),cyan:v(36,39),white:v(37,39),gray:v(90,39),grey:v(90,39),bgBlack:v(40,49),bgRed:v(41,49),bgGreen:v(42,49),bgYellow:v(43,49),bgBlue:v(44,49),bgMagenta:v(45,49),bgCyan:v(46,49),bgWhite:v(47,49)};function y(e,d){let h=0,m,g="",y="";for(;h<e.length;h++)g+=(m=e[h]).open,y+=m.close,d.includes(m.close)&&(d=d.replace(m.rgx,m.close+m.open));return g+d+y}function b(e,d){let h={has:e,keys:d};return h.reset=g.reset.bind(h),h.bold=g.bold.bind(h),h.dim=g.dim.bind(h),h.italic=g.italic.bind(h),h.underline=g.underline.bind(h),h.inverse=g.inverse.bind(h),h.hidden=g.hidden.bind(h),h.strikethrough=g.strikethrough.bind(h),h.black=g.black.bind(h),h.red=g.red.bind(h),h.green=g.green.bind(h),h.yellow=g.yellow.bind(h),h.blue=g.blue.bind(h),h.magenta=g.magenta.bind(h),h.cyan=g.cyan.bind(h),h.white=g.white.bind(h),h.gray=g.gray.bind(h),h.grey=g.grey.bind(h),h.bgBlack=g.bgBlack.bind(h),h.bgRed=g.bgRed.bind(h),h.bgGreen=g.bgGreen.bind(h),h.bgYellow=g.bgYellow.bind(h),h.bgBlue=g.bgBlue.bind(h),h.bgMagenta=g.bgMagenta.bind(h),h.bgCyan=g.bgCyan.bind(h),h.bgWhite=g.bgWhite.bind(h),h}function v(e,d){let h={open:`\x1b[${e}m`,close:`\x1b[${d}m`,rgx:RegExp(`\\x1b\\[${d}m`,"g")};return function(d){return void 0!==this&&void 0!==this.has?(this.has.includes(e)||(this.has.push(e),this.keys.push(h)),void 0===d?this:g.enabled?y(this.keys,d+""):d+""):void 0===d?b([e],[h]):g.enabled?y([h],d+""):d+""}}e.exports=g},52943:(e,d,h)=>{"use strict";h.d(d,{F:()=>y});var m=h(82703),g=h(70409);let y=async e=>{let d={user:null};if(!e.payload.authStrategies?.length)return d;for(let h of e.payload.authStrategies){e.strategyName=h.name,e.isGraphQL=!!e.isGraphQL,e.canSetHeaders=!!e.canSetHeaders;try{let m=await h.authenticate(e);m.responseHeaders&&(m.responseHeaders=(0,g.l)(d.responseHeaders||new Headers,m.responseHeaders||new Headers)),d=m}catch(d){(0,m.v)({err:d,payload:e.payload})}if(d.user)break}return d}},53068:(e,d,h)=>{let m=h(56958);function g(e,d){let h="";for(;d<e.length&&"'"!==e[d]&&'"'!==e[d];d++)h+=e[d];if(-1!==(h=h.trim()).indexOf(" "))throw Error("External entites are not supported");let m=e[d++],g="";for(;d<e.length&&e[d]!==m;d++)g+=e[d];return[h,g,d]}function y(e,d){return"!"===e[d+1]&&"-"===e[d+2]&&"-"===e[d+3]}function b(e,d){return"!"===e[d+1]&&"E"===e[d+2]&&"N"===e[d+3]&&"T"===e[d+4]&&"I"===e[d+5]&&"T"===e[d+6]&&"Y"===e[d+7]||!1}function v(e,d){return"!"===e[d+1]&&"E"===e[d+2]&&"L"===e[d+3]&&"E"===e[d+4]&&"M"===e[d+5]&&"E"===e[d+6]&&"N"===e[d+7]&&"T"===e[d+8]||!1}function w(e,d){return"!"===e[d+1]&&"A"===e[d+2]&&"T"===e[d+3]&&"T"===e[d+4]&&"L"===e[d+5]&&"I"===e[d+6]&&"S"===e[d+7]&&"T"===e[d+8]||!1}function S(e,d){return"!"===e[d+1]&&"N"===e[d+2]&&"O"===e[d+3]&&"T"===e[d+4]&&"A"===e[d+5]&&"T"===e[d+6]&&"I"===e[d+7]&&"O"===e[d+8]&&"N"===e[d+9]||!1}function x(e){if(m.isName(e))return e;throw Error(`Invalid entity name ${e}`)}e.exports=function(e,d){let h={};if("O"===e[d+3]&&"C"===e[d+4]&&"T"===e[d+5]&&"Y"===e[d+6]&&"P"===e[d+7]&&"E"===e[d+8]){d+=9;let m=1,_=!1,E=!1,T="";for(;d<e.length;d++)if("<"!==e[d]||E)if(">"===e[d]){if(E?"-"===e[d-1]&&"-"===e[d-2]&&(E=!1,m--):m--,0===m)break}else"["===e[d]?_=!0:T+=e[d];else{if(_&&b(e,d))d+=7,[entityName,val,d]=g(e,d+1),-1===val.indexOf("&")&&(h[x(entityName)]={regx:RegExp(`&${entityName};`,"g"),val:val});else if(_&&v(e,d))d+=8;else if(_&&w(e,d))d+=8;else if(_&&S(e,d))d+=9;else if(y)E=!0;else throw Error("Invalid DOCTYPE");m++,T=""}if(0!==m)throw Error("Unclosed DOCTYPE")}else throw Error("Invalid Tag instead of DOCTYPE");return{entities:h,i:d}}},53117:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.sdkStreamMixin=void 0;let m=h(29920),g=h(80621),y=h(15682),b=h(69713),v=h(39444),w="The stream has already been transformed.";d.sdkStreamMixin=e=>{var d,h;if(!S(e)&&!(0,v.isReadableStream)(e)){let m=(null==(h=null==(d=null==e?void 0:e.__proto__)?void 0:d.constructor)?void 0:h.name)||e;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${m}`)}let x=!1,_=async()=>{if(x)throw Error(w);return x=!0,await (0,m.streamCollector)(e)},E=e=>{if("function"!=typeof e.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()};return Object.assign(e,{transformToByteArray:_,transformToString:async e=>{let d=await _();if("base64"===e)return(0,g.toBase64)(d);if("hex"===e)return(0,y.toHex)(d);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,b.toUtf8)(d);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(d);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(x)throw Error(w);if(x=!0,S(e))return E(e);if((0,v.isReadableStream)(e))return e;throw Error(`Cannot transform payload to web stream, got ${e}`)}})};let S=e=>"function"==typeof Blob&&e instanceof Blob},53286:(e,d,h)=>{"use strict";let m=h(94735),g=h(37875),y=h(99600),b=h(5295),v=h(31088),w=h(97140);class S extends m{constructor(e){let d;super(),"string"==typeof(e=e||{})&&(e={url:e});let h=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(d=v.parseConnectionUrl(e.url),h=h||d.service),this.options=v.assign(!1,e,d,h&&b(h)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=v.getLogger(this.options,{component:this.options.component||"smtp-pool"});let m=new y(this.options);this.name="SMTP (pool)",this.version=w.version+"[client:"+m.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(e,d){return setImmediate(()=>d(null,!1))}send(e,d){return!this._closed&&(this._queue.push({mail:e,requeueAttempts:0,callback:d}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let e,d=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!d&&!this._queue.length)return;for(let h=d-1;h>=0;h--)this._connections[h]&&this._connections[h].available&&((e=this._connections[h]).close(),this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id));if(d&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let h=()=>{if(!this._queue.length)return void this.logger.debug({tnx:"connection"},"Pending queue entries cleared");let d=this._queue.shift();if(d&&"function"==typeof d.callback)try{d.callback(Error("Connection pool was closed"))}catch(d){this.logger.error({err:d,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,d.message)}setImmediate(h)};setImmediate(h)}_processMessages(){let e,d,h;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(d=0,h=this._connections.length;d<h;d++)if(this._connections[d].available){e=this._connections[d];break}if(!e&&this._connections.length<this.options.maxConnections&&(e=this._createConnection()),!e){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let m=e.queueEntry=this._queue.shift();m.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),e.available=!1,this.logger.debug({tnx:"pool",cid:e.id,messageId:m.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",m.messageId,e.id,e.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),e.send(m.mail,(d,h)=>{if(m===e.queueEntry){try{m.callback(d,h)}catch(d){this.logger.error({err:d,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,d.message)}e.queueEntry=!1}})}_createConnection(){let e=new g(this);return e.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id),e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id),this._closed?this.close():this._processMessages()}),e.once("error",d=>{if("EMAXLIMIT"!==d.code?this.logger.error({err:d,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,d.message):this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id),e.queueEntry){try{e.queueEntry.callback(d)}catch(d){this.logger.error({err:d,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,d.message)}e.queueEntry=!1}this._removeConnection(e),this._continueProcessing()}),e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id),this._removeConnection(e),e.queueEntry?setTimeout(()=>{e.queueEntry&&(this._shouldRequeuOnConnectionClose(e.queueEntry)?this._requeueEntryOnConnectionClose(e):this._failDeliveryOnConnectionClose(e)),this._continueProcessing()},50):this._continueProcessing()}),this._connections.push(e),e}_shouldRequeuOnConnectionClose(e){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(Error("Reached maximum number of retries after connection was closed"))}catch(d){this.logger.error({err:d,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,d.message)}e.queueEntry=!1}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts),this._queue.unshift(e.queueEntry),e.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(e){let d=this._connections.indexOf(e);-1!==d&&this._connections.splice(d,1)}_checkRateLimit(e){if(!this._rateLimit.limit)return e();let d=Date.now();return this._rateLimit.counter<this._rateLimit.limit?e():(this._rateLimit.waiting.push(e),this._rateLimit.checkpoint<=d-this._rateLimit.delta)?this._clearRateLimit():void(!this._rateLimit.timeout&&(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(d-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=d))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;)setImmediate(this._rateLimit.waiting.shift())}isIdle(){return this.idling}verify(e){let d;e||(d=new Promise((d,h)=>{e=v.callbackPromise(d,h)}));let h=new g(this).auth;return this.getSocket(this.options,(d,m)=>{if(d)return e(d);let g=this.options;m&&m.connection&&(this.logger.info({tnx:"proxy",remoteAddress:m.connection.remoteAddress,remotePort:m.connection.remotePort,destHost:g.host||"",destPort:g.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",m.connection.remoteAddress,m.connection.remotePort,g.host||"",g.port||""),g=v.assign(!1,g),Object.keys(m).forEach(e=>{g[e]=m[e]}));let b=new y(g),w=!1;b.once("error",d=>{if(!w)return w=!0,b.close(),e(d)}),b.once("end",()=>{if(!w)return w=!0,e(Error("Connection closed"))});let S=()=>{if(!w)return w=!0,b.quit(),e(null,!0)};b.connect(()=>{if(!w)if(h&&(b.allowsAuth||g.forceAuth))b.login(h,d=>{if(!w){if(d)return w=!0,b.close(),e(d);S()}});else if(!h&&b.allowsAuth&&g.forceAuth){let d=Error("Authentication info was not provided");return d.code="NoAuth",w=!0,b.close(),e(d)}else S()})}),d}}e.exports=S},53296:(e,d,h)=>{"use strict";h.d(d,{A:()=>m});let m=e=>{let d={};for(let h in e){let m=e[h];"_id"===h?d.id=m:"__v"!==h&&(d[h]=m)}return d}},53529:(e,d,h)=>{"use strict";h.d(d,{t:()=>m});let m=({collectionConfig:e,sort:d})=>(d||(d=e.defaultSort?e.defaultSort:"-createdAt"),"string"==typeof d&&(d=[d]),d.map(e=>{let d,h="";return("-"===e[0]?(d=e.substring(1),h="-"):d=e,"id"===d)?`${h}parent`:`${h}version.${d}`}))},53570:(e,d,h)=>{"use strict";let m=h(50862),{redactFmtSym:g,wildcardFirstSym:y}=h(39610),{rx:b,validator:v}=m,w=v({ERR_PATHS_MUST_BE_STRINGS:()=>"pino  redacted paths must be strings",ERR_INVALID_PATH:e=>`pino  redact paths array contains an invalid path (${e})`}),S="[Redacted]",x=!1;function _(e){if(Array.isArray(e))return w(e={paths:e,censor:S}),e;let{paths:d,censor:h=S,remove:m}=e;if(!1===Array.isArray(d))throw Error("pino  redact must contain an array of strings");return!0===m&&(h=void 0),w({paths:d,censor:h}),{paths:d,censor:h}}e.exports=function(e,d){let{paths:h,censor:v}=_(e),w=h.reduce((e,d)=>{b.lastIndex=0;let h=b.exec(d),m=b.exec(d),g=void 0!==h[1]?h[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):h[0];if("*"===g&&(g=y),null===m)return e[g]=null,e;if(null===e[g])return e;let{index:v}=m,w=`${d.substr(v,d.length-1)}`;return e[g]=e[g]||[],g!==y&&0===e[g].length&&e[g].push(...e[y]||[]),g===y&&Object.keys(e).forEach(function(d){e[d]&&e[d].push(w)}),e[g].push(w),e},{}),S={[g]:m({paths:h,censor:v,serialize:d,strict:x})},E=(...e)=>"function"==typeof v?d(v(...e)):d(v);return[...Object.keys(w),...Object.getOwnPropertySymbols(w)].reduce((e,h)=>{if(null===w[h])e[h]=e=>E(e,[h]);else{let g="function"==typeof v?(e,d)=>v(e,[h,...d]):v;e[h]=m({paths:w[h],censor:g,serialize:d,strict:x})}return e},S)}},53716:(e,d,h)=>{"use strict";h.d(d,{h:()=>I});var m=h(74021),g=h(3674),y=h(75783),b=h(26900),v=h(18864),w=h(6317),S=h(90537);class x{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,d){let h;if(!this._protectedHeader&&!this._unprotectedHeader)throw new b.Ye("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,y.A)(this._protectedHeader,this._unprotectedHeader))throw new b.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let x={...this._protectedHeader,...this._unprotectedHeader},_=(0,S.A)(b.Ye,new Map([["b64",!0]]),d?.crit,this._protectedHeader,x),E=!0;if(_.has("b64")&&"boolean"!=typeof(E=this._protectedHeader.b64))throw new b.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:T}=x;if("string"!=typeof T||!T)throw new b.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,w.I)(T,e,"sign");let k=this._payload;E&&(k=v.Rd.encode((0,m.lF)(k))),h=this._protectedHeader?v.Rd.encode((0,m.lF)(JSON.stringify(this._protectedHeader))):v.Rd.encode("");let C=(0,v.xW)(h,v.Rd.encode("."),k),P=await (0,g.A)(T,e,C),O={signature:(0,m.lF)(P),payload:""};return E&&(O.payload=v.D0.decode(k)),this._unprotectedHeader&&(O.header=this._unprotectedHeader),this._protectedHeader&&(O.protected=v.D0.decode(h)),O}}class _{_flattened;constructor(e){this._flattened=new x(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,d){let h=await this._flattened.sign(e,d);if(void 0===h.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${h.protected}.${h.payload}.${h.signature}`}}var E=h(41855),T=h(83520),k=h(71710);function C(e,d){if(!Number.isFinite(d))throw TypeError(`Invalid ${e} input`);return d}class P{_payload;constructor(e={}){if(!(0,T.A)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:C("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:C("setNotBefore",(0,E.A)(e))}:this._payload={...this._payload,nbf:(0,E.A)(new Date)+(0,k.A)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:C("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:C("setExpirationTime",(0,E.A)(e))}:this._payload={...this._payload,exp:(0,E.A)(new Date)+(0,k.A)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,E.A)(new Date)}:e instanceof Date?this._payload={...this._payload,iat:C("setIssuedAt",(0,E.A)(e))}:"string"==typeof e?this._payload={...this._payload,iat:C("setIssuedAt",(0,E.A)(new Date)+(0,k.A)(e))}:this._payload={...this._payload,iat:C("setIssuedAt",e)},this}}class O extends P{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,d){let h=new _(v.Rd.encode(JSON.stringify(this._payload)));if(h.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new b.Dp("JWTs MUST NOT use unencoded payload");return h.sign(e,d)}}let I=async({fieldsToSign:e,secret:d,tokenExpiration:h})=>{let m=new TextEncoder().encode(d),g=Math.floor(Date.now()/1e3),y=g+h,b=await new O(e).setProtectedHeader({alg:"HS256",typ:"JWT"}).setIssuedAt(g).setExpirationTime(y).sign(m);return{exp:y,token:b}}},53987:(e,d,h)=>{"use strict";let m=h(97140),g=h(31088);class y{constructor(e){e=e||{},this.options=e||{},this.name="JSONTransport",this.version=m.version,this.logger=g.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,d){e.message.keepBcc=!0;let h=e.data.envelope||e.message.getEnvelope(),m=e.message.messageId(),g=[].concat(h.to||[]);g.length>3&&g.push("...and "+g.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:m},"Composing JSON structure of %s to <%s>",m,g.join(", ")),setImmediate(()=>{e.normalize((e,g)=>e?(this.logger.error({err:e,tnx:"send",messageId:m},"Failed building JSON structure for %s. %s",m,e.message),d(e)):(delete g.envelope,delete g.normalizedHeaders,d(null,{envelope:h,messageId:m,message:this.options.skipEncoding?g:JSON.stringify(g)})))})}}e.exports=y},54640:(e,d,h)=>{"use strict";let{isUtf8:m}=h(79428),{hasBlob:g}=h(44314);function y(e){let d=e.length,h=0;for(;h<d;)if((128&e[h])==0)h++;else if((224&e[h])==192){if(h+1===d||(192&e[h+1])!=128||(254&e[h])==192)return!1;h+=2}else if((240&e[h])==224){if(h+2>=d||(192&e[h+1])!=128||(192&e[h+2])!=128||224===e[h]&&(224&e[h+1])==128||237===e[h]&&(224&e[h+1])==160)return!1;h+=3}else{if((248&e[h])!=240||h+3>=d||(192&e[h+1])!=128||(192&e[h+2])!=128||(192&e[h+3])!=128||240===e[h]&&(240&e[h+1])==128||244===e[h]&&e[h+1]>143||e[h]>244)return!1;h+=4}return!0}if(e.exports={isBlob:function(e){return g&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:y,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},m)e.exports.isValidUTF8=function(e){return e.length<24?y(e):m(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let d=h(50253);e.exports.isValidUTF8=function(e){return e.length<32?y(e):d(e)}}catch(e){}},54714:(e,d,h)=>{let m=h(52838),g=h(60646),{style:y,clear:b}=h(31347),{erase:v,cursor:w}=h(41893);class S extends g{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,d){return"y"===e.toLowerCase()?(this.value=!0,this.submit()):"n"===e.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(w.hide):this.out.write(b(this.outputText,this.out.columns)),super.render(),this.outputText=[y.symbol(this.done,this.aborted),m.bold(this.msg),y.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:m.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(v.line+w.to(0)+this.outputText))}}e.exports=S},54997:e=>{"use strict";var d=function(e){return h(e)&&!m(e)};function h(e){return!!e&&"object"==typeof e}function m(e){var d=Object.prototype.toString.call(e);return"[object RegExp]"===d||"[object Date]"===d||y(e)}var g="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function y(e){return e.$$typeof===g}function b(e){return Array.isArray(e)?[]:{}}function v(e,d){return!1!==d.clone&&d.isMergeableObject(e)?C(b(e),e,d):e}function w(e,d,h){return e.concat(d).map(function(e){return v(e,h)})}function S(e,d){if(!d.customMerge)return C;var h=d.customMerge(e);return"function"==typeof h?h:C}function x(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(d){return Object.propertyIsEnumerable.call(e,d)}):[]}function _(e){return Object.keys(e).concat(x(e))}function E(e,d){try{return d in e}catch(e){return!1}}function T(e,d){return E(e,d)&&!(Object.hasOwnProperty.call(e,d)&&Object.propertyIsEnumerable.call(e,d))}function k(e,d,h){var m={};return h.isMergeableObject(e)&&_(e).forEach(function(d){m[d]=v(e[d],h)}),_(d).forEach(function(g){T(e,g)||(E(e,g)&&h.isMergeableObject(d[g])?m[g]=S(g,h)(e[g],d[g],h):m[g]=v(d[g],h))}),m}function C(e,h,m){(m=m||{}).arrayMerge=m.arrayMerge||w,m.isMergeableObject=m.isMergeableObject||d,m.cloneUnlessOtherwiseSpecified=v;var g=Array.isArray(h);return g!==Array.isArray(e)?v(h,m):g?m.arrayMerge(e,h,m):k(e,h,m)}C.all=function(e,d){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,h){return C(e,h,d)},{})},e.exports=C},55079:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}]},55174:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{parseUrl:()=>E}),e.exports=S(x);var _=h(60444),E=v(e=>{let d;if("string"==typeof e)return E(new URL(e));let{hostname:h,pathname:m,port:g,protocol:y,search:b}=e;return b&&(d=(0,_.parseQueryString)(b)),{hostname:h,port:g?parseInt(g):void 0,protocol:y,path:m,query:d}},"parseUrl")},55292:(e,d,h)=>{"use strict";let m=h(30658);function g(e,d,h){return Object.keys(e).map(g=>{let{escPath:y,leadingBracket:b,path:v}=e[g],w=+!!b,S=b?"":".",x=[];for(;null!==(_=m.exec(g));){let[,e]=_,{index:d,input:h}=_;d>w&&x.push(h.substring(0,d-!e))}var _,E=x.map(e=>`o${S}${e}`).join(" && ");0===E.length?E+=`o${S}${g} != null`:E+=` && o${S}${g} != null`;let T=`
      switch (true) {
        ${x.reverse().map(e=>`
          case o${S}${e} === censor:
            secret[${y}].circle = ${JSON.stringify(e)}
            break
        `).join("\n")}
      }
    `,k=h?`val, ${JSON.stringify(v)}`:"val";return`
      if (${E}) {
        const val = o${S}${g}
        if (val === censor) {
          secret[${y}].precensored = true
        } else {
          secret[${y}].val = val
          o${S}${g} = ${d?`censor(${k})`:"censor"}
          ${T}
        }
      }
    `}).join("\n")}function y(e,d,h){return!0===e?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${d}, ${h})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${d}, ${h})
      }
    }
  `:""}function b(e){return!1===e?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function v(e,d){return!0===e?"throw Error('fast-redact: primitives cannot be redacted')":!1===d?"return o":"return this.serialize(o)"}e.exports=function e({secret:e,serialize:d,wcLen:h,strict:m,isCensorFct:w,censorFctTakesPath:S},x){let _=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${v(m,d)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${g(e,w,S)}
    this.compileRestore()
    ${y(h>0,w,S)}
    this.secret = originalSecret
    ${b(d)}
  `).bind(x);return _.state=x,!1===d&&(_.restore=e=>x.restore(e)),_}},55324:(e,d,h)=>{"use strict";h.r(d),h.d(d,{DefaultIdentityProviderConfig:()=>j,EXPIRATION_MS:()=>V,HttpApiKeyAuthSigner:()=>U,HttpBearerAuthSigner:()=>F,NoAuthSigner:()=>z,createIsIdentityExpiredFunction:()=>q,createPaginator:()=>L,doesIdentityRequireRefresh:()=>K,getHttpAuthSchemeEndpointRuleSetPlugin:()=>x,getHttpAuthSchemePlugin:()=>E,getHttpSigningPlugin:()=>I,getSmithyContext:()=>g,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>S,httpAuthSchemeMiddleware:()=>w,httpAuthSchemeMiddlewareOptions:()=>_,httpSigningMiddleware:()=>P,httpSigningMiddlewareOptions:()=>O,isIdentityExpired:()=>H,memoizeIdentityProvider:()=>G,normalizeProvider:()=>R,requestBuilder:()=>M.requestBuilder,setFeature:()=>B});var m=h(38755);let g=e=>e[m.SMITHY_CONTEXT_KEY]||(e[m.SMITHY_CONTEXT_KEY]={});var y=h(43510);let b=(e,d)=>{if(!d||0===d.length)return e;let h=[];for(let m of d)for(let d of e)d.schemeId.split("#")[1]===m&&h.push(d);for(let d of e)h.find(({schemeId:e})=>e===d.schemeId)||h.push(d);return h};function v(e){let d=new Map;for(let h of e)d.set(h.schemeId,h);return d}let w=(e,d)=>(h,m)=>async g=>{let w=b(e.httpAuthSchemeProvider(await d.httpAuthSchemeParametersProvider(e,m,g.input)),e.authSchemePreference?await e.authSchemePreference():[]),S=v(e.httpAuthSchemes),x=(0,y.getSmithyContext)(m),_=[];for(let h of w){let g=S.get(h.schemeId);if(!g){_.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}let y=g.identityProvider(await d.identityProviderConfigProvider(e));if(!y){_.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:b={},signingProperties:v={}}=h.propertiesExtractor?.(e,m)||{};h.identityProperties=Object.assign(h.identityProperties||{},b),h.signingProperties=Object.assign(h.signingProperties||{},v),x.selectedHttpAuthScheme={httpAuthOption:h,identity:await y(h.identityProperties),signer:g.signer};break}if(!x.selectedHttpAuthScheme)throw Error(_.join("\n"));return h(g)},S={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},x=(e,{httpAuthSchemeParametersProvider:d,identityProviderConfigProvider:h})=>({applyToStack:m=>{m.addRelativeTo(w(e,{httpAuthSchemeParametersProvider:d,identityProviderConfigProvider:h}),S)}}),_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:h(12081).serializerMiddlewareOption.name},E=(e,{httpAuthSchemeParametersProvider:d,identityProviderConfigProvider:h})=>({applyToStack:m=>{m.addRelativeTo(w(e,{httpAuthSchemeParametersProvider:d,identityProviderConfigProvider:h}),_)}});var T=h(96543);let k=e=>e=>{throw e},C=(e,d)=>{},P=e=>(e,d)=>async h=>{if(!T.HttpRequest.isInstance(h.request))return e(h);let m=(0,y.getSmithyContext)(d).selectedHttpAuthScheme;if(!m)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:g={}},identity:b,signer:v}=m,w=await e({...h,request:await v.sign(h.request,b,g)}).catch((v.errorHandler||k)(g));return(v.successHandler||C)(w.response,g),w},O={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},I=e=>({applyToStack:d=>{d.addRelativeTo(P(e),O)}}),R=e=>{if("function"==typeof e)return e;let d=Promise.resolve(e);return()=>d},D=async(e,d,h,m=e=>e,...g)=>{let y=new e(h);return y=m(y)??y,await d.send(y,...g)};function L(e,d,h,m,g){return async function*(y,b,...v){let w,S=b,x=y.startingToken??S[h],_=!0;for(;_;){if(S[h]=x,g&&(S[g]=S[g]??y.pageSize),y.client instanceof e)w=await D(d,y.client,b,y.withCommand,...v);else throw Error(`Invalid client, expected instance of ${e.name}`);yield w;let E=x;_=!!((x=$(w,m))&&(!y.stopOnSameToken||x!==E))}}}let $=(e,d)=>{let h=e;for(let e of d.split(".")){if(!h||"object"!=typeof h)return;h=h[e]}return h};var M=h(57475);function B(e,d,h){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[d]=h}class j{constructor(e){for(let[d,h]of(this.authSchemes=new Map,Object.entries(e)))void 0!==h&&this.authSchemes.set(d,h)}getIdentityProvider(e){return this.authSchemes.get(e)}}class U{async sign(e,d,h){if(!h)throw Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!h.name)throw Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!h.in)throw Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!d.apiKey)throw Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let g=T.HttpRequest.clone(e);if(h.in===m.HttpApiKeyAuthLocation.QUERY)g.query[h.name]=d.apiKey;else if(h.in===m.HttpApiKeyAuthLocation.HEADER)g.headers[h.name]=h.scheme?`${h.scheme} ${d.apiKey}`:d.apiKey;else throw Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+h.in+"`");return g}}class F{async sign(e,d,h){let m=T.HttpRequest.clone(e);if(!d.token)throw Error("request could not be signed with `token` since the `token` is not defined");return m.headers.Authorization=`Bearer ${d.token}`,m}}class z{async sign(e,d,h){return e}}let q=e=>d=>K(d)&&d.expiration.getTime()-Date.now()<e,V=3e5,H=q(3e5),K=e=>void 0!==e.expiration,G=(e,d,h)=>{let m,g,y;if(void 0===e)return;let b="function"!=typeof e?async()=>Promise.resolve(e):e,v=!1,w=async e=>{g||(g=b(e));try{m=await g,y=!0,v=!1}finally{g=void 0}return m};return void 0===d?async e=>((!y||e?.forceRefresh)&&(m=await w(e)),m):async e=>((!y||e?.forceRefresh)&&(m=await w(e)),v||(h(m)?d(m)&&await w(e):v=!0),m)}},55330:(e,d)=>{d.L=function(e,d,h,m,g){var y,b,v=8*g-m-1,w=(1<<v)-1,S=w>>1,x=-7,_=h?g-1:0,E=h?-1:1,T=e[d+_];for(_+=E,y=T&(1<<-x)-1,T>>=-x,x+=v;x>0;y=256*y+e[d+_],_+=E,x-=8);for(b=y&(1<<-x)-1,y>>=-x,x+=m;x>0;b=256*b+e[d+_],_+=E,x-=8);if(0===y)y=1-S;else{if(y===w)return b?NaN:1/0*(T?-1:1);b+=Math.pow(2,m),y-=S}return(T?-1:1)*b*Math.pow(2,y-m)},d.M=function(e,d,h,m,g,y){var b,v,w,S=8*y-g-1,x=(1<<S)-1,_=x>>1,E=5960464477539062e-23*(23===g),T=m?0:y-1,k=m?1:-1,C=+(d<0||0===d&&1/d<0);for(isNaN(d=Math.abs(d))||d===1/0?(v=+!!isNaN(d),b=x):(b=Math.floor(Math.log(d)/Math.LN2),d*(w=Math.pow(2,-b))<1&&(b--,w*=2),b+_>=1?d+=E/w:d+=E*Math.pow(2,1-_),d*w>=2&&(b++,w/=2),b+_>=x?(v=0,b=x):b+_>=1?(v=(d*w-1)*Math.pow(2,g),b+=_):(v=d*Math.pow(2,_-1)*Math.pow(2,g),b=0));g>=8;e[h+T]=255&v,T+=k,v/=256,g-=8);for(b=b<<g|v,S+=g;S>0;e[h+T]=255&b,T+=k,b/=256,S-=8);e[h+T-k]|=128*C}},55393:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.assignDefaults=void 0;let m=h(52046),g=h(31934);function y(e,d,h){let{gen:y,compositeRule:b,data:v,opts:w}=e;if(void 0===h)return;let S=(0,m._)`${v}${(0,m.getProperty)(d)}`;if(b)return void(0,g.checkStrictMode)(e,`default is ignored for: ${S}`);let x=(0,m._)`${S} === undefined`;"empty"===w.useDefaults&&(x=(0,m._)`${x} || ${S} === null || ${S} === ""`),y.if(x,(0,m._)`${S} = ${(0,m.stringify)(h)}`)}d.assignDefaults=function(e,d){let{properties:h,items:m}=e.schema;if("object"===d&&h)for(let d in h)y(e,d,h[d].default);else"array"===d&&Array.isArray(m)&&m.forEach((d,h)=>y(e,h,d.default))}},55741:(e,d,h)=>{"use strict";let m=h(27910).Transform;class g extends m{constructor(e){super(e),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(e){let d=this.lastBytes.length,h=Math.min(e.length,d);for(let e=0,m=d-h;e<m;e++)this.lastBytes[e]=this.lastBytes[e+h];for(let m=1;m<=h;m++)this.lastBytes[d-m]=e[e.length-m]}checkHeaders(e){if(this.headersParsed)return!0;let d=this.lastBytes.length,h=0;this.curLinePos=0;for(let m=0,g=this.lastBytes.length+e.length;m<g;m++){let g;if(10===(g=m<d?this.lastBytes[m]:e[m-d])&&m){let g=m-1<d?this.lastBytes[m-1]:e[m-1-d],y=m>1&&(m-2<d?this.lastBytes[m-2]:e[m-2-d]);if(10===g||13===g&&10===y){this.headersParsed=!0,h=m-d+1,this.headerBytes+=h;break}}}if(this.headersParsed){if(this.headerChunks.push(e.slice(0,h)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),e.length-1>h){let d=e.slice(h);this.bodySize+=d.length,setImmediate(()=>this.push(d))}return!1}return this.headerBytes+=e.length,this.headerChunks.push(e),this.updateLastBytes(e),!1}_transform(e,d,h){let m;if(!e||!e.length)return h();"string"==typeof e&&(e=Buffer.from(e,d));try{m=this.checkHeaders(e)}catch(e){return h(e)}m&&(this.bodySize+=e.length,this.push(e)),setImmediate(h)}_flush(e){if(this.headerChunks){let e=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=e.length,this.push(e),this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let d=e.length-1;d>0;d--)/^\s/.test(e[d])&&(e[d-1]+="\n"+e[d],e.splice(d,1));return e.filter(e=>e.trim()).map(e=>({key:e.substr(0,e.indexOf(":")).trim().toLowerCase(),line:e}))}}e.exports=g},56178:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Sha256=void 0;var m=h(13373),g=h(95301),y=h(13225),b=h(11408);function v(e){var d=(0,b.convertToBuffer)(e);if(d.byteLength>g.BLOCK_SIZE){var h=new y.RawSha256;h.update(d),d=h.digest()}var m=new Uint8Array(g.BLOCK_SIZE);return m.set(d),m}d.Sha256=function(){function e(e){if(this.hash=new y.RawSha256,e){this.outer=new y.RawSha256;var d=v(e),h=new Uint8Array(g.BLOCK_SIZE);h.set(d);for(var m=0;m<g.BLOCK_SIZE;m++)d[m]^=54,h[m]^=92;this.hash.update(d),this.outer.update(h);for(var m=0;m<d.byteLength;m++)d[m]=0}}return e.prototype.update=function(e){if(!(0,b.isEmptyData)(e)&&!this.error)try{this.hash.update((0,b.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,m.__awaiter)(this,void 0,void 0,function(){return(0,m.__generator)(this,function(e){return[2,this.digestSync()]})})},e}()},56251:(e,d,h)=>{"use strict";h.d(d,{L:()=>m});let m=new Set(["equals","contains","not_equals","in","all","not_in","exists","greater_than","greater_than_equal","less_than","less_than_equal","like","not_like","within","intersects","near"])},56277:e=>{"use strict";let d=Symbol("circular-ref-tag"),h=Symbol("pino-raw-err-ref"),m=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[h]},set:function(e){this[h]=e}}});Object.defineProperty(m,h,{writable:!0,value:{}}),e.exports={pinoErrProto:m,pinoErrorSymbols:{seen:d,rawSymbol:h}}},56393:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.extendErrors=d.resetErrorsCount=d.reportExtraError=d.reportError=d.keyword$DataError=d.keywordError=void 0;let m=h(52046),g=h(31934),y=h(9828);function b(e,h=d.keywordError,g,y){let{it:v}=e,{gen:x,compositeRule:E,allErrors:T}=v,k=_(e,h,g);(null!=y?y:E||T)?w(x,k):S(v,(0,m._)`[${k}]`)}function v(e,h=d.keywordError,m){let{it:g}=e,{gen:b,compositeRule:x,allErrors:E}=g;w(b,_(e,h,m)),x||E||S(g,y.default.vErrors)}function w(e,d){let h=e.const("err",d);e.if((0,m._)`${y.default.vErrors} === null`,()=>e.assign(y.default.vErrors,(0,m._)`[${h}]`),(0,m._)`${y.default.vErrors}.push(${h})`),e.code((0,m._)`${y.default.errors}++`)}function S(e,d){let{gen:h,validateName:g,schemaEnv:y}=e;y.$async?h.throw((0,m._)`new ${e.ValidationError}(${d})`):(h.assign((0,m._)`${g}.errors`,d),h.return(!1))}d.keywordError={message:({keyword:e})=>(0,m.str)`must pass "${e}" keyword validation`},d.keyword$DataError={message:({keyword:e,schemaType:d})=>d?(0,m.str)`"${e}" keyword must be ${d} ($data)`:(0,m.str)`"${e}" keyword is invalid ($data)`},d.reportError=b,d.reportExtraError=v,d.resetErrorsCount=function(e,d){e.assign(y.default.errors,d),e.if((0,m._)`${y.default.vErrors} !== null`,()=>e.if(d,()=>e.assign((0,m._)`${y.default.vErrors}.length`,d),()=>e.assign(y.default.vErrors,null)))},d.extendErrors=function({gen:e,keyword:d,schemaValue:h,data:g,errsCount:b,it:v}){if(void 0===b)throw Error("ajv implementation error");let w=e.name("err");e.forRange("i",b,y.default.errors,b=>{e.const(w,(0,m._)`${y.default.vErrors}[${b}]`),e.if((0,m._)`${w}.instancePath === undefined`,()=>e.assign((0,m._)`${w}.instancePath`,(0,m.strConcat)(y.default.instancePath,v.errorPath))),e.assign((0,m._)`${w}.schemaPath`,(0,m.str)`${v.errSchemaPath}/${d}`),v.opts.verbose&&(e.assign((0,m._)`${w}.schema`,h),e.assign((0,m._)`${w}.data`,g))})};let x={keyword:new m.Name("keyword"),schemaPath:new m.Name("schemaPath"),params:new m.Name("params"),propertyName:new m.Name("propertyName"),message:new m.Name("message"),schema:new m.Name("schema"),parentSchema:new m.Name("parentSchema")};function _(e,d,h){let{createErrors:g}=e.it;return!1===g?(0,m._)`{}`:E(e,d,h)}function E(e,d,h={}){let{gen:m,it:g}=e,y=[T(g,h),k(e,h)];return C(e,d,y),m.object(...y)}function T({errorPath:e},{instancePath:d}){let h=d?(0,m.str)`${e}${(0,g.getErrorPath)(d,g.Type.Str)}`:e;return[y.default.instancePath,(0,m.strConcat)(y.default.instancePath,h)]}function k({keyword:e,it:{errSchemaPath:d}},{schemaPath:h,parentSchema:y}){let b=y?d:(0,m.str)`${d}/${e}`;return h&&(b=(0,m.str)`${b}${(0,g.getErrorPath)(h,g.Type.Str)}`),[x.schemaPath,b]}function C(e,{params:d,message:h},g){let{keyword:b,data:v,schemaValue:w,it:S}=e,{opts:_,propertyName:E,topSchemaRef:T,schemaPath:k}=S;g.push([x.keyword,b],[x.params,"function"==typeof d?d(e):d||(0,m._)`{}`]),_.messages&&g.push([x.message,"function"==typeof h?h(e):h]),_.verbose&&g.push([x.schema,w],[x.parentSchema,(0,m._)`${T}${k}`],[y.default.data,v]),E&&g.push([x.propertyName,E])}},56425:(e,d,h)=>{"use strict";h.d(d,{Z:()=>y});var m=h(70120);let g=m.default||m,y={name:"id",type:"text",admin:{hidden:!0},defaultValue:()=>new g().toHexString(),hooks:{beforeChange:[({value:e})=>e||new g().toHexString()],beforeDuplicate:[()=>new g().toHexString()]},label:"ID"}},56461:(e,d,h)=>{"use strict";let{kForOnEventAttribute:m,kListener:g}=h(44314),y=Symbol("kCode"),b=Symbol("kData"),v=Symbol("kError"),w=Symbol("kMessage"),S=Symbol("kReason"),x=Symbol("kTarget"),_=Symbol("kType"),E=Symbol("kWasClean");class T{constructor(e){this[x]=null,this[_]=e}get target(){return this[x]}get type(){return this[_]}}Object.defineProperty(T.prototype,"target",{enumerable:!0}),Object.defineProperty(T.prototype,"type",{enumerable:!0});class k extends T{constructor(e,d={}){super(e),this[y]=void 0===d.code?0:d.code,this[S]=void 0===d.reason?"":d.reason,this[E]=void 0!==d.wasClean&&d.wasClean}get code(){return this[y]}get reason(){return this[S]}get wasClean(){return this[E]}}Object.defineProperty(k.prototype,"code",{enumerable:!0}),Object.defineProperty(k.prototype,"reason",{enumerable:!0}),Object.defineProperty(k.prototype,"wasClean",{enumerable:!0});class C extends T{constructor(e,d={}){super(e),this[v]=void 0===d.error?null:d.error,this[w]=void 0===d.message?"":d.message}get error(){return this[v]}get message(){return this[w]}}Object.defineProperty(C.prototype,"error",{enumerable:!0}),Object.defineProperty(C.prototype,"message",{enumerable:!0});class P extends T{constructor(e,d={}){super(e),this[b]=void 0===d.data?null:d.data}get data(){return this[b]}}Object.defineProperty(P.prototype,"data",{enumerable:!0});let O={addEventListener(e,d,h={}){let y;for(let y of this.listeners(e))if(!h[m]&&y[g]===d&&!y[m])return;if("message"===e)y=function(e,h){let m=new P("message",{data:h?e:e.toString()});m[x]=this,I(d,this,m)};else if("close"===e)y=function(e,h){let m=new k("close",{code:e,reason:h.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});m[x]=this,I(d,this,m)};else if("error"===e)y=function(e){let h=new C("error",{error:e,message:e.message});h[x]=this,I(d,this,h)};else{if("open"!==e)return;y=function(){let e=new T("open");e[x]=this,I(d,this,e)}}y[m]=!!h[m],y[g]=d,h.once?this.once(e,y):this.on(e,y)},removeEventListener(e,d){for(let h of this.listeners(e))if(h[g]===d&&!h[m]){this.removeListener(e,h);break}}};function I(e,d,h){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,h):e.call(d,h)}e.exports={CloseEvent:k,ErrorEvent:C,Event:T,EventTarget:O,MessageEvent:P}},56820:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{endpointMiddleware:()=>j,endpointMiddlewareOptions:()=>U,getEndpointFromInstructions:()=>L,getEndpointPlugin:()=>F,resolveEndpointConfig:()=>q,resolveParams:()=>$,toEndpointV1:()=>D}),e.exports=S(x);var _=v(async e=>{let d=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=d.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),P(d)){if(!0===e.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else C(d)&&(-1===d.indexOf(".")||String(e.Endpoint).startsWith("http:"))&&d.toLowerCase()===d&&!(d.length<3)||(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),E=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,T=/(\d+\.){3}\d+/,k=/\.\./,C=v(e=>E.test(e)&&!T.test(e)&&!k.test(e),"isDnsCompatibleBucketName"),P=v(e=>{let[d,h,m,,,g]=e.split(":"),y="arn"===d&&e.split(":").length>=6,b=!!(y&&h&&m&&g);if(y&&!b)throw Error(`Invalid ARN: ${e} was an invalid ARN.`);return b},"isArnBucketName"),O=v((e,d,h)=>{let m=v(async()=>{let m=h[e]??h[d];return"function"==typeof m?m():m},"configProvider");return"credentialScope"===e||"CredentialScope"===d?async()=>{let e="function"==typeof h.credentials?await h.credentials():h.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===d?async()=>{let e="function"==typeof h.credentials?await h.credentials():h.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===d?async()=>{let e=await m();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){let{protocol:d,hostname:h,port:m,path:g}=e;return`${d}//${h}${m?":"+m:""}${g}`}}return e}:m},"createConfigValueProvider"),I=h(42344),R=h(92828),D=v(e=>"object"==typeof e?"url"in e?(0,R.parseUrl)(e.url):e:(0,R.parseUrl)(e),"toEndpointV1"),L=v(async(e,d,h,m)=>{if(!h.endpoint){let e;(e=h.serviceConfiguredEndpoint?await h.serviceConfiguredEndpoint():await (0,I.getEndpointFromConfig)(h.serviceId))&&(h.endpoint=()=>Promise.resolve(D(e)))}let g=await $(e,d,h);if("function"!=typeof h.endpointProvider)throw Error("config.endpointProvider is not set.");return h.endpointProvider(g,m)},"getEndpointFromInstructions"),$=v(async(e,d,h)=>{let m={},g=d?.getEndpointParameterInstructions?.()||{};for(let[d,y]of Object.entries(g))switch(y.type){case"staticContextParams":m[d]=y.value;break;case"contextParams":m[d]=e[y.name];break;case"clientContextParams":case"builtInParams":m[d]=await O(y.name,d,h)();break;case"operationContextParams":m[d]=y.get(e);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(y))}return 0===Object.keys(g).length&&Object.assign(m,h),"s3"===String(h.serviceId).toLowerCase()&&await _(m),m},"resolveParams"),M=h(55324),B=h(43510),j=v(({config:e,instructions:d})=>(h,m)=>async g=>{e.endpoint&&(0,M.setFeature)(m,"ENDPOINT_OVERRIDE","N");let y=await L(g.input,{getEndpointParameterInstructions:()=>d},{...e},m);m.endpointV2=y,m.authSchemes=y.properties?.authSchemes;let b=m.authSchemes?.[0];if(b){m.signing_region=b.signingRegion,m.signing_service=b.signingName;let e=(0,B.getSmithyContext)(m),d=e?.selectedHttpAuthScheme?.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:b.signingRegion,signingRegion:b.signingRegion,signing_service:b.signingName,signingName:b.signingName,signingRegionSet:b.signingRegionSet},b.properties))}return h({...g})},"endpointMiddleware"),U={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:h(12081).serializerMiddlewareOption.name},F=v((e,d)=>({applyToStack:h=>{h.addRelativeTo(j({config:e,instructions:d}),U)}}),"getEndpointPlugin"),z=h(42344),q=v(e=>{let d,h=e.tls??!0,{endpoint:m,useDualstackEndpoint:g,useFipsEndpoint:y}=e,b=Object.assign(e,{endpoint:null!=m?async()=>D(await (0,B.normalizeProvider)(m)()):void 0,tls:h,isCustomEndpoint:!!m,useDualstackEndpoint:(0,B.normalizeProvider)(g??!1),useFipsEndpoint:(0,B.normalizeProvider)(y??!1)});return b.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=(0,z.getEndpointFromConfig)(e.serviceId)),d),b},"resolveEndpointConfig")},56958:(e,d)=>{"use strict";let h=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",m=h+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",g="["+h+"]["+m+"]*",y=RegExp("^"+g+"$"),b=function(e,d){let h=[],m=d.exec(e);for(;m;){let g=[];g.startIndex=d.lastIndex-m[0].length;let y=m.length;for(let e=0;e<y;e++)g.push(m[e]);h.push(g),m=d.exec(e)}return h},v=function(e){return null!=y.exec(e)};d.isExist=function(e){return void 0!==e},d.isEmptyObject=function(e){return 0===Object.keys(e).length},d.merge=function(e,d,h){if(d){let m=Object.keys(d),g=m.length;for(let y=0;y<g;y++)"strict"===h?e[m[y]]=[d[m[y]]]:e[m[y]]=d[m[y]]}},d.getValue=function(e){return d.isExist(e)?e:""},d.isName=v,d.getAllMatches=b,d.nameRegexp=g},56978:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:h(11622).validateUnion,error:{message:"must match a schema in anyOf"}}},57183:e=>{"use strict";e.exports=function(e,d){let h=e.length,m=0;for(let g=0;g<h;++g)m|=e[g]^d[g];return 0===m}},57338:(e,d,h)=>{"use strict";var m=h(44612);function g(e){this._types=e||m,this.text={},this.binary={}}g.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},g.prototype.setTypeParser=function(e,d,h){"function"==typeof d&&(h=d,d="text"),this.getOverrides(d)[e]=h},g.prototype.getTypeParser=function(e,d){return d=d||"text",this.getOverrides(d)[e]||this._types.getTypeParser(e,d)},e.exports=g},57369:(e,d,h)=>{"use strict";function m(e,d,h,m,g,y,b){try{var v=e[y](b),w=v.value}catch(e){h(e);return}v.done?d(w):Promise.resolve(w).then(m,g)}function g(e){return function(){var d=this,h=arguments;return new Promise(function(g,y){var b=e.apply(d,h);function v(e){m(b,g,y,v,w,"next",e)}function w(e){m(b,g,y,v,w,"throw",e)}v(void 0)})}}let y=h(52838),b=h(85183),v=h(41893),w=v.erase,S=v.cursor,x=h(8984),_=x.style,E=x.clear,T=x.figures,k=x.wrap,C=x.entriesToDisplay,P=(e,d)=>e[d]&&(e[d].value||e[d].title||e[d]),O=(e,d)=>e[d]&&(e[d].title||e[d].value||e[d]),I=(e,d)=>{let h=e.findIndex(e=>e.value===d||e.title===d);return h>-1?h:void 0};class R extends b{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial="number"==typeof e.initial?e.initial:I(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=_.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=E("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return"number"==typeof this._fb?e=this.choices[this._fb]:"string"==typeof this._fb&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=P(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var d=this;return g(function*(){let h=d.completing=d.suggest(d.input,d.choices),m=yield h;if(d.completing!==h)return;d.suggestions=m.map((e,d,h)=>({title:O(h,d),value:P(h,d),description:e.description})),d.completing=!1;let g=Math.max(m.length-1,0);d.moveSelect(Math.min(g,d.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,d){let h=this.input.slice(0,this.cursor),m=this.input.slice(this.cursor);this.input=`${h}${e}${m}`,this.cursor=h.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let e=this.input.slice(0,this.cursor-1),d=this.input.slice(this.cursor);this.input=`${e}${d}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),d=this.input.slice(this.cursor+1);this.input=`${e}${d}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,d,h,m){let g,b=h?T.arrowUp:m?T.arrowDown:" ",v=d?y.cyan().underline(e.title):e.title;return b=(d?y.cyan(T.pointer)+" ":"  ")+b,e.description&&(g=` - ${e.description}`,(b.length+v.length+g.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(g="\n"+k(e.description,{margin:3,width:this.out.columns}))),b+" "+v+y.gray(g||"")}render(){if(this.closed)return;this.firstRender?this.out.write(S.hide):this.out.write(E(this.outputText,this.out.columns)),super.render();let e=C(this.select,this.choices.length,this.limit),d=e.startIndex,h=e.endIndex;if(this.outputText=[_.symbol(this.done,this.aborted,this.exited),y.bold(this.msg),_.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let e=this.suggestions.slice(d,h).map((e,m)=>this.renderOption(e,this.select===m+d,0===m&&d>0,m+d===h-1&&h<this.choices.length)).join("\n");this.outputText+=`
`+(e||y.gray(this.fallback.title))}this.out.write(w.line+S.to(0)+this.outputText)}}e.exports=R},57414:(e,d,h)=>{"use strict";let m=h(97750);class g extends m{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=g},57475:(e,d,h)=>{"use strict";h.r(d),h.d(d,{FromStringShapeDeserializer:()=>I,HttpBindingProtocol:()=>x,HttpInterceptingShapeDeserializer:()=>R,HttpInterceptingShapeSerializer:()=>L,RequestBuilder:()=>k,RpcProtocol:()=>_,ToStringShapeSerializer:()=>D,collectBody:()=>g,determineTimestampFormat:()=>O,extendedEncodeURIComponent:()=>y,requestBuilder:()=>T,resolvedPath:()=>E});var m=h(80854);let g=async(e=new Uint8Array,d)=>{if(e instanceof Uint8Array)return m.Uint8ArrayBlobAdapter.mutate(e);if(!e)return m.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let h=d.streamCollector(e);return m.Uint8ArrayBlobAdapter.mutate(await h)};function y(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var b=h(69697),v=h(96543),w=h(97e3);class S{constructor(e){this.options=e}getRequestType(){return v.HttpRequest}getResponseType(){return v.HttpResponse}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,d){if(!("url"in d))return e.protocol=d.protocol,e.hostname=d.hostname,e.port=d.port?Number(d.port):void 0,e.path=d.path,e.query={...d.query},e;for(let[h,m]of(e.protocol=d.url.protocol,e.hostname=d.url.hostname,e.port=d.url.port?Number(d.url.port):void 0,e.path=d.url.pathname,e.fragment=d.url.hash||void 0,e.username=d.url.username||void 0,e.password=d.url.password||void 0,d.url.searchParams.entries()))e.query||(e.query={}),e.query[h]=m;return e}setHostPrefix(e,d,h){let m=b.l1.of(d),g=b.l1.of(d.input);if(m.getMergedTraits().endpoint){let d=m.getMergedTraits().endpoint?.[0];if("string"==typeof d){for(let[e]of[...g.structIterator()].filter(([,e])=>e.getMergedTraits().hostLabel)){let m=h[e];if("string"!=typeof m)throw Error(`@smithy/core/schema - ${e} in input must be a string as hostLabel.`);d=d.replace(`{${e}}`,m)}e.hostname=d+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async deserializeHttpMessage(e,d,h,y,v){let S=this.deserializer,x=b.l1.of(e),_=[];for(let[e,E]of x.structIterator()){let x=E.getMemberTraits();if(x.httpPayload){if(E.isStreaming())if(E.isStructSchema()){let d=this.serdeContext;if(!d.eventStreamMarshaller)throw Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let m=E.getMemberSchemas();v[e]=d.eventStreamMarshaller.deserialize(h.body,async e=>{let d=Object.keys(e).find(e=>"__type"!==e)??"";if(!(d in m))return{$unknown:e};{let h=m[d];return{[d]:await S.read(h,e[d].body)}}})}else v[e]=(0,m.sdkStreamMixin)(h.body);else if(h.body){let m=await g(h.body,d);m.byteLength>0&&(v[e]=await S.read(E,m))}}else if(x.httpHeader){let d=String(x.httpHeader).toLowerCase(),m=h.headers[d];if(null!=m)if(E.isListSchema()){let h,g=E.getValueSchema();h=g.isTimestampSchema()&&g.getSchema()===b.yx.TIMESTAMP_DEFAULT?(0,w.splitEvery)(m,",",2):(0,w.splitHeader)(m);let y=[];for(let e of h)y.push(await S.read([g,{httpHeader:d}],e.trim()));v[e]=y}else v[e]=await S.read(E,m)}else if(void 0!==x.httpPrefixHeaders)for(let[d,m]of(v[e]={},Object.entries(h.headers)))!y.has(d)&&d.startsWith(x.httpPrefixHeaders)&&(v[e][d.slice(x.httpPrefixHeaders.length)]=await S.read([E.getValueSchema(),{httpHeader:d}],m));else x.httpResponseCode?v[e]=h.statusCode:_.push(e)}return _}}class x extends S{async serializeRequest(e,d,h){let m,g=this.serializer,w={},S={},x=await h.endpoint(),_=b.l1.of(e?.input),E=_.getSchema(),T=!1,k=new v.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:w,headers:S,body:void 0});if(x){this.updateServiceEndpoint(k,x),this.setHostPrefix(k,e,d);let h=b.l1.translateTraits(e.traits);if(h.http){k.method=h.http[0];let[e,d]=h.http[1].split("?");"/"==k.path?k.path=e:k.path+=e,Object.assign(w,Object.fromEntries(new URLSearchParams(d??"")))}}let C={...d};for(let e of Object.keys(C)){let d=_.getMemberSchema(e);if(void 0===d)continue;let h=d.getMergedTraits(),b=C[e];if(h.httpPayload)if(d.isStreaming()){if(d.isStructSchema())throw Error("serialization of event streams is not yet implemented");m=b}else g.write(d,b),m=g.flush();else if(h.httpLabel){g.write(d,b);let h=g.flush();k.path.includes(`{${e}+}`)?k.path=k.path.replace(`{${e}+}`,h.split("/").map(y).join("/")):k.path.includes(`{${e}}`)&&(k.path=k.path.replace(`{${e}}`,y(h))),delete C[e]}else if(h.httpHeader)g.write(d,b),S[h.httpHeader.toLowerCase()]=String(g.flush()),delete C[e];else if("string"==typeof h.httpPrefixHeaders){for(let[e,m]of Object.entries(b)){let y=h.httpPrefixHeaders+e;g.write([d.getValueSchema(),{httpHeader:y}],m),S[y.toLowerCase()]=g.flush()}delete C[e]}else h.httpQuery||h.httpQueryParams?(this.serializeQuery(d,b,w),delete C[e]):T=!0}return T&&d&&(g.write(E,C),m=g.flush()),k.headers=S,k.query=w,k.body=m,k}serializeQuery(e,d,h){let m=this.serializer,g=e.getMergedTraits();if(g.httpQueryParams){for(let[m,y]of Object.entries(d))m in h||this.serializeQuery(b.l1.of([e.getValueSchema(),{...g,httpQuery:m,httpQueryParams:void 0}]),y,h);return}if(e.isListSchema()){let y=!!e.getMergedTraits().sparse,b=[];for(let h of d){m.write([e.getValueSchema(),g],h);let d=m.flush();(y||void 0!==d)&&b.push(d)}h[g.httpQuery]=b}else m.write([e,g],d),h[g.httpQuery]=m.flush()}async deserializeResponse(e,d,h){let m=this.deserializer,y=b.l1.of(e.output),v={};if(h.statusCode>=300){let y=await g(h.body,d);throw y.byteLength>0&&Object.assign(v,await m.read(b.yx.DOCUMENT,y)),await this.handleError(e,d,h,v,this.deserializeMetadata(h)),Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let e in h.headers){let d=h.headers[e];delete h.headers[e],h.headers[e.toLowerCase()]=d}let w=new Set(Object.values(y.getMemberSchemas()).map(e=>e.getMergedTraits().httpHeader).filter(Boolean)),S=await this.deserializeHttpMessage(y,d,h,w,v);if(S.length){let e=await g(h.body,d);if(e.byteLength>0){let d=await m.read(y,e);for(let e of S)v[e]=d[e]}}return{$metadata:this.deserializeMetadata(h),...v}}}class _ extends S{async serializeRequest(e,d,h){let m,g=this.serializer,y={},w={},S=await h.endpoint(),x=b.l1.of(e?.input).getSchema(),_=new v.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:y,headers:w,body:void 0});S&&(this.updateServiceEndpoint(_,S),this.setHostPrefix(_,e,d));let E={...d};return d&&(g.write(x,E),m=g.flush()),_.headers=w,_.query=y,_.body=m,_.method="POST",_}async deserializeResponse(e,d,h){let m=this.deserializer,y=b.l1.of(e.output),v={};if(h.statusCode>=300){let y=await g(h.body,d);throw y.byteLength>0&&Object.assign(v,await m.read(b.yx.DOCUMENT,y)),await this.handleError(e,d,h,v,this.deserializeMetadata(h)),Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let e in h.headers){let d=h.headers[e];delete h.headers[e],h.headers[e.toLowerCase()]=d}let w=await g(h.body,d);return w.byteLength>0&&Object.assign(v,await m.read(y,w)),{$metadata:this.deserializeMetadata(h),...v}}}let E=(e,d,h,m,g,b)=>{if(null!=d&&void 0!==d[h]){let d=m();if(d.length<=0)throw Error("Empty value provided for input HTTP label: "+h+".");e=e.replace(g,b?d.split("/").map(e=>y(e)).join("/"):y(d))}else throw Error("No value provided for input HTTP label: "+h+".");return e};function T(e,d){return new k(e,d)}class k{constructor(e,d){this.input=e,this.context=d,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:e,protocol:d="https",port:h,path:m}=await this.context.endpoint();for(let e of(this.path=m,this.resolvePathStack))e(this.path);return new v.HttpRequest({protocol:d,hostname:this.hostname||e,port:h,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(d=>{this.path=`${d?.endsWith("/")?d.slice(0,-1):d||""}`+e}),this}p(e,d,h,m){return this.resolvePathStack.push(g=>{this.path=E(g,this.input,e,d,h,m)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}var C=h(80621),P=h(69713);function O(e,d){if(d.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===b.yx.TIMESTAMP_DATE_TIME||e.getSchema()===b.yx.TIMESTAMP_HTTP_DATE||e.getSchema()===b.yx.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:h,httpPrefixHeaders:m,httpHeader:g,httpQuery:y}=e.getMergedTraits();return(d.httpBindings?"string"==typeof m||g?b.yx.TIMESTAMP_HTTP_DATE:y||h?b.yx.TIMESTAMP_DATE_TIME:void 0:void 0)??d.timestampFormat.default}class I{constructor(e){this.settings=e}setSerdeContext(e){this.serdeContext=e}read(e,d){let h=b.l1.of(e);if(h.isListSchema())return(0,w.splitHeader)(d).map(e=>this.read(h.getValueSchema(),e));if(h.isBlobSchema())return(this.serdeContext?.base64Decoder??C.fromBase64)(d);if(h.isTimestampSchema())switch(O(h,this.settings)){case b.yx.TIMESTAMP_DATE_TIME:return(0,w.parseRfc3339DateTimeWithOffset)(d);case b.yx.TIMESTAMP_HTTP_DATE:return(0,w.parseRfc7231DateTime)(d);case b.yx.TIMESTAMP_EPOCH_SECONDS:return(0,w.parseEpochTimestamp)(d);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",d),new Date(d)}if(h.isStringSchema()){let e=h.getMergedTraits().mediaType,m=d;if(e)return h.getMergedTraits().httpHeader&&(m=this.base64ToUtf8(m)),("application/json"===e||e.endsWith("+json"))&&(m=w.LazyJsonString.from(m)),m}switch(!0){case h.isNumericSchema():return Number(d);case h.isBigIntegerSchema():return BigInt(d);case h.isBigDecimalSchema():return new w.NumericValue(d,"bigDecimal");case h.isBooleanSchema():return"true"===String(d).toLowerCase()}return d}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??P.toUtf8)((this.serdeContext?.base64Decoder??C.fromBase64)(e))}}class R{constructor(e,d){this.codecDeserializer=e,this.stringDeserializer=new I(d)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,d){let h=b.l1.of(e),m=h.getMergedTraits(),g=this.serdeContext?.utf8Encoder??P.toUtf8;if(m.httpHeader||m.httpResponseCode)return this.stringDeserializer.read(h,g(d));if(m.httpPayload){if(h.isBlobSchema()){let e=this.serdeContext?.utf8Decoder??P.fromUtf8;return"string"==typeof d?e(d):d}else if(h.isStringSchema())return"byteLength"in d?g(d):d}return this.codecDeserializer.read(h,d)}}class D{constructor(e){this.settings=e,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(e){this.serdeContext=e}write(e,d){let h=b.l1.of(e);switch(typeof d){case"object":if(null===d){this.stringBuffer="null";return}if(h.isTimestampSchema()){if(!(d instanceof Date))throw Error(`@smithy/core/protocols - received non-Date value ${d} when schema expected Date in ${h.getName(!0)}`);switch(O(h,this.settings)){case b.yx.TIMESTAMP_DATE_TIME:this.stringBuffer=d.toISOString().replace(".000Z","Z");break;case b.yx.TIMESTAMP_HTTP_DATE:this.stringBuffer=(0,w.dateToUtcString)(d);break;case b.yx.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(d.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",d),this.stringBuffer=String(d.getTime()/1e3)}return}if(h.isBlobSchema()&&"byteLength"in d){this.stringBuffer=(this.serdeContext?.base64Encoder??C.toBase64)(d);return}if(h.isListSchema()&&Array.isArray(d)){let e="";for(let m of d){this.write([h.getValueSchema(),h.getMergedTraits()],m);let d=this.flush();""!==e&&(e+=", "),e+=h.getValueSchema().isTimestampSchema()?d:(0,w.quoteHeader)(d)}this.stringBuffer=e;return}this.stringBuffer=JSON.stringify(d,null,2);break;case"string":let m=h.getMergedTraits().mediaType,g=d;if(m&&(("application/json"===m||m.endsWith("+json"))&&(g=w.LazyJsonString.from(g)),h.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??C.toBase64)(g.toString());return}this.stringBuffer=d;break;default:this.stringBuffer=String(d)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}class L{constructor(e,d,h=new D(d)){this.codecSerializer=e,this.stringSerializer=h}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,d){let h=b.l1.of(e),m=h.getMergedTraits();if(m.httpHeader||m.httpLabel||m.httpQuery){this.stringSerializer.write(h,d),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(h,d)}flush(){if(void 0!==this.buffer){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}},57649:e=>{"use strict";e.exports=(e,d)=>{if(!e.meta||"escape"===e.name){if(e.ctrl){if("a"===e.name)return"first";if("c"===e.name||"d"===e.name)return"abort";if("e"===e.name)return"last";if("g"===e.name)return"reset"}if(d){if("j"===e.name)return"down";if("k"===e.name)return"up"}return"return"===e.name||"enter"===e.name?"submit":"backspace"===e.name?"delete":"delete"===e.name?"deleteForward":"abort"===e.name?"abort":"escape"===e.name?"exit":"tab"===e.name?"next":"pagedown"===e.name?"nextPage":"pageup"===e.name?"prevPage":"home"===e.name?"home":"end"===e.name?"end":"up"===e.name?"up":"down"===e.name?"down":"right"===e.name?"right":"left"===e.name&&"left"}}},57650:(e,d,h)=>{"use strict";h.d(d,{X:()=>y});var m=h(74290),g=h(89554);class y extends g.L{constructor(e){super(`RichText field${(0,m.Z7)(e)?` "${e.name}"`:""} is missing the editor prop. For sub-richText fields, the editor props is required, as it would otherwise create infinite recursion.`)}}},58068:(e,d,h)=>{"use strict";h.d(d,{y:()=>m});let m=({headers:e,req:d})=>{let h=d?.payload.config.cors,m=d?.headers.get("Origin");if(h){let d=["Origin","X-Requested-With","Content-Type","Accept","Authorization","Content-Encoding","x-apollo-tracing"];e.set("Access-Control-Allow-Methods","PUT, PATCH, POST, GET, DELETE, OPTIONS"),"object"==typeof h&&"headers"in h?e.set("Access-Control-Allow-Headers",[...d,...h.headers].filter(Boolean).join(", ")):e.set("Access-Control-Allow-Headers",d.join(", ")),"*"===h||"object"==typeof h&&"origins"in h&&"*"===h.origins?e.set("Access-Control-Allow-Origin","*"):(Array.isArray(h)&&h.indexOf(m)>-1||!Array.isArray(h)&&"object"==typeof h&&"origins"in h&&h.origins.indexOf(m)>-1)&&(e.set("Access-Control-Allow-Credentials","true"),e.set("Access-Control-Allow-Origin",m))}return e}},58081:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.numToUint8=void 0,d.numToUint8=function(e){return new Uint8Array([(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e])}},58315:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(31934);d.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:d,it:h}){void 0===d.if&&(0,m.checkStrictMode)(h,`"${e}" without "if" is ignored`)}}},58675:e=>{"use strict";var d=e.exports=function(e,d,m){"function"==typeof d&&(m=d,d={});var g="function"==typeof(m=d.cb||m)?m:m.pre||function(){};h(d,g,m.post||function(){},e,"",e)};function h(e,g,y,b,v,w,S,x,_,E){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var T in g(b,v,w,S,x,_,E),b){var k=b[T];if(Array.isArray(k)){if(T in d.arrayKeywords)for(var C=0;C<k.length;C++)h(e,g,y,k[C],v+"/"+T+"/"+C,w,v,T,b,C)}else if(T in d.propsKeywords){if(k&&"object"==typeof k)for(var P in k)h(e,g,y,k[P],v+"/"+T+"/"+m(P),w,v,T,b,P)}else(T in d.keywords||e.allKeys&&!(T in d.skipKeywords))&&h(e,g,y,k,v+"/"+T,w,v,T,b)}y(b,v,w,S,x,_,E)}}function m(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}d.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},d.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},d.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},d.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},58944:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934),y=h(62428);d.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:d}){let h="maxLength"===e?"more":"fewer";return(0,m.str)`must NOT have ${h} than ${d} characters`},params:({schemaCode:e})=>(0,m._)`{limit: ${e}}`},code(e){let{keyword:d,data:h,schemaCode:b,it:v}=e,w="maxLength"===d?m.operators.GT:m.operators.LT,S=!1===v.opts.unicode?(0,m._)`${h}.length`:(0,m._)`${(0,g.useFunc)(e.gen,y.default)}(${h})`;e.fail$data((0,m._)`${S} ${w} ${b}`)}}},59123:(e,d,h)=>{"use strict";h.d(d,{A:()=>y,g:()=>b});var m=h(12430),g=h(50035);let y=e=>(0,g.A)(e)||(0,m.R)(e),b=["KeyObject"];(globalThis.CryptoKey||m.A?.CryptoKey)&&b.push("CryptoKey")},59301:(e,d,h)=>{"use strict";let m=h(9430),g=h(63749),y=h(97489),b=h(24507);e.exports={err:m,errWithCause:g,mapHttpRequest:y.mapHttpRequest,mapHttpResponse:b.mapHttpResponse,req:y.reqSerializer,res:b.resSerializer,wrapErrorSerializer:function(e){return e===m?e:function(d){return e(m(d))}},wrapRequestSerializer:function(e){return e===y.reqSerializer?e:function(d){return e(y.reqSerializer(d))}},wrapResponseSerializer:function(e){return e===b.resSerializer?e:function(d){return e(b.resSerializer(d))}}}},59304:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(66125),y=h(38480),b=h(78540),v=h(31934);d.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:d}})=>e===g.DiscrError.Tag?`tag "${d}" must be string`:`value of tag "${d}" must be in oneOf`,params:({params:{discrError:e,tag:d,tagName:h}})=>(0,m._)`{error: ${e}, tag: ${h}, tagValue: ${d}}`},code(e){let{gen:d,data:h,schema:w,parentSchema:S,it:x}=e,{oneOf:_}=S;if(!x.opts.discriminator)throw Error("discriminator: requires discriminator option");let E=w.propertyName;if("string"!=typeof E)throw Error("discriminator: requires propertyName");if(w.mapping)throw Error("discriminator: mapping is not supported");if(!_)throw Error("discriminator: requires oneOf keyword");let T=d.let("valid",!1),k=d.const("tag",(0,m._)`${h}${(0,m.getProperty)(E)}`);function C(){let h=O();for(let e in d.if(!1),h)d.elseIf((0,m._)`${k} === ${e}`),d.assign(T,P(h[e]));d.else(),e.error(!1,{discrError:g.DiscrError.Mapping,tag:k,tagName:E}),d.endIf()}function P(h){let g=d.name("valid"),y=e.subschema({keyword:"oneOf",schemaProp:h},g);return e.mergeEvaluated(y,m.Name),g}function O(){var e;let d={},h=g(S),m=!0;for(let d=0;d<_.length;d++){let S=_[d];if((null==S?void 0:S.$ref)&&!(0,v.schemaHasRulesButRef)(S,x.self.RULES)){let e=S.$ref;if((S=y.resolveRef.call(x.self,x.schemaEnv.root,x.baseId,e))instanceof y.SchemaEnv&&(S=S.schema),void 0===S)throw new b.default(x.opts.uriResolver,x.baseId,e)}let T=null==(e=null==S?void 0:S.properties)?void 0:e[E];if("object"!=typeof T)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${E}"`);m=m&&(h||g(S)),w(T,d)}if(!m)throw Error(`discriminator: "${E}" must be required`);return d;function g({required:e}){return Array.isArray(e)&&e.includes(E)}function w(e,d){if(e.const)T(e.const,d);else if(e.enum)for(let h of e.enum)T(h,d);else throw Error(`discriminator: "properties/${E}" must have "const" or "enum"`)}function T(e,h){if("string"!=typeof e||e in d)throw Error(`discriminator: "${E}" values must be unique strings`);d[e]=h}}d.if((0,m._)`typeof ${k} == "string"`,()=>C(),()=>e.error(!1,{discrError:g.DiscrError.Tag,tag:k,tagName:E})),e.ok(T)}}},59323:(e,d,h)=>{"use strict";d.URL=h(95498).interface,h(68250).serializeURL,h(68250).serializeURLOrigin,h(68250).basicURLParse,h(68250).setTheUsername,h(68250).setThePassword,h(68250).serializeHost,h(68250).serializeInteger,h(68250).parseURL},59412:(e,d,h)=>{"use strict";h.d(d,{V:()=>v});var m=h(15060),g=h(69713),y=h(79428),b=h(55511);class v{constructor(e,d){this.algorithmIdentifier=e,this.secret=d,this.reset()}update(e,d){this.hash.update((0,g.toUint8Array)(w(e,d)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,b.createHmac)(this.algorithmIdentifier,w(this.secret)):(0,b.createHash)(this.algorithmIdentifier)}}function w(e,d){return y.Buffer.isBuffer(e)?e:"string"==typeof e?(0,m.fromString)(e,d):ArrayBuffer.isView(e)?(0,m.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,m.fromArrayBuffer)(e)}},59581:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=m.operators,y={maximum:{okStr:"<=",ok:g.LTE,fail:g.GT},minimum:{okStr:">=",ok:g.GTE,fail:g.LT},exclusiveMaximum:{okStr:"<",ok:g.LT,fail:g.GTE},exclusiveMinimum:{okStr:">",ok:g.GT,fail:g.LTE}},b={message:({keyword:e,schemaCode:d})=>(0,m.str)`must be ${y[e].okStr} ${d}`,params:({keyword:e,schemaCode:d})=>(0,m._)`{comparison: ${y[e].okStr}, limit: ${d}}`};d.default={keyword:Object.keys(y),type:"number",schemaType:"number",$data:!0,error:b,code(e){let{keyword:d,data:h,schemaCode:g}=e;e.fail$data((0,m._)`${h} ${y[d].fail} ${g} || isNaN(${h})`)}}},59587:(e,d,h)=>{"use strict";h.d(d,{a:()=>y});var m=h(553),g=h(59783);let y=async({id:e,config:d,payload:h,published:y,query:b,req:v})=>{let w,S=y?{and:[{parent:{equals:e}},{"version._status":{equals:"published"}}]}:{and:[{parent:{equals:e}},{latest:{equals:!0}}]};if(d.versions?.drafts){let{docs:e}=await h.db.findVersions({collection:d.slug,limit:1,pagination:!1,req:v,sort:"-updatedAt",where:(0,m.m)((0,g.D)(b.where),S)});[w]=e}return w?(w.version.id=e,w.version):y?void 0:await h.db.findOne({...b,req:v})}},59621:(e,d,h)=>{"use strict";h.d(d,{m:()=>b});var m=h(57650),g=h(86292),y=h(74290);let b=({config:e,fields:d,i18n:h,parentIndexPath:v,parentSchemaPath:w,schemaMap:S})=>{for(let[x,_]of d.entries()){let{indexPath:d,schemaPath:E}=(0,g.Z)({field:_,index:x,parentIndexPath:"name"in _?"":v,parentPath:"",parentSchemaPath:w});switch(S.set(E,_),_.type){case"array":b({config:e,fields:_.fields,i18n:h,parentIndexPath:"",parentSchemaPath:E,schemaMap:S});break;case"blocks":(_.blockReferences??_.blocks).map(d=>{let m="string"==typeof d?e.blocks.find(e=>e.slug===d):d,g=`${E}.${m.slug}`;S.set(g,m),b({config:e,fields:m.fields,i18n:h,parentIndexPath:"",parentSchemaPath:g,schemaMap:S})});break;case"collapsible":case"row":b({config:e,fields:_.fields,i18n:h,parentIndexPath:d,parentSchemaPath:w,schemaMap:S});break;case"group":(0,y.Z7)(_)?b({config:e,fields:_.fields,i18n:h,parentIndexPath:"",parentSchemaPath:E,schemaMap:S}):b({config:e,fields:_.fields,i18n:h,parentIndexPath:d,parentSchemaPath:w,schemaMap:S});break;case"richText":if(!_?.editor)throw new m.X(_);if("function"==typeof _.editor)throw Error("Attempted to access unsanitized rich text editor.");"function"==typeof _.editor.generateSchemaMap&&_.editor.generateSchemaMap({config:e,field:_,i18n:h,schemaMap:S,schemaPath:E});break;case"tabs":_.tabs.map((m,v)=>{let x=(0,y.pz)(m),{indexPath:_,schemaPath:E}=(0,g.Z)({field:{...m,type:"tab"},index:v,parentIndexPath:d,parentPath:"",parentSchemaPath:w});S.set(E,m),b({config:e,fields:m.fields,i18n:h,parentIndexPath:x?"":_,parentSchemaPath:x?E:w,schemaMap:S})})}}}},59783:(e,d,h)=>{"use strict";h.d(d,{D:()=>m});let m=(e={})=>Object.entries(e).reduce((e,[d,h])=>["AND","and","OR","or"].includes(d)&&Array.isArray(h)?{...e,[d.toLowerCase()]:h.map(e=>m(e))}:"id"!==d?{...e,[`version.${d}`]:h}:{...e,parent:h},{})},59792:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046);d.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,m.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,m._)`{format: ${e}}`},code(e,d){let{gen:h,data:g,$data:y,schema:b,schemaCode:v,it:w}=e,{opts:S,errSchemaPath:x,schemaEnv:_,self:E}=w;function T(){let y=h.scopeValue("formats",{ref:E.formats,code:S.code.formats}),b=h.const("fDef",(0,m._)`${y}[${v}]`),w=h.let("fType"),x=h.let("format");function T(){return!1===S.strictSchema?m.nil:(0,m._)`${v} && !${x}`}function k(){let e=_.$async?(0,m._)`(${b}.async ? await ${x}(${g}) : ${x}(${g}))`:(0,m._)`${x}(${g})`,h=(0,m._)`(typeof ${x} == "function" ? ${e} : ${x}.test(${g}))`;return(0,m._)`${x} && ${x} !== true && ${w} === ${d} && !${h}`}h.if((0,m._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>h.assign(w,(0,m._)`${b}.type || "string"`).assign(x,(0,m._)`${b}.validate`),()=>h.assign(w,(0,m._)`"string"`).assign(x,b)),e.fail$data((0,m.or)(T(),k()))}function k(){let y=E.formats[b];if(!y)return void k();if(!0===y)return;let[v,w,T]=C(y);function k(){if(!1===S.strictSchema)return void E.logger.warn(e());throw Error(e());function e(){return`unknown format "${b}" ignored in schema at path "${x}"`}}function C(e){let d=e instanceof RegExp?(0,m.regexpCode)(e):S.code.formats?(0,m._)`${S.code.formats}${(0,m.getProperty)(b)}`:void 0,g=h.scopeValue("formats",{key:b,ref:e,code:d});return"object"!=typeof e||e instanceof RegExp?["string",e,g]:[e.type||"string",e.validate,(0,m._)`${g}.validate`]}function P(){if("object"==typeof y&&!(y instanceof RegExp)&&y.async){if(!_.$async)throw Error("async format in sync schema");return(0,m._)`await ${T}(${g})`}return"function"==typeof w?(0,m._)`${T}(${g})`:(0,m._)`${T}.test(${g})`}v===d&&e.pass(P())}S.validateFormats&&(y?T():k())}}},59812:e=>{"use strict";e.exports=function e(e){return e?"string"==typeof e?e.split(",").reduce((e,d,h)=>{let[m,g=h]=d.split(":");return e[g]=m.toUpperCase(),e},{default:"USERLVL"}):"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((d,h)=>(d[e[h]]=h.toUpperCase(),d),{default:"USERLVL"}):{}:{}}},59873:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DEFAULT_COLOR_MAP=void 0,d.DEFAULT_COLOR_MAP={red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m",cyan:"\x1b[36m",white:"\x1b[37m",white_bold:"\x1b[01m",reset:"\x1b[0m"};class h{constructor(e=d.DEFAULT_COLOR_MAP){this.text="",this.colorMap=e}addCharsWithColor(e,d){let h=this.colorMap[e];this.text+=void 0!==h?`${h}${d}${this.colorMap.reset}`:d}renderConsole(){return this.text}}d.default=h},60150:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.preProcessRows=d.preProcessColumns=void 0;let m=h(49348),g=e=>{e.computedColumns.length&&e.computedColumns.forEach(d=>{e.addColumn(d),e.rows.forEach(e=>{e.text[d.name]=d.function(e.text)})})},y=e=>{e.enabledColumns.length&&(e.columns=e.columns.filter(d=>e.enabledColumns.includes(d.name)))},b=e=>{e.disabledColumns.length&&(e.columns=e.columns.filter(d=>!e.disabledColumns.includes(d.name)))},v=e=>{e.columns.forEach(d=>{d.length=(0,m.findLenOfColumn)(d,e.rows,e.charLength)})};d.preProcessColumns=e=>{g(e),b(e),y(e),v(e)},d.preProcessRows=e=>{let d=e.rows.filter(d=>e.filterFunction(d.text)).sort((d,h)=>e.sortFunction(d.text,h.text));e.rows=d}},60172:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(59873),g=h(32152),y=h(49348),b=h(77507),v=h(73413),w=()=>0,S=()=>!0;class x{initSimple(e){this.columns=e.map(e=>({name:e,title:e,alignment:g.DEFAULT_ROW_ALIGNMENT}))}initDetailed(e){var d;this.title=(null==e?void 0:e.title)||this.title,this.tableStyle=(null==e?void 0:e.style)||this.tableStyle,this.sortFunction=(null==e?void 0:e.sort)||this.sortFunction,this.filterFunction=(null==e?void 0:e.filter)||this.filterFunction,this.enabledColumns=(null==e?void 0:e.enabledColumns)||this.enabledColumns,this.disabledColumns=(null==e?void 0:e.disabledColumns)||this.disabledColumns,this.computedColumns=(null==e?void 0:e.computedColumns)||this.computedColumns,this.columns=(null==(d=null==e?void 0:e.columns)?void 0:d.map(b.rawColumnToInternalColumn))||this.columns,this.rowSeparator=(null==e?void 0:e.rowSeparator)||this.rowSeparator,this.charLength=(null==e?void 0:e.charLength)||this.charLength,(null==e?void 0:e.shouldDisableColors)?this.colorMap={}:(null==e?void 0:e.colorMap)&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),e.colorMap)),void 0!==e.rows&&this.addRows(e.rows)}constructor(e){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=g.DEFAULT_TABLE_STYLE,this.filterFunction=S,this.sortFunction=w,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=g.DEFAULT_ROW_SEPARATOR,this.colorMap=m.DEFAULT_COLOR_MAP,this.charLength={},e instanceof Array?this.initSimple(e):"object"==typeof e&&this.initDetailed(e)}createColumnFromRow(e){let d=this.columns.map(e=>e.name);Object.keys(e).forEach(e=>{d.includes(e)||this.columns.push((0,y.createColumFromOnlyName)(e))})}addColumn(e){"string"==typeof e?this.columns.push((0,y.createColumFromOnlyName)(e)):this.columns.push((0,y.createColumFromComputedColumn)(e))}addColumns(e){e.forEach(e=>{this.addColumn(e)})}addRow(e,d){this.createColumnFromRow(e),this.rows.push((0,y.createRow)((null==d?void 0:d.color)||g.DEFAULT_ROW_FONT_COLOR,e,(null==d?void 0:d.separator)!==void 0?null==d?void 0:d.separator:this.rowSeparator))}addRows(e,d){e.forEach(e=>{this.addRow(e,d)})}renderTable(){return(0,v.renderTable)(this)}}d.default=x},60298:(e,d,h)=>{"use strict";let{tokenChars:m}=h(54640);function g(e,d,h){void 0===e[d]?e[d]=[h]:e[d].push(h)}e.exports={format:function(e){return Object.keys(e).map(d=>{let h=e[d];return Array.isArray(h)||(h=[h]),h.map(e=>[d].concat(Object.keys(e).map(d=>{let h=e[d];return Array.isArray(h)||(h=[h]),h.map(e=>!0===e?d:`${d}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let d,h,y=Object.create(null),b=Object.create(null),v=!1,w=!1,S=!1,x=-1,_=-1,E=-1,T=0;for(;T<e.length;T++)if(_=e.charCodeAt(T),void 0===d)if(-1===E&&1===m[_])-1===x&&(x=T);else if(0!==T&&(32===_||9===_))-1===E&&-1!==x&&(E=T);else if(59===_||44===_){if(-1===x)throw SyntaxError(`Unexpected character at index ${T}`);-1===E&&(E=T);let h=e.slice(x,E);44===_?(g(y,h,b),b=Object.create(null)):d=h,x=E=-1}else throw SyntaxError(`Unexpected character at index ${T}`);else if(void 0===h)if(-1===E&&1===m[_])-1===x&&(x=T);else if(32===_||9===_)-1===E&&-1!==x&&(E=T);else if(59===_||44===_){if(-1===x)throw SyntaxError(`Unexpected character at index ${T}`);-1===E&&(E=T),g(b,e.slice(x,E),!0),44===_&&(g(y,d,b),b=Object.create(null),d=void 0),x=E=-1}else if(61===_&&-1!==x&&-1===E)h=e.slice(x,T),x=E=-1;else throw SyntaxError(`Unexpected character at index ${T}`);else if(w){if(1!==m[_])throw SyntaxError(`Unexpected character at index ${T}`);-1===x?x=T:v||(v=!0),w=!1}else if(S)if(1===m[_])-1===x&&(x=T);else if(34===_&&-1!==x)S=!1,E=T;else if(92===_)w=!0;else throw SyntaxError(`Unexpected character at index ${T}`);else if(34===_&&61===e.charCodeAt(T-1))S=!0;else if(-1===E&&1===m[_])-1===x&&(x=T);else if(-1!==x&&(32===_||9===_))-1===E&&(E=T);else if(59===_||44===_){if(-1===x)throw SyntaxError(`Unexpected character at index ${T}`);-1===E&&(E=T);let m=e.slice(x,E);v&&(m=m.replace(/\\/g,""),v=!1),g(b,h,m),44===_&&(g(y,d,b),b=Object.create(null),d=void 0),h=void 0,x=E=-1}else throw SyntaxError(`Unexpected character at index ${T}`);if(-1===x||S||32===_||9===_)throw SyntaxError("Unexpected end of input");-1===E&&(E=T);let k=e.slice(x,E);return void 0===d?g(y,k,b):(void 0===h?g(b,k,!0):v?g(b,h,k.replace(/\\/g,"")):g(b,h,k),g(y,d,b)),y}}},60411:e=>{"use strict";e.exports=function e(e){let{secret:d,censor:h,compileRestore:m,serialize:g,groupRedact:y,nestedRedact:b,wildcards:v,wcLen:w}=e,S=[{secret:d,censor:h,compileRestore:m}];return!1!==g&&S.push({serialize:g}),w>0&&S.push({groupRedact:y,nestedRedact:b,wildcards:v,wcLen:w}),Object.assign(...S)}},60444:(e,d,h)=>{"use strict";function m(e){let d={};if(e=e.replace(/^\?/,""))for(let h of e.split("&")){let[e,m=null]=h.split("=");e=decodeURIComponent(e),m&&(m=decodeURIComponent(m)),e in d?Array.isArray(d[e])?d[e].push(m):d[e]=[d[e],m]:d[e]=m}return d}h.r(d),h.d(d,{parseQueryString:()=>m})},60646:(e,d,h)=>{"use strict";let m=h(4984),{action:g}=h(31347),y=h(94735),{beep:b,cursor:v}=h(41893),w=h(52838);class S extends y{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>void 0)).bind(this);let d=m.createInterface({input:this.in,escapeCodeTimeout:50});m.emitKeypressEvents(this.in,d),this.in.isTTY&&this.in.setRawMode(!0);let h=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,y=(e,d)=>{let m=g(d,h);!1===m?this._&&this._(e,d):"function"==typeof this[m]?this[m](d):this.bell()};this.close=()=>{this.out.write(v.show),this.in.removeListener("keypress",y),this.in.isTTY&&this.in.setRawMode(!1),d.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",y)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(b)}render(){this.onRender(w),this.firstRender&&(this.firstRender=!1)}}e.exports=S},60723:(e,d,h)=>{"use strict";e.exports={buildSafeSonicBoom:h(88838),createDate:h(88264),deleteLogProperty:h(21653),filterLog:h(93818),formatTime:h(67524),getPropertyValue:h(96481),handleCustomLevelsNamesOpts:h(41531),handleCustomLevelsOpts:h(59812),interpretConditionals:h(90386),isObject:h(26355),isValidDate:h(813),joinLinesWithIndentation:h(22476),noop:h(80935),parseFactoryOptions:h(52068),prettifyErrorLog:h(4858),prettifyError:h(9913),prettifyLevel:h(26289),prettifyMessage:h(99564),prettifyMetadata:h(38130),prettifyObject:h(26396),prettifyTime:h(918),splitPropertyKey:h(36271),getLevelLabelData:h(82952)}},61081:(e,d,h)=>{"use strict";h.d(d,{Y:()=>rh});var m=h(4197),g=h(79748),y=h(67018),b=h(19131),v=h(13062),w=h(89554);class S extends w.L{constructor(e,d){let h=e?e("error:problemUploadingFile"):"There was a problem while retrieving the file.";d&&(h+=` ${d}`),super(h,v.h.INTERNAL_SERVER_ERROR)}}var x=h(31303);class _ extends w.L{constructor(e){super(e?e("error:noFilesUploaded"):x.en.translations.error.noFilesUploaded,v.h.BAD_REQUEST)}}var E=h(13589);function T(e){return["image/jpeg","image/png","image/gif","image/webp","image/tiff","image/avif"].indexOf(e)>-1}async function k({req:e,sharpFile:d,withMetadata:h}){let m=await d.metadata();return!0===h||"function"==typeof h&&await h({metadata:m,req:e})?d.withMetadata():d}let C=(e,d)=>Math.floor(parseFloat(e)/100*d);async function P({cropData:e,dimensions:d,file:h,heightInPixels:m,req:g,sharp:y,widthInPixels:b,withMetadata:v}){try{let{x:w,y:S}=e,x=["image/avif","image/gif","image/webp"].includes(h.mimetype),_={};x&&(_.animated=!0);let{height:E,width:T}=d,P=Number(b),O=Number(m);if(T===P&&E===O){let e=E;if(x){let d=await y(h.tempFilePath||h.data,_).metadata();e=d.pages?d.height:E}return{data:h.data,info:{height:e,size:h.size,width:T}}}let I={height:Number(m),left:C(w,d.width),top:C(S,d.height),width:Number(b)},R=y(h.tempFilePath||h.data,_).extract(I);return R=await k({req:g,sharpFile:R,withMetadata:v}),await R.toBuffer({resolveWithObject:!0})}catch(e){throw console.error("Error cropping image:",e),e}}let O=async({data:e,req:d,uploadConfig:h})=>{let{filename:m,url:g}=e;if("string"==typeof g){let e=g;if(!g.startsWith("http")){let h=d.headers.get("origin")||`${d.protocol}://${d.headers.get("host")}`;e=`${h}${g}`}let y=h.externalFileHeaderFilter?h.externalFileHeaderFilter(Object.fromEntries(new Headers(d.headers))):{cookie:d.headers?.get("cookie")},b=await fetch(e,{credentials:"include",headers:y,method:"GET"});if(!b.ok)throw new w.L(`Failed to fetch file from ${e}`,b.status);let v=await b.arrayBuffer();return{name:m,data:Buffer.from(v),mimetype:b.headers.get("content-type")||void 0,size:Number(b.headers.get("content-length"))||0}}throw new w.L("Invalid file url",400)};var I=h(28205),R=new TextDecoder,D=(e,d=0,h=e.length)=>R.decode(e.slice(d,h)),L=(e,d=0,h=e.length)=>e.slice(d,h).reduce((e,d)=>e+`0${d.toString(16)}`.slice(-2),""),$=(e,d)=>new DataView(e.buffer,e.byteOffset+d),M=(e,d=0)=>$(e,d).getInt16(0,!0),B=(e,d=0)=>$(e,d).getUint16(0,!1),j=(e,d=0)=>$(e,d).getUint16(0,!0),U=(e,d=0)=>{let h=$(e,d);return h.getUint16(0,!0)+(h.getUint8(2)<<16)},F=(e,d=0)=>$(e,d).getInt32(0,!0),z=(e,d=0)=>$(e,d).getUint32(0,!1),q=(e,d=0)=>$(e,d).getUint32(0,!0),V=(e,d,h)=>$(e,d).getBigUint64(0,!h),H={readUInt16BE:B,readUInt16LE:j,readUInt32BE:z,readUInt32LE:q};function K(e,d,h=0,m=!1){let g=m?"BE":"LE";return H[`readUInt${d}${g}`](e,h)}function G(e,d){if(e.length-d<4)return;let h=z(e,d);if(!(e.length-d<h))return{name:D(e,4+d,8+d),offset:d,size:h}}function W(e,d,h){for(;h<e.length;){let m=G(e,h);if(!m)break;if(m.name===d)return m;h+=m.size>0?m.size:8}}var J={validate:e=>"BM"===D(e,0,2),calculate:e=>({height:Math.abs(F(e,22)),width:q(e,18)})},Q=1,Y=6,X=16;function Z(e,d){let h=e[d];return 0===h?256:h}function ee(e,d){let h=Y+d*X;return{height:Z(e,h+1),width:Z(e,h)}}var et={validate(e){let d=j(e,0),h=j(e,4);return 0===d&&0!==h&&j(e,2)===Q},calculate(e){let d=j(e,4),h=ee(e,0);if(1===d)return h;let m=[];for(let h=0;h<d;h+=1)m.push(ee(e,h));return{width:h.width,height:h.height,images:m}}},ei=2,er={validate(e){let d=j(e,0),h=j(e,4);return 0===d&&0!==h&&j(e,2)===ei},calculate:e=>et.calculate(e)},ea={validate:e=>0x20534444===q(e,0),calculate:e=>({height:q(e,12),width:q(e,16)})},en=/^GIF8[79]a/,es={validate:e=>en.test(D(e,0,6)),calculate:e=>({height:j(e,8),width:j(e,6)})},eo={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},el={validate(e){if("ftyp"!==D(e,4,8))return!1;let d=W(e,"ftyp",0);return!!d&&D(e,d.offset+8,d.offset+12)in eo},calculate(e){let d=W(e,"meta",0),h=d&&W(e,"iprp",d.offset+12),m=h&&W(e,"ipco",h.offset+8);if(!m)throw TypeError("Invalid HEIF, no ipco box found");let g=D(e,8,12),y=[],b=m.offset+8;for(;b<m.offset+m.size;){let d=W(e,"ispe",b);if(!d)break;let h=z(e,d.offset+12),g=z(e,d.offset+16),v=W(e,"clap",b),w=h,S=g;v&&v.offset<m.offset+m.size&&(w=h-z(e,v.offset+12)),y.push({height:S,width:w}),b=d.offset+d.size}if(0===y.length)throw TypeError("Invalid HEIF, no sizes found");return{width:y[0].width,height:y[0].height,type:g,...y.length>1?{images:y}:{}}}},ed=8,ec=4,ep=4,eu={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function eh(e,d){let h=d+ep;return[D(e,d,h),z(e,h)]}function em(e){let d=eu[e];return{width:d,height:d,type:e}}var ef={validate:e=>"icns"===D(e,0,4),calculate(e){let d=e.length,h=z(e,ec),m=ed,g=[];for(;m<h&&m<d;){let d=eh(e,m),h=em(d[0]);g.push(h),m+=d[1]}if(0===g.length)throw TypeError("Invalid ICNS, no sizes found");return{width:g[0].width,height:g[0].height,...g.length>1?{images:g}:{}}}},eg={validate:e=>0xff4fff51===z(e,0),calculate:e=>({height:z(e,12),width:z(e,8)})},ey={validate(e){if("jP  "!==D(e,4,8))return!1;let d=W(e,"ftyp",0);return!!d&&"jp2 "===D(e,d.offset+8,d.offset+12)},calculate(e){let d=W(e,"jp2h",0),h=d&&W(e,"ihdr",d.offset+8);if(h)return{height:z(e,h.offset+8),width:z(e,h.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},eb="45786966",ev=2,ew=6,eS=2,ex="4d4d",e_="4949",eE=12,eT=2;function ek(e){return L(e,2,6)===eb}function eC(e,d){return{height:B(e,d),width:B(e,d+2)}}function eA(e,d){let h=ew+8,m=K(e,16,h,d);for(let g=0;g<m;g++){let m=h+eT+g*eE,y=m+eE;if(m>e.length)return;let b=e.slice(m,y);if(274===K(b,16,0,d)){if(3!==K(b,16,2,d)||1!==K(b,32,4,d))return;return K(b,16,8,d)}}}function eP(e,d){let h=e.slice(ev,d),m=L(h,ew,ew+eS),g=m===ex,y=m===e_;if(g||y)return eA(h,g)}function eN(e,d){if(d>e.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var eO={validate:e=>"ffd8"===L(e,0,2),calculate(e){let d,h,m=e.slice(4);for(;m.length;){let e=B(m,0);if(eN(m,e),255!==m[e]){m=m.slice(1);continue}if(ek(m)&&(d=eP(m,e)),192===(h=m[e+1])||193===h||194===h){let h=eC(m,e+5);if(!d)return h;return{height:h.height,orientation:d,width:h.width}}m=m.slice(e+2)}throw TypeError("Invalid JPG, no size found")}},eI=class{constructor(e,d){this.input=e,this.endianness=d,this.byteOffset=2,this.bitOffset=0}getBits(e=1){let d=0,h=0;for(;h<e;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let m=this.input[this.byteOffset],g=Math.min(e-h,8-this.bitOffset);if("little-endian"===this.endianness){let e=(1<<g)-1;d|=(m>>this.bitOffset&e)<<h}else{let e=(m&(1<<g)-1<<8-this.bitOffset-g)>>8-this.bitOffset-g;d=d<<g|e}h+=g,this.bitOffset+=g,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return d}};function eR(e,d){if(d)return 8*(1+e.getBits(5));let h=[9,13,18,30][e.getBits(2)];return 1+e.getBits(h)}function eD(e,d,h,m){return d&&0===h?8*(1+e.getBits(5)):0===h?eR(e,!1):Math.floor(m*[1,1.2,4/3,1.5,16/9,5/4,2][h-1])}var eL={validate:e=>"ff0a"===L(e,0,2),calculate(e){let d=new eI(e,"little-endian"),h=1===d.getBits(1),m=eR(d,h),g=d.getBits(3);return{width:eD(d,h,g,m),height:m}}};function e$(e){let d=W(e,"jxlc",0);if(d)return e.slice(d.offset+8,d.offset+d.size);let h=eM(e);if(h.length>0)return eB(h)}function eM(e){let d=[],h=0;for(;h<e.length;){let m=W(e,"jxlp",h);if(!m)break;d.push(e.slice(m.offset+12,m.offset+m.size)),h=m.offset+m.size}return d}function eB(e){let d=new Uint8Array(e.reduce((e,d)=>e+d.length,0)),h=0;for(let m of e)d.set(m,h),h+=m.length;return d}var ej={validate:e=>{if("JXL "!==D(e,4,8))return!1;let d=W(e,"ftyp",0);return!!d&&"jxl "===D(e,d.offset+8,d.offset+12)},calculate(e){let d=e$(e);if(d)return eL.calculate(d);throw Error("No codestream found in JXL container")}},eU={validate:e=>["KTX 11","KTX 20"].includes(D(e,1,7)),calculate:e=>{let d=49===e[5]?"ktx":"ktx2",h="ktx"===d?36:20;return{height:q(e,h+4),width:q(e,h),type:d}}},eF="PNG\r\n\x1a\n",ez="IHDR",eq="CgBI",eV={validate(e){if(eF===D(e,1,8)){let d=D(e,12,16);if(d===eq&&(d=D(e,28,32)),d!==ez)throw TypeError("Invalid PNG");return!0}return!1},calculate:e=>D(e,12,16)===eq?{height:z(e,36),width:z(e,32)}:{height:z(e,20),width:z(e,16)}},eH={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},eK={default:e=>{let d=[];for(;e.length>0;){let h=e.shift();if("#"!==h[0]){d=h.split(" ");break}}if(2===d.length)return{height:Number.parseInt(d[1],10),width:Number.parseInt(d[0],10)};throw TypeError("Invalid PNM")},pam:e=>{let d={};for(;e.length>0;){let h=e.shift();if(h.length>16||h.charCodeAt(0)>128)continue;let[m,g]=h.split(" ");if(m&&g&&(d[m.toLowerCase()]=Number.parseInt(g,10)),d.height&&d.width)break}if(d.height&&d.width)return{height:d.height,width:d.width};throw TypeError("Invalid PAM")}},eG={validate:e=>D(e,0,2)in eH,calculate(e){let d=eH[D(e,0,2)],h=D(e,3).split(/[\r\n]+/);return(eK[d]||eK.default)(h)}},eW={validate:e=>"8BPS"===D(e,0,4),calculate:e=>({height:z(e,14),width:z(e,18)})},eJ=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,eQ={height:/\sheight=(['"])([^%]+?)\1/,root:eJ,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},eY={in:96,cm:37.79527559055118,em:16,ex:8,m:37.79527559055118*100,mm:37.79527559055118/10,pc:96/72/12,pt:96/72,px:1},eX=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(eY).join("|")})?$`);function eZ(e){let d=eX.exec(e);if(d)return Math.round(Number(d[1])*(eY[d[2]]||1))}function e1(e){let d=e.split(" ");return{height:eZ(d[3]),width:eZ(d[2])}}function e0(e){let d=e.match(eQ.width),h=e.match(eQ.height),m=e.match(eQ.viewbox);return{height:h&&eZ(h[2]),viewbox:m&&e1(m[2]),width:d&&eZ(d[2])}}function e2(e){return{height:e.height,width:e.width}}function e4(e,d){let h=d.width/d.height;return e.width?{height:Math.floor(e.width/h),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*h)}:{height:d.height,width:d.width}}var e6={validate:e=>eJ.test(D(e,0,1e3)),calculate(e){let d=D(e).match(eQ.root);if(d){let e=e0(d[0]);if(e.width&&e.height)return e2(e);if(e.viewbox)return e4(e,e.viewbox)}throw TypeError("Invalid SVG")}},e3={validate:e=>0===j(e,0)&&0===j(e,4),calculate:e=>({height:j(e,14),width:j(e,12)})},e5={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function e8(e,{isBigEndian:d,isBigTiff:h}){let m=h?Number(V(e,8,d)):K(e,32,4,d),g=h?e5.COUNT_SIZE.BIG:e5.COUNT_SIZE.STANDARD;return e.slice(m+g)}function e9(e,d,h,m){switch(d){case e5.TYPE.SHORT:return K(e,16,h,m);case e5.TYPE.LONG:return K(e,32,h,m);case e5.TYPE.LONG8:{let d=Number(V(e,h,m));if(d>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return d}default:return 0}}function e7(e,d){let h=d?e5.ENTRY_SIZE.BIG:e5.ENTRY_SIZE.STANDARD;if(e.length>h)return e.slice(h)}function te(e,{isBigEndian:d,isBigTiff:h}){let m={},g=e;for(;g?.length;){let e=K(g,16,0,d),y=K(g,16,2,d),b=h?Number(V(g,4,d)):K(g,32,4,d);if(0===e)break;if(1===b&&(y===e5.TYPE.SHORT||y===e5.TYPE.LONG||h&&y===e5.TYPE.LONG8)){let b=h?12:8;m[e]=e9(g,y,b,d)}g=e7(g,h)}return m}function tt(e){let d=D(e,0,2),h=K(e,16,2,"MM"===d);return{isBigEndian:"MM"===d,isBigTiff:43===h}}function ti(e,d){let h=K(e,16,4,d),m=K(e,16,6,d);if(8!==h||0!==m)throw TypeError("Invalid BigTIFF header")}var tr=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function ta(e){return{height:1+U(e,7),width:1+U(e,4)}}function tn(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}function ts(e){return{height:16383&M(e,8),width:16383&M(e,6)}}var to=new Map([["bmp",J],["cur",er],["dds",ea],["gif",es],["heif",el],["icns",ef],["ico",et],["j2c",eg],["jp2",ey],["jpg",eO],["jxl",ej],["jxl-stream",eL],["ktx",eU],["png",eV],["pnm",eG],["psd",eW],["svg",e6],["tga",e3],["tiff",{validate:e=>{let d=L(e,0,4);return tr.has(d)},calculate(e){let d=tt(e);d.isBigTiff&&ti(e,d.isBigEndian);let h=te(e8(e,d),d),m={height:h[e5.TAG.HEIGHT],width:h[e5.TAG.WIDTH],type:d.isBigTiff?"bigtiff":"tiff"};if(h[e5.TAG.COMPRESSION]&&(m.compression=h[e5.TAG.COMPRESSION]),!m.width||!m.height)throw TypeError("Invalid Tiff. Missing tags");return m}}],["webp",{validate(e){let d="RIFF"===D(e,0,4),h="WEBP"===D(e,8,12),m="VP8"===D(e,12,15);return d&&h&&m},calculate(e){let d=D(e,12,16),h=e.slice(20,30);if("VP8X"===d){let e=h[0],d=(192&e)==0,m=(1&e)==0;if(d&&m)return ta(h);throw TypeError("Invalid WebP")}if("VP8 "===d&&47!==h[0])return ts(h);let m=L(h,3,6);if("VP8L"===d&&"9d012a"!==m)return tn(h);throw TypeError("Invalid WebP")}}]]),tl=Array.from(to.keys()),td=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function tc(e){let d=e[0],h=td.get(d);return h&&to.get(h).validate(e)?h:tl.find(d=>to.get(d).validate(e))}var tp={disabledTypes:[]};function tu(e){let d=tc(e);if(void 0!==d){if(tp.disabledTypes.indexOf(d)>-1)throw TypeError(`disabled file type: ${d}`);let h=to.get(d).calculate(e);if(void 0!==h){if(h.type=h.type??d,h.images&&h.images.length>1){let e=h.images.reduce((e,d)=>d.width*d.height>e.width*e.height?d:e,h.images[0]);h.width=e.width,h.height=e.height}return h}}throw TypeError(`unsupported file type: ${d}`)}var th=h(73024),tm=h(76760),tf=new TextDecoder,tg=(e,d=0,h=e.length)=>tf.decode(e.slice(d,h)),ty=(e,d=0,h=e.length)=>e.slice(d,h).reduce((e,d)=>e+`0${d.toString(16)}`.slice(-2),""),tb=(e,d)=>new DataView(e.buffer,e.byteOffset+d),tv=(e,d=0)=>tb(e,d).getInt16(0,!0),tw=(e,d=0)=>tb(e,d).getUint16(0,!1),tS=(e,d=0)=>tb(e,d).getUint16(0,!0),tx=(e,d=0)=>{let h=tb(e,d);return h.getUint16(0,!0)+(h.getUint8(2)<<16)},t_=(e,d=0)=>tb(e,d).getInt32(0,!0),tE=(e,d=0)=>tb(e,d).getUint32(0,!1),tT=(e,d=0)=>tb(e,d).getUint32(0,!0),tk=(e,d,h)=>tb(e,d).getBigUint64(0,!h),tC={readUInt16BE:tw,readUInt16LE:tS,readUInt32BE:tE,readUInt32LE:tT};function tA(e,d,h=0,m=!1){let g=m?"BE":"LE";return tC[`readUInt${d}${g}`](e,h)}function tP(e,d){if(e.length-d<4)return;let h=tE(e,d);if(!(e.length-d<h))return{name:tg(e,4+d,8+d),offset:d,size:h}}function tN(e,d,h){for(;h<e.length;){let m=tP(e,h);if(!m)break;if(m.name===d)return m;h+=m.size>0?m.size:8}}var tO={validate:e=>"BM"===tg(e,0,2),calculate:e=>({height:Math.abs(t_(e,22)),width:tT(e,18)})},tI=1,tR=6,tD=16;function tL(e,d){let h=e[d];return 0===h?256:h}function t$(e,d){let h=tR+d*tD;return{height:tL(e,h+1),width:tL(e,h)}}var tM={validate(e){let d=tS(e,0),h=tS(e,4);return 0===d&&0!==h&&tS(e,2)===tI},calculate(e){let d=tS(e,4),h=t$(e,0);if(1===d)return h;let m=[];for(let h=0;h<d;h+=1)m.push(t$(e,h));return{width:h.width,height:h.height,images:m}}},tB=2,tj={validate(e){let d=tS(e,0),h=tS(e,4);return 0===d&&0!==h&&tS(e,2)===tB},calculate:e=>tM.calculate(e)},tU={validate:e=>0x20534444===tT(e,0),calculate:e=>({height:tT(e,12),width:tT(e,16)})},tF=/^GIF8[79]a/,tz={validate:e=>tF.test(tg(e,0,6)),calculate:e=>({height:tS(e,8),width:tS(e,6)})},tq={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},tV={validate(e){if("ftyp"!==tg(e,4,8))return!1;let d=tN(e,"ftyp",0);return!!d&&tg(e,d.offset+8,d.offset+12)in tq},calculate(e){let d=tN(e,"meta",0),h=d&&tN(e,"iprp",d.offset+12),m=h&&tN(e,"ipco",h.offset+8);if(!m)throw TypeError("Invalid HEIF, no ipco box found");let g=tg(e,8,12),y=[],b=m.offset+8;for(;b<m.offset+m.size;){let d=tN(e,"ispe",b);if(!d)break;let h=tE(e,d.offset+12),g=tE(e,d.offset+16),v=tN(e,"clap",b),w=h,S=g;v&&v.offset<m.offset+m.size&&(w=h-tE(e,v.offset+12)),y.push({height:S,width:w}),b=d.offset+d.size}if(0===y.length)throw TypeError("Invalid HEIF, no sizes found");return{width:y[0].width,height:y[0].height,type:g,...y.length>1?{images:y}:{}}}},tH=8,tK=4,tG=4,tW={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function tJ(e,d){let h=d+tG;return[tg(e,d,h),tE(e,h)]}function tQ(e){let d=tW[e];return{width:d,height:d,type:e}}var tY={validate:e=>"icns"===tg(e,0,4),calculate(e){let d=e.length,h=tE(e,tK),m=tH,g=[];for(;m<h&&m<d;){let d=tJ(e,m),h=tQ(d[0]);g.push(h),m+=d[1]}if(0===g.length)throw TypeError("Invalid ICNS, no sizes found");return{width:g[0].width,height:g[0].height,...g.length>1?{images:g}:{}}}},tX={validate:e=>0xff4fff51===tE(e,0),calculate:e=>({height:tE(e,12),width:tE(e,8)})},tZ={validate(e){if("jP  "!==tg(e,4,8))return!1;let d=tN(e,"ftyp",0);return!!d&&"jp2 "===tg(e,d.offset+8,d.offset+12)},calculate(e){let d=tN(e,"jp2h",0),h=d&&tN(e,"ihdr",d.offset+8);if(h)return{height:tE(e,h.offset+8),width:tE(e,h.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},t1="45786966",t0=2,t2=6,t4=2,t6="4d4d",t3="4949",t5=12,t8=2;function t9(e){return ty(e,2,6)===t1}function t7(e,d){return{height:tw(e,d),width:tw(e,d+2)}}function ie(e,d){let h=t2+8,m=tA(e,16,h,d);for(let g=0;g<m;g++){let m=h+t8+g*t5,y=m+t5;if(m>e.length)return;let b=e.slice(m,y);if(274===tA(b,16,0,d)){if(3!==tA(b,16,2,d)||1!==tA(b,32,4,d))return;return tA(b,16,8,d)}}}function it(e,d){let h=e.slice(t0,d),m=ty(h,t2,t2+t4),g=m===t6,y=m===t3;if(g||y)return ie(h,g)}function ii(e,d){if(d>e.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var ir={validate:e=>"ffd8"===ty(e,0,2),calculate(e){let d,h,m=e.slice(4);for(;m.length;){let e=tw(m,0);if(ii(m,e),255!==m[e]){m=m.slice(1);continue}if(t9(m)&&(d=it(m,e)),192===(h=m[e+1])||193===h||194===h){let h=t7(m,e+5);if(!d)return h;return{height:h.height,orientation:d,width:h.width}}m=m.slice(e+2)}throw TypeError("Invalid JPG, no size found")}},ia=class{constructor(e,d){this.input=e,this.endianness=d,this.byteOffset=2,this.bitOffset=0}getBits(e=1){let d=0,h=0;for(;h<e;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let m=this.input[this.byteOffset],g=Math.min(e-h,8-this.bitOffset);if("little-endian"===this.endianness){let e=(1<<g)-1;d|=(m>>this.bitOffset&e)<<h}else{let e=(m&(1<<g)-1<<8-this.bitOffset-g)>>8-this.bitOffset-g;d=d<<g|e}h+=g,this.bitOffset+=g,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return d}};function is(e,d){if(d)return 8*(1+e.getBits(5));let h=[9,13,18,30][e.getBits(2)];return 1+e.getBits(h)}function io(e,d,h,m){return d&&0===h?8*(1+e.getBits(5)):0===h?is(e,!1):Math.floor(m*[1,1.2,4/3,1.5,16/9,5/4,2][h-1])}var il={validate:e=>"ff0a"===ty(e,0,2),calculate(e){let d=new ia(e,"little-endian"),h=1===d.getBits(1),m=is(d,h),g=d.getBits(3);return{width:io(d,h,g,m),height:m}}};function id(e){let d=tN(e,"jxlc",0);if(d)return e.slice(d.offset+8,d.offset+d.size);let h=ic(e);if(h.length>0)return ip(h)}function ic(e){let d=[],h=0;for(;h<e.length;){let m=tN(e,"jxlp",h);if(!m)break;d.push(e.slice(m.offset+12,m.offset+m.size)),h=m.offset+m.size}return d}function ip(e){let d=new Uint8Array(e.reduce((e,d)=>e+d.length,0)),h=0;for(let m of e)d.set(m,h),h+=m.length;return d}var iu={validate:e=>{if("JXL "!==tg(e,4,8))return!1;let d=tN(e,"ftyp",0);return!!d&&"jxl "===tg(e,d.offset+8,d.offset+12)},calculate(e){let d=id(e);if(d)return il.calculate(d);throw Error("No codestream found in JXL container")}},ih={validate:e=>["KTX 11","KTX 20"].includes(tg(e,1,7)),calculate:e=>{let d=49===e[5]?"ktx":"ktx2",h="ktx"===d?36:20;return{height:tT(e,h+4),width:tT(e,h),type:d}}},im="PNG\r\n\x1a\n",ig="IHDR",iy="CgBI",ib={validate(e){if(im===tg(e,1,8)){let d=tg(e,12,16);if(d===iy&&(d=tg(e,28,32)),d!==ig)throw TypeError("Invalid PNG");return!0}return!1},calculate:e=>tg(e,12,16)===iy?{height:tE(e,36),width:tE(e,32)}:{height:tE(e,20),width:tE(e,16)}},iv={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},iw={default:e=>{let d=[];for(;e.length>0;){let h=e.shift();if("#"!==h[0]){d=h.split(" ");break}}if(2===d.length)return{height:Number.parseInt(d[1],10),width:Number.parseInt(d[0],10)};throw TypeError("Invalid PNM")},pam:e=>{let d={};for(;e.length>0;){let h=e.shift();if(h.length>16||h.charCodeAt(0)>128)continue;let[m,g]=h.split(" ");if(m&&g&&(d[m.toLowerCase()]=Number.parseInt(g,10)),d.height&&d.width)break}if(d.height&&d.width)return{height:d.height,width:d.width};throw TypeError("Invalid PAM")}},iS={validate:e=>tg(e,0,2)in iv,calculate(e){let d=iv[tg(e,0,2)],h=tg(e,3).split(/[\r\n]+/);return(iw[d]||iw.default)(h)}},ix={validate:e=>"8BPS"===tg(e,0,4),calculate:e=>({height:tE(e,14),width:tE(e,18)})},i_=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,iE={height:/\sheight=(['"])([^%]+?)\1/,root:i_,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},iT={in:96,cm:37.79527559055118,em:16,ex:8,m:3779.5275590551178,mm:3.7795275590551176,pc:96/72/12,pt:96/72,px:1},ik=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(iT).join("|")})?$`);function iC(e){let d=ik.exec(e);if(d)return Math.round(Number(d[1])*(iT[d[2]]||1))}function iA(e){let d=e.split(" ");return{height:iC(d[3]),width:iC(d[2])}}function iP(e){let d=e.match(iE.width),h=e.match(iE.height),m=e.match(iE.viewbox);return{height:h&&iC(h[2]),viewbox:m&&iA(m[2]),width:d&&iC(d[2])}}function iN(e){return{height:e.height,width:e.width}}function iO(e,d){let h=d.width/d.height;return e.width?{height:Math.floor(e.width/h),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*h)}:{height:d.height,width:d.width}}var iI={validate:e=>i_.test(tg(e,0,1e3)),calculate(e){let d=tg(e).match(iE.root);if(d){let e=iP(d[0]);if(e.width&&e.height)return iN(e);if(e.viewbox)return iO(e,e.viewbox)}throw TypeError("Invalid SVG")}},iR={validate:e=>0===tS(e,0)&&0===tS(e,4),calculate:e=>({height:tS(e,14),width:tS(e,12)})},iD={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function iL(e,{isBigEndian:d,isBigTiff:h}){let m=h?Number(tk(e,8,d)):tA(e,32,4,d),g=h?iD.COUNT_SIZE.BIG:iD.COUNT_SIZE.STANDARD;return e.slice(m+g)}function i$(e,d,h,m){switch(d){case iD.TYPE.SHORT:return tA(e,16,h,m);case iD.TYPE.LONG:return tA(e,32,h,m);case iD.TYPE.LONG8:{let d=Number(tk(e,h,m));if(d>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return d}default:return 0}}function iM(e,d){let h=d?iD.ENTRY_SIZE.BIG:iD.ENTRY_SIZE.STANDARD;if(e.length>h)return e.slice(h)}function iB(e,{isBigEndian:d,isBigTiff:h}){let m={},g=e;for(;g?.length;){let e=tA(g,16,0,d),y=tA(g,16,2,d),b=h?Number(tk(g,4,d)):tA(g,32,4,d);if(0===e)break;if(1===b&&(y===iD.TYPE.SHORT||y===iD.TYPE.LONG||h&&y===iD.TYPE.LONG8)){let b=h?12:8;m[e]=i$(g,y,b,d)}g=iM(g,h)}return m}function ij(e){let d=tg(e,0,2),h=tA(e,16,2,"MM"===d);return{isBigEndian:"MM"===d,isBigTiff:43===h}}function iU(e,d){let h=tA(e,16,4,d),m=tA(e,16,6,d);if(8!==h||0!==m)throw TypeError("Invalid BigTIFF header")}var iF=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function iz(e){return{height:1+tx(e,7),width:1+tx(e,4)}}function iq(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}function iV(e){return{height:16383&tv(e,8),width:16383&tv(e,6)}}var iH=new Map([["bmp",tO],["cur",tj],["dds",tU],["gif",tz],["heif",tV],["icns",tY],["ico",tM],["j2c",tX],["jp2",tZ],["jpg",ir],["jxl",iu],["jxl-stream",il],["ktx",ih],["png",ib],["pnm",iS],["psd",ix],["svg",iI],["tga",iR],["tiff",{validate:e=>{let d=ty(e,0,4);return iF.has(d)},calculate(e){let d=ij(e);d.isBigTiff&&iU(e,d.isBigEndian);let h=iB(iL(e,d),d),m={height:h[iD.TAG.HEIGHT],width:h[iD.TAG.WIDTH],type:d.isBigTiff?"bigtiff":"tiff"};if(h[iD.TAG.COMPRESSION]&&(m.compression=h[iD.TAG.COMPRESSION]),!m.width||!m.height)throw TypeError("Invalid Tiff. Missing tags");return m}}],["webp",{validate(e){let d="RIFF"===tg(e,0,4),h="WEBP"===tg(e,8,12),m="VP8"===tg(e,12,15);return d&&h&&m},calculate(e){let d=tg(e,12,16),h=e.slice(20,30);if("VP8X"===d){let e=h[0],d=(192&e)==0,m=(1&e)==0;if(d&&m)return iz(h);throw TypeError("Invalid WebP")}if("VP8 "===d&&47!==h[0])return iV(h);let m=ty(h,3,6);if("VP8L"===d&&"9d012a"!==m)return iq(h);throw TypeError("Invalid WebP")}}]]),iK=Array.from(iH.keys()),iG=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function iW(e){let d=e[0],h=iG.get(d);return h&&iH.get(h).validate(e)?h:iK.find(d=>iH.get(d).validate(e))}var iJ={disabledTypes:[]};function iQ(e){let d=iW(e);if(void 0!==d){if(iJ.disabledTypes.indexOf(d)>-1)throw TypeError(`disabled file type: ${d}`);let h=iH.get(d).calculate(e);if(void 0!==h){if(h.type=h.type??d,h.images&&h.images.length>1){let e=h.images.reduce((e,d)=>d.width*d.height>e.width*e.height?d:e,h.images[0]);h.width=e.width,h.height=e.height}return h}}throw TypeError(`unsupported file type: ${d}`)}var iY=524288,iX=[],iZ=100,i1=async()=>{let e=iX.splice(0,iZ).map(async({filePath:e,resolve:d,reject:h})=>{let m;try{m=await th.promises.open(tm.resolve(e),"r")}catch(e){return h(e)}try{let{size:e}=await m.stat();if(e<=0)throw Error("Empty file");let h=Math.min(e,iY),g=new Uint8Array(h);await m.read(g,0,h,0),d(iQ(g))}catch(e){h(e)}finally{await m.close()}});await Promise.allSettled(e),iX.length&&setTimeout(i1,100)},i0=async e=>new Promise((d,h)=>{iX.push({filePath:e,resolve:d,reject:h}),i1()}),i2=h(48161),i4=h(23682);async function i6(e,d){try{return await d(e)}finally{await g.rm(e,{force:!0,maxRetries:2,recursive:!0})}}let i3=async(e,d={})=>i6(await i5(d),e);async function i5(e){if(e.name){if(void 0!==e.extension&&null!==e.extension)throw Error("The `name` and `extension` options are mutually exclusive");return tm.join(await i8(),e.name)}return await i9()+(void 0===e.extension||null===e.extension?"":"."+e.extension.replace(/^\./,""))}async function i8({prefix:e=""}={}){let d=await i9(e);return await g.mkdir(d),d}async function i9(e=""){let d=await g.realpath(i2.tmpdir());return tm.join(d,e+(0,i4.A)())}async function i7(e){return e.tempFilePath?i0(e.tempFilePath):"image/tiff"===e.mimetype?await i3(async d=>(await g.writeFile(d,e.data),i0(d)),{extension:"tiff"}):tu(e.data)}let re=async({collectionSlug:e,filename:d,req:h})=>!!await h.payload.db.findOne({collection:e,req:h,where:{filename:{equals:d}}});var rt=h(32411);let ri=e=>{let d=e.split(".").pop(),h=y(e.substring(0,e.lastIndexOf("."))||e),m=h,g=/(.*)-(\d+)$/,b=h.match(g);if(null===b)m+="-1";else{let e=b[1],d=Number(b[2])+1;m=`${e}-${d}`}return`${m}.${d}`};async function rr({collectionSlug:e,desiredFilename:d,req:h,staticPath:m}){let g=d;for(;await re({collectionSlug:e,filename:g,path:m,req:h})||await (0,rt.A)(`${m}/${g}`);)g=ri(g);return g}var ra=h(23718);let rn=e=>{let d=e.split(".").pop();return{name:y(e.substring(0,e.lastIndexOf("."))||e),ext:d}},rs=({extension:e,height:d,outputImageName:h,width:m})=>`${h}-${m}x${d}.${e}`,ro=({name:e,filename:d=null,filesize:h=null,height:m=null,mimeType:g=null,sizesToSave:y=[],width:b=null})=>({sizeData:{[e]:{filename:d,filesize:h,height:m,mimeType:g,width:b}},sizesToSave:y}),rl=({dimensions:e,hasFocalPoint:d,imageResizeConfig:h})=>{let{fit:m,height:g,width:y,withoutEnlargement:b,withoutReduction:v}=h;if(g&&y){let d=e.width<y&&e.height<g;if(void 0===b&&d)return"omit"}if(void 0===b&&(!y||!g)&&(y&&e.width<y||g&&e.height<g))return"omit";let w=e.width<y||e.height<g;if("contain"===m||"inside"===m||!(0,ra.E)(g)&&!(0,ra.E)(y))return"resize";let S=y/g;return e.width/e.height===S||b&&w||v&&!w?"resize":d?"resizeWithFocalPoint":"resize"},rd=e=>e.withoutReduction?{...e,fit:e?.fit||"contain",position:e?.position||"left top"}:e;function rc(e){return e?.pages?e.height/e.pages:e.height}async function rp({config:e,dimensions:d,file:h,mimeType:y,req:b,savedFilename:v,sharp:w,staticPath:S,uploadEdits:x,withMetadata:_}){let{focalPoint:E=!0,imageSizes:T}=e.upload,C=x.focalPoint?{x:(0,ra.E)(x.focalPoint.x)?Math.round(x.focalPoint.x):50,y:(0,ra.E)(x.focalPoint.y)?Math.round(x.focalPoint.y):50}:void 0,P={...E&&C&&{focalPoint:C},sizeData:{},sizesToSave:[]};if(!T||!w)return P;let O=["image/avif","image/gif","image/webp"].includes(h.mimetype),I={};O&&(I.animated=!0);let R=w(h.tempFilePath||h.data,I).rotate(),D=await R.metadata(),L={...d};[5,6,7,8].includes(D.orientation)&&(L={...d,height:d.width,width:d.height});let $={height:rc(D),width:D.width};return(await Promise.all(T.map(async e=>{let h=rl({dimensions:d,hasFocalPoint:!!C,imageResizeConfig:e=rd(e)});if("omit"===h)return ro({name:e.name});let w=R.clone(),x=w;if("resizeWithFocalPoint"===h){let{height:d,width:h}=e,m=L.width/L.height;d&&!h&&(h=Math.round(d*m)),h&&!d&&(d=Math.round(h/m)),d||(d=$.height),h||(h=$.width);let g=h/d<m;x=w.resize({fastShrinkOnLoad:!1,height:g?d:void 0,width:g?void 0:h});let y=await k({req:b,sharpFile:x,withMetadata:_}),{info:v}=await y.toBuffer({resolveWithObject:!0});$.height=rc({...D,height:v.height}),$.width=v.width;let S=h/2,E=$.width*(C.x/100),T=E+S,P=E-S;T>$.width&&(P=$.width-h),P<0&&(P=0);let O=d/2,I=$.height*(C.y/100),R=I+O,M=I-O;R>$.height&&(M=$.height-d),M<0&&(M=0),x=x.extract({height:d,left:Math.floor(P),top:Math.floor(M),width:h})}else x=w.resize(e);e.formatOptions&&(x=x.toFormat(e.formatOptions.format,e.formatOptions.options)),e.trimOptions&&(x=x.trim(e.trimOptions));let E=await k({req:b,sharpFile:x,withMetadata:_}),{data:T,info:P}=await E.toBuffer({resolveWithObject:!0}),I=rn(v);b.payloadUploadSizes&&(b.payloadUploadSizes[e.name]=T);let M=await (0,m.BI)(T),B=e.generateImageName?e.generateImageName({extension:M?.ext||I.ext,height:rc({...D,height:P.height}),originalName:I.name,sizeName:e.name,width:P.width}):rs({extension:M?.ext||I.ext,height:rc({...D,height:P.height}),outputImageName:I.name,width:P.width}),j=`${S}/${B}`;if(await (0,rt.A)(j))try{await g.unlink(j)}catch{}let{height:U,size:F,width:z}=P;return ro({name:e.name,filename:B,filesize:F,height:O&&D.pages?U/D.pages:U,mimeType:M?.mime||y,sizesToSave:[{buffer:T,path:j}],width:z})}))).reduce((e,d)=>(Object.assign(e.sizeData,d.sizeData),e.sizesToSave.push(...d.sizesToSave),e),{...P})}var ru=h(79204);let rh=async({collection:{config:e},data:d,isDuplicating:h,operation:v,originalDoc:w,overwriteExistingFiles:x,req:C,throwOnMissingFile:R})=>{if(!e.upload)return{data:d,files:[]};let{sharp:D}=C.payload.config,L=C.file,$=rm({data:d,isDuplicating:h,operation:v,originalDoc:w,req:C}),{disableLocalStorage:M,focalPoint:B=!0,formatOptions:j,imageSizes:U,resizeOptions:F,staticDir:z,trimOptions:q,withMetadata:V}=e.upload,H=z,K=h?w:d;if(!L&&$&&K){let{filename:d,url:h}=K;if(d&&(d.includes("../")||d.includes("..\\")))throw new b.c(C.t);try{if(h&&h.startsWith("/")&&!M){let e=`${H}/${d}`;L=await (0,I.d)(e),x=!0}else d&&h&&(L=await O({data:K,req:C,uploadConfig:e.upload}),x=!0)}catch(e){throw new S(C.t,e instanceof Error?e.message:void 0)}}if(h&&(x=!1),!L){if(R)throw new _(C.t);return{data:d,files:[]}}M||await g.mkdir(H,{recursive:!0});let G=d,W=[],J={},Q=["image/avif","image/gif","image/webp"].includes(L.mimetype),Y="object"==typeof $&&"crop"in $?$.crop:void 0;try{let d,h,b,v,w,S,_=T(L.mimetype),E=_&&!!(F||j||q||L.tempFilePath),O={};if(Q&&(O.animated=!0),D&&(Q||E)&&(h=L.tempFilePath?D(L.tempFilePath,O).rotate():D(L.data,O).rotate(),E&&(F&&(h=h.resize(F)),j&&(h=h.toFormat(j.format,j.options)),q&&(h=h.trim(q)))),(_||(0,ru.w)(L.mimetype))&&(J.width=(b=await i7(L)).width,J.height=b.height),h){let e=await h.metadata();h=await k({req:C,sharpFile:h,withMetadata:V}),v=await h.toBuffer({resolveWithObject:!0}),({ext:w,mime:S}=await (0,m.BI)(v.data)),J.width=v.info.width,J.height=v.info.height,J.filesize=v.info.size,e.pages&&(J.height=v.info.height/e.pages,J.filesize=v.data.length)}else S=L.mimetype,J.filesize=L.size,w=L.name.includes(".")?L.name.split(".").pop().split("?")[0]:"";"application/xml"===S&&"svg"===w&&(S="image/svg+xml"),J.mimeType=S;let I=y(L.name.substring(0,L.name.lastIndexOf("."))||L.name);d=`${I}${w?`.${w}`:""}`,x||(d=await rr({collectionSlug:e.slug,desiredFilename:d,req:C,staticPath:H})),J.filename=d;let R=L;if(Y&&D){let{data:e,info:m}=await P({cropData:Y,dimensions:b,file:L,heightInPixels:$.heightInPixels,req:C,sharp:D,widthInPixels:$.widthInPixels,withMetadata:V});if(F&&!F.withoutEnlargement){let m=await D(e).resize({fit:F?.fit||"cover",height:F?.height,position:F?.position||"center",width:F?.width}).toBuffer({resolveWithObject:!0});if(W.push({buffer:m.data,path:`${H}/${d}`}),R={...R,data:m.data,size:m.info.size},J.width=m.info.width,J.height=m.info.height,Q){let e=await h.metadata();J.height=e.pages?m.info.height/e.pages:m.info.height}J.filesize=m.info.size}else{if(W.push({buffer:e,path:`${H}/${d}`}),R={...L,data:e,size:m.size},J.width=m.width,J.height=m.height,Q){let e=await h.metadata();J.height=e.pages?m.height/e.pages:m.height}J.filesize=m.size}L.tempFilePath?await g.writeFile(L.tempFilePath,e):C.file=R}else W.push({buffer:v?.data||L.data,path:`${H}/${d}`}),(v?.data||L.data.length>0)&&(L.tempFilePath?await g.writeFile(L.tempFilePath,v?.data||L.data):C.file={...L,data:v?.data||L.data,size:v?.info.size});if(_&&(Array.isArray(U)||!1!==B)){C.payloadUploadSizes={};let{focalPoint:h,sizeData:m,sizesToSave:g}=await rp({config:e,dimensions:Y?{...b,height:J.height,width:J.width}:b,file:R,mimeType:J.mimeType,req:C,savedFilename:d||L.name,sharp:D,staticPath:H,uploadEdits:$,withMetadata:V});J.sizes=m,J.focalX=h?.x,J.focalY=h?.y,W.push(...g)}}catch(e){throw C.payload.logger.error(e),new E.e(C.t)}return{data:G={...G,...J},files:W}};function rm(e){let{data:d,isDuplicating:h,operation:m,originalDoc:g,req:y}=e,b=y.query?.uploadEdits&&"object"==typeof y.query.uploadEdits?y.query.uploadEdits:{};if(b.focalPoint)return b;let v=d,w=g;if(w&&"focalX"in w&&"focalY"in w){if(v.focalX===w.focalX&&v.focalY===w.focalY)return;h&&(b.focalPoint={x:v?.focalX||w.focalX,y:v?.focalY||w.focalX})}return v?.focalX&&v?.focalY?b.focalPoint={x:v.focalX,y:v.focalY}:"create"===m&&(b.focalPoint={x:50,y:50}),b}},61254:(e,d,h)=>{"use strict";var m=h(94735).EventEmitter,g=h(28354),y=h(47141),b=e.exports=function(e,d,h){m.call(this),e=y.normalizeQueryConfig(e,d,h),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(e){"row"===e&&(this._emitRowEvents=!0)}).bind(this))};g.inherits(b,m);var v={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};b.prototype.handleError=function(e){var d=this.native.pq.resultErrorFields();if(d)for(var h in d)e[v[h]||h]=d[h];this.callback?this.callback(e):this.emit("error",e),this.state="error"},b.prototype.then=function(e,d){return this._getPromise().then(e,d)},b.prototype.catch=function(e){return this._getPromise().catch(e)},b.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(e,d){this._once("end",e),this._once("error",d)}).bind(this))),this._promise},b.prototype.submit=function(e){this.state="running";var d=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var h=function(h,m,g){if(e.native.arrayMode=!1,setImmediate(function(){d.emit("_done")}),h)return d.handleError(h);d._emitRowEvents&&(g.length>1?m.forEach((e,h)=>{e.forEach(e=>{d.emit("row",e,g[h])})}):m.forEach(function(e){d.emit("row",e,g)})),d.state="end",d.emit("end",g),d.callback&&d.callback(null,g)};if(process.domain&&(h=process.domain.bind(h)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var m=(this.values||[]).map(y.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let e=Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return h(e)}return e.native.execute(this.name,m,h)}return e.native.prepare(this.name,this.text,m.length,function(g){return g?h(g):(e.namedQueries[d.name]=d.text,d.native.execute(d.name,m,h))})}if(this.values){if(!Array.isArray(this.values)){let e=Error("Query values must be an array");return h(e)}var g=this.values.map(y.prepareValue);e.native.query(this.text,g,h)}else e.native.query(this.text,h)}},61505:(e,d,h)=>{"use strict";let m=h(52838),g=h(98481),y=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"\uD83D\uDE03".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),b=e=>y[e]||y.default,v=Object.freeze({aborted:m.red(g.cross),done:m.green(g.tick),exited:m.yellow(g.cross),default:m.cyan("?")}),w=(e,d,h)=>d?v.aborted:h?v.exited:e?v.done:v.default;e.exports={styles:y,render:b,symbols:v,symbol:w,delimiter:e=>m.gray(e?g.ellipsis:g.pointerSmall),item:(e,d)=>m.gray(e?d?g.pointerSmall:"+":g.line)}},61507:(e,d,h)=>{"use strict";function m(e,d){var h=Object.keys(e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);d&&(m=m.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),h.push.apply(h,m)}return h}function g(e){for(var d=1;d<arguments.length;d++){var h=null!=arguments[d]?arguments[d]:{};d%2?m(Object(h),!0).forEach(function(d){y(e,d,h[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(h)):m(Object(h)).forEach(function(d){Object.defineProperty(e,d,Object.getOwnPropertyDescriptor(h,d))})}return e}function y(e,d,h){return d in e?Object.defineProperty(e,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):e[d]=h,e}function b(e,d){var h="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!h){if(Array.isArray(e)||(h=v(e))||d&&e&&"number"==typeof e.length){h&&(e=h);var m=0,g=function(){};return{s:g,n:function(){return m>=e.length?{done:!0}:{done:!1,value:e[m++]}},e:function(e){throw e},f:g}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var y,b=!0,w=!1;return{s:function(){h=h.call(e)},n:function(){var e=h.next();return b=e.done,e},e:function(e){w=!0,y=e},f:function(){try{b||null==h.return||h.return()}finally{if(w)throw y}}}}function v(e,d){if(e){if("string"==typeof e)return w(e,d);var h=Object.prototype.toString.call(e).slice(8,-1);if("Object"===h&&e.constructor&&(h=e.constructor.name),"Map"===h||"Set"===h)return Array.from(e);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return w(e,d)}}function w(e,d){(null==d||d>e.length)&&(d=e.length);for(var h=0,m=Array(d);h<d;h++)m[h]=e[h];return m}function S(e,d,h,m,g,y,b){try{var v=e[y](b),w=v.value}catch(e){h(e);return}v.done?d(w):Promise.resolve(w).then(m,g)}function x(e){return function(){var d=this,h=arguments;return new Promise(function(m,g){var y=e.apply(d,h);function b(e){S(y,m,g,b,v,"next",e)}function v(e){S(y,m,g,b,v,"throw",e)}b(void 0)})}}let _=h(23864),E=["suggest","format","onState","validate","onRender","type"],T=()=>{};function k(){return C.apply(this,arguments)}function C(){return(C=x(function*(e=[],{onSubmit:d=T,onCancel:h=T}={}){let m,y,v,w,S,C,O={},I=k._override||{};e=[].concat(e);let R=function(){var e=x(function*(e,d,h=!1){if(h||!e.validate||!0===e.validate(d))return e.format?yield e.format(d,O):d});return function(d,h){return e.apply(this,arguments)}}();var D,L=b(e);try{for(L.s();!(D=L.n()).done;){var $=y=D.value;if(w=$.name,S=$.type,"function"==typeof S&&(S=yield S(m,g({},O),y),y.type=S),S){for(let e in y){if(E.includes(e))continue;let d=y[e];y[e]="function"==typeof d?yield d(m,g({},O),C):d}if(C=y,"string"!=typeof y.message)throw Error("prompt message is required");var M=y;if(w=M.name,S=M.type,void 0===_[S])throw Error(`prompt type (${S}) is not defined`);if(void 0!==I[y.name]&&(m=yield R(y,I[y.name]),void 0!==m)){O[w]=m;continue}try{m=k._injected?P(k._injected,y.initial):yield _[S](y),O[w]=m=yield R(y,m,!0),v=yield d(y,m,O)}catch(e){v=!(yield h(y,O))}if(v)return O}}}catch(e){L.e(e)}finally{L.f()}return O})).apply(this,arguments)}function P(e,d){let h=e.shift();if(h instanceof Error)throw h;return void 0===h?d:h}function O(e){k._injected=(k._injected||[]).concat(e)}function I(e){k._override=Object.assign({},e)}e.exports=Object.assign(k,{prompt:k,prompts:_,inject:O,override:I})},61596:(e,d,h)=>{"use strict";h.d(d,{CG:()=>y,Y2:()=>g,cJ:()=>b});var m=h(91833);let g=(e,d)=>(0,m.w)(e,d).then(e=>{if(e.length)try{return JSON.parse(e)}catch(d){throw d?.name==="SyntaxError"&&Object.defineProperty(d,"$responseBodyText",{value:e}),d}return{}}),y=async(e,d)=>{let h=await g(e,d);return h.message=h.message??h.Message,h},b=(e,d)=>{let h=(e,d)=>Object.keys(e).find(e=>e.toLowerCase()===d.toLowerCase()),m=e=>{let d=e;return"number"==typeof d&&(d=d.toString()),d.indexOf(",")>=0&&(d=d.split(",")[0]),d.indexOf(":")>=0&&(d=d.split(":")[0]),d.indexOf("#")>=0&&(d=d.split("#")[1]),d},g=h(e.headers,"x-amzn-errortype");if(void 0!==g)return m(e.headers[g]);if(d&&"object"==typeof d){let e=h(d,"code");if(e&&void 0!==d[e])return m(d[e]);if(void 0!==d.__type)return m(d.__type)}}},61664:(e,d,h)=>{"use strict";e.exports={host:"localhost",user:"win32"===process.platform?process.env.USERNAME:process.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var m=h(44612),g=m.getTypeParser(20,"text"),y=m.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(e){m.setTypeParser(20,"text",e?m.getTypeParser(23,"text"):g),m.setTypeParser(1016,"text",e?m.getTypeParser(1007,"text"):y)})},61858:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{deserializerMiddleware:()=>E,deserializerMiddlewareOption:()=>C,getSerdePlugin:()=>O,serializerMiddleware:()=>k,serializerMiddlewareOption:()=>P}),e.exports=S(x);var _=h(96543),E=v((e,d)=>(h,m)=>async g=>{let{response:y}=await h(g);try{let h=await d(y,e);return{response:y,output:h}}catch(e){if(Object.defineProperty(e,"$response",{value:y}),!("$metadata"in e)){let d="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+d}catch(e){m.logger&&m.logger?.constructor?.name!=="NoOpLogger"?m.logger?.warn?.(d):console.warn(d)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(_.HttpResponse.isInstance(y)){let{headers:d={}}=y,h=Object.entries(d);e.$metadata={httpStatusCode:y.statusCode,requestId:T(/^x-[\w-]+-request-?id$/,h),extendedRequestId:T(/^x-[\w-]+-id-2$/,h),cfId:T(/^x-[\w-]+-cf-id$/,h)}}}catch(e){}}throw e}},"deserializerMiddleware"),T=v((e,d)=>(d.find(([d])=>d.match(e))||[void 0,void 0])[1],"findHeader"),k=v((e,d)=>(h,m)=>async g=>{let y=e,b=m.endpointV2?.url&&y.urlParser?async()=>y.urlParser(m.endpointV2.url):y.endpoint;if(!b)throw Error("No valid endpoint provider available.");let v=await d(g.input,{...e,endpoint:b});return h({...g,request:v})},"serializerMiddleware"),C={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},P={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function O(e,d,h){return{applyToStack:m=>{m.add(E(e,h),C),m.add(k(e,d),P)}}}v(O,"getSerdePlugin")},61885:(e,d,h)=>{"use strict";e.exports=P;let m=h(37701),g=h(26355),y=h(4858),b=h(26289),v=h(99564),w=h(38130),S=h(26396),x=h(918),_=h(93818),{LEVELS:E,LEVEL_KEY:T,LEVEL_NAMES:k}=h(40844),C=e=>{try{return{value:m.parse(e,{protoAction:"remove"})}}catch(e){return{err:e}}};function P(e){let d;if(g(e))d=e;else{let h=C(e);if(h.err||!g(h.value))return e+this.EOL;d=h.value}if(this.minimumLevel){let e,h;if((h=(e=this.useOnlyCustomProps?this.customLevels:void 0!==this.customLevelNames[this.minimumLevel])?this.customLevelNames[this.minimumLevel]:k[this.minimumLevel])||(h="string"==typeof this.minimumLevel?k[this.minimumLevel]:k[E[this.minimumLevel].toLowerCase()]),d[void 0===this.levelKey?T:this.levelKey]<h)return}let h=v({log:d,context:this.context});(this.ignoreKeys||this.includeKeys)&&(d=_({log:d,context:this.context}));let m=b({log:d,context:{...this.context,...this.context.customProperties}}),P=w({log:d,context:this.context}),O=x({log:d,context:this.context}),I="";if(this.levelFirst&&m&&(I=`${m}`),O&&""===I?I=`${O}`:O&&(I=`${I} ${O}`),!this.levelFirst&&m&&(I=I.length>0?`${I} ${m}`:m),P&&(I=I.length>0?`${I} ${P}:`:P),!1===I.endsWith(":")&&""!==I&&(I+=":"),void 0!==h&&(I=I.length>0?`${I} ${h}`:h),I.length>0&&!this.singleLine&&(I+=this.EOL),"Error"===d.type&&"string"==typeof d.stack){let e=y({log:d,context:this.context});this.singleLine&&(I+=this.EOL),I+=e}else if(!1===this.hideObject){let e=[this.messageKey,this.levelKey,this.timestampKey].map(e=>e.replaceAll(/\\/g,"")).filter(e=>"string"==typeof d[e]||"number"==typeof d[e]||"boolean"==typeof d[e]),h=S({log:d,skipKeys:e,context:this.context});this.singleLine&&!/^\s$/.test(h)&&(I+=" "),I+=h}return I}},62428:(e,d)=>{"use strict";function h(e){let d,h=e.length,m=0,g=0;for(;g<h;)m++,(d=e.charCodeAt(g++))>=55296&&d<=56319&&g<h&&(64512&(d=e.charCodeAt(g)))==56320&&g++;return m}Object.defineProperty(d,"__esModule",{value:!0}),d.default=h,h.code='require("ajv/dist/runtime/ucs2length").default'},62856:(e,d,h)=>{"use strict";function m(e,d){let h=Array.isArray(d)?d:[d],m={};for(let d of h)d in e&&(m[d]=e[d]);return new Proxy(e,{deleteProperty:(e,d)=>Reflect.deleteProperty(h.includes(d)?m:e,d),get:(e,d,g)=>Reflect.get(h.includes(d)?m:e,d,g),has:(e,d)=>Reflect.has(h.includes(d)?m:e,d),set:(e,d,g,y)=>h.includes(d)?Reflect.set(m,d,g):Reflect.set(e,d,g,y)})}h.d(d,{A:()=>m})},62952:(e,d,h)=>{"use strict";h(33873);var m=h(29021),g=h(95882);e.exports=function(e,d){var h=g.getFileName();m.stat(h,function(y,b){if(y||!g.usePgPass(b,h))return d(void 0);var v=m.createReadStream(h);g.getPassword(e,v,d)})},e.exports.warnTo=g.warnTo},63059:(e,d,h)=>{"use strict";h.d(d,{R:()=>m});let m=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`},63390:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},63614:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.callRef=d.getValidate=void 0;let m=h(78540),g=h(11622),y=h(52046),b=h(9828),v=h(38480),w=h(31934),S={keyword:"$ref",schemaType:"string",code(e){let{gen:d,schema:h,it:g}=e,{baseId:b,schemaEnv:w,validateName:S,opts:E,self:T}=g,{root:k}=w;if(("#"===h||"#/"===h)&&b===k.baseId)return P();let C=v.resolveRef.call(T,k,b,h);if(void 0===C)throw new m.default(g.opts.uriResolver,b,h);if(C instanceof v.SchemaEnv)return O(C);return I(C);function P(){if(w===k)return _(e,S,w,w.$async);let h=d.scopeValue("root",{ref:k});return _(e,(0,y._)`${h}.validate`,k,k.$async)}function O(d){let h=x(e,d);_(e,h,d,d.$async)}function I(m){let g=d.scopeValue("schema",!0===E.code.source?{ref:m,code:(0,y.stringify)(m)}:{ref:m}),b=d.name("valid"),v=e.subschema({schema:m,dataTypes:[],schemaPath:y.nil,topSchemaRef:g,errSchemaPath:h},b);e.mergeEvaluated(v),e.ok(b)}}};function x(e,d){let{gen:h}=e;return d.validate?h.scopeValue("validate",{ref:d.validate}):(0,y._)`${h.scopeValue("wrapper",{ref:d})}.validate`}function _(e,d,h,m){let{gen:v,it:S}=e,{allErrors:x,schemaEnv:_,opts:E}=S,T=E.passContext?b.default.this:y.nil;function k(){if(!_.$async)throw Error("async schema referenced by sync schema");let h=v.let("valid");v.try(()=>{v.code((0,y._)`await ${(0,g.callValidateCode)(e,d,T)}`),O(d),x||v.assign(h,!0)},e=>{v.if((0,y._)`!(${e} instanceof ${S.ValidationError})`,()=>v.throw(e)),P(e),x||v.assign(h,!1)}),e.ok(h)}function C(){e.result((0,g.callValidateCode)(e,d,T),()=>O(d),()=>P(d))}function P(e){let d=(0,y._)`${e}.errors`;v.assign(b.default.vErrors,(0,y._)`${b.default.vErrors} === null ? ${d} : ${b.default.vErrors}.concat(${d})`),v.assign(b.default.errors,(0,y._)`${b.default.vErrors}.length`)}function O(e){var d;if(!S.opts.unevaluated)return;let m=null==(d=null==h?void 0:h.validate)?void 0:d.evaluated;if(!0!==S.props)if(m&&!m.dynamicProps)void 0!==m.props&&(S.props=w.mergeEvaluated.props(v,m.props,S.props));else{let d=v.var("props",(0,y._)`${e}.evaluated.props`);S.props=w.mergeEvaluated.props(v,d,S.props,y.Name)}if(!0!==S.items)if(m&&!m.dynamicItems)void 0!==m.items&&(S.items=w.mergeEvaluated.items(v,m.items,S.items));else{let d=v.var("items",(0,y._)`${e}.evaluated.items`);S.items=w.mergeEvaluated.items(v,d,S.items,y.Name)}}m?k():C()}d.getValidate=x,d.callRef=_,d.default=S},63749:(e,d,h)=>{"use strict";e.exports=w;let{isErrorLike:m}=h(23202),{pinoErrProto:g,pinoErrorSymbols:y}=h(56277),{seen:b}=y,{toString:v}=Object.prototype;function w(e){if(!m(e))return e;e[b]=void 0;let d=Object.create(g);for(let h in d.type="[object Function]"===v.call(e.constructor)?e.constructor.name:e.name,d.message=e.message,d.stack=e.stack,Array.isArray(e.errors)&&(d.aggregateErrors=e.errors.map(e=>w(e))),m(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,b)&&(d.cause=w(e.cause)),e)if(void 0===d[h]){let g=e[h];m(g)?Object.prototype.hasOwnProperty.call(g,b)||(d[h]=w(g)):d[h]=g}return delete e[b],d.raw=e,d}},63760:(e,d,h)=>{"use strict";h.d(d,{I:()=>C});var m=h(18219),g=h(35804),y=h(11075);let b="AWS_EXECUTION_ENV",v="AWS_REGION",w="AWS_DEFAULT_REGION",S="AWS_EC2_METADATA_DISABLED",x=["in-region","cross-region","mobile","standard","legacy"],_="/latest/meta-data/placement/region",E="AWS_DEFAULTS_MODE",T="defaults_mode",k={environmentVariableSelector:e=>e[E],configFileSelector:e=>e[T],default:"legacy"},C=({region:e=(0,g.loadConfig)(m.NODE_REGION_CONFIG_OPTIONS),defaultsMode:d=(0,g.loadConfig)(k)}={})=>(0,y.memoize)(async()=>{let h="function"==typeof d?await d():d;switch(h?.toLowerCase()){case"auto":return P(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(h?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${x.join(", ")}, got ${h}`)}}),P=async e=>{if(e){let d="function"==typeof e?await e():e,h=await O();return h?d===h?"in-region":"cross-region":"standard"}return"standard"},O=async()=>{if(process.env[b]&&(process.env[v]||process.env[w]))return process.env[v]??process.env[w];if(!process.env[S])try{let{getInstanceMetadataEndpoint:e,httpRequest:d}=await Promise.resolve().then(h.bind(h,81633)),m=await e();return(await d({...m,path:_})).toString()}catch(e){}}},64016:e=>{"use strict";function d(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function e(e,h,m){var g=m&&m.stringify||d,y=1;if("object"==typeof e&&null!==e){var b=h.length+y;if(1===b)return e;var v=Array(b);v[0]=g(e);for(var w=1;w<b;w++)v[w]=g(h[w]);return v.join(" ")}if("string"!=typeof e)return e;var S=h.length;if(0===S)return e;for(var x="",_=1-y,E=-1,T=e&&e.length||0,k=0;k<T;){if(37===e.charCodeAt(k)&&k+1<T){switch(E=E>-1?E:0,e.charCodeAt(k+1)){case 100:case 102:if(_>=S||null==h[_])break;E<k&&(x+=e.slice(E,k)),x+=Number(h[_]),E=k+2,k++;break;case 105:if(_>=S||null==h[_])break;E<k&&(x+=e.slice(E,k)),x+=Math.floor(Number(h[_])),E=k+2,k++;break;case 79:case 111:case 106:if(_>=S||void 0===h[_])break;E<k&&(x+=e.slice(E,k));var C=typeof h[_];if("string"===C){x+="'"+h[_]+"'",E=k+2,k++;break}if("function"===C){x+=h[_].name||"<anonymous>",E=k+2,k++;break}x+=g(h[_]),E=k+2,k++;break;case 115:if(_>=S)break;E<k&&(x+=e.slice(E,k)),x+=String(h[_]),E=k+2,k++;break;case 37:E<k&&(x+=e.slice(E,k)),x+="%",E=k+2,k++,_--}++_}++k}return -1===E?e:(E<T&&(x+=e.slice(E)),x)}},64059:(e,d,h)=>{"use strict";let m=h(84296),g=h(51027),y=h(31088).parseDataURI;class b{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=new m("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let d=e.replace(/-(\w)/g,(e,d)=>d.toUpperCase());this.mail[d]&&this.message.setHeader(e,this.mail[d])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let d,h,m=[].concat(this.mail.attachments||[]).map((e,d)=>{let h,m=/^message\//i.test(e.contentType);/^data:/i.test(e.path||e.href)&&(e=this._processDataUrl(e));let y=e.contentType||g.detectMimeType(e.filename||e.path||e.href||"bin"),b=/^image\//i.test(y);return h={contentType:y,contentDisposition:e.contentDisposition||(m||b&&e.cid?"inline":"attachment"),contentTransferEncoding:"contentTransferEncoding"in e?e.contentTransferEncoding:"base64"},e.filename?h.filename=e.filename:!m&&!1!==e.filename&&(h.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(d+1),0>h.filename.indexOf(".")&&(h.filename+="."+g.detectExtension(h.contentType))),/^https?:\/\//i.test(e.path)&&(e.href=e.path,e.path=void 0),e.cid&&(h.cid=e.cid),e.raw?h.raw=e.raw:e.path?h.content={path:e.path}:e.href?h.content={href:e.href,httpHeaders:e.httpHeaders}:h.content=e.content||"",e.encoding&&(h.encoding=e.encoding),e.headers&&(h.headers=e.headers),h});return(this.mail.icalEvent&&(d="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},h={},Object.keys(d).forEach(e=>{h[e]=d[e]}),h.contentType="application/ics",h.headers||(h.headers={}),h.filename=h.filename||"invite.ics",h.headers["Content-Disposition"]="attachment",h.headers["Content-Transfer-Encoding"]="base64"),e)?{attached:m.filter(e=>!e.cid).concat(h||[]),related:m.filter(e=>!!e.cid)}:{attached:m.concat(h||[]),related:[]}}getAlternatives(){let e=[],d,h,m,y,b,v;return this.mail.text&&((d="object"==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text}).contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&((m="object"==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml}).contentType="text/watch-html; charset=utf-8"),this.mail.amp&&((y="object"==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp}).contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(b="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},v={},Object.keys(b).forEach(e=>{v[e]=b[e]}),v.content&&"object"==typeof v.content&&(v.content._resolve=!0),v.filename=!1,v.contentType="text/calendar; charset=utf-8; method="+(v.method||"PUBLISH").toString().trim().toUpperCase(),v.headers||(v.headers={})),this.mail.html&&((h="object"==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html}).contentType="text/html; charset=utf-8"),[].concat(d||[]).concat(m||[]).concat(y||[]).concat(h||[]).concat(v||[]).concat(this.mail.alternatives||[]).forEach(d=>{let h;/^data:/i.test(d.path||d.href)&&(d=this._processDataUrl(d)),h={contentType:d.contentType||g.detectMimeType(d.filename||d.path||d.href||"txt"),contentTransferEncoding:d.contentTransferEncoding},d.filename&&(h.filename=d.filename),/^https?:\/\//i.test(d.path)&&(d.href=d.path,d.path=void 0),d.raw?h.raw=d.raw:d.path?h.content={path:d.path}:d.href?h.content={href:d.href}:h.content=d.content||"",d.encoding&&(h.encoding=d.encoding),d.headers&&(h.headers=d.headers),e.push(h)}),e}_createMixed(e){let d;return d=e?e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new m("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(d):this._useRelated&&this._createRelated(d),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(e=>{this._useRelated&&e===this._htmlNode||this._createContentNode(d,e)}),d}_createAlternative(e){let d;return d=e?e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new m("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(e=>{this._useRelated&&this._htmlNode===e?this._createRelated(d):this._createContentNode(d,e)}),d}_createRelated(e){let d;return d=e?e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new m('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(d,this._htmlNode),this._attachments.related.forEach(e=>this._createContentNode(d,e)),d}_createContentNode(e,d){let h;(d=d||{}).content=d.content||"";let g=(d.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return h=e?e.createChild(d.contentType,{filename:d.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new m(d.contentType,{filename:d.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),d.headers&&h.addHeader(d.headers),d.cid&&h.setHeader("Content-Id","<"+d.cid.replace(/[<>]/g,"")+">"),d.contentTransferEncoding?h.setHeader("Content-Transfer-Encoding",d.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(d.contentType)&&h.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(d.contentType)||d.contentDisposition)&&h.setHeader("Content-Disposition",d.contentDisposition||(d.cid&&/^image\//i.test(d.contentType)?"inline":"attachment")),"string"!=typeof d.content||["utf8","usascii","ascii"].includes(g)||(d.content=Buffer.from(d.content,g)),d.raw?h.setRaw(d.raw):h.setContent(d.content),h}_processDataUrl(e){let d;return(e.path||e.href).match(/^data:/)&&(d=y(e.path||e.href)),d&&(e.content=d.data,e.contentType=e.contentType||d.contentType,"path"in e&&(e.path=!1),"href"in e&&(e.href=!1)),e}}e.exports=b},64099:(e,d,h)=>{"use strict";h.d(d,{n4:()=>S});var m=h(96543);let g="X-Amzn-Trace-Id",y="AWS_LAMBDA_FUNCTION_NAME",b="_X_AMZN_TRACE_ID",v=e=>d=>async h=>{let{request:v}=h;if(!m.HttpRequest.isInstance(v)||"node"!==e.runtime)return d(h);let w=Object.keys(v.headers??{}).find(e=>e.toLowerCase()===g.toLowerCase())??g;if(v.headers.hasOwnProperty(w))return d(h);let S=process.env[y],x=process.env[b],_=e=>"string"==typeof e&&e.length>0;return _(S)&&_(x)&&(v.headers[g]=x),d({...h,request:v})},w={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},S=e=>({applyToStack:d=>{d.add(v(e),w)}})},65006:(e,d,h)=>{"use strict";h.r(d),h.d(d,{AwsCrc32c:()=>y,Crc32c:()=>v,crc32c:()=>b});var m=h(22396),g=h(330),y=function(){function e(){this.crc32c=new v}return e.prototype.update=function(e){(0,g.isEmptyData)(e)||this.crc32c.update((0,g.convertToBuffer)(e))},e.prototype.digest=function(){return(0,m.__awaiter)(this,void 0,void 0,function(){return(0,m.__generator)(this,function(e){return[2,(0,g.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new v},e}();function b(e){return new v().update(e).digest()}var v=function(){function e(){this.checksum=0xffffffff}return e.prototype.update=function(e){var d,h;try{for(var g=(0,m.__values)(e),y=g.next();!y.done;y=g.next()){var b=y.value;this.checksum=this.checksum>>>8^S[(this.checksum^b)&255]}}catch(e){d={error:e}}finally{try{y&&!y.done&&(h=g.return)&&h.call(g)}finally{if(d)throw d.error}}return this},e.prototype.digest=function(){return(0xffffffff^this.checksum)>>>0},e}(),w=[0,0xf26b8303,0xe13b70f7,0x1350f3f4,0xc79a971f,0x35f1141c,0x26a1e7e8,0xd4ca64eb,0x8ad958cf,0x78b2dbcc,0x6be22838,0x9989ab3b,0x4d43cfd0,0xbf284cd3,0xac78bf27,0x5e133c24,0x105ec76f,0xe235446c,0xf165b798,0x30e349b,0xd7c45070,0x25afd373,0x36ff2087,0xc494a384,0x9a879fa0,0x68ec1ca3,0x7bbcef57,0x89d76c54,0x5d1d08bf,0xaf768bbc,0xbc267848,0x4e4dfb4b,0x20bd8ede,0xd2d60ddd,0xc186fe29,0x33ed7d2a,0xe72719c1,0x154c9ac2,0x61c6936,0xf477ea35,0xaa64d611,0x580f5512,0x4b5fa6e6,0xb93425e5,0x6dfe410e,0x9f95c20d,0x8cc531f9,0x7eaeb2fa,0x30e349b1,0xc288cab2,0xd1d83946,0x23b3ba45,0xf779deae,0x5125dad,0x1642ae59,0xe4292d5a,0xba3a117e,0x4851927d,0x5b016189,0xa96ae28a,0x7da08661,0x8fcb0562,0x9c9bf696,0x6ef07595,0x417b1dbc,0xb3109ebf,0xa0406d4b,0x522bee48,0x86e18aa3,0x748a09a0,0x67dafa54,0x95b17957,0xcba24573,0x39c9c670,0x2a993584,0xd8f2b687,0xc38d26c,0xfe53516f,0xed03a29b,0x1f682198,0x5125dad3,0xa34e59d0,0xb01eaa24,0x42752927,0x96bf4dcc,0x64d4cecf,0x77843d3b,0x85efbe38,0xdbfc821c,0x2997011f,0x3ac7f2eb,0xc8ac71e8,0x1c661503,0xee0d9600,0xfd5d65f4,0xf36e6f7,0x61c69362,0x93ad1061,0x80fde395,0x72966096,0xa65c047d,0x5437877e,0x4767748a,0xb50cf789,0xeb1fcbad,0x197448ae,0xa24bb5a,0xf84f3859,0x2c855cb2,0xdeeedfb1,0xcdbe2c45,0x3fd5af46,0x7198540d,0x83f3d70e,0x90a324fa,0x62c8a7f9,0xb602c312,0x44694011,0x5739b3e5,0xa55230e6,0xfb410cc2,0x92a8fc1,0x1a7a7c35,0xe811ff36,0x3cdb9bdd,0xceb018de,0xdde0eb2a,0x2f8b6829,0x82f63b78,0x709db87b,0x63cd4b8f,0x91a6c88c,0x456cac67,0xb7072f64,0xa457dc90,0x563c5f93,0x82f63b7,0xfa44e0b4,0xe9141340,0x1b7f9043,0xcfb5f4a8,0x3dde77ab,0x2e8e845f,0xdce5075c,0x92a8fc17,0x60c37f14,0x73938ce0,0x81f80fe3,0x55326b08,0xa759e80b,0xb4091bff,0x466298fc,0x1871a4d8,0xea1a27db,0xf94ad42f,0xb21572c,0xdfeb33c7,0x2d80b0c4,0x3ed04330,0xccbbc033,0xa24bb5a6,0x502036a5,0x4370c551,0xb11b4652,0x65d122b9,0x97baa1ba,0x84ea524e,0x7681d14d,0x2892ed69,0xdaf96e6a,0xc9a99d9e,0x3bc21e9d,0xef087a76,0x1d63f975,0xe330a81,0xfc588982,0xb21572c9,0x407ef1ca,0x532e023e,0xa145813d,0x758fe5d6,0x87e466d5,0x94b49521,0x66df1622,0x38cc2a06,0xcaa7a905,0xd9f75af1,0x2b9cd9f2,0xff56bd19,0xd3d3e1a,0x1e6dcdee,0xec064eed,0xc38d26c4,0x31e6a5c7,0x22b65633,0xd0ddd530,0x417b1db,0xf67c32d8,0xe52cc12c,0x1747422f,0x49547e0b,0xbb3ffd08,0xa86f0efc,0x5a048dff,0x8ecee914,0x7ca56a17,0x6ff599e3,0x9d9e1ae0,0xd3d3e1ab,0x21b862a8,0x32e8915c,0xc083125f,0x144976b4,0xe622f5b7,0xf5720643,0x7198540,0x590ab964,0xab613a67,0xb831c993,0x4a5a4a90,0x9e902e7b,0x6cfbad78,0x7fab5e8c,0x8dc0dd8f,0xe330a81a,0x115b2b19,0x20bd8ed,0xf0605bee,0x24aa3f05,0xd6c1bc06,0xc5914ff2,0x37faccf1,0x69e9f0d5,0x9b8273d6,0x88d28022,0x7ab90321,0xae7367ca,0x5c18e4c9,0x4f48173d,0xbd23943e,0xf36e6f75,0x105ec76,0x12551f82,0xe03e9c81,0x34f4f86a,0xc69f7b69,0xd5cf889d,0x27a40b9e,0x79b737ba,0x8bdcb4b9,0x988c474d,0x6ae7c44e,0xbe2da0a5,0x4c4623a6,0x5f16d052,0xad7d5351],S=(0,g.uint32ArrayFrom)(w)},65067:(e,d,h)=>{"use strict";h.d(d,{rC:()=>I,rD:()=>B,Co:()=>j,a0:()=>O});let m=async e=>{let d=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=d.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),w(d)){if(!0===e.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else v(d)&&(-1===d.indexOf(".")||String(e.Endpoint).startsWith("http:"))&&d.toLowerCase()===d&&!(d.length<3)||(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},g=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,y=/(\d+\.){3}\d+/,b=/\.\./,v=e=>g.test(e)&&!y.test(e)&&!b.test(e),w=e=>{let[d,h,m,,,g]=e.split(":"),y="arn"===d&&e.split(":").length>=6,b=!!(y&&h&&m&&g);if(y&&!b)throw Error(`Invalid ARN: ${e} was an invalid ARN.`);return b},S=(e,d,h)=>{let m=async()=>{let m=h[e]??h[d];return"function"==typeof m?m():m};return"credentialScope"===e||"CredentialScope"===d?async()=>{let e="function"==typeof h.credentials?await h.credentials():h.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===d?async()=>{let e="function"==typeof h.credentials?await h.credentials():h.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===d?async()=>{let e=await m();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){let{protocol:d,hostname:h,port:m,path:g}=e;return`${d}//${h}${m?":"+m:""}${g}`}}return e}:m};var x=h(35804),_=h(71475);let E="AWS_ENDPOINT_URL",T="endpoint_url",k=e=>({environmentVariableSelector:d=>{let h=d[[E,...e.split(" ").map(e=>e.toUpperCase())].join("_")];if(h)return h;let m=d[E];if(m)return m},configFileSelector:(d,h)=>{if(h&&d.services){let m=h[["services",d.services].join(_.CONFIG_PREFIX_SEPARATOR)];if(m){let d=m[[e.split(" ").map(e=>e.toLowerCase()).join("_"),T].join(_.CONFIG_PREFIX_SEPARATOR)];if(d)return d}}let m=d[T];if(m)return m},default:void 0}),C=async e=>(0,x.loadConfig)(k(e??""))();var P=h(92828);let O=e=>"object"==typeof e?"url"in e?(0,P.parseUrl)(e.url):e:(0,P.parseUrl)(e),I=async(e,d,h,m)=>{if(!h.endpoint){let e;(e=h.serviceConfiguredEndpoint?await h.serviceConfiguredEndpoint():await C(h.serviceId))&&(h.endpoint=()=>Promise.resolve(O(e)))}let g=await R(e,d,h);if("function"!=typeof h.endpointProvider)throw Error("config.endpointProvider is not set.");return h.endpointProvider(g,m)},R=async(e,d,h)=>{let g={},y=d?.getEndpointParameterInstructions?.()||{};for(let[d,m]of Object.entries(y))switch(m.type){case"staticContextParams":g[d]=m.value;break;case"contextParams":g[d]=e[m.name];break;case"clientContextParams":case"builtInParams":g[d]=await S(m.name,d,h)();break;case"operationContextParams":g[d]=m.get(e);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(m))}return 0===Object.keys(y).length&&Object.assign(g,h),"s3"===String(h.serviceId).toLowerCase()&&await m(g),g};var D=h(55324),L=h(43510);let $=({config:e,instructions:d})=>(h,m)=>async g=>{e.endpoint&&(0,D.setFeature)(m,"ENDPOINT_OVERRIDE","N");let y=await I(g.input,{getEndpointParameterInstructions:()=>d},{...e},m);m.endpointV2=y,m.authSchemes=y.properties?.authSchemes;let b=m.authSchemes?.[0];if(b){m.signing_region=b.signingRegion,m.signing_service=b.signingName;let e=(0,L.getSmithyContext)(m),d=e?.selectedHttpAuthScheme?.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:b.signingRegion,signingRegion:b.signingRegion,signing_service:b.signingName,signingName:b.signingName,signingRegionSet:b.signingRegionSet},b.properties))}return h({...g})},M={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:h(12081).serializerMiddlewareOption.name},B=(e,d)=>({applyToStack:h=>{h.addRelativeTo($({config:e,instructions:d}),M)}}),j=e=>{let d,h=e.tls??!0,{endpoint:m,useDualstackEndpoint:g,useFipsEndpoint:y}=e,b=Object.assign(e,{endpoint:null!=m?async()=>O(await (0,L.normalizeProvider)(m)()):void 0,tls:h,isCustomEndpoint:!!m,useDualstackEndpoint:(0,L.normalizeProvider)(g??!1),useFipsEndpoint:(0,L.normalizeProvider)(y??!1)});return b.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=C(e.serviceId)),d),b}},65111:(e,d,h)=>{"use strict";h.d(d,{L:()=>T});var m=h(26154),g=h(553),y=h(14603),b=h(19131),v=h(89426),w=h(97507),S=h(71707),x=h(12276),_=h(8190),E=h(37601);let T=async e=>{let{id:d,currentDepth:h,depth:T,disableErrors:k,globalConfig:C,overrideAccess:P,populate:O,req:{fallbackLocale:I,locale:R,payload:D},req:L,select:$,showHiddenFields:M}=e;try{let e=!!P||await (0,m.A)({id:d,disableErrors:k,req:L},C.access.readVersions);if(!1===e)return null;let S="object"==typeof e,B=(0,x.Y)({fields:(0,_.p)(D.config,C,!0),forceSelect:(0,E.V)({select:C.forceSelect}),select:$,versions:!0}),j={global:C.slug,limit:1,locale:R,req:L,select:B,where:(0,g.m)({id:{equals:d}},e)};if(!j.where.and[0].id)throw new y.M(L.t);let{docs:U}=await D.db.findGlobalVersions(j);if(!U||U?.length===0){if(!k){if(!S)throw new y.M(L.t);if(S)throw new b.c(L.t)}return null}let F=(0,w.Zt)(U[0]);if(F.version||(F.version={}),F.version.globalType=C.slug,C.hooks?.beforeRead?.length)for(let e of C.hooks.beforeRead)F=await e({context:L.context,doc:F.version,global:C,req:L})||F.version;if(F.version=await (0,v.v)({collection:null,context:L.context,currentDepth:h,depth:T,doc:F.version,draft:void 0,fallbackLocale:I,global:C,locale:R,overrideAccess:P,populate:O,req:L,select:"object"==typeof B?.version?B.version:void 0,showHiddenFields:M}),C.hooks?.afterRead?.length)for(let e of C.hooks.afterRead)F.version=await e({context:L.context,doc:F.version,global:C,query:j.where,req:L})||F.version;return F}catch(e){throw await (0,S.J)(L),e}}},65172:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(89779),g=h(11622),y=h(31934),b=h(88561);d.default={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:d,schema:h,parentSchema:v,data:w,it:S}=e;"all"===S.opts.removeAdditional&&void 0===v.additionalProperties&&b.default.code(new m.KeywordCxt(S,b.default,"additionalProperties"));let x=(0,g.allSchemaProperties)(h);for(let e of x)S.definedProperties.add(e);S.opts.unevaluated&&x.length&&!0!==S.props&&(S.props=y.mergeEvaluated.props(d,(0,y.toHash)(x),S.props));let _=x.filter(e=>!(0,y.alwaysValidSchema)(S,h[e]));if(0===_.length)return;let E=d.name("valid");for(let h of _)T(h)?k(h):(d.if((0,g.propertyInData)(d,w,h,S.opts.ownProperties)),k(h),S.allErrors||d.else().var(E,!0),d.endIf()),e.it.definedProperties.add(h),e.ok(E);function T(e){return S.opts.useDefaults&&!S.compositeRule&&void 0!==h[e].default}function k(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},E)}}}},65175:(e,d,h)=>{"use strict";h.d(d,{Z:()=>m});let m=async({collection:e,doc:d,payload:h,req:m})=>{"lockUntil"in d&&"string"==typeof d.lockUntil&&0!==d.loginAttempts&&await h.update({id:d.id,collection:e.slug,data:{lockUntil:null,loginAttempts:0},depth:0,overrideAccess:!0,req:m})}},65196:(e,d,h)=>{"use strict";let m=h(52838),g=h(60646),{erase:y,cursor:b}=h(41893),{style:v,clear:w,figures:S,wrap:x,entriesToDisplay:_}=h(31347),E=(e,d)=>e[d]&&(e[d].value||e[d].title||e[d]),T=(e,d)=>e[d]&&(e[d].title||e[d].value||e[d]),k=(e,d)=>{let h=e.findIndex(e=>e.value===d||e.title===d);return h>-1?h:void 0};class C extends g{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial="number"==typeof e.initial?e.initial:k(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=v.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=w("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return"number"==typeof this._fb?e=this.choices[this._fb]:"string"==typeof this._fb&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=E(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let d=this.completing=this.suggest(this.input,this.choices),h=await d;if(this.completing!==d)return;this.suggestions=h.map((e,d,h)=>({title:T(h,d),value:E(h,d),description:e.description})),this.completing=!1;let m=Math.max(h.length-1,0);this.moveSelect(Math.min(m,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,d){let h=this.input.slice(0,this.cursor),m=this.input.slice(this.cursor);this.input=`${h}${e}${m}`,this.cursor=h.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let e=this.input.slice(0,this.cursor-1),d=this.input.slice(this.cursor);this.input=`${e}${d}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),d=this.input.slice(this.cursor+1);this.input=`${e}${d}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,d,h,g){let y,b=h?S.arrowUp:g?S.arrowDown:" ",v=d?m.cyan().underline(e.title):e.title;return b=(d?m.cyan(S.pointer)+" ":"  ")+b,e.description&&(y=` - ${e.description}`,(b.length+v.length+y.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(y="\n"+x(e.description,{margin:3,width:this.out.columns}))),b+" "+v+m.gray(y||"")}render(){if(this.closed)return;this.firstRender?this.out.write(b.hide):this.out.write(w(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:d}=_(this.select,this.choices.length,this.limit);if(this.outputText=[v.symbol(this.done,this.aborted,this.exited),m.bold(this.msg),v.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let h=this.suggestions.slice(e,d).map((h,m)=>this.renderOption(h,this.select===m+e,0===m&&e>0,m+e===d-1&&d<this.choices.length)).join("\n");this.outputText+=`
`+(h||m.gray(this.fallback.title))}this.out.write(y.line+b.to(0)+this.outputText)}}e.exports=C},65428:e=>{"use strict";class d{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,d){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:d})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}e.exports=d},65429:(e,d,h)=>{"use strict";let m=h(29021),g=h(94735),y=h(28354).inherits,b=h(33873),v=h(12755),w=h(12412),S=100,x=Buffer.allocUnsafe(0),_=16384,E="buffer",T="utf8",[k,C]=(process.versions.node||"0.0").split(".").map(Number),P=k>=22&&C>=7;function O(e,d){function h(h,m){if(h){d._reopening=!1,d._writing=!1,d._opening=!1,d.sync?process.nextTick(()=>{d.listenerCount("error")>0&&d.emit("error",h)}):d.emit("error",h);return}let g=d._reopening;d.fd=m,d.file=e,d._reopening=!1,d._opening=!1,d._writing=!1,d.sync?process.nextTick(()=>d.emit("ready")):d.emit("ready"),!d.destroyed&&(!d._writing&&d._len>d.minLength||d._flushPending?d._actualWrite():g&&process.nextTick(()=>d.emit("drain")))}d._opening=!0,d._writing=!0,d._asyncDrainScheduled=!1;let g=d.append?"a":"w",y=d.mode;if(d.sync)try{d.mkdir&&m.mkdirSync(b.dirname(e),{recursive:!0});let v=m.openSync(e,g,y);h(null,v)}catch(e){throw h(e),e}else d.mkdir?m.mkdir(b.dirname(e),{recursive:!0},d=>{if(d)return h(d);m.open(e,g,y,h)}):m.open(e,g,y,h)}function I(e){let d,h;if(!(this instanceof I))return new I(e);let{fd:g,dest:y,minLength:b,maxLength:w,maxWrite:k,periodicFlush:C,sync:P,append:L=!0,mkdir:B,retryEAGAIN:K,fsync:G,contentMode:W,mode:J}=e||{};if(g=g||y,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(b||0,16387),this.file=null,this.destroyed=!1,this.minLength=b||0,this.maxLength=w||0,this.maxWrite=k||_,this._periodicFlush=C||0,this._periodicFlushTimer=void 0,this.sync=P||!1,this.writable=!0,this._fsync=G||!1,this.append=L||!1,this.mode=J,this.retryEAGAIN=K||(()=>!0),this.mkdir=B||!1,W===E)this._writingBuf=x,this.write=M,this.flush=U,this.flushSync=z,this._actualWrite=V,d=()=>m.writeSync(this.fd,this._writingBuf),h=()=>m.write(this.fd,this._writingBuf,this.release);else if(void 0===W||W===T)this._writingBuf="",this.write=$,this.flush=j,this.flushSync=F,this._actualWrite=q,d=()=>m.writeSync(this.fd,this._writingBuf,"utf8"),h=()=>m.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "${T}" and "${E}", but passed ${W}`);if("number"==typeof g)this.fd=g,process.nextTick(()=>this.emit("ready"));else if("string"==typeof g)O(g,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(e,g)=>{if(e){if(("EAGAIN"===e.code||"EBUSY"===e.code)&&this.retryEAGAIN(e,this._writingBuf.length,this._len-this._writingBuf.length))if(this.sync)try{v(S),this.release(void 0,0)}catch(e){this.release(e)}else setTimeout(h,S);else this._writing=!1,this.emit("error",e);return}this.emit("write",g);let y=R(this._writingBuf,this._len,g);if(this._len=y.len,this._writingBuf=y.writingBuf,this._writingBuf.length){if(!this.sync)return void h();try{do{let e=d(),h=R(this._writingBuf,this._len,e);this._len=h.len,this._writingBuf=h.writingBuf}while(this._writingBuf.length)}catch(e){this.release(e);return}}this._fsync&&m.fsyncSync(this.fd);let b=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):b>this.minLength?this._actualWrite():this._ending?b>0?this._actualWrite():(this._writing=!1,H(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(D,this)):this.emit("drain"))},this.on("newListener",function(e){"drain"===e&&(this._asyncDrainScheduled=!1)}),0!==this._periodicFlush&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function R(e,d,h){return"string"==typeof e&&Buffer.byteLength(e)!==h&&(h=Buffer.from(e).subarray(0,h).toString().length),d=Math.max(d-h,0),{writingBuf:e=e.slice(h),len:d}}function D(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}function L(e,d){return 0===e.length?x:1===e.length?e[0]:Buffer.concat(e,d)}function $(e){if(this.destroyed)throw Error("SonicBoom destroyed");let d=this._len+e.length,h=this._bufs;return this.maxLength&&d>this.maxLength?this.emit("drop",e):(0===h.length||h[h.length-1].length+e.length>this.maxWrite?h.push(""+e):h[h.length-1]+=e,this._len=d,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function M(e){if(this.destroyed)throw Error("SonicBoom destroyed");let d=this._len+e.length,h=this._bufs,m=this._lens;return this.maxLength&&d>this.maxLength?this.emit("drop",e):(0===h.length||m[m.length-1]+e.length>this.maxWrite?(h.push([e]),m.push(e.length)):(h[h.length-1].push(e),m[m.length-1]+=e.length),this._len=d,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function B(e){this._flushPending=!0;let d=()=>{if(this._fsync)this._flushPending=!1,e();else try{m.fsync(this.fd,d=>{this._flushPending=!1,e(d)})}catch(d){e(d)}this.off("error",h)},h=h=>{this._flushPending=!1,e(h),this.off("drain",d)};this.once("drain",d),this.once("error",h)}function j(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let d=Error("SonicBoom destroyed");if(e)return void e(d);throw d}if(this.minLength<=0)return void e?.();e&&B.call(this,e),this._writing||(0===this._bufs.length&&this._bufs.push(""),this._actualWrite())}function U(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let d=Error("SonicBoom destroyed");if(e)return void e(d);throw d}if(this.minLength<=0)return void e?.();e&&B.call(this,e),this._writing||(0===this._bufs.length&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}function F(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let d=m.writeSync(this.fd,e,"utf8"),h=R(e,this._len,d);e=h.writingBuf,this._len=h.len,e.length<=0&&this._bufs.shift()}catch(d){if(("EAGAIN"===d.code||"EBUSY"===d.code)&&!this.retryEAGAIN(d,e.length,this._len-e.length))throw d;v(S)}}try{m.fsyncSync(this.fd)}catch{}}function z(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=x);let e=x;for(;this._bufs.length||e.length;){e.length<=0&&(e=L(this._bufs[0],this._lens[0]));try{let d=m.writeSync(this.fd,e);e=e.subarray(d),this._len=Math.max(this._len-d,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(d){if(("EAGAIN"===d.code||"EBUSY"===d.code)&&!this.retryEAGAIN(d,e.length,this._len-e.length))throw d;v(S)}}}function q(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let d=m.writeSync(this.fd,this._writingBuf,"utf8");e(null,d)}catch(d){e(d)}else m.write(this.fd,this._writingBuf,"utf8",e)}function V(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:L(this._bufs.shift(),this._lens.shift()),this.sync)try{let d=m.writeSync(this.fd,this._writingBuf);e(null,d)}catch(d){e(d)}else P&&(this._writingBuf=Buffer.from(this._writingBuf)),m.write(this.fd,this._writingBuf,e)}function H(e){if(-1===e.fd)return void e.once("ready",H.bind(null,e));void 0!==e._periodicFlushTimer&&clearInterval(e._periodicFlushTimer),e.destroyed=!0,e._bufs=[],e._lens=[],w("number"==typeof e.fd,`sonic.fd must be a number, got ${typeof e.fd}`);try{m.fsync(e.fd,d)}catch{}function d(){1!==e.fd&&2!==e.fd?m.close(e.fd,h):h()}function h(d){if(d)return void e.emit("error",d);e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}y(I,g),I.prototype.reopen=function(e){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.reopen(e)});if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let d=this.fd;this.once("ready",()=>{d!==this.fd&&m.close(d,e=>{if(e)return this.emit("error",e)})}),O(this.file,this)},I.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening)return void this.once("ready",()=>{this.end()});!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?this._actualWrite():H(this)))},I.prototype.destroy=function(){this.destroyed||H(this)},I.SonicBoom=I,I.default=I,e.exports=I},65495:e=>{"use strict";e.exports=(e,d,h)=>{h=h||d;let m=Math.min(d-h,e-Math.floor(h/2));m<0&&(m=0);let g=Math.min(m+h,d);return{startIndex:m,endIndex:g}}},65882:(e,d,h)=>{"use strict";let m=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:g}=h(78506),y=g.info;function b(e,d){return e.level-d.level}function v(e,d){return d?e-1:0}function w(e,d){return d?e-1:e+1}function S(e,d,h){return h?e>=0:e<d}e.exports=function(e,d){let h=0;e=e||[],d=d||{dedupe:!1};let x=Object.create(g);x.silent=1/0,d.levels&&"object"==typeof d.levels&&Object.keys(d.levels).forEach(e=>{x[e]=d.levels[e]});let _={write:E,add:C,emit:T,flushSync:k,end:P,minLevel:0,streams:[],clone:O,[m]:!0,streamLevels:x};return Array.isArray(e)?e.forEach(C,_):C.call(_,e),e=null,_;function E(e){let h,g,y=this.lastLevel,{streams:b}=this,x=0;for(let _=v(b.length,d.dedupe);S(_,b.length,d.dedupe);_=w(_,d.dedupe))if((h=b[_]).level<=y){if(0!==x&&x!==h.level)break;if((g=h.stream)[m]){let{lastTime:e,lastMsg:d,lastObj:h,lastLogger:m}=this;g.lastLevel=y,g.lastTime=e,g.lastMsg=d,g.lastObj=h,g.lastLogger=m}g.write(e),d.dedupe&&(x=h.level)}else if(!d.dedupe)break}function T(...e){for(let{stream:d}of this.streams)"function"==typeof d.emit&&d.emit(...e)}function k(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync()}function C(e){let d;if(!e)return _;let m="function"==typeof e.write||e.stream,g=e.write?e:e.stream;if(!m)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:v,streamLevels:w}=this,S={stream:g,level:d="number"==typeof e.levelVal?e.levelVal:"string"==typeof e.level?w[e.level]:"number"==typeof e.level?e.level:y,levelVal:void 0,id:h++};return v.unshift(S),v.sort(b),this.minLevel=v[0].level,_}function P(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync(),e.end()}function O(e){let d=Array(this.streams.length);for(let h=0;h<d.length;h++)d[h]={level:e,stream:this.streams[h].stream};return{write:E,add:C,minLevel:e,streams:d,clone:O,emit:T,flushSync:k,[m]:!0}}}},65930:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046);d.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,m.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,m._)`{multipleOf: ${e}}`},code(e){let{gen:d,data:h,schemaCode:g,it:y}=e,b=y.opts.multipleOfPrecision,v=d.let("res"),w=b?(0,m._)`Math.abs(Math.round(${v}) - ${v}) > 1e-${b}`:(0,m._)`${v} !== parseInt(${v})`;e.fail$data((0,m._)`(${g} === 0 || (${v} = ${h}/${g}, ${w}))`)}}},65989:e=>{"use strict";e.exports=function e(d,h){if(d===h)return!0;if(d&&h&&"object"==typeof d&&"object"==typeof h){if(d.constructor!==h.constructor)return!1;if(Array.isArray(d)){if((m=d.length)!=h.length)return!1;for(g=m;0!=g--;)if(!e(d[g],h[g]))return!1;return!0}if(d.constructor===RegExp)return d.source===h.source&&d.flags===h.flags;if(d.valueOf!==Object.prototype.valueOf)return d.valueOf()===h.valueOf();if(d.toString!==Object.prototype.toString)return d.toString()===h.toString();if((m=(y=Object.keys(d)).length)!==Object.keys(h).length)return!1;for(g=m;0!=g--;)if(!Object.prototype.hasOwnProperty.call(h,y[g]))return!1;for(g=m;0!=g--;){var m,g,y,b=y[g];if(!e(d[b],h[b]))return!1}return!0}return d!=d&&h!=h}},66091:e=>{"use strict";let d=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,h=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function m(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function g(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function y(e){let d="https"===String(e.scheme).toLowerCase();return(e.port===(d?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}function b(e){return e.secure=m(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function v(e){if((e.port===(m(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[d,h]=e.resourceName.split("?");e.path=d&&"/"!==d?d:void 0,e.query=h,e.resourceName=void 0}return e.fragment=void 0,e}function w(e,d){if(!e.path)return e.error="URN can not be parsed",e;let m=e.path.match(h);if(m){let h=d.scheme||e.scheme||"urn";e.nid=m[1].toLowerCase(),e.nss=m[2];let g=P[`${h}:${d.nid||e.nid}`];e.path=void 0,g&&(e=g.parse(e,d))}else e.error=e.error||"URN can not be parsed.";return e}function S(e,d){let h=d.scheme||e.scheme||"urn",m=e.nid.toLowerCase(),g=P[`${h}:${d.nid||m}`];g&&(e=g.serialize(e,d));let y=e,b=e.nss;return y.path=`${m||d.nid}:${b}`,d.skipEscape=!0,y}function x(e,h){let m=e;return m.uuid=m.nss,m.nss=void 0,h.tolerant||m.uuid&&d.test(m.uuid)||(m.error=m.error||"UUID is not valid."),m}function _(e){let d=e;return d.nss=(e.uuid||"").toLowerCase(),d}let E={scheme:"http",domainHost:!0,parse:g,serialize:y},T={scheme:"https",domainHost:E.domainHost,parse:g,serialize:y},k={scheme:"ws",domainHost:!0,parse:b,serialize:v},C={scheme:"wss",domainHost:k.domainHost,parse:k.parse,serialize:k.serialize},P={http:E,https:T,ws:k,wss:C,urn:{scheme:"urn",parse:w,serialize:S,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:x,serialize:_,skipNormalize:!0}};e.exports=P},66125:(e,d)=>{"use strict";var h;Object.defineProperty(d,"__esModule",{value:!0}),d.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(h||(d.DiscrError=h={}))},66412:(e,d,h)=>{"use strict";h.d(d,{Q:()=>y});var m=h(55511),g=h(72433);let y=async({doc:e,password:d})=>{try{let{hash:h,salt:y}=e;if("string"==typeof y&&"string"==typeof h)return await new Promise((b,v)=>{m.pbkdf2(d,y,25e3,512,"sha256",(d,m)=>{d&&v(d),g(m,Buffer.from(h,"hex"))?b(e):v(Error("Invalid password"))})});return null}catch(e){return null}}},66493:e=>{"use strict";var d,h=function(){function e(e,d){if("function"!=typeof e)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=w(d),this._batchScheduleFn=S(d),this._cacheKeyFn=x(d),this._cacheMap=_(d),this._batch=null,this.name=E(d)}var d=e.prototype;return d.load=function(e){if(null==e)throw TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var d,h=g(this),m=this._cacheMap;if(m){d=this._cacheKeyFn(e);var y=m.get(d);if(y){var b=h.cacheHits||(h.cacheHits=[]);return new Promise(function(e){b.push(function(){e(y)})})}}h.keys.push(e);var v=new Promise(function(e,d){h.callbacks.push({resolve:e,reject:d})});return m&&m.set(d,v),v},d.loadMany=function(e){if(!T(e))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var d=[],h=0;h<e.length;h++)d.push(this.load(e[h]).catch(function(e){return e}));return Promise.all(d)},d.clear=function(e){var d=this._cacheMap;if(d){var h=this._cacheKeyFn(e);d.delete(h)}return this},d.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},d.prime=function(e,d){var h=this._cacheMap;if(h){var m,g=this._cacheKeyFn(e);void 0===h.get(g)&&(d instanceof Error?(m=Promise.reject(d)).catch(function(){}):m=Promise.resolve(d),h.set(g,m))}return this},e}(),m="object"==typeof process&&"function"==typeof process.nextTick?function(e){d||(d=Promise.resolve()),d.then(function(){process.nextTick(e)})}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function g(e){var d=e._batch;if(null!==d&&!d.hasDispatched&&d.keys.length<e._maxBatchSize)return d;var h={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=h,e._batchScheduleFn(function(){y(e,h)}),h}function y(e,d){var h;if(d.hasDispatched=!0,0===d.keys.length)return void v(d);try{h=e._batchLoadFn(d.keys)}catch(h){return b(e,d,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(h)+"."))}if(!h||"function"!=typeof h.then)return b(e,d,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(h)+"."));h.then(function(e){if(!T(e))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==d.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(d.keys)+"\n\nValues:\n"+String(e));v(d);for(var h=0;h<d.callbacks.length;h++){var m=e[h];m instanceof Error?d.callbacks[h].reject(m):d.callbacks[h].resolve(m)}}).catch(function(h){b(e,d,h)})}function b(e,d,h){v(d);for(var m=0;m<d.keys.length;m++)e.clear(d.keys[m]),d.callbacks[m].reject(h)}function v(e){if(e.cacheHits)for(var d=0;d<e.cacheHits.length;d++)e.cacheHits[d]()}function w(e){if(!(!e||!1!==e.batch))return 1;var d=e&&e.maxBatchSize;if(void 0===d)return 1/0;if("number"!=typeof d||d<1)throw TypeError("maxBatchSize must be a positive number: "+d);return d}function S(e){var d=e&&e.batchScheduleFn;if(void 0===d)return m;if("function"!=typeof d)throw TypeError("batchScheduleFn must be a function: "+d);return d}function x(e){var d=e&&e.cacheKeyFn;if(void 0===d)return function(e){return e};if("function"!=typeof d)throw TypeError("cacheKeyFn must be a function: "+d);return d}function _(e){if(!(!e||!1!==e.cache))return null;var d=e&&e.cacheMap;if(void 0===d)return new Map;if(null!==d){var h=["get","set","delete","clear"].filter(function(e){return d&&"function"!=typeof d[e]});if(0!==h.length)throw TypeError("Custom cacheMap missing methods: "+h.join(", "))}return d}function E(e){return e&&e.name?e.name:null}function T(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=h},66630:(e,d,h)=>{"use strict";let m=h(90473);class g extends m{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}e.exports=g},66677:(e,d,h)=>{"use strict";let m=h(97750),g=e=>1==(e%=10)?"st":2===e?"nd":3===e?"rd":"th";class y extends m{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),d=this.date.getDay();return"DD"===this.token?String(e).padStart(2,"0"):"Do"===this.token?e+g(e):"d"===this.token?d+1:"ddd"===this.token?this.locales.weekdaysShort[d]:"dddd"===this.token?this.locales.weekdays[d]:e}}e.exports=y},67018:(e,d,h)=>{"use strict";var m=h(79067),g=/[\/\?<>\\:\*\|"]/g,y=/[\x00-\x1f\x80-\x9f]/g,b=/^\.+$/,v=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,w=/[\. ]+$/;function S(e,d){if("string"!=typeof e)throw Error("Input must be string");return m(e.replace(g,d).replace(y,d).replace(b,d).replace(v,d).replace(w,d),255)}e.exports=function(e,d){var h=d&&d.replacement||"",m=S(e,h);return""===h?m:S(m,"")}},67057:(e,d,h)=>{"use strict";h.d(d,{O:()=>v});var m=h(81322),g=h(71707),y=h(91182);let b=["create","read","update","delete"];async function v(e){let{id:d,collection:{config:h},req:v}=e,w=[...b];h.auth&&void 0!==h.auth.maxLoginAttempts&&0!==h.auth.maxLoginAttempts&&w.push("unlock"),h.versions&&w.push("readVersions");try{let e=await (0,m.U)({id:d,type:"collection",blockPolicies:{},entity:h,operations:w,req:v}),g=(0,y.yD)({collections:{[h.slug]:e}});return g?.collections?.[h.slug]}catch(e){throw await (0,g.J)(v),e}}},67174:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromTokenFile:()=>x,fromWebToken:()=>b});var m=h(76941),g=h(11075),y=h(29021);let b=e=>async d=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:m,roleSessionName:g,webIdentityToken:y,providerId:b,policyArns:v,policy:w,durationSeconds:S}=e,{roleAssumerWithWebIdentity:x}=e;if(!x){let{getDefaultRoleAssumerWithWebIdentity:m}=await h.e(5502).then(h.bind(h,93121));x=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...d?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return x({RoleArn:m,RoleSessionName:g??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:y,ProviderId:b,PolicyArns:v,Policy:w,DurationSeconds:S})},v="AWS_WEB_IDENTITY_TOKEN_FILE",w="AWS_ROLE_ARN",S="AWS_ROLE_SESSION_NAME",x=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let d=e?.webIdentityTokenFile??process.env[v],h=e?.roleArn??process.env[w],x=e?.roleSessionName??process.env[S];if(!d||!h)throw new g.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let _=await b({...e,webIdentityToken:(0,y.readFileSync)(d,{encoding:"ascii"}),roleArn:h,roleSessionName:x})();return d===process.env[v]&&(0,m.g)(_,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),_}},67232:(e,d,h)=>{"use strict";let m=h(90473),g=e=>1==(e%=10)?"st":2===e?"nd":3===e?"rd":"th";class y extends m{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),d=this.date.getDay();return"DD"===this.token?String(e).padStart(2,"0"):"Do"===this.token?e+g(e):"d"===this.token?d+1:"ddd"===this.token?this.locales.weekdaysShort[d]:"dddd"===this.token?this.locales.weekdays[d]:e}}e.exports=y},67240:(e,d,h)=>{"use strict";h.d(d,{Q:()=>m});let m=e=>{let{adminRoute:d,basePath:h="",path:m,serverURL:g}=e,y=m||"";if(d){if("/"!==d)return`${g||""}${h}${d}${y}`;else if(!y)return`${g||""}${h}${d}`}return`${g||""}${h}${y}`}},67255:(e,d,h)=>{"use strict";let m=h(78518);e.exports=function(e,d){let h=String(m(e)||"").split(/\r?\n/);return d?h.map(e=>Math.ceil(e.length/d)).reduce((e,d)=>e+d):h.length}},67524:(e,d,h)=>{"use strict";e.exports=w;let{DATE_FORMAT:m,DATE_FORMAT_SIMPLE:g}=h(40844),y=h(5072),b=h(88264),v=h(813);function w(e,d=!1){if(!1===d)return e;let h=b(e);if(!v(h))return e;if(!0===d)return y(h,g);let S=d.toUpperCase();if("SYS:STANDARD"===S)return y(h,m);let x=S.substr(0,4);return"SYS:"===x||"UTC:"===x?"UTC:"===x?y(h,d):y(h,d.slice(4)):y(h,`UTC:${d}`)}},67633:(e,d,h)=>{"use strict";let m=h(97140),g=h(31088);class y{constructor(e){e=e||{},this.options=e||{},this.name="StreamTransport",this.version=m.version,this.logger=g.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())}send(e,d){e.message.keepBcc=!0;let h=e.data.envelope||e.message.getEnvelope(),m=e.message.messageId(),g=[].concat(h.to||[]);g.length>3&&g.push("...and "+g.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:m},"Sending message %s to <%s> using %s line breaks",m,g.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let h;try{h=e.message.createReadStream()}catch(e){return this.logger.error({err:e,tnx:"send",messageId:m},"Creating send stream failed for %s. %s",m,e.message),d(e)}if(!this.options.buffer)return h.once("error",e=>{this.logger.error({err:e,tnx:"send",messageId:m},"Failed creating message for %s. %s",m,e.message)}),d(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:m,message:h});let g=[],y=0;h.on("readable",()=>{let e;for(;null!==(e=h.read());)g.push(e),y+=e.length}),h.once("error",e=>(this.logger.error({err:e,tnx:"send",messageId:m},"Failed creating message for %s. %s",m,e.message),d(e))),h.on("end",()=>d(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:m,message:Buffer.concat(g,y)}))})}}e.exports=y},67946:(e,d,h)=>{"use strict";function m(e,d,...h){if((h=h.filter(Boolean)).length>2){let d=h.pop();e+=`one of type ${h.join(", ")}, or ${d}.`}else 2===h.length?e+=`one of type ${h[0]} or ${h[1]}.`:e+=`of type ${h[0]}.`;return null==d?e+=` Received ${d}`:"function"==typeof d&&d.name?e+=` Received function ${d.name}`:"object"==typeof d&&null!=d&&d.constructor?.name&&(e+=` Received an instance of ${d.constructor.name}`),e}h.d(d,{A:()=>g,t:()=>y});let g=(e,...d)=>m("Key must be ",e,...d);function y(e,d,...h){return m(`Key for the ${e} algorithm must be `,d,...h)}},68139:(e,d,h)=>{"use strict";h.d(d,{$:()=>w});var m=h(55511),g=h(79853),y=h(93052);function b(){return new Promise((e,d)=>m.randomBytes(32,(h,m)=>h?d(h):e(m)))}function v(e,d){return new Promise((h,g)=>m.pbkdf2(e,d,25e3,512,"sha256",(e,d)=>e?g(e):h(d)))}let w=async({collection:e,password:d,req:h})=>{let m=(0,y.wJ)(d,{name:"password",type:"text",blockData:{},data:{},event:"submit",path:["password"],preferences:{fields:{}},req:h,required:!0,siblingData:{}});if("string"==typeof m)throw new g.y({collection:e?.slug,errors:[{message:m,path:"password"}]});let w=(await b()).toString("hex");return{hash:(await v(d,w)).toString("hex"),salt:w}}},68250:(e,d,h)=>{"use strict";let m=h(11997),g=h(7709),y={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},b=Symbol("failure");function v(e){return m.ucs2.decode(e).length}function w(e,d){let h=e[d];return isNaN(h)?void 0:String.fromCodePoint(h)}function S(e){return e>=48&&e<=57}function x(e){return e>=65&&e<=90||e>=97&&e<=122}function _(e){return x(e)||S(e)}function E(e){return S(e)||e>=65&&e<=70||e>=97&&e<=102}function T(e){return"."===e||"%2e"===e.toLowerCase()}function k(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e}function C(e,d){return x(e)&&(58===d||124===d)}function P(e){return 2===e.length&&x(e.codePointAt(0))&&(":"===e[1]||"|"===e[1])}function O(e){return 2===e.length&&x(e.codePointAt(0))&&":"===e[1]}function I(e){return -1!==e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)}function R(e){return -1!==e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)}function D(e){return void 0!==y[e]}function L(e){return D(e.scheme)}function $(e){return y[e]}function M(e){let d=e.toString(16).toUpperCase();return 1===d.length&&(d="0"+d),"%"+d}function B(e){let d=new Buffer(e),h="";for(let e=0;e<d.length;++e)h+=M(d[e]);return h}function j(e){let d=new Buffer(e),h=[];for(let e=0;e<d.length;++e)37!==d[e]?h.push(d[e]):37===d[e]&&E(d[e+1])&&E(d[e+2])?(h.push(parseInt(d.slice(e+1,e+3).toString(),16)),e+=2):h.push(d[e]);return new Buffer(h).toString()}function U(e){return e<=31||e>126}let F=new Set([32,34,35,60,62,63,96,123,125]);function z(e){return U(e)||F.has(e)}let q=new Set([47,58,59,61,64,91,92,93,94,124]);function V(e){return z(e)||q.has(e)}function H(e,d){let h=String.fromCodePoint(e);return d(e)?B(h):h}function K(e){let d=10;return(e.length>=2&&"0"===e.charAt(0)&&"x"===e.charAt(1).toLowerCase()?(e=e.substring(2),d=16):e.length>=2&&"0"===e.charAt(0)&&(e=e.substring(1),d=8),""===e)?0:(10===d?/[^0-9]/:16===d?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?b:parseInt(e,d)}function G(e){let d=e.split(".");if(""===d[d.length-1]&&d.length>1&&d.pop(),d.length>4)return e;let h=[];for(let m of d){if(""===m)return e;let d=K(m);if(d===b)return e;h.push(d)}for(let e=0;e<h.length-1;++e)if(h[e]>255)return b;if(h[h.length-1]>=Math.pow(256,5-h.length))return b;let m=h.pop(),g=0;for(let e of h)m+=e*Math.pow(256,3-g),++g;return m}function W(e){let d="",h=e;for(let e=1;e<=4;++e)d=String(h%256)+d,4!==e&&(d="."+d),h=Math.floor(h/256);return d}function J(e){let d=[0,0,0,0,0,0,0,0],h=0,g=null,y=0;if(58===(e=m.ucs2.decode(e))[y]){if(58!==e[y+1])return b;y+=2,g=++h}for(;y<e.length;){if(8===h)return b;if(58===e[y]){if(null!==g)return b;++y,g=++h;continue}let m=0,v=0;for(;v<4&&E(e[y]);)m=16*m+parseInt(w(e,y),16),++y,++v;if(46===e[y]){if(0===v||(y-=v,h>6))return b;let m=0;for(;void 0!==e[y];){let g=null;if(m>0)if(46!==e[y]||!(m<4))return b;else++y;if(!S(e[y]))return b;for(;S(e[y]);){let d=parseInt(w(e,y));if(null===g)g=d;else{if(0===g)return b;g=10*g+d}if(g>255)return b;++y}d[h]=256*d[h]+g,(2==++m||4===m)&&++h}if(4!==m)return b;break}if(58===e[y]){if(void 0===e[++y])return b}else if(void 0!==e[y])return b;d[h]=m,++h}if(null!==g){let e=h-g;for(h=7;0!==h&&e>0;){let m=d[g+e-1];d[g+e-1]=d[h],d[h]=m,--h,--e}}else if(null===g&&8!==h)return b;return d}function Q(e){let d="",h=Z(e).idx,m=!1;for(let g=0;g<=7;++g)if(!m||0!==e[g]){if(m&&(m=!1),h===g){d+=0===g?"::":":",m=!0;continue}d+=e[g].toString(16),7!==g&&(d+=":")}return d}function Y(e,d){if("["===e[0])return"]"!==e[e.length-1]?b:J(e.substring(1,e.length-1));if(!d)return X(e);let h=j(e),m=g.toASCII(h,!1,g.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===m||I(m))return b;let y=G(m);return"number"==typeof y||y===b?y:m}function X(e){if(R(e))return b;let d="",h=m.ucs2.decode(e);for(let e=0;e<h.length;++e)d+=H(h[e],U);return d}function Z(e){let d=null,h=1,m=null,g=0;for(let y=0;y<e.length;++y)0!==e[y]?(g>h&&(d=m,h=g),m=null,g=0):(null===m&&(m=y),++g);return g>h&&(d=m,h=g),{idx:d,len:h}}function ee(e){return"number"==typeof e?W(e):e instanceof Array?"["+Q(e)+"]":e}function et(e){return e.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function ei(e){return e.replace(/\u0009|\u000A|\u000D/g,"")}function er(e){let d=e.path;0!==d.length&&("file"===e.scheme&&1===d.length&&es(d[0])||d.pop())}function ea(e){return""!==e.username||""!==e.password}function en(e){return null===e.host||""===e.host||e.cannotBeABaseURL||"file"===e.scheme}function es(e){return/^[A-Za-z]:$/.test(e)}function eo(e,d,h,g,y){if(this.pointer=0,this.input=e,this.base=d||null,this.encodingOverride=h||"utf-8",this.stateOverride=y,this.url=g,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let e=et(this.input);e!==this.input&&(this.parseError=!0),this.input=e}let v=ei(this.input);for(v!==this.input&&(this.parseError=!0),this.input=v,this.state=y||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=m.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let e=this.input[this.pointer],d=isNaN(e)?void 0:String.fromCodePoint(e),h=this["parse "+this.state](e,d);if(h){if(h===b){this.failure=!0;break}}else break}}eo.prototype["parse scheme start"]=function(e,d){if(x(e))this.buffer+=d.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,b;this.state="no scheme",--this.pointer}return!0},eo.prototype["parse scheme"]=function(e,d){if(_(e)||43===e||45===e||46===e)this.buffer+=d.toLowerCase();else if(58===e){if(this.stateOverride&&(L(this.url)&&!D(this.buffer)||!L(this.url)&&D(this.buffer)||(ea(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):L(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":L(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,b;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},eo.prototype["parse no scheme"]=function(e){return null===this.base||this.base.cannotBeABaseURL&&35!==e?b:(this.base.cannotBeABaseURL&&35===e?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},eo.prototype["parse special relative or authority"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},eo.prototype["parse path or authority"]=function(e){return 47===e?this.state="authority":(this.state="path",--this.pointer),!0},eo.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===e?this.state="relative slash":63===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):L(this.url)&&92===e?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},eo.prototype["parse relative slash"]=function(e){return L(this.url)&&(47===e||92===e)?(92===e&&(this.parseError=!0),this.state="special authority ignore slashes"):47===e?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},eo.prototype["parse special authority slashes"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},eo.prototype["parse special authority ignore slashes"]=function(e){return 47!==e&&92!==e?(this.state="authority",--this.pointer):this.parseError=!0,!0},eo.prototype["parse authority"]=function(e,d){if(64===e){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let e=v(this.buffer);for(let d=0;d<e;++d){let e=this.buffer.codePointAt(d);if(58===e&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let h=H(e,V);this.passwordTokenSeenFlag?this.url.password+=h:this.url.username+=h}this.buffer=""}else if(isNaN(e)||47===e||63===e||35===e||L(this.url)&&92===e){if(this.atFlag&&""===this.buffer)return this.parseError=!0,b;this.pointer-=v(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=d;return!0},eo.prototype["parse hostname"]=eo.prototype["parse host"]=function(e,d){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==e||this.arrFlag)if(isNaN(e)||47===e||63===e||35===e||L(this.url)&&92===e){if(--this.pointer,L(this.url)&&""===this.buffer)return this.parseError=!0,b;if(this.stateOverride&&""===this.buffer&&(ea(this.url)||null!==this.url.port))return this.parseError=!0,!1;let e=Y(this.buffer,L(this.url));if(e===b)return b;if(this.url.host=e,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===e?this.arrFlag=!0:93===e&&(this.arrFlag=!1),this.buffer+=d;else{if(""===this.buffer)return this.parseError=!0,b;let e=Y(this.buffer,L(this.url));if(e===b)return b;if(this.url.host=e,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},eo.prototype["parse port"]=function(e,d){if(S(e))this.buffer+=d;else{if(!(isNaN(e)||47===e||63===e||35===e||L(this.url)&&92===e)&&!this.stateOverride)return this.parseError=!0,b;if(""!==this.buffer){let e=parseInt(this.buffer);if(e>65535)return this.parseError=!0,b;this.url.port=e===$(this.url.scheme)?null:e,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let el=new Set([47,92,63,35]);function ed(e,d){let h=e.scheme+":";if(null!==e.host?(h+="//",(""!==e.username||""!==e.password)&&(h+=e.username,""!==e.password&&(h+=":"+e.password),h+="@"),h+=ee(e.host),null!==e.port&&(h+=":"+e.port)):null===e.host&&"file"===e.scheme&&(h+="//"),e.cannotBeABaseURL)h+=e.path[0];else for(let d of e.path)h+="/"+d;return null!==e.query&&(h+="?"+e.query),d||null===e.fragment||(h+="#"+e.fragment),h}function ec(e){let d=e.scheme+"://";return d+=ee(e.host),null!==e.port&&(d+=":"+e.port),d}eo.prototype["parse file"]=function(e){return this.url.scheme="file",47===e||92===e?(92===e&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1!=0&&C(e,this.input[this.pointer+1])&&(!(this.input.length-this.pointer-1>=2)||el.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),er(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},eo.prototype["parse file slash"]=function(e){return 47===e||92===e?(92===e&&(this.parseError=!0),this.state="file host"):(null!==this.base&&"file"===this.base.scheme&&(O(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},eo.prototype["parse file host"]=function(e,d){if(isNaN(e)||47===e||92===e||63===e||35===e)if(--this.pointer,!this.stateOverride&&P(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let e=Y(this.buffer,L(this.url));if(e===b)return b;if("localhost"===e&&(e=""),this.url.host=e,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=d;return!0},eo.prototype["parse path start"]=function(e){return L(this.url)?(92===e&&(this.parseError=!0),this.state="path",47!==e&&92!==e&&--this.pointer):this.stateOverride||63!==e?this.stateOverride||35!==e?void 0!==e&&(this.state="path",47!==e&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},eo.prototype["parse path"]=function(e){if(isNaN(e)||47===e||L(this.url)&&92===e||!this.stateOverride&&(63===e||35===e)){if(L(this.url)&&92===e&&(this.parseError=!0),k(this.buffer)?(er(this.url),47===e||L(this.url)&&92===e||this.url.path.push("")):T(this.buffer)&&47!==e&&!(L(this.url)&&92===e)?this.url.path.push(""):T(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&P(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===e||63===e||35===e))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===e&&(this.url.query="",this.state="query"),35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||E(this.input[this.pointer+1])&&E(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=H(e,z);return!0},eo.prototype["parse cannot-be-a-base-URL path"]=function(e){return 63===e?(this.url.query="",this.state="query"):35===e?(this.url.fragment="",this.state="fragment"):(isNaN(e)||37===e||(this.parseError=!0),37!==e||E(this.input[this.pointer+1])&&E(this.input[this.pointer+2])||(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+H(e,U))),!0},eo.prototype["parse query"]=function(e,d){if(isNaN(e)||!this.stateOverride&&35===e){L(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let d=new Buffer(this.buffer);for(let e=0;e<d.length;++e)d[e]<33||d[e]>126||34===d[e]||35===d[e]||60===d[e]||62===d[e]?this.url.query+=M(d[e]):this.url.query+=String.fromCodePoint(d[e]);this.buffer="",35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||E(this.input[this.pointer+1])&&E(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=d;return!0},eo.prototype["parse fragment"]=function(e){return isNaN(e)||(0===e?this.parseError=!0:(37!==e||E(this.input[this.pointer+1])&&E(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=H(e,U))),!0},e.exports.serializeURL=ed,e.exports.serializeURLOrigin=function(d){switch(d.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(d.path[0]))}catch(e){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return ec({scheme:d.scheme,host:d.host,port:d.port});case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(e,d){void 0===d&&(d={});let h=new eo(e,d.baseURL,d.encodingOverride,d.url,d.stateOverride);return h.failure?"failure":h.url},e.exports.setTheUsername=function(e,d){e.username="";let h=m.ucs2.decode(d);for(let d=0;d<h.length;++d)e.username+=H(h[d],V)},e.exports.setThePassword=function(e,d){e.password="";let h=m.ucs2.decode(d);for(let d=0;d<h.length;++d)e.password+=H(h[d],V)},e.exports.serializeHost=ee,e.exports.cannotHaveAUsernamePasswordPort=en,e.exports.serializeInteger=function(e){return String(e)},e.exports.parseURL=function(d,h){return void 0===h&&(h={}),e.exports.basicURLParse(d,{baseURL:h.baseURL,encodingOverride:h.encodingOverride})}},68471:(e,d,h)=>{"use strict";let m=h(52838),{cursor:g}=h(41893),y=h(60646),{clear:b,figures:v,style:w,wrap:S,entriesToDisplay:x}=h(31347);class _ extends y{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((e,d)=>("string"==typeof e&&(e={title:e,value:d}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(void 0===e.value?d:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=b("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let e=this.value.filter(e=>e.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(d=>d.selected=e),this.render()}_(e,d){if(" "===e)this.handleSpaceToggle();else{if("a"!==e)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${v.arrowUp}/${v.arrowDown}: Highlight option
    ${v.arrowLeft}/${v.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,d,h,g){let y,b,w=(d.selected?m.green(v.radioOn):v.radioOff)+" "+g+" ";return d.disabled?y=e===h?m.gray().underline(d.title):m.strikethrough().gray(d.title):(y=e===h?m.cyan().underline(d.title):d.title,e===h&&d.description&&(b=` - ${d.description}`,(w.length+y.length+b.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(b="\n"+S(d.description,{margin:w.length,width:this.out.columns})))),w+y+m.gray(b||"")}paginateOptions(e){if(0===e.length)return m.red("No matches for this query.");let{startIndex:d,endIndex:h}=x(this.cursor,e.length,this.optionsPerPage),g,y=[];for(let m=d;m<h;m++)g=m===d&&d>0?v.arrowUp:m===h-1&&h<e.length?v.arrowDown:" ",y.push(this.renderOption(this.cursor,e[m],m,g));return"\n"+y.join("\n")}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[m.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(m.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(g.hide),super.render();let e=[w.symbol(this.done,this.aborted),m.bold(this.msg),w.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=m.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=b(e,this.out.columns)}}e.exports=_},68692:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934);d.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:d}})=>void 0===d?(0,m.str)`must contain at least ${e} valid item(s)`:(0,m.str)`must contain at least ${e} and no more than ${d} valid item(s)`,params:({params:{min:e,max:d}})=>void 0===d?(0,m._)`{minContains: ${e}}`:(0,m._)`{minContains: ${e}, maxContains: ${d}}`},code(e){let d,h,{gen:y,schema:b,parentSchema:v,data:w,it:S}=e,{minContains:x,maxContains:_}=v;S.opts.next?(d=void 0===x?1:x,h=_):d=1;let E=y.const("len",(0,m._)`${w}.length`);if(e.setParams({min:d,max:h}),void 0===h&&0===d)return void(0,g.checkStrictMode)(S,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==h&&d>h){(0,g.checkStrictMode)(S,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,g.alwaysValidSchema)(S,b)){let g=(0,m._)`${E} >= ${d}`;void 0!==h&&(g=(0,m._)`${g} && ${E} <= ${h}`),e.pass(g);return}S.items=!0;let T=y.name("valid");function k(){let e=y.name("_valid"),d=y.let("count",0);C(e,()=>y.if(e,()=>P(d)))}function C(d,h){y.forRange("i",0,E,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:g.Type.Num,compositeRule:!0},d),h()})}function P(e){y.code((0,m._)`${e}++`),void 0===h?y.if((0,m._)`${e} >= ${d}`,()=>y.assign(T,!0).break()):(y.if((0,m._)`${e} > ${h}`,()=>y.assign(T,!1).break()),1===d?y.assign(T,!0):y.if((0,m._)`${e} >= ${d}`,()=>y.assign(T,!0)))}void 0===h&&1===d?C(T,()=>y.if(T,()=>y.break())):0===d?(y.let(T,!0),void 0!==h&&y.if((0,m._)`${w}.length > 0`,k)):(y.let(T,!1),k()),e.result(T,()=>e.reset())}}},69126:(e,d,h)=>{"use strict";e.exports=h(35399)},69540:(e,d,h)=>{"use strict";h.d(d,{G:()=>g});var m=h(13741);class g{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e?.fileInfo??{},this.onClose=e?.onClose}async readToken(e,d=this.position){let h=new Uint8Array(e.len);if(await this.readBuffer(h,{position:d})<e.len)throw new m.d1;return e.get(h,0)}async peekToken(e,d=this.position){let h=new Uint8Array(e.len);if(await this.peekBuffer(h,{position:d})<e.len)throw new m.d1;return e.get(h,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new m.d1;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new m.d1;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){let d=this.fileInfo.size-this.position;if(e>d)return this.position+=d,d}return this.position+=e,e}async close(){await this.onClose?.()}normalizeOptions(e,d){if(d&&void 0!==d.position&&d.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return d?{mayBeLess:!0===d.mayBeLess,offset:d.offset?d.offset:0,length:d.length?d.length:e.length-(d.offset?d.offset:0),position:d.position?d.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}},69548:(e,d,h)=>{"use strict";h.d(d,{a:()=>m});let m=e=>{for(let d in e){let h=e[d];if(!1===h)return"exclude";if("object"==typeof h)return m(h)}return"include"}},69617:(e,d,h)=>{var m=h(96746),g=function(){},y=function(e){return e.setHeader&&"function"==typeof e.abort},b=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},v=function(e,d,h){if("function"==typeof d)return v(e,null,d);d||(d={}),h=m(h||g);var w=e._writableState,S=e._readableState,x=d.readable||!1!==d.readable&&e.readable,_=d.writable||!1!==d.writable&&e.writable,E=!1,T=function(){e.writable||k()},k=function(){_=!1,x||h.call(e)},C=function(){x=!1,_||h.call(e)},P=function(d){h.call(e,d?Error("exited with error code: "+d):null)},O=function(d){h.call(e,d)},I=function(){process.nextTick(R)},R=function(){if(!E&&(x&&!(S&&S.ended&&!S.destroyed)||_&&!(w&&w.ended&&!w.destroyed)))return h.call(e,Error("premature close"))},D=function(){e.req.on("finish",k)};return y(e)?(e.on("complete",k),e.on("abort",I),e.req?D():e.on("request",D)):_&&!w&&(e.on("end",T),e.on("close",T)),b(e)&&e.on("exit",P),e.on("end",C),e.on("finish",k),!1!==d.error&&e.on("error",O),e.on("close",I),function(){E=!0,e.removeListener("complete",k),e.removeListener("abort",I),e.removeListener("request",D),e.req&&e.req.removeListener("finish",k),e.removeListener("end",T),e.removeListener("close",T),e.removeListener("finish",k),e.removeListener("exit",P),e.removeListener("end",C),e.removeListener("error",O),e.removeListener("close",I)}};e.exports=v},69697:(e,d,h)=>{"use strict";h.d(d,{l1:()=>_,yx:()=>S}),h(96543),h(43510);class m{constructor(e,d=new Map){this.namespace=e,this.schemas=d}static for(e){return m.registries.has(e)||m.registries.set(e,new m(e)),m.registries.get(e)}register(e,d){let h=this.normalizeShapeId(e);m.for(this.getNamespace(e)).schemas.set(h,d)}getSchema(e){let d=this.normalizeShapeId(e);if(!this.schemas.has(d))throw Error(`@smithy/core/schema - schema not found for ${d}`);return this.schemas.get(d)}getBaseException(){for(let[e,d]of this.schemas.entries())if(e.startsWith("smithyts.client.synthetic.")&&e.endsWith("ServiceException"))return d}find(e){return[...this.schemas.values()].find(e)}destroy(){m.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}getNamespace(e){return this.normalizeShapeId(e).split("#")[0]}}m.registries=new Map;class g{constructor(e,d){this.name=e,this.traits=d}}class y extends g{constructor(e,d,h){super(e,d),this.name=e,this.traits=d,this.valueSchema=h}}class b extends g{constructor(e,d,h,m){super(e,d),this.name=e,this.traits=d,this.keySchema=h,this.valueSchema=m}}class v extends g{constructor(e,d,h,m){super(e,d),this.name=e,this.traits=d,this.memberNames=h,this.memberList=m,this.members={};for(let e=0;e<h.length;++e)this.members[h[e]]=Array.isArray(m[e])?m[e]:[m[e],0]}}let w=e=>"function"==typeof e?e():e,S={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128};class x extends g{constructor(e,d,h){super(e,h),this.name=e,this.schemaRef=d,this.traits=h}}class _{constructor(e,d){this.ref=e,this.memberName=d;let h=[],m=e,g=e;for(this._isMemberSchema=!1;Array.isArray(m);)h.push(m[1]),g=w(m=m[0]),this._isMemberSchema=!0;if(h.length>0){this.memberTraits={};for(let e=h.length-1;e>=0;--e){let d=h[e];Object.assign(this.memberTraits,_.translateTraits(d))}}else this.memberTraits=0;if(g instanceof _){this.name=g.name,this.traits=g.traits,this._isMemberSchema=g._isMemberSchema,this.schema=g.schema,this.memberTraits=Object.assign({},g.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=g.ref,this.memberName=d??g.memberName;return}if(this.schema=w(g),this.schema&&"object"==typeof this.schema?this.traits=this.schema?.traits??{}:this.traits=0,this.name=("object"==typeof this.schema?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!d)throw Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static of(e,d){return e instanceof _?e:new _(e,d)}static translateTraits(e){if("object"==typeof e)return e;let d={};return(1&(e|=0))==1&&(d.httpLabel=1),(e>>1&1)==1&&(d.idempotent=1),(e>>2&1)==1&&(d.idempotencyToken=1),(e>>3&1)==1&&(d.sensitive=1),(e>>4&1)==1&&(d.httpPayload=1),(e>>5&1)==1&&(d.httpResponseCode=1),(e>>6&1)==1&&(d.httpQueryParams=1),d}static memberFrom(e,d){return e instanceof _?(e.memberName=d,e._isMemberSchema=!0,e):new _(e,d)}getSchema(){return this.schema instanceof _?this.schema=this.schema.getSchema():this.schema instanceof x?w(this.schema.schemaRef):w(this.schema)}getName(e=!1){return!e&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return"unit"===this.getSchema()}isListSchema(){let e=this.getSchema();return"number"==typeof e?e>=S.LIST_MODIFIER&&e<S.MAP_MODIFIER:e instanceof y}isMapSchema(){let e=this.getSchema();return"number"==typeof e?e>=S.MAP_MODIFIER&&e<=255:e instanceof b}isDocumentSchema(){return this.getSchema()===S.DOCUMENT}isStructSchema(){let e=this.getSchema();return null!==e&&"object"==typeof e&&"members"in e||e instanceof v}isBlobSchema(){return this.getSchema()===S.BLOB||this.getSchema()===S.STREAMING_BLOB}isTimestampSchema(){let e=this.getSchema();return"number"==typeof e&&e>=S.TIMESTAMP_DEFAULT&&e<=S.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===S.STRING}isBooleanSchema(){return this.getSchema()===S.BOOLEAN}isNumericSchema(){return this.getSchema()===S.NUMERIC}isBigIntegerSchema(){return this.getSchema()===S.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===S.BIG_DECIMAL}isStreaming(){return!!this.getMergedTraits().streaming||this.getSchema()===S.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits||(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()}),this.normalizedTraits}getMemberTraits(){return _.translateTraits(this.memberTraits)}getOwnTraits(){return _.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return _.memberFrom([S.DOCUMENT,0],"key");if(!this.isMapSchema())throw Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let e=this.getSchema();return"number"==typeof e?_.memberFrom([63&e,0],"key"):_.memberFrom([e.keySchema,0],"key")}getValueSchema(){let e=this.getSchema();if("number"==typeof e){if(this.isMapSchema())return _.memberFrom([63&e,0],"value");else if(this.isListSchema())return _.memberFrom([63&e,0],"member")}if(e&&"object"==typeof e){if(this.isStructSchema())throw Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let d=e;if("valueSchema"in d){if(this.isMapSchema())return _.memberFrom([d.valueSchema,0],"value");else if(this.isListSchema())return _.memberFrom([d.valueSchema,0],"member")}}if(this.isDocumentSchema())return _.memberFrom([S.DOCUMENT,0],"value");throw Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(e){if(this.isStructSchema()){let d=this.getSchema();if(!(e in d.members))throw Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${e}.`);return _.memberFrom(d.members[e],e)}if(this.isDocumentSchema())return _.memberFrom([S.DOCUMENT,0],e);throw Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:e}=this,d=e;if(!d||"object"!=typeof d)return{};if("members"in d){let e={};for(let h of d.memberNames)e[h]=this.getMemberSchema(h);return e}return{}}*structIterator(){if(!this.isStructSchema())throw Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let e=this.getSchema();for(let d=0;d<e.memberNames.length;++d)yield[e.memberNames[d],_.memberFrom([e.memberList[d],0],e.memberNames[d])]}getSchemaName(){let e=this.getSchema();if("number"==typeof e){let d=63&e,h=192&e,m=Object.entries(S).find(([,e])=>e===d)?.[0]??"Unknown";switch(h){case S.MAP_MODIFIER:return`${m}Map`;case S.LIST_MODIFIER:return`${m}List`;case 0:return m}}return"Unknown"}}},69713:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromUtf8:()=>g,toUint8Array:()=>y,toUtf8:()=>b});var m=h(15060);let g=e=>{let d=(0,m.fromString)(e,"utf8");return new Uint8Array(d.buffer,d.byteOffset,d.byteLength/Uint8Array.BYTES_PER_ELEMENT)},y=e=>"string"==typeof e?g(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),b=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,m.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},69921:(e,d,h)=>{"use strict";h.d(d,{A:()=>v});var m=h(55511),g=h.n(m);let y=new Uint8Array(256),b=y.length;function v(){return b>y.length-16&&(g().randomFillSync(y),b=0),y.slice(b,b+=16)}},70004:(e,d,h)=>{"use strict";h.d(d,{b:()=>H});var m=h(3505),g=h(23682),y=h(74290),b=h(89554);class v extends b.L{constructor(e){super(`Field${(0,y.Z7)(e)?` "${e.name}"`:""} is either missing a field type or it does not match an available field type`)}}class w extends b.L{constructor(e,d){super(`Field ${e.label} has invalid name '${d}'. Field names can not include periods (.) and must be alphanumeric.`)}}class S extends b.L{constructor(e,d){super(`Field ${e.label} has invalid relationship '${d}'.`)}}class x extends b.L{constructor(e){super(`A field with the name '${e}' was found multiple times on the same level. Field names must be unique.`)}}var _=h(57650);class E extends b.L{constructor(e,d){super(`Field ${e.label} has reserved name '${d}'.`)}}var T=h(27891),k=h(10610),C=h(56425);let P=({name:e,defaultValue:d,options:h,required:m})=>({name:e,type:"select",admin:{hidden:!0},defaultValue:d,options:h,required:m});var O=h(82430);let I=e=>"string"==typeof e&&""!==e.trim(),R=({value:e})=>I(e)?`${e} - Copy`:void 0,D=({req:e,value:d})=>I(d)?`${d} - ${e?.t("general:copy")??"Copy"}`:void 0,L=(e,d)=>{("required"in e&&e.required||e.unique)&&(!e.hooks?.beforeDuplicate||Array.isArray(e.hooks.beforeDuplicate)&&0===e.hooks.beforeDuplicate.length)&&e.unique&&(["email","number","point","relationship","select","upload"].includes(e.type)?e.hooks.beforeDuplicate=[()=>void 0]:["code","json","text","textarea"].includes(e.type)&&(e.hooks.beforeDuplicate=(0,y.Cd)({field:e,parentIsLocalized:d})?[D]:[R]))};var $=h(93052);let M=["salt","hash"],B=[],j=[],U=["file"];class F extends b.L{constructor(e){super(`Invalid join field ${e.name}. The config does not have a field '${e.on}' in collection '${e.collection}'.`)}}var z=h(73679),q=h(93297);let V=({config:e,field:d,joinPath:h,joins:m,parentIsLocalized:g,polymorphicJoins:y,validateOnly:v})=>{if(void 0===m)throw new b.L("Join fields cannot be added to arrays, blocks or globals.");void 0===d.maxDepth&&(d.maxDepth=1);let w={field:d,joinPath:`${h?h+".":""}${d.name}`,parentIsLocalized:g,targetField:void 0};if(Array.isArray(d.collection)){for(let b of d.collection)V({config:e,field:{...d,collection:b},joinPath:h,joins:m,parentIsLocalized:g,polymorphicJoins:y,validateOnly:!0});Array.isArray(y)&&y.push(w);return}let S=e.collections.find(e=>e.slug===d.collection);if(!S)throw new F(d);let x=(0,q.p)({fields:(0,z.r)({cache:!0,fields:S.fields}),path:d.on});if(!x||"relationship"!==x.field.type&&"upload"!==x.field.type)throw new F(w.field);x.pathHasLocalized&&(w.getForeignPath=({locale:e})=>x.localizedPath.replace("<locale>",e)),x.field.index||x.field.unique||(x.field.index=!0),v||(w.targetField=x.field,d.localized=x.field.localized,d.hasMany=x.field.hasMany,d.targetField=w.targetField,m[d.collection]?m[d.collection].push(w):m[d.collection]=[w])},H=async({collectionConfig:e,config:d,existingFieldNames:h=new Set,fields:b,isTopLevelField:I=!0,joinPath:R="",joins:D,parentIsLocalized:F,polymorphicJoins:z,requireFieldLevelRichTextEditor:q=!1,richTextSanitizationPromises:K,validRelationships:G})=>{if(!b)return[];for(let W=0;W<b.length;W++){let J=b[W];if("_sanitized"in J&&!0===J._sanitized)continue;if("_sanitized"in J&&(J._sanitized=!0),!J.type)throw new v(J);let Q=(0,y.Z7)(J);if(I&&Q&&J.name){if(e&&e.upload&&U.includes(J.name))throw new E(J,J.name);if(e&&e.auth&&"object"==typeof e.auth&&!e.auth.disableLocalStrategy&&(M.includes(J.name)||e.auth.verify&&(j.includes(J.name)||B.includes(J.name))))throw new E(J,J.name)}if(Q&&J.name.includes("."))throw new w(J,J.name);if("name"in J&&J.name&&"object"!=typeof J.label&&"string"!=typeof J.label&&"function"!=typeof J.label&&!1!==J.label&&(J.label=(0,T.x4)(J.name)),"checkbox"===J.type&&void 0===J.defaultValue&&!0===J.required&&(J.defaultValue=!1),"join"===J.type&&V({config:d,field:J,joinPath:R,joins:D,parentIsLocalized:F,polymorphicJoins:z}),("relationship"===J.type||"upload"===J.type)&&(G&&(Array.isArray(J.relationTo)?J.relationTo:[J.relationTo]).forEach(e=>{if(!G.includes(e))throw new S(J,e)}),J.min&&!J.minRows&&(console.warn(`(payload): The "min" property is deprecated for the Relationship field "${J.name}" and will be removed in a future version. Please use "minRows" instead.`),J.minRows=J.min),J.max&&!J.maxRows&&(console.warn(`(payload): The "max" property is deprecated for the Relationship field "${J.name}" and will be removed in a future version. Please use "maxRows" instead.`),J.maxRows=J.max)),"upload"!==J.type||J.admin&&"isSortable"in J.admin||(J.admin={isSortable:!0,...J.admin}),"array"===J.type&&J.fields&&J.fields.push(C.Z),("blocks"===J.type||"array"===J.type)&&J.label&&(J.labels=J.labels||(0,T.h6)(J.name)),Q){if(h.has(J.name))throw new x(J.name);if(["blockName","id"].includes(J.name)||h.add(J.name),void 0!==J.localized){let e=!d.localization;"true"!==process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized&&F&&"true"!==process.env.PAYLOAD_DO_NOT_SANITIZE_LOCALIZED_PROPERTY&&(e=!0),e&&delete J.localized}if(void 0===J.validate){let e=$.xV[J.type];e?J.validate=(d,h)=>e(d,{...J,...h}):J.validate=()=>!0}J.hooks||(J.hooks={}),J.access||(J.access={}),L(J,F)}if(J.admin||(J.admin={}),"richText"===J.type){let e=async e=>{if(!J.editor)if(e.editor&&!q)J.editor=e.editor;else throw new _.X(J);"function"==typeof J.editor&&(J.editor=await J.editor({config:e,isRoot:q,parentIsLocalized:F||J.localized})),J.editor.i18n&&Object.keys(J.editor.i18n).length>=0&&(d.i18n.translations=(0,m.p)(d.i18n.translations,J.editor.i18n))};K?K.push(e):await e(d)}if("blocks"===J.type&&J.blocks){if(J.blockReferences&&J.blocks?.length)throw Error("You cannot have both blockReferences and blocks in the same blocks field");let h=[];for(let m of J.blockReferences??J.blocks){let g="string"==typeof m?m:m.slug;if(h.includes(g))throw new x(g);h.push(g),"string"!=typeof m&&!0!==m._sanitized&&(m._sanitized=!0,m.fields=m.fields.concat(k.s),m.labels=m.labels?m.labels:(0,T.h6)(m.slug),m.fields=await H({collectionConfig:e,config:d,existingFieldNames:new Set,fields:m.fields,isTopLevelField:!1,parentIsLocalized:F||J.localized,requireFieldLevelRichTextEditor:q,richTextSanitizationPromises:K,validRelationships:G}))}}if("fields"in J&&J.fields&&(J.fields=await H({collectionConfig:e,config:d,existingFieldNames:Q?new Set:h,fields:J.fields,isTopLevelField:I&&!Q,joinPath:Q?`${R?R+".":""}${J.name}`:R,joins:D,parentIsLocalized:F||(0,y.Yf)(J),polymorphicJoins:z,requireFieldLevelRichTextEditor:q,richTextSanitizationPromises:K,validRelationships:G})),"tabs"===J.type)for(let m=0;m<J.tabs.length;m++){let b=J.tabs[m],v=(0,y.pz)(b);v&&void 0===b.label&&(b.label=(0,T.x4)(b.name)),"admin"in b&&b.admin?.condition&&"function"==typeof b.admin.condition&&!b.id&&(b.id=v?`${b.name}_${(0,g.A)()}`:(0,g.A)()),b.fields=await H({collectionConfig:e,config:d,existingFieldNames:v?new Set:h,fields:b.fields,isTopLevelField:I&&!v,joinPath:v?`${R?R+".":""}${b.name}`:R,joins:D,parentIsLocalized:F||v&&b.localized,polymorphicJoins:z,requireFieldLevelRichTextEditor:q,richTextSanitizationPromises:K,validRelationships:G}),J.tabs[m]=b}if("ui"===J.type&&void 0===J.admin.disableBulkEdit&&(J.admin.disableBulkEdit=!0),b[W]=J,"date"===J.type&&J.timezone){let e=J.name+"_tz",h=d.admin.timezones.defaultTimezone,m=d.admin.timezones.supportedTimezones,g=P({name:e,defaultValue:h,options:"function"==typeof m?m({defaultTimezones:O.Y}):m,required:J.required});b.splice(++W,0,g)}}return b}},70120:e=>{for(var d=Math.floor(0xffffff*Math.random()),h=x.index=parseInt(0xffffff*Math.random(),10),m=("undefined"==typeof process||"number"!=typeof process.pid?Math.floor(1e5*Math.random()):process.pid)%65535,g=(()=>{try{return _Buffer}catch(e){try{return Buffer}catch(e){return null}}})(),y=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},b=[],v=0;v<256;v++)b[v]=(v<=15?"0":"")+v.toString(16);var w=RegExp("^[0-9a-fA-F]{24}$"),S=[];for(v=0;v<10;)S[48+v]=v++;for(;v<16;)S[55+v]=S[87+v]=v++;function x(e){if(!(this instanceof x))return new x(e);if(e&&(e instanceof x||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var d=x.isValid(e);if(d||null==e)if(d&&"string"==typeof e&&24===e.length)return x.createFromHexString(e);else if(null!=e&&12===e.length)this.id=e;else if(null!=e&&"function"==typeof e.toHexString)return e;else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}function _(){return h=(h+1)%0xffffff}function E(e,d){return(d=d.toString(16)).length===e?d:"00000000".substring(d.length,e)+d}e.exports=x,x.default=x,x.createFromTime=function(e){return new x(E(8,e=parseInt(e,10)%0xffffffff)+"0000000000000000")},x.createFromHexString=function(e){if(void 0===e||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var d="",h=0;h<24;)d+=String.fromCharCode(S[e.charCodeAt(h++)]<<4|S[e.charCodeAt(h++)]);return new x(d)},x.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&w.test(e):e instanceof x||(y(e)?x.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!g&&(e.id instanceof g||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&w.test(e.id)))))},x.prototype={constructor:x,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(y(this.id))return this.id.toString("hex");for(var e="",d=0;d<this.id.length;d++)e+=b[this.id.charCodeAt(d)];return e},equals:function(e){if(e instanceof x)return this.toString()===e.toString();if("string"==typeof e&&x.isValid(e)&&12===e.length&&y(this.id))return e===this.id.toString("binary");if("string"==typeof e&&x.isValid(e)&&24===e.length)return e.toLowerCase()===this.toHexString();if("string"==typeof e&&x.isValid(e)&&12===e.length)return e===this.id;if(null!=e&&(e instanceof x||e.toHexString))return e.toHexString()===this.toHexString();else return!1},getTimestamp:function(){var e,d=new Date;return e=y(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,d.setTime(1e3*Math.floor(e)),d},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%0xffffffff;var h=_();return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,d>>16&255,d>>8&255,255&d,m>>8&255,255&m,h>>16&255,h>>8&255,255&h)}};var T=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";x.prototype[T]=function(){return"ObjectID("+this+")"},x.prototype.toJSON=x.prototype.toHexString,x.prototype.toString=x.prototype.toHexString},70409:(e,d,h)=>{"use strict";h.d(d,{l:()=>m});let m=(e,d)=>{let h=new Headers(d);return e.forEach((e,d)=>{h.append(d,e)}),h}},70727:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.biggestWordInSentence=d.textWithPadding=d.splitTextIntoTextsOfMinLen=void 0;let m=h(7021);d.splitTextIntoTextsOfMinLen=(e,d,h)=>{let g=[];return e.split(/[\n\r]/).forEach(e=>{let y=e.split(" "),b=[],v=0;y.forEach(e=>{let y=(0,m.findWidthInConsole)(e,h);v+y<=d?(v+=y+1,b.push(e)):(b.length>0&&g.push(b.join(" ")),b=[e],v=y+1)}),g.push(b.join(" "))}),g};let g=(e,h,g,y)=>{let b=(0,m.findWidthInConsole)(e,y),v=Math.floor((g-b)/2),w=g-v-b;if(g<b){let m=(0,d.splitTextIntoTextsOfMinLen)(e,g);return 1===m.length?e:m.map(e=>(0,d.textWithPadding)(e,h,g,y)).join("\n")}switch(h){case"left":return e.concat(" ".repeat(g-b));case"center":return" ".repeat(v).concat(e).concat(" ".repeat(w));default:return" ".repeat(g-b).concat(e)}};d.textWithPadding=g,d.biggestWordInSentence=(e,d)=>e.split(" ").reduce((e,h)=>Math.max(e,(0,m.findWidthInConsole)(h,d)),0)},70776:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{fromUtf8:()=>E,toUint8Array:()=>T,toUtf8:()=>k}),e.exports=S(x);var _=h(15060),E=v(e=>{let d=(0,_.fromString)(e,"utf8");return new Uint8Array(d.buffer,d.byteOffset,d.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),T=v(e=>"string"==typeof e?E(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),k=v(e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,_.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")},71152:(e,d,h)=>{"use strict";h.d(d,{d1:()=>m.d1,vY:()=>x,n7:()=>w,Xx:()=>S});var m=h(13741),g=h(69540);let y=256e3;class b extends g.G{constructor(e,d){super(d),this.streamReader=e}async readBuffer(e,d){let h=this.normalizeOptions(e,d),g=h.position-this.position;if(g>0)return await this.ignore(g),this.readBuffer(e,d);if(g<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===h.length)return 0;let y=await this.streamReader.read(e,h.offset,h.length);if(this.position+=y,(!d||!d.mayBeLess)&&y<h.length)throw new m.d1;return y}async peekBuffer(e,d){let h=this.normalizeOptions(e,d),g=0;if(h.position){let d=h.position-this.position;if(d>0){let m=new Uint8Array(h.length+d);return g=await this.peekBuffer(m,{mayBeLess:h.mayBeLess}),e.set(m.subarray(d),h.offset),g-d}if(d<0)throw Error("Cannot peek from a negative offset in a stream")}if(h.length>0){try{g=await this.streamReader.peek(e,h.offset,h.length)}catch(e){if(d?.mayBeLess&&e instanceof m.d1)return 0;throw e}if(!h.mayBeLess&&g<h.length)throw new m.d1}return g}async ignore(e){let d=Math.min(y,e),h=new Uint8Array(d),m=0;for(;m<e;){let g=e-m,y=await this.readBuffer(h,{length:Math.min(d,g)});if(y<0)return y;m+=y}return m}}class v extends g.G{constructor(e,d){super(d),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,d){if(d?.position){if(d.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=d.position}let h=await this.peekBuffer(e,d);return this.position+=h,h}async peekBuffer(e,d){let h=this.normalizeOptions(e,d),g=Math.min(this.uint8Array.length-h.position,h.length);if(!h.mayBeLess&&g<h.length)throw new m.d1;return e.set(this.uint8Array.subarray(h.position,h.position+g),h.offset),g}close(){return super.close()}}function w(e,d){return new b(new m.CX(e),d)}function S(e,d){return new b(new m.yT(e),d)}function x(e,d){return new v(e,d)}},71389:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.regexpCode=d.getEsmExportName=d.getProperty=d.safeStringify=d.stringify=d.strConcat=d.addCodeArg=d.str=d._=d.nil=d._Code=d.Name=d.IDENTIFIER=d._CodeOrName=void 0;class h{}d._CodeOrName=h,d.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class m extends h{constructor(e){if(super(),!d.IDENTIFIER.test(e))throw Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}d.Name=m;class g extends h{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!=(e=this._str)?e:this._str=this._items.reduce((e,d)=>`${e}${d}`,"")}get names(){var e;return null!=(e=this._names)?e:this._names=this._items.reduce((e,d)=>(d instanceof m&&(e[d.str]=(e[d.str]||0)+1),e),{})}}function y(e,...d){let h=[e[0]],m=0;for(;m<d.length;)w(h,d[m]),h.push(e[++m]);return new g(h)}d._Code=g,d.nil=new g(""),d._=y;let b=new g("+");function v(e,...d){let h=[E(e[0])],m=0;for(;m<d.length;)h.push(b),w(h,d[m]),h.push(b,E(e[++m]));return S(h),new g(h)}function w(e,d){d instanceof g?e.push(...d._items):d instanceof m?e.push(d):e.push(_(d))}function S(e){let d=1;for(;d<e.length-1;){if(e[d]===b){let h=x(e[d-1],e[d+1]);if(void 0!==h){e.splice(d-1,3,h);continue}e[d++]="+"}d++}}function x(e,d){return'""'===d?e:'""'===e?d:"string"==typeof e?d instanceof m||'"'!==e[e.length-1]?void 0:"string"!=typeof d?`${e.slice(0,-1)}${d}"`:'"'===d[0]?e.slice(0,-1)+d.slice(1):void 0:"string"!=typeof d||'"'!==d[0]||e instanceof m?void 0:`"${e}${d.slice(1)}`}function _(e){return"number"==typeof e||"boolean"==typeof e||null===e?e:E(Array.isArray(e)?e.join(","):e)}function E(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function T(e){return"string"==typeof e&&d.IDENTIFIER.test(e)?new g(`.${e}`):y`[${e}]`}function k(e){if("string"==typeof e&&d.IDENTIFIER.test(e))return new g(`${e}`);throw Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}d.str=v,d.addCodeArg=w,d.strConcat=function(e,d){return d.emptyStr()?e:e.emptyStr()?d:v`${e}${d}`},d.stringify=function(e){return new g(E(e))},d.safeStringify=E,d.getProperty=T,d.getEsmExportName=k,d.regexpCode=function(e){return new g(e.toString())}},71475:(e,d,h)=>{"use strict";h.r(d),h.d(d,{CONFIG_PREFIX_SEPARATOR:()=>q,DEFAULT_PROFILE:()=>S,ENV_PROFILE:()=>w,getHomeDir:()=>v,getProfileName:()=>x,getSSOTokenFilepath:()=>E,getSSOTokenFromFile:()=>C,loadSharedConfigFiles:()=>V,loadSsoSessionData:()=>G,parseKnownFiles:()=>J});var m=h(21820),g=h(33873);let y={},b=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",v=()=>{let{HOME:e,USERPROFILE:d,HOMEPATH:h,HOMEDRIVE:v=`C:${g.sep}`}=process.env;if(e)return e;if(d)return d;if(h)return`${v}${h}`;let w=b();return y[w]||(y[w]=(0,m.homedir)()),y[w]},w="AWS_PROFILE",S="default",x=e=>e.profile||process.env[w]||S;var _=h(55511);let E=e=>{let d=(0,_.createHash)("sha1").update(e).digest("hex");return(0,g.join)(v(),".aws","sso","cache",`${d}.json`)};var T=h(29021);let{readFile:k}=T.promises,C=async e=>{let d=E(e);return JSON.parse(await k(d,"utf8"))};var P=h(38755);let O=e=>Object.entries(e).filter(([e])=>{let d=e.indexOf(q);return -1!==d&&Object.values(P.IniSectionType).includes(e.substring(0,d))}).reduce((e,[d,h])=>{let m=d.indexOf(q);return e[d.substring(0,m)===P.IniSectionType.PROFILE?d.substring(m+1):d]=h,e},{...e.default&&{default:e.default}}),I="AWS_CONFIG_FILE",R=()=>process.env[I]||(0,g.join)(v(),".aws","config"),D="AWS_SHARED_CREDENTIALS_FILE",L=()=>process.env[D]||(0,g.join)(v(),".aws","credentials"),$=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,M=["__proto__","profile __proto__"],B=e=>{let d,h,m={};for(let g of e.split(/\r?\n/)){let e=g.split(/(^|\s)[;#]/)[0].trim();if("["===e[0]&&"]"===e[e.length-1]){d=void 0,h=void 0;let m=e.substring(1,e.length-1),g=$.exec(m);if(g){let[,e,,h]=g;Object.values(P.IniSectionType).includes(e)&&(d=[e,h].join(q))}else d=m;if(M.includes(m))throw Error(`Found invalid profile name "${m}"`)}else if(d){let y=e.indexOf("=");if(![0,-1].includes(y)){let[b,v]=[e.substring(0,y).trim(),e.substring(y+1).trim()];if(""===v)h=b;else{h&&g.trimStart()===g&&(h=void 0),m[d]=m[d]||{};let e=h?[h,b].join(q):b;m[d][e]=v}}}}return m},{readFile:j}=T.promises,U={},F=(e,d)=>((!U[e]||d?.ignoreCache)&&(U[e]=j(e,"utf8")),U[e]),z=()=>({}),q=".",V=async(e={})=>{let{filepath:d=L(),configFilepath:h=R()}=e,m=v(),y="~/",b=d;d.startsWith(y)&&(b=(0,g.join)(m,d.slice(2)));let w=h;h.startsWith(y)&&(w=(0,g.join)(m,h.slice(2)));let S=await Promise.all([F(w,{ignoreCache:e.ignoreCache}).then(B).then(O).catch(z),F(b,{ignoreCache:e.ignoreCache}).then(B).catch(z)]);return{configFile:S[0],credentialsFile:S[1]}},H=e=>Object.entries(e).filter(([e])=>e.startsWith(P.IniSectionType.SSO_SESSION+q)).reduce((e,[d,h])=>({...e,[d.substring(d.indexOf(q)+1)]:h}),{}),K=()=>({}),G=async(e={})=>F(e.configFilepath??R()).then(B).then(H).catch(K),W=(...e)=>{let d={};for(let h of e)for(let[e,m]of Object.entries(h))void 0!==d[e]?Object.assign(d[e],m):d[e]=m;return d},J=async e=>{let d=await V(e);return W(d.configFile,d.credentialsFile)}},71707:(e,d,h)=>{"use strict";async function m(e){let{payload:d,transactionID:h}=e;if(h&&!(h instanceof Promise)){try{await d.db.rollbackTransaction(e.transactionID)}catch(e){}delete e.transactionID}}h.d(d,{J:()=>m})},71710:(e,d,h)=>{"use strict";h.d(d,{A:()=>S});let m=60,g=3600,y=86400,b=604800,v=0x1e187e0,w=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,S=e=>{let d,h=w.exec(e);if(!h||h[4]&&h[1])throw TypeError("Invalid time period format");let S=parseFloat(h[2]);switch(h[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":d=Math.round(S);break;case"minute":case"minutes":case"min":case"mins":case"m":d=Math.round(S*m);break;case"hour":case"hours":case"hr":case"hrs":case"h":d=Math.round(S*g);break;case"day":case"days":case"d":d=Math.round(S*y);break;case"week":case"weeks":case"w":d=Math.round(S*b);break;default:d=Math.round(S*v)}return"-"===h[1]||"ago"===h[4]?-d:d}},71860:(e,d,h)=>{"use strict";h.r(d),h.d(d,{DEFAULT_UA_APP_ID:()=>g,getUserAgentMiddlewareOptions:()=>M,getUserAgentPlugin:()=>B,resolveUserAgentConfig:()=>b,userAgentMiddleware:()=>L});var m=h(55324);let g=void 0;function y(e){return void 0===e||"string"==typeof e&&e.length<=50}function b(e){let d=(0,m.normalizeProvider)(e.userAgentAppId??g),{customUserAgent:h}=e;return Object.assign(e,{customUserAgent:"string"==typeof h?[[h]]:h,userAgentAppId:async()=>{let h=await d();if(!y(h)){let d=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?e.logger:console;"string"!=typeof h?d?.warn("userAgentAppId must be a string or undefined."):h.length>50&&d?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return h}})}var v=h(9242),w=h(96543),S=h(84734);let x=/\d{12}\.ddb/;async function _(e,d,h){let m=h.request;if(m?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,S.J)(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof d.retryStrategy){let h=await d.retryStrategy();"function"==typeof h.acquireInitialRetryToken?h.constructor?.name?.includes("Adaptive")?(0,S.J)(e,"RETRY_MODE_ADAPTIVE","F"):(0,S.J)(e,"RETRY_MODE_STANDARD","E"):(0,S.J)(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof d.accountIdEndpointMode){let h=e.endpointV2;switch(String(h?.url?.hostname).match(x)&&(0,S.J)(e,"ACCOUNT_ID_ENDPOINT","O"),await d.accountIdEndpointMode?.()){case"disabled":(0,S.J)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,S.J)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,S.J)(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}let g=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(g?.$source){let d=g;for(let[h,m]of(d.accountId&&(0,S.J)(e,"RESOLVED_ACCOUNT_ID","T"),Object.entries(d.$source??{})))(0,S.J)(e,h,m)}}let E="user-agent",T="x-amz-user-agent",k=" ",C="/",P=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,O=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,I="-",R=1024;function D(e){let d="";for(let h in e){let m=e[h];if(d.length+m.length+1<=R){d.length?d+=","+m:d+=m;continue}break}return d}let L=e=>(d,h)=>async m=>{let{request:g}=m;if(!w.HttpRequest.isInstance(g))return d(m);let{headers:y}=g,b=h?.userAgent?.map($)||[],S=(await e.defaultUserAgentProvider()).map($);await _(h,e,m);let x=h;S.push(`m/${D(Object.assign({},h.__smithy_context?.features,x.__aws_sdk_context?.features))}`);let C=e?.customUserAgent?.map($)||[],P=await e.userAgentAppId();P&&S.push($([`app/${P}`]));let O=(0,v.getUserAgentPrefix)(),I=(O?[O]:[]).concat([...S,...b,...C]).join(k),R=[...S.filter(e=>e.startsWith("aws-sdk-")),...C].join(k);return"browser"!==e.runtime?(R&&(y[T]=y[T]?`${y[E]} ${R}`:R),y[E]=I):y[T]=I,d({...m,request:g})},$=e=>{let d=e[0].split(C).map(e=>e.replace(P,I)).join(C),h=e[1]?.replace(O,I),m=d.indexOf(C),g=d.substring(0,m),y=d.substring(m+1);return"api"===g&&(y=y.toLowerCase()),[g,y,h].filter(e=>e&&e.length>0).reduce((e,d,h)=>{switch(h){case 0:return d;case 1:return`${e}/${d}`;default:return`${e}#${d}`}},"")},M={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},B=e=>({applyToStack:d=>{d.add(L(e),M)}})},71906:(e,d,h)=>{"use strict";let m=h(49077),g=["suggest","format","onState","validate","onRender","type"],y=()=>{};async function b(e=[],{onSubmit:d=y,onCancel:h=y}={}){let w,S,x,_,E,T,k={},C=b._override||{};e=[].concat(e);let P=async(e,d,h=!1)=>{if(h||!e.validate||!0===e.validate(d))return e.format?await e.format(d,k):d};for(S of e)if({name:_,type:E}=S,"function"==typeof E&&(E=await E(w,{...k},S),S.type=E),E){for(let e in S){if(g.includes(e))continue;let d=S[e];S[e]="function"==typeof d?await d(w,{...k},T):d}if(T=S,"string"!=typeof S.message)throw Error("prompt message is required");if({name:_,type:E}=S,void 0===m[E])throw Error(`prompt type (${E}) is not defined`);if(void 0!==C[S.name]&&void 0!==(w=await P(S,C[S.name]))){k[_]=w;continue}try{w=b._injected?v(b._injected,S.initial):await m[E](S),k[_]=w=await P(S,w,!0),x=await d(S,w,k)}catch(e){x=!await h(S,k)}if(x)break}return k}function v(e,d){let h=e.shift();if(h instanceof Error)throw h;return void 0===h?d:h}function w(e){b._injected=(b._injected||[]).concat(e)}function S(e){b._override=Object.assign({},e)}e.exports=Object.assign(b,{prompt:b,prompts:m,inject:w,override:S})},72321:(e,d,h)=>{"use strict";h.d(d,{AG:()=>y,ct:()=>b});var m=h(54997),g=h(88256);function y(e,d){return m(e,d,{arrayMerge:(e,d)=>d})}function b(e,d){return m(e,d,{isMergeableObject:g.Q})}},72433:(e,d,h)=>{"use strict";let m=h(55511),g=h(57183);e.exports=function(e,d){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(d))throw Error("Both scmp args must be Buffers");return e.length===d.length&&(m.timingSafeEqual?m.timingSafeEqual(e,d):g(e,d))}},72434:(e,d,h)=>{"use strict";e.exports={DatePart:h(90473),Meridiem:h(66630),Day:h(67232),Hours:h(8953),Milliseconds:h(7910),Minutes:h(39287),Month:h(1464),Seconds:h(73175),Year:h(46613)}},72541:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var m=function(e){if(e&&e.__esModule)return e;var d=Object.create(null);return e&&Object.keys(e).forEach(function(h){if("default"!==h){var m=Object.getOwnPropertyDescriptor(e,h);Object.defineProperty(d,h,m.get?m:{enumerable:!0,get:function(){return e[h]}})}}),d.default=e,Object.freeze(d)}(h(83997));let{env:g={},argv:y=[],platform:b=""}="undefined"==typeof process?{}:process,v="NO_COLOR"in g||y.includes("--no-color"),w="FORCE_COLOR"in g||y.includes("--color"),S="win32"===b,x="dumb"===g.TERM,_=m&&m.isatty&&m.isatty(1)&&g.TERM&&!x,E="CI"in g&&("GITHUB_ACTIONS"in g||"GITLAB_CI"in g||"CIRCLECI"in g),T=!v&&(w||S&&!x||_||E),k=(e,d,h,m,g=d.substring(0,e)+m,y=d.substring(e+h.length),b=y.indexOf(h))=>g+(b<0?y:k(b,y,h,m)),C=(e,d,h,m,g)=>e<0?h+d+m:h+k(e,d,m,g)+m,P=(e,d,h=e,m=e.length+1)=>g=>g||""!==g&&void 0!==g?C((""+g).indexOf(d,m),g,e,d,h):"",O=(e,d,h)=>P(`\x1b[${e}m`,`\x1b[${d}m`,h),I={reset:O(0,0),bold:O(1,22,"\x1b[22m\x1b[1m"),dim:O(2,22,"\x1b[22m\x1b[2m"),italic:O(3,23),underline:O(4,24),inverse:O(7,27),hidden:O(8,28),strikethrough:O(9,29),black:O(30,39),red:O(31,39),green:O(32,39),yellow:O(33,39),blue:O(34,39),magenta:O(35,39),cyan:O(36,39),white:O(37,39),gray:O(90,39),bgBlack:O(40,49),bgRed:O(41,49),bgGreen:O(42,49),bgYellow:O(43,49),bgBlue:O(44,49),bgMagenta:O(45,49),bgCyan:O(46,49),bgWhite:O(47,49),blackBright:O(90,39),redBright:O(91,39),greenBright:O(92,39),yellowBright:O(93,39),blueBright:O(94,39),magentaBright:O(95,39),cyanBright:O(96,39),whiteBright:O(97,39),bgBlackBright:O(100,49),bgRedBright:O(101,49),bgGreenBright:O(102,49),bgYellowBright:O(103,49),bgBlueBright:O(104,49),bgMagentaBright:O(105,49),bgCyanBright:O(106,49),bgWhiteBright:O(107,49)},R=({useColor:e=T}={})=>e?I:Object.keys(I).reduce((e,d)=>({...e,[d]:String}),{}),{reset:D,bold:L,dim:$,italic:M,underline:B,inverse:j,hidden:U,strikethrough:F,black:z,red:q,green:V,yellow:H,blue:K,magenta:G,cyan:W,white:J,gray:Q,bgBlack:Y,bgRed:X,bgGreen:Z,bgYellow:ee,bgBlue:et,bgMagenta:ei,bgCyan:er,bgWhite:ea,blackBright:en,redBright:es,greenBright:eo,yellowBright:el,blueBright:ed,magentaBright:ec,cyanBright:ep,whiteBright:eu,bgBlackBright:eh,bgRedBright:em,bgGreenBright:ef,bgYellowBright:eg,bgBlueBright:ey,bgMagentaBright:eb,bgCyanBright:ev,bgWhiteBright:ew}=R();d.bgBlack=Y,d.bgBlackBright=eh,d.bgBlue=et,d.bgBlueBright=ey,d.bgCyan=er,d.bgCyanBright=ev,d.bgGreen=Z,d.bgGreenBright=ef,d.bgMagenta=ei,d.bgMagentaBright=eb,d.bgRed=X,d.bgRedBright=em,d.bgWhite=ea,d.bgWhiteBright=ew,d.bgYellow=ee,d.bgYellowBright=eg,d.black=z,d.blackBright=en,d.blue=K,d.blueBright=ed,d.bold=L,d.createColors=R,d.cyan=W,d.cyanBright=ep,d.dim=$,d.gray=Q,d.green=V,d.greenBright=eo,d.hidden=U,d.inverse=j,d.isColorSupported=T,d.italic=M,d.magenta=G,d.magentaBright=ec,d.red=q,d.redBright=es,d.reset=D,d.strikethrough=F,d.underline=B,d.white=J,d.whiteBright=eu,d.yellow=H,d.yellowBright=el},72749:(e,d,h)=>{"use strict";15>parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])?e.exports=h(28377):e.exports=h(3287)},72994:(e,d,h)=>{"use strict";h.d(d,{Y:()=>y,l:()=>g});var m=h(49495);async function g(e){let d=await y(e);if(d)return d[0]}async function y({id:e,data:d,depth:h,disableTransaction:g,limit:y,req:b,returning:v,sort:w,where:S}){let x=e?1:y,_=e?{id:{equals:e}}:S;if(h||b.payload.config?.jobs?.runHooks){let y=await b.payload.update({id:e,collection:m.SJ,data:d,depth:h,disableTransaction:g,limit:x,req:b,where:_});return!1!==v&&y?y.docs:null}let E={transactionID:"mongoose"!==b.payload.db.name?await b.payload.db.beginTransaction():void 0},T=e?{id:e,data:d,req:E,returning:v}:{data:d,limit:x,req:E,returning:v,sort:w,where:_},k=await b.payload.db.updateJobs(T);return("mongoose"!==b.payload.db.name&&E.transactionID&&await b.payload.db.commitTransaction(E.transactionID),!1!==v&&k?.length)?k.map(e=>(0,m.Sf)({config:b.payload.config,doc:e})):null}},73077:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(65989);m.code='require("ajv/dist/runtime/equal").default',d.default=m},73146:(e,d,h)=>{"use strict";function m(e,d){return null!=e&&Object.prototype.hasOwnProperty.call(e,d)}h.d(d,{J:()=>y});let g=["Cell","Description","Field","Filter"];function y({addToImportMap:e,baseDir:d,config:h,fields:b,importMap:v,imports:w}){for(let S of b){if("fields"in S)y({addToImportMap:e,baseDir:d,config:h,fields:S.fields,importMap:v,imports:w});else if("blocks"===S.type)y({addToImportMap:e,baseDir:d,config:h,fields:S.blocks.filter(e=>"string"!=typeof e),importMap:v,imports:w});else if("tabs"===S.type)y({addToImportMap:e,baseDir:d,config:h,fields:S.tabs,importMap:v,imports:w});else if("richText"===S.type)S?.editor&&"object"==typeof S.editor&&S.editor.generateImportMap&&"function"==typeof S.editor.generateImportMap&&S.editor.generateImportMap({addToImportMap:e,baseDir:d,config:h,importMap:v,imports:w});else if("ui"===S.type&&S?.admin?.components)for(let d in S.admin.components)d in g||e(S.admin.components[d]);m(S?.admin,"jsx")&&e(S.admin.jsx),m(S?.admin?.components,"Label")&&e(S.admin.components.Label),m(S?.admin?.components,"Block")&&e(S.admin.components.Block),m(S?.admin?.components,"Cell")&&e(S?.admin?.components?.Cell),m(S?.admin?.components,"Description")&&e(S?.admin?.components?.Description),m(S?.admin?.components,"Field")&&e(S?.admin?.components?.Field),m(S?.admin?.components,"Filter")&&e(S?.admin?.components?.Filter),m(S?.admin?.components,"Error")&&e(S?.admin?.components?.Error),m(S?.admin?.components,"afterInput")&&e(S?.admin?.components?.afterInput),m(S?.admin?.components,"beforeInput")&&e(S?.admin?.components?.beforeInput),m(S?.admin?.components,"RowLabel")&&e(S?.admin?.components?.RowLabel),m(S?.admin?.components,"Diff")&&e(S?.admin?.components?.Diff)}}},73175:(e,d,h)=>{"use strict";let m=h(90473);class g extends m{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=g},73243:(e,d,h)=>{"use strict";h.d(d,{Y:()=>b,h:()=>w});var m=h(66493),g=h(86404);let y=e=>async d=>{let{payload:h}=e,m=d.map(()=>null),y={};for(let e of d){let[d,m,b,v,w,S,x,_,E,T,k,C]=JSON.parse(e),P=JSON.stringify([d,m,v,w,S,x,_,E,T,k,C]),O=h.collections?.[m].customIDType||h.db.defaultIDType,I="number"===O?parseFloat(b):b;(0,g.m)(I,O)&&(y[P]=[...y[P]||[],I])}for(let[g,b]of Object.entries(y)){let[y,v,S,x,_,E,T,k,C,P,O]=JSON.parse(g);for(let g of(e.transactionID=y,(await h.find({collection:v,currentDepth:x,depth:S,disableErrors:!0,draft:C,fallbackLocale:E,locale:_,overrideAccess:!!T,pagination:!1,populate:O,req:e,select:P,showHiddenFields:!!k,where:{id:{in:b}}})).docs)){let h=w({collectionSlug:v,currentDepth:x,depth:S,docID:g.id,draft:C,fallbackLocale:E,locale:_,overrideAccess:T,populate:O,select:P,showHiddenFields:k,transactionID:e.transactionID}),y=d.findIndex(e=>e===h);y>-1&&(m[y]=g)}}return m},b=e=>{let d=new Map,h=new m(y(e));return h.find=h=>{let m=v(h),g=d.get(m);if(g)return g;let y=e.payload.find(h);return d.set(m,y),y},h},v=({collection:e,currentDepth:d,depth:h,disableErrors:m,draft:g,includeLockStatus:y,joins:b,limit:v,overrideAccess:w,page:S,pagination:x,populate:_,req:E,select:T,showHiddenFields:k,sort:C,where:P})=>JSON.stringify([e,d,h,m,g,y,b,v,w,S,x,_,E?.locale,E?.fallbackLocale,E?.user?.id,E?.transactionID,T,k,C,P]),w=({collectionSlug:e,currentDepth:d,depth:h,docID:m,draft:g,fallbackLocale:y,locale:b,overrideAccess:v,populate:w,select:S,showHiddenFields:x,transactionID:_})=>JSON.stringify([_,e,m,h,d,b,y,v,x,g,S,w])},73264:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getAwsChunkedEncodingStream=void 0;let m=h(27910);d.getAwsChunkedEncodingStream=(e,d)=>{let{base64Encoder:h,bodyLengthChecker:g,checksumAlgorithmFn:y,checksumLocationName:b,streamHasher:v}=d,w=void 0!==h&&void 0!==y&&void 0!==b&&void 0!==v,S=w?v(y,e):void 0,x=new m.Readable({read:()=>{}});return e.on("data",e=>{let d=g(e)||0;x.push(`${d.toString(16)}\r
`),x.push(e),x.push("\r\n")}),e.on("end",async()=>{if(x.push(`0\r
`),w){let e=h(await S);x.push(`${b}:${e}\r
`),x.push(`\r
`)}x.push(null)}),x}},73276:(e,d,h)=>{"use strict";let{groupRestore:m,nestedRestore:g}=h(7468);function y(e,d){return d.map(d=>{let{circle:h,escPath:m,leadingBracket:g}=e[d],y=g?"":".",b=h?`o.${h} = secret[${m}].val`:`o${y}${d} = secret[${m}].val`,v=`secret[${m}].val = undefined`;return`
      if (secret[${m}].val !== undefined) {
        try { ${b} } catch (e) {}
        ${v}
      }
    `}).join("")}function b(e,d,h){let m=!0===h?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${d.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:"";return`
    const secret = this.secret
    ${m}
    ${e}
    return o
  `}e.exports=function e(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:e,wcLen:d}=this,h=Object.keys(e),v=y(e,h),w=d>0,S=w?{secret:e,groupRestore:m,nestedRestore:g}:{secret:e};this.restore=Function("o",b(v,h,w)).bind(S),this.restore.state=S}}},73413:function(e,d,h){"use strict";var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0}),d.printSimpleTable=d.renderSimpleTable=d.renderTable=void 0;let g=m(h(59873)),y=h(70727),b=h(32152),v=h(49348),w=m(h(60172)),S=h(60150),x=(e,d,h,m,w,S,x,_)=>{let E=new g.default(x);return E.addCharsWithColor("",e.vertical),d.forEach(d=>{let g=h<m[d.name].length?(0,v.cellText)(m[d.name][h]):"";E.addCharsWithColor(b.DEFAULT_ROW_FONT_COLOR," "),E.addCharsWithColor(w&&b.DEFAULT_HEADER_FONT_COLOR||d.color||S.color,(0,y.textWithPadding)(g,d.alignment||b.DEFAULT_ROW_ALIGNMENT,d.length||b.DEFAULT_COLUMN_LEN,_)),E.addCharsWithColor("",` ${e.vertical}`)}),E.renderConsole()},_=(e,d,h,m,g,y)=>{let b=(0,v.getWidthLimitedColumnsArray)(d,h,y),w=Object.values(b).reduce((e,d)=>Math.max(e,d.length),0),S=[];for(let v=0;v<w;v+=1){let w=x(e,d,v,b,g,h,m,y);S.push(w)}return S},E=(e,d)=>{let h=[];return h.concat(_(e.tableStyle,e.columns,d,e.colorMap,void 0,e.charLength))},T=e=>{let d=[];if(void 0===e.title)return d;let h=()=>{let d=(e,d)=>e+d+2+1;return e.columns.map(e=>e.length||b.DEFAULT_COLUMN_LEN).reduce(d,1)},m=(0,y.textWithPadding)(e.title,b.DEFAULT_HEADER_ALIGNMENT,h()),v=new g.default(e.colorMap);return v.addCharsWithColor(b.DEFAULT_HEADER_FONT_COLOR,m),d.push(v.renderConsole()),d},k=e=>{let d=[];d.push((0,v.renderTableHorizontalBorders)(e.tableStyle.headerTop,e.columns.map(e=>e.length||b.DEFAULT_COLUMN_LEN)));let h=(0,v.createHeaderAsRow)(v.createRow,e.columns);return(d=d.concat(_(e.tableStyle,e.columns,h,e.colorMap,!0))).push((0,v.renderTableHorizontalBorders)(e.tableStyle.headerBottom,e.columns.map(e=>e.length||b.DEFAULT_COLUMN_LEN))),d},C=e=>{let d=[];return d.push((0,v.renderTableHorizontalBorders)(e.tableStyle.tableBottom,e.columns.map(e=>e.length||b.DEFAULT_COLUMN_LEN))),d},P=(e,d)=>{let h=[],m=e.rows.length-1;return e.rows.indexOf(d)!==m&&d.separator&&h.push((0,v.renderTableHorizontalBorders)(e.tableStyle.rowSeparator,e.columns.map(e=>e.length||b.DEFAULT_COLUMN_LEN))),h};d.renderTable=e=>{(0,S.preProcessColumns)(e),(0,S.preProcessRows)(e);let d=[];return T(e).forEach(e=>d.push(e)),k(e).forEach(e=>d.push(e)),e.rows.forEach(h=>{E(e,h).forEach(e=>d.push(e)),P(e,h).forEach(e=>d.push(e))}),C(e).forEach(e=>d.push(e)),d.join("\n")};let O=e=>{let h=new w.default;return h.addRows(e),(0,d.renderTable)(h)};d.renderSimpleTable=O;let I=e=>{console.log((0,d.renderSimpleTable)(e))};d.printSimpleTable=I},73679:(e,d,h)=>{"use strict";h.d(d,{Q:()=>g,r:()=>b});var m=h(74290);let g=({block:e})=>({...e,flattenedFields:b({fields:e.fields})}),y=new Map,b=({cache:e,fields:d})=>{if(e){let e=y.get(d);if(e)return e}let h=[];for(let e of d)switch(e.type){case"array":case"group":if((0,m.Z7)(e))h.push({...e,flattenedFields:b({fields:e.fields})});else for(let d of b({fields:e.fields}))h.push(d);break;case"blocks":{let d,m=[];if(e.blockReferences)for(let h of(d=[],e.blockReferences)){if("string"==typeof h){d.push(h);continue}d.push(g({block:h}))}else for(let d of e.blocks){if("string"==typeof d){m.push(d);continue}m.push(g({block:d}))}let y={...e,blockReferences:d,blocks:m};h.push(y);break}case"collapsible":case"row":for(let d of b({fields:e.fields}))h.push(d);break;case"join":h.push(e);break;case"tabs":for(let d of e.tabs)if((0,m.pz)(d))h.push({...d,type:"tab",flattenedFields:b({fields:d.fields})});else for(let e of b({fields:d.fields}))h.push(e);break;default:"ui"!==e.type&&h.push(e)}return y.set(d,h),h}},73940:function(e){!function(d,h){e.exports=h()}(0,function(){var e=[],d=[],h={},m={},g={};function y(e){return"string"==typeof e?RegExp("^"+e+"$","i"):e}function b(e,d){return e===d?d:e===e.toLowerCase()?d.toLowerCase():e===e.toUpperCase()?d.toUpperCase():e[0]===e[0].toUpperCase()?d.charAt(0).toUpperCase()+d.substr(1).toLowerCase():d.toLowerCase()}function v(e,d){return e.replace(/\$(\d{1,2})/g,function(e,h){return d[h]||""})}function w(e,d){return e.replace(d[0],function(h,m){var g=v(d[1],arguments);return""===h?b(e[m-1],g):b(h,g)})}function S(e,d,m){if(!e.length||h.hasOwnProperty(e))return d;for(var g=m.length;g--;){var y=m[g];if(y[0].test(d))return w(d,y)}return d}function x(e,d,h){return function(m){var g=m.toLowerCase();return d.hasOwnProperty(g)?b(m,g):e.hasOwnProperty(g)?b(m,e[g]):S(g,m,h)}}function _(e,d,h,m){return function(m){var g=m.toLowerCase();return!!d.hasOwnProperty(g)||!e.hasOwnProperty(g)&&S(g,g,h)===g}}function E(e,d,h){var m=1===d?E.singular(e):E.plural(e);return(h?d+" ":"")+m}return E.plural=x(g,m,e),E.isPlural=_(g,m,e),E.singular=x(m,g,d),E.isSingular=_(m,g,d),E.addPluralRule=function(d,h){e.push([y(d),h])},E.addSingularRule=function(e,h){d.push([y(e),h])},E.addUncountableRule=function(e){if("string"==typeof e){h[e.toLowerCase()]=!0;return}E.addPluralRule(e,"$0"),E.addSingularRule(e,"$0")},E.addIrregularRule=function(e,d){d=d.toLowerCase(),g[e=e.toLowerCase()]=d,m[d]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(e){return E.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return E.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return E.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(E.addUncountableRule),E})},74021:(e,d,h)=>{"use strict";h.d(d,{D4:()=>v,lF:()=>b});var m=h(4573),g=h(18864);function y(e){let d=e;return d instanceof Uint8Array&&(d=g.D0.decode(d)),d}let b=e=>m.Buffer.from(e).toString("base64url"),v=e=>new Uint8Array(m.Buffer.from(y(e),"base64url"))},74107:(e,d,h)=>{let{buildOptions:m}=h(34344),g=h(36556),{prettify:y}=h(10537),b=h(85486);class v{constructor(e){this.externalEntities={},this.options=m(e)}parse(e,d){if("string"==typeof e);else if(e.toString)e=e.toString();else throw Error("XML data is accepted in String or Bytes[] form.");if(d){!0===d&&(d={});let h=b.validate(e,d);if(!0!==h)throw Error(`${h.err.msg}:${h.err.line}:${h.err.col}`)}let h=new g(this.options);h.addExternalEntities(this.externalEntities);let m=h.parseXml(e);return this.options.preserveOrder||void 0===m?m:y(m,this.options)}addEntity(e,d){if(-1!==d.indexOf("&"))throw Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===d)throw Error("An entity with value '&' is not permitted");this.externalEntities[e]=d}}e.exports=v},74290:(e,d,h)=>{"use strict";function m(e){return null!==e&&"object"==typeof e&&"relationTo"in e&&"value"in e}function g(e){return"group"===e.type||"array"===e.type||"row"===e.type||"collapsible"===e.type}function y(e){return"object"==typeof e}function b(e){return"select"===e.type||"relationship"===e.type||"upload"===e.type}function v(e){return("upload"===e.type||"relationship"===e.type||"join"===e.type)&&"number"==typeof e.maxDepth}function w(e){return"ui"===e.type}function S(e){return"name"in e&&"id"===e.name}function x(e){return"hidden"in e&&e.hidden||"admin"in e&&"disabled"in e.admin&&e.admin.disabled}function _(e){return"name"in e&&!w(e)}function E(e){return"name"in e}function T(e){return"localized"in e&&e.localized}function k({field:e,parentIsLocalized:d}){return"localized"in e&&e.localized&&(!d||"true"===process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized)}function C(e){return"virtual"in e&&!!e.virtual}h.d(d,{Cd:()=>k,Ez:()=>b,I2:()=>x,IC:()=>C,M2:()=>v,Yf:()=>T,Z7:()=>_,aO:()=>w,b_:()=>m,pz:()=>E,sd:()=>g,uT:()=>S,vs:()=>y})},75382:e=>{e.exports=b,b.default=b,b.stable=x,b.stableStringify=x;var d="[...]",h="[Circular]",m=[],g=[];function y(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function b(e,d,h,b){void 0===b&&(b=y()),w(e,"",0,[],void 0,0,b);try{v=0===g.length?JSON.stringify(e,d,h):JSON.stringify(e,E(d),h)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==m.length;){var v,S=m.pop();4===S.length?Object.defineProperty(S[0],S[1],S[3]):S[0][S[1]]=S[2]}}return v}function v(e,d,h,y){var b=Object.getOwnPropertyDescriptor(y,h);void 0!==b.get?b.configurable?(Object.defineProperty(y,h,{value:e}),m.push([y,h,d,b])):g.push([d,h,e]):(y[h]=e,m.push([y,h,d]))}function w(e,m,g,y,b,S,x){if(S+=1,"object"==typeof e&&null!==e){for(_=0;_<y.length;_++)if(y[_]===e)return void v(h,e,m,b);if(void 0!==x.depthLimit&&S>x.depthLimit||void 0!==x.edgesLimit&&g+1>x.edgesLimit)return void v(d,e,m,b);if(y.push(e),Array.isArray(e))for(_=0;_<e.length;_++)w(e[_],_,_,y,e,S,x);else{var _,E=Object.keys(e);for(_=0;_<E.length;_++){var T=E[_];w(e[T],T,_,y,e,S,x)}}y.pop()}}function S(e,d){return e<d?-1:+(e>d)}function x(e,d,h,b){void 0===b&&(b=y());var v,w=_(e,"",0,[],void 0,0,b)||e;try{v=0===g.length?JSON.stringify(w,d,h):JSON.stringify(w,E(d),h)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==m.length;){var S=m.pop();4===S.length?Object.defineProperty(S[0],S[1],S[3]):S[0][S[1]]=S[2]}}return v}function _(e,g,y,b,w,x,E){if(x+=1,"object"==typeof e&&null!==e){for(T=0;T<b.length;T++)if(b[T]===e)return void v(h,e,g,w);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==E.depthLimit&&x>E.depthLimit||void 0!==E.edgesLimit&&y+1>E.edgesLimit)return void v(d,e,g,w);if(b.push(e),Array.isArray(e))for(T=0;T<e.length;T++)_(e[T],T,T,b,e,x,E);else{var T,k={},C=Object.keys(e).sort(S);for(T=0;T<C.length;T++){var P=C[T];_(e[P],P,T,b,e,x,E),k[P]=e[P]}if(void 0===w)return k;m.push([w,g,e]),w[g]=k}b.pop()}}function E(e){return e=void 0!==e?e:function(e,d){return d},function(d,h){if(g.length>0)for(var m=0;m<g.length;m++){var y=g[m];if(y[1]===d&&y[0]===h){h=y[2],g.splice(m,1);break}}return e.call(this,d,h)}}},75783:(e,d,h)=>{"use strict";h.d(d,{A:()=>m});let m=(...e)=>{let d,h=e.filter(Boolean);if(0===h.length||1===h.length)return!0;for(let e of h){let h=Object.keys(e);if(!d||0===d.size){d=new Set(h);continue}for(let e of h){if(d.has(e))return!1;d.add(e)}}return!0}},75846:(e,d,h)=>{"use strict";let m=h(85486);e.exports={XMLParser:h(74107),XMLValidator:m,XMLBuilder:h(8620)}},75885:(e,d,h)=>{"use strict";let m=h(30658);e.exports=function e({paths:e}){let d=[];var h=0;let g=e.reduce(function(e,g,y){var b=g.match(m).map(e=>e.replace(/'|"|`/g,""));let v="["===g[0],w=(b=b.map(e=>"["===e[0]?e.substr(1,e.length-2):e)).indexOf("*");if(w>-1){let e=b.slice(0,w),m=e.join("."),g=b.slice(w+1,b.length),y=g.length>0;h++,d.push({before:e,beforeStr:m,after:g,nested:y})}else e[g]={path:b,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(g),leadingBracket:v};return e},{});return{wildcards:d,wcLen:h,secret:g}}},76038:e=>{let d=/^[-+]?0x[a-fA-F0-9]+$/,h=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,m={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function g(e){return e&&-1!==e.indexOf(".")&&("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1))),e}function y(e,d){if(parseInt)return parseInt(e,d);if(Number.parseInt)return Number.parseInt(e,d);if(window&&window.parseInt)return window.parseInt(e,d);throw Error("parseInt, Number.parseInt, window.parseInt are not supported")}e.exports=function(e,b={}){if(b=Object.assign({},m,b),!e||"string"!=typeof e)return e;let v=e.trim();if(void 0!==b.skipLike&&b.skipLike.test(v))return e;if("0"===e)return 0;if(b.hex&&d.test(v))return y(v,16);if(-1!==v.search(/[eE]/)){let d=v.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(!d)return e;if(b.leadingZeros)v=(d[1]||"")+d[3];else if("0"!==d[2]||"."!==d[3][0])return e;return b.eNotation?Number(v):e}{let d=h.exec(v);if(!d)return e;{let h=d[1],m=d[2],y=g(d[3]);if(!b.leadingZeros&&m.length>0&&h&&"."!==v[2])return e;{if(!b.leadingZeros&&m.length>0&&!h&&"."!==v[1])return e;if(b.leadingZeros&&m===e)return 0;let d=Number(v),g=""+d;if(-1!==g.search(/[eE]/))if(b.eNotation)return d;else return e;if(-1!==v.indexOf("."))if("0"===g&&""===y)return d;else if(g===y)return d;else if(h&&g==="-"+y)return d;else return e;return m?y===g||h+y===g?d:e:v===g||v===h+g?d:e}}}}},76199:(e,d,h)=>{"use strict";h.r(d),h.d(d,{AdaptiveRetryStrategy:()=>D,ConfiguredRetryStrategy:()=>L,DEFAULT_MAX_ATTEMPTS:()=>m,DEFAULT_RETRY_DELAY_BASE:()=>w,DEFAULT_RETRY_MODE:()=>g,DefaultRateLimiter:()=>v,INITIAL_RETRY_TOKENS:()=>_,INVOCATION_ID_HEADER:()=>C,MAXIMUM_RETRY_DELAY:()=>S,NO_RETRY_INCREMENT:()=>k,REQUEST_HEADER:()=>P,RETRY_COST:()=>E,RETRY_MODES:()=>y,StandardRetryStrategy:()=>R,THROTTLING_RETRY_DELAY_BASE:()=>x,TIMEOUT_RETRY_COST:()=>T}),function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(y||(y={}));let m=3,g=y.STANDARD;var y,b=h(44584);class v{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let d=this.getCurrentTimeInSeconds();this.lastThrottleTime=d,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let d=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>v.setTimeoutFn(e,d))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let d=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+d),this.lastTimestamp=e}updateClientSendingRate(e){let d;if(this.updateMeasuredRate(),(0,b.isThrottlingError)(e)){let e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),d=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),d=this.cubicSuccess(this.getCurrentTimeInSeconds());let h=Math.min(d,2*this.measuredTxRate);this.updateTokenBucketRate(h)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,e>this.lastTxRateBucket){let d=this.requestCount/(e-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(d*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e}}getPrecise(e){return parseFloat(e.toFixed(8))}}v.setTimeoutFn=setTimeout;let w=100,S=2e4,x=500,_=500,E=5,T=10,k=1,C="amz-sdk-invocation-id",P="amz-sdk-request",O=()=>{let e=w;return{computeNextBackoffDelay:d=>Math.floor(Math.min(S,Math.random()*2**d*e)),setDelayBase:d=>{e=d}}},I=({retryDelay:e,retryCount:d,retryCost:h})=>({getRetryCount:()=>d,getRetryDelay:()=>Math.min(S,e),getRetryCost:()=>h});class R{constructor(e){this.maxAttempts=e,this.mode=y.STANDARD,this.capacity=_,this.retryBackoffStrategy=O(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return I({retryDelay:w,retryCount:0})}async refreshRetryTokenForRetry(e,d){let h=await this.getMaxAttempts();if(this.shouldRetry(e,d,h)){let h=d.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===h?x:w);let m=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),g=d.retryAfterHint?Math.max(d.retryAfterHint.getTime()-Date.now()||0,m):m,y=this.getCapacityCost(h);return this.capacity-=y,I({retryDelay:g,retryCount:e.getRetryCount()+1,retryCost:y})}throw Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(_,this.capacity+(e.getRetryCost()??k))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${m}`),m}}shouldRetry(e,d,h){return e.getRetryCount()+1<h&&this.capacity>=this.getCapacityCost(d.errorType)&&this.isRetryableError(d.errorType)}getCapacityCost(e){return"TRANSIENT"===e?T:E}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class D{constructor(e,d){this.maxAttemptsProvider=e,this.mode=y.ADAPTIVE;let{rateLimiter:h}=d??{};this.rateLimiter=h??new v,this.standardRetryStrategy=new R(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,d){return this.rateLimiter.updateClientSendingRate(d),this.standardRetryStrategy.refreshRetryTokenForRetry(e,d)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}class L extends R{constructor(e,d=w){super("function"==typeof e?e:async()=>e),"number"==typeof d?this.computeNextBackoffDelay=()=>d:this.computeNextBackoffDelay=d}async refreshRetryTokenForRetry(e,d){let h=await super.refreshRetryTokenForRetry(e,d);return h.getRetryDelay=()=>this.computeNextBackoffDelay(h.getRetryCount()),h}}},76225:(e,d,h)=>{"use strict";let m=h(68250);d.implementation=class{constructor(e){let d=e[0],h=e[1],g=null;if(void 0!==h&&"failure"===(g=m.basicURLParse(h)))throw TypeError("Invalid base URL");let y=m.basicURLParse(d,{baseURL:g});if("failure"===y)throw TypeError("Invalid URL");this._url=y}get href(){return m.serializeURL(this._url)}set href(e){let d=m.basicURLParse(e);if("failure"===d)throw TypeError("Invalid URL");this._url=d}get origin(){return m.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){m.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){m.cannotHaveAUsernamePasswordPort(this._url)||m.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){m.cannotHaveAUsernamePasswordPort(this._url)||m.setThePassword(this._url,e)}get host(){let e=this._url;return null===e.host?"":null===e.port?m.serializeHost(e.host):m.serializeHost(e.host)+":"+m.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||m.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":m.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||m.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":m.serializeInteger(this._url.port)}set port(e){m.cannotHaveAUsernamePasswordPort(this._url)||(""===e?this._url.port=null:m.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],m.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(e){let d=this._url;if(""===e){d.query=null;return}let h="?"===e[0]?e.substring(1):e;d.query="",m.basicURLParse(h,{url:d,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(e){if(""===e){this._url.fragment=null;return}let d="#"===e[0]?e.substring(1):e;this._url.fragment="",m.basicURLParse(d,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},76277:(e,d,h)=>{"use strict";let m=h(27910).Transform;class g extends m{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,d,h){let m,g=0;for(let d=0,h=e.length;d<h;d++)10===e[d]&&(d&&13!==e[d-1]||!d&&13!==this.lastByte)&&(d>g&&(m=e.slice(g,d),this.push(m)),this.push(Buffer.from("\r\n")),g=d+1);g&&g<e.length?(m=e.slice(g),this.push(m)):g||this.push(e),this.lastByte=e[e.length-1],h()}}e.exports=g},76296:(e,d,h)=>{"use strict";h.d(d,{L:()=>L});var m=h(13062),g=h(26154),y=h(553),b=h(89075),v=h(89554),w=h(97507),S=h(61081),x=h(83856),_=h(83552),E=h(30433),T=h(71707),k=h(12276),C=h(80961),P=h(59783),O=h(53529),I=h(38703),R=h(40765),D=h(77900);let L=async e=>{let d=e;try{let e,h,T=!d.disableTransaction&&await (0,E.n)(d.req);if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"update",req:d.req})||d;let{collection:{config:L},collection:$,depth:M,draft:B=!1,limit:j=0,overrideAccess:U,overrideLock:F,overwriteExistingFiles:z=!1,populate:q,publishSpecificLocale:V,req:{fallbackLocale:H,locale:K,payload:{config:G},payload:W},req:J,select:Q,showHiddenFields:Y,sort:X,where:Z}=d;if(!Z)throw new v.L("Missing 'where' query of documents to update.",m.h.BAD_REQUEST);let{data:ee}=d,et=!!(B&&L.versions.drafts);U||(e=await (0,g.A)({req:J},L.access.update)),await (0,b.d)({collectionConfig:L,overrideAccess:U,req:J,where:Z});let ei=(0,y.m)(Z,e),er=(0,I.K)({fields:$.config.flattenedFields,sort:X});if(L.versions?.drafts&&et){let e=(0,P.D)(ei);await (0,b.d)({collectionConfig:$.config,overrideAccess:U,req:J,versionFields:(0,C.c)(W.config,$.config,!0),where:(0,P.D)(Z)}),h=(await W.db.queryDrafts({collection:L.slug,limit:j,locale:K,pagination:!1,req:J,sort:(0,O.t)({collectionConfig:L,sort:er}),where:e})).docs}else h=(await W.db.find({collection:L.slug,limit:j,locale:K,pagination:!1,req:J,sort:er,where:ei})).docs;let{data:ea,files:en}=await (0,S.Y)({collection:$,config:G,data:ee,operation:"update",overwriteExistingFiles:z,req:J,throwOnMissingFile:!1}),es=[],eo=h.map(async d=>{let{id:h}=d;try{let m=(0,k.Y)({fields:L.flattenedFields,forceSelect:L.forceSelect,select:Q});return await (0,R.l)({id:h,accessResults:e,autosave:!1,collectionConfig:L,config:G,data:(0,w.Zt)(ea),depth:M,docWithLocales:d,draftArg:B,fallbackLocale:H,filesToUpload:en,locale:K,overrideAccess:U,overrideLock:F,payload:W,populate:q,publishSpecificLocale:V,req:J,select:m,showHiddenFields:Y})}catch(e){es.push({id:h,message:e.message})}return null});await (0,x.b)({collectionConfig:L,config:G,req:J});let el={docs:(await Promise.all(eo)).filter(Boolean),errors:es};return el=await (0,D.E)({args:d,collection:L,operation:"update",result:el}),T&&await (0,_.w)(J),el}catch(e){throw await (0,T.J)(d.req),e}}},76705:(e,d,h)=>{"use strict";let m=h(77118),g=h(51027),y=h(55511);function b(e,d,h,y,b){let v=["v=1","a=rsa-"+y,"c=relaxed/relaxed","d="+m.toASCII(e),"q=dns/txt","s="+d,"bh="+b,"h="+h].join("; ");return g.foldLines("DKIM-Signature: "+v,76)+";\r\n b="}function v(e,d,h){let m=new Set,g=new Set,y=new Map;(h||"").toLowerCase().split(":").forEach(e=>{g.add(e.trim())}),(d||"").toLowerCase().split(":").filter(e=>!g.has(e.trim())).forEach(e=>{m.add(e.trim())});for(let d=e.length-1;d>=0;d--){let h=e[d];m.has(h.key)&&!y.has(h.key)&&y.set(h.key,w(h.line))}let b=[],v=[];return m.forEach(e=>{y.has(e)&&(v.push(e),b.push(e+":"+y.get(e)))}),{headers:b.join("\r\n")+"\r\n",fieldNames:v.join(":")}}function w(e){return e.substr(e.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}e.exports=(e,d,h,m)=>{let g,S,x="From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",_=v(e,(m=m||{}).headerFieldNames||x,m.skipFields),E=b(m.domainName,m.keySelector,_.fieldNames,d,h);_.headers+="dkim-signature:"+w(E),(g=y.createSign(("rsa-"+d).toUpperCase())).update(_.headers);try{S=g.sign(m.privateKey,"base64")}catch(e){return!1}return E+S.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()},e.exports.relaxedHeaders=v},76941:(e,d,h)=>{"use strict";function m(e,d,h){return e.$source||(e.$source={}),e.$source[d]=h,e}h.d(d,{g:()=>m})},77118:e=>{"use strict";let d=0x7fffffff,h=36,m=1,g=26,y=38,b=700,v=72,w=128,S="-",x=/^xn--/,_=/[^\0-\x7F]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=35,C=Math.floor,P=String.fromCharCode;function O(e){throw RangeError(T[e])}function I(e,d){let h=[],m=e.length;for(;m--;)h[m]=d(e[m]);return h}function R(e,d){let h=e.split("@"),m="";return h.length>1&&(m=h[0]+"@",e=h[1]),m+I((e=e.replace(E,".")).split("."),d).join(".")}function D(e){let d=[],h=0,m=e.length;for(;h<m;){let g=e.charCodeAt(h++);if(g>=55296&&g<=56319&&h<m){let m=e.charCodeAt(h++);(64512&m)==56320?d.push(((1023&g)<<10)+(1023&m)+65536):(d.push(g),h--)}else d.push(g)}return d}let L=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:h},$=function(e,d){return e+22+75*(e<26)-((0!=d)<<5)},M=function(e,d,m){let v=0;for(e=m?C(e/b):e>>1,e+=C(e/d);e>k*g>>1;v+=h)e=C(e/k);return C(v+(k+1)*e/(e+y))},B=function(e){let y=[],b=e.length,x=0,_=w,E=v,T=e.lastIndexOf(S);T<0&&(T=0);for(let d=0;d<T;++d)e.charCodeAt(d)>=128&&O("not-basic"),y.push(e.charCodeAt(d));for(let v=T>0?T+1:0;v<b;){let w=x;for(let y=1,w=h;;w+=h){v>=b&&O("invalid-input");let S=L(e.charCodeAt(v++));S>=h&&O("invalid-input"),S>C((d-x)/y)&&O("overflow"),x+=S*y;let _=w<=E?m:w>=E+g?g:w-E;if(S<_)break;let T=h-_;y>C(d/T)&&O("overflow"),y*=T}let S=y.length+1;E=M(x-w,S,0==w),C(x/S)>d-_&&O("overflow"),_+=C(x/S),x%=S,y.splice(x++,0,_)}return String.fromCodePoint(...y)},j=function(e){let y=[],b=(e=D(e)).length,x=w,_=0,E=v;for(let d of e)d<128&&y.push(P(d));let T=y.length,k=T;for(T&&y.push(S);k<b;){let b=d;for(let d of e)d>=x&&d<b&&(b=d);let v=k+1;for(let w of(b-x>C((d-_)/v)&&O("overflow"),_+=(b-x)*v,x=b,e))if(w<x&&++_>d&&O("overflow"),w===x){let e=_;for(let d=h;;d+=h){let b=d<=E?m:d>=E+g?g:d-E;if(e<b)break;let v=e-b,w=h-b;y.push(P($(b+v%w,0))),e=C(v/w)}y.push(P($(e,0))),E=M(_,v,k===T),_=0,++k}++_,++x}return y.join("")},U=function(e){return R(e,function(e){return x.test(e)?B(e.slice(4).toLowerCase()):e})},F=function(e){return R(e,function(e){return _.test(e)?"xn--"+j(e):e})};e.exports={version:"2.3.1",ucs2:{decode:D,encode:e=>String.fromCodePoint(...e)},decode:B,encode:j,toASCII:F,toUnicode:U}},77397:(e,d,h)=>{"use strict";h.d(d,{k:()=>M});var m=h(77900),g=h(31303),y=h(13062),b=h(89554);class v extends b.L{constructor(e,d){super(e?`${e(d?"error:usernameOrPasswordIncorrect":"error:emailOrPasswordIncorrect")}`:g.en.translations.error.emailOrPasswordIncorrect,y.h.UNAUTHORIZED)}}class w extends b.L{constructor({t:e}){super(e?e("error:unverifiedEmail"):g.en.translations.error.unverifiedEmail,y.h.FORBIDDEN)}}class S extends b.L{constructor(e){super(e?e("error:userLocked"):g.en.translations.error.userLocked,y.h.UNAUTHORIZED)}}var x=h(79853),_=h(89426),E=h(19131),T=h(71707),k=h(53296),C=h(19966),P=h(85278);let O=e=>!!e&&e>Date.now();var I=h(53716),R=h(66412);let D=async({collection:e,doc:d,payload:h,req:m})=>{let{auth:{lockTime:g,maxLoginAttempts:y}}=e;if("lockUntil"in d&&"string"==typeof d.lockUntil){new Date(d.lockUntil).getTime()<Date.now()&&await h.update({id:d.id,collection:e.slug,data:{lockUntil:null,loginAttempts:1},depth:0,req:m});return}let b={loginAttempts:Number(d.loginAttempts)+1};"number"==typeof d.loginAttempts&&d.loginAttempts+1>=y&&(b.lockUntil=new Date(Date.now()+g).toISOString()),await h.update({id:d.id,collection:e.slug,data:b,depth:0,req:m})};var L=h(65175);let $=({collection:e,loggingInWithUsername:d,req:h,user:m})=>{if(!m)throw new v(h.t,!!d);if(e.auth.verify&&!1===m._verified)throw new w({t:h.t});if(O(new Date(m.lockUntil).getTime()))throw new S(h.t)},M=async e=>{let d=e;if(d.collection.config.auth.disableLocalStrategy)throw new E.c(d.req.t);try{let e;if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection?.config,context:d.req.context,operation:"login",req:d.req})||d;let{collection:{config:h},data:g,depth:y,overrideAccess:b,req:w,req:{fallbackLocale:S,locale:E,payload:T,payload:{secret:O}},showHiddenFields:M}=d,{email:B,password:j}=g,U=h.auth.loginWithUsername,F="string"==typeof B?B.toLowerCase().trim():null,z="username"in g&&"string"==typeof g?.username?g.username.toLowerCase().trim():null,{canLoginWithEmail:q,canLoginWithUsername:V}=(0,P.Y)(U);if(!q&&!z)throw new x.y({collection:h.slug,errors:[{message:w.i18n.t("validation:required"),path:"username"}]});if(!V&&!F)throw new x.y({collection:h.slug,errors:[{message:w.i18n.t("validation:required"),path:"email"}]});if(!z&&!F)throw new x.y({collection:h.slug,errors:[{message:w.i18n.t("validation:required"),path:"email"},{message:w.i18n.t("validation:required"),path:"username"}]});if("string"!=typeof j||""===j.trim())throw new x.y({collection:h.slug,errors:[{message:w.i18n.t("validation:required"),path:"password"}]});let H={},K={email:{equals:F}},G={username:{equals:z}};q&&V&&(z||F)?H=z?{or:[G,{email:{equals:z}}]}:{or:[K,{username:{equals:F}}]}:q&&F?H=K:V&&z&&(H=G),e=await T.db.findOne({collection:h.slug,req:w,where:H}),$({collection:h,loggingInWithUsername:!!(V&&z),req:w,user:e}),e.collection=h.slug,e._strategy="local-jwt";let W=await (0,R.Q)({doc:e,password:j});e=(0,k.A)(e);let J=d.collection.config.auth.maxLoginAttempts>0;if(!W)throw J&&await D({collection:h,doc:e,payload:w.payload,req:w}),new v(w.t);J&&await (0,L.Z)({collection:h,doc:e,payload:w.payload,req:w});let Q=(0,C.C)({collectionConfig:h,email:F,user:e});if(h.hooks?.beforeLogin?.length)for(let m of h.hooks.beforeLogin)e=await m({collection:d.collection?.config,context:d.req.context,req:d.req,user:e})||e;let{exp:Y,token:X}=await (0,I.h)({fieldsToSign:Q,secret:O,tokenExpiration:h.auth.tokenExpiration});if(w.user=e,h.hooks?.afterLogin?.length)for(let m of h.hooks.afterLogin)e=await m({collection:d.collection?.config,context:d.req.context,req:d.req,token:X,user:e})||e;if(e=await (0,_.v)({collection:h,context:w.context,depth:y,doc:e,draft:void 0,fallbackLocale:S,global:null,locale:E,overrideAccess:b,req:w,showHiddenFields:M}),h.hooks?.afterRead?.length)for(let m of h.hooks.afterRead)e=await m({collection:d.collection?.config,context:w.context,doc:e,req:w})||e;let Z={exp:Y,token:X,user:e};return Z=await (0,m.E)({args:d,collection:d.collection?.config,operation:"login",result:Z})}catch(e){throw await (0,T.J)(d.req),e}}},77507:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.rawColumnToInternalColumn=d.objIfExists=void 0;let m=h(32152);d.objIfExists=(e,d)=>d?{[e]:d}:{};let g=e=>{var h;return Object.assign(Object.assign(Object.assign(Object.assign({name:e.name,title:null!=(h=e.title)?h:e.name},(0,d.objIfExists)("color",e.color)),(0,d.objIfExists)("maxLen",e.maxLen)),(0,d.objIfExists)("minLen",e.minLen)),{alignment:e.alignment||m.DEFAULT_ROW_ALIGNMENT})};d.rawColumnToInternalColumn=g},77601:function(e,d,h){"use strict";var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0}),d.wcswidth=d.wcwidth=void 0,d.wcswidth=m(h(48651)).default,d.wcwidth=m(h(31790)).default},77715:(e,d,h)=>{"use strict";let m=h(52838),{cursor:g}=h(41893),y=h(68471),{clear:b,style:v,figures:w}=h(31347);class S extends y{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=b("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(e=>!this.inputValue||!!("string"==typeof e.title&&e.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof e.value&&e.value.toLowerCase().includes(this.inputValue.toLowerCase())));let d=this.filteredOptions.findIndex(d=>d===e);this.cursor=d<0?0:d,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,d){" "===e?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${w.arrowUp}/${w.arrowDown}: Highlight option
    ${w.arrowLeft}/${w.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:m.gray("Enter something to filter")}
`}renderOption(e,d,h){let g;return g=d.disabled?e===h?m.gray().underline(d.title):m.strikethrough().gray(d.title):e===h?m.cyan().underline(d.title):d.title,(d.selected?m.green(w.radioOn):w.radioOff)+"  "+g}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[m.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(m.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(g.hide),super.render();let e=[v.symbol(this.done,this.aborted),m.bold(this.msg),v.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=m.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=b(e,this.out.columns)}}e.exports=S},77900:(e,d,h)=>{"use strict";h.d(d,{E:()=>m});let m=async e=>{let{args:d,collection:h,operation:m,result:g}=e,y=g;if(d.collection.config.hooks?.afterOperation?.length)for(let e of d.collection.config.hooks.afterOperation){let g=await e({args:d,collection:h,operation:m,req:d.req,result:y});void 0!==g&&(y=g)}return y}},78183:(e,d,h)=>{"use strict";var m=h(14985),g=h(61664),y=h(90461).parse,b=function(e,d,h){return void 0===h?h=process.env["PG"+e.toUpperCase()]:!1===h||(h=process.env[h]),d[e]||h||g[e]},v=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return g.ssl},w=function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},S=function(e,d,h){var m=d[h];null!=m&&e.push(h+"="+w(m))};class x{constructor(e){(e="string"==typeof e?y(e):e||{}).connectionString&&(e=Object.assign({},e,y(e.connectionString))),this.user=b("user",e),this.database=b("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(b("port",e),10),this.host=b("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:b("password",e)}),this.binary=b("binary",e),this.options=b("options",e),this.ssl=void 0===e.ssl?v():e.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=b("client_encoding",e),this.replication=b("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=b("application_name",e,"PGAPPNAME"),this.fallback_application_name=b("fallback_application_name",e,!1),this.statement_timeout=b("statement_timeout",e,!1),this.lock_timeout=b("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=b("idle_in_transaction_session_timeout",e,!1),this.query_timeout=b("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var d=[];S(d,this,"user"),S(d,this,"password"),S(d,this,"port"),S(d,this,"application_name"),S(d,this,"fallback_application_name"),S(d,this,"connect_timeout"),S(d,this,"options");var h="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(S(d,h,"sslmode"),S(d,h,"sslca"),S(d,h,"sslkey"),S(d,h,"sslcert"),S(d,h,"sslrootcert"),this.database&&d.push("dbname="+w(this.database)),this.replication&&d.push("replication="+w(this.replication)),this.host&&d.push("host="+w(this.host)),this.isDomainSocket)return e(null,d.join(" "));this.client_encoding&&d.push("client_encoding="+w(this.client_encoding)),m.lookup(this.host,function(h,m){return h?e(h,null):(d.push("hostaddr="+w(m)),e(null,d.join(" ")))})}}e.exports=x},78294:(e,d,h)=>{"use strict";h.d(d,{hV:()=>E,pf:()=>v});var m=h(21820),g=h(19771);let y={isCrtAvailable:!1},b=()=>y.isCrtAvailable?["md/crt-avail"]:null,v=({serviceId:e,clientVersion:d})=>async h=>{let y=[["aws-sdk-js",d],["ua","2.1"],[`os/${(0,m.platform)()}`,(0,m.release)()],["lang/js"],["md/nodejs",`${g.versions.node}`]],v=b();v&&y.push(v),e&&y.push([`api/${e}`,d]),g.env.AWS_EXECUTION_ENV&&y.push([`exec-env/${g.env.AWS_EXECUTION_ENV}`]);let w=await h?.userAgentAppId?.();return w?[...y,[`app/${w}`]]:[...y]};var w=h(71860);let S="AWS_SDK_UA_APP_ID",x="sdk_ua_app_id",_="sdk-ua-app-id",E={environmentVariableSelector:e=>e[S],configFileSelector:e=>e[x]??e[_],default:w.DEFAULT_UA_APP_ID}},78394:(e,d,h)=>{"use strict";h.d(d,{M:()=>S});var m=h(73243),g=h(45886);let y=async({config:e,language:d})=>(0,g.LE)({config:e.i18n,context:"api",language:d});var b=h(35308);function v(e={context:null},d={}){return e.context?0===Object.keys(e.context).length&&e.context.constructor===Object?d:{...e.context,...d}:d}let w=(e,d)=>{let h;function m(){if(h)return h;let m=`http://${e.host||"localhost"}${d||""}`,g=e?.url||e.payload.config?.serverURL?`${e.payload.config.serverURL}${d||""}`:m;try{h=new URL(g)}catch(d){e.payload.logger.error(`Failed to create URL object from URL: ${g}, falling back to ${m}`),h=new URL(m)}return h}e.host||(e.host=m().host),e.protocol||(e.protocol=m().protocol),e.pathname||(e.pathname=m().pathname),e.searchParams||(e.searchParams=m().searchParams),e.origin||(e.origin=m().origin),e?.url||(e.url=m().href)},S=async({context:e,fallbackLocale:d,locale:h,req:g={},urlSuffix:S,user:x},_)=>{let E=_.config?.localization;if(E){let e="*"===h?"all":h,m=E.defaultLocale,y=e||g?.locale||g?.query?.locale;g.locale=y&&"string"==typeof y?y:m;let v=(0,b.m)({fallbackLocale:d,locale:g.locale,localization:E});g.fallbackLocale=v}let T=g?.i18n||await y({config:_.config,language:_.config.i18n.fallbackLanguage});return g.headers||(g.headers=new Headers),g.context=v(g,e),g.payloadAPI=g?.payloadAPI||"local",g.payload=_,g.i18n=T,g.t=T.t,g.user=x||g?.user||null,g.payloadDataLoader=g?.payloadDataLoader||(0,m.Y)(g),g.routeParams=g?.routeParams||{},g.query=g?.query||{},w(g,S),g}},78506:e=>{e.exports={DEFAULT_LEVELS:{trace:10,debug:20,info:30,warn:40,error:50,fatal:60},SORTING_ORDER:{ASC:"ASC",DESC:"DESC"}}},78518:e=>{"use strict";e.exports=e=>{let d=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof e?e.replace(d,""):e}},78540:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(48395);class g extends Error{constructor(e,d,h,g){super(g||`can't resolve reference ${h} from id ${d}`),this.missingRef=(0,m.resolveUrl)(e,d,h),this.missingSchema=(0,m.normalizeId)((0,m.getFullPath)(e,this.missingRef))}}d.default=g},79067:(e,d,h)=>{"use strict";var m=h(81545),g=Buffer.byteLength.bind(Buffer);e.exports=m.bind(null,g)},79110:(e,d,h)=>{"use strict";let m=h(27910).Transform;function g(e){return"string"==typeof e&&(e=Buffer.from(e,"utf-8")),e.toString("base64")}function y(e,d){if(e=(e||"").toString(),d=d||76,e.length<=d)return e;let h=[],m=0,g=1024*d;for(;m<e.length;){let y=e.substr(m,g).replace(RegExp(".{"+d+"}","g"),"$&\r\n").trim();h.push(y),m+=g}return h.join("\r\n").trim()}class b extends m{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,d,h){if("buffer"!==d&&(e=Buffer.from(e,d)),!e||!e.length)return setImmediate(h);this.inputBytes+=e.length,this._remainingBytes&&this._remainingBytes.length&&(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let m=this._curLine+g(e);if(this.options.lineLength){let e=(m=y(m,this.options.lineLength)).lastIndexOf("\n");e<0?(this._curLine=m,m=""):e===m.length-1?this._curLine="":(this._curLine=m.substr(e+1),m=m.substr(0,e+1))}m&&(this.outputBytes+=m.length,this.push(Buffer.from(m,"ascii"))),setImmediate(h)}_flush(e){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=g(this._remainingBytes)),this._curLine&&(this._curLine=y(this._curLine,this.options.lineLength),this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii"),this._curLine=""),e()}}e.exports={encode:g,wrap:y,Encoder:b}},79204:(e,d,h)=>{"use strict";function m(e){return["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/avif","image/jxl"].indexOf(e)>-1}h.d(d,{w:()=>m})},79258:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{fileStreamHasher:()=>C,readableStreamHasher:()=>O}),e.exports=S(x);var _=h(29021),E=h(69713),T=h(27910),k=class extends T.Writable{constructor(e,d){super(d),this.hash=e}static{v(this,"HashCalculator")}_write(e,d,h){try{this.hash.update((0,E.toUint8Array)(e))}catch(e){return h(e)}h()}},C=v((e,d)=>new Promise((h,m)=>{if(!P(d))return void m(Error("Unable to calculate hash for non-file streams."));let g=(0,_.createReadStream)(d.path,{start:d.start,end:d.end}),y=new e,b=new k(y);g.pipe(b),g.on("error",e=>{b.end(),m(e)}),b.on("error",m),b.on("finish",function(){y.digest().then(h).catch(m)})}),"fileStreamHasher"),P=v(e=>"string"==typeof e.path,"isReadStream"),O=v((e,d)=>{if(null!==d.readableFlowing)throw Error("Unable to calculate hash for flowing readable stream");let h=new e,m=new k(h);return d.pipe(m),new Promise((e,g)=>{d.on("error",e=>{m.end(),g(e)}),m.on("error",g),m.on("finish",()=>{h.digest().then(e).catch(g)})})},"readableStreamHasher")},79450:(e,d,h)=>{"use strict";let m=h(27910).Transform,g=h(55511);class y extends m{constructor(e){super(),e=e||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=g.createHash(e.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=e.debug,this._debugBody=!!e.debug&&[]}updateHash(e){let d,h="",m="file";for(let d=e.length-1;d>=0;d--){let g=e[d];if("file"===m&&(10===g||13===g));else if("file"===m&&(9===g||32===g))m="line";else if("line"===m&&(9===g||32===g));else if(("file"===m||"line"===m)&&(m="body",d===e.length-1))break;if(0===d){if("file"===m&&(!this.remainder||/[\r\n]$/.test(this.remainder))||"line"===m&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=e.toString("binary");return}else if("line"===m||"file"===m){h=e.toString("binary"),e=!1;break}}if("body"===m){h=e.slice(d+1).toString("binary"),e=e.slice(0,d+1);break}}let g=!!this.remainder;if(e&&!g){for(let d=0,h=e.length;d<h;d++)if(d&&10===e[d]&&13!==e[d-1]){g=!0;break}else if(d&&13===e[d]&&32===e[d-1]){g=!0;break}else if(d&&32===e[d]&&32===e[d-1]){g=!0;break}else if(9===e[d]){g=!0;break}}g?(d=this.remainder+(e?e.toString("binary"):""),this.remainder=h,d=d.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n"),e=Buffer.from(d,"binary")):h&&(this.remainder=h),this.debug&&this._debugBody.push(e),this.bodyHash.update(e)}_transform(e,d,h){if(!e||!e.length)return h();"string"==typeof e&&(e=Buffer.from(e,d)),this.updateHash(e),this.byteLength+=e.length,this.push(e),h()}_flush(e){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from("\r\n")),this.byteLength||this.push(Buffer.from("\r\n")),this.emit("hash",this.bodyHash.digest("base64"),!!this.debug&&Buffer.concat(this._debugBody)),e()}}e.exports=y},79477:e=>{"use strict";var d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,y=(e,h)=>d(e,"name",{value:h,configurable:!0}),b=(e,y,b,v)=>{if(y&&"object"==typeof y||"function"==typeof y)for(let w of m(y))g.call(e,w)||w===b||d(e,w,{get:()=>y[w],enumerable:!(v=h(y,w))||v.enumerable});return e},v=e=>b(d({},"__esModule",{value:!0}),e),w={};function S(e){return d=>async h=>{let m={...h.input};for(let d of[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}]){let h=m[d.target];if(h){let g;"string"==typeof h?E(h,e)?g=e.base64Decoder(h):(g=e.utf8Decoder(h),m[d.target]=e.base64Encoder(g)):(g=ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h),m[d.target]=e.base64Encoder(g));let y=new e.md5;y.update(g),m[d.hash]=e.base64Encoder(await y.digest())}}return d({...h,input:m})}}((e,h)=>{for(var m in h)d(e,m,{get:h[m],enumerable:!0})})(w,{getSsecPlugin:()=>_,isValidBase64EncodedSSECustomerKey:()=>E,ssecMiddleware:()=>S,ssecMiddlewareOptions:()=>x}),e.exports=v(w),y(S,"ssecMiddleware");var x={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},_=y(e=>({applyToStack:y(d=>{d.add(S(e),x)},"applyToStack")}),"getSsecPlugin");function E(e,d){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{let h=d.base64Decoder(e);return 32===h.length}catch{return!1}}y(E,"isValidBase64EncodedSSECustomerKey")},79540:(e,d,h)=>{"use strict";h.d(d,{A:()=>g});let m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,g=function(e){return"string"==typeof e&&m.test(e)}},79853:(e,d,h)=>{"use strict";h.d(d,{h:()=>b,y:()=>v});var m=h(31303),g=h(13062),y=h(89554);let b="ValidationError";class v extends y.L{constructor(e,d){let h=d?d("error:followingFieldsInvalid",{count:e.errors.length}):1===e.errors.length?m.en.translations.error.followingFieldsInvalid_one:m.en.translations.error.followingFieldsInvalid_other,y=e.req;delete e.req,super(`${h} ${e.errors.map(e=>{if(e.label)return"function"==typeof e.label?y&&y.i18n&&y.t?e.label({i18n:y.i18n,t:y.t}):e.path:"object"==typeof e.label?y?.i18n?.language?e.label[y.i18n.language]:e.label[Object.keys(e.label)[0]]:e.label;return e.path}).join(", ")}`,g.h.BAD_REQUEST,e),b=this.constructor.name}}},79860:(e,d,h)=>{"use strict";let m=h(52838),g=h(60646),{style:y,clear:b,figures:v}=h(31347),{erase:w,cursor:S}=h(41893),{DatePart:x,Meridiem:_,Day:E,Hours:T,Milliseconds:k,Minutes:C,Month:P,Seconds:O,Year:I}=h(34999),R=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,D={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new E(e),3:e=>new P(e),4:e=>new I(e),5:e=>new _(e),6:e=>new T(e),7:e=>new C(e),8:e=>new O(e),9:e=>new k(e)},L={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class $ extends g{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(L,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=b("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let d;for(this.parts=[];d=R.exec(e);){let e=d.shift(),h=d.findIndex(e=>null!=e);this.parts.push(h in D?D[h]({token:d[h]||e,date:this.date,parts:this.parts,locales:this.locales}):d[h]||e)}let h=this.parts.reduce((e,d)=>("string"==typeof d&&"string"==typeof e[e.length-1]?e[e.length-1]+=d:e.push(d),e),[]);this.parts.splice(0),this.parts.push(...h),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof x)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(e=>e instanceof x)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(S.hide):this.out.write(b(this.outputText,this.out.columns)),super.render(),this.outputText=[y.symbol(this.done,this.aborted),m.bold(this.msg),y.delimiter(!1),this.parts.reduce((e,d,h)=>e.concat(h!==this.cursor||this.done?d:m.cyan().underline(d.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((e,d,h)=>e+`
${h?" ":v.pointerSmall} ${m.red().italic(d)}`,"")),this.out.write(w.line+S.to(0)+this.outputText))}}e.exports=$},79895:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(59581),g=h(65930),y=h(58944),b=h(94941),v=h(32357),w=h(99102),S=h(15962),x=h(32382),_=h(46048),E=h(17746);d.default=[m.default,g.default,y.default,b.default,v.default,w.default,S.default,x.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},_.default,E.default]},79962:e=>{e.exports=d;function d(e,h){if(e&&h)return d(e)(h);if("function"!=typeof e)throw TypeError("need wrapper function");return Object.keys(e).forEach(function(d){m[d]=e[d]}),m;function m(){for(var d=Array(arguments.length),h=0;h<d.length;h++)d[h]=arguments[h];var m=e.apply(this,d),g=d[d.length-1];return"function"==typeof m&&m!==g&&Object.keys(g).forEach(function(e){m[e]=g[e]}),m}}},79980:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromUtf8:()=>v,toUtf8:()=>w});let m=e=>{let d=[];for(let h=0,m=e.length;h<m;h++){let m=e.charCodeAt(h);if(m<128)d.push(m);else if(m<2048)d.push(m>>6|192,63&m|128);else if(h+1<e.length&&(64512&m)==55296&&(64512&e.charCodeAt(h+1))==56320){let g=65536+((1023&m)<<10)+(1023&e.charCodeAt(++h));d.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}else d.push(m>>12|224,m>>6&63|128,63&m|128)}return Uint8Array.from(d)},g=e=>{let d="";for(let h=0,m=e.length;h<m;h++){let m=e[h];m<128?d+=String.fromCharCode(m):192<=m&&m<224?d+=String.fromCharCode((31&m)<<6|63&e[++h]):240<=m&&m<365?d+=decodeURIComponent("%"+[m,e[++h],e[++h],e[++h]].map(e=>e.toString(16)).join("%")):d+=String.fromCharCode((15&m)<<12|(63&e[++h])<<6|63&e[++h])}return d};function y(e){return new TextEncoder().encode(e)}function b(e){return new TextDecoder("utf-8").decode(e)}let v=e=>"function"==typeof TextEncoder?y(e):m(e),w=e=>"function"==typeof TextDecoder?b(e):g(e)},80494:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.extendSubschemaMode=d.extendSubschemaData=d.getSubschema=void 0;let m=h(52046),g=h(31934);d.getSubschema=function(e,{keyword:d,schemaProp:h,schema:y,schemaPath:b,errSchemaPath:v,topSchemaRef:w}){if(void 0!==d&&void 0!==y)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==d){let y=e.schema[d];return void 0===h?{schema:y,schemaPath:(0,m._)`${e.schemaPath}${(0,m.getProperty)(d)}`,errSchemaPath:`${e.errSchemaPath}/${d}`}:{schema:y[h],schemaPath:(0,m._)`${e.schemaPath}${(0,m.getProperty)(d)}${(0,m.getProperty)(h)}`,errSchemaPath:`${e.errSchemaPath}/${d}/${(0,g.escapeFragment)(h)}`}}if(void 0!==y){if(void 0===b||void 0===v||void 0===w)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:y,schemaPath:b,topSchemaRef:w,errSchemaPath:v}}throw Error('either "keyword" or "schema" must be passed')},d.extendSubschemaData=function(e,d,{dataProp:h,dataPropType:y,data:b,dataTypes:v,propertyName:w}){if(void 0!==b&&void 0!==h)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:S}=d;if(void 0!==h){let{errorPath:b,dataPathArr:v,opts:w}=d;x(S.let("data",(0,m._)`${d.data}${(0,m.getProperty)(h)}`,!0)),e.errorPath=(0,m.str)`${b}${(0,g.getErrorPath)(h,y,w.jsPropertySyntax)}`,e.parentDataProperty=(0,m._)`${h}`,e.dataPathArr=[...v,e.parentDataProperty]}function x(h){e.data=h,e.dataLevel=d.dataLevel+1,e.dataTypes=[],d.definedProperties=new Set,e.parentData=d.data,e.dataNames=[...d.dataNames,h]}void 0!==b&&(x(b instanceof m.Name?b:S.let("data",b,!0)),void 0!==w&&(e.propertyName=w)),v&&(e.dataTypes=v)},d.extendSubschemaMode=function(e,{jtdDiscriminator:d,jtdMetadata:h,compositeRule:m,createErrors:g,allErrors:y}){void 0!==m&&(e.compositeRule=m),void 0!==g&&(e.createErrors=g),void 0!==y&&(e.allErrors=y),e.jtdDiscriminator=d,e.jtdMetadata=h}},80621:(e,d,h)=>{"use strict";h.r(d),h.d(d,{fromBase64:()=>y,toBase64:()=>v});var m=h(15060);let g=/^[A-Za-z0-9+/]*={0,2}$/,y=e=>{if(3*e.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!g.exec(e))throw TypeError("Invalid base64 string.");let d=(0,m.fromString)(e,"base64");return new Uint8Array(d.buffer,d.byteOffset,d.byteLength)};var b=h(69713);let v=e=>{let d;if("object"!=typeof(d="string"==typeof e?(0,b.fromUtf8)(e):e)||"number"!=typeof d.byteOffset||"number"!=typeof d.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,m.fromArrayBuffer)(d.buffer,d.byteOffset,d.byteLength).toString("base64")}},80854:(e,d,h)=>{"use strict";h.r(d),h.d(d,{ChecksumStream:()=>S,Uint8ArrayBlobAdapter:()=>v,createBufferedReadable:()=>M,createChecksumStream:()=>C,getAwsChunkedEncodingStream:()=>B,headStream:()=>U,isBlob:()=>_,isReadableStream:()=>x,sdkStreamMixin:()=>Q,splitStream:()=>X});var m=h(80621),g=h(69713);function y(e,d="utf-8"){return"base64"===d?(0,m.toBase64)(e):(0,g.toUtf8)(e)}function b(e,d){return"base64"===d?v.mutate((0,m.fromBase64)(e)):v.mutate((0,g.fromUtf8)(e))}class v extends Uint8Array{static fromString(e,d="utf-8"){if("string"==typeof e)return b(e,d);throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,v.prototype),e}transformToString(e="utf-8"){return y(this,e)}}var w=h(27910);class S extends w.Duplex{constructor({expectedChecksum:e,checksum:d,source:h,checksumSourceLocation:g,base64Encoder:y}){if(super(),"function"==typeof h.pipe)this.source=h;else throw Error(`@smithy/util-stream: unsupported source type ${h?.constructor?.name??h} in ChecksumStream.`);this.base64Encoder=y??m.toBase64,this.expectedChecksum=e,this.checksum=d,this.checksumSourceLocation=g,this.source.pipe(this)}_read(e){}_write(e,d,h){try{this.checksum.update(e),this.push(e)}catch(e){return h(e)}return h()}async _final(e){try{let d=await this.checksum.digest(),h=this.base64Encoder(d);if(this.expectedChecksum!==h)return e(Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${h}" in response header "${this.checksumSourceLocation}".`))}catch(d){return e(d)}return this.push(null),e()}}let x=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),_=e=>"function"==typeof Blob&&(e?.constructor?.name===Blob.name||e instanceof Blob),E="function"==typeof ReadableStream?ReadableStream:function(){};class T extends E{}let k=({expectedChecksum:e,checksum:d,source:h,checksumSourceLocation:g,base64Encoder:y})=>{if(!x(h))throw Error(`@smithy/util-stream: unsupported source type ${h?.constructor?.name??h} in ChecksumStream.`);let b=y??m.toBase64;if("function"!=typeof TransformStream)throw Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let v=new TransformStream({start(){},async transform(e,h){d.update(e),h.enqueue(e)},async flush(h){let m=b(await d.digest());if(e!==m){let d=Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${g}".`);h.error(d)}else h.terminate()}});h.pipeThrough(v);let w=v.readable;return Object.setPrototypeOf(w,T.prototype),w};function C(e){return"function"==typeof ReadableStream&&x(e.source)?k(e):new S(e)}var P=h(57075);class O{constructor(e){this.allocByteArray=e,this.byteLength=0,this.byteArrays=[]}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(1===this.byteArrays.length){let e=this.byteArrays[0];return this.reset(),e}let e=this.allocByteArray(this.byteLength),d=0;for(let h=0;h<this.byteArrays.length;++h){let m=this.byteArrays[h];e.set(m,d),d+=m.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}function I(e,d,h){let m=e.getReader(),g=!1,y=0,b=["",new O(e=>new Uint8Array(e))],v=-1,w=async e=>{let{value:S,done:x}=await m.read(),_=S;if(x){if(-1!==v){let d=D(b,v);L(d)>0&&e.enqueue(d)}e.close()}else{let m=$(_,!1);if(v!==m&&(v>=0&&e.enqueue(D(b,v)),v=m),-1===v)return void e.enqueue(_);let S=L(_);y+=S;let x=L(b[v]);if(S>=d&&0===x)e.enqueue(_);else{let m=R(b,v,_);!g&&y>2*d&&(g=!0,h?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${d}, automatically buffering.`)),m>=d?e.enqueue(D(b,v)):await w(e)}}};return new ReadableStream({pull:w})}function R(e,d,h){switch(d){case 0:return e[0]+=h,L(e[0]);case 1:case 2:return e[d].push(h),L(e[d])}}function D(e,d){switch(d){case 0:let h=e[0];return e[0]="",h;case 1:case 2:return e[d].flush()}throw Error(`@smithy/util-stream - invalid index ${d} given to flush()`)}function L(e){return e?.byteLength??e?.length??0}function $(e,d=!0){return d&&"undefined"!=typeof Buffer&&e instanceof Buffer?2:e instanceof Uint8Array?1:"string"==typeof e?0:-1}function M(e,d,h){if(x(e))return I(e,d,h);let m=new P.Readable({read(){}}),g=!1,y=0,b=["",new O(e=>new Uint8Array(e)),new O(e=>Buffer.from(new Uint8Array(e)))],v=-1;return e.on("data",e=>{let w=$(e,!0);if(v!==w&&(v>=0&&m.push(D(b,v)),v=w),-1===v)return void m.push(e);let S=L(e);y+=S;let x=L(b[v]);if(S>=d&&0===x)m.push(e);else{let w=R(b,v,e);!g&&y>2*d&&(g=!0,h?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${d}, automatically buffering.`)),w>=d&&m.push(D(b,v))}}),e.on("end",()=>{if(-1!==v){let e=D(b,v);L(e)>0&&m.push(e)}m.push(null)}),m}let B=(e,d)=>{let{base64Encoder:h,bodyLengthChecker:m,checksumAlgorithmFn:g,checksumLocationName:y,streamHasher:b}=d,v=void 0!==h&&void 0!==g&&void 0!==y&&void 0!==b,S=v?b(g,e):void 0,x=new w.Readable({read:()=>{}});return e.on("data",e=>{let d=m(e)||0;x.push(`${d.toString(16)}\r
`),x.push(e),x.push("\r\n")}),e.on("end",async()=>{if(x.push(`0\r
`),v){let e=h(await S);x.push(`${y}:${e}\r
`),x.push(`\r
`)}x.push(null)}),x};async function j(e,d){let h=0,m=[],g=e.getReader(),y=!1;for(;!y;){let{done:e,value:b}=await g.read();if(b&&(m.push(b),h+=b?.byteLength??0),h>=d)break;y=e}g.releaseLock();let b=new Uint8Array(Math.min(d,h)),v=0;for(let e of m){if(e.byteLength>b.byteLength-v){b.set(e.subarray(0,b.byteLength-v),v);break}b.set(e,v),v+=e.length}return b}let U=(e,d)=>x(e)?j(e,d):new Promise((h,m)=>{let g=new F;g.limit=d,e.pipe(g),e.on("error",e=>{g.end(),m(e)}),g.on("error",m),g.on("finish",function(){h(new Uint8Array(Buffer.concat(this.buffers)))})});class F extends w.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,d,h){if(this.buffers.push(e),this.bytesBuffered+=e.byteLength??0,this.bytesBuffered>=this.limit){let e=this.bytesBuffered-this.limit,d=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=d.subarray(0,d.byteLength-e),this.emit("finish")}h()}}var z=h(82436),q=h(15060),V=h(29920),H=h(15682);let K="The stream has already been transformed.",G=e=>{if(!W(e)&&!x(e)){let d=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${d}`)}let d=!1,h=async()=>{if(d)throw Error(K);return d=!0,await (0,V.streamCollector)(e)},y=e=>{if("function"!=typeof e.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()};return Object.assign(e,{transformToByteArray:h,transformToString:async e=>{let d=await h();if("base64"===e)return(0,m.toBase64)(d);if("hex"===e)return(0,H.toHex)(d);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,g.toUtf8)(d);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(d);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(d)throw Error(K);if(d=!0,W(e))return y(e);if(x(e))return e;throw Error(`Cannot transform payload to web stream, got ${e}`)}})},W=e=>"function"==typeof Blob&&e instanceof Blob,J="The stream has already been transformed.",Q=e=>{if(!(e instanceof w.Readable))try{return G(e)}catch(h){let d=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${d}`)}let d=!1,h=async()=>{if(d)throw Error(J);return d=!0,await (0,z.streamCollector)(e)};return Object.assign(e,{transformToByteArray:h,transformToString:async e=>{let d=await h();return void 0===e||Buffer.isEncoding(e)?(0,q.fromArrayBuffer)(d.buffer,d.byteOffset,d.byteLength).toString(e):new TextDecoder(e).decode(d)},transformToWebStream:()=>{if(d)throw Error(J);if(null!==e.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof w.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return d=!0,w.Readable.toWeb(e)}})};async function Y(e){return"function"==typeof e.stream&&(e=e.stream()),e.tee()}async function X(e){if(x(e)||_(e))return Y(e);let d=new w.PassThrough,h=new w.PassThrough;return e.pipe(d),e.pipe(h),[d,h]}},80935:e=>{"use strict";e.exports=function(){}},80961:(e,d,h)=>{"use strict";h.d(d,{c:()=>g});var m=h(37182);let g=(e,d,h)=>{let g=[{name:"parent",type:"relationship",index:!0,relationTo:d.slug},{name:"version",type:"group",fields:d.fields.filter(e=>!("name"in e)||"id"!==e.name),...h&&{flattenedFields:d.flattenedFields.filter(e=>"id"!==e.name)}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return d?.versions?.drafts&&(e.localization&&(g.push(m.FU),g.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:e.localization.locales.map(e=>"string"==typeof e?e:e.code)})),g.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),d?.versions?.drafts?.autosave&&g.push({name:"autosave",type:"checkbox",index:!0})),g}},81044:(e,d,h)=>{"use strict";function m(e){if(!e)return null;let d="string"==typeof e?e:e.path,h="",m="default";return d?.includes("#")?[h,m]=d.split("#"):h=d,"object"==typeof e&&e.exportName&&(m=e.exportName),{exportName:m,path:h}}h.d(d,{R:()=>m})},81278:(e,d,h)=>{var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{Hash:()=>C}),e.exports=S(x);var _=h(15060),E=h(69713),T=h(79428),k=h(55511),C=class{static{v(this,"Hash")}constructor(e,d){this.algorithmIdentifier=e,this.secret=d,this.reset()}update(e,d){this.hash.update((0,E.toUint8Array)(P(e,d)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,k.createHmac)(this.algorithmIdentifier,P(this.secret)):(0,k.createHash)(this.algorithmIdentifier)}};function P(e,d){return T.Buffer.isBuffer(e)?e:"string"==typeof e?(0,_.fromString)(e,d):ArrayBuffer.isView(e)?(0,_.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,_.fromArrayBuffer)(e)}v(P,"castSourceData")},81322:(e,d,h)=>{"use strict";h.d(d,{U:()=>y});var m=h(553),g=h(74290);async function y(e){let d,{id:h,type:g,blockPolicies:y,entity:v,operations:w,req:S}=e,{data:x,locale:_,payload:E,user:T}=S,k=!!T,C={fields:{}};async function P({operation:e,where:d}={}){if(v.slug){if("global"===g)return E.findGlobal({slug:v.slug,depth:0,fallbackLocale:null,locale:_,overrideAccess:!0,req:S});if("collection"===g&&h){if("object"==typeof d){let g={collection:v.slug,depth:0,fallbackLocale:null,limit:1,locale:_,overrideAccess:!0,req:S};if("readVersions"===e){let e=await E.findVersions({...g,where:(0,m.m)(d,{parent:{equals:h}})});return e?.docs?.[0]||void 0}let y=await E.find({...g,pagination:!1,where:(0,m.m)(d,{id:{equals:h}})});return y?.docs?.[0]||void 0}return E.findByID({id:h,collection:v.slug,depth:0,fallbackLocale:null,locale:_,overrideAccess:!0,req:S})}}}let O=async({access:e,accessLevel:m,disableWhere:y=!1,operation:b,policiesObj:v})=>{"field"===m&&void 0===d&&(d=P().then(e=>{d=e})),await d;let w=await e({id:h,data:x,doc:d,req:S});"object"!=typeof w||y?v[b]?.permission!==!1&&(v[b]={permission:!!w}):v[b]={permission:!h&&"global"!==g||!!await P({operation:b,where:w}),where:w}};for(let e of w)"function"==typeof v.access[e]?await O({access:v.access[e],accessLevel:"entity",operation:e,policiesObj:C}):C[e]={permission:k},await b({blockPolicies:y,createAccessPromise:O,entityPermission:C[e].permission,fields:v.fields,operation:e,payload:E,policiesObj:C});return C}let b=async({blockPolicies:e,createAccessPromise:d,entityPermission:h,fields:m,operation:y,payload:v,policiesObj:w})=>{let S=w.fields;"delete"!==y&&"readVersions"!==y&&"unlock"!==y&&await Promise.all(m.map(async m=>{"name"in m&&m.name?(S[m.name]||(S[m.name]={}),"access"in m&&m.access&&"function"==typeof m.access[y]?await d({access:m.access[y],accessLevel:"field",disableWhere:!0,operation:y,policiesObj:S[m.name]}):S[m.name][y]={permission:w[y]?.permission},"fields"in m&&m.fields&&(S[m.name].fields||(S[m.name].fields={}),await b({blockPolicies:e,createAccessPromise:d,entityPermission:h,fields:m.fields,operation:y,payload:v,policiesObj:S[m.name]})),("blocks"in m&&m.blocks?.length||"blockReferences"in m&&m.blockReferences?.length)&&(S[m.name]?.blocks||(S[m.name].blocks={}),await Promise.all((m.blockReferences??m.blocks).map(async g=>{let w="string"==typeof g?v.blocks[g]:g;if("string"==typeof g)if(e[g])return void("function"==typeof e[g].then?S[m.name].blocks[w.slug]=await e[g]:S[m.name].blocks[w.slug]=e[g]);else{e[g]=(async()=>(S[m.name].blocks?.[w.slug]?S[m.name].blocks[w.slug][y]||(S[m.name].blocks[w.slug][y]={permission:h}):S[m.name].blocks[w.slug]={fields:{},[y]:{permission:h}},await b({blockPolicies:e,createAccessPromise:d,entityPermission:h,fields:w.fields,operation:y,payload:v,policiesObj:S[m.name].blocks[w.slug]}),S[m.name].blocks[w.slug]))(),S[m.name].blocks[w.slug]=await e[g],e[g]=S[m.name].blocks[w.slug];return}S[m.name].blocks?.[w.slug]?S[m.name].blocks[w.slug][y]||(S[m.name].blocks[w.slug][y]={permission:h}):S[m.name].blocks[w.slug]={fields:{},[y]:{permission:h}},await b({blockPolicies:e,createAccessPromise:d,entityPermission:h,fields:w.fields,operation:y,payload:v,policiesObj:S[m.name].blocks[w.slug]})})))):"fields"in m&&m.fields?await b({blockPolicies:e,createAccessPromise:d,entityPermission:h,fields:m.fields,operation:y,payload:v,policiesObj:w}):"tabs"===m.type&&await Promise.all(m.tabs.map(async m=>{(0,g.pz)(m)?(S[m.name]?S[m.name][y]||(S[m.name][y]={permission:h}):S[m.name]={fields:{},[y]:{permission:h}},await b({blockPolicies:e,createAccessPromise:d,entityPermission:h,fields:m.fields,operation:y,payload:v,policiesObj:S[m.name]})):await b({blockPolicies:e,createAccessPromise:d,entityPermission:h,fields:m.fields,operation:y,payload:v,policiesObj:w})}))}))}},81545:e=>{"use strict";function d(e){return e>=55296&&e<=56319}function h(e){return e>=56320&&e<=57343}e.exports=function(e,m,g){if("string"!=typeof m)throw Error("Input must be string");for(var y,b,v=m.length,w=0,S=0;S<v;S+=1){if(y=m.charCodeAt(S),b=m[S],d(y)&&h(m.charCodeAt(S+1))&&(S+=1,b+=m[S]),(w+=e(b))===g)return m.slice(0,S+1);if(w>g)return m.slice(0,S-b.length+1)}return m}},81633:(e,d,h)=>{"use strict";h.r(d),h.d(d,{DEFAULT_MAX_RETRIES:()=>T,DEFAULT_TIMEOUT:()=>E,ENV_CMDS_AUTH_TOKEN:()=>I,ENV_CMDS_FULL_URI:()=>P,ENV_CMDS_RELATIVE_URI:()=>O,Endpoint:()=>m,fromContainerMetadata:()=>R,fromInstanceMetadata:()=>eo,getInstanceMetadataEndpoint:()=>W,httpRequest:()=>S,providerConfigFromInit:()=>k});var m,g,y=h(11075),b=h(79551),v=h(79428),w=h(81630);function S(e){return new Promise((d,h)=>{let m=(0,w.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});m.on("error",e=>{h(Object.assign(new y.ProviderError("Unable to connect to instance metadata service"),e)),m.destroy()}),m.on("timeout",()=>{h(new y.ProviderError("TimeoutError from instance metadata service")),m.destroy()}),m.on("response",e=>{let{statusCode:g=400}=e;(g<200||300<=g)&&(h(Object.assign(new y.ProviderError("Error response received from instance metadata service"),{statusCode:g})),m.destroy());let b=[];e.on("data",e=>{b.push(e)}),e.on("end",()=>{d(v.Buffer.concat(b)),m.destroy()})}),m.end()})}let x=e=>!!e&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration,_=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),E=1e3,T=0,k=({maxRetries:e=T,timeout:d=E})=>({maxRetries:e,timeout:d}),C=(e,d)=>{let h=e();for(let m=0;m<d;m++)h=h.catch(e);return h},P="AWS_CONTAINER_CREDENTIALS_FULL_URI",O="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",I="AWS_CONTAINER_AUTHORIZATION_TOKEN",R=(e={})=>{let{timeout:d,maxRetries:h}=k(e);return()=>C(async()=>{let h=await B({logger:e.logger}),m=JSON.parse(await D(d,h));if(!x(m))throw new y.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return _(m)},h)},D=async(e,d)=>(process.env[I]&&(d.headers={...d.headers,Authorization:process.env[I]}),(await S({...d,timeout:e})).toString()),L="169.254.170.2",$={localhost:!0,"127.0.0.1":!0},M={"http:":!0,"https:":!0},B=async({logger:e})=>{if(process.env[O])return{hostname:L,path:process.env[O]};if(process.env[P]){let d=(0,b.parse)(process.env[P]);if(!d.hostname||!(d.hostname in $))throw new y.CredentialsProviderError(`${d.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!d.protocol||!(d.protocol in M))throw new y.CredentialsProviderError(`${d.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...d,port:d.port?parseInt(d.port,10):void 0}}throw new y.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${O} or ${P} environment variable is set`,{tryNextLink:!1,logger:e})};var j=h(35804);class U extends y.CredentialsProviderError{constructor(e,d=!0){super(e,d),this.tryNextLink=d,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,U.prototype)}}var F=h(92828);!function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"}(m||(m={}));let z="AWS_EC2_METADATA_SERVICE_ENDPOINT",q="ec2_metadata_service_endpoint",V={environmentVariableSelector:e=>e[z],configFileSelector:e=>e[q],default:void 0};!function(e){e.IPv4="IPv4",e.IPv6="IPv6"}(g||(g={}));let H="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",K="ec2_metadata_service_endpoint_mode",G={environmentVariableSelector:e=>e[H],configFileSelector:e=>e[K],default:g.IPv4},W=async()=>(0,F.parseUrl)(await J()||await Q()),J=async()=>(0,j.loadConfig)(V)(),Q=async()=>{let e=await (0,j.loadConfig)(G)();switch(e){case g.IPv4:return m.IPv4;case g.IPv6:return m.IPv6;default:throw Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(g)}`)}},Y=300,X=300,Z="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",ee=(e,d)=>{let h=Y+Math.floor(Math.random()*X),m=new Date(Date.now()+1e3*h);d.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(m)}.
For more information, please visit: `+Z);let g=e.originalExpiration??e.expiration;return{...e,...g?{originalExpiration:g}:{},expiration:m}},et=(e,d={})=>{let h,m=d?.logger||console;return async()=>{let d;try{(d=await e()).expiration&&d.expiration.getTime()<Date.now()&&(d=ee(d,m))}catch(e){if(h)m.warn("Credential renew failed: ",e),d=ee(h,m);else throw e}return h=d,d}},ei="/latest/meta-data/iam/security-credentials/",er="/latest/api/token",ea="AWS_EC2_METADATA_V1_DISABLED",en="ec2_metadata_v1_disabled",es="x-aws-ec2-metadata-token",eo=(e={})=>et(el(e),{logger:e.logger}),el=(e={})=>{let d=!1,{logger:h,profile:m}=e,{timeout:g,maxRetries:b}=k(e),v=async(h,g)=>{if(d||g.headers?.[es]==null){let d=!1,h=!1,g=await (0,j.loadConfig)({environmentVariableSelector:d=>{let m=d[ea];if(h=!!m&&"false"!==m,void 0===m)throw new y.CredentialsProviderError(`${ea} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:e=>{let h=e[en];return d=!!h&&"false"!==h},default:!1},{profile:m})();if(e.ec2MetadataV1Disabled||g){let m=[];throw e.ec2MetadataV1Disabled&&m.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&m.push(`config file profile (${en})`),h&&m.push(`process environment variable (${ea})`),new U(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${m.join(", ")}].`)}}let b=(await C(async()=>{let e;try{e=await ec(g)}catch(e){throw 401===e.statusCode&&(d=!1),e}return e},h)).trim();return C(async()=>{let h;try{h=await ep(b,g,e)}catch(e){throw 401===e.statusCode&&(d=!1),e}return h},h)};return async()=>{let e=await W();if(d)return h?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),v(b,{...e,timeout:g});{let m;try{m=(await ed({...e,timeout:g})).toString()}catch(m){if(m?.statusCode===400)throw Object.assign(m,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===m.message||[403,404,405].includes(m.statusCode))&&(d=!0),h?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),v(b,{...e,timeout:g})}return v(b,{...e,headers:{[es]:m},timeout:g})}}},ed=async e=>S({...e,path:er,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),ec=async e=>(await S({...e,path:ei})).toString(),ep=async(e,d,h)=>{let m=JSON.parse((await S({...d,path:ei+e})).toString());if(!x(m))throw new y.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:h.logger});return _(m)}},82070:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.splitStream=b;let m=h(27910),g=h(18935),y=h(39444);async function b(e){if((0,y.isReadableStream)(e)||(0,y.isBlob)(e))return(0,g.splitStream)(e);let d=new m.PassThrough,h=new m.PassThrough;return e.pipe(d),e.pipe(h),[d,h]}},82430:(e,d,h)=>{"use strict";h.d(d,{Y:()=>m});let m=[{label:"(UTC-11:00) Midway Island, Samoa",value:"Pacific/Midway"},{label:"(UTC-11:00) Niue",value:"Pacific/Niue"},{label:"(UTC-10:00) Hawaii",value:"Pacific/Honolulu"},{label:"(UTC-10:00) Cook Islands",value:"Pacific/Rarotonga"},{label:"(UTC-09:00) Alaska",value:"America/Anchorage"},{label:"(UTC-09:00) Gambier Islands",value:"Pacific/Gambier"},{label:"(UTC-08:00) Pacific Time (US & Canada)",value:"America/Los_Angeles"},{label:"(UTC-08:00) Tijuana, Baja California",value:"America/Tijuana"},{label:"(UTC-07:00) Mountain Time (US & Canada)",value:"America/Denver"},{label:"(UTC-07:00) Arizona (No DST)",value:"America/Phoenix"},{label:"(UTC-06:00) Central Time (US & Canada)",value:"America/Chicago"},{label:"(UTC-06:00) Central America",value:"America/Guatemala"},{label:"(UTC-05:00) Eastern Time (US & Canada)",value:"America/New_York"},{label:"(UTC-05:00) Bogota, Lima, Quito",value:"America/Bogota"},{label:"(UTC-04:00) Caracas",value:"America/Caracas"},{label:"(UTC-04:00) Santiago",value:"America/Santiago"},{label:"(UTC-03:00) Buenos Aires",value:"America/Buenos_Aires"},{label:"(UTC-03:00) Brasilia",value:"America/Sao_Paulo"},{label:"(UTC-02:00) South Georgia",value:"Atlantic/South_Georgia"},{label:"(UTC-01:00) Azores",value:"Atlantic/Azores"},{label:"(UTC-01:00) Cape Verde",value:"Atlantic/Cape_Verde"},{label:"(UTC+00:00) London (GMT)",value:"Europe/London"},{label:"(UTC+01:00) Berlin, Paris",value:"Europe/Berlin"},{label:"(UTC+01:00) Lagos",value:"Africa/Lagos"},{label:"(UTC+02:00) Athens, Bucharest",value:"Europe/Athens"},{label:"(UTC+02:00) Cairo",value:"Africa/Cairo"},{label:"(UTC+03:00) Moscow, St. Petersburg",value:"Europe/Moscow"},{label:"(UTC+03:00) Riyadh",value:"Asia/Riyadh"},{label:"(UTC+04:00) Dubai",value:"Asia/Dubai"},{label:"(UTC+04:00) Baku",value:"Asia/Baku"},{label:"(UTC+05:00) Islamabad, Karachi",value:"Asia/Karachi"},{label:"(UTC+05:00) Tashkent",value:"Asia/Tashkent"},{label:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:"Asia/Calcutta"},{label:"(UTC+06:00) Dhaka",value:"Asia/Dhaka"},{label:"(UTC+06:00) Almaty",value:"Asia/Almaty"},{label:"(UTC+07:00) Jakarta",value:"Asia/Jakarta"},{label:"(UTC+07:00) Bangkok",value:"Asia/Bangkok"},{label:"(UTC+08:00) Beijing, Shanghai",value:"Asia/Shanghai"},{label:"(UTC+08:00) Singapore",value:"Asia/Singapore"},{label:"(UTC+09:00) Tokyo, Osaka, Sapporo",value:"Asia/Tokyo"},{label:"(UTC+09:00) Seoul",value:"Asia/Seoul"},{label:"(UTC+10:00) Brisbane",value:"Australia/Brisbane"},{label:"(UTC+10:00) Sydney, Melbourne",value:"Australia/Sydney"},{label:"(UTC+10:00) Guam, Port Moresby",value:"Pacific/Guam"},{label:"(UTC+11:00) New Caledonia",value:"Pacific/Noumea"},{label:"(UTC+12:00) Auckland, Wellington",value:"Pacific/Auckland"},{label:"(UTC+12:00) Fiji",value:"Pacific/Fiji"}]},82436:(e,d,h)=>{"use strict";h.r(d),h.d(d,{DEFAULT_REQUEST_TIMEOUT:()=>D,NodeHttp2Handler:()=>U,NodeHttpHandler:()=>L,streamCollector:()=>z});var m=h(96543),g=h(83524),y=h(81630),b=h(55591);let v=["ECONNRESET","EPIPE","ETIMEDOUT"],w=e=>{let d={};for(let h of Object.keys(e)){let m=e[h];d[h]=Array.isArray(m)?m.join(","):m}return d},S={setTimeout:(e,d)=>setTimeout(e,d),clearTimeout:e=>clearTimeout(e)},x=1e3,_=(e,d,h=0)=>{if(!h)return -1;let m=m=>{let g=S.setTimeout(()=>{e.destroy(),d(Object.assign(Error(`Socket timed out without establishing a connection within ${h} ms`),{name:"TimeoutError"}))},h-m),y=e=>{e?.connecting?e.on("connect",()=>{S.clearTimeout(g)}):S.clearTimeout(g)};e.socket?y(e.socket):e.on("socket",y)};return h<2e3?(m(0),0):S.setTimeout(m.bind(null,x),x)},E=3e3,T=(e,{keepAlive:d,keepAliveMsecs:h},m=E)=>{if(!0!==d)return -1;let g=()=>{e.socket?e.socket.setKeepAlive(d,h||0):e.on("socket",e=>{e.setKeepAlive(d,h||0)})};return 0===m?(g(),0):S.setTimeout(g,m)},k=3e3,C=(e,d,h=D)=>{let m=m=>{let g=h-m,y=()=>{e.destroy(),d(Object.assign(Error(`Connection timed out after ${h} ms`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(g,y),e.on("close",()=>e.socket?.removeListener("timeout",y))):e.setTimeout(g,y)};return 0<h&&h<6e3?(m(0),0):S.setTimeout(m.bind(null,0===h?0:k),k)};var P=h(27910);let O=6e3;async function I(e,d,h=O){let m=d.headers??{},g=m.Expect||m.expect,y=-1,b=!0;"100-continue"===g&&(b=await Promise.race([new Promise(e=>{y=Number(S.setTimeout(()=>e(!0),Math.max(O,h)))}),new Promise(d=>{e.on("continue",()=>{S.clearTimeout(y),d(!0)}),e.on("response",()=>{S.clearTimeout(y),d(!1)}),e.on("error",()=>{S.clearTimeout(y),d(!1)})})])),b&&R(e,d.body)}function R(e,d){if(d instanceof P.Readable)return void d.pipe(e);if(d){if(Buffer.isBuffer(d)||"string"==typeof d)return void e.end(d);let h=d;return"object"==typeof h&&h.buffer&&"number"==typeof h.byteOffset&&"number"==typeof h.byteLength?void e.end(Buffer.from(h.buffer,h.byteOffset,h.byteLength)):void e.end(Buffer.from(d))}e.end()}let D=0;class L{static create(e){return"function"==typeof e?.handle?e:new L(e)}static checkSocketUsage(e,d,h=console){let{sockets:m,requests:g,maxSockets:y}=e;if("number"!=typeof y||y===1/0)return d;let b=15e3;if(Date.now()-b<d)return d;if(m&&g)for(let e in m){let d=m[e]?.length??0,b=g[e]?.length??0;if(d>=y&&b>=2*y)return h?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${b} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return d}constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((d,h)=>{"function"==typeof e?e().then(e=>{d(this.resolveDefaultConfig(e))}).catch(h):d(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:d,connectionTimeout:h,socketTimeout:m,socketAcquisitionWarningTimeout:g,httpAgent:v,httpsAgent:w}=e||{},S=!0,x=50;return{connectionTimeout:h,requestTimeout:d??m,socketAcquisitionWarningTimeout:g,httpAgent:v instanceof y.Agent||"function"==typeof v?.destroy?v:new y.Agent({keepAlive:S,maxSockets:x,...v}),httpsAgent:w instanceof b.Agent||"function"==typeof w?.destroy?w:new b.Agent({keepAlive:S,maxSockets:x,...w}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:d}={}){return this.config||(this.config=await this.configProvider),new Promise((h,x)=>{let E,k,P=[],O=async e=>{await E,P.forEach(S.clearTimeout),h(e)},R=async e=>{await E,P.forEach(S.clearTimeout),x(e)};if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(d?.aborted){let e=Error("Request aborted");e.name="AbortError",R(e);return}let D="https:"===e.protocol,$=D?this.config.httpsAgent:this.config.httpAgent;P.push(S.setTimeout(()=>{this.socketWarningTimestamp=L.checkSocketUsage($,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let M=(0,g.buildQueryString)(e.query||{});if(null!=e.username||null!=e.password){let d=e.username??"",h=e.password??"";k=`${d}:${h}`}let B=e.path;M&&(B+=`?${M}`),e.fragment&&(B+=`#${e.fragment}`);let j=e.hostname??"";j="["===j[0]&&j.endsWith("]")?e.hostname.slice(1,-1):e.hostname;let U={headers:e.headers,host:j,method:e.method,path:B,port:e.port,agent:$,auth:k},F=(D?b.request:y.request)(U,e=>{O({response:new m.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:w(e.headers),body:e})})});if(F.on("error",e=>{v.includes(e.code)?R(Object.assign(e,{name:"TimeoutError"})):R(e)}),d){let e=()=>{F.destroy();let e=Error("Request aborted");e.name="AbortError",R(e)};if("function"==typeof d.addEventListener){let h=d;h.addEventListener("abort",e,{once:!0}),F.once("close",()=>h.removeEventListener("abort",e))}else d.onabort=e}P.push(_(F,R,this.config.connectionTimeout)),P.push(C(F,R,this.config.requestTimeout));let z=U.agent;"object"==typeof z&&"keepAlive"in z&&P.push(T(F,{keepAlive:z.keepAlive,keepAliveMsecs:z.keepAliveMsecs})),E=I(F,e,this.config.requestTimeout).catch(e=>(P.forEach(S.clearTimeout),x(e)))})}updateHttpClientConfig(e,d){this.config=void 0,this.configProvider=this.configProvider.then(h=>({...h,[e]:d}))}httpHandlerConfigs(){return this.config??{}}}var $=h(73496),M=h.n($);class B{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(d=>d!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let d of this.sessions)d!==e||d.destroyed||d.destroy()}}class j{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw RangeError("maxConcurrency must be greater than zero.")}lease(e,d){let h=this.getUrlString(e),m=this.sessionCache.get(h);if(m){let e=m.poll();if(e&&!this.config.disableConcurrency)return e}let g=M().connect(h);this.config.maxConcurrency&&g.settings({maxConcurrentStreams:this.config.maxConcurrency},d=>{if(d)throw Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),g.unref();let y=()=>{g.destroy(),this.deleteSession(h,g)};g.on("goaway",y),g.on("error",y),g.on("frameError",y),g.on("close",()=>this.deleteSession(h,g)),d.requestTimeout&&g.setTimeout(d.requestTimeout,y);let b=this.sessionCache.get(h)||new B;return b.offerLast(g),this.sessionCache.set(h,b),g}deleteSession(e,d){let h=this.sessionCache.get(e);h&&h.contains(d)&&(h.remove(d),this.sessionCache.set(e,h))}release(e,d){let h=this.getUrlString(e);this.sessionCache.get(h)?.offerLast(d)}destroy(){for(let[e,d]of this.sessionCache){for(let e of d)e.destroyed||e.destroy(),d.remove(e);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}}class U{static create(e){return"function"==typeof e?.handle?e:new U(e)}constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new j({}),this.configProvider=new Promise((d,h)=>{"function"==typeof e?e().then(e=>{d(e||{})}).catch(h):d(e||{})})}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:d}={}){!this.config&&(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:h,disableConcurrentStreams:y}=this.config;return new Promise((b,v)=>{let S,x=!1,_=async e=>{await S,b(e)},E=async e=>{await S,v(e)};if(d?.aborted){x=!0;let e=Error("Request aborted");e.name="AbortError",E(e);return}let{hostname:T,method:k,port:C,protocol:P,query:O}=e,R="";if(null!=e.username||null!=e.password){let d=e.username??"",h=e.password??"";R=`${d}:${h}@`}let D=`${P}//${R}${T}${C?`:${C}`:""}`,L={destination:new URL(D)},M=this.connectionManager.lease(L,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:y||!1}),B=e=>{y&&this.destroySession(M),x=!0,E(e)},j=(0,g.buildQueryString)(O||{}),U=e.path;j&&(U+=`?${j}`),e.fragment&&(U+=`#${e.fragment}`);let F=M.request({...e.headers,[$.constants.HTTP2_HEADER_PATH]:U,[$.constants.HTTP2_HEADER_METHOD]:k});if(M.ref(),F.on("response",e=>{let d=new m.HttpResponse({statusCode:e[":status"]||-1,headers:w(e),body:F});x=!0,_({response:d}),y&&(M.close(),this.connectionManager.deleteSession(D,M))}),h&&F.setTimeout(h,()=>{F.close();let e=Error(`Stream timed out because of no activity for ${h} ms`);e.name="TimeoutError",B(e)}),d){let e=()=>{F.close();let e=Error("Request aborted");e.name="AbortError",B(e)};if("function"==typeof d.addEventListener){let h=d;h.addEventListener("abort",e,{once:!0}),F.once("close",()=>h.removeEventListener("abort",e))}else d.onabort=e}F.on("frameError",(e,d,h)=>{B(Error(`Frame type id ${e} in stream id ${h} has failed with code ${d}.`))}),F.on("error",B),F.on("aborted",()=>{B(Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${F.rstCode}.`))}),F.on("close",()=>{M.unref(),y&&M.destroy(),x||B(Error("Unexpected error: http2 request did not get a response"))}),S=I(F,e,h)})}updateHttpClientConfig(e,d){this.config=void 0,this.configProvider=this.configProvider.then(h=>({...h,[e]:d}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}}class F extends P.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,d,h){this.bufferedBytes.push(e),h()}}let z=e=>q(e)?V(e):new Promise((d,h)=>{let m=new F;e.pipe(m),e.on("error",e=>{m.end(),h(e)}),m.on("error",h),m.on("finish",function(){d(new Uint8Array(Buffer.concat(this.bufferedBytes)))})}),q=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream;async function V(e){let d=[],h=e.getReader(),m=!1,g=0;for(;!m;){let{done:e,value:y}=await h.read();y&&(d.push(y),g+=y.length),m=e}let y=new Uint8Array(g),b=0;for(let e of d)y.set(e,b),b+=e.length;return y}},82439:(e,d,h)=>{"use strict";h.d(d,{A:()=>k});var m=h(77598),g=h(12430);function y(e,d="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${d} must be ${e}`)}function b(e,d){return e.name===d}function v(e){return parseInt(e.name.slice(4),10)}function w(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function S(e,d){if(d.length&&!d.some(d=>e.usages.includes(d))){let e="CryptoKey does not support this operation, its usages must include ";if(d.length>2){let h=d.pop();e+=`one of ${d.join(", ")}, or ${h}.`}else 2===d.length?e+=`one of ${d[0]} or ${d[1]}.`:e+=`${d[0]}.`;throw TypeError(e)}}function x(e,d,...h){switch(d){case"HS256":case"HS384":case"HS512":{if(!b(e.algorithm,"HMAC"))throw y("HMAC");let h=parseInt(d.slice(2),10);if(v(e.algorithm.hash)!==h)throw y(`SHA-${h}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!b(e.algorithm,"RSASSA-PKCS1-v1_5"))throw y("RSASSA-PKCS1-v1_5");let h=parseInt(d.slice(2),10);if(v(e.algorithm.hash)!==h)throw y(`SHA-${h}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!b(e.algorithm,"RSA-PSS"))throw y("RSA-PSS");let h=parseInt(d.slice(2),10);if(v(e.algorithm.hash)!==h)throw y(`SHA-${h}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw y("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!b(e.algorithm,"ECDSA"))throw y("ECDSA");let h=w(d);if(e.algorithm.namedCurve!==h)throw y(h,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}S(e,h)}var _=h(67946),E=h(59123),T=h(90551);function k(e,d,h){if(d instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,_.A)(d,...E.g));return(0,m.createSecretKey)(d)}if(d instanceof m.KeyObject)return d;if((0,g.R)(d))return x(d,e,h),m.KeyObject.from(d);if(T.ll(d))return e.startsWith("HS")?(0,m.createSecretKey)(Buffer.from(d.k,"base64url")):d;throw TypeError((0,_.A)(d,...E.g,"Uint8Array","JSON Web Key"))}},82490:e=>{"use strict";function d(e,d,h,m,g){for(let y=0;y<g;++y)if(e[d+y]!==h[m+y])return!1;return!0}class h{constructor(e,d){if("function"!=typeof d)throw Error("Missing match callback");if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))throw Error(`Expected Buffer for needle, got ${typeof e}`);let h=e.length;if(this.maxMatches=1/0,this.matches=0,this._cb=d,this._lookbehindSize=0,this._needle=e,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(h),this._occ=[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h],h>1)for(let d=0;d<h-1;++d)this._occ[e[d]]=h-1-d}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(e,d){let h;Buffer.isBuffer(e)||(e=Buffer.from(e,"latin1"));let g=e.length;for(this._bufPos=d||0;h!==g&&this.matches<this.maxMatches;)h=m(this,e);return h}destroy(){let e=this._lookbehindSize;e&&this._cb(!1,this._lookbehind,0,e,!1),this.reset()}}function m(e,h){let m=h.length,y=e._needle,b=y.length,v=-e._lookbehindSize,w=b-1,S=y[w],x=m-b,_=e._occ,E=e._lookbehind;if(v<0){for(;v<0&&v<=x;){let d=v+w,m=d<0?E[e._lookbehindSize+d]:h[d];if(m===S&&g(e,h,v,w))return e._lookbehindSize=0,++e.matches,v>-e._lookbehindSize?e._cb(!0,E,0,e._lookbehindSize+v,!1):e._cb(!0,void 0,0,0,!0),e._bufPos=v+b;v+=_[m]}for(;v<0&&!g(e,h,v,m-v);)++v;if(v<0){let d=e._lookbehindSize+v;return d>0&&e._cb(!1,E,0,d,!1),e._lookbehindSize-=d,E.copy(E,0,d,e._lookbehindSize),E.set(h,e._lookbehindSize),e._lookbehindSize+=m,e._bufPos=m,m}e._cb(!1,E,0,e._lookbehindSize,!1),e._lookbehindSize=0}v+=e._bufPos;let T=y[0];for(;v<=x;){let m=h[v+w];if(m===S&&h[v]===T&&d(y,0,h,v,w))return++e.matches,v>0?e._cb(!0,h,e._bufPos,v,!0):e._cb(!0,void 0,0,0,!0),e._bufPos=v+b;v+=_[m]}for(;v<m;){if(h[v]!==T||!d(h,v,y,0,m-v)){++v;continue}h.copy(E,0,v,m),e._lookbehindSize=m-v;break}return v>0&&e._cb(!1,h,e._bufPos,v<m?v:m,!0),e._bufPos=m,m}function g(e,d,h,m){let g=e._lookbehind,y=e._lookbehindSize,b=e._needle;for(let e=0;e<m;++e,++h)if((h<0?g[y+h]:d[h])!==b[e])return!1;return!0}e.exports=h},82703:(e,d,h)=>{"use strict";h.d(d,{v:()=>m});let m=({err:e,payload:d})=>{let h="error";if(e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&void 0!==d.config.loggingLevels[e.name]&&(h=d.config.loggingLevels[e.name]),h){let m={};"info"===h?m.msg="object"==typeof e&&"message"in e?e.message:"Error":m.err=e,d.logger[h](m)}}},82760:(e,d,h)=>{"use strict";let m=h(79646).spawn,g=h(97140),y=h(31088);class b{constructor(e){e=e||{},this._spawn=m,this.options=e||{},this.name="Sendmail",this.version=g.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=y.getLogger(this.options,{component:this.options.component||"sendmail"}),e&&("string"==typeof e?this.path=e:"object"==typeof e&&(e.path&&(this.path=e.path),Array.isArray(e.args)&&(this.args=e.args),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())))}send(e,d){let h,m,g;e.message.keepBcc=!0;let y=e.data.envelope||e.message.getEnvelope(),b=e.message.messageId();if([].concat(y.from||[]).concat(y.to||[]).some(e=>/^-/.test(e)))return d(Error("Can not send mail. Invalid envelope addresses."));h=this.args?["-i"].concat(this.args).concat(y.to):["-i"].concat(y.from?["-f",y.from]:[]).concat(y.to);let v=h=>{if(!g&&(g=!0,"function"==typeof d))if(h)return d(h);else return d(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:b,response:"Messages queued for delivery"})};try{m=this._spawn(this.path,h)}catch(e){return this.logger.error({err:e,tnx:"spawn",messageId:b},"Error occurred while spawning sendmail. %s",e.message),v(e)}if(!m)return v(Error("sendmail was not found"));{m.on("error",e=>{this.logger.error({err:e,tnx:"spawn",messageId:b},"Error occurred when sending message %s. %s",b,e.message),v(e)}),m.once("exit",e=>{let d;if(!e)return v();d=127===e?Error("Sendmail command not found, process exited with code "+e):Error("Sendmail exited with code "+e),this.logger.error({err:d,tnx:"stdin",messageId:b},"Error sending message %s to sendmail. %s",b,d.message),v(d)}),m.once("close",v),m.stdin.on("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:b},"Error occurred when piping message %s to sendmail. %s",b,e.message),v(e)});let d=[].concat(y.to||[]);d.length>3&&d.push("...and "+d.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:b},"Sending message %s to <%s>",b,d.join(", "));let h=e.message.createReadStream();h.once("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:b},"Error occurred when generating message %s. %s",b,e.message),m.kill("SIGINT"),v(e)}),h.pipe(m.stdin)}}}e.exports=b},82806:(e,d,h)=>{"use strict";h.d(d,{R:()=>w});var m=h(26154),g=h(553),y=h(89075),b=h(71707),v=h(77900);let w=async e=>{let d=e;try{let e,h;if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"count",req:d.req})||d;let{collection:{config:b},disableErrors:w,overrideAccess:S,req:{payload:x},req:_,where:E}=d;if(!S&&(e=await (0,m.A)({disableErrors:w,req:_},b.access.read),!1===e))return{totalDocs:0};let T=(0,g.m)(E,e);return await (0,y.d)({collectionConfig:b,overrideAccess:S,req:_,where:E}),h=await x.db.count({collection:b.slug,req:_,where:T}),h=await (0,v.E)({args:d,collection:b,operation:"count",result:h})}catch(e){throw await (0,b.J)(d.req),e}}},82854:(e,d,h)=>{"use strict";let{EMPTY_BUFFER:m}=h(44314),g=Buffer[Symbol.species];function y(e,d,h,m,g){for(let y=0;y<g;y++)h[m+y]=e[y]^d[3&y]}function b(e,d){for(let h=0;h<e.length;h++)e[h]^=d[3&h]}function v(e){let d;return(v.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?d=new g(e):ArrayBuffer.isView(e)?d=new g(e.buffer,e.byteOffset,e.byteLength):(d=Buffer.from(e),v.readOnly=!1),d)}if(e.exports={concat:function(e,d){if(0===e.length)return m;if(1===e.length)return e[0];let h=Buffer.allocUnsafe(d),y=0;for(let d=0;d<e.length;d++){let m=e[d];h.set(m,y),y+=m.length}return y<d?new g(h.buffer,h.byteOffset,y):h},mask:y,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:v,unmask:b},!process.env.WS_NO_BUFFER_UTIL)try{let d=h(56836);e.exports.mask=function(e,h,m,g,b){b<48?y(e,h,m,g,b):d.mask(e,h,m,g,b)},e.exports.unmask=function(e,h){e.length<32?b(e,h):d.unmask(e,h)}}catch(e){}},82951:function(e,d,h){"use strict";var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0}),d.renderTable=d.printTable=d.Table=void 0,d.Table=m(h(46891)).default;let g=h(73413);Object.defineProperty(d,"printTable",{enumerable:!0,get:function(){return g.printSimpleTable}}),Object.defineProperty(d,"renderTable",{enumerable:!0,get:function(){return g.renderSimpleTable}})},82952:(e,d,h)=>{"use strict";e.exports=y;let{LEVELS:m,LEVEL_NAMES:g}=h(40844);function y(e,d,h){let y=e?d||m:Object.assign({},m,d),b=e?h||g:Object.assign({},g,h);return function(e){let d="default";return d=Number.isInteger(+e)?Object.prototype.hasOwnProperty.call(y,e)?e:d:Object.prototype.hasOwnProperty.call(b,e.toLowerCase())?b[e.toLowerCase()]:d,[y[d],d]}}},83324:(e,d,h)=>{"use strict";let m=h(79551),g=1800;class y{constructor(e){this.options=e||{},this.cookies=[]}set(e,d){let h,y=m.parse(d||""),b=this.parse(e);return b.domain?(h=b.domain.replace(/^\./,""),(y.hostname.length<h.length||("."+y.hostname).substr(-h.length+1)!=="."+h)&&(b.domain=y.hostname)):b.domain=y.hostname,b.path||(b.path=this.getPath(y.pathname)),b.expires||(b.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||g)||g))),this.add(b)}get(e){return this.list(e).map(e=>e.name+"="+e.value).join("; ")}list(e){let d,h,m=[];for(d=this.cookies.length-1;d>=0;d--){if(h=this.cookies[d],this.isExpired(h)){this.cookies.splice(d,d);continue}this.match(h,e)&&m.unshift(h)}return m}parse(e){let d={};return(e||"").toString().split(";").forEach(e=>{let h,m=e.split("="),g=m.shift().trim().toLowerCase(),y=m.join("=").trim();if(g)switch(g){case"expires":"Invalid Date"!==(y=new Date(y)).toString()&&(d.expires=y);break;case"path":d.path=y;break;case"domain":(h=y.toLowerCase()).length&&"."!==h.charAt(0)&&(h="."+h),d.domain=h;break;case"max-age":d.expires=new Date(Date.now()+1e3*(Number(y)||0));break;case"secure":d.secure=!0;break;case"httponly":d.httponly=!0;break;default:d.name||(d.name=g,d.value=y)}}),d}match(e,d){let h=m.parse(d||"");return(h.hostname===e.domain||"."===e.domain.charAt(0)&&("."+h.hostname).substr(-e.domain.length)===e.domain)&&this.getPath(h.pathname).substr(0,e.path.length)===e.path&&(!e.secure||"https:"===h.protocol)}add(e){let d,h;if(!e||!e.name)return!1;for(d=0,h=this.cookies.length;d<h;d++)if(this.compare(this.cookies[d],e)){if(this.isExpired(e))return this.cookies.splice(d,1),!1;return this.cookies[d]=e,!0}return this.isExpired(e)||this.cookies.push(e),!0}compare(e,d){return e.name===d.name&&e.path===d.path&&e.domain===d.domain&&e.secure===d.secure&&e.httponly==e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let d=(e||"/").split("/");return d.pop(),"/"!==(d=d.join("/").trim()).charAt(0)&&(d="/"+d),"/"!==d.substr(-1)&&(d+="/"),d}}e.exports=y},83357:e=>{"use strict";var d=Object.defineProperty,h=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,y=(e,h)=>d(e,"name",{value:h,configurable:!0}),b=(e,y,b,v)=>{if(y&&"object"==typeof y||"function"==typeof y)for(let w of m(y))g.call(e,w)||w===b||d(e,w,{get:()=>y[w],enumerable:!(v=h(y,w))||v.enumerable});return e},v=e=>b(d({},"__esModule",{value:!0}),e),w={};((e,h)=>{for(var m in h)d(e,m,{get:h[m],enumerable:!0})})(w,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>k,NODE_REGION_CONFIG_OPTIONS:()=>T,REGION_ENV_NAME:()=>_,REGION_INI_NAME:()=>E,getAwsRegionExtensionConfiguration:()=>S,resolveAwsRegionExtensionConfiguration:()=>x,resolveRegionConfig:()=>O}),e.exports=v(w);var S=y(e=>({setRegion(d){e.region=d},region:()=>e.region}),"getAwsRegionExtensionConfiguration"),x=y(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),_="AWS_REGION",E="region",T={environmentVariableSelector:y(e=>e[_],"environmentVariableSelector"),configFileSelector:y(e=>e[E],"configFileSelector"),default:y(()=>{throw Error("Region is missing")},"default")},k={preferredFile:"credentials"},C=y(e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),P=y(e=>C(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),O=y(e=>{let{region:d,useFipsEndpoint:h}=e;if(!d)throw Error("Region is missing");return Object.assign(e,{region:y(async()=>"string"==typeof d?P(d):P(await d()),"region"),useFipsEndpoint:y(async()=>!!C("string"==typeof d?d:await d())||("function"!=typeof h?Promise.resolve(!!h):h()),"useFipsEndpoint")})},"resolveRegionConfig")},83520:(e,d,h)=>{"use strict";function m(e){return"object"==typeof e&&null!==e}function g(e){if(!m(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let d=e;for(;null!==Object.getPrototypeOf(d);)d=Object.getPrototypeOf(d);return Object.getPrototypeOf(e)===d}h.d(d,{A:()=>g})},83524:(e,d,h)=>{"use strict";h.r(d),h.d(d,{buildQueryString:()=>g});var m=h(9158);function g(e){let d=[];for(let h of Object.keys(e).sort()){let g=e[h];if(h=(0,m.o)(h),Array.isArray(g))for(let e=0,y=g.length;e<y;e++)d.push(`${h}=${(0,m.o)(g[e])}`);else{let e=h;(g||"string"==typeof g)&&(e+=`=${(0,m.o)(g)}`),d.push(e)}}return d.join("&")}},83552:(e,d,h)=>{"use strict";async function m(e){let{payload:d,transactionID:h}=e;await d.db.commitTransaction(h),delete e.transactionID}h.d(d,{w:()=>m})},83732:(e,d,h)=>{"use strict";h.d(d,{A:()=>I});var m=h(19131),g=h(62856),y=h(49495),b=h(72994);function v(e,d){return async h=>{let m=await (0,b.l)({id:e.id,data:h,depth:d.payload.config.jobs.depth,disableTransaction:!0,req:d});for(let d in m)if("log"===d)for(let d of(e.log||(e.log=[]),m.log))e.log.some(e=>e.id===d.id)||e.log.push(d);else e[d]=m[d];if(m.error?.cancelled){let e=Error("Job cancelled");throw e.cancelled=!0,e}return m}}var w=h(45919),S=h(70120);function x({retriesConfig:e,totalTried:d}){let h=new Date;if("object"==typeof e&&e.backoff){if("fixed"===e.backoff.type)h=e.backoff.delay?new Date(new Date().getTime()+e.backoff.delay):new Date;else if("exponential"===e.backoff.type){let m=e.backoff.delay?e.backoff.delay:0;h=new Date(new Date().getTime()+Math.pow(2,d)*m)}}return h}let _=S.default||S;async function E(e){let d;return"function"==typeof e.handler?e.handler:await (0,w.Z)(e.handler)}async function T({error:e,executedAt:d,input:h,job:m,maxRetries:g,output:y,parent:b,req:v,retriesConfig:w,state:S,taskConfig:E,taskHandlerResult:T,taskID:k,taskSlug:C,taskStatus:P,updateJob:O}){v.payload.logger.error({err:e,job:m,msg:`Error running task ${k}`,taskSlug:C}),E?.onFail&&await E.onFail(),m.log||(m.log=[]);let I=e?{name:e.name,message:e.message,stack:e.stack}:{message:"failed"===T.state?T.errorMessage??T.state:"failed"};if(m.log.push({id:new _().toHexString(),completedAt:new Date().toISOString(),error:I,executedAt:d.toISOString(),input:h,output:y,parent:v?.payload?.config?.jobs?.addParentToTaskLog?b:void 0,state:"failed",taskID:k,taskSlug:C}),m.waitUntil&&new Date(m.waitUntil)<new Date&&delete m.waitUntil,!P?.complete&&(P?.totalTried??0)>=g)throw S.reachedMaxRetries=!0,await O({error:e,hasError:!0,log:m.log,processing:!1,waitUntil:m.waitUntil}),Error(`Task ${C} has failed more than the allowed retries in workflow ${m.workflowSlug}${e?`. Error: ${String(e)}`:""}`);{let d=x({retriesConfig:w,totalTried:P?.totalTried??0});throw(!m.waitUntil||d>new Date(m.waitUntil))&&(m.waitUntil=d.toISOString()),await O({log:m.log,processing:!1,waitUntil:m.waitUntil}),e??Error("Task failed")}}let k=(e,d,h,m,g,y,b)=>{let v=v=>async(w,{input:S,retries:x,task:C})=>{let P,O,I,R=new Date,D=null;if(g&&(D=C),!g&&!(P=m.payload.config.jobs.tasks?.length&&m.payload.config.jobs.tasks.find(e=>e.slug===v)))throw Error(`Task ${v} not found in workflow ${d.workflowSlug}`);let L=void 0==x||null==x?{}:"number"==typeof x?{attempts:x}:x,$={...P?"number"==typeof P.retries?{attempts:P.retries}:P.retries:{},...L},M=d?.taskStatus?.[v]?d.taskStatus[v][w]:null;if(M&&!0===M.complete){let e=!0;if($?.shouldRestore===!1?e=!1:"function"==typeof $?.shouldRestore&&(e=await $.shouldRestore({input:S,job:d,req:m,taskStatus:M})),e)return M.output}if(g)O=D;else{if(!P)throw Error(`Task ${v} not found in workflow ${d.workflowSlug}`);O=await E(P)}if(!O||"function"!=typeof O){let e=g?`Can't find runner for inline task with ID ${w}`:`Can't find runner while importing with the path ${"string"==typeof h.handler?h.handler:"unknown - no string path"} in job type ${d.workflowSlug} for task ${v}.`;throw m.payload.logger.error(e),await y({error:{error:e},hasError:!0,log:[...d.log,{id:new _().toHexString(),completedAt:new Date().toISOString(),error:e,executedAt:R.toISOString(),parent:m?.payload?.config?.jobs?.addParentToTaskLog?b:void 0,state:"failed",taskID:w,taskSlug:v}],processing:!1}),Error(e)}let B=$?.attempts;null==B&&(B=void 0!==h.retries&&null!==h.retries?"object"==typeof h.retries?h.retries.attempts:h.retries:0);let j={};try{I=await O({inlineTask:k(e,d,h,m,!0,y,{taskID:w,taskSlug:v}),input:S,job:d,req:m,tasks:k(e,d,h,m,!1,y,{taskID:w,taskSlug:v})})}catch(h){throw await T({error:h,executedAt:R,input:S,job:d,maxRetries:B,output:j,parent:b,req:m,retriesConfig:$,state:e,taskConfig:P,taskID:w,taskSlug:v,taskStatus:M,updateJob:y}),Error("Task failed")}if("failed"===I.state)throw await T({executedAt:R,input:S,job:d,maxRetries:B,output:j,parent:b,req:m,retriesConfig:$,state:e,taskConfig:P,taskHandlerResult:I,taskID:w,taskSlug:v,taskStatus:M,updateJob:y}),Error("Task failed");return j=I.output,P?.onSuccess&&await P.onSuccess(),d.log||(d.log=[]),d.log.push({id:new _().toHexString(),completedAt:new Date().toISOString(),executedAt:R.toISOString(),input:S,output:j,parent:m?.payload?.config?.jobs?.addParentToTaskLog?b:void 0,state:"succeeded",taskID:w,taskSlug:v}),await y({log:d.log}),j};if(g)return v("inline");{let e={};for(let d of m?.payload?.config?.jobs?.tasks??[])e[d.slug]=v(d.slug);return e}};function C({error:e,job:d,req:h,state:m,workflowConfig:g}){let y=d.workflowSlug||`Task: ${d.taskSlug}`,b=m.reachedMaxRetries||!!("cancelled"in e&&e.cancelled),v=("object"==typeof g.retries?g.retries.attempts:g.retries)??void 0;if(null!=v&&d.totalTried>=v&&(b=!0,m.reachedMaxRetries=!0),!b){d.waitUntil&&new Date(d.waitUntil)<new Date&&delete d.waitUntil;let e=x({retriesConfig:g.retries,totalTried:d.totalTried??0});(!d.waitUntil||e>new Date(d.waitUntil))&&(d.waitUntil=e.toISOString())}return h.payload.logger.error({err:e,msg:`Error running job ${y} id: ${d.id} attempt ${d.totalTried+1}${void 0!==v?"/"+(v+1):""}`}),{hasFinalError:b}}let P=async({job:e,req:d,updateJob:h,workflowConfig:m,workflowHandler:g})=>{let y={reachedMaxRetries:!1};try{await g({inlineTask:k(y,e,m,d,!0,h),job:e,req:d,tasks:k(y,e,m,d,!1,h)})}catch(v){let{hasFinalError:g}=C({error:v,job:e,req:d,state:y,workflowConfig:m}),b=g?{name:v.name,cancelled:!!("cancelled"in v&&v.cancelled),message:v.message,stack:v.stack}:void 0;return await h({error:b,hasError:g,log:e.log,processing:!1,totalTried:(e.totalTried??0)+1}),{status:g?"error-reached-max-retries":"error"}}return await h({completedAt:new Date().toISOString(),log:e.log,processing:!1,totalTried:(e.totalTried??0)+1}),{status:"success"}},O=async({job:e,req:d,updateJob:h,workflowConfig:m,workflowHandler:g})=>{let y,b={reachedMaxRetries:!1},v=[];for(let d of g){if("task"in d){if(e?.taskStatus?.[d.task]?.[d.id]?.complete)continue}else if(e?.taskStatus?.inline?.[d.id]?.complete)continue;(!d.condition||d.condition({job:e}))&&v.push(d)}let w=k(b,e,m,d,!1,h),S=k(b,e,m,d,!0,h),x=!1;try{await Promise.all(v.map(async d=>{"task"in d?await w[d.task](d.id,{input:d.input?d.input({job:e}):{},retries:d.retries}):await S(d.id,{retries:d.retries,task:d.inlineTask})}))}catch(g){let h=C({error:g,job:e,req:d,state:b,workflowConfig:m});y=g,x=h.hasFinalError}let _=!1;for(let[d,h]of Object.entries(e.taskStatus))for(let[e,m]of Object.entries(h))if(m.complete&&g.find(h=>"task"in h?h.task===d&&h.id===e:h.id===e&&"inline"===d).completesJob){_=!0;break}return _?(y?await h({completedAt:new Date().toISOString(),error:x?y:void 0,hasError:x,processing:!1,totalTried:(e.totalTried??0)+1}):await h({completedAt:new Date().toISOString(),processing:!1,totalTried:(e.totalTried??0)+1}),{status:"success"}):y?(await h({error:x?y:void 0,hasError:x,processing:!1,totalTried:(e.totalTried??0)+1}),{status:x?"error-reached-max-retries":"error"}):await O({job:e,req:d,updateJob:h,workflowConfig:m,workflowHandler:g})},I=async e=>{let{id:d,limit:h=10,overrideAccess:S,processingOrder:x,queue:_,req:E,sequential:T,where:k}=e;if(!S&&!await E.payload.config.jobs.access.run({req:E}))throw new m.c(E.t);let C={and:[{completedAt:{exists:!1}},{hasError:{not_equals:!0}},{processing:{equals:!1}},{or:[{waitUntil:{exists:!1}},{waitUntil:{less_than:new Date().toISOString()}}]}]};_&&C.and.push({queue:{equals:_}}),k&&C.and.push(k);let I={docs:[]};if(d)I.docs=[await (0,b.l)({id:d,data:{processing:!0},depth:E.payload.config.jobs.depth,disableTransaction:!0,req:E,returning:!0})];else{let d=E.payload.collections[y.SJ].config.defaultSort??"createdAt",m=E.payload.config.jobs?.processingOrder;"function"==typeof m?d=await m(e):"object"!=typeof m||Array.isArray(m)?"string"==typeof m&&(d=m):_&&m.queues&&m.queues[_]?d=m.queues[_]:m.default&&(d=m.default);let g=await (0,b.Y)({data:{processing:!0},depth:E.payload.config.jobs.depth,disableTransaction:!0,limit:h,req:E,returning:!0,sort:x??d,where:C});g&&(I.docs=g)}let{existingJobs:R,newJobs:D}=I.docs.reduce((e,d)=>(d.totalTried>0?e.existingJobs.push(d):e.newJobs.push(d),e),{existingJobs:[],newJobs:[]});if(!I.docs.length)return{noJobsRemaining:!0,remainingJobsFromQueried:0};I?.docs?.length&&E.payload.logger.info({msg:`Running ${I.docs.length} jobs.`,new:D?.length,retrying:R?.length});let L=E.payload.config.jobs.deleteJobOnComplete?[]:void 0,$=async e=>{let d;if(!e.workflowSlug&&!e.taskSlug)throw Error("Job must have either a workflowSlug or a taskSlug");let h=(0,g.A)(E,"transactionID"),m=e.workflowSlug?E.payload.config.jobs?.workflows.find(({slug:d})=>d===e.workflowSlug):{slug:"singleTask",handler:async({job:e,tasks:d})=>{await d[e.taskSlug]("1",{input:e.input})}};if(!m)return null;let y=v(e,h);if("function"==typeof m.handler||"object"==typeof m.handler&&Array.isArray(m.handler))d=m.handler;else if(!(d=await (0,w.Z)(m.handler))){let d=e.workflowSlug||`Task: ${e.taskSlug}`,h=`Can't find runner while importing with the path ${m.handler} in job type ${d}.`;E.payload.logger.error(h),await y({error:{error:h},hasError:!0,processing:!1});return}if("function"==typeof d){let g=await P({job:e,req:h,updateJob:y,workflowConfig:m,workflowHandler:d});return"error"!==g.status&&L&&L.push(e.id),{id:e.id,result:g}}{let g=await O({job:e,req:h,updateJob:y,workflowConfig:m,workflowHandler:d});return"error"!==g.status&&L&&L.push(e.id),{id:e.id,result:g}}},M=[];if(T)for(let e of I.docs){let d=await $(e);null!==d&&M.push(d)}else{let e=I.docs.map($);M=await Promise.all(e)}if(L&&L.length>0)try{E.payload.config.jobs.runHooks?await E.payload.delete({collection:y.SJ,depth:0,disableTransaction:!0,where:{id:{in:L}}}):await E.payload.db.deleteMany({collection:y.SJ,where:{id:{in:L}}})}catch(e){E.payload.logger.error({err:e,msg:`failed to delete jobs ${L.join(", ")} on complete`})}let B=M.reduce((e,d)=>(null!==d&&(e[d.id]=d.result),e),{}),j=0;for(let e in B)"error"===B[e].status&&j++;return{jobStatus:B,remainingJobsFromQueried:j}}},83856:(e,d,h)=>{"use strict";h.d(d,{b:()=>y});var m=h(79748);async function g(e,d){return Promise.all(e.map(d))}let y=async({collectionConfig:e,config:d,req:h})=>{if(d.upload?.useTempFiles&&e.upload){let{file:e}=h,d=[{file:e}];await g(d,async({file:e})=>{e?.tempFilePath&&await m.unlink(e.tempFilePath)})}}},84249:(e,d,h)=>{var m,g;!function(y){var b;void 0===(g="function"==typeof(m=y)?m.call(d,h,d,e):m)||(e.exports=g),b=!0,e.exports=y(),b=!0}(function(){function e(){for(var e=0,d={};e<arguments.length;e++){var h=arguments[e];for(var m in h)d[m]=h[m]}return d}function d(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function h(m){function g(){}function y(d,h,y){if("undefined"!=typeof document){y=e({path:"/"},g.defaults,y),"number"==typeof y.expires&&(y.expires=new Date(new Date*1+864e5*y.expires)),y.expires=y.expires?y.expires.toUTCString():"";try{var b=JSON.stringify(h);/^[\{\[]/.test(b)&&(h=b)}catch(e){}h=m.write?m.write(h,d):encodeURIComponent(String(h)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),d=encodeURIComponent(String(d)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var v="";for(var w in y)y[w]&&(v+="; "+w,!0!==y[w]&&(v+="="+y[w].split(";")[0]));return document.cookie=d+"="+h+v}}function b(e,h){if("undefined"!=typeof document){for(var g={},y=document.cookie?document.cookie.split("; "):[],b=0;b<y.length;b++){var v=y[b].split("="),w=v.slice(1).join("=");h||'"'!==w.charAt(0)||(w=w.slice(1,-1));try{var S=d(v[0]);if(w=(m.read||m)(w,S)||d(w),h)try{w=JSON.parse(w)}catch(e){}if(g[S]=w,e===S)break}catch(e){}}return e?g[e]:g}}return g.set=y,g.get=function(e){return b(e,!1)},g.getJSON=function(e){return b(e,!0)},g.remove=function(d,h){y(d,"",e(h,{expires:-1}))},g.defaults={},g.withConverter=h,g}return h(function(){})})},84296:(e,d,h)=>{"use strict";let m=h(55511),g=h(29021),y=h(77118),b=h(27910).PassThrough,v=h(31088),w=h(51027),S=h(10752),x=h(79110),_=h(88904),E=h(1479),T=h(48795),k=h(76277),C=h(25264);class P{constructor(e,d){this.nodeCounter=0,d=d||{},this.baseBoundary=d.baseBoundary||m.randomBytes(8).toString("hex"),this.boundaryPrefix=d.boundaryPrefix||"--_NmP",this.disableFileAccess=!!d.disableFileAccess,this.disableUrlAccess=!!d.disableUrlAccess,this.normalizeHeaderKey=d.normalizeHeaderKey,this.date=new Date,this.rootNode=d.rootNode||this,this.keepBcc=!!d.keepBcc,d.filename&&(this.filename=d.filename,e||(e=w.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(d.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=d.parentNode,this.hostname=d.hostname,this.newline=d.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&&this.setHeader("Content-Type",e)}createChild(e,d){d||"object"!=typeof e||(d=e,e=void 0);let h=new P(e,d);return this.appendChild(h),h}appendChild(e){return e.rootNode!==this.rootNode&&(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((d,h)=>{d===this&&(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[h]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e>=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,d){let h=!1,m;if(!d&&e&&"object"==typeof e)return e.key&&"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.setHeader(e.key,e.value)}):Object.keys(e).forEach(d=>{this.setHeader(d,e[d])}),this;m={key:e=this._normalizeHeaderKey(e),value:d};for(let d=0,g=this._headers.length;d<g;d++)this._headers[d].key===e&&(h?(this._headers.splice(d,1),d--,g--):(this._headers[d]=m,h=!0));return h||this._headers.push(m),this}addHeader(e,d){return!d&&e&&"object"==typeof e?e.key&&e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.addHeader(e.key,e.value)}):Object.keys(e).forEach(d=>{this.addHeader(d,e[d])}):Array.isArray(d)?d.forEach(d=>{this.addHeader(e,d)}):this._headers.push({key:this._normalizeHeaderKey(e),value:d}),this}getHeader(e){e=this._normalizeHeaderKey(e);for(let d=0,h=this._headers.length;d<h;d++)if(this._headers[d].key===e)return this._headers[d].value}setContent(e){return this.content=e,"function"==typeof this.content.pipe?(this._contentErrorHandler=e=>{this.content.removeListener("error",this._contentErrorHandler),this.content=e},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&&(this._isPlainText=w.isPlainText(this.content),this._isPlainText&&w.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(e){let d;e||(d=new Promise((d,h)=>{e=v.callbackPromise(d,h)}));let h=this.createReadStream(),m=[],g=0,y=!1;return h.on("readable",()=>{let e;for(;null!==(e=h.read());)m.push(e),g+=e.length}),h.once("error",d=>{if(!y)return y=!0,e(d)}),h.once("end",d=>{if(!y)return y=!0,d&&d.length&&(m.push(d),g+=d.length),e(null,Buffer.concat(m,g))}),d}getTransferEncoding(){let e=!1,d=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return this.content&&((e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim())&&["base64","quoted-printable"].includes(e)||(/^text\//i.test(d)?e=this._isPlainText&&!this._hasLongLines?"7bit":"string"==typeof this.content||this.content instanceof Buffer?"Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":"B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(d)||(e=e||"base64"))),e}buildHeaders(){let e=this.getTransferEncoding(),d=[];if(e&&this.setHeader("Content-Transfer-Encoding",e),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let e=this._headers.length-2;e>=0;e--){let d=this._headers[e];"Content-Type"===d.key&&(this._headers.splice(e,1),this._headers.push(d))}}return this._headers.forEach(e=>{let h,m,g=e.key,y=e.value,b={},v=["From","Sender","To","Cc","Bcc","Reply-To","Date","References"];if(!y||"object"!=typeof y||v.includes(g)||(Object.keys(y).forEach(e=>{"value"!==e&&(b[e]=y[e])}),(y=(y.value||"").toString()).trim())){if(b.prepared)return void(b.foldLines?d.push(w.foldLines(g+": "+y)):d.push(g+": "+y));switch(e.key){case"Content-Disposition":h=w.parseHeaderValue(y),this.filename&&(h.params.filename=this.filename),y=w.buildHeaderValue(h);break;case"Content-Type":h=w.parseHeaderValue(y),this._handleContentType(h),h.value.match(/^text\/plain\b/)&&"string"==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(h.params.charset="utf-8"),y=w.buildHeaderValue(h),this.filename&&(((m=this._encodeWords(this.filename))!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(m))&&(m='"'+m+'"'),y+="; name="+m);break;case"Bcc":if(!this.keepBcc)return}if(((y=this._encodeHeaderValue(g,y))||"").toString().trim()){if("function"==typeof this.normalizeHeaderKey){let e=this.normalizeHeaderKey(g,y);e&&"string"==typeof e&&e.length&&(g=e)}d.push(w.foldLines(g+": "+y,76))}}}),d.join("\r\n")}createReadStream(e){let d,h=new b(e=e||{}),m=h;this.stream(h,e,e=>{if(e)return void m.emit("error",e);h.end()});for(let e=0,h=this._transforms.length;e<h;e++)d="function"==typeof this._transforms[e]?this._transforms[e]():this._transforms[e],m.once("error",e=>{d.emit("error",e)}),m=m.pipe(d);d=new T,m.once("error",e=>{d.emit("error",e)}),m=m.pipe(d);for(let e=0,h=this._processFuncs.length;e<h;e++)m=(d=this._processFuncs[e])(m);if(this.newline){let e=["win","windows","dos","\r\n"].includes(this.newline.toString().toLowerCase())?new k:new C,d=m.pipe(e);return m.on("error",e=>d.emit("error",e)),d}return m}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,d,h){let m,g,y=this.getTransferEncoding(),b=!1,v=e=>{b||(b=!0,h(e))},w=()=>{let h=0,m=()=>{if(h>=this.childNodes.length)return e.write("\r\n--"+this.boundary+"--\r\n"),v();let g=this.childNodes[h++];e.write((h>1?"\r\n":"")+"--"+this.boundary+"\r\n"),g.stream(e,d,e=>{if(e)return v(e);setImmediate(m)})};if(!this.multipart)return v();setImmediate(m)},_=()=>{if(!this.content)return setImmediate(w);{if("[object Error]"===Object.prototype.toString.call(this.content))return v(this.content);"function"==typeof this.content.pipe&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=e=>v(e),this.content.once("error",this._contentErrorHandler));let h=()=>{["quoted-printable","base64"].includes(y)?((m=new("base64"===y?x:S).Encoder(d)).pipe(e,{end:!1}),m.once("end",w),m.once("error",e=>v(e)),(g=this._getStream(this.content)).pipe(m)):((g=this._getStream(this.content)).pipe(e,{end:!1}),g.once("end",w)),g.once("error",e=>v(e))};if(this.content._resolve){let e=[],d=0,m=!1,g=this._getStream(this.content);g.on("error",e=>{m||(m=!0,v(e))}),g.on("readable",()=>{let h;for(;null!==(h=g.read());)e.push(h),d+=h.length}),g.on("end",()=>{m||(m=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(e,d),setImmediate(h))})}else setImmediate(h);return}};this._raw?setImmediate(()=>{if("[object Error]"===Object.prototype.toString.call(this._raw))return v(this._raw);"function"==typeof this._raw.pipe&&this._raw.removeListener("error",this._contentErrorHandler);let d=this._getStream(this._raw);d.pipe(e,{end:!1}),d.on("error",d=>e.emit("error",d)),d.on("end",w)}):(e.write(this.buildHeaders()+"\r\n\r\n"),setImmediate(_))}setEnvelope(e){let d;this._envelope={from:!1,to:[]},e.from&&(d=[],this._convertAddresses(this._parseAddresses(e.from),d),(d=d.filter(e=>e&&e.address)).length&&d[0]&&(this._envelope.from=d[0].address)),["to","cc","bcc"].forEach(d=>{e[d]&&this._convertAddresses(this._parseAddresses(e[d]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(e=>e.address).filter(e=>e);let h=["to","cc","bcc","from"];return Object.keys(e).forEach(d=>{h.includes(d)||(this._envelope[d]=e[d])}),this}getAddresses(){let e={};return this._headers.forEach(d=>{let h=d.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(h)&&(Array.isArray(e[h])||(e[h]=[]),this._convertAddresses(this._parseAddresses(d.value),e[h]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(d=>{let h=[];"From"===d.key||!e.from&&["Reply-To","Sender"].includes(d.key)?(this._convertAddresses(this._parseAddresses(d.value),h),h.length&&h[0]&&(e.from=h[0].address)):["To","Cc","Bcc"].includes(d.key)&&this._convertAddresses(this._parseAddresses(d.value),e.to)}),e.to=e.to.map(e=>e.address),e}messageId(){let e=this.getHeader("Message-ID");return e||(e=this._generateMessageId(),this.setHeader("Message-ID",e)),e}setRaw(e){return this._raw=e,this._raw&&"function"==typeof this._raw.pipe&&(this._contentErrorHandler=e=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=e},this._raw.once("error",this._contentErrorHandler)),this}_getStream(e){let d;return e._resolvedValue?(d=new b,setImmediate(()=>{try{d.end(e._resolvedValue)}catch(e){d.emit("error",e)}}),d):"function"==typeof e.pipe?e:e&&"string"==typeof e.path&&!e.href?this.disableFileAccess?(d=new b,setImmediate(()=>d.emit("error",Error("File access rejected for "+e.path))),d):g.createReadStream(e.path):e&&"string"==typeof e.href?this.disableUrlAccess?(d=new b,setImmediate(()=>d.emit("error",Error("Url access rejected for "+e.href))),d):E(e.href,{headers:e.httpHeaders}):(d=new b,setImmediate(()=>{try{d.end(e||"")}catch(e){d.emit("error",e)}}),d)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(e=>e&&e.address?(e.address=this._normalizeAddress(e.address),e.name=e.name||"",[e]):_(e)))}_normalizeHeaderKey(e){return e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,e=>e.toUpperCase()).replace(/^Content-Features$/i,"Content-features")}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf("/")+1),this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,d){switch(e=this._normalizeHeaderKey(e)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(d));case"Message-ID":case"In-Reply-To":case"Content-Id":return"<"!==(d=(d||"").toString().replace(/\r?\n|\r/g," ")).charAt(0)&&(d="<"+d),">"!==d.charAt(d.length-1)&&(d+=">"),d;case"References":return(d=[].concat.apply([],[].concat(d||"").map(e=>(e=(e||"").toString().replace(/\r?\n|\r/g," ").trim()).replace(/<[^>]*>/g,e=>e.replace(/\s/g,"")).split(/\s+/))).map(e=>("<"!==e.charAt(0)&&(e="<"+e),">"!==e.charAt(e.length-1)&&(e+=">"),e))).join(" ").trim();case"Date":if("[object Date]"===Object.prototype.toString.call(d))return d.toUTCString().replace(/GMT/,"+0000");return d=(d||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(d);case"Content-Type":case"Content-Disposition":return(d||"").toString().replace(/\r?\n|\r/g," ");default:return d=(d||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(d)}}_convertAddresses(e,d){let h=[];return d=d||[],[].concat(e||[]).forEach(e=>{if(e.address)e.address=this._normalizeAddress(e.address),e.name?e.name&&h.push(`${this._encodeAddressName(e.name)} <${e.address}>`):h.push(e.address.indexOf(" ")>=0?`<${e.address}>`:`${e.address}`),e.address&&!d.filter(d=>d.address===e.address).length&&d.push(e);else if(e.group){let m=(e.group.length?this._convertAddresses(e.group,d):"").trim();h.push(`${this._encodeAddressName(e.name)}:${m};`)}}),h.join(", ")}_normalizeAddress(e){let d,h=(e=(e||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim()).lastIndexOf("@");if(h<0)return e;let m=e.substr(0,h),g=e.substr(h+1);try{d=y.toASCII(g.toLowerCase())}catch(e){}return m.indexOf(" ")>=0&&('"'!==m.charAt(0)&&(m='"'+m),'"'!==m.substr(-1)&&(m+='"')),`${m}@${d}`}_encodeAddressName(e){if(!/^[\w ]*$/.test(e))if(/^[\x20-\x7e]*$/.test(e))return'"'+e.replace(/([\\"])/g,"\\$1")+'"';else return w.encodeWord(e,this._getTextEncoding(e),52);return e}_encodeWords(e){return w.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let d=this.textEncoding;return d||(d=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length<(e.match(/[a-z]/gi)||[]).length?"Q":"B"),d}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,d)=>e+"-"+m.randomBytes(d).toString("hex"),m.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}}e.exports=P},84734:(e,d,h)=>{"use strict";function m(e,d,h){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[d]=h}h.d(d,{J:()=>m})},84772:(e,d,h)=>{"use strict";let{lsCacheSym:m,levelValSym:g,useOnlyCustomLevelsSym:y,streamSym:b,formattersSym:v,hooksSym:w,levelCompSym:S}=h(39610),{noop:x,genLog:_}=h(21840),{DEFAULT_LEVELS:E,SORTING_ORDER:T}=h(78506),k={fatal:e=>{let d=_(E.fatal,e);return function(...e){let h=this[b];if(d.call(this,...e),"function"==typeof h.flushSync)try{h.flushSync()}catch(e){}}},error:e=>_(E.error,e),warn:e=>_(E.warn,e),info:e=>_(E.info,e),debug:e=>_(E.debug,e),trace:e=>_(E.trace,e)},C=Object.keys(E).reduce((e,d)=>(e[E[d]]=d,e),{});function P(e){let d=e[v].level,{labels:h}=e.levels,g={};for(let e in h){let m=d(h[e],Number(e));g[e]=JSON.stringify(m).slice(0,-1)}return e[m]=g,e}function O(e,d){if(d)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function I(e){let{labels:d,values:h}=this.levels;if("number"==typeof e){if(void 0===d[e])throw Error("unknown level value"+e);e=d[e]}if(void 0===h[e])throw Error("unknown level "+e);let m=this[g],b=this[g]=h[e],v=this[y],E=this[S],T=this[w].logMethod;for(let e in h){if(!1===E(h[e],b)){this[e]=x;continue}this[e]=O(e,v)?k[e](T):_(h[e],T)}this.emit("level-change",e,b,d[m],m,this)}function R(e){let{levels:d,levelVal:h}=this;return d&&d.labels?d.labels[h]:""}function D(e){let{values:d}=this.levels,h=d[e];return void 0!==h&&this[S](h,this[g])}function L(e,d,h){return e===T.DESC?d<=h:d>=h}function $(e){return"string"==typeof e?L.bind(null,e):e}function M(e=null,d=!1){let h=e?Object.keys(e).reduce((d,h)=>(d[e[h]]=h,d),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),d?null:C,h),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),d?null:E,e)}}function B(e,d,h){if("number"==typeof e){if(![].concat(Object.keys(d||{}).map(e=>d[e]),h?[]:Object.keys(C).map(e=>+e),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}if(!(e in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),h?null:E,d)))throw Error(`default level:${e} must be included in custom levels`)}function j(e,d){let{labels:h,values:m}=e;for(let e in d){if(e in m)throw Error("levels cannot be overridden");if(d[e]in h)throw Error("pre-existing level values cannot be used for new levels")}}function U(e){if("function"!=typeof e&&!("string"==typeof e&&Object.values(T).includes(e)))throw Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}e.exports={initialLsCache:Object.keys(C).reduce((e,d)=>(e[d]='{"level":'+Number(d),e),{}),genLsCache:P,levelMethods:k,getLevel:R,setLevel:I,isLevelEnabled:D,mappings:M,assertNoLevelCollisions:j,assertDefaultLevelFound:B,genLevelComparison:$,assertLevelComparison:U}},84938:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Parser=void 0;let m=h(17521),g=h(28791),y=1,b=5,v=Buffer.allocUnsafe(0);class w{constructor(e){if(this.buffer=v,this.bufferLength=0,this.bufferOffset=0,this.reader=new g.BufferReader,(null==e?void 0:e.mode)==="binary")throw Error("Binary mode not supported yet");this.mode=(null==e?void 0:e.mode)||"text"}parse(e,d){this.mergeBuffer(e);let h=this.bufferOffset+this.bufferLength,m=this.bufferOffset;for(;m+b<=h;){let e=this.buffer[m],g=this.buffer.readUInt32BE(m+y),v=y+g;if(v+m<=h)d(this.handlePacket(m+b,e,g,this.buffer)),m+=v;else break}m===h?(this.buffer=v,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=h-m,this.bufferOffset=m)}mergeBuffer(e){if(this.bufferLength>0){let d=this.bufferLength+e.byteLength;if(d+this.bufferOffset>this.buffer.byteLength){let e;if(d<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let h=2*this.buffer.byteLength;for(;d>=h;)h*=2;e=Buffer.allocUnsafe(h)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=d}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,d,h,g){switch(d){case 50:return m.bindComplete;case 49:return m.parseComplete;case 51:return m.closeComplete;case 110:return m.noData;case 115:return m.portalSuspended;case 99:return m.copyDone;case 87:return m.replicationStart;case 73:return m.emptyQuery;case 68:return this.parseDataRowMessage(e,h,g);case 67:return this.parseCommandCompleteMessage(e,h,g);case 90:return this.parseReadyForQueryMessage(e,h,g);case 65:return this.parseNotificationMessage(e,h,g);case 82:return this.parseAuthenticationResponse(e,h,g);case 83:return this.parseParameterStatusMessage(e,h,g);case 75:return this.parseBackendKeyData(e,h,g);case 69:return this.parseErrorMessage(e,h,g,"error");case 78:return this.parseErrorMessage(e,h,g,"notice");case 84:return this.parseRowDescriptionMessage(e,h,g);case 116:return this.parseParameterDescriptionMessage(e,h,g);case 71:return this.parseCopyInMessage(e,h,g);case 72:return this.parseCopyOutMessage(e,h,g);case 100:return this.parseCopyData(e,h,g);default:return new m.DatabaseError("received invalid response: "+d.toString(16),h,"error")}}parseReadyForQueryMessage(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.string(1);return new m.ReadyForQueryMessage(d,g)}parseCommandCompleteMessage(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.cstring();return new m.CommandCompleteMessage(d,g)}parseCopyData(e,d,h){let g=h.slice(e,e+(d-4));return new m.CopyDataMessage(d,g)}parseCopyInMessage(e,d,h){return this.parseCopyMessage(e,d,h,"copyInResponse")}parseCopyOutMessage(e,d,h){return this.parseCopyMessage(e,d,h,"copyOutResponse")}parseCopyMessage(e,d,h,g){this.reader.setBuffer(e,h);let y=0!==this.reader.byte(),b=this.reader.int16(),v=new m.CopyResponse(d,g,y,b);for(let e=0;e<b;e++)v.columnTypes[e]=this.reader.int16();return v}parseNotificationMessage(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.int32(),y=this.reader.cstring(),b=this.reader.cstring();return new m.NotificationResponseMessage(d,g,y,b)}parseRowDescriptionMessage(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.int16(),y=new m.RowDescriptionMessage(d,g);for(let e=0;e<g;e++)y.fields[e]=this.parseField();return y}parseField(){let e=this.reader.cstring(),d=this.reader.uint32(),h=this.reader.int16(),g=this.reader.uint32(),y=this.reader.int16(),b=this.reader.int32(),v=0===this.reader.int16()?"text":"binary";return new m.Field(e,d,h,g,y,b,v)}parseParameterDescriptionMessage(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.int16(),y=new m.ParameterDescriptionMessage(d,g);for(let e=0;e<g;e++)y.dataTypeIDs[e]=this.reader.int32();return y}parseDataRowMessage(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.int16(),y=Array(g);for(let e=0;e<g;e++){let d=this.reader.int32();y[e]=-1===d?null:this.reader.string(d)}return new m.DataRowMessage(d,y)}parseParameterStatusMessage(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.cstring(),y=this.reader.cstring();return new m.ParameterStatusMessage(d,g,y)}parseBackendKeyData(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.int32(),y=this.reader.int32();return new m.BackendKeyDataMessage(d,g,y)}parseAuthenticationResponse(e,d,h){this.reader.setBuffer(e,h);let g=this.reader.int32(),y={name:"authenticationOk",length:d};switch(g){case 0:break;case 3:8===y.length&&(y.name="authenticationCleartextPassword");break;case 5:if(12===y.length){y.name="authenticationMD5Password";let e=this.reader.bytes(4);return new m.AuthenticationMD5Password(d,e)}break;case 10:{let e;y.name="authenticationSASL",y.mechanisms=[];do(e=this.reader.cstring())&&y.mechanisms.push(e);while(e)}break;case 11:y.name="authenticationSASLContinue",y.data=this.reader.string(d-8);break;case 12:y.name="authenticationSASLFinal",y.data=this.reader.string(d-8);break;default:throw Error("Unknown authenticationOk message type "+g)}return y}parseErrorMessage(e,d,h,g){this.reader.setBuffer(e,h);let y={},b=this.reader.string(1);for(;"\0"!==b;)y[b]=this.reader.cstring(),b=this.reader.string(1);let v=y.M,w="notice"===g?new m.NoticeMessage(d,v):new m.DatabaseError(v,d,g);return w.severity=y.S,w.code=y.C,w.detail=y.D,w.hint=y.H,w.position=y.P,w.internalPosition=y.p,w.internalQuery=y.q,w.where=y.W,w.schema=y.s,w.table=y.t,w.column=y.c,w.dataType=y.d,w.constraint=y.n,w.file=y.F,w.line=y.L,w.routine=y.R,w}}d.Parser=w},85095:(e,d,h)=>{"use strict";h.d(d,{d:()=>O});var m=h(23166),g=h(11770),y=h(45970),b=h(74290);let v=async({id:e,data:d,field:h,locale:v,req:S,select:x,selectMode:_,siblingData:E,user:T})=>{if((0,m.e)({field:h,select:x,selectMode:_,siblingDoc:E})){if((0,b.Z7)(h)&&void 0===E[h.name]&&void 0!==h.defaultValue)try{E[h.name]=await (0,g.B)({defaultValue:h.defaultValue,locale:v,req:S,user:T,value:E[h.name]})}catch(e){S.payload.logger.error({err:e,msg:`Error calculating default value for field: ${h.name}`})}switch(h.type){case"array":{let m=E[h.name];if(Array.isArray(m)){let g=[],y=x?.[h.name];m.forEach(m=>{g.push(w({id:e,data:d,fields:h.fields,locale:v,req:S,select:"object"==typeof y?y:void 0,selectMode:_,siblingData:m,user:T}))}),await Promise.all(g)}break}case"blocks":{let m=E[h.name];if(Array.isArray(m)){let g=[];m.forEach(m=>{let b=m.blockType,E=S.payload.blocks[b]??(h.blockReferences??h.blocks).find(e=>"string"!=typeof e&&e.slug===b),{blockSelect:k,blockSelectMode:C}=(0,y.c)({block:E,select:x?.[h.name],selectMode:_});E&&(m.blockType=b,g.push(w({id:e,data:d,fields:E.fields,locale:v,req:S,select:"object"==typeof k?k:void 0,selectMode:C,siblingData:m,user:T})))}),await Promise.all(g)}break}case"collapsible":case"row":await w({id:e,data:d,fields:h.fields,locale:v,req:S,select:x,selectMode:_,siblingData:E,user:T});break;case"group":if((0,b.Z7)(h)){"object"!=typeof E[h.name]&&(E[h.name]={});let m=E[h.name],g=x?.[h.name];await w({id:e,data:d,fields:h.fields,locale:v,req:S,select:"object"==typeof g?g:void 0,selectMode:_,siblingData:m,user:T})}else await w({id:e,data:d,fields:h.fields,locale:v,req:S,select:x,selectMode:_,siblingData:E,user:T});break;case"tab":{let m,g;(0,b.pz)(h)?("object"!=typeof E[h.name]&&(E[h.name]={}),m=E[h.name],"object"==typeof x?.[h.name]&&(g=x?.[h.name])):(m=E,g=x),await w({id:e,data:d,fields:h.fields,locale:v,req:S,select:g,selectMode:_,siblingData:m,user:T});break}case"tabs":await w({id:e,data:d,fields:h.tabs.map(e=>({...e,type:"tab"})),locale:v,req:S,select:x,selectMode:_,siblingData:E,user:T})}}},w=async({id:e,data:d,fields:h,locale:m,req:g,select:y,selectMode:b,siblingData:w,user:S})=>{let x=[];h.forEach(h=>{x.push(v({id:e,data:d,field:h,locale:m,req:g,select:y,selectMode:b,siblingData:w,user:S}))}),await Promise.all(x)},S=async({id:e,data:d,fields:h,locale:m,req:g,select:y,selectMode:b,user:v})=>(await w({id:e,data:d,fields:h,locale:m,req:g,select:y,selectMode:b,siblingData:d,user:v}),d);var x=h(86292),_=h(70120),E=h(97507),T=h(43850);let k=_.default||_,C=async e=>{let{id:d,addErrorPathToParent:h,anyParentLocalized:m=!1,blockData:g,clientFieldSchemaMap:v,collectionSlug:w,data:S,field:_,fieldSchemaMap:C,filter:O,forceFullValue:I=!1,fullData:R,includeSchema:D=!1,indexPath:L,mockRSCs:$,omitParents:M=!1,operation:B,parentPath:j,parentPermissions:U,parentSchemaPath:F,passesCondition:z,path:q,preferences:V,previousFormState:H,renderAllFields:K,renderFieldFn:G,req:W,schemaPath:J,select:Q,selectMode:Y,skipConditionChecks:X=!1,skipValidation:Z=!1,state:ee}=e;!e.clientFieldSchemaMap&&e.renderFieldFn&&console.warn("clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance");let et=!0,ei={},er=H?.[q]?.lastRenderedPath;er&&(ei.lastRenderedPath=er);let ea=!K&&!H?.[q];if(ea&&(ei.addedByServer=!0),!1===z&&(ei.passesCondition=!1),D&&(ei.fieldSchema=_),(0,b.Z7)(_)&&!(0,b.I2)(_)){let x=!0===(et=!0===U?U:(0,E.Zt)(U?.[_.name]))||(0,E.Zt)(et?.read);if(!(x="function"!=typeof _?.access?.read||await _.access.read({id:d,blockData:g,data:R,req:W,siblingData:S})))return;let L=_.validate,j=!0;if("function"==typeof L&&!Z&&z){let e;if("json"===_.type&&"string"==typeof S[_.name])try{JSON.parse(S[_.name])}catch(d){e=d}try{j=await L(S?.[_.name],{..._,id:d,blockData:g,collectionSlug:w,data:R,event:"onChange",jsonError:e,operation:B,preferences:V,previousValue:H?.[q]?.initialValue,req:W,siblingData:S})}catch(e){j=`Error validating field at path: ${q}`,W.payload.logger.error({err:e,msg:j})}}let F=e=>{"function"==typeof h&&h(e),ei.errorPaths||(ei.errorPaths=[]),ei.errorPaths.includes(e)||(ei.errorPaths.push(e),ei.valid=!1)};switch("string"==typeof j&&(ei.errorMessage=j,ei.valid=!1,F(q)),_.type){case"array":{let h=Array.isArray(S[_.name])?S[_.name]:[],y=Q?.[_.name],{promises:x,rows:E}=h.reduce((h,S,x)=>{let E=q+"."+x;if(S.id=S?.id||new k().toHexString(),!M&&(!O||O(e))){let e=E+".id";ee[e]={initialValue:S.id,value:S.id},D&&(ee[e].fieldSchema=_.fields.find(e=>(0,b.uT)(e)))}h.promises.push(P({id:d,addErrorPathToParent:F,anyParentLocalized:_.localized||m,blockData:g,clientFieldSchemaMap:v,collectionSlug:w,data:S,fields:_.fields,fieldSchemaMap:C,filter:O,forceFullValue:I,fullData:R,includeSchema:D,mockRSCs:$,omitParents:M,operation:B,parentIndexPath:"",parentPassesCondition:z,parentPath:E,parentSchemaPath:J,permissions:!0===et?et:et?.fields||{},preferences:V,previousFormState:H,renderAllFields:K,renderFieldFn:G,req:W,select:"object"==typeof y?y:void 0,selectMode:Y,skipConditionChecks:X,skipValidation:Z,state:ee})),h.rows||(h.rows=[]);let T=(H?.[q]?.rows||[]).find(e=>e.id===S.id),L={id:S.id,isLoading:!1};T?.lastRenderedPath&&(L.lastRenderedPath=T.lastRenderedPath),h.rows.push(L);let j=V?.fields?.[q]?.collapsed,U=T?T.collapsed??!1:void 0!==j?j.includes(S.id):_.admin.initCollapsed;return U&&(h.rows[h.rows.length-1].collapsed=U),h},{promises:[],rows:void 0});await Promise.all(x),E&&(ei.rows=E),null!==S[_.name]&&(ei.value=I?h:h.length,ei.initialValue=I?h:h.length,h.length>0&&(ei.disableFormData=!0)),!M&&(!O||O(e))&&(ee[q]=ei);break}case"blocks":{let h=Array.isArray(S[_.name])?S[_.name]:[],{promises:g,rowMetadata:x}=h.reduce((h,g,S)=>{let x=g.blockType,E=W.payload.blocks[x]??(_.blockReferences??_.blocks).find(e=>"string"!=typeof e&&e.slug===x);if(!E)throw Error(`Block with type "${g.blockType}" was found in block data, but no block with that type is defined in the config for field with schema path ${J}.`);let{blockSelect:T,blockSelectMode:L}=(0,y.c)({block:E,select:Q?.[_.name],selectMode:Y}),j=q+"."+S;if(E){if(g.id=g?.id||new k().toHexString(),!M&&(!O||O(e))){let e=j+".id";ee[e]={initialValue:g.id,value:g.id},D&&(ee[e].fieldSchema=D?E.fields.find(e=>(0,b.uT)(e)):void 0);let d=j+".blockType";ee[d]={initialValue:g.blockType,value:g.blockType},ea&&(ee[d].addedByServer=ea),D&&(ee[d].fieldSchema=E.fields.find(e=>"name"in e&&"blockType"===e.name));let h=j+".blockName";ee[h]={},g.blockName&&(ee[h].initialValue=g.blockName,ee[h].value=g.blockName),D&&(ee[h].fieldSchema=E.fields.find(e=>"name"in e&&"blockName"===e.name))}h.promises.push(P({id:d,addErrorPathToParent:F,anyParentLocalized:_.localized||m,blockData:g,clientFieldSchemaMap:v,collectionSlug:w,data:g,fields:E.fields,fieldSchemaMap:C,filter:O,forceFullValue:I,fullData:R,includeSchema:D,mockRSCs:$,omitParents:M,operation:B,parentIndexPath:"",parentPassesCondition:z,parentPath:j,parentSchemaPath:J+"."+E.slug,permissions:!0===et?et:U?.[_.name]?.blocks?.[E.slug]===!0||U?.[_.name]?.blocks?.[E.slug]?.fields||{},preferences:V,previousFormState:H,renderAllFields:K,renderFieldFn:G,req:W,select:"object"==typeof T?T:void 0,selectMode:L,skipConditionChecks:X,skipValidation:Z,state:ee}));let y=(H?.[q]?.rows||[]).find(e=>e.id===g.id),S={id:g.id,blockType:g.blockType,isLoading:!1};y?.lastRenderedPath&&(S.lastRenderedPath=y.lastRenderedPath),h.rowMetadata.push(S);let x=V?.fields?.[q]?.collapsed,Q=void 0===x?_.admin.initCollapsed:x.includes(g.id);Q&&(h.rowMetadata[h.rowMetadata.length-1].collapsed=Q)}return h},{promises:[],rowMetadata:[]});await Promise.all(g),null===S[_.name]?(ei.value=null,ei.initialValue=null):(ei.value=I?h:h.length,ei.initialValue=I?h:h.length,h.length>0&&(ei.disableFormData=!0)),ei.rows=x,!M&&(!O||O(e))&&(ee[q]=ei);break}case"group":{(!O||O(e))&&(ei.disableFormData=!0,ee[q]=ei);let h=Q?.[_.name];await P({id:d,addErrorPathToParent:F,anyParentLocalized:_.localized||m,blockData:g,clientFieldSchemaMap:v,collectionSlug:w,data:S?.[_.name]||{},fields:_.fields,fieldSchemaMap:C,filter:O,forceFullValue:I,fullData:R,includeSchema:D,mockRSCs:$,omitParents:M,operation:B,parentIndexPath:"",parentPassesCondition:z,parentPath:q,parentSchemaPath:J,permissions:"boolean"==typeof et?et:et?.fields,preferences:V,previousFormState:H,renderAllFields:K,renderFieldFn:G,req:W,select:"object"==typeof h?h:void 0,selectMode:Y,skipConditionChecks:X,skipValidation:Z,state:ee});break}case"relationship":case"upload":if(_.filterOptions&&("object"==typeof _.filterOptions&&("string"==typeof _.relationTo?ei.filterOptions={[_.relationTo]:_.filterOptions}:ei.filterOptions=_.relationTo.reduce((e,d)=>(e[d]=_.filterOptions,e),{})),"function"==typeof _.filterOptions&&(ei.filterOptions=await (0,T.r)(_.filterOptions,{id:d,blockData:g,data:R,relationTo:_.relationTo,req:W,siblingData:S,user:W.user}))),_.hasMany){let e=Array.isArray(S[_.name])?S[_.name].map(e=>Array.isArray(_.relationTo)?{relationTo:e.relationTo,value:e.value&&"object"==typeof e.value?e.value?.id:e.value}:"object"==typeof e&&null!==e?e.id:e):void 0;ei.value=e,ei.initialValue=e}else if(Array.isArray(_.relationTo)){if(S[_.name]&&"object"==typeof S[_.name]&&"relationTo"in S[_.name]&&"value"in S[_.name]){let e="object"==typeof S[_.name]?.value&&S[_.name]?.value&&"id"in S[_.name].value?S[_.name].value.id:S[_.name].value,d={relationTo:S[_.name]?.relationTo,value:e};ei.value=d,ei.initialValue=d}}else{let e=S[_.name]&&"object"==typeof S[_.name]&&"id"in S[_.name]?S[_.name].id:S[_.name];ei.value=e,ei.initialValue=e}(!O||O(e))&&(ee[q]=ei);break;case"select":"function"==typeof _.filterOptions&&(ei.selectFilterOptions=_.filterOptions({data:R,options:_.options,req:W,siblingData:S})),void 0!==S[_.name]&&(ei.value=S[_.name],ei.initialValue=S[_.name]),(!O||O(e))&&(ee[q]=ei);break;default:void 0!==S[_.name]&&(ei.value=S[_.name],ei.initialValue=S[_.name]),(!O||O(e))&&(ee[q]=ei)}}else if((0,b.sd)(_)&&!(0,b.Z7)(_))(!O||O(e))&&(ee[q]={disableFormData:!0},!1===z&&(ee[q].passesCondition=!1)),await P({id:d,mockRSCs:$,select:Q,selectMode:Y,addErrorPathToParent:h,anyParentLocalized:(0,b.Yf)(_)||m,blockData:g,clientFieldSchemaMap:v,collectionSlug:w,data:S,fields:_.fields,fieldSchemaMap:C,filter:O,forceFullValue:I,fullData:R,includeSchema:D,omitParents:M,operation:B,parentIndexPath:L,parentPassesCondition:z,parentPath:j,parentSchemaPath:F,permissions:U,preferences:V,previousFormState:H,renderAllFields:K,renderFieldFn:G,req:W,skipConditionChecks:X,skipValidation:Z,state:ee});else if("tabs"===_.type){let e=_.tabs.map((e,y)=>{let _,E,T=(0,b.pz)(e),{indexPath:k,path:J,schemaPath:et}=(0,x.Z)({field:{...e,type:"tab"},index:y,parentIndexPath:L,parentPath:j,parentSchemaPath:F});if(T){if(!0===U)E=!0;else{let d=U?.[e.name];E=!0===d||d?.fields}"object"==typeof Q?.[e.name]&&(_=Q?.[e.name])}else E=U,_=Q;let ei=q?q.split("."):[],er=z;return z&&"function"==typeof e.admin?.condition&&(er=e.admin.condition(R,S,{blockData:g,operation:B,path:ei,user:W.user})),e?.id&&(ee[e.id]={passesCondition:er}),P({id:d,addErrorPathToParent:h,anyParentLocalized:e.localized||m,blockData:g,clientFieldSchemaMap:v,collectionSlug:w,data:T?S?.[e.name]||{}:S,fields:e.fields,fieldSchemaMap:C,filter:O,forceFullValue:I,fullData:R,includeSchema:D,mockRSCs:$,omitParents:M,operation:B,parentIndexPath:T?"":k,parentPassesCondition:er,parentPath:T?J:j,parentSchemaPath:T?et:F,permissions:E,preferences:V,previousFormState:H,renderAllFields:K,renderFieldFn:G,req:W,select:_,selectMode:Y,skipConditionChecks:X,skipValidation:Z,state:ee})});await Promise.all(e)}else"ui"===_.type&&(!O||O(e))&&(ee[q]=ei,ee[q].disableFormData=!0);if(G&&!(0,b.I2)(_)){let e=C.get(J);if(!e&&!$)if(J.endsWith(".blockType"))return;else throw Error(`Field config not found for ${J}`);if(!ee[q])return;ea&&(ee[q].addedByServer=ea),G({id:d,clientFieldSchemaMap:v,collectionSlug:w,data:R,fieldConfig:e,fieldSchemaMap:C,fieldState:ee[q],formState:ee,indexPath:L,lastRenderedPath:er,mockRSCs:$,operation:B,parentPath:j,parentSchemaPath:F,path:q,permissions:et,preferences:V,previousFieldState:H?.[q],renderAllFields:K,req:W,schemaPath:J,siblingData:S})}},P=async({id:e,addErrorPathToParent:d,anyParentLocalized:h=!1,blockData:g,clientFieldSchemaMap:y,collectionSlug:b,data:v,fields:w,fieldSchemaMap:S,filter:_,forceFullValue:E=!1,fullData:T,includeSchema:k=!1,mockRSCs:P,omitParents:O=!1,operation:I,parentIndexPath:R,parentPassesCondition:D=!0,parentPath:L,parentSchemaPath:$,permissions:M,preferences:B,previousFormState:j,renderAllFields:U,renderFieldFn:F,req:z,select:q,selectMode:V,skipConditionChecks:H=!1,skipValidation:K=!1,state:G={}})=>{let W=[];w.forEach((w,J)=>{let Q=!0,{indexPath:Y,path:X,schemaPath:Z}=(0,x.Z)({field:w,index:J,parentIndexPath:"name"in w?"":R,parentPath:L,parentSchemaPath:$});if("id"!==X&&!(0,m.e)({field:w,select:q,selectMode:V,siblingDoc:v}))return;let ee=X?X.split("."):[];if(!H)try{Q=!!((!w?.admin?.condition||w.admin.condition(T||{},v||{},{blockData:g,operation:I,path:ee,user:z.user}))&&D)}catch(e){Q=!1,z.payload.logger.error({err:e,msg:`Error evaluating field condition at path: ${X}`})}W.push(C({id:e,addErrorPathToParent:d,anyParentLocalized:h,blockData:g,clientFieldSchemaMap:y,collectionSlug:b,data:v,field:w,fieldIndex:J,fieldSchemaMap:S,filter:_,forceFullValue:E,fullData:T,includeSchema:k,indexPath:Y,mockRSCs:P,omitParents:O,operation:I,parentIndexPath:R,parentPath:L,parentPermissions:M,parentSchemaPath:$,passesCondition:Q,path:X,preferences:B,previousFormState:j,renderAllFields:U,renderFieldFn:F,req:z,schemaPath:Z,select:q,selectMode:V,skipConditionChecks:H,skipValidation:K,state:G}))}),await Promise.all(W)},O=async({id:e,clientFieldSchemaMap:d,collectionSlug:h,data:m={},documentData:g,fields:y,fieldSchemaMap:b,initialBlockData:v,mockRSCs:w,operation:x,permissions:_,preferences:E,previousFormState:T,renderAllFields:k,renderFieldFn:C,req:O,schemaPath:I,select:R,selectMode:D,skipValidation:L})=>{if(!d&&C&&console.warn("clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance"),y&&y.length){let $={},M={...m};await S({id:e,data:M,fields:y,locale:O.locale,req:O,select:R,selectMode:D,siblingData:M,user:O.user});let B=M;return g&&(B=g),await P({id:e,addErrorPathToParent:null,blockData:v,clientFieldSchemaMap:d,collectionSlug:h,data:M,fields:y,fieldSchemaMap:b,fullData:B,mockRSCs:w,operation:x,parentIndexPath:"",parentPassesCondition:!0,parentPath:"",parentSchemaPath:I,permissions:_,preferences:E,previousFormState:T,renderAllFields:k,renderFieldFn:C,req:O,select:R,selectMode:D,skipValidation:L,state:$}),$}return{}}},85103:(e,d,h)=>{"use strict";h.d(d,{s:()=>E});var m=h(26154),g=h(553),y=h(89075),b=h(89426),v=h(71707),w=h(53296),S=h(12276),x=h(80961),_=h(37601);let E=async e=>{let{collection:{config:d},depth:h,limit:E,overrideAccess:T,page:k,pagination:C=!0,populate:P,req:{fallbackLocale:O,locale:I,payload:R},req:D,select:L,showHiddenFields:$,sort:M,where:B}=e;try{let e;T||(e=await (0,m.A)({req:D},d.access.readVersions));let v=(0,x.c)(R.config,d,!0);await (0,y.d)({collectionConfig:d,overrideAccess:T,req:D,versionFields:v,where:B});let j=(0,g.m)(B,e),U=(0,S.Y)({fields:(0,x.c)(R.config,d,!0),forceSelect:(0,_.V)({select:d.forceSelect}),select:L,versions:!0}),F=await R.db.findVersions({collection:d.slug,limit:E??10,locale:I,page:k||1,pagination:C,req:D,select:U,sort:M,where:j}),z=F;return z.docs=await Promise.all(F.docs.map(async e=>{let h=e;if(h.version||(h.version={}),d.hooks?.beforeRead?.length)for(let e of d.hooks.beforeRead)h.version=await e({collection:d,context:D.context,doc:h.version,query:j,req:D})||h.version;return h})),z.docs=await Promise.all(z.docs.map(async e=>(e.version=await (0,b.v)({collection:d,context:D.context,depth:h,doc:e.version,draft:void 0,fallbackLocale:O,findMany:!0,global:null,locale:I,overrideAccess:T,populate:P,req:D,select:"object"==typeof U?.version?U.version:void 0,showHiddenFields:$}),e))),d.hooks.afterRead?.length&&(z.docs=await Promise.all(z.docs.map(async e=>{let h=e;for(let m of d.hooks.afterRead)h.version=await m({collection:d,context:D.context,doc:e.version,findMany:!0,query:j,req:D})||e.version;return h}))),z.docs=z.docs.map(e=>(0,w.A)(e)),z}catch(e){throw await (0,v.J)(D),e}}},85149:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ChecksumStream=void 0;let m=h(80621),g=h(27910);class y extends g.Duplex{constructor({expectedChecksum:e,checksum:d,source:h,checksumSourceLocation:g,base64Encoder:y}){var b,v;if(super(),"function"==typeof h.pipe)this.source=h;else throw Error(`@smithy/util-stream: unsupported source type ${null!=(v=null==(b=null==h?void 0:h.constructor)?void 0:b.name)?v:h} in ChecksumStream.`);this.base64Encoder=null!=y?y:m.toBase64,this.expectedChecksum=e,this.checksum=d,this.checksumSourceLocation=g,this.source.pipe(this)}_read(e){}_write(e,d,h){try{this.checksum.update(e),this.push(e)}catch(e){return h(e)}return h()}async _final(e){try{let d=await this.checksum.digest(),h=this.base64Encoder(d);if(this.expectedChecksum!==h)return e(Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${h}" in response header "${this.checksumSourceLocation}".`))}catch(d){return e(d)}return this.push(null),e()}}d.ChecksumStream=y},85183:(e,d,h)=>{"use strict";let m=h(4984),g=h(8984).action,y=h(94735),b=h(41893),v=b.beep,w=b.cursor,S=h(52838);class x extends y{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>void 0)).bind(this);let d=m.createInterface({input:this.in,escapeCodeTimeout:50});m.emitKeypressEvents(this.in,d),this.in.isTTY&&this.in.setRawMode(!0);let h=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,y=(e,d)=>{let m=g(d,h);!1===m?this._&&this._(e,d):"function"==typeof this[m]?this[m](d):this.bell()};this.close=()=>{this.out.write(w.show),this.in.removeListener("keypress",y),this.in.isTTY&&this.in.setRawMode(!1),d.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",y)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(v)}render(){this.onRender(S),this.firstRender&&(this.firstRender=!1)}}e.exports=x},85278:(e,d,h)=>{"use strict";h.d(d,{Y:()=>m});let m=e=>({canLoginWithEmail:!e||e.allowEmailLogin,canLoginWithUsername:!!e})},85455:(e,d,h)=>{"use strict";h.d(d,{A:()=>S});var m=h(43566),g=h(553);function y(e){return e?.createdAt&&e?.updatedAt}var b=h(53296),v=h(59783),w=h(37601);let S=async({accessResult:e,doc:d,entity:h,entityType:S,req:x,select:_})=>{let E,T,{locale:k}=x,C={and:[{"version._status":{equals:"draft"}}]};"collection"===S&&C.and.push({parent:{equals:d.id}}),y(d)&&C.and.push({or:[{updatedAt:{greater_than:d.updatedAt}},{latest:{equals:!0}}]}),(0,m.L)(e)&&(E=(0,v.D)(e));let P={collection:h.slug,global:h.slug,limit:1,locale:k,pagination:!1,req:x,select:(0,w.V)({select:_}),sort:"-updatedAt",where:(0,g.m)(C,E)},O=(T="global"===S?(await x.payload.db.findGlobalVersions(P)).docs:(await x.payload.db.findVersions(P)).docs)[0];return O?(O=(0,b.A)(O),"global"===S&&"globalType"in d&&(O.version.globalType=d.globalType),O.version||(O.version={}),O.version.id=d.id,O.version):d}},85486:(e,d,h)=>{"use strict";let m=h(56958),g={allowBooleanAttributes:!1,unpairedTags:[]};function y(e){return" "===e||"	"===e||"\n"===e||"\r"===e}function b(e,d){let h=d;for(;d<e.length;d++)if("?"==e[d]||" "==e[d]){let m=e.substr(h,d-h);if(d>5&&"xml"===m)return C("InvalidXml","XML declaration allowed only at the start of the document.",I(e,d));if("?"!=e[d]||">"!=e[d+1])continue;d++;break}return d}function v(e,d){if(e.length>d+5&&"-"===e[d+1]&&"-"===e[d+2]){for(d+=3;d<e.length;d++)if("-"===e[d]&&"-"===e[d+1]&&">"===e[d+2]){d+=2;break}}else if(e.length>d+8&&"D"===e[d+1]&&"O"===e[d+2]&&"C"===e[d+3]&&"T"===e[d+4]&&"Y"===e[d+5]&&"P"===e[d+6]&&"E"===e[d+7]){let h=1;for(d+=8;d<e.length;d++)if("<"===e[d])h++;else if(">"===e[d]&&0==--h)break}else if(e.length>d+9&&"["===e[d+1]&&"C"===e[d+2]&&"D"===e[d+3]&&"A"===e[d+4]&&"T"===e[d+5]&&"A"===e[d+6]&&"["===e[d+7]){for(d+=8;d<e.length;d++)if("]"===e[d]&&"]"===e[d+1]&&">"===e[d+2]){d+=2;break}}return d}d.validate=function(e,d){d=Object.assign({},g,d);let h=[],m=!1,w=!1;"\uFEFF"===e[0]&&(e=e.substr(1));for(let g=0;g<e.length;g++)if("<"===e[g]&&"?"===e[g+1]){if(g+=2,(g=b(e,g)).err)return g}else if("<"===e[g]){let S=g;if("!"===e[++g]){g=v(e,g);continue}{let _=!1;"/"===e[g]&&(_=!0,g++);let T="";for(;g<e.length&&">"!==e[g]&&" "!==e[g]&&"	"!==e[g]&&"\n"!==e[g]&&"\r"!==e[g];g++)T+=e[g];if("/"===(T=T.trim())[T.length-1]&&(T=T.substring(0,T.length-1),g--),!O(T)){let d;return C("InvalidTag",d=0===T.trim().length?"Invalid space after '<'.":"Tag '"+T+"' is an invalid name.",I(e,g))}let P=x(e,g);if(!1===P)return C("InvalidAttr","Attributes for '"+T+"' have open quote.",I(e,g));let R=P.value;if(g=P.index,"/"===R[R.length-1]){let h=g-R.length,y=E(R=R.substring(0,R.length-1),d);if(!0!==y)return C(y.err.code,y.err.msg,I(e,h+y.err.line));m=!0}else if(_)if(!P.tagClosed)return C("InvalidTag","Closing tag '"+T+"' doesn't have proper closing.",I(e,g));else{if(R.trim().length>0)return C("InvalidTag","Closing tag '"+T+"' can't have attributes or invalid starting.",I(e,S));if(0===h.length)return C("InvalidTag","Closing tag '"+T+"' has not been opened.",I(e,S));let d=h.pop();if(T!==d.tagName){let h=I(e,d.tagStartPos);return C("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+T+"'.",I(e,S))}0==h.length&&(w=!0)}else{let y=E(R,d);if(!0!==y)return C(y.err.code,y.err.msg,I(e,g-R.length+y.err.line));if(!0===w)return C("InvalidXml","Multiple possible root nodes found.",I(e,g));-1!==d.unpairedTags.indexOf(T)||h.push({tagName:T,tagStartPos:S}),m=!0}for(g++;g<e.length;g++)if("<"===e[g])if("!"===e[g+1]){g=v(e,++g);continue}else if("?"===e[g+1]){if((g=b(e,++g)).err)return g}else break;else if("&"===e[g]){let d=k(e,g);if(-1==d)return C("InvalidChar","char '&' is not expected.",I(e,g));g=d}else if(!0===w&&!y(e[g]))return C("InvalidXml","Extra text at the end",I(e,g));"<"===e[g]&&g--}}else{if(y(e[g]))continue;return C("InvalidChar","char '"+e[g]+"' is not expected.",I(e,g))}return m?1==h.length?C("InvalidTag","Unclosed tag '"+h[0].tagName+"'.",I(e,h[0].tagStartPos)):!(h.length>0)||C("InvalidXml","Invalid '"+JSON.stringify(h.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):C("InvalidXml","Start tag expected.",1)};let w='"',S="'";function x(e,d){let h="",m="",g=!1;for(;d<e.length;d++){if(e[d]===w||e[d]===S)""===m?m=e[d]:m!==e[d]||(m="");else if(">"===e[d]&&""===m){g=!0;break}h+=e[d]}return""===m&&{value:h,index:d,tagClosed:g}}let _=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function E(e,d){let h=m.getAllMatches(e,_),g={};for(let e=0;e<h.length;e++){if(0===h[e][1].length)return C("InvalidAttr","Attribute '"+h[e][2]+"' has no space in starting.",R(h[e]));if(void 0!==h[e][3]&&void 0===h[e][4])return C("InvalidAttr","Attribute '"+h[e][2]+"' is without value.",R(h[e]));if(void 0===h[e][3]&&!d.allowBooleanAttributes)return C("InvalidAttr","boolean attribute '"+h[e][2]+"' is not allowed.",R(h[e]));let m=h[e][2];if(!P(m))return C("InvalidAttr","Attribute '"+m+"' is an invalid name.",R(h[e]));if(g.hasOwnProperty(m))return C("InvalidAttr","Attribute '"+m+"' is repeated.",R(h[e]));g[m]=1}return!0}function T(e,d){let h=/\d/;for("x"===e[d]&&(d++,h=/[\da-fA-F]/);d<e.length;d++){if(";"===e[d])return d;if(!e[d].match(h))break}return -1}function k(e,d){if(";"===e[++d])return -1;if("#"===e[d])return T(e,++d);let h=0;for(;d<e.length;d++,h++)if(!e[d].match(/\w/)||!(h<20)){if(";"===e[d])break;return -1}return d}function C(e,d,h){return{err:{code:e,msg:d,line:h.line||h,col:h.col}}}function P(e){return m.isName(e)}function O(e){return m.isName(e)}function I(e,d){let h=e.substring(0,d).split(/\r?\n/);return{line:h.length,col:h[h.length-1].length+1}}function R(e){return e.startIndex+e[1].length}},85510:(e,d,h)=>{"use strict";h.d(d,{g:()=>k});var m=h(55511),g=h(13062),y=h(79551),b=h(77900),v=h(89554),w=h(19131),S=h(83552),x=h(67240),_=h(30433),E=h(71707),T=h(85278);let k=async e=>{let d=e.collection.config.auth.loginWithUsername,{data:h}=e,{canLoginWithEmail:k,canLoginWithUsername:C}=(0,T.Y)(d),P=k&&(e.data.email||"").toLowerCase().trim()||null,O="username"in h&&"string"==typeof h?.username?h.username.toLowerCase().trim():null,I=e;if(e.collection.config.auth.disableLocalStrategy)throw new w.c(e.req.t);if(!P&&!O)throw new v.L(`Missing ${d?"username":"email"}.`,g.h.BAD_REQUEST);try{let e=await (0,_.n)(I.req);if(I.collection.config.hooks?.beforeOperation?.length)for(let e of I.collection.config.hooks.beforeOperation)I=await e({args:I,collection:I.collection?.config,context:I.req.context,operation:"forgotPassword",req:I.req})||I;let{collection:{config:h},disableEmail:w,expiration:E,req:{payload:{config:T,email:R},payload:D},req:L}=I,$=m.randomBytes(20).toString("hex");if(!P&&!O)throw new v.L(`Missing ${d?"username":"email"}.`,g.h.BAD_REQUEST);let M={};k&&P?M={email:{equals:P}}:C&&O&&(M={username:{equals:O}});let B=await D.db.findOne({collection:h.slug,req:L,where:M});if(!B)return await (0,S.w)(I.req),null;let j=new Date(Date.now()+(h.auth?.forgotPassword?.expiration??E??36e5)).toISOString();if(B=await D.update({id:B.id,collection:h.slug,data:{resetPasswordExpiration:j,resetPasswordToken:$},req:L}),!w&&B.email){let e=new y.URL(L.url).protocol,d=null!==T.serverURL&&""!==T.serverURL?T.serverURL:`${e}//${L.headers.get("host")}`,m=(0,x.Q)({adminRoute:T.routes.admin,path:`${T.admin.routes.reset}/${$}`,serverURL:d}),g=`${L.t("authentication:youAreReceivingResetPassword")}
    <a href="${m}">${m}</a>
    ${L.t("authentication:youDidNotRequestPassword")}`;"function"==typeof h.auth.forgotPassword?.generateEmailHTML&&(g=await h.auth.forgotPassword.generateEmailHTML({req:L,token:$,user:B}));let b=L.t("authentication:resetYourPassword");"function"==typeof h.auth.forgotPassword?.generateEmailSubject&&(b=await h.auth.forgotPassword.generateEmailSubject({req:L,token:$,user:B})),await R.sendEmail({from:`"${R.defaultFromName}" <${R.defaultFromAddress}>`,html:g,subject:b,to:B.email})}if(h.hooks?.afterForgotPassword?.length)for(let e of h.hooks.afterForgotPassword)await e({args:I,collection:I.collection?.config,context:L.context});return $=await (0,b.E)({args:I,collection:I.collection?.config,operation:"forgotPassword",result:$}),e&&await (0,S.w)(L),$}catch(e){throw await (0,E.J)(I.req),e}}},85674:e=>{"use strict";var d=1e6;e.exports=function(e){var h,m,g,y,b,v,w=e.readInt32BE(0),S=e.readUInt32BE(4),x="";w<0&&(w=~w+(0===S),S=~S+1>>>0,x="-");var _="";if(h=w%d,w=w/d>>>0,S=(m=0x100000000*h+S)/d>>>0,g=""+(m-d*S),0===S&&0===w)return x+g+_;for(v=0,y="",b=6-g.length;v<b;v++)y+="0";if(_=y+g+_,h=w%d,w=w/d>>>0,S=(m=0x100000000*h+S)/d>>>0,g=""+(m-d*S),0===S&&0===w)return x+g+_;for(v=0,y="",b=6-g.length;v<b;v++)y+="0";if(_=y+g+_,h=w%d,w=w/d>>>0,S=(m=0x100000000*h+S)/d>>>0,g=""+(m-d*S),0===S&&0===w)return x+g+_;for(v=0,y="",b=6-g.length;v<b;v++)y+="0";return _=y+g+_,x+(g=""+(m=0x100000000*(h=w%d)+S)%d)+_}},85720:(e,d,h)=>{"use strict";h.d(d,{vK:()=>v});var m=h(96543);let g="content-length";function y(e){return d=>async h=>{let y=h.request;if(m.HttpRequest.isInstance(y)){let{body:d,headers:h}=y;if(d&&-1===Object.keys(h).map(e=>e.toLowerCase()).indexOf(g))try{let h=e(d);y.headers={...y.headers,[g]:String(h)}}catch(e){}}return d({...h,request:y})}}let b={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},v=e=>({applyToStack:d=>{d.add(y(e.bodyLengthChecker),b)}})},85901:(e,d,h)=>{"use strict";h.d(d,{S:()=>b});var m=h(96543),g=h(14634),y=h(96573);class b extends y.f2{async sign(e,d,h){if(!m.HttpRequest.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:b,signer:v,signingRegion:w,signingRegionSet:S,signingName:x}=await (0,y.pz)(h),_=(await b.sigv4aSigningRegionSet?.()??S??[w]).join(",");return await v.sign(e,{signingDate:(0,g.C)(b.systemClockOffset),signingRegion:_,signingService:x})}}},86292:(e,d,h)=>{"use strict";function m({field:e,index:d,parentIndexPath:h,parentPath:m,parentSchemaPath:g}){if("name"in e)return{indexPath:`${h?h+"-":""}${d}`,path:`${m?m+".":""}${e.name}`,schemaPath:`${g?g+".":""}${e.name}`};let y=`_index-${h?h+"-":""}${d}`;return{indexPath:`${h?h+"-":""}${d}`,path:`${m?m+".":""}${y}`,schemaPath:`${g?g+".":""}${y}`}}function g({field:e,index:d,parentIndexPath:h,parentPath:m,parentSchemaPath:g}){let y=m.split("."),b=y[y.length-1].startsWith("_index-"),v=b?y.slice(0,-1).join("."):m,w=b?v:m;if("name"in e)return{indexPath:"",path:`${w?w+".":""}${e.name}`,schemaPath:`${g?g+".":""}${e.name}`};let S=`_index-${h?h+"-":""}${d}`;return{indexPath:`${h?h+"-":""}${d}`,path:`${w?w+".":""}${S}`,schemaPath:`${!b&&g?g+".":""}${S}`}}h.d(d,{I:()=>g,Z:()=>m})},86404:(e,d,h)=>{"use strict";h.d(d,{m:()=>y});var m=h(70120);let g=m.default||m,y=(e,d)=>{if("text"===d&&e){if(["object","string"].includes(typeof e)){let d=g.isValid(e);return"string"==typeof e||d}return!1}return!("number"!=typeof e||Number.isNaN(e))||("ObjectID"===d?g.isValid(String(e)):void 0)}},87072:(e,d,h)=>{"use strict";h.d(d,{A:()=>m});let m=({req:{user:e}})=>!!e},87143:(e,d,h)=>{"use strict";h.d(d,{n:()=>g});var m=h(29021);let g=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,m.lstatSync)(e.path).size;else if("number"==typeof e.fd)return(0,m.fstatSync)(e.fd).size;throw Error(`Body Length computation failed for ${e}`)}},87615:(e,d,h)=>{"use strict";h.d(d,{Y7:()=>y});let m=()=>(e,d)=>async h=>{try{let m=await e(h),{clientName:g,commandName:y,logger:b,dynamoDbDocumentClientOptions:v={}}=d,{overrideInputFilterSensitiveLog:w,overrideOutputFilterSensitiveLog:S}=v,x=w??d.inputFilterSensitiveLog,_=S??d.outputFilterSensitiveLog,{$metadata:E,...T}=m.output;return b?.info?.({clientName:g,commandName:y,input:x(h.input),output:_(T),metadata:E}),m}catch(w){let{clientName:e,commandName:m,logger:g,dynamoDbDocumentClientOptions:y={}}=d,{overrideInputFilterSensitiveLog:b}=y,v=b??d.inputFilterSensitiveLog;throw g?.error?.({clientName:e,commandName:m,input:v(h.input),error:w,metadata:w.$metadata}),w}},g={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},y=e=>({applyToStack:e=>{e.add(m(),g)}})},87679:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.createBufferedReadable=void 0,d.createBufferedReadableStream=g,d.merge=y,d.flush=b,d.sizeOf=v,d.modeOf=w;let m=h(32918);function g(e,d,h){let g=e.getReader(),S=!1,x=0,_=["",new m.ByteArrayCollector(e=>new Uint8Array(e))],E=-1,T=async e=>{let{value:m,done:k}=await g.read(),C=m;if(k){if(-1!==E){let d=b(_,E);v(d)>0&&e.enqueue(d)}e.close()}else{let m=w(C,!1);if(E!==m&&(E>=0&&e.enqueue(b(_,E)),E=m),-1===E)return void e.enqueue(C);let g=v(C);x+=g;let k=v(_[E]);if(g>=d&&0===k)e.enqueue(C);else{let m=y(_,E,C);!S&&x>2*d&&(S=!0,null==h||h.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${d}, automatically buffering.`)),m>=d?e.enqueue(b(_,E)):await T(e)}}};return new ReadableStream({pull:T})}function y(e,d,h){switch(d){case 0:return e[0]+=h,v(e[0]);case 1:case 2:return e[d].push(h),v(e[d])}}function b(e,d){switch(d){case 0:let h=e[0];return e[0]="",h;case 1:case 2:return e[d].flush()}throw Error(`@smithy/util-stream - invalid index ${d} given to flush()`)}function v(e){var d,h;return null!=(h=null!=(d=null==e?void 0:e.byteLength)?d:null==e?void 0:e.length)?h:0}function w(e,d=!0){return d&&"undefined"!=typeof Buffer&&e instanceof Buffer?2:e instanceof Uint8Array?1:"string"==typeof e?0:-1}d.createBufferedReadable=g},87771:(e,d,h)=>{var m=h(13421);e.exports=function e(e){return m(e).replace(/[\W_]+(.|$)/g,function(e,d){return d?" "+d:""}).trim()}},87810:(e,d,h)=>{"use strict";h.d(d,{O:()=>w});var m=h(83552),g=h(81322),y=h(30433),b=h(71707),v=h(91182);let w=async e=>{let{globalConfig:d,req:h}=e,w=["read","update"];d.versions&&w.push("readVersions");try{let e=await (0,y.n)(h),b=await (0,g.U)({type:"global",blockPolicies:{},entity:d,operations:w,req:h});e&&await (0,m.w)(h);let S=(0,v.yD)({globals:{[d.slug]:b}});return S?.globals?.[d.slug]}catch(e){throw await (0,b.J)(h),e}}},87829:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.fromBase64=void 0;let m=h(15060),g=/^[A-Za-z0-9+/]*={0,2}$/;d.fromBase64=e=>{if(3*e.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!g.exec(e))throw TypeError("Invalid base64 string.");let d=(0,m.fromString)(e,"base64");return new Uint8Array(d.buffer,d.byteOffset,d.byteLength)}},88007:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Writer=void 0;class h{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){let d=this.buffer,h=d.length+(d.length>>1)+e;this.buffer=Buffer.allocUnsafe(h),d.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){let d=Buffer.byteLength(e);this.ensure(d+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=d}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){let d=Buffer.byteLength(e);return this.ensure(d),this.buffer.write(e,this.offset),this.offset+=d,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let d=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(d,this.headerPosition+1)}return this.buffer.slice(5*!e,this.offset)}flush(e){let d=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),d}}d.Writer=h},88256:(e,d,h)=>{"use strict";h.d(d,{Q:()=>g});var m=h(99581);function g(e){return!(0,m.yd)(e)&&"object"==typeof e&&null!==e&&!(e instanceof RegExp)&&!(e instanceof Date)}},88264:(e,d,h)=>{"use strict";e.exports=g;let m=h(813);function g(e){let d=new Date(e);return m(d)?d:d=new Date(+e)}},88358:(e,d,h)=>{e.exports.getStream=function(e){let d=h(91645);if("function"==typeof d.Socket)return new d.Socket;{let{CloudflareSocket:d}=h(9085);return new d(e)}},e.exports.getSecureStream=function(e){var d=h(34631);return d.connect?d.connect(e):(e.socket.startTls(e),e.socket)}},88399:(e,d,h)=>{"use strict";h.d(d,{c:()=>C});var m=h(13062),g=h(26154),y=h(43566),b=h(553),v=h(89554),w=h(14603),S=h(19131),x=h(40598),_=h(89426),E=h(71707),T=h(12276),k=h(59587);let C=async e=>{let{id:d,collection:{config:h},depth:C,draft:P,overrideAccess:O=!1,populate:I,req:R,req:{fallbackLocale:D,locale:L,payload:$},select:M,showHiddenFields:B}=e;try{if(!d)throw new v.L("Missing ID of version to restore.",m.h.BAD_REQUEST);let{docs:e}=await R.payload.db.findVersions({collection:h.slug,limit:1,locale:L,pagination:!1,req:R,where:{id:{equals:d}}}),[E]=e;if(!E)throw new w.M(R.t);let j=E.parent,U=!!O||await (0,g.A)({id:j,req:R},h.access.update),F=(0,y.L)(U),z={collection:h.slug,locale:L,req:R,where:(0,b.m)({id:{equals:j}},U)},q=await R.payload.db.findOne(z);if(!q&&!F)throw new w.M(R.t);if(!q&&F)throw new S.c(R.t);let V=await (0,k.a)({id:j,config:h,payload:$,query:z,req:R}),H=(0,T.Y)({fields:h.flattenedFields,forceSelect:h.forceSelect,select:M}),K=await R.payload.db.updateOne({id:j,collection:h.slug,data:E.version,req:R,select:H}),G={...V};if(delete G.id,await $.db.createVersion({autosave:!1,collectionSlug:h.slug,createdAt:G.createdAt,parent:j,req:R,updatedAt:new Date().toISOString(),versionData:P?{...E.version,_status:"draft"}:E.version}),K=await (0,_.v)({collection:h,context:R.context,depth:C,doc:K,draft:void 0,fallbackLocale:D,global:null,locale:L,overrideAccess:O,populate:I,req:R,select:H,showHiddenFields:B}),h.hooks?.afterRead?.length)for(let e of h.hooks.afterRead)K=await e({collection:h,context:R.context,doc:K,req:R})||K;if(K=await (0,x.t)({collection:h,context:R.context,data:K,doc:K,global:null,operation:"update",previousDoc:V,req:R}),h.hooks?.afterChange?.length)for(let e of h.hooks.afterChange)K=await e({collection:h,context:R.context,doc:K,operation:"update",previousDoc:V,req:R})||K;return K}catch(e){throw await (0,E.J)(R),e}}},88561:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(11622),g=h(52046),y=h(9828),b=h(31934);d.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,g._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:d,schema:h,parentSchema:v,data:w,errsCount:S,it:x}=e;if(!S)throw Error("ajv implementation error");let{allErrors:_,opts:E}=x;if(x.props=!0,"all"!==E.removeAdditional&&(0,b.alwaysValidSchema)(x,h))return;let T=(0,m.allSchemaProperties)(v.properties),k=(0,m.allSchemaProperties)(v.patternProperties);function C(h){let y;if(T.length>8){let e=(0,b.schemaRefOrVal)(x,v.properties,"properties");y=(0,m.isOwnProperty)(d,e,h)}else y=T.length?(0,g.or)(...T.map(e=>(0,g._)`${h} === ${e}`)):g.nil;return k.length&&(y=(0,g.or)(y,...k.map(d=>(0,g._)`${(0,m.usePattern)(e,d)}.test(${h})`))),(0,g.not)(y)}function P(e){d.code((0,g._)`delete ${w}[${e}]`)}function O(m){if("all"===E.removeAdditional||E.removeAdditional&&!1===h)return void P(m);if(!1===h){e.setParams({additionalProperty:m}),e.error(),_||d.break();return}if("object"==typeof h&&!(0,b.alwaysValidSchema)(x,h)){let h=d.name("valid");"failing"===E.removeAdditional?(I(m,h,!1),d.if((0,g.not)(h),()=>{e.reset(),P(m)})):(I(m,h),_||d.if((0,g.not)(h),()=>d.break()))}}function I(d,h,m){let g={keyword:"additionalProperties",dataProp:d,dataPropType:b.Type.Str};!1===m&&Object.assign(g,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(g,h)}(function e(){d.forIn("key",w,e=>{T.length||k.length?d.if(C(e),()=>O(e)):O(e)})})(),e.ok((0,g._)`${S} === ${y.default.errors}`)}}},88570:(e,d,h)=>{"use strict";h.d(d,{c:()=>x});var m=h(26154),g=h(14603),y=h(40598),b=h(89426),v=h(83552),w=h(30433),S=h(71707);let x=async e=>{let{id:d,depth:h,draft:x,globalConfig:_,overrideAccess:E,populate:T,req:{fallbackLocale:k,locale:C,payload:P},req:O,showHiddenFields:I}=e;try{let e=await (0,w.n)(O);E||await (0,m.A)({req:O},_.access.update);let{docs:S}=await P.db.findGlobalVersions({global:_.slug,limit:1,req:O,where:{id:{equals:d}}});if(!S||0===S.length)throw new g.M(O.t);let R=S[0];R.version.globalType=_.slug,x&&(R.version._status="draft");let D=await P.findGlobal({slug:_.slug,depth:h,req:O}),L=await P.db.findGlobal({slug:_.slug,req:O}),$=R.version;if(L){$=await P.db.updateGlobal({slug:_.slug,data:$,req:O});let e=new Date().toISOString();$=await P.db.createGlobalVersion({autosave:!1,createdAt:$.createdAt?new Date($.createdAt).toISOString():e,globalSlug:_.slug,parent:d,req:O,updatedAt:x?e:new Date($.updatedAt).toISOString(),versionData:$})}else $=await P.db.createGlobal({slug:_.slug,data:$,req:O});if($=await (0,b.v)({collection:null,context:O.context,depth:h,doc:$,draft:void 0,fallbackLocale:k,global:_,locale:C,overrideAccess:E,populate:T,req:O,showHiddenFields:I}),_.hooks?.afterRead?.length)for(let e of _.hooks.afterRead)$=await e({context:O.context,doc:$,global:_,req:O})||$;if($=await (0,y.t)({collection:null,context:O.context,data:$,doc:$,global:_,operation:"update",previousDoc:D,req:O}),_.hooks?.afterChange?.length)for(let e of _.hooks.afterChange)$=await e({context:O.context,doc:$,global:_,previousDoc:D,req:O})||$;return e&&await (0,v.w)(O),$}catch(e){throw await (0,S.J)(O),e}}},88683:(e,d,h)=>{"use strict";let m=h(33873),g="application/octet-stream",y="bin",b=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/geo+json","geojson"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),v=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);e.exports={detectMimeType(e){if(!e)return g;let d=m.parse(e),h=(d.ext.substr(1)||d.name||"").split("?").shift().trim().toLowerCase(),y=g;return(v.has(h)&&(y=v.get(h)),Array.isArray(y))?y[0]:y},detectExtension(e){if(!e)return y;let d=(e||"").toLowerCase().trim().split("/"),h=d.shift().trim(),m=d.join("/").trim();if(b.has(h+"/"+m)){let e=b.get(h+"/"+m);return Array.isArray(e)?e[0]:e}return"text"===h?"txt":"bin"}}},88838:(e,d,h)=>{"use strict";e.exports=b;let{isMainThread:m}=h(73566),g=h(65429),y=h(80935);function b(e){let d=new g(e);return d.on("error",h),process.env.NODE_V8_COVERAGE||e.sync||!m||v(d),d;function h(e){if("EPIPE"===e.code){d.write=y,d.end=y,d.flushSync=y,d.destroy=y;return}d.removeListener("error",h)}}function v(e){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let d=h(93783);d.register(e,w),e.on("close",function(){d.unregister(e)})}}function w(e,d){e.destroyed||("beforeExit"===d?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}},88904:e=>{"use strict";function d(e){let d,h,g,y=!1,b="text",v=[],w={address:[],comment:[],group:[],text:[]};for(h=0,g=e.length;h<g;h++){let d=e[h],m=h?e[h-1]:null;if("operator"===d.type)switch(d.value){case"<":b="address";break;case"(":b="comment";break;case":":b="group",y=!0;break;default:b="text"}else d.value&&("address"===b&&(d.value=d.value.replace(/^[^<]*<\s*/,"")),m&&m.noBreak&&w[b].length?w[b][w[b].length-1]+=d.value:w[b].push(d.value))}if(!w.text.length&&w.comment.length&&(w.text=w.comment,w.comment=[]),y)w.text=w.text.join(" "),v.push({name:w.text||d&&d.name,group:w.group.length?m(w.group.join(",")):[]});else{if(!w.address.length&&w.text.length){for(h=w.text.length-1;h>=0;h--)if(w.text[h].match(/^[^@\s]+@[^@\s]+$/)){w.address=w.text.splice(h,1);break}let e=function(e){return w.address.length?e:(w.address=[e.trim()]," ")};if(!w.address.length)for(h=w.text.length-1;h>=0&&(w.text[h]=w.text[h].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,e).trim(),!w.address.length);h--);}if(!w.text.length&&w.comment.length&&(w.text=w.comment,w.comment=[]),w.address.length>1&&(w.text=w.text.concat(w.address.splice(1))),w.text=w.text.join(" "),w.address=w.address.join(" "),!w.address&&y)return[];(d={address:w.address||w.text||"",name:w.text||w.address||""}).address===d.name&&((d.address||"").match(/@/)?d.name="":d.address=""),v.push(d)}return v}class h{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e=[];for(let e=0,d=this.str.length;e<d;e++){let h=this.str.charAt(e),m=e<d-1?this.str.charAt(e+1):null;this.checkChar(h,m)}return this.list.forEach(d=>{d.value=(d.value||"").toString().trim(),d.value&&e.push(d)}),e}checkChar(e,d){if(this.escaped);else if(e===this.operatorExpecting){this.node={type:"operator",value:e},d&&![" ","	","\r","\n",",",";"].includes(d)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&"\\"===e){this.escaped=!0;return}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),"\n"===e&&(e=" "),(e.charCodeAt(0)>=33||[" ","	"].includes(e))&&(this.node.value+=e),this.escaped=!1}}function m(e,m){m=m||{};let g=new h(e).tokenize(),y=[],b=[],v=[];if(g.forEach(e=>{"operator"===e.type&&(","===e.value||";"===e.value)?(b.length&&y.push(b),b=[]):b.push(e)}),b.length&&y.push(b),y.forEach(e=>{(e=d(e)).length&&(v=v.concat(e))}),m.flatten){let e=[],d=h=>{h.forEach(h=>{if(h.group)return d(h.group);e.push(h)})};return d(v),e}return v}e.exports=m},89075:(e,d,h)=>{"use strict";h.d(d,{d:()=>_});var m=h(32034),g=h(56251),y=h(74290),b=h(81322),v=h(62856),w=h(89554);function S({collectionSlug:e,fields:d,globalSlug:h,incomingPath:m,locale:g,overrideAccess:b=!1,parentIsLocalized:v,payload:x}){let _=m.split("."),E=x.config.localization,T=[{collectionSlug:e,complete:!1,field:void 0,fields:d,globalSlug:h,invalid:!1,parentIsLocalized:v,path:""}];for(let e=0;e<_.length;e+=1){let d=_[e],m=T.find(({complete:e})=>!e);if(m){let k,C,{path:P}=m,O=P?`${P}.${d}`:d,I=v;if(m?.field?.type==="blocks")if("blockType"===d)C={name:"blockType",type:"text"};else for(let e of m.field.blockReferences??m.field.blocks){let h;if(C=(h="string"==typeof e?x?.blocks[e]:e).flattenedFields.find(e=>e.name===d))break}else k=m?.field&&"flattenedFields"in m.field?m.field.flattenedFields:m.fields,I=v||m.field?.localized,C=k.find(e=>e.name===d);if(m.field=C,"globalType"===O&&h)return m.path=O,m.complete=!0,m.field={name:"globalType",type:"text"},T;if("relationTo"===O)return m.path=O,m.complete=!0,m.field={name:"relationTo",type:"select",options:Object.keys(x.collections)},T;if(!C&&"id"===O&&e===_.length-1)return m.path=O,m.field={name:"id",type:x.db.defaultIDType},m.complete=!0,T;if(C){"hidden"in C&&C.hidden&&!b&&(m.invalid=!0);let d=_[e+1],v=E&&E.localeCodes.includes(d);switch(v?(e+=1,O=`${O}.${d}`):E&&(0,y.Cd)({field:C,parentIsLocalized:I})&&(O=`${O}.${g}`),C.type){case"join":case"relationship":case"upload":if("join"!==C.type&&"string"!=typeof C.relationTo){let e=["relationTo","value"].includes(_[_.length-1])||1===_.length||2===_.length&&"version"===_[0];if(m.path=_.join("."),!e)return m.invalid=!0,T;m.complete=!0}else{m.complete=!0,m.path=O;let d=_.slice(v?e+2:e+1).join(".");if(d){let e;if("join"===C.type){if(Array.isArray(C.collection))throw new w.L("Not supported");e=x.collections[C.collection].config}else e=x.collections[C.relationTo].config;T=[...T,...S({collectionSlug:e.slug,fields:e.flattenedFields,globalSlug:h,incomingPath:d,locale:g,parentIsLocalized:!1,payload:x})]}return T}break;case"json":case"richText":{let d=_.slice(e+1).join(".");return m.complete=!0,m.path=d?`${O}.${d}`:O,T}default:e+1===_.length&&(m.complete=!0),m.path=O}}else{m.invalid=!0,m.path=O;break}}}return T}async function x({collectionConfig:e,constraint:d,errors:h,fields:m,globalConfig:g,operator:w,overrideAccess:x,parentIsLocalized:E,path:T,policies:k,polymorphicJoin:C,req:P,val:O,versionFields:I}){let R;R="_id"===T?"id":T.replace(/__/g,".");let D=[],{slug:L}=e||g,$={};g&&!k.globals[L]&&(k.globals[L]=await (0,b.U)({type:"global",blockPolicies:$,entity:g,operations:["read"],req:P})),"id"!==R&&(D=S({collectionSlug:e?.slug,fields:m,globalSlug:g?.slug,incomingPath:R,locale:P.locale,overrideAccess:x,parentIsLocalized:E,payload:P.payload}));let M=[];if(D.at(-1)?.path==="id"){let e=D.at(-2)?.field;e&&("relationship"===e.type||"upload"===e.type)&&"string"==typeof e.relationTo&&D.pop()}M.push(...D.map(async({collectionSlug:m,field:S,invalid:E,path:R},L)=>{if(E)return void h.push({path:R});if("virtual"in S&&S.virtual&&(!0===S.virtual?h.push({path:R}):(d[`${S.virtual}`]=d[R],delete d[R])),!C||"relationTo"!==R){if(!x&&(0,y.Z7)(S)){let d;m&&(k.collections[m]||(k.collections[m]=await (0,b.U)({type:"collection",blockPolicies:$,entity:P.payload.collections[m].config,operations:["read"],req:(0,v.A)(P,"transactionID")})),["hash","salt"].includes(T)&&e.auth&&!e.auth?.disableLocalStrategy&&h.push({path:T}));let y=R;R.endsWith(`.${P.locale}`)&&(y=R.slice(0,-(P.locale.length+1))),("relationship"===S.type||"upload"===S.type)&&Array.isArray(S.relationTo)&&(y=y.replace(".value",""));let w=g?"globals":"collections",x=m||g.slug,_=y.split(".");I?(d=k[w][x],("parent"===_[0]||"version"===_[0])&&_.shift()):d=k[w][x].fields,_.forEach(e=>{d[e]&&("fields"in d[e]?d=d[e].fields:("blocks"in d[e]||d[e],d=d[e]))}),d?.read?.permission||h.push({path:y})}L>1&&D.slice(1).reverse().forEach(({collectionSlug:e,path:d},m)=>{0===m&&M.push(_({collectionConfig:P.payload.collections[e].config,errors:h,globalConfig:void 0,overrideAccess:x,policies:k,req:P,where:{[d]:{[w]:O}}}))})}})),await Promise.all(M)}async function _({collectionConfig:e,errors:d=[],globalConfig:h,overrideAccess:y,policies:b={collections:{},globals:{}},polymorphicJoin:v,req:w,versionFields:S,where:E}){let T=S||(h||e).flattenedFields;if("object"==typeof E){let k=[];for(let m in E){let C=E[m];if(("and"===m||"or"===m)&&Array.isArray(C))for(let m of C)e?k.push(_({collectionConfig:e,errors:d,overrideAccess:y,policies:b,req:w,versionFields:S,where:m})):k.push(_({errors:d,globalConfig:h,overrideAccess:y,policies:b,req:w,versionFields:S,where:m}));else if(!Array.isArray(C))for(let _ in C){let P=C[_];g.L.has(_)&&k.push(x({collectionConfig:e,constraint:E,errors:d,fields:T,globalConfig:h,operator:_,overrideAccess:y,path:m,policies:b,polymorphicJoin:v,req:w,val:P,versionFields:S}))}}if(await Promise.all(k),d.length>0)throw new m.l(d)}}},89157:(e,d,h)=>{"use strict";h.d(d,{p:()=>y});var m=h(9593);let g={Bearer:({headers:e})=>{let d=e.get("Authorization");return d?.startsWith("Bearer ")?d.replace("Bearer ",""):null},cookie:({headers:e,payload:d})=>{let h=e.get("Origin"),g=(0,m.J)(e),y=`${d.config.cookiePrefix}-token`,b=g.get(y);return b&&(!h||0===d.config.csrf.length||d.config.csrf.indexOf(h)>-1)?b:null},JWT:({headers:e})=>{let d=e.get("Authorization");return d?.startsWith("JWT ")?d.replace("JWT ",""):null}},y=e=>{let{headers:d,payload:h}=e;for(let e of h.config.auth.jwtOrder){let m=g[e]({headers:d,payload:h});if(m)return m}return null}},89426:(e,d,h)=>{"use strict";h.d(d,{v:()=>y});var m=h(69548),g=h(43030);async function y(e){let{collection:d,context:h,currentDepth:y,depth:b,doc:v,draft:w,fallbackLocale:S,findMany:x,flattenLocales:_=!0,global:E,locale:T,overrideAccess:k,populate:C,req:P,select:O,showHiddenFields:I}=e,R=[],D=[],L=b||0===b?parseInt(String(b),10):P.payload.config.defaultDepth;L>P.payload.config.maxDepth&&(L=P.payload.config.maxDepth);let $=y||1;(0,g.m)({collection:d,context:h,currentDepth:$,depth:L,doc:v,draft:w,fallbackLocale:S,fieldPromises:R,fields:d?.fields||E?.fields,findMany:x,flattenLocales:_,global:E,locale:T,overrideAccess:k,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",populate:C,populationPromises:D,req:P,select:O,selectMode:O?(0,m.a)(O):void 0,showHiddenFields:I,siblingDoc:v});let M=0;for(;R.length>0||D.length>0;){let e=R.splice(0,R.length),d=D.splice(0,D.length);if(await Promise.all(e),await Promise.all(d),++M>=100)throw Error("Infinite afterRead promise loop detected. A hook is likely adding field promises in an infinitely recursive way.")}return v}},89554:(e,d,h)=>{"use strict";h.d(d,{L:()=>b,i:()=>g});var m=h(13062);let g="APIError";class y extends Error{data;isOperational;isPublic;status;constructor(e,d,h,m){super(e,{cause:h}),g=this.constructor.name,this.name=this.constructor.name,this.message=e,this.status=d,this.data=h,this.isPublic=m,this.isOperational=!0,Error.captureStackTrace(this,this.constructor)}}class b extends y{constructor(e,d=m.h.INTERNAL_SERVER_ERROR,h=null,g=!1){super(e,d,h,g)}}},89641:(e,d,h)=>{"use strict";h.d(d,{M:()=>S});var m=h(74021);m.lF;let g=m.D4;var y=h(18864),b=h(83520),v=h(26900);function w(e){let d,h;if("string"!=typeof e)throw new v.Dp("JWTs must use Compact JWS serialization, JWT must be a string");let{1:m,length:w}=e.split(".");if(5===w)throw new v.Dp("Only JWTs using Compact JWS serialization can be decoded");if(3!==w)throw new v.Dp("Invalid JWT");if(!m)throw new v.Dp("JWTs must contain a payload");try{d=g(m)}catch{throw new v.Dp("Failed to base64url decode the payload")}try{h=JSON.parse(y.D0.decode(d))}catch{throw new v.Dp("Failed to parse the decoded payload as JSON")}if(!(0,b.A)(h))throw new v.Dp("Invalid JWT Claims Set");return h}let S=async e=>{let{collection:d,currentToken:h,req:m}=e,g={user:null};if(m.user){let{pathname:y}=m,b=y===`/api${m.payload.config.routes.graphQL}`,v=await m.payload.findByID({id:m.user.id,collection:d.config.slug,depth:b?0:d.config.auth.depth,overrideAccess:!1,req:m,showHiddenFields:!1});if(v&&(v.collection=d.config.slug,v._strategy=m.user._strategy),m.user.collection!==d.config.slug)return{user:null};for(let h of d.config.hooks.me){let d=await h({args:e,user:v});if(d){g.user=d.user,g.exp=d.exp;break}}if(g.collection=m.user.collection,g.strategy=m.user._strategy,!g.user&&(g.user=v,h)){let e=w(h);e&&(g.exp=e.exp),d.config.auth.removeTokenFromResponses||(g.token=h)}}if(d.config.hooks?.afterMe?.length)for(let e of d.config.hooks.afterMe)g=await e({collection:d?.config,context:m.context,req:m,response:g})||g;return g}},89779:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getData=d.KeywordCxt=d.validateFunctionCode=void 0;let m=h(92596),g=h(5127),y=h(95698),b=h(5127),v=h(55393),w=h(5212),S=h(80494),x=h(52046),_=h(9828),E=h(48395),T=h(31934),k=h(56393);function C({gen:e,validateName:d,schema:h,schemaEnv:m,opts:g},y){g.code.es5?e.func(d,(0,x._)`${_.default.data}, ${_.default.valCxt}`,m.$async,()=>{e.code((0,x._)`"use strict"; ${D(h,g)}`),O(e,g),e.code(y)}):e.func(d,(0,x._)`${_.default.data}, ${P(g)}`,m.$async,()=>e.code(D(h,g)).code(y))}function P(e){return(0,x._)`{${_.default.instancePath}="", ${_.default.parentData}, ${_.default.parentDataProperty}, ${_.default.rootData}=${_.default.data}${e.dynamicRef?(0,x._)`, ${_.default.dynamicAnchors}={}`:x.nil}}={}`}function O(e,d){e.if(_.default.valCxt,()=>{e.var(_.default.instancePath,(0,x._)`${_.default.valCxt}.${_.default.instancePath}`),e.var(_.default.parentData,(0,x._)`${_.default.valCxt}.${_.default.parentData}`),e.var(_.default.parentDataProperty,(0,x._)`${_.default.valCxt}.${_.default.parentDataProperty}`),e.var(_.default.rootData,(0,x._)`${_.default.valCxt}.${_.default.rootData}`),d.dynamicRef&&e.var(_.default.dynamicAnchors,(0,x._)`${_.default.valCxt}.${_.default.dynamicAnchors}`)},()=>{e.var(_.default.instancePath,(0,x._)`""`),e.var(_.default.parentData,(0,x._)`undefined`),e.var(_.default.parentDataProperty,(0,x._)`undefined`),e.var(_.default.rootData,_.default.data),d.dynamicRef&&e.var(_.default.dynamicAnchors,(0,x._)`{}`)})}function I(e){let{schema:d,opts:h,gen:m}=e;C(e,()=>{h.$comment&&d.$comment&&H(e),z(e),m.let(_.default.vErrors,null),m.let(_.default.errors,0),h.unevaluated&&R(e),U(e),K(e)})}function R(e){let{gen:d,validateName:h}=e;e.evaluated=d.const("evaluated",(0,x._)`${h}.evaluated`),d.if((0,x._)`${e.evaluated}.dynamicProps`,()=>d.assign((0,x._)`${e.evaluated}.props`,(0,x._)`undefined`)),d.if((0,x._)`${e.evaluated}.dynamicItems`,()=>d.assign((0,x._)`${e.evaluated}.items`,(0,x._)`undefined`))}function D(e,d){let h="object"==typeof e&&e[d.schemaId];return h&&(d.code.source||d.code.process)?(0,x._)`/*# sourceURL=${h} */`:x.nil}function L(e,d){if(M(e)&&(j(e),$(e)))return void B(e,d);(0,m.boolOrEmptySchema)(e,d)}function $({schema:e,self:d}){if("boolean"==typeof e)return!e;for(let h in e)if(d.RULES.all[h])return!0;return!1}function M(e){return"boolean"!=typeof e.schema}function B(e,d){let{schema:h,gen:m,opts:g}=e;g.$comment&&h.$comment&&H(e),q(e),V(e);let y=m.const("_errs",_.default.errors);U(e,y),m.var(d,(0,x._)`${y} === ${_.default.errors}`)}function j(e){(0,T.checkUnknownRules)(e),F(e)}function U(e,d){if(e.opts.jtd)return W(e,[],!1,d);let h=(0,g.getSchemaTypes)(e.schema),m=(0,g.coerceAndCheckDataType)(e,h);W(e,h,!m,d)}function F(e){let{schema:d,errSchemaPath:h,opts:m,self:g}=e;d.$ref&&m.ignoreKeywordsWithRef&&(0,T.schemaHasRulesButRef)(d,g.RULES)&&g.logger.warn(`$ref: keywords ignored in schema at path "${h}"`)}function z(e){let{schema:d,opts:h}=e;void 0!==d.default&&h.useDefaults&&h.strictSchema&&(0,T.checkStrictMode)(e,"default is ignored in the schema root")}function q(e){let d=e.schema[e.opts.schemaId];d&&(e.baseId=(0,E.resolveUrl)(e.opts.uriResolver,e.baseId,d))}function V(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}function H({gen:e,schemaEnv:d,schema:h,errSchemaPath:m,opts:g}){let y=h.$comment;if(!0===g.$comment)e.code((0,x._)`${_.default.self}.logger.log(${y})`);else if("function"==typeof g.$comment){let h=(0,x.str)`${m}/$comment`,g=e.scopeValue("root",{ref:d.root});e.code((0,x._)`${_.default.self}.opts.$comment(${y}, ${h}, ${g}.schema)`)}}function K(e){let{gen:d,schemaEnv:h,validateName:m,ValidationError:g,opts:y}=e;h.$async?d.if((0,x._)`${_.default.errors} === 0`,()=>d.return(_.default.data),()=>d.throw((0,x._)`new ${g}(${_.default.vErrors})`)):(d.assign((0,x._)`${m}.errors`,_.default.vErrors),y.unevaluated&&G(e),d.return((0,x._)`${_.default.errors} === 0`))}function G({gen:e,evaluated:d,props:h,items:m}){h instanceof x.Name&&e.assign((0,x._)`${d}.props`,h),m instanceof x.Name&&e.assign((0,x._)`${d}.items`,m)}function W(e,d,h,m){let{gen:g,schema:v,data:w,allErrors:S,opts:E,self:k}=e,{RULES:C}=k;if(v.$ref&&(E.ignoreKeywordsWithRef||!(0,T.schemaHasRulesButRef)(v,C)))return void g.block(()=>en(e,"$ref",C.all.$ref.definition));function P(T){(0,y.shouldUseGroup)(v,T)&&(T.type?(g.if((0,b.checkDataType)(T.type,w,E.strictNumbers)),J(e,T),1===d.length&&d[0]===T.type&&h&&(g.else(),(0,b.reportTypeError)(e)),g.endIf()):J(e,T),S||g.if((0,x._)`${_.default.errors} === ${m||0}`))}E.jtd||Q(e,d),g.block(()=>{for(let e of C.rules)P(e);P(C.post)})}function J(e,d){let{gen:h,schema:m,opts:{useDefaults:g}}=e;g&&(0,v.assignDefaults)(e,d.type),h.block(()=>{for(let h of d.rules)(0,y.shouldUseRule)(m,h)&&en(e,h.keyword,h.definition,d.type)})}function Q(e,d){!e.schemaEnv.meta&&e.opts.strictTypes&&(Y(e,d),e.opts.allowUnionTypes||X(e,d),Z(e,e.dataTypes))}function Y(e,d){if(d.length){if(!e.dataTypes.length){e.dataTypes=d;return}d.forEach(d=>{et(e.dataTypes,d)||er(e,`type "${d}" not allowed by context "${e.dataTypes.join(",")}"`)}),ei(e,d)}}function X(e,d){d.length>1&&!(2===d.length&&d.includes("null"))&&er(e,"use allowUnionTypes to allow union type keyword")}function Z(e,d){let h=e.self.RULES.all;for(let m in h){let g=h[m];if("object"==typeof g&&(0,y.shouldUseRule)(e.schema,g)){let{type:h}=g.definition;h.length&&!h.some(e=>ee(d,e))&&er(e,`missing type "${h.join(",")}" for keyword "${m}"`)}}}function ee(e,d){return e.includes(d)||"number"===d&&e.includes("integer")}function et(e,d){return e.includes(d)||"integer"===d&&e.includes("number")}function ei(e,d){let h=[];for(let m of e.dataTypes)et(d,m)?h.push(m):d.includes("integer")&&"number"===m&&h.push("integer");e.dataTypes=h}function er(e,d){let h=e.schemaEnv.baseId+e.errSchemaPath;d+=` at "${h}" (strictTypes)`,(0,T.checkStrictMode)(e,d,e.opts.strictTypes)}d.validateFunctionCode=function(e){if(M(e)&&(j(e),$(e)))return void I(e);C(e,()=>(0,m.topBoolOrEmptySchema)(e))};class ea{constructor(e,d,h){if((0,w.validateKeywordUsage)(e,d,h),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=h,this.data=e.data,this.schema=e.schema[h],this.$data=d.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,T.schemaRefOrVal)(e,this.schema,h,this.$data),this.schemaType=d.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=d,this.$data)this.schemaCode=e.gen.const("vSchema",el(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,w.validSchemaType)(this.schema,d.schemaType,d.allowUndefined))throw Error(`${h} value must be ${JSON.stringify(d.schemaType)}`);("code"in d?d.trackErrors:!1!==d.errors)&&(this.errsCount=e.gen.const("_errs",_.default.errors))}result(e,d,h){this.failResult((0,x.not)(e),d,h)}failResult(e,d,h){this.gen.if(e),h?h():this.error(),d?(this.gen.else(),d(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,d){this.failResult((0,x.not)(e),void 0,d)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:d}=this;this.fail((0,x._)`${d} !== undefined && (${(0,x.or)(this.invalid$data(),e)})`)}error(e,d,h){if(d){this.setParams(d),this._error(e,h),this.setParams({});return}this._error(e,h)}_error(e,d){(e?k.reportExtraError:k.reportError)(this,this.def.error,d)}$dataError(){(0,k.reportError)(this,this.def.$dataError||k.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,k.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,d){d?Object.assign(this.params,e):this.params=e}block$data(e,d,h=x.nil){this.gen.block(()=>{this.check$data(e,h),d()})}check$data(e=x.nil,d=x.nil){if(!this.$data)return;let{gen:h,schemaCode:m,schemaType:g,def:y}=this;h.if((0,x.or)((0,x._)`${m} === undefined`,d)),e!==x.nil&&h.assign(e,!0),(g.length||y.validateSchema)&&(h.elseIf(this.invalid$data()),this.$dataError(),e!==x.nil&&h.assign(e,!1)),h.else()}invalid$data(){let{gen:e,schemaCode:d,schemaType:h,def:m,it:g}=this;return(0,x.or)(y(),v());function y(){if(h.length){if(!(d instanceof x.Name))throw Error("ajv implementation error");let e=Array.isArray(h)?h:[h];return(0,x._)`${(0,b.checkDataTypes)(e,d,g.opts.strictNumbers,b.DataType.Wrong)}`}return x.nil}function v(){if(m.validateSchema){let h=e.scopeValue("validate$data",{ref:m.validateSchema});return(0,x._)`!${h}(${d})`}return x.nil}}subschema(e,d){let h=(0,S.getSubschema)(this.it,e);(0,S.extendSubschemaData)(h,this.it,e),(0,S.extendSubschemaMode)(h,e);let m={...this.it,...h,items:void 0,props:void 0};return L(m,d),m}mergeEvaluated(e,d){let{it:h,gen:m}=this;h.opts.unevaluated&&(!0!==h.props&&void 0!==e.props&&(h.props=T.mergeEvaluated.props(m,e.props,h.props,d)),!0!==h.items&&void 0!==e.items&&(h.items=T.mergeEvaluated.items(m,e.items,h.items,d)))}mergeValidEvaluated(e,d){let{it:h,gen:m}=this;if(h.opts.unevaluated&&(!0!==h.props||!0!==h.items))return m.if(d,()=>this.mergeEvaluated(e,x.Name)),!0}}function en(e,d,h,m){let g=new ea(e,h,d);"code"in h?h.code(g,m):g.$data&&h.validate?(0,w.funcKeywordCode)(g,h):"macro"in h?(0,w.macroKeywordCode)(g,h):(h.compile||h.validate)&&(0,w.funcKeywordCode)(g,h)}d.KeywordCxt=ea;let es=/^\/(?:[^~]|~0|~1)*$/,eo=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function el(e,{dataLevel:d,dataNames:h,dataPathArr:m}){let g,y;if(""===e)return _.default.rootData;if("/"===e[0]){if(!es.test(e))throw Error(`Invalid JSON-pointer: ${e}`);g=e,y=_.default.rootData}else{let b=eo.exec(e);if(!b)throw Error(`Invalid JSON-pointer: ${e}`);let w=+b[1];if("#"===(g=b[2])){if(w>=d)throw Error(v("property/index",w));return m[d-w]}if(w>d)throw Error(v("data",w));if(y=h[d-w],!g)return y}let b=y;for(let e of g.split("/"))e&&(y=(0,x._)`${y}${(0,x.getProperty)((0,T.unescapeJsonPointer)(e))}`,b=(0,x._)`${b} && ${y}`);return b;function v(e,h){return`Cannot access ${e} ${h} levels up, current level is ${d}`}}d.getData=el},90029:(e,d,h)=>{"use strict";let m=h(94735),g=h(31088),y=h(88683),b=h(64059),v=h(93094),w=h(19747),S=h(28354),x=h(79551),_=h(97140),E=h(28175),T=h(91645),k=h(14985),C=h(55511);class P extends m{constructor(e,d,h){super(),this.options=d||{},this._defaults=h||{},this._defaultPlugins={compile:[(...e)=>this._convertDataImages(...e)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new v(this.options.dkim),this.transporter=e,this.transporter.mailer=this,this.logger=g.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),"function"==typeof this.transporter.on&&(this.transporter.on("log",e=>{this.logger.debug({tnx:"transport"},"%s: %s",e.type,e.message)}),this.transporter.on("error",e=>{this.logger.error({err:e,tnx:"transport"},"Transport Error: %s",e.message),this.emit("error",e)}),this.transporter.on("idle",(...e)=>{this.emit("idle",...e)})),["close","isIdle","verify"].forEach(e=>{this[e]=(...d)=>"function"==typeof this.transporter[e]?("verify"===e&&"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[e](...d)):(this.logger.warn({tnx:"transport",methodName:e},"Non existing method %s called for transport",e),!1)}),this.options.proxy&&"string"==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(e,d){return e=(e||"").toString(),this._userPlugins.hasOwnProperty(e)?this._userPlugins[e].push(d):this._userPlugins[e]=[d],this}sendMail(e,d=null){let h;d||(h=new Promise((e,h)=>{d=g.callbackPromise(e,h)})),"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let m=new E(this,e);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",m,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",e.message),d(e);m.message=new b(m.data).compile(),m.setMailerHeader(),m.setPriorityHeaders(),m.setListHeaders(),this._processPlugins("stream",m,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"stream"},"PluginStream Error: %s",e.message),d(e);(m.data.dkim||this.dkim)&&m.message.processFunc(e=>{let d=m.data.dkim?new v(m.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:m.message.messageId(),dkimDomains:d.keys.map(e=>e.keySelector+"."+e.domainName).join(", ")},"Signing outgoing message with %s keys",d.keys.length),d.sign(e,m.data._dkim)}),this.transporter.send(m,(...e)=>{e[0]&&this.logger.error({err:e[0],tnx:"transport",action:"send"},"Send Error: %s",e[0].message),d(...e)})})}),h}getVersionString(){return S.format("%s (%s; +%s; %s/%s)",_.name,_.version,_.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,d,h){if(e=(e||"").toString(),!this._userPlugins.hasOwnProperty(e))return h();let m=this._userPlugins[e]||[],g=this._defaultPlugins[e]||[];if(m.length&&this.logger.debug({tnx:"transaction",pluginCount:m.length,step:e},"Using %s plugins for %s",m.length,e),m.length+g.length===0)return h();let y=0,b="default",v=()=>{let e="default"===b?g:m;if(y>=e.length)if("default"!==b||!m.length)return h();else b="user",y=0,e=m;(0,e[y++])(d,e=>{if(e)return h(e);v()})};v()}setupProxy(e){let d=x.parse(e);this.getSocket=(e,h)=>{let m=d.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+m))return this.meta.get("proxy_handler_"+m)(d,e,h);switch(m){case"http":case"https":w(d.href,e.port,e.host,(e,d)=>e?h(e):h(null,{connection:d}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return h(Error("Socks module not loaded"));let m=m=>{let g=!!this.meta.get("proxy_socks_module").SocksClient,y=g?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),b=Number(d.protocol.replace(/\D/g,""))||5,v={proxy:{ipaddress:m,port:Number(d.port),type:b},[g?"destination":"target"]:{host:e.host,port:e.port},command:"connect"};if(d.auth){let e=decodeURIComponent(d.auth.split(":").shift()),h=decodeURIComponent(d.auth.split(":").pop());g?(v.proxy.userId=e,v.proxy.password=h):4===b?v.userid=e:v.authentication={username:e,password:h}}y.createConnection(v,(e,d)=>e?h(e):h(null,{connection:d.socket||d}))};if(T.isIP(d.hostname))return m(d.hostname);return k.resolve(d.hostname,(e,d)=>{if(e)return h(e);m(Array.isArray(d)?d[0]:d)})}}h(Error("Unknown proxy configuration"))}}_convertDataImages(e,d){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html)return d();e.resolveContent(e.data,"html",(h,m)=>{if(h)return d(h);let g=0;m=(m||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(d,h,m,b)=>{let v=C.randomBytes(10).toString("hex")+"@localhost";return e.data.attachments||(e.data.attachments=[]),Array.isArray(e.data.attachments)||(e.data.attachments=[].concat(e.data.attachments||[])),e.data.attachments.push({path:m,cid:v,filename:"image-"+ ++g+"."+y.detectExtension(b)}),h+"cid:"+v}),e.data.html=m,d()})}set(e,d){return this.meta.set(e,d)}get(e){return this.meta.get(e)}}e.exports=P},90288:(e,d,h)=>{"use strict";h.r(d),h.d(d,{isArrayBuffer:()=>m});let m=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},90318:(e,d,h)=>{function m(e){return e&&e.default||e}e.exports=global.fetch=global.fetch||("undefined"==typeof process?m(h(6520)):function(e,d){return m(h(29612))(String(e).replace(/^\/\//g,"https://"),d)})},90386:(e,d,h)=>{"use strict";e.exports=g;let m=h(96481);function g(e,d){return(e=(e=(e=e.replace(/{if (.*?)}(.*?){end}/g,h)).replace(/{if (.*?)}/g,"")).replace(/{end}/g,"")).replace(/\s+/g," ").trim();function h(e,h,g){let y=m(d,h);return y&&g.includes(h)?g.replace(RegExp("{"+h+"}","g"),y):""}}},90461:(e,d,h)=>{"use strict";function m(e,d={}){let g;if("/"===e.charAt(0)){let d=e.split(" ");return{host:d[0],database:d[1]}}let y={},b=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)&&(e=encodeURI(e).replace(/%25(\d\d)/g,"%$1"));try{g=new URL(e,"postgres://base")}catch(d){g=new URL(e.replace("@/","@___DUMMY___/"),"postgres://base"),b=!0}for(let e of g.searchParams.entries())y[e[0]]=e[1];if(y.user=y.user||decodeURIComponent(g.username),y.password=y.password||decodeURIComponent(g.password),"socket:"==g.protocol)return y.host=decodeURI(g.pathname),y.database=g.searchParams.get("db"),y.client_encoding=g.searchParams.get("encoding"),y;let v=b?"":g.hostname;y.host?v&&/^%2f/i.test(v)&&(g.pathname=v+g.pathname):y.host=decodeURIComponent(v),y.port||(y.port=g.port);let w=g.pathname.slice(1)||null;y.database=w?decodeURI(w):null,("true"===y.ssl||"1"===y.ssl)&&(y.ssl=!0),"0"===y.ssl&&(y.ssl=!1),(y.sslcert||y.sslkey||y.sslrootcert||y.sslmode)&&(y.ssl={});let S=y.sslcert||y.sslkey||y.sslrootcert?h(29021):null;if(y.sslcert&&(y.ssl.cert=S.readFileSync(y.sslcert).toString()),y.sslkey&&(y.ssl.key=S.readFileSync(y.sslkey).toString()),y.sslrootcert&&(y.ssl.ca=S.readFileSync(y.sslrootcert).toString()),d.useLibpqCompat&&y.uselibpqcompat)throw Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if("true"===y.uselibpqcompat||d.useLibpqCompat)switch(y.sslmode){case"disable":y.ssl=!1;break;case"prefer":y.ssl.rejectUnauthorized=!1;break;case"require":y.sslrootcert?y.ssl.checkServerIdentity=function(){}:y.ssl.rejectUnauthorized=!1;break;case"verify-ca":if(!y.ssl.ca)throw Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");y.ssl.checkServerIdentity=function(){}}else switch(y.sslmode){case"disable":y.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":y.ssl.rejectUnauthorized=!1}return y}function g(e){return Object.entries(e).reduce((e,[d,h])=>(null!=h&&(e[d]=h),e),{})}function y(e){return Object.entries(e).reduce((e,[d,h])=>{if("ssl"===d){let m=h;"boolean"==typeof m&&(e[d]=m),"object"==typeof m&&(e[d]=g(m))}else if(null!=h)if("port"===d){if(""!==h){let m=parseInt(h,10);if(isNaN(m))throw Error(`Invalid ${d}: ${h}`);e[d]=m}}else e[d]=h;return e},{})}function b(e){return y(m(e))}e.exports=m,m.parse=m,m.toClientConfig=y,m.parseIntoClientConfig=b},90473:e=>{"use strict";class d{constructor({token:e,date:d,parts:h,locales:m}){this.token=e,this.date=d||new Date,this.parts=h||[this],this.locales=m||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((h,m)=>m>e&&h instanceof d)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),h=e.indexOf(this);return e.find((e,m)=>m>h&&e instanceof d)}toString(){return String(this.date)}}e.exports=d},90537:(e,d,h)=>{"use strict";h.d(d,{A:()=>g});var m=h(26900);let g=function(e,d,h,g,y){let b;if(void 0!==y.crit&&g?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!g||void 0===g.crit)return new Set;if(!Array.isArray(g.crit)||0===g.crit.length||g.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let v of(b=void 0!==h?new Map([...Object.entries(h),...d.entries()]):d,g.crit)){if(!b.has(v))throw new m.T0(`Extension Header Parameter "${v}" is not recognized`);if(void 0===y[v])throw new e(`Extension Header Parameter "${v}" is missing`);if(b.get(v)&&void 0===g[v])throw new e(`Extension Header Parameter "${v}" MUST be integrity protected`)}return new Set(g.crit)}},90551:(e,d,h)=>{"use strict";h.d(d,{M3:()=>b,W2:()=>y,ll:()=>g,t9:()=>v});var m=h(83520);function g(e){return(0,m.A)(e)&&"string"==typeof e.kty}function y(e){return"oct"!==e.kty&&"string"==typeof e.d}function b(e){return"oct"!==e.kty&&void 0===e.d}function v(e){return g(e)&&"oct"===e.kty&&"string"==typeof e.k}},90723:(e,d,h)=>{"use strict";let m=h(27910).Transform;class g extends m{constructor(e){super(e),this.options=e||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(e,d,h){let m,g=[],y=0,b,v,w=0;if(!e||!e.length)return h();for("string"==typeof e&&(e=Buffer.from(e)),this.inByteCount+=e.length,b=0,v=e.length;b<v;b++)46===e[b]?(!b||10!==e[b-1])&&(b||this.lastByte&&10!==this.lastByte)||(m=e.slice(w,b+1),g.push(m),g.push(Buffer.from(".")),y+=m.length+1,w=b+1):10===e[b]&&(b&&13!==e[b-1]||!b&&13!==this.lastByte)&&(b>w?(m=e.slice(w,b),g.push(m),y+=m.length+2):y+=2,g.push(Buffer.from("\r\n")),w=b+1);y?(w<e.length&&(m=e.slice(w),g.push(m),y+=m.length),this.outByteCount+=y,this.push(Buffer.concat(g,y))):(this.outByteCount+=e.length,this.push(e)),this.lastByte=e[e.length-1],h()}_flush(e){let d;d=10===this.lastByte?Buffer.from(".\r\n"):13===this.lastByte?Buffer.from("\n.\r\n"):Buffer.from("\r\n.\r\n"),this.outByteCount+=d.length,this.push(d),e()}}e.exports=g},91163:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});class h extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}d.default=h},91182:(e,d,h)=>{"use strict";function m(e){let d=!0;for(let h in e)"object"==typeof e[h]?g(e[h])?e[h]=!0:d=!1:!0!==e[h]&&(d=!1);return d}function g(e){let d=!0;if("blocks"in e&&e.blocks){for(let h in e.blocks)if("object"==typeof e.blocks[h]){for(let g in e.blocks[h])if("fields"===g)e.blocks[h].fields&&(m(e.blocks[h].fields)?e.blocks[h].fields=!0:d=!1);else if("object"==typeof e.blocks[h][g])if(y(e.blocks[h][g]))if(!0!==e.blocks[h][g].permission||"where"in e.blocks[h][g])if(!0===e.blocks[h][g].permission&&"where"in e.blocks[h][g])d=!1;else{d=!1,e.blocks[h][g]=!1,delete e.blocks[h][g];continue}else{e.blocks[h][g]=!0;continue}else throw Error("Unexpected object in block permissions")}else!0!==e.blocks[h]&&(d=!1,delete e.blocks[h]);d&&(e.blocks=!0)}let h=!0;e.fields&&(m(e.fields)?e.fields=!0:h=!1);let g=!0;for(let d in e)if("fields"!==d&&"blocks"!==d)if("object"==typeof e[d])if(y(e[d]))if(!0!==e[d].permission||"where"in e[d])if(!0===e[d].permission&&"where"in e[d])g=!1;else{g=!1,e[d]=!1,delete e[d];continue}else{e[d]=!0;continue}else throw Error("Unexpected object in fields permissions");else!0!==e[d]&&(g=!1);return h&&d&&g}function y(e){return"object"==typeof e&&"permission"in e&&"boolean"==typeof e.permission}function b(e){Object.keys(e).forEach(d=>{"object"==typeof e[d]&&null!==e[d]?(b(e[d]),0===Object.keys(e[d]).length&&delete e[d]):(null===e[d]||void 0===e[d])&&delete e[d]})}function v(e){if("object"==typeof e)for(let d of Object.values(e))g(d)}function w(e){if("object"==typeof e)for(let d of Object.values(e))g(d)}function S(e){return!1===e.canAccessAdmin&&delete e.canAccessAdmin,e.collections&&v(e.collections),e.globals&&w(e.globals),b(e),e}h.d(d,{yD:()=>S})},91392:(e,d,h)=>{"use strict";h.d(d,{A:()=>v});var m=h(55511);let g={randomUUID:h.n(m)().randomUUID};var y=h(69921),b=h(13969);let v=function(e,d,h){if(g.randomUUID&&!d&&!e)return g.randomUUID();let m=(e=e||{}).random||(e.rng||y.A)();if(m[6]=15&m[6]|64,m[8]=63&m[8]|128,d){h=h||0;for(let e=0;e<16;++e)d[h+e]=m[e];return d}return(0,b.k)(m)}},91506:(e,d,h)=>{"use strict";h.d(d,{N:()=>R});var m=h(13062),g=h(26154),y=h(553),b=h(89075),v=h(89554),w=h(89426),S=h(36031),x=h(16861),_=h(22894),E=h(83552),T=h(30433),k=h(71707),C=h(12276),P=h(41696),O=h(52579),I=h(77900);let R=async e=>{let d=e;try{let e,h=!d.disableTransaction&&await (0,T.n)(d.req);if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"delete",req:d.req})||d;let{collection:{config:k},depth:R,overrideAccess:D,overrideLock:L,populate:$,req:{fallbackLocale:M,locale:B,payload:{config:j},payload:U},req:F,select:z,showHiddenFields:q,where:V}=d;if(!V)throw new v.L("Missing 'where' query of documents to delete.",m.h.BAD_REQUEST);D||(e=await (0,g.A)({req:F},k.access.delete)),await (0,b.d)({collectionConfig:k,overrideAccess:D,req:F,where:V});let H=(0,y.m)(V,e),K=(0,C.Y)({fields:k.flattenedFields,forceSelect:k.forceSelect,select:z}),{docs:G}=await U.db.find({collection:k.slug,locale:B,req:F,select:K,where:H}),W=[],J=G.map(async e=>{let d,{id:h}=e;try{if(await (0,_.B)({id:h,collectionSlug:k.slug,lockErrorMessage:`Document with ID ${h} is currently locked and cannot be deleted.`,overrideLock:L,req:F}),k.hooks?.beforeDelete?.length)for(let e of k.hooks.beforeDelete)await e({id:h,collection:k,context:F.context,req:F});if(await (0,x.F)({collectionConfig:k,config:j,doc:e,overrideDelete:!0,req:F}),k.versions&&await (0,P.H)({id:h,slug:k.slug,payload:U,req:F}),k.versions?.drafts&&k.versions.drafts.schedulePublish&&await (0,O.y)({id:h,slug:k.slug,payload:U,req:F}),await U.db.deleteOne({collection:k.slug,req:F,returning:!1,where:{id:{equals:h}}}),d=await (0,w.v)({collection:k,context:F.context,depth:R,doc:d||e,draft:void 0,fallbackLocale:M,global:null,locale:B,overrideAccess:D,populate:$,req:F,select:K,showHiddenFields:q}),k.hooks?.afterRead?.length)for(let h of k.hooks.afterRead)d=await h({collection:k,context:F.context,doc:d||e,req:F})||d;if(k.hooks?.afterDelete?.length)for(let e of k.hooks.afterDelete)d=await e({id:h,collection:k,context:F.context,doc:d,req:F})||d;return d}catch(d){W.push({id:e.id,message:d.message})}return null}),Q=await Promise.all(J);await (0,S.j)({collectionConfig:k,ids:G.map(({id:e})=>e),payload:U,req:F});let Y={docs:Q.filter(Boolean),errors:W};return Y=await (0,I.E)({args:d,collection:k,operation:"delete",result:Y}),h&&await (0,E.w)(F),Y}catch(e){throw await (0,k.J)(d.req),e}}},91524:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(31934);d.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:d,schema:h,it:g}=e;if((0,m.alwaysValidSchema)(g,h))return void e.fail();let y=d.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},y),e.failResult(y,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},91626:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(52046),g=h(31934);function y(e,d){let h=e.schema[d];return void 0!==h&&!(0,g.alwaysValidSchema)(e,h)}d.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,m.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,m._)`{failingKeyword: ${e.ifClause}}`},code(e){let{gen:d,parentSchema:h,it:b}=e;void 0===h.then&&void 0===h.else&&(0,g.checkStrictMode)(b,'"if" without "then" and "else" is ignored');let v=y(b,"then"),w=y(b,"else");if(!v&&!w)return;let S=d.let("valid",!0),x=d.name("_valid");if(_(),e.reset(),v&&w){let h=d.let("ifClause");e.setParams({ifClause:h}),d.if(x,E("then",h),E("else",h))}else v?d.if(x,E("then")):d.if((0,m.not)(x),E("else"));function _(){let d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},x);e.mergeEvaluated(d)}function E(h,g){return()=>{let y=e.subschema({keyword:h},x);d.assign(S,x),e.mergeValidEvaluated(y,S),g?d.assign(g,(0,m._)`${h}`):e.setParams({ifClause:h})}}e.pass(S,()=>e.error(!0))}}},91833:(e,d,h)=>{"use strict";h.d(d,{w:()=>g});var m=h(135);let g=(e,d)=>(0,m.collectBody)(e,d).then(e=>d.utf8Encoder(e))},91933:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>readMigrationFiles});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29021),node_url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(73136),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33873);let readMigrationFiles=async({payload})=>{if(!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(payload.db.migrationDir))return payload.logger.error({msg:`No migration directory found at ${payload.db.migrationDir}`}),[];payload.logger.info({msg:`Reading migration files from ${payload.db.migrationDir}`});let files=fs__WEBPACK_IMPORTED_MODULE_0__.readdirSync(payload.db.migrationDir).sort().filter(e=>(e.endsWith(".ts")||e.endsWith(".js"))&&"index.js"!==e&&"index.ts"!==e).map(e=>path__WEBPACK_IMPORTED_MODULE_2__.resolve(payload.db.migrationDir,e));return Promise.all(files.map(async filePath=>{let migration="function"==typeof require?await eval(`require('${filePath.replaceAll("\\","/")}')`):await eval(`import('${(0,node_url__WEBPACK_IMPORTED_MODULE_1__.pathToFileURL)(filePath).href}')`);"default"in migration&&(migration=migration.default);let result={name:path__WEBPACK_IMPORTED_MODULE_2__.basename(filePath).split(".")?.[0],down:migration.down,up:migration.up};return result}))}},92051:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(7755);m.code='require("ajv/dist/runtime/uri").default',d.default=m},92307:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{ConditionObject:()=>_.ConditionObject,DeprecatedObject:()=>_.DeprecatedObject,EndpointError:()=>_.EndpointError,EndpointObject:()=>_.EndpointObject,EndpointObjectHeaders:()=>_.EndpointObjectHeaders,EndpointObjectProperties:()=>_.EndpointObjectProperties,EndpointParams:()=>_.EndpointParams,EndpointResolverOptions:()=>_.EndpointResolverOptions,EndpointRuleObject:()=>_.EndpointRuleObject,ErrorRuleObject:()=>_.ErrorRuleObject,EvaluateOptions:()=>_.EvaluateOptions,Expression:()=>_.Expression,FunctionArgv:()=>_.FunctionArgv,FunctionObject:()=>_.FunctionObject,FunctionReturn:()=>_.FunctionReturn,ParameterObject:()=>_.ParameterObject,ReferenceObject:()=>_.ReferenceObject,ReferenceRecord:()=>_.ReferenceRecord,RuleSetObject:()=>_.RuleSetObject,RuleSetRules:()=>_.RuleSetRules,TreeRuleObject:()=>_.TreeRuleObject,awsEndpointFunctions:()=>M,getUserAgentPrefix:()=>$,isIpAddress:()=>_.isIpAddress,partition:()=>R,resolveEndpoint:()=>_.resolveEndpoint,setPartitionInfo:()=>D,useDefaultPartitionInfo:()=>L}),e.exports=S(x);var _=h(50672),E=v((e,d=!1)=>{if(d){for(let d of e.split("."))if(!E(d))return!1;return!0}return!(!(0,_.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,_.isIpAddress)(e))},"isVirtualHostableS3Bucket"),T=":",k="/",C=v(e=>{let d=e.split(T);if(d.length<6)return null;let[h,m,g,y,b,...v]=d;return"arn"!==h||""===m||""===g||""===v.join(T)?null:{partition:m,service:g,region:y,accountId:b,resourceId:v.map(e=>e.split(k)).flat()}},"parseArn"),P={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},O=P,I="",R=v(e=>{let{partitions:d}=O;for(let h of d){let{regions:d,outputs:m}=h;for(let[h,g]of Object.entries(d))if(h===e)return{...m,...g}}for(let h of d){let{regionRegex:d,outputs:m}=h;if(new RegExp(d).test(e))return{...m}}let h=d.find(e=>"aws"===e.id);if(!h)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...h.outputs}},"partition"),D=v((e,d="")=>{O=e,I=d},"setPartitionInfo"),L=v(()=>{D(P,"")},"useDefaultPartitionInfo"),$=v(()=>I,"getUserAgentPrefix"),M={isVirtualHostableS3Bucket:E,parseArn:C,partition:R};_.customEndpointFunctions.aws=M},92345:(e,d,h)=>{"use strict";let m=e=>e,g={default:m,60:m,50:m,40:m,30:m,20:m,10:m,message:m,greyMessage:m},{createColors:y}=h(72541),b=h(82952),v=y({useColor:!0}),{white:w,bgRed:S,red:x,yellow:_,green:E,blue:T,gray:k,cyan:C}=v,P={default:w,60:S,50:x,40:_,30:E,20:T,10:k,message:C,greyMessage:k};function O(e){return e.reduce(function(e,[d,h]){return e[d]="function"==typeof v[h]?v[h]:w,e},{default:w,message:C,greyMessage:k})}function I(e){return function(d,h,{customLevels:m,customLevelNames:g}={}){let[y,v]=b(e,m,g)(d);return Object.prototype.hasOwnProperty.call(h,v)?h[v](y):h.default(y)}}function R(e){let d=I(e),h=function(e,h){return d(e,g,h)};return h.message=g.message,h.greyMessage=g.greyMessage,h.colors=y({useColor:!1}),h}function D(e){let d=I(e),h=function(e,h){return d(e,P,h)};return h.message=P.message,h.greyMessage=P.greyMessage,h.colors=v,h}function L(e,d){let h=O(e),m=d?h:Object.assign({},P,h),g=I(d),y=function(e,d){return g(e,m,d)};return y.colors=v,y.message=y.message||m.message,y.greyMessage=y.greyMessage||m.greyMessage,y}e.exports=function(e=!1,d,h){return e&&void 0!==d?L(d,h):e?D(h):R(h)}},92520:(e,d,h)=>{"use strict";h.d(d,{l:()=>y,q:()=>g});var m=h(87072);let g="payload-locked-documents",y=e=>({slug:g,access:{create:m.A,delete:m.A,read:m.A,update:m.A},admin:{hidden:!0},fields:[{name:"document",type:"relationship",index:!0,maxDepth:0,relationTo:[...e.collections.map(e=>e.slug)]},{name:"globalSlug",type:"text",index:!0},{name:"user",type:"relationship",maxDepth:1,relationTo:e.collections.filter(e=>e.auth).map(e=>e.slug),required:!0}],lockDocuments:!1})},92596:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.boolOrEmptySchema=d.topBoolOrEmptySchema=void 0;let m=h(56393),g=h(52046),y=h(9828),b={message:"boolean schema is false"};function v(e,d){let{gen:h,data:g}=e,y={gen:h,keyword:"false schema",data:g,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,m.reportError)(y,b,void 0,d)}d.topBoolOrEmptySchema=function(e){let{gen:d,schema:h,validateName:m}=e;!1===h?v(e,!1):"object"==typeof h&&!0===h.$async?d.return(y.default.data):(d.assign((0,g._)`${m}.errors`,null),d.return(!0))},d.boolOrEmptySchema=function(e,d){let{gen:h,schema:m}=e;!1===m?(h.var(d,!1),v(e)):h.var(d,!0)}},92630:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.contentVocabulary=d.metadataVocabulary=void 0,d.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],d.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},92771:(e,d,h)=>{"use strict";h.r(d),h.d(d,{AwsCrc32:()=>y,Crc32:()=>v,crc32:()=>b});var m=h(22396),g=h(330),y=function(){function e(){this.crc32=new v}return e.prototype.update=function(e){(0,g.isEmptyData)(e)||this.crc32.update((0,g.convertToBuffer)(e))},e.prototype.digest=function(){return(0,m.__awaiter)(this,void 0,void 0,function(){return(0,m.__generator)(this,function(e){return[2,(0,g.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new v},e}();function b(e){return new v().update(e).digest()}var v=function(){function e(){this.checksum=0xffffffff}return e.prototype.update=function(e){var d,h;try{for(var g=(0,m.__values)(e),y=g.next();!y.done;y=g.next()){var b=y.value;this.checksum=this.checksum>>>8^S[(this.checksum^b)&255]}}catch(e){d={error:e}}finally{try{y&&!y.done&&(h=g.return)&&h.call(g)}finally{if(d)throw d.error}}return this},e.prototype.digest=function(){return(0xffffffff^this.checksum)>>>0},e}(),w=[0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d],S=(0,g.uint32ArrayFrom)(w)},92828:(e,d,h)=>{"use strict";h.r(d),h.d(d,{parseUrl:()=>g});var m=h(60444);let g=e=>{let d;if("string"==typeof e)return g(new URL(e));let{hostname:h,pathname:y,port:b,protocol:v,search:w}=e;return w&&(d=(0,m.parseQueryString)(w)),{hostname:h,port:b?parseInt(b):void 0,protocol:v,path:y,query:d}}},93052:(e,d,h)=>{"use strict";h.d(d,{C5:()=>S,Rp:()=>x,Xh:()=>_,wJ:()=>w,xV:()=>k});var m=h(43769),g=h(70120),y=h(23718),b=h(86404);let v=g.default||g,w=(e,{maxLength:d,minLength:h=3,req:{payload:{config:m},t:g},required:y})=>{let b;return("number"==typeof m?.defaultMaxTextLength&&(b=m.defaultMaxTextLength),"number"==typeof d&&(b=d),e&&b&&e.length>b)?g("validation:shorterThanMax",{maxLength:b}):e&&h&&e.length<h?g("validation:longerThanMin",{minLength:h}):!y||!!e||g("validation:required")},S=(e,{req:{t:d},required:h,siblingData:m})=>h&&!e?d("validation:required"):!e||e===m.password||d("fields:passwordsDoNotMatch"),x=(e,{collectionSlug:d,req:{payload:{collections:h,config:m},t:g},required:y,siblingData:b})=>{if(d){let y=h?.[d]?.config??m.collections.find(({slug:e})=>e===d);if(y.auth.loginWithUsername&&!y.auth.loginWithUsername?.requireUsername&&!y.auth.loginWithUsername?.requireEmail&&!e&&!b?.username)return g("validation:required")}let v=/^(?!.*\.\.)[\w!#$%&'*+/=?^`{|}~-](?:[\w!#$%&'*+/=?^`{|}~.-]*[\w!#$%&'*+/=?^`{|}~-])?@[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)*\.[a-z]{2,}$/i;return(!e||!!v.test(e))&&(!!e||!y)||g("validation:emailAddress")},_=(e,{collectionSlug:d,req:{payload:{collections:h,config:m},t:g},required:y,siblingData:b})=>{let v;if(d){let y=h?.[d]?.config??m.collections.find(({slug:e})=>e===d);if(y.auth.loginWithUsername&&!y.auth.loginWithUsername?.requireUsername&&!y.auth.loginWithUsername?.requireEmail&&!e&&!b?.email)return g("validation:required")}return("number"==typeof m?.defaultMaxTextLength&&(v=m.defaultMaxTextLength),e&&v&&e.length>v)?g("validation:shorterThanMax",{maxLength:v}):!!e||!y||g("validation:required")},E=(e,d)=>{let{maxRows:h,minRows:m,required:g,t:y}=d,b=Array.isArray(e)?e.length:e||0;return!g&&0===b||(m&&b<m?y("validation:requiresAtLeast",{count:m,label:y("general:rows")}):h&&b>h?y("validation:requiresNoMoreThan",{count:h,label:y("general:rows")}):!g||!!b||y("validation:requiresAtLeast",{count:1,label:y("general:row")}))},T=async(e,{id:d,blockData:h,data:m,filterOptions:g,relationTo:y,req:b,req:{payload:w,t:S,user:x},siblingData:_})=>{if(void 0!==g&&e){let w={},E=[],T=Array.isArray(y)?y:[y],k=Array.isArray(e)?e:[e];for(let e of T)try{let y="function"==typeof g?await g({id:d,blockData:h,data:m,relationTo:e,req:b,siblingData:_,user:x}):g;!0===y&&(y=null);let S=[];if(k.forEach(e=>{"object"==typeof e&&(e?.value?S.push(e.value):v.isValid(e)&&S.push(new v(e).toHexString())),("string"==typeof e||"number"==typeof e)&&S.push(e)}),S.length>0){let d={and:[{id:{in:S}}]};y&&!0!==y&&d.and.push(y),!1===y&&E.push(e);let h=await b.payloadDataLoader.find({collection:e,depth:0,limit:0,pagination:!1,req:b,where:d});w[e]=h.docs.map(e=>e.id)}else w[e]=[]}catch(d){b.payload.logger.error({err:d,msg:`Error validating filter options for collection ${e}`}),w[e]=[]}let C=k.filter(e=>{let d,h;return"string"==typeof y&&(d=y,("string"==typeof e||"number"==typeof e)&&(h=e),"object"==typeof e&&v.isValid(e)&&(h=new v(e).toHexString())),Array.isArray(y)&&"object"==typeof e&&e?.relationTo&&(d=e.relationTo,h=e.value),!!E.find(e=>y===e)||!w[d]||-1===w[d].indexOf(h)});if(C.length>0)return C.reduce((e,d,h)=>`${e} ${JSON.stringify(d)}${C.length===h+1?",":""} `,S("validation:invalidSelections"))}return!0},k={array:(e,{maxRows:d,minRows:h,req:{t:m},required:g})=>E(e,{maxRows:d,minRows:h,required:g,t:m}),blocks:(e,{maxRows:d,minRows:h,req:{t:m},required:g})=>E(e,{maxRows:d,minRows:h,required:g,t:m}),checkbox:(e,{req:{t:d},required:h})=>(!e||"boolean"==typeof e)&&(!h||"boolean"==typeof e)||d("validation:trueOrFalse"),code:(e,{req:{t:d},required:h})=>!h||void 0!==e||d("validation:required"),confirmPassword:S,date:(e,{name:d,req:{t:h},required:m,siblingData:g,timezone:y})=>{let b=e&&!isNaN(Date.parse(e.toString())),v=y&&m,w=g?.[`${d}_tz`],S=!v||!!w;return!!b&&!!S||(b&&!S?h("validation:timezoneRequired"):e?h("validation:notValidDate",{value:e}):!m||h("validation:required"))},email:x,json:async(e,{jsonError:d,jsonSchema:h,req:{t:g},required:y})=>{let b=e=>!(null==e||Array.isArray(e)&&0===e.length)&&("object"!=typeof e||0!==Object.keys(e).length),v=({schema:e,uri:d})=>d&&e?e:fetch(d).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{let d={id:void 0,$id:e.id,$schema:"http://json-schema.org/draft-07/schema#"};return Object.assign(e,d)});if(y&&!e)return g("validation:required");if(void 0!==d)return g("validation:invalidInput");if(h&&b(e))try{h.schema=await v(h);let{schema:d}=h,g=new m;if(!g.validate(d,e))return g.errorsText()}catch(e){return e.message}return!0},number:(e,{hasMany:d,max:h,maxRows:m,min:g,minRows:b,req:{t:v},required:w})=>{if(!0===d){let d=E(e,{maxRows:m,minRows:b,required:w,t:v});if("string"==typeof d)return d}if(!e&&!(0,y.E)(e)){if(w)return v("validation:required");if(!w)return!0}for(let d of Array.isArray(e)?e:[e]){if(!(0,y.E)(d))return v("validation:enterNumber");let m=parseFloat(d);if("number"==typeof h&&m>h)return v("validation:greaterThanMax",{label:v("general:value"),max:h,value:e});if("number"==typeof g&&m<g)return v("validation:lessThanMin",{label:v("general:value"),min:g,value:e})}return!0},password:w,point:(e=["",""],{req:{t:d},required:h})=>{let m=parseFloat(String(e[0])),g=parseFloat(String(e[1]));return h&&(e[0]&&e[1]&&"number"!=typeof m&&"number"!=typeof g||Number.isNaN(m)||Number.isNaN(g)||Array.isArray(e)&&2!==e.length)?d("validation:requiresTwoNumbers"):!(e[1]&&Number.isNaN(m)||e[0]&&Number.isNaN(g))||d("validation:invalidInput")},radio:(e,{options:d,req:{t:h},required:m})=>e?d.some(d=>d===e||"string"!=typeof d&&d.value===e)||h("validation:invalidSelection"):!m||h("validation:required"),relationship:async(e,d)=>{let{event:h,maxRows:m,minRows:g,relationTo:y,req:{payload:v,t:w},required:S}=d;if((!e&&"number"!=typeof e||Array.isArray(e)&&0===e.length)&&S)return w("validation:required");if(Array.isArray(e)&&e.length>0){if(g&&e.length<g)return w("validation:lessThanMin",{label:w("general:rows"),min:g,value:e.length});if(m&&e.length>m)return w("validation:greaterThanMax",{label:w("general:rows"),max:m,value:e.length})}if(null!=e){let d=(Array.isArray(e)?e:[e]).filter(e=>{let d,h;if("string"==typeof y&&(d=y,(e||"number"==typeof e)&&(h=e)),Array.isArray(y)&&"object"==typeof e&&e?.relationTo&&(d=e.relationTo,h=e.value),null===h)return!1;let m=v.collections[d]?.customIDType||v?.db?.defaultIDType||"text";return!(0,b.m)(h,m)});if(d.length>0)return`This relationship field has the following invalid relationships: ${d.map((e,d)=>`${e} ${JSON.stringify(d)}`).join(", ")}`}return"onChange"===h||T(e,d)},richText:async(e,d)=>{if(!d?.editor)throw Error("richText field has no editor property.");if("function"==typeof d?.editor)throw Error("Attempted to access unsanitized rich text editor.");return(d?.editor).validate(e,d)},select:(e,{data:d,filterOptions:h,hasMany:m,options:g,req:y,req:{t:b},required:v,siblingData:w})=>{let S="function"==typeof h?h({data:d,options:g,req:y,siblingData:w}):g;return Array.isArray(e)&&e.some(e=>!S.some(d=>d===e||"string"!=typeof d&&d?.value===e))||"string"==typeof e&&!S.some(d=>d===e||"string"!=typeof d&&d.value===e)?b("validation:invalidSelection"):!(v&&(null==e||m&&Array.isArray(e)&&e?.length===0))||b("validation:required")},text:(e,{hasMany:d,maxLength:h,maxRows:m,minLength:g,minRows:y,req:{payload:{config:b},t:v},required:w})=>{let S;if(!w&&!e)return!0;if(!0===d){let d=E(e,{maxRows:m,minRows:y,required:w,t:v});if("string"==typeof d)return d}for(let d of("number"==typeof b?.defaultMaxTextLength&&(S=b.defaultMaxTextLength),"number"==typeof h&&(S=h),Array.isArray(e)?e:[e])){let e=d?.length||0;if("number"==typeof S&&e>S)return v("validation:shorterThanMax",{label:v("general:value"),maxLength:S,stringValue:d});if("number"==typeof g&&e<g)return v("validation:longerThanMin",{label:v("general:value"),minLength:g,stringValue:d})}return!w||!!("string"==typeof e||Array.isArray(e))&&e?.length!==0||v("validation:required")},textarea:(e,{maxLength:d,minLength:h,req:{payload:{config:m},t:g},required:y})=>{let b;return("number"==typeof m?.defaultMaxTextLength&&(b=m.defaultMaxTextLength),"number"==typeof d&&(b=d),e&&b&&e.length>b)?g("validation:shorterThanMax",{maxLength:b}):e&&h&&e.length<h?g("validation:longerThanMin",{minLength:h}):!y||!!e||g("validation:required")},upload:async(e,d)=>{let{event:h,maxRows:m,minRows:g,relationTo:y,req:{payload:v,t:w},required:S}=d;if((!e&&"number"!=typeof e||Array.isArray(e)&&0===e.length)&&S)return w("validation:required");if(Array.isArray(e)&&e.length>0){if(g&&e.length<g)return w("validation:lessThanMin",{label:w("general:rows"),min:g,value:e.length});if(m&&e.length>m)return w("validation:greaterThanMax",{label:w("general:rows"),max:m,value:e.length})}if(null!=e){let d=(Array.isArray(e)?e:[e]).filter(e=>{let d,h;if("string"==typeof y&&(d=y,(e||"number"==typeof e)&&(h=e)),Array.isArray(y)&&"object"==typeof e&&e?.relationTo&&(d=e.relationTo,h=e.value),null===h)return!1;let m=v.collections[d]?.customIDType||v?.db?.defaultIDType||"text";return!(0,b.m)(h,m)});if(d.length>0)return`This relationship field has the following invalid relationships: ${d.map((e,d)=>`${e} ${JSON.stringify(d)}`).join(", ")}`}return"onChange"===h||T(e,d)}}},93094:(e,d,h)=>{"use strict";let m=h(55741),g=h(79450),y=h(76705),b=h(27910).PassThrough,v=h(29021),w=h(33873),S=h(55511),x="sha256",_=131072;class E{constructor(e,d,h,m){this.options=e||{},this.keys=d,this.cacheTreshold=Number(this.options.cacheTreshold)||_,this.hashAlgo=this.options.hashAlgo||x,this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&w.join(this.cacheDir,"message."+Date.now()+"-"+S.randomBytes(14).toString("hex")),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=h,this.output=m,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",e=>{this.hasErrored=!0,this.cleanup(),m.emit("error",e)})}cleanup(){this.cache&&this.cachePath&&v.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=v.createReadStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.output.emit("error",e)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let e=this.chunks[this.readPos++];if(!1===this.output.write(e))return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0,d=()=>{if(e>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let h=this.keys[e++],m=y(this.headers,this.hashAlgo,this.bodyHash,{domainName:h.domainName,keySelector:h.keySelector,privateKey:h.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return m&&this.output.write(Buffer.from(m+"\r\n")),setImmediate(d)};if(this.bodyHash&&this.headers)return d();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=v.createWriteStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;null!==this.relaxedBody.read(););}),this.hasErrored=!0,this.output.emit("error",e)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new m,this.relaxedBody=new g({hashAlgo:this.hashAlgo}),this.parser.on("headers",e=>{this.headers=e}),this.relaxedBody.on("hash",e=>{this.bodyHash=e}),this.relaxedBody.on("readable",()=>{let e;if(!this.cache){for(;null!==(e=this.relaxedBody.read());)if(this.chunks.push(e),this.chunklen+=e.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}class T{constructor(e){this.options=e||{},this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,d){let h=new b,m=e,g=!1;Buffer.isBuffer(e)?(g=e,m=new b):"string"==typeof e&&(g=Buffer.from(e),m=new b);let y=this.options;d&&Object.keys(d).length&&(y={},Object.keys(this.options||{}).forEach(e=>{y[e]=this.options[e]}),Object.keys(d||{}).forEach(e=>{e in y||(y[e]=d[e])}));let v=new E(y,this.keys,m,h);return setImmediate(()=>{v.signStream(),g&&setImmediate(()=>{m.end(g)})}),h}}e.exports=T},93297:(e,d,h)=>{"use strict";h.d(d,{p:()=>m});let m=({fields:e,localizedPath:d="",path:h})=>{let g=e,y=null,b=h.split("."),v=!1;for(;b.length>0;){let e=b.shift();d=`${d?`${d}.`:""}${e}`;let h=g.find(d=>d.name===e);if(!h)return null;if(h.localized&&(v=!0,d=`${d}.<locale>`),"flattenedFields"in h&&(g=h.flattenedFields),"blocks"in h)for(let e of h.blocks){let h=m({fields:e.flattenedFields,localizedPath:d,path:[...b].join(".")});if(h)return h}y=h}return y?{field:y,localizedPath:d,pathHasLocalized:v}:null}},93424:e=>{let d="\n";function h(e,d,v,w){let S="",x=!1;for(let _=0;_<e.length;_++){let E=e[_],T=m(E);if(void 0===T)continue;let k="";if(k=0===v.length?T:`${v}.${T}`,T===d.textNodeName){let e=E[T];y(k,d)||(e=b(e=d.tagValueProcessor(T,e),d)),x&&(S+=w),S+=e,x=!1;continue}if(T===d.cdataPropName){x&&(S+=w),S+=`<![CDATA[${E[T][0][d.textNodeName]}]]>`,x=!1;continue}if(T===d.commentPropName){S+=w+`<!--${E[T][0][d.textNodeName]}-->`,x=!0;continue}else if("?"===T[0]){let e=g(E[":@"],d),h="?xml"===T?"":w,m=E[T][0][d.textNodeName];m=0!==m.length?" "+m:"",S+=h+`<${T}${m}${e}?>`,x=!0;continue}let C=w;""!==C&&(C+=d.indentBy);let P=g(E[":@"],d),O=w+`<${T}${P}`,I=h(E[T],d,k,C);-1!==d.unpairedTags.indexOf(T)?d.suppressUnpairedNode?S+=O+">":S+=O+"/>":(!I||0===I.length)&&d.suppressEmptyNode?S+=O+"/>":I&&I.endsWith(">")?S+=O+`>${I}${w}</${T}>`:(S+=O+">",I&&""!==w&&(I.includes("/>")||I.includes("</"))?S+=w+d.indentBy+I+w:S+=I,S+=`</${T}>`),x=!0}return S}function m(e){let d=Object.keys(e);for(let h=0;h<d.length;h++){let m=d[h];if(e.hasOwnProperty(m)&&":@"!==m)return m}}function g(e,d){let h="";if(e&&!d.ignoreAttributes)for(let m in e){if(!e.hasOwnProperty(m))continue;let g=d.attributeValueProcessor(m,e[m]);!0===(g=b(g,d))&&d.suppressBooleanAttributes?h+=` ${m.substr(d.attributeNamePrefix.length)}`:h+=` ${m.substr(d.attributeNamePrefix.length)}="${g}"`}return h}function y(e,d){let h=(e=e.substr(0,e.length-d.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let m in d.stopNodes)if(d.stopNodes[m]===e||d.stopNodes[m]==="*."+h)return!0;return!1}function b(e,d){if(e&&e.length>0&&d.processEntities)for(let h=0;h<d.entities.length;h++){let m=d.entities[h];e=e.replace(m.regex,m.val)}return e}e.exports=function(e,m){let g="";return m.format&&m.indentBy.length>0&&(g=d),h(e,m,"",g)}},93457:(e,d,h)=>{var m=h(33030),g=h(3206),y=h(46570),b=h(32105),v=h(33171);function w(e){return function(d){return null===d?d:e(d)}}function S(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function x(e){return e?m.parse(e,S):null}function _(e){return parseInt(e,10)}function E(e){return e?m.parse(e,w(_)):null}function T(e){return e?m.parse(e,w(function(e){return L(e).trim()})):null}var k=function(e){return e?g.create(e,function(e){return null!==e&&(e=M(e)),e}).parse():null},C=function(e){return e?g.create(e,function(e){return null!==e&&(e=parseFloat(e)),e}).parse():null},P=function(e){return e?g.create(e).parse():null},O=function(e){return e?g.create(e,function(e){return null!==e&&(e=y(e)),e}).parse():null},I=function(e){return e?g.create(e,function(e){return null!==e&&(e=b(e)),e}).parse():null},R=function(e){return e?m.parse(e,w(v)):null},D=function(e){return parseInt(e,10)},L=function(e){var d=String(e);return/^\d+$/.test(d)?d:e},$=function(e){return e?m.parse(e,w(JSON.parse)):null},M=function(e){return"("!==e[0]?null:{x:parseFloat((e=e.substring(1,e.length-1).split(","))[0]),y:parseFloat(e[1])}},B=function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var d="(",h="",m=!1,g=2;g<e.length-1;g++){if(m||(d+=e[g]),")"===e[g]){m=!0;continue}m&&","!==e[g]&&(h+=e[g])}var y=M(d);return y.radius=parseFloat(h),y};e.exports={init:function(e){e(20,L),e(21,D),e(23,D),e(26,D),e(700,parseFloat),e(701,parseFloat),e(16,S),e(1082,y),e(1114,y),e(1184,y),e(600,M),e(651,P),e(718,B),e(1e3,x),e(1001,R),e(1005,E),e(1007,E),e(1028,E),e(1016,T),e(1017,k),e(1021,C),e(1022,C),e(1231,C),e(1014,P),e(1015,P),e(1008,P),e(1009,P),e(1040,P),e(1041,P),e(1115,O),e(1182,O),e(1185,O),e(1186,b),e(1187,I),e(17,v),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,$),e(3807,$),e(3907,P),e(2951,P),e(791,P),e(1183,P),e(1270,P)}}},93474:e=>{"use strict";e.exports=(e,d,h)=>{h=h||d;let m=Math.min(d-h,e-Math.floor(h/2));m<0&&(m=0);let g=Math.min(m+h,d);return{startIndex:m,endIndex:g}}},93777:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.serialize=void 0;let m=h(88007),g=new m.Writer,y=e=>{for(let d of(g.addInt16(3).addInt16(0),Object.keys(e)))g.addCString(d).addCString(e[d]);g.addCString("client_encoding").addCString("UTF8");let d=g.addCString("").flush(),h=d.length+4;return new m.Writer().addInt32(h).add(d).flush()},b=()=>{let e=Buffer.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(0x4d2162f,4),e},v=e=>g.addCString(e).flush(112),w=function(e,d){return g.addCString(e).addInt32(Buffer.byteLength(d)).addString(d),g.flush(112)},S=function(e){return g.addString(e).flush(112)},x=e=>g.addCString(e).flush(81),_=[],E=e=>{let d=e.name||"";d.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",d,d.length),console.error("This can cause conflicts and silent errors executing queries"));let h=e.types||_,m=h.length,y=g.addCString(d).addCString(e.text).addInt16(m);for(let e=0;e<m;e++)y.addInt32(h[e]);return g.flush(80)},T=new m.Writer,k=function(e,d){for(let h=0;h<e.length;h++){let m=d?d(e[h],h):e[h];null==m?(g.addInt16(0),T.addInt32(-1)):m instanceof Buffer?(g.addInt16(1),T.addInt32(m.length),T.add(m)):(g.addInt16(0),T.addInt32(Buffer.byteLength(m)),T.addString(m))}},C=(e={})=>{let d=e.portal||"",h=e.statement||"",m=e.binary||!1,y=e.values||_,b=y.length;return g.addCString(d).addCString(h),g.addInt16(b),k(y,e.valueMapper),g.addInt16(b),g.add(T.flush()),g.addInt16(+!!m),g.flush(66)},P=Buffer.from([69,0,0,0,9,0,0,0,0,0]),O=e=>{if(!e||!e.portal&&!e.rows)return P;let d=e.portal||"",h=e.rows||0,m=Buffer.byteLength(d),g=4+m+1+4,y=Buffer.allocUnsafe(1+g);return y[0]=69,y.writeInt32BE(g,1),y.write(d,5,"utf-8"),y[m+5]=0,y.writeUInt32BE(h,y.length-4),y},I=(e,d)=>{let h=Buffer.allocUnsafe(16);return h.writeInt32BE(16,0),h.writeInt16BE(1234,4),h.writeInt16BE(5678,6),h.writeInt32BE(e,8),h.writeInt32BE(d,12),h},R=(e,d)=>{let h=4+Buffer.byteLength(d)+1,m=Buffer.allocUnsafe(1+h);return m[0]=e,m.writeInt32BE(h,1),m.write(d,5,"utf-8"),m[h]=0,m},D=g.addCString("P").flush(68),L=g.addCString("S").flush(68),$=e=>e.name?R(68,`${e.type}${e.name||""}`):"P"===e.type?D:L,M=e=>R(67,`${e.type}${e.name||""}`),B=e=>g.add(e).flush(100),j=e=>R(102,e),U=e=>Buffer.from([e,0,0,0,4]),F=U(72),z=U(83),q=U(88),V=U(99);d.serialize={startup:y,password:v,requestSsl:b,sendSASLInitialResponseMessage:w,sendSCRAMClientFinalMessage:S,query:x,parse:E,bind:C,execute:O,describe:$,close:M,flush:()=>F,sync:()=>z,end:()=>q,copyData:B,copyDone:()=>V,copyFail:j,cancel:I}},93783:e=>{"use strict";let d,h={exit:[],beforeExit:[]},m={exit:v,beforeExit:w};function g(){void 0===d&&(d=new FinalizationRegistry(x))}function y(e){h[e].length>0||process.on(e,m[e])}function b(e){h[e].length>0||(process.removeListener(e,m[e]),0===h.exit.length&&0===h.beforeExit.length&&(d=void 0))}function v(){S("exit")}function w(){S("beforeExit")}function S(e){for(let d of h[e]){let h=d.deref(),m=d.fn;void 0!==h&&m(h,e)}h[e]=[]}function x(e){for(let d of["exit","beforeExit"]){let m=h[d].indexOf(e);h[d].splice(m,m+1),b(d)}}function _(e,m,b){if(void 0===m)throw Error("the object can't be undefined");y(e);let v=new WeakRef(m);v.fn=b,g(),d.register(m,v),h[e].push(v)}e.exports={register:function(e,d){_("exit",e,d)},registerBeforeExit:function(e,d){_("beforeExit",e,d)},unregister:function(e){if(void 0!==d)for(let m of(d.unregister(e),["exit","beforeExit"]))h[m]=h[m].filter(d=>{let h=d.deref();return h&&h!==e}),b(m)}}},93818:(e,d,h)=>{"use strict";e.exports=b;let{createCopier:m}=h(22212),g=m({}),y=h(21653);function b({log:e,context:d}){let{ignoreKeys:h,includeKeys:m}=d,b=g(e);if(m){let e={};return m.forEach(d=>{e[d]=b[d]}),e}return h.forEach(e=>{y(b,e)}),b}},94380:(e,d,h)=>{"use strict";h.d(d,{M:()=>g});var m=h(23718);function g({id:e,collectionSlug:d,payload:h}){let g=h.collections[d]?.customIDType??h.db.defaultIDType;return e?"number"===g&&(0,m.E)(e)?parseFloat(String(e)):e:void 0}},94415:(e,d,h)=>{"use strict";h.d(d,{j:()=>x});var m=h(26154),g=h(89426),y=h(92520),b=h(69548),v=h(71707),w=h(12276),S=h(85455);let x=async e=>{let{slug:d,depth:h,draft:x=!1,globalConfig:_,includeLockStatus:E,overrideAccess:T=!1,populate:k,req:{fallbackLocale:C,locale:P},req:O,select:I,showHiddenFields:R}=e;try{let e;T||(e=await (0,m.A)({req:O},_.access.read));let v=(0,w.Y)({fields:_.flattenedFields,forceSelect:_.forceSelect,select:I}),D=await O.payload.db.findGlobal({slug:d,locale:P,req:O,select:v,where:T?void 0:e});if(D||(D={}),E&&d){let e=null;try{let h=_?.lockDocuments,m=300,g="object"==typeof h?h.duration:m,b=1e3*g,v=await O.payload.find({collection:y.q,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:O,where:{and:[{globalSlug:{equals:d}},{updatedAt:{greater_than:new Date(new Date().getTime()-b)}}]}});v&&v.docs.length>0&&(e=v.docs[0])}catch{}D._isLocked=!!e,D._userEditing=e?.user?.value??null}if(_.versions?.drafts&&x&&(D=await (0,S.A)({accessResult:e,doc:D,entity:_,entityType:"global",overrideAccess:T,req:O,select:v})),_.hooks?.beforeRead?.length)for(let e of _.hooks.beforeRead)D=await e({context:O.context,doc:D,global:_,req:O})||D;if(v&&D.globalType){let e=(0,b.a)(v);("include"!==e||v.globalType)&&("exclude"!==e||!1!==v.globalType)||delete D.globalType}if(D=await (0,g.v)({collection:null,context:O.context,depth:h,doc:D,draft:x,fallbackLocale:C,global:_,locale:P,overrideAccess:T,populate:k,req:O,select:v,showHiddenFields:R}),_.hooks?.afterRead?.length)for(let e of _.hooks.afterRead)D=await e({context:O.context,doc:D,global:_,req:O})||D;return D}catch(e){throw await (0,v.J)(O),e}}},94908:(e,d,h)=>{"use strict";var m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,v=(e,d)=>m(e,"name",{value:d,configurable:!0}),w=(e,d,h,v)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let w of y(d))b.call(e,w)||w===h||m(e,w,{get:()=>d[w],enumerable:!(v=g(d,w))||v.enumerable});return e},S=e=>w(m({},"__esModule",{value:!0}),e),x={};((e,d)=>{for(var h in d)m(e,h,{get:d[h],enumerable:!0})})(x,{NODE_APP_ID_CONFIG_OPTIONS:()=>L,UA_APP_ID_ENV_NAME:()=>I,UA_APP_ID_INI_NAME:()=>R,createDefaultUserAgentProvider:()=>C,crtAvailability:()=>T,defaultUserAgent:()=>P}),e.exports=S(x);var _=h(21820),E=h(19771),T={isCrtAvailable:!1},k=v(()=>T.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),C=v(({serviceId:e,clientVersion:d})=>async h=>{let m=[["aws-sdk-js",d],["ua","2.1"],[`os/${(0,_.platform)()}`,(0,_.release)()],["lang/js"],["md/nodejs",`${E.versions.node}`]],g=k();g&&m.push(g),e&&m.push([`api/${e}`,d]),E.env.AWS_EXECUTION_ENV&&m.push([`exec-env/${E.env.AWS_EXECUTION_ENV}`]);let y=await h?.userAgentAppId?.();return y?[...m,[`app/${y}`]]:[...m]},"createDefaultUserAgentProvider"),P=C,O=h(71860),I="AWS_SDK_UA_APP_ID",R="sdk_ua_app_id",D="sdk-ua-app-id",L={environmentVariableSelector:v(e=>e[I],"environmentVariableSelector"),configFileSelector:v(e=>e[R]??e[D],"configFileSelector"),default:O.DEFAULT_UA_APP_ID}},94941:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(11622),g=h(52046);d.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,g.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,g._)`{pattern: ${e}}`},code(e){let{data:d,$data:h,schema:y,schemaCode:b,it:v}=e,w=v.opts.unicodeRegExp?"u":"",S=h?(0,g._)`(new RegExp(${b}, ${w}))`:(0,m.usePattern)(e,y);e.fail$data((0,g._)`!${S}.test(${d})`)}}},95040:(e,d,h)=>{"use strict";function m(e,d,h,m,g,y,b){try{var v=e[y](b),w=v.value}catch(e){h(e);return}v.done?d(w):Promise.resolve(w).then(m,g)}function g(e){return function(){var d=this,h=arguments;return new Promise(function(g,y){var b=e.apply(d,h);function v(e){m(b,g,y,v,w,"next",e)}function w(e){m(b,g,y,v,w,"throw",e)}v(void 0)})}}let y=h(52838),b=h(85183),v=h(41893),w=v.cursor,S=v.erase,x=h(8984),_=x.style,E=x.figures,T=x.clear,k=x.lines,C=/[0-9]/,P=e=>void 0!==e,O=(e,d)=>{let h=Math.pow(10,d);return Math.round(e*h)/h};class I extends b{constructor(e={}){super(e),this.transform=_.render(e.style),this.msg=e.message,this.initial=P(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=P(e.min)?e.min:-1/0,this.max=P(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${O(e,this.round)}`),this._value=O(e,this.round)):(this.placeholder=!0,this.rendered=y.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return"-"===e||"."===e&&this.float||C.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=""!==e?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return g(function*(){let d=yield e.validator(e.value);"string"==typeof d&&(e.errorMsg=d,d=!1),e.error=!d})()}submit(){var e=this;return g(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let d=e.value;e.value=""!==d?d:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(0===e.length)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,d){if(!this.valid(e))return this.bell();let h=Date.now();if(h-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=h,this.color="cyan","."===e)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(w.down(k(this.outputError,this.out.columns)-1)+T(this.outputError,this.out.columns)),this.out.write(T(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[_.symbol(this.done,this.aborted),y.bold(this.msg),_.delimiter(this.done),!this.done||!this.done&&!this.placeholder?y[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,d,h)=>e+`
${h?" ":E.pointerSmall} ${y.red().italic(d)}`,"")),this.out.write(S.line+w.to(0)+this.outputText+w.save+this.outputError+w.restore))}}e.exports=I},95301:(e,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.MAX_HASHABLE_LENGTH=d.INIT=d.KEY=d.DIGEST_LENGTH=d.BLOCK_SIZE=void 0,d.BLOCK_SIZE=64,d.DIGEST_LENGTH=32,d.KEY=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),d.INIT=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],d.MAX_HASHABLE_LENGTH=0x1fffffffffffff},95309:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.createChecksumStream=b;let m=h(39444),g=h(85149),y=h(51863);function b(e){return"function"==typeof ReadableStream&&(0,m.isReadableStream)(e.source)?(0,y.createChecksumStream)(e):new g.ChecksumStream(e)}},95335:(e,d,h)=>{"use strict";h.d(d,{z:()=>ed});var m=h(89554),g=h(33873);let y=/multipart\/['"()+-_]+(?:; ?['"()+-_]*)+$/i,b=new Set(["CONNECT","DELETE","GET","HEAD","OPTIONS","TRACE"]),v=e=>!!(e.headers.get("transfer-encoding")||e.headers.get("content-length")&&"0"!==e.headers.get("content-length")),w=e=>!b.has(e.method),S=e=>{let d=e.headers.get("content-type");return d.includes("boundary=")&&y.test(d)},x=e=>{try{return v(e)&&w(e)&&S(e)}catch(e){return!1}};var _=h(27125),E=h(13062),T=h(29021),k=h(27910);let C=/[^\w-]/g,P=3,O=65536,I="tmp",R=0,D=(e,d)=>!!(e||{}).debug&&(console.log(`Next-file-upload: ${d}`),!0),L=(e=I)=>(R=R>=O?1:R+1,`${e}-${R}-${Date.now()}`),$=e=>"function"==typeof e,M=(e,d)=>$(d)?d:e,B=(e,d)=>{let h=!1;return m=>{if(!h)return h=!0,m?M(e,d)(m):e()}},j=Object.getOwnPropertyNames(Object.prototype),U=Object.getOwnPropertyNames(Array.prototype),F=(e,d)=>{let h=e instanceof Array&&U.includes(d),m=j.includes(d);return!h&&!m},z=(e,d,h)=>(null!=h&&F(e=e||Object.create(null),d)&&(e[d]?e[d]instanceof Array?e[d].push(h):e[d]=[e[d],h]:e[d]=h),e),q=(e,d)=>{if(!e.createParentPath)return!1;let h=g.dirname(d);return T.existsSync(h)||T.mkdirSync(h,{recursive:!0}),T.existsSync(h)},V=(e,d)=>T.unlink(e,d),H=(e,d,h)=>{let m=!1,g=e=>{m||(m=!0,h(e))},y=T.createReadStream(e);y.on("error",g);let b=T.createWriteStream(d);b.on("error",e=>{y.destroy(),g(e)}),b.on("close",()=>g()),y.pipe(b)},K=(e,d,h)=>T.rename(e,d,m=>{if(m)return void H(e,d,d=>d?h(d):V(e,h));h(null,!0)}),G=(e,d,h)=>{if(!Buffer.isBuffer(e))return h(Error("buffer variable should be type of Buffer!"));let m=e,g=new k.Readable;g._read=()=>{g.push(m),m=null};let y=T.createWriteStream(d);y.on("error",e=>{h(e)}),y.on("close",()=>{h()}),g.pipe(y)},W=(e,d)=>{if(!e||!e.uriDecodeFileNames)return d;try{return decodeURIComponent(d)}catch(h){let e=/(%[a-f\d]{2})/gi;return d.split(e).map(e=>{try{return decodeURIComponent(e)}catch(e){return""}}).join("")}},J=(e,d)=>{let h={name:d,extension:""};if(!e)return h;let m="boolean"==typeof e?P:e,g=d.split(".");if(g.length<2)return h;let y=g.pop();return y.length>m&&m>0&&(g[g.length-1]+="."+y.substr(0,y.length-m),y=y.substr(-m)),{name:g.join("."),extension:m?y:""}},Q=(e,d)=>{if(!d||"string"!=typeof d)return L();let h=d.length<=255?d:d.substr(0,255);if(h=W(e,h),!e.safeFileNames)return h;let m="object"==typeof e.safeFileNames&&e.safeFileNames instanceof RegExp?e.safeFileNames:C,g=J(e.preserveExtension,h);return g.extension.length&&(g.extension="."+g.extension.replace(m,"")),g.name.replace(m,"").concat(g.extension)},Y=(e,d,h)=>(m,g)=>{D(h,`Moving temporary file ${d.tempFilePath} to ${e}`),K(d.tempFilePath,e,B(m,g))},X=(e,d,h)=>(m,g)=>{D(h,`Moving uploaded buffer to ${e}`),G(d.buffer,e,B(m,g))},Z=(e,d)=>({name:e.name,data:e.buffer,encoding:e.encoding,md5:e.hash,mimetype:e.mimetype,mv:(h,m)=>{let g=d.useTempFiles?Y(h,e,d):X(h,e,d);q(d,h);let y=()=>void 0;return $(m)?g(m,y):new Promise(g)},size:e.size,tempFilePath:e.tempFilePath,truncated:e.truncated});var ee=h(55511);let et=(e,d,h)=>{let m=g.normalize(e.tempFileDir),y=g.join(process.cwd(),m,L());q({createParentPath:!0},y),D(e,`Temporary file path is ${y}`);let b=ee.createHash("md5"),v=0,w=!1;D(e,`Opening write stream for ${d}->${h}...`);let S=T.createWriteStream(y),x=new Promise((d,h)=>{S.on("finish",()=>d(!0)),S.on("error",d=>{D(e,`Error write temp file: ${d}`),h(d)})});return{cleanup:()=>{w=!0,D(e,`Cleaning up temporary file ${y}...`),S.end(),V(y,d=>d?D(e,`Cleaning up temporary file ${y} failed: ${d}`):D(e,`Cleaning up temporary file ${y} done.`))},complete:()=>(w=!0,D(e,`Upload ${d}->${h} completed, bytes:${v}.`),S instanceof T.WriteStream&&S.end(),Buffer.concat([])),dataHandler:m=>{if(!0===w)return void D(e,`Error: got ${d}->${h} data chunk for completed upload!`);S.write(m),b.update(m),v+=m.length,D(e,`Uploading ${d}->${h}, bytes:${v}...`)},getFilePath:()=>y,getFileSize:()=>v,getHash:()=>b.digest("hex"),getWritePromise:()=>x}},ei=(e,d,h)=>{let m=[],g=ee.createHash("md5"),y=0,b=!1,v=()=>Buffer.concat(m,y);return{cleanup:()=>{b=!0},complete:()=>(D(e,`Upload ${d}->${h} completed, bytes:${y}.`),b=!0,v()),dataHandler:v=>{if(!0===b)return void D(e,`Error: got ${d}->${h} data chunk for completed upload!`);m.push(v),g.update(v),y+=v.length,D(e,`Uploading ${d}->${h}, bytes:${y}...`)},getFilePath:()=>"",getFileSize:()=>y,getHash:()=>g.digest("hex"),getWritePromise:()=>Promise.resolve(!0)}},er=function(e){if(!e||e.length<1)return Object.create(null);let d=Object.create(null),h=Object.keys(e);for(let m=0;m<h.length;m++){let g=h[m],y=g.replace(new RegExp(/\[/g),".").replace(new RegExp(/\]/g),"").split("."),b=e[g],v=d;for(let e=0;e<y.length;e++){let d=y[e];F(v,d)&&(e>=y.length-1?v[d]=b:(v[d]||(v[d]=y[e+1]?Object.create(null):[]),v=v[d]))}}return d},ea=(e=0,d=()=>{})=>{let h=null,m=()=>{clearTimeout(h)},g=()=>!!e&&(m(),h=setTimeout(d,e),!0);return{clear:m,set:g}},en=Symbol("wait flush property symbol"),es=async({options:e,request:d})=>{let h,g,y=!0,b=!1,v=0,w=0,S=new Promise((e,d)=>{h=e,g=d}),x={fields:void 0,files:void 0},T={};d.headers.forEach((e,d)=>{T[d]=e});let k=d.body.getReader(),C=_({...e,headers:T});function P(e,d){e.destroy(),b=!0,g(d)}for(C.on("field",(e,d)=>{x.fields=z(x.fields,e,d)}),C.on("file",(y,b,S)=>{v+=1;let{encoding:_,filename:T,mimeType:k}=S,O=Q(e,T),{cleanup:I,complete:R,dataHandler:L,getFilePath:M,getFileSize:B,getHash:j,getWritePromise:U}=e.useTempFiles?et(e,y,O):ei(e,y,O),F=e.useTempFiles?U().catch(e=>{C.end(),I()}):U(),q=ea(e.uploadTimeout,()=>P(b,new m.L(`Upload timeout for ${y}->${O}, bytes:${B()}`)));b.on("limit",()=>{D(e,`Size limit reached for ${y}->${O}, bytes:${B()}`),q.clear(),$(e.limitHandler)&&e.limitHandler({request:d,size:B()}),e.abortOnLimit&&(D(e,`Upload file size limit reached ${y}->${O}.`),I(),P(b,new m.L(e.responseOnLimit,E.h.REQUEST_ENTITY_TOO_LARGE,{size:B()})))}),b.on("data",e=>{q.set(),L(e)}),b.on("end",()=>{let m=B();if(D(e,`Upload finished ${y}->${O}, bytes:${m}`),q.clear(),!T&&0===m)return v-=1,e.useTempFiles&&(I(),D(e,`Removing the empty file ${y}->${O}`)),D(e,"Don't add file instance if original name and size are empty");w+=1,x.files=z(x.files,y,Z({name:O,buffer:R(),encoding:_,hash:j(),mimetype:k,size:m,tempFilePath:M(),truncated:!!("truncated"in b&&b.truncated)},e)),d[en]||(d[en]=[]),d[en].push(F),w===v&&h()}),b.on("error",d=>{q.clear(),D(e,`File Error: ${d.message}`),I(),g(d)}),D(e,`New upload started ${y}->${O}, bytes:${B()}`),q.set()}),C.on("finish",async()=>{if(D(e,"Busboy finished parsing request."),e.parseNested&&(x.fields=er(x.fields),x.files=er(x.files)),d[en])try{await Promise.all(d[en]).then(()=>{delete d[en]})}catch(d){D(e,`Error waiting for file write promises: ${d}`)}return x}),C.on("error",(d=new m.L("Busboy error parsing multipart request",E.h.BAD_REQUEST))=>{throw D(e,"Busboy error"),d});y;){let{done:e,value:d}=await k.read();e&&(y=!1),d&&!b&&C.write(d)}return 0!==v&&await S.catch(e=>{throw e}),x},eo={abortOnLimit:!1,createParentPath:!1,debug:!1,defParamCharset:"utf8",limitHandler:!1,parseNested:!1,preserveExtension:!1,responseOnLimit:"File size limit has been reached",safeFileNames:!1,tempFileDir:g.join(process.cwd(),"tmp"),uploadTimeout:6e4,uriDecodeFileNames:!1,useTempFiles:!1},el=async({options:e,request:d})=>{let h={...eo,...e};return x(d)?es({options:h,request:d}):(D(h,"Request is not eligible for file upload!"),{error:new m.L("Request is not eligible for file upload",500),fields:void 0,files:void 0})},ed=async e=>{let{body:d,headers:h,method:g,payload:y}=e;if(g&&["PATCH","POST","PUT"].includes(g.toUpperCase())&&d){let[d]=(h.get("Content-Type")||"").split(";"),g=parseInt(e.headers.get("Content-Length")||"0",10);if("application/json"===d){let d={};try{let h=await e.text();d=h?JSON.parse(h):{}}catch(d){e.payload.logger.error(d)}finally{e.data=d,e.json=()=>Promise.resolve(d)}}else if(g&&d.includes("multipart/")){let{error:d,fields:h,files:g}=await el({options:y.config.upload,request:e});if(d)throw new m.L(d.message);if(g?.file&&(e.file=g.file),h?._payload&&"string"==typeof h._payload&&(e.data=JSON.parse(h._payload)),!e.file&&h?.file&&"string"==typeof h?.file){let d,{clientUploadContext:g,collectionSlug:b,filename:v,mimeType:w,size:S}=JSON.parse(h.file),x=e.payload.collections[b].config.upload;if(!x.handlers)throw new m.L("uploadConfig.handlers is not present for "+b);let _=null;for(let h of x.handlers)try{let d=await h(e,{doc:null,params:{clientUploadContext:g,collection:b,filename:v}});d&&(_=d)}catch(e){d=e}if(!_)throw d&&y.logger.error(d),new m.L("Expected response from the upload handler.");e.file={name:v,clientUploadContext:g,data:Buffer.from(await _.arrayBuffer()),mimetype:_.headers.get("Content-Type")||w,size:S}}}}}},95385:(e,d,h)=>{"use strict";let m=h(52838),g=h(85183),y=h(8984),b=y.style,v=y.clear,w=h(41893),S=w.cursor,x=w.erase;class _ extends g{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,d){if(" "===e)this.value=!this.value;else if("1"===e)this.value=!0;else{if("0"!==e)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(S.hide):this.out.write(v(this.outputText,this.out.columns)),super.render(),this.outputText=[b.symbol(this.done,this.aborted),m.bold(this.msg),b.delimiter(this.done),this.value?this.inactive:m.cyan().underline(this.inactive),m.gray("/"),this.value?m.cyan().underline(this.active):this.active].join(" "),this.out.write(x.line+S.to(0)+this.outputText))}}e.exports=_},95498:(e,d,h)=>{"use strict";let m=h(95842),g=h(26534),y=h(76225),b=g.implSymbol;function v(d){if(!this||this[b]||!(this instanceof v))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let h=[];for(let e=0;e<arguments.length&&e<2;++e)h[e]=arguments[e];h[0]=m.USVString(h[0]),void 0!==h[1]&&(h[1]=m.USVString(h[1])),e.exports.setup(this,h)}v.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");let d=[];for(let e=0;e<arguments.length&&e<0;++e)d[e]=arguments[e];return this[b].toJSON.apply(this[b],d)},Object.defineProperty(v.prototype,"href",{get(){return this[b].href},set(e){e=m.USVString(e),this[b].href=e},enumerable:!0,configurable:!0}),v.prototype.toString=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(v.prototype,"origin",{get(){return this[b].origin},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"protocol",{get(){return this[b].protocol},set(e){e=m.USVString(e),this[b].protocol=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"username",{get(){return this[b].username},set(e){e=m.USVString(e),this[b].username=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"password",{get(){return this[b].password},set(e){e=m.USVString(e),this[b].password=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"host",{get(){return this[b].host},set(e){e=m.USVString(e),this[b].host=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"hostname",{get(){return this[b].hostname},set(e){e=m.USVString(e),this[b].hostname=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"port",{get(){return this[b].port},set(e){e=m.USVString(e),this[b].port=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"pathname",{get(){return this[b].pathname},set(e){e=m.USVString(e),this[b].pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"search",{get(){return this[b].search},set(e){e=m.USVString(e),this[b].search=e},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"hash",{get(){return this[b].hash},set(e){e=m.USVString(e),this[b].hash=e},enumerable:!0,configurable:!0}),e.exports={is:e=>!!e&&e[b]instanceof y.implementation,create(e,d){let h=Object.create(v.prototype);return this.setup(h,e,d),h},setup(e,d,h){h||(h={}),h.wrapper=e,e[b]=new y.implementation(d,h),e[b][g.wrapperSymbol]=e},interface:v,expose:{Window:{URL:v},Worker:{URL:v}}}},95518:(e,d,h)=>{"use strict";h.d(d,{D:()=>x});var m=h(94380);let g=async({breadcrumbs:e=[],folderID:d,req:h})=>{let{payload:m,user:y}=h,b=m.config.folders.fieldName;if(d){let v=(await m.find({collection:m.config.folders.slug,depth:0,limit:1,overrideAccess:!1,req:h,select:{name:!0,[b]:!0},user:y,where:{id:{equals:d}}})).docs[0];if(v&&(e.push({id:v.id,name:v.name}),v[b]))return g({breadcrumbs:e,folderID:"number"==typeof v[b]||"string"==typeof v[b]?v[b]:v[b].id,req:h})}return e.reverse()};var y=h(79204);let b=({sizes:e,targetSizeMax:d=180,targetSizeMin:h=40,thumbnailURL:m,url:g,width:y})=>m||e&&Object.values(e).reduce((e,m)=>!m.width||m.width<h?e:m.width>=h&&m.width<=d?!e.width||m.width<e.width||e.width<h||e.width>d?m:e:!e.width||!e.original&&e.width<h&&m.width>e.width||e.width>d&&m.width<e.width?m:e,{original:!0,url:g,width:y}).url||g;function v({folderFieldName:e,isUpload:d,relationTo:h,useAsTitle:m,value:g}){let v={id:g?.id,_folderOrDocumentTitle:String(m&&g?.[m]||g.id),createdAt:g?.createdAt,folderID:g?.[e],updatedAt:g?.updatedAt};return d&&(v.filename=g.filename,v.mimeType=g.mimeType,v.url=(0,y.w)(g.mimeType)?b({sizes:g.sizes,targetSizeMax:520,targetSizeMin:300,url:g.url,width:g.width}):void 0),{itemKey:`${h}-${g.id}`,relationTo:h,value:v}}async function w({collectionSlug:e,parentFolderID:d,req:h}){let{payload:m,user:g}=h,y=m.config.collections.reduce((e,d)=>(d?.folders&&e.push(d.slug),e),[]),b=await m.find({collection:m.config.folders.slug,joins:{documentsAndFolders:{limit:1e5,sort:"name",where:{relationTo:{in:[m.config.folders.slug,...e?[e]:y]}}}},limit:1,overrideAccess:!1,req:h,user:g,where:{id:{equals:d}}});return(b?.docs[0]?.documentsAndFolders?.docs||[]).reduce((e,d)=>{let{relationTo:h,value:g}=d,y=v({folderFieldName:m.config.folders.fieldName,isUpload:!!m.collections[h].config.upload,relationTo:h,useAsTitle:m.collections[h].config.admin?.useAsTitle,value:g});return h===m.config.folders.slug?e.subfolders.push(y):e.documents.push(y),e},{documents:[],subfolders:[]})}async function S({collectionSlug:e,req:d,search:h}){let{payload:m,user:g}=d,y={or:[{[m.config.folders.fieldName]:{exists:!1}},{[m.config.folders.fieldName]:{equals:null}}]};e&&h&&m.collections[e].config.admin?.useAsTitle&&(y={[m.collections[e].config.admin.useAsTitle]:{like:h}});let b=await m.find({collection:e,limit:0,overrideAccess:!1,req:d,sort:m.collections[e].config.admin.useAsTitle,user:g,where:y});return b?.docs.map(d=>v({folderFieldName:m.config.folders.fieldName,isUpload:!!m.collections[e].config.upload,relationTo:e,useAsTitle:m.collections[e].config.admin.useAsTitle,value:d}))||[]}let x=async({collectionSlug:e,folderID:d,req:h,search:y})=>{let{payload:b,user:v}=h,x=(0,m.M)({id:d,collectionSlug:b.config.folders.slug,payload:b}),_=g({folderID:x,req:h});if(x){let d=w({collectionSlug:e,parentFolderID:x,req:h}),[m,g]=await Promise.all([_,d]);return{breadcrumbs:m,documents:g.documents,subfolders:g.subfolders}}{let d=S({collectionSlug:b.config.folders.slug,req:h,search:y}),m=e?S({collectionSlug:e,req:h,search:y}):Promise.resolve([]),[g,v,w]=await Promise.all([_,d,m]);return{breadcrumbs:g,documents:w,subfolders:v}}}},95698:(e,d)=>{"use strict";function h(e,d){return d.rules.some(d=>m(e,d))}function m(e,d){var h;return void 0!==e[d.keyword]||(null==(h=d.definition.implements)?void 0:h.some(d=>void 0!==e[d]))}Object.defineProperty(d,"__esModule",{value:!0}),d.shouldUseRule=d.shouldUseGroup=d.schemaHasRulesForType=void 0,d.schemaHasRulesForType=function({schema:e,self:d},m){let g=d.RULES.types[m];return g&&!0!==g&&h(e,g)},d.shouldUseGroup=h,d.shouldUseRule=m},95842:e=>{"use strict";var d={};function h(e){return e<0?-1:1}function m(e){return e%1==.5&&(1&e)==0?Math.floor(e):Math.round(e)}function g(e,d){!d.unsigned&&--e;let g=d.unsigned?0:-Math.pow(2,e),y=Math.pow(2,e)-1,b=d.moduloBitLength?Math.pow(2,d.moduloBitLength):Math.pow(2,e),v=d.moduloBitLength?Math.pow(2,d.moduloBitLength-1):Math.pow(2,e-1);return function(e,w){w||(w={});let S=+e;if(w.enforceRange){if(!Number.isFinite(S))throw TypeError("Argument is not a finite number");if((S=h(S)*Math.floor(Math.abs(S)))<g||S>y)throw TypeError("Argument is not in byte range");return S}if(!isNaN(S)&&w.clamp)return(S=m(S))<g&&(S=g),S>y&&(S=y),S;if(!Number.isFinite(S)||0===S)return 0;if(S=h(S)*Math.floor(Math.abs(S))%b,!d.unsigned&&S>=v)return S-b;if(d.unsigned){if(S<0)S+=b;else if(-0===S)return 0}return S}}e.exports=d,d.void=function(){},d.boolean=function(e){return!!e},d.byte=g(8,{unsigned:!1}),d.octet=g(8,{unsigned:!0}),d.short=g(16,{unsigned:!1}),d["unsigned short"]=g(16,{unsigned:!0}),d.long=g(32,{unsigned:!1}),d["unsigned long"]=g(32,{unsigned:!0}),d["long long"]=g(32,{unsigned:!1,moduloBitLength:64}),d["unsigned long long"]=g(32,{unsigned:!0,moduloBitLength:64}),d.double=function(e){let d=+e;if(!Number.isFinite(d))throw TypeError("Argument is not a finite floating-point value");return d},d["unrestricted double"]=function(e){let d=+e;if(isNaN(d))throw TypeError("Argument is NaN");return d},d.float=d.double,d["unrestricted float"]=d["unrestricted double"],d.DOMString=function(e,d){return(d||(d={}),d.treatNullAsEmptyString&&null===e)?"":String(e)},d.ByteString=function(e,d){let h,m=String(e);for(let e=0;void 0!==(h=m.codePointAt(e));++e)if(h>255)throw TypeError("Argument is not a valid bytestring");return m},d.USVString=function(e){let d=String(e),h=d.length,m=[];for(let e=0;e<h;++e){let g=d.charCodeAt(e);if(g<55296||g>57343)m.push(String.fromCodePoint(g));else if(56320<=g&&g<=57343)m.push(String.fromCodePoint(65533));else if(e===h-1)m.push(String.fromCodePoint(65533));else{let h=d.charCodeAt(e+1);if(56320<=h&&h<=57343){let d=1023&g,y=1023&h;m.push(String.fromCodePoint(65536+1024*d+y)),++e}else m.push(String.fromCodePoint(65533))}}return m.join("")},d.Date=function(e,d){if(!(e instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(e))return e},d.RegExp=function(e,d){return e instanceof RegExp||(e=new RegExp(e)),e}},95882:(e,d,h)=>{"use strict";var m=h(33873),g=h(27910).Stream,y=h(47994),b=h(28354),v=5432,w="win32"===process.platform,S=process.stderr,x=56,_=7,E=61440,T=32768;function k(e){return(e&E)==T}var C=["host","port","database","user","password"],P=C.length,O=C[P-1];function I(){if(S instanceof g&&!0===S.writable){var e=Array.prototype.slice.call(arguments).concat("\n");S.write(b.format.apply(b,e))}}Object.defineProperty(e.exports,"isWin",{get:function(){return w},set:function(e){w=e}}),e.exports.warnTo=function(e){var d=S;return S=e,d},e.exports.getFileName=function(e){var d=e||process.env;return d.PGPASSFILE||(w?m.join(d.APPDATA||"./","postgresql","pgpass.conf"):m.join(d.HOME||"./",".pgpass"))},e.exports.usePgPass=function(e,d){return!Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")&&(!!w||((d=d||"<unkn>",k(e.mode))?!(e.mode&(x|_))||(I('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',d),!1):(I('WARNING: password file "%s" is not a plain file',d),!1)))};var R=e.exports.match=function(e,d){return C.slice(0,-1).reduce(function(h,m,g){return 1==g&&Number(e[m]||v)===Number(d[m])?h&&!0:h&&("*"===d[m]||d[m]===e[m])},!0)};e.exports.getPassword=function(e,d,h){var m,g=d.pipe(y());function b(d){var h=D(d);h&&L(h)&&R(e,h)&&(m=h[O],g.end())}var v=function(){d.destroy(),h(m)},w=function(e){d.destroy(),I("WARNING: error on reading file: %s",e),h(void 0)};d.on("error",w),g.on("data",b).on("end",v).on("error",w)};var D=e.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var d="",h="",m=0,g=0,y={},b=!1,v=function(d,h,m){var g=e.substring(h,m);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(g=g.replace(/\\([:\\])/g,"$1")),y[C[d]]=g},w=0;w<e.length-1;w+=1){if(d=e.charAt(w+1),h=e.charAt(w),b=m==P-1){v(m,g);break}w>=0&&":"==d&&"\\"!==h&&(v(m,g,w+1),g=w+2,m+=1)}return y=Object.keys(y).length===P?y:null},L=e.exports.isValidEntry=function(e){for(var d={0:function(e){return e.length>0},1:function(e){return"*"===e||isFinite(e=Number(e))&&e>0&&e<0x20000000000000&&Math.floor(e)===e},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},h=0;h<C.length;h+=1)if(!(0,d[h])(e[C[h]]||""))return!1;return!0}},95964:(e,d,h)=>{"use strict";let{EventEmitter:m}=h(94735),g=h(43803),y=h(47141);class b extends m{constructor(e,d,h){super(),e=y.normalizeQueryConfig(e,d,h),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new g(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new g(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let d;if(!this._canceledDueToError){try{d=this._result.parseRow(e.fields)}catch(e){this._canceledDueToError=e;return}this.emit("row",d,this._result),this._accumulateRows&&this._result.addRow(d)}}handleCommandComplete(e,d){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&d.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,d){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(e){process.nextTick(()=>{throw e})}this.emit("end",this._results)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let d=e.parsedStatements[this.name];return this.text&&d&&this.text!==d?Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,d){e.execute({portal:this.portal,rows:d}),d?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:y.prepareValue})}catch(d){this.handleError(d,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,d){}}e.exports=b},96263:(e,d,h)=>{"use strict";h.d(d,{A:()=>b,O:()=>y});var m=h(55324),g=h(11075);let y=e=>(e.sigv4aSigningRegionSet=(0,m.normalizeProvider)(e.sigv4aSigningRegionSet),e),b={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new g.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new g.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}},96481:(e,d,h)=>{"use strict";e.exports=g;let m=h(36271);function g(e,d){for(let h of Array.isArray(d)?d:m(d)){if(!Object.prototype.hasOwnProperty.call(e,h))return;e=e[h]}return e}},96501:e=>{"use strict";e.exports=JSON.parse('[{"name":"Agola CI","constant":"AGOLA","env":"AGOLA_GIT_REF","pr":"AGOLA_PULL_REQUEST_ID"},{"name":"Appcircle","constant":"APPCIRCLE","env":"AC_APPCIRCLE","pr":{"env":"AC_GIT_PR","ne":"false"}},{"name":"AppVeyor","constant":"APPVEYOR","env":"APPVEYOR","pr":"APPVEYOR_PULL_REQUEST_NUMBER"},{"name":"AWS CodeBuild","constant":"CODEBUILD","env":"CODEBUILD_BUILD_ARN","pr":{"env":"CODEBUILD_WEBHOOK_EVENT","any":["PULL_REQUEST_CREATED","PULL_REQUEST_UPDATED","PULL_REQUEST_REOPENED"]}},{"name":"Azure Pipelines","constant":"AZURE_PIPELINES","env":"TF_BUILD","pr":{"BUILD_REASON":"PullRequest"}},{"name":"Bamboo","constant":"BAMBOO","env":"bamboo_planKey"},{"name":"Bitbucket Pipelines","constant":"BITBUCKET","env":"BITBUCKET_COMMIT","pr":"BITBUCKET_PR_ID"},{"name":"Bitrise","constant":"BITRISE","env":"BITRISE_IO","pr":"BITRISE_PULL_REQUEST"},{"name":"Buddy","constant":"BUDDY","env":"BUDDY_WORKSPACE_ID","pr":"BUDDY_EXECUTION_PULL_REQUEST_ID"},{"name":"Buildkite","constant":"BUILDKITE","env":"BUILDKITE","pr":{"env":"BUILDKITE_PULL_REQUEST","ne":"false"}},{"name":"CircleCI","constant":"CIRCLE","env":"CIRCLECI","pr":"CIRCLE_PULL_REQUEST"},{"name":"Cirrus CI","constant":"CIRRUS","env":"CIRRUS_CI","pr":"CIRRUS_PR"},{"name":"Cloudflare Pages","constant":"CLOUDFLARE_PAGES","env":"CF_PAGES"},{"name":"Codefresh","constant":"CODEFRESH","env":"CF_BUILD_ID","pr":{"any":["CF_PULL_REQUEST_NUMBER","CF_PULL_REQUEST_ID"]}},{"name":"Codemagic","constant":"CODEMAGIC","env":"CM_BUILD_ID","pr":"CM_PULL_REQUEST"},{"name":"Codeship","constant":"CODESHIP","env":{"CI_NAME":"codeship"}},{"name":"Drone","constant":"DRONE","env":"DRONE","pr":{"DRONE_BUILD_EVENT":"pull_request"}},{"name":"dsari","constant":"DSARI","env":"DSARI"},{"name":"Earthly","constant":"EARTHLY","env":"EARTHLY_CI"},{"name":"Expo Application Services","constant":"EAS","env":"EAS_BUILD"},{"name":"Gerrit","constant":"GERRIT","env":"GERRIT_PROJECT"},{"name":"Gitea Actions","constant":"GITEA_ACTIONS","env":"GITEA_ACTIONS"},{"name":"GitHub Actions","constant":"GITHUB_ACTIONS","env":"GITHUB_ACTIONS","pr":{"GITHUB_EVENT_NAME":"pull_request"}},{"name":"GitLab CI","constant":"GITLAB","env":"GITLAB_CI","pr":"CI_MERGE_REQUEST_ID"},{"name":"GoCD","constant":"GOCD","env":"GO_PIPELINE_LABEL"},{"name":"Google Cloud Build","constant":"GOOGLE_CLOUD_BUILD","env":"BUILDER_OUTPUT"},{"name":"Harness CI","constant":"HARNESS","env":"HARNESS_BUILD_ID"},{"name":"Heroku","constant":"HEROKU","env":{"env":"NODE","includes":"/app/.heroku/node/bin/node"}},{"name":"Hudson","constant":"HUDSON","env":"HUDSON_URL"},{"name":"Jenkins","constant":"JENKINS","env":["JENKINS_URL","BUILD_ID"],"pr":{"any":["ghprbPullId","CHANGE_ID"]}},{"name":"LayerCI","constant":"LAYERCI","env":"LAYERCI","pr":"LAYERCI_PULL_REQUEST"},{"name":"Magnum CI","constant":"MAGNUM","env":"MAGNUM"},{"name":"Netlify CI","constant":"NETLIFY","env":"NETLIFY","pr":{"env":"PULL_REQUEST","ne":"false"}},{"name":"Nevercode","constant":"NEVERCODE","env":"NEVERCODE","pr":{"env":"NEVERCODE_PULL_REQUEST","ne":"false"}},{"name":"Prow","constant":"PROW","env":"PROW_JOB_ID"},{"name":"ReleaseHub","constant":"RELEASEHUB","env":"RELEASE_BUILD_ID"},{"name":"Render","constant":"RENDER","env":"RENDER","pr":{"IS_PULL_REQUEST":"true"}},{"name":"Sail CI","constant":"SAIL","env":"SAILCI","pr":"SAIL_PULL_REQUEST_NUMBER"},{"name":"Screwdriver","constant":"SCREWDRIVER","env":"SCREWDRIVER","pr":{"env":"SD_PULL_REQUEST","ne":"false"}},{"name":"Semaphore","constant":"SEMAPHORE","env":"SEMAPHORE","pr":"PULL_REQUEST_NUMBER"},{"name":"Sourcehut","constant":"SOURCEHUT","env":{"CI_NAME":"sourcehut"}},{"name":"Strider CD","constant":"STRIDER","env":"STRIDER"},{"name":"TaskCluster","constant":"TASKCLUSTER","env":["TASK_ID","RUN_ID"]},{"name":"TeamCity","constant":"TEAMCITY","env":"TEAMCITY_VERSION"},{"name":"Travis CI","constant":"TRAVIS","env":"TRAVIS","pr":{"env":"TRAVIS_PULL_REQUEST","ne":"false"}},{"name":"Vela","constant":"VELA","env":"VELA","pr":{"VELA_PULL_REQUEST":"1"}},{"name":"Vercel","constant":"VERCEL","env":{"any":["NOW_BUILDER","VERCEL"]},"pr":"VERCEL_GIT_PULL_REQUEST_ID"},{"name":"Visual Studio App Center","constant":"APPCENTER","env":"APPCENTER_BUILD_ID"},{"name":"Woodpecker","constant":"WOODPECKER","env":{"CI":"woodpecker"},"pr":{"CI_BUILD_EVENT":"pull_request"}},{"name":"Xcode Cloud","constant":"XCODE_CLOUD","env":"CI_XCODE_PROJECT","pr":"CI_PULL_REQUEST_NUMBER"},{"name":"Xcode Server","constant":"XCODE_SERVER","env":"XCS"}]')},96543:(e,d,h)=>{"use strict";h.r(d),h.d(d,{Field:()=>b,Fields:()=>v,HttpRequest:()=>w,HttpResponse:()=>x,getHttpHandlerExtensionConfiguration:()=>m,isValidHostname:()=>_,resolveHttpHandlerRuntimeConfig:()=>g});let m=e=>({setHttpHandler(d){e.httpHandler=d},httpHandler:()=>e.httpHandler,updateHttpClientConfig(d,h){e.httpHandler?.updateHttpClientConfig(d,h)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}),g=e=>({httpHandler:e.httpHandler()});var y=h(38755);class b{constructor({name:e,kind:d=y.FieldPosition.HEADER,values:h=[]}){this.name=e,this.kind=d,this.values=h}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(d=>d!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}}class v{constructor({fields:e=[],encoding:d="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=d}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(d=>d.kind===e)}}class w{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let d=new w({...e,headers:{...e.headers}});return d.query&&(d.query=S(d.query)),d}static isInstance(e){if(!e)return!1;let d=e;return"method"in d&&"protocol"in d&&"hostname"in d&&"path"in d&&"object"==typeof d.query&&"object"==typeof d.headers}clone(){return w.clone(this)}}function S(e){return Object.keys(e).reduce((d,h)=>{let m=e[h];return{...d,[h]:Array.isArray(m)?[...m]:m}},{})}class x{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let d=e;return"number"==typeof d.statusCode&&"object"==typeof d.headers}}function _(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}},96573:(e,d,h)=>{"use strict";h.d(d,{PG:()=>_,f2:()=>x,pz:()=>S});var m=h(96543),g=h(14634);let y=e=>m.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,b=(e,d)=>Math.abs((0,g.C)(d).getTime()-e)>=3e5,v=(e,d)=>{let h=Date.parse(e);return b(h,d)?h-Date.now():d},w=(e,d)=>{if(!d)throw Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return d},S=async e=>{let d=w("context",e.context),h=w("config",e.config),m=d.endpointV2?.properties?.authSchemes?.[0],g=w("signer",h.signer),y=await g(m),b=e?.signingRegion;return{config:h,signer:y,signingRegion:b,signingRegionSet:e?.signingRegionSet,signingName:e?.signingName}};class x{async sign(e,d,h){if(!m.HttpRequest.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let y=await S(h),{config:b,signer:v}=y,{signingRegion:w,signingName:x}=y,_=h.context;if(_?.authSchemes?.length){let[e,d]=_.authSchemes;e?.name==="sigv4a"&&d?.name==="sigv4"&&(w=d?.signingRegion??w,x=d?.signingName??x)}return await v.sign(e,{signingDate:(0,g.C)(b.systemClockOffset),signingRegion:w,signingService:x})}errorHandler(e){return d=>{let h=d.ServerTime??y(d.$response);if(h){let m=w("config",e.config),g=m.systemClockOffset;m.systemClockOffset=v(h,m.systemClockOffset),m.systemClockOffset!==g&&d.$metadata&&(d.$metadata.clockSkewCorrected=!0)}throw d}}successHandler(e,d){let h=y(e);if(h){let e=w("config",d.config);e.systemClockOffset=v(h,e.systemClockOffset)}}}let _=x},96746:(e,d,h)=>{var m=h(79962);function g(e){var d=function(){return d.called?d.value:(d.called=!0,d.value=e.apply(this,arguments))};return d.called=!1,d}function y(e){var d=function(){if(d.called)throw Error(d.onceError);return d.called=!0,d.value=e.apply(this,arguments)};return d.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",d.called=!1,d}e.exports=m(g),e.exports.strict=m(y),g.proto=g(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return y(this)},configurable:!0})})},96750:(e,d,h)=>{"use strict";h.d(d,{nm0:()=>tX});var m={};h.r(m),h.d(m,{auth:()=>eM,forgotPassword:()=>eU,login:()=>ez,resetPassword:()=>eV,unlock:()=>eK,verifyEmail:()=>eW});var g=h(79646),y=h(55511),b=h(73136),v=h(33873);function w(e,d,h,m,g,y,b,v){return w.fromTZ(w.tp(e,d,h,m,g,y,b),v)}function S(e,d=new Date){let h=d.toLocaleString("en-US",{timeZone:e,timeZoneName:"shortOffset"}).split(" ").slice(-1)[0],m=d.toLocaleString("en-US").replace(/[\u202f]/," ");return Date.parse(`${m} GMT`)-Date.parse(`${m} ${h}`)}function x(e,d){let h=new Date(Date.parse(e));if(isNaN(h))throw Error("minitz: Invalid ISO8601 passed to parser.");let m=e.substring(9);return e.includes("Z")||m.includes("-")||m.includes("+")?w.tp(h.getUTCFullYear(),h.getUTCMonth()+1,h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),"Etc/UTC"):w.tp(h.getFullYear(),h.getMonth()+1,h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),d)}h(13859),h(49090),h(20190),h(11332),h(26934),w.fromTZISO=(e,d,h)=>w.fromTZ(x(e,d),h),w.fromTZ=function(e,d){let h=new Date(Date.UTC(e.y,e.m-1,e.d,e.h,e.i,e.s)),m=S(e.tz,h),g=new Date(h.getTime()-m),y=S(e.tz,g);if(y-m==0)return g;{let m=new Date(h.getTime()-y),b=S(e.tz,m);if(b-y==0||!d&&b-y>0)return m;if(d)throw Error("Invalid date passed to fromTZ()");return g}},w.toTZ=function(e,d){let h=new Date(e.toLocaleString("en-US",{timeZone:d}).replace(/[\u202f]/," "));return{y:h.getFullYear(),m:h.getMonth()+1,d:h.getDate(),h:h.getHours(),i:h.getMinutes(),s:h.getSeconds(),tz:d}},w.tp=(e,d,h,m,g,y,b)=>({y:e,m:d,d:h,h:m,i:g,s:y,tz:b}),w.minitz=w;var _=32,E=63,T=[1,2,4,8,16],k=class{pattern;timezone;second;minute;hour;day;month;dayOfWeek;lastDayOfMonth;starDOM;starDOW;constructor(e,d){this.pattern=e,this.timezone=d,this.second=Array(60).fill(0),this.minute=Array(60).fill(0),this.hour=Array(24).fill(0),this.day=Array(31).fill(0),this.month=Array(12).fill(0),this.dayOfWeek=Array(7).fill(0),this.lastDayOfMonth=!1,this.starDOM=!1,this.starDOW=!1,this.parse()}parse(){if(!("string"==typeof this.pattern||this.pattern instanceof String))throw TypeError("CronPattern: Pattern has to be of type string.");this.pattern.indexOf("@")>=0&&(this.pattern=this.handleNicknames(this.pattern).trim());let e=this.pattern.replace(/\s+/g," ").split(" ");if(e.length<5||e.length>6)throw TypeError("CronPattern: invalid configuration format ('"+this.pattern+"'), exactly five or six space separated parts are required.");if(5===e.length&&e.unshift("0"),e[3].indexOf("L")>=0&&(e[3]=e[3].replace("L",""),this.lastDayOfMonth=!0),"*"==e[3]&&(this.starDOM=!0),e[4].length>=3&&(e[4]=this.replaceAlphaMonths(e[4])),e[5].length>=3&&(e[5]=this.replaceAlphaDays(e[5])),"*"==e[5]&&(this.starDOW=!0),this.pattern.indexOf("?")>=0){let d=new O(new Date,this.timezone).getDate(!0);e[0]=e[0].replace("?",d.getSeconds().toString()),e[1]=e[1].replace("?",d.getMinutes().toString()),e[2]=e[2].replace("?",d.getHours().toString()),this.starDOM||(e[3]=e[3].replace("?",d.getDate().toString())),e[4]=e[4].replace("?",(d.getMonth()+1).toString()),this.starDOW||(e[5]=e[5].replace("?",d.getDay().toString()))}this.throwAtIllegalCharacters(e),this.partToArray("second",e[0],0,1),this.partToArray("minute",e[1],0,1),this.partToArray("hour",e[2],0,1),this.partToArray("day",e[3],-1,1),this.partToArray("month",e[4],-1,1),this.partToArray("dayOfWeek",e[5],0,E),this.dayOfWeek[7]&&(this.dayOfWeek[0]=this.dayOfWeek[7])}partToArray(e,d,h,m){let g=this[e],y="day"===e&&this.lastDayOfMonth;if(""===d&&!y)throw TypeError("CronPattern: configuration entry "+e+" ("+d+") is empty, check for trailing spaces.");if("*"===d)return g.fill(m);let b=d.split(",");if(b.length>1)for(let d=0;d<b.length;d++)this.partToArray(e,b[d],h,m);else -1!==d.indexOf("-")&&-1!==d.indexOf("/")?this.handleRangeWithStepping(d,e,h,m):-1!==d.indexOf("-")?this.handleRange(d,e,h,m):-1!==d.indexOf("/")?this.handleStepping(d,e,h,m):""!==d&&this.handleNumber(d,e,h,m)}throwAtIllegalCharacters(e){for(let d=0;d<e.length;d++)if((5===d?/[^/*0-9,\-#L]+/:/[^/*0-9,-]+/).test(e[d]))throw TypeError("CronPattern: configuration entry "+d+" ("+e[d]+") contains illegal characters.")}handleNumber(e,d,h,m){let g=this.extractNth(e,d),y=parseInt(g[0],10)+h;if(isNaN(y))throw TypeError("CronPattern: "+d+" is not a number: '"+e+"'");this.setPart(d,y,g[1]||m)}setPart(e,d,h){if(!Object.prototype.hasOwnProperty.call(this,e))throw TypeError("CronPattern: Invalid part specified: "+e);if("dayOfWeek"===e){if(7===d&&(d=0),d<0||d>6)throw RangeError("CronPattern: Invalid value for dayOfWeek: "+d);this.setNthWeekdayOfMonth(d,h);return}if("second"===e||"minute"===e){if(d<0||d>=60)throw RangeError("CronPattern: Invalid value for "+e+": "+d)}else if("hour"===e){if(d<0||d>=24)throw RangeError("CronPattern: Invalid value for "+e+": "+d)}else if("day"===e){if(d<0||d>=31)throw RangeError("CronPattern: Invalid value for "+e+": "+d)}else if("month"===e&&(d<0||d>=12))throw RangeError("CronPattern: Invalid value for "+e+": "+d);this[e][d]=h}handleRangeWithStepping(e,d,h,m){let g=this.extractNth(e,d),y=g[0].match(/^(\d+)-(\d+)\/(\d+)$/);if(null===y)throw TypeError("CronPattern: Syntax error, illegal range with stepping: '"+e+"'");let[,b,v,w]=y,S=parseInt(b,10)+h,x=parseInt(v,10)+h,_=parseInt(w,10);if(isNaN(S))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(x))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(isNaN(_))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===_)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(_>this[d].length)throw TypeError("CronPattern: Syntax error, steps cannot be greater than maximum value of part ("+this[d].length+")");if(S>x)throw TypeError("CronPattern: From value is larger than to value: '"+e+"'");for(let e=S;e<=x;e+=_)this.setPart(d,e,g[1]||m)}extractNth(e,d){let h=e,m;if(h.includes("#")){if("dayOfWeek"!==d)throw Error("CronPattern: nth (#) only allowed in day-of-week field");m=h.split("#")[1],h=h.split("#")[0]}return[h,m]}handleRange(e,d,h,m){let g=this.extractNth(e,d),y=g[0].split("-");if(2!==y.length)throw TypeError("CronPattern: Syntax error, illegal range: '"+e+"'");let b=parseInt(y[0],10)+h,v=parseInt(y[1],10)+h;if(isNaN(b))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(v))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(b>v)throw TypeError("CronPattern: From value is larger than to value: '"+e+"'");for(let e=b;e<=v;e++)this.setPart(d,e,g[1]||m)}handleStepping(e,d,h,m){let g=this.extractNth(e,d),y=g[0].split("/");if(2!==y.length)throw TypeError("CronPattern: Syntax error, illegal stepping: '"+e+"'");""===y[0]&&(y[0]="*");let b=0;"*"!==y[0]&&(b=parseInt(y[0],10)+h);let v=parseInt(y[1],10);if(isNaN(v))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===v)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(v>this[d].length)throw TypeError("CronPattern: Syntax error, max steps for part is ("+this[d].length+")");for(let e=b;e<this[d].length;e+=v)this.setPart(d,e,g[1]||m)}replaceAlphaDays(e){return e.replace(/-sun/gi,"-7").replace(/sun/gi,"0").replace(/mon/gi,"1").replace(/tue/gi,"2").replace(/wed/gi,"3").replace(/thu/gi,"4").replace(/fri/gi,"5").replace(/sat/gi,"6")}replaceAlphaMonths(e){return e.replace(/jan/gi,"1").replace(/feb/gi,"2").replace(/mar/gi,"3").replace(/apr/gi,"4").replace(/may/gi,"5").replace(/jun/gi,"6").replace(/jul/gi,"7").replace(/aug/gi,"8").replace(/sep/gi,"9").replace(/oct/gi,"10").replace(/nov/gi,"11").replace(/dec/gi,"12")}handleNicknames(e){let d=e.trim().toLowerCase();return"@yearly"===d||"@annually"===d?"0 0 1 1 *":"@monthly"===d?"0 0 1 * *":"@weekly"===d?"0 0 * * 0":"@daily"===d?"0 0 * * *":"@hourly"===d?"0 * * * *":e}setNthWeekdayOfMonth(e,d){if("number"!=typeof d&&"L"===d)this.dayOfWeek[e]=this.dayOfWeek[e]|_;else if(d===E)this.dayOfWeek[e]=E;else if(d<6&&d>0)this.dayOfWeek[e]=this.dayOfWeek[e]|T[d-1];else throw TypeError(`CronPattern: nth weekday out of range, should be 1-5 or L. Value: ${d}, Type: ${typeof d}`)}},C=[31,28,31,30,31,30,31,31,30,31,30,31],P=[["month","year",0],["day","month",-1],["hour","day",0],["minute","hour",0],["second","minute",0]],O=class e{tz;ms;second;minute;hour;day;month;year;constructor(d,h){if(this.tz=h,d&&d instanceof Date)if(isNaN(d))throw TypeError("CronDate: Invalid date passed to CronDate constructor");else this.fromDate(d);else if(void 0===d)this.fromDate(new Date);else if(d&&"string"==typeof d)this.fromString(d);else if(d instanceof e)this.fromCronDate(d);else throw TypeError("CronDate: Invalid type ("+typeof d+") passed to CronDate constructor")}isNthWeekdayOfMonth(e,d,h,m){let g=new Date(Date.UTC(e,d,h)).getUTCDay(),y=0;for(let m=1;m<=h;m++)new Date(Date.UTC(e,d,m)).getUTCDay()===g&&y++;if(m&E&&T[y-1]&m)return!0;if(m&_){let m=new Date(Date.UTC(e,d+1,0)).getUTCDate();for(let y=h+1;y<=m;y++)if(new Date(Date.UTC(e,d,y)).getUTCDay()===g)return!1;return!0}return!1}fromDate(e){if(void 0!==this.tz)if("number"==typeof this.tz)this.ms=e.getUTCMilliseconds(),this.second=e.getUTCSeconds(),this.minute=e.getUTCMinutes()+this.tz,this.hour=e.getUTCHours(),this.day=e.getUTCDate(),this.month=e.getUTCMonth(),this.year=e.getUTCFullYear(),this.apply();else{let d=w.toTZ(e,this.tz);this.ms=e.getMilliseconds(),this.second=d.s,this.minute=d.i,this.hour=d.h,this.day=d.d,this.month=d.m-1,this.year=d.y}else this.ms=e.getMilliseconds(),this.second=e.getSeconds(),this.minute=e.getMinutes(),this.hour=e.getHours(),this.day=e.getDate(),this.month=e.getMonth(),this.year=e.getFullYear()}fromCronDate(e){this.tz=e.tz,this.year=e.year,this.month=e.month,this.day=e.day,this.hour=e.hour,this.minute=e.minute,this.second=e.second,this.ms=e.ms}apply(){if(!(this.month>11)&&!(this.day>C[this.month])&&!(this.hour>59)&&!(this.minute>59)&&!(this.second>59)&&!(this.hour<0)&&!(this.minute<0)&&!(this.second<0))return!1;{let e=new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms));return this.ms=e.getUTCMilliseconds(),this.second=e.getUTCSeconds(),this.minute=e.getUTCMinutes(),this.hour=e.getUTCHours(),this.day=e.getUTCDate(),this.month=e.getUTCMonth(),this.year=e.getUTCFullYear(),!0}}fromString(e){if("number"!=typeof this.tz)return this.fromDate(w.fromTZISO(e,this.tz));{let d=w.fromTZISO(e);this.ms=d.getUTCMilliseconds(),this.second=d.getUTCSeconds(),this.minute=d.getUTCMinutes(),this.hour=d.getUTCHours(),this.day=d.getUTCDate(),this.month=d.getUTCMonth(),this.year=d.getUTCFullYear(),this.apply()}}findNext(e,d,h,m){let g=this[d],y;h.lastDayOfMonth&&(y=1!==this.month?C[this.month]:new Date(Date.UTC(this.year,this.month+1,0,0,0,0,0)).getUTCDate());let b=h.starDOW||"day"!=d?void 0:new Date(Date.UTC(this.year,this.month,1,0,0,0,0)).getUTCDay();for(let v=this[d]+m;v<h[d].length;v++){let w=h[d][v];if("day"===d&&h.lastDayOfMonth&&v-m==y&&(w=1),"day"===d&&!h.starDOW){let d=h.dayOfWeek[(b+(v-m-1))%7];if(d&&d&E)d=+!!this.isNthWeekdayOfMonth(this.year,this.month,v-m,d);else if(d)throw Error(`CronDate: Invalid value for dayOfWeek encountered. ${d}`);w=e.legacyMode&&!h.starDOM?w||d:w&&d}if(w)return this[d]=v-m,g!==this[d]?2:1}return 3}recurse(e,d,h){let m=this.findNext(d,P[h][0],e,P[h][2]);if(m>1){let g=h+1;for(;g<P.length;)this[P[g][0]]=-P[g][2],g++;if(3===m)return this[P[h][1]]++,this[P[h][0]]=-P[h][2],this.apply(),this.recurse(e,d,0);if(this.apply())return this.recurse(e,d,h-1)}return(h+=1)>=P.length?this:this.year>=3e3?null:this.recurse(e,d,h)}increment(e,d,h){return this.second+=void 0!==d.interval&&d.interval>1&&h?d.interval:1,this.ms=0,this.apply(),this.recurse(e,d,0)}getDate(e){return e||void 0===this.tz?new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms):"number"==typeof this.tz?new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute-this.tz,this.second,this.ms)):w.fromTZ(w.tp(this.year,this.month+1,this.day,this.hour,this.minute,this.second,this.tz),!1)}getTime(){return this.getDate(!1).getTime()}};function I(e){if(void 0===e&&(e={}),delete e.name,e.legacyMode=void 0===e.legacyMode||e.legacyMode,e.paused=void 0!==e.paused&&e.paused,e.maxRuns=void 0===e.maxRuns?1/0:e.maxRuns,e.catch=void 0!==e.catch&&e.catch,e.interval=void 0===e.interval?0:parseInt(e.interval.toString(),10),e.utcOffset=void 0===e.utcOffset?void 0:parseInt(e.utcOffset.toString(),10),e.unref=void 0!==e.unref&&e.unref,e.startAt&&(e.startAt=new O(e.startAt,e.timezone)),e.stopAt&&(e.stopAt=new O(e.stopAt,e.timezone)),null!==e.interval){if(isNaN(e.interval))throw Error("CronOptions: Supplied value for interval is not a number");if(e.interval<0)throw Error("CronOptions: Supplied value for interval can not be negative")}if(void 0!==e.utcOffset){if(isNaN(e.utcOffset))throw Error("CronOptions: Invalid value passed for utcOffset, should be number representing minutes offset from UTC.");if(e.utcOffset<-870||e.utcOffset>870)throw Error("CronOptions: utcOffset out of bounds.");if(void 0!==e.utcOffset&&e.timezone)throw Error("CronOptions: Combining 'utcOffset' with 'timezone' is not allowed.")}if(!0!==e.unref&&!1!==e.unref)throw Error("CronOptions: Unref should be either true, false or undefined(false).");return e}function R(e){return"[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function}function D(e){"u">typeof Deno&&"u">typeof Deno.unrefTimer?Deno.unrefTimer(e):e&&"u">typeof e.unref&&e.unref()}var L=3e4,$=[],M=class{name;options;_states;fn;constructor(e,d,h){let m,g;if(R(d))g=d;else if("object"==typeof d)m=d;else if(void 0!==d)throw Error("Cron: Invalid argument passed for optionsIn. Should be one of function, or object (options).");if(R(h))g=h;else if("object"==typeof h)m=h;else if(void 0!==h)throw Error("Cron: Invalid argument passed for funcIn. Should be one of function, or object (options).");if(this.name=m?.name,this.options=I(m),this._states={kill:!1,blocking:!1,previousRun:void 0,currentRun:void 0,once:void 0,currentTimeout:void 0,maxRuns:m?m.maxRuns:void 0,paused:!!m&&m.paused,pattern:new k("* * * * *")},e&&(e instanceof Date||"string"==typeof e&&e.indexOf(":")>0)?this._states.once=new O(e,this.options.timezone||this.options.utcOffset):this._states.pattern=new k(e,this.options.timezone),this.name){if($.find(e=>e.name===this.name))throw Error("Cron: Tried to initialize new named job '"+this.name+"', but name already taken.");$.push(this)}return void 0!==g&&R(g)&&(this.fn=g,this.schedule()),this}nextRun(e){let d=this._next(e);return d?d.getDate(!1):null}nextRuns(e,d){void 0!==this._states.maxRuns&&e>this._states.maxRuns&&(e=this._states.maxRuns);let h=[],m=d||this._states.currentRun||void 0;for(;e--&&(m=this.nextRun(m));)h.push(m);return h}getPattern(){return this._states.pattern?this._states.pattern.pattern:void 0}isRunning(){let e=this.nextRun(this._states.currentRun),d=!this._states.paused,h=void 0!==this.fn,m=!this._states.kill;return d&&h&&m&&null!==e}isStopped(){return this._states.kill}isBusy(){return this._states.blocking}currentRun(){return this._states.currentRun?this._states.currentRun.getDate():null}previousRun(){return this._states.previousRun?this._states.previousRun.getDate():null}msToNext(e){e=e||new Date;let d=this._next(e);return d?e instanceof O||e instanceof Date?d.getTime()-e.getTime():d.getTime()-new O(e).getTime():null}stop(){this._states.kill=!0,this._states.currentTimeout&&clearTimeout(this._states.currentTimeout);let e=$.indexOf(this);e>=0&&$.splice(e,1)}pause(){return this._states.paused=!0,!this._states.kill}resume(){return this._states.paused=!1,!this._states.kill}schedule(e){if(e&&this.fn)throw Error("Cron: It is not allowed to schedule two functions using the same Croner instance.");e&&(this.fn=e);let d=this.msToNext(),h=this.nextRun(this._states.currentRun);return null==d||isNaN(d)||null===h||(d>L&&(d=L),this._states.currentTimeout=setTimeout(()=>this._checkTrigger(h),d),this._states.currentTimeout&&this.options.unref&&D(this._states.currentTimeout)),this}async _trigger(e){if(this._states.blocking=!0,this._states.currentRun=new O(void 0,this.options.timezone||this.options.utcOffset),this.options.catch)try{void 0!==this.fn&&await this.fn(this,this.options.context)}catch(e){R(this.options.catch)&&this.options.catch(e,this)}else void 0!==this.fn&&await this.fn(this,this.options.context);this._states.previousRun=new O(e,this.options.timezone||this.options.utcOffset),this._states.blocking=!1}async trigger(){await this._trigger()}runsLeft(){return this._states.maxRuns}_checkTrigger(e){let d=new Date,h=!this._states.paused&&d.getTime()>=e.getTime(),m=this._states.blocking&&this.options.protect;h&&!m?(void 0!==this._states.maxRuns&&this._states.maxRuns--,this._trigger()):h&&m&&R(this.options.protect)&&setTimeout(()=>this.options.protect(this),0),this.schedule()}_next(e){let d=!!(e||this._states.currentRun),h=!1;!e&&this.options.startAt&&this.options.interval&&([e,d]=this._calculatePreviousRun(e,d),h=!e),e=new O(e,this.options.timezone||this.options.utcOffset),this.options.startAt&&e&&e.getTime()<this.options.startAt.getTime()&&(e=this.options.startAt);let m=this._states.once||new O(e,this.options.timezone||this.options.utcOffset);return h||m===this._states.once||(m=m.increment(this._states.pattern,this.options,d)),this._states.once&&this._states.once.getTime()<=e.getTime()||null===m||void 0!==this._states.maxRuns&&this._states.maxRuns<=0||this._states.kill||this.options.stopAt&&m.getTime()>=this.options.stopAt.getTime()?null:m}_calculatePreviousRun(e,d){let h=new O(void 0,this.options.timezone||this.options.utcOffset),m=e;if(this.options.startAt.getTime()<=h.getTime()){let e=(m=this.options.startAt).getTime()+1e3*this.options.interval;for(;e<=h.getTime();)e=(m=new O(m,this.options.timezone||this.options.utcOffset).increment(this._states.pattern,this.options,!0)).getTime()+1e3*this.options.interval;d=!0}return null===m&&(m=void 0),[m,d]}};let B="aes-256-ctr";function j(e){let d=y.randomBytes(16),h=y.createCipheriv(B,this.secret,d),m=Buffer.concat([h.update(e),h.final()]),g=d.toString("hex"),b=m.toString("hex");return`${g}${b}`}function U(e){let d=e.slice(0,32),h=e.slice(32),m=y.createDecipheriv(B,this.secret,Buffer.from(d,"hex"));return Buffer.concat([m.update(Buffer.from(h,"hex")),m.final()]).toString()}let F=e=>async({headers:d,payload:h})=>{let m=d.get("Authorization");if(m?.startsWith(`${e.slug} API-Key `)){let d=m.replace(`${e.slug} API-Key `,""),g=y.createHmac("sha1",h.secret).update(d).digest("hex");try{let d={};e.auth?.verify?d.and=[{apiKeyIndex:{equals:g}},{_verified:{not_equals:!1}}]:d.apiKeyIndex={equals:g};let m=await h.find({collection:e.slug,depth:e.auth.depth,limit:1,overrideAccess:!0,pagination:!1,where:d});if(m.docs&&m.docs.length>0){let d=m.docs[0];return d.collection=e.slug,d._strategy="api-key",{user:d}}}catch(e){}}return{user:null}};var z=h(74021),q=h(77598),V=h(57975),H=h(38588),K=h(30882),G=h(3674),W=h(82439);let J=(0,V.promisify)(q.verify),Q=async(e,d,h,m)=>{let g=(0,W.A)(e,d,"verify");if(e.startsWith("HS")){let d=await (0,G.A)(e,g,m),y=h;try{return q.timingSafeEqual(y,d)}catch{return!1}}let y=(0,H.A)(e),b=(0,K.A)(e,g);try{return await J(y,m,b,h)}catch{return!1}};var Y=h(26900),X=h(18864),Z=h(75783),ee=h(83520),et=h(6317),ei=h(90537);let er=(e,d)=>{if(void 0!==d&&(!Array.isArray(d)||d.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(d)return new Set(d)};var ea=h(90551);let en=e=>e.d?(0,q.createPrivateKey)({format:"jwk",key:e}):(0,q.createPublicKey)({format:"jwk",key:e});async function es(e,d){if(!(0,ee.A)(e))throw TypeError("JWK must be an object");switch(d||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,z.D4)(e.k);case"RSA":if(void 0!==e.oth)throw new Y.T0('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return en({...e,alg:d});default:throw new Y.T0('Unsupported "kty" (Key Type) Parameter value')}}async function eo(e,d,h){let m,g;if(!(0,ee.A)(e))throw new Y.Ye("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new Y.Ye('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new Y.Ye("JWS Protected Header incorrect type");if(void 0===e.payload)throw new Y.Ye("JWS Payload missing");if("string"!=typeof e.signature)throw new Y.Ye("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,ee.A)(e.header))throw new Y.Ye("JWS Unprotected Header incorrect type");let y={};if(e.protected)try{let d=(0,z.D4)(e.protected);y=JSON.parse(X.D0.decode(d))}catch{throw new Y.Ye("JWS Protected Header is invalid")}if(!(0,Z.A)(y,e.header))throw new Y.Ye("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let b={...y,...e.header},v=(0,ei.A)(Y.Ye,new Map([["b64",!0]]),h?.crit,y,b),w=!0;if(v.has("b64")&&"boolean"!=typeof(w=y.b64))throw new Y.Ye('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:S}=b;if("string"!=typeof S||!S)throw new Y.Ye('JWS "alg" (Algorithm) Header Parameter missing or invalid');let x=h&&er("algorithms",h.algorithms);if(x&&!x.has(S))throw new Y.Rb('"alg" (Algorithm) Header Parameter value not allowed');if(w){if("string"!=typeof e.payload)throw new Y.Ye("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new Y.Ye("JWS Payload must be a string or an Uint8Array instance");let _=!1;"function"==typeof d?(d=await d(y,e),_=!0,(0,et.I)(S,d,"verify"),(0,ea.ll)(d)&&(d=await es(d,S))):(0,et.I)(S,d,"verify");let E=(0,X.xW)(X.Rd.encode(e.protected??""),X.Rd.encode("."),"string"==typeof e.payload?X.Rd.encode(e.payload):e.payload);try{m=(0,z.D4)(e.signature)}catch{throw new Y.Ye("Failed to base64url decode the signature")}if(!await Q(S,d,m,E))throw new Y.h2;if(w)try{g=(0,z.D4)(e.payload)}catch{throw new Y.Ye("Failed to base64url decode the payload")}else g="string"==typeof e.payload?X.Rd.encode(e.payload):e.payload;let T={payload:g};return(void 0!==e.protected&&(T.protectedHeader=y),void 0!==e.header&&(T.unprotectedHeader=e.header),_)?{...T,key:d}:T}async function el(e,d,h){if(e instanceof Uint8Array&&(e=X.D0.decode(e)),"string"!=typeof e)throw new Y.Ye("Compact JWS must be a string or Uint8Array");let{0:m,1:g,2:y,length:b}=e.split(".");if(3!==b)throw new Y.Ye("Invalid Compact JWS");let v=await eo({payload:g,protected:m,signature:y},d,h),w={payload:v.payload,protectedHeader:v.protectedHeader};return"function"==typeof d?{...w,key:v.key}:w}var ed=h(41855),ec=h(71710);let ep=e=>e.toLowerCase().replace(/^application\//,""),eu=(e,d)=>"string"==typeof e?d.includes(e):!!Array.isArray(e)&&d.some(Set.prototype.has.bind(new Set(e))),eh=(e,d,h={})=>{let m,g;try{m=JSON.parse(X.D0.decode(d))}catch{}if(!(0,ee.A)(m))throw new Y.Dp("JWT Claims Set must be a top-level JSON object");let{typ:y}=h;if(y&&("string"!=typeof e.typ||ep(e.typ)!==ep(y)))throw new Y.ie('unexpected "typ" JWT header value',m,"typ","check_failed");let{requiredClaims:b=[],issuer:v,subject:w,audience:S,maxTokenAge:x}=h,_=[...b];for(let e of(void 0!==x&&_.push("iat"),void 0!==S&&_.push("aud"),void 0!==w&&_.push("sub"),void 0!==v&&_.push("iss"),new Set(_.reverse())))if(!(e in m))throw new Y.ie(`missing required "${e}" claim`,m,e,"missing");if(v&&!(Array.isArray(v)?v:[v]).includes(m.iss))throw new Y.ie('unexpected "iss" claim value',m,"iss","check_failed");if(w&&m.sub!==w)throw new Y.ie('unexpected "sub" claim value',m,"sub","check_failed");if(S&&!eu(m.aud,"string"==typeof S?[S]:S))throw new Y.ie('unexpected "aud" claim value',m,"aud","check_failed");switch(typeof h.clockTolerance){case"string":g=(0,ec.A)(h.clockTolerance);break;case"number":g=h.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:E}=h,T=(0,ed.A)(E||new Date);if((void 0!==m.iat||x)&&"number"!=typeof m.iat)throw new Y.ie('"iat" claim must be a number',m,"iat","invalid");if(void 0!==m.nbf){if("number"!=typeof m.nbf)throw new Y.ie('"nbf" claim must be a number',m,"nbf","invalid");if(m.nbf>T+g)throw new Y.ie('"nbf" claim timestamp check failed',m,"nbf","check_failed")}if(void 0!==m.exp){if("number"!=typeof m.exp)throw new Y.ie('"exp" claim must be a number',m,"exp","invalid");if(m.exp<=T-g)throw new Y.n('"exp" claim timestamp check failed',m,"exp","check_failed")}if(x){let e=T-m.iat;if(e-g>("number"==typeof x?x:(0,ec.A)(x)))throw new Y.n('"iat" claim timestamp check failed (too far in the past)',m,"iat","check_failed");if(e<0-g)throw new Y.ie('"iat" claim timestamp check failed (it should be in the past)',m,"iat","check_failed")}return m};async function em(e,d,h){let m=await el(e,d,h);if(m.protectedHeader.crit?.includes("b64")&&!1===m.protectedHeader.b64)throw new Y.Dp("JWTs MUST NOT use unencoded payload");let g={payload:eh(m.protectedHeader,m.payload,h),protectedHeader:m.protectedHeader};return"function"==typeof d?{...g,key:m.key}:g}var ef=h(89157);async function eg({isGraphQL:e,payload:d,strategyName:h="local-jwt"}){if("object"!=typeof d?.config?.admin?.autoLogin||d.config.admin?.autoLogin.prefillOnly||!d?.config?.admin?.autoLogin||!d.config.admin?.autoLogin.email&&!d.config.admin?.autoLogin.username)return{user:null};let m=d.collections[d.config.admin.user],g={or:[]};d.config.admin?.autoLogin.email?g.or?.push({email:{equals:d.config.admin?.autoLogin.email}}):d.config.admin?.autoLogin.username&&g.or?.push({username:{equals:d.config.admin?.autoLogin.username}});let y=(await d.find({collection:m.config.slug,depth:e?0:m.config.auth.depth,limit:1,pagination:!1,where:g})).docs[0];return y?(y.collection=m.config.slug,y._strategy=h,{user:y}):{user:null}}let ey=async({headers:e,isGraphQL:d=!1,payload:h,strategyName:m="local-jwt"})=>{try{let g=(0,ef.p)({headers:e,payload:h});if(!g){if("true"!==e.get("DisableAutologin"))return await eg({isGraphQL:d,payload:h,strategyName:m});return{user:null}}let y=new TextEncoder().encode(h.secret),{payload:b}=await em(g,y),v=h.collections[b.collection],w=await h.findByID({id:b.id,collection:b.collection,depth:d?0:v.config.auth.depth});if(w&&(!v.config.auth.verify||w._verified))return w.collection=v.config.slug,w._strategy=m,{user:w};if("true"!==e.get("DisableAutologin"))return await eg({isGraphQL:d,payload:h,strategyName:m});return{user:null}}catch(g){if("true"!==e.get("DisableAutologin"))return await eg({isGraphQL:d,payload:h,strategyName:m});return{user:null}}};var eb=h(79748),ev=h(1708),ew=h(73146);function eS({addToImportMap:e,baseDir:d,collections:h,config:m,importMap:g,imports:y}){for(let b of h){if((0,ew.J)({addToImportMap:e,baseDir:d,config:m,fields:b.fields,importMap:g,imports:y}),e(b.admin?.components?.afterList),e(b.admin?.components?.listMenuItems),e(b.admin?.components?.afterListTable),e(b.admin?.components?.beforeList),e(b.admin?.components?.beforeListTable),e(b.admin?.components?.Description),e(b.admin?.components?.edit?.beforeDocumentControls),e(b.admin?.components?.edit?.PreviewButton),e(b.admin?.components?.edit?.PublishButton),e(b.admin?.components?.edit?.SaveButton),e(b.admin?.components?.edit?.SaveDraftButton),e(b.admin?.components?.edit?.Upload),b.admin?.components?.views?.edit)for(let d of Object.values(b.admin?.components?.views?.edit))"Component"in d&&e(d?.Component),"actions"in d&&e(d?.actions),"tab"in d&&(e(d?.tab?.Component),e(d?.tab?.Pill));e(b.admin?.components?.views?.list?.Component),e(b.admin?.components?.views?.list?.actions)}}function ex({addToImportMap:e,baseDir:d,config:h,globals:m,importMap:g,imports:y}){for(let b of m)if((0,ew.J)({addToImportMap:e,baseDir:d,config:h,fields:b.fields,importMap:g,imports:y}),e(b.admin?.components?.elements?.Description),e(b.admin?.components?.elements?.PreviewButton),e(b.admin?.components?.elements?.PublishButton),e(b.admin?.components?.elements?.SaveButton),e(b.admin?.components?.elements?.SaveDraftButton),b.admin?.components?.views?.edit)for(let d of Object.values(b.admin?.components?.views?.edit))"Component"in d&&e(d?.Component),"actions"in d&&e(d?.actions),"tab"in d&&(e(d?.tab?.Component),e(d?.tab?.Pill))}function e_({addToImportMap:e,baseDir:d,config:h,importMap:m,imports:g}){if(eS({addToImportMap:e,baseDir:d,collections:h.collections,config:h,importMap:m,imports:g}),ex({addToImportMap:e,baseDir:d,config:h,globals:h.globals,importMap:m,imports:g}),h?.blocks){let y=Object.values(h.blocks);y?.length&&(0,ew.J)({addToImportMap:e,baseDir:d,config:h,fields:y,importMap:m,imports:g})}if("object"==typeof h.admin?.avatar&&e(h.admin?.avatar?.Component),e(h.admin?.components?.Nav),e(h.admin?.components?.header),e(h.admin?.components?.logout?.Button),e(h.admin?.components?.graphics?.Icon),e(h.admin?.components?.graphics?.Logo),e(h.admin?.components?.actions),e(h.admin?.components?.afterDashboard),e(h.admin?.components?.afterLogin),e(h.admin?.components?.afterNavLinks),e(h.admin?.components?.beforeDashboard),e(h.admin?.components?.beforeLogin),e(h.admin?.components?.beforeNavLinks),e(h.admin?.components?.providers),h.admin?.components?.views&&Object.keys(h.admin?.components?.views)?.length)for(let d in h.admin?.components?.views){let m=h.admin?.components?.views[d];e(m?.Component)}if(h?.admin?.importMap?.generators?.length)for(let y of h.admin.importMap.generators)y({addToImportMap:e,baseDir:d,config:h,importMap:m,imports:g});if(h?.admin?.dependencies)for(let d of Object.values(h.admin.dependencies))e(d.path)}var eE=h(81044);function eT(e,d){let h=e.replace(/\\/g,"/"),m=d.replace(/\\/g,"/");if(h.startsWith("./")){let e=m.startsWith("./")?m.substring(2):m;return`${h}${e}`}return v.posix.join(h,m)}function ek({importMap:e,importMapToBaseDirPath:d,imports:h,payloadComponent:m}){if(!m)return null;let{exportName:g,path:b}=(0,eE.R)(m);if(e[b+"#"+g])return null;let v=g+"_"+y.createHash("md5").update(b).digest("hex");if(e[b+"#"+g]=v,!(b.startsWith(".")||b.startsWith("/")))return h[v]={path:b,specifier:g},{path:b,specifier:g};{let e=eT(d,b);return h[v]={path:e,specifier:g},{path:e,specifier:g}}}function eC({baseDir:e,importMapPath:d}){let h=v.dirname(d),m=v.relative(h,e).replace(/\\/g,"/");return m?m.startsWith(".")||m.startsWith("/")||(m=`./${m}`):m="./",m.endsWith("/")||(m+="/"),m}var eA=h(29021);function eP({adminRoute:e="/admin",importMapFile:d,rootDir:h}){let m;if(d?.length){if(!eA.existsSync(d))throw Error(`Could not find the import map file at ${d}`);m=d}else{let d=v.resolve(h,`app/(payload)${e}/`),g=v.resolve(h,`src/app/(payload)${e}/`);if(eA.existsSync(d))m=v.resolve(d,"importMap.js");else if(eA.existsSync(g))m=v.resolve(g,"importMap.js");else throw Error(`Could not find Payload import map folder. Looked in ${d} and ${g}`)}return m}async function eN(e,d){let h=d?.log??!0;h&&console.log("Generating import map");let m={},g={},y=ev.env.ROOT_DIR??ev.cwd(),b=e.admin.importMap.baseDir??ev.cwd(),v=eP({adminRoute:e.routes.admin,importMapFile:e?.admin?.importMap?.importMapFile,rootDir:y}),w=eC({baseDir:b,importMapPath:v});e_({addToImportMap:e=>{if(e){if("object"!=typeof e&&"string"!=typeof e)throw console.error(e),Error("addToImportMap > Payload component must be an object or a string");if(Array.isArray(e))for(let d of e)ek({importMap:m,importMapToBaseDirPath:w,imports:g,payloadComponent:d});else ek({importMap:m,importMapToBaseDirPath:w,imports:g,payloadComponent:e})}},baseDir:e.admin.importMap.baseDir,config:e,importMap:m,imports:g}),await eO({componentMap:m,force:d?.force,importMap:g,importMapFilePath:v,log:h})}async function eO({componentMap:e,force:d,importMap:h,importMapFilePath:m,log:g}){let y=[];for(let[e,{path:d,specifier:m}]of Object.entries(h))y.push(`import { ${m} as ${e} } from '${d}'`);let b=[];for(let[d,h]of Object.entries(e))b.push(`  "${d}": ${h}`);let v=`${y.join("\n")}

export const importMap = {
${b.join(",\n")}
}
`;if(!d){let e=await eb.readFile(m,"utf-8");if(e?.trim()===v?.trim()){g&&console.log("No new imports found, skipping writing import map");return}}g&&console.log("Writing import map to",m),await eb.writeFile(m,v)}var eI=h(78394),eR=h(71707),eD=h(52943),eL=h(33599);let e$=async e=>{let{canSetHeaders:d,headers:h}=e,m=e.req,{payload:g}=m;try{let{responseHeaders:e,user:y}=await (0,eD.F)({canSetHeaders:d,headers:h,payload:g});return m.user=y,m.responseHeaders=e,{permissions:await (0,eL.R)({req:m}),responseHeaders:e,user:y}}catch(e){throw await (0,eR.J)(m),e}},eM=async(e,d)=>{let{headers:h,req:m}=d;return await e$({canSetHeaders:!!d.canSetHeaders,headers:h,req:await (0,eI.M)({req:m},e)})};var eB=h(89554),ej=h(85510);let eU=async function(e,d){let{collection:h,data:m,disableEmail:g,expiration:y}=d,b=e.collections[h];if(!b)throw new eB.L(`The collection with slug ${String(h)} can't be found. Forgot Password Operation.`);return(0,ej.g)({collection:b,data:m,disableEmail:g,expiration:y,req:await (0,eI.M)(d,e)})};var eF=h(77397);let ez=async function(e,d){let{collection:h,data:m,depth:g,overrideAccess:y=!0,showHiddenFields:b}=d,v=e.collections[h];if(!v)throw new eB.L(`The collection with slug ${String(h)} can't be found. Login Operation.`);let w={collection:v,data:m,depth:g,overrideAccess:y,req:await (0,eI.M)(d,e),showHiddenFields:b},S=await (0,eF.k)(w);return v.config.auth.removeTokenFromResponses&&delete S.token,S};var eq=h(96764);let eV=async function(e,d){let{collection:h,data:m,overrideAccess:g}=d,y=e.collections[h];if(!y)throw new eB.L(`The collection with slug ${String(h)} can't be found. Reset Password Operation.`);let b=await (0,eq.q)({collection:y,data:m,overrideAccess:g,req:await (0,eI.M)(d,e)});return y.config.auth.removeTokenFromResponses&&delete b.token,b};var eH=h(98832);let eK=async function(e,d){let{collection:h,data:m,overrideAccess:g=!0}=d,y=e.collections[h];if(!y)throw new eB.L(`The collection with slug ${String(h)} can't be found. Unlock Operation.`);return(0,eH.k)({collection:y,data:m,overrideAccess:g,req:await (0,eI.M)(d,e)})};var eG=h(98389);let eW=async function(e,d){let{collection:h,token:m}=d,g=e.collections[h];if(!g)throw new eB.L(`The collection with slug ${String(h)} can't be found. Verify Email Operation.`);return(0,eG.p)({collection:g,req:await (0,eI.M)(d,e),token:m})};var eJ=h(82806);async function eQ(e,d){let{collection:h,disableErrors:m,overrideAccess:g=!0,where:y}=d,b=e.collections[h];if(!b)throw new eB.L(`The collection with slug ${String(h)} can't be found. Count Operation.`);return(0,eJ.R)({collection:b,disableErrors:m,overrideAccess:g,req:await (0,eI.M)(d,e),where:y})}var eY=h(26154),eX=h(553),eZ=h(89075),e1=h(80961),e0=h(77900);let e2=async e=>{let d=e;try{let e,h;if(d.collection.config.hooks.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"countVersions",req:d.req})||d;let{collection:{config:m},disableErrors:g,overrideAccess:y,req:{payload:b},req:v,where:w}=d;if(!y&&(e=await (0,eY.A)({disableErrors:g,req:v},m.access.readVersions),!1===e))return{totalDocs:0};let S=(0,eX.m)(w,e),x=(0,e1.c)(b.config,m,!0);return await (0,eZ.d)({collectionConfig:m,overrideAccess:y,req:v,versionFields:x,where:w}),h=await b.db.countVersions({collection:m.slug,req:v,where:S}),h=await (0,e0.E)({args:d,collection:m,operation:"countVersions",result:h})}catch(e){throw await (0,eR.J)(d.req),e}};async function e4(e,d){let{collection:h,disableErrors:m,overrideAccess:g=!0,where:y}=d,b=e.collections[h];if(!b)throw new eB.L(`The collection with slug ${String(h)} can't be found. Count Versions Operation.`);return e2({collection:b,disableErrors:m,overrideAccess:g,req:await (0,eI.M)(d,e),where:y})}var e6=h(97507),e3=h(28205),e5=h(52770);async function e8(e,d){let{collection:h,data:m,depth:g,disableTransaction:y,disableVerificationEmail:b,draft:v,duplicateFromID:w,file:S,filePath:x,overrideAccess:_=!0,overwriteExistingFiles:E=!1,populate:T,select:k,showHiddenFields:C}=d,P=e.collections[h];if(!P)throw new eB.L(`The collection with slug ${String(h)} can't be found. Create Operation.`);let O=await (0,eI.M)(d,e);return O.file=S??await (0,e3.d)(x),(0,e5.k)({collection:P,data:(0,e6.Zt)(m),depth:g,disableTransaction:y,disableVerificationEmail:b,draft:v,duplicateFromID:w,overrideAccess:_,overwriteExistingFiles:E,populate:T,req:O,select:k,showHiddenFields:C})}var e9=h(91506),e7=h(99502);let te=async function(e,d){let{id:h,collection:m,depth:g,disableTransaction:y,overrideAccess:b=!0,overrideLock:v,populate:w,select:S,showHiddenFields:x,where:_}=d,E=e.collections[m];if(!E)throw new eB.L(`The collection with slug ${String(m)} can't be found. Delete Operation.`);let T={id:h,collection:E,depth:g,disableTransaction:y,overrideAccess:b,overrideLock:v,populate:w,req:await (0,eI.M)(d,e),select:S,showHiddenFields:x,where:_};return d.id?(0,e7.l)(T):(0,e9.N)(T)};var tt=h(40496);async function ti(e,d){let{id:h,collection:m,data:g,depth:y,disableTransaction:b,draft:v,overrideAccess:w=!0,populate:S,select:x,showHiddenFields:_}=d,E=e.collections[m];if(!E)throw new eB.L(`The collection with slug ${String(m)} can't be found. Duplicate Operation.`);if(!0===E.config.disableDuplicate)throw new eB.L(`The collection with slug ${String(m)} cannot be duplicated.`,400);let T=await (0,eI.M)(d,e);return(0,tt.h)({id:h,collection:E,data:g,depth:y,disableTransaction:b,draft:v,overrideAccess:w,populate:S,req:T,select:x,showHiddenFields:_})}var tr=h(10866);async function ta(e,d){let{collection:h,currentDepth:m,depth:g,disableErrors:y,draft:b=!1,includeLockStatus:v,joins:w,limit:S,overrideAccess:x=!0,page:_,pagination:E=!0,populate:T,select:k,showHiddenFields:C,sort:P,where:O}=d,I=e.collections[h];if(!I)throw new eB.L(`The collection with slug ${String(h)} can't be found. Find Operation.`);return(0,tr.L)({collection:I,currentDepth:m,depth:g,disableErrors:y,draft:b,includeLockStatus:v,joins:w,limit:S,overrideAccess:x,page:_,pagination:E,populate:T,req:await (0,eI.M)(d,e),select:k,showHiddenFields:C,sort:P,where:O})}var tn=h(23854);async function ts(e,d){let{id:h,collection:m,currentDepth:g,depth:y,disableErrors:b=!1,draft:v=!1,includeLockStatus:w,joins:S,overrideAccess:x=!0,populate:_,select:E,showHiddenFields:T}=d,k=e.collections[m];if(!k)throw new eB.L(`The collection with slug ${String(m)} can't be found. Find By ID Operation.`);return(0,tn.$)({id:h,collection:k,currentDepth:g,depth:y,disableErrors:b,draft:v,includeLockStatus:w,joins:S,overrideAccess:x,populate:_,req:await (0,eI.M)(d,e),select:E,showHiddenFields:T})}var to=h(40788);async function tl(e,d){let{id:h,collection:m,depth:g,disableErrors:y=!1,overrideAccess:b=!0,populate:v,select:w,showHiddenFields:S}=d,x=e.collections[m];if(!x)throw new eB.L(`The collection with slug ${String(m)} can't be found. Find Version By ID Operation.`);return(0,to.L)({id:h,collection:x,depth:g,disableErrors:y,overrideAccess:b,populate:v,req:await (0,eI.M)(d,e),select:w,showHiddenFields:S})}var td=h(85103);async function tc(e,d){let{collection:h,depth:m,limit:g,overrideAccess:y=!0,page:b,populate:v,select:w,showHiddenFields:S,sort:x,where:_}=d,E=e.collections[h];if(!E)throw new eB.L(`The collection with slug ${String(h)} can't be found. Find Versions Operation.`);return(0,td.s)({collection:E,depth:m,limit:g,overrideAccess:y,page:b,populate:v,req:await (0,eI.M)(d,e),select:w,showHiddenFields:S,sort:x,where:_})}var tp=h(88399);async function tu(e,d){let{id:h,collection:m,depth:g,overrideAccess:y=!0,populate:b,select:v,showHiddenFields:w}=d,S=e.collections[m];if(!S)throw new eB.L(`The collection with slug ${String(m)} can't be found. Restore Version Operation.`);let x={id:h,collection:S,depth:g,overrideAccess:y,payload:e,populate:b,req:await (0,eI.M)(d,e),select:v,showHiddenFields:w};return(0,tp.c)(x)}var th=h(76296),tm=h(27696);let tf={auth:m,count:eQ,countVersions:e4,create:e8,deleteLocal:te,duplicate:ti,find:ta,findByID:ts,findVersionByID:tl,findVersions:tc,restoreVersion:tu,update:async function(e,d){let{id:h,autosave:m,collection:g,data:y,depth:b,disableTransaction:v,draft:w,file:S,filePath:x,limit:_,overrideAccess:E=!0,overrideLock:T,overwriteExistingFiles:k=!1,populate:C,publishSpecificLocale:P,select:O,showHiddenFields:I,sort:R,where:D}=d,L=e.collections[g];if(!L)throw new eB.L(`The collection with slug ${String(g)} can't be found. Update Operation.`);let $=await (0,eI.M)(d,e);$.file=S??await (0,e3.d)(x);let M={id:h,autosave:m,collection:L,data:y,depth:b,disableTransaction:v,draft:w,limit:_,overrideAccess:E,overrideLock:T,overwriteExistingFiles:k,payload:e,populate:C,publishSpecificLocale:P,req:$,select:O,showHiddenFields:I,sort:R,where:D};return d.id?(0,tm.Z)(M):(0,th.L)(M)}},tg={defaultFromAddress:"info@payloadcms.com",defaultFromName:"Payload"},ty=e=>{let d;return"string"==typeof e.to?d=e.to:Array.isArray(e.to)?d=e.to.map(e=>"string"==typeof e?e:e.address?e.address:"").join(", "):e.to.address&&(d=e.to.address),d},tb=({payload:e})=>({name:"console",defaultFromAddress:tg.defaultFromAddress,defaultFromName:tg.defaultFromName,sendEmail:async d=>{let h=ty(d),m=`Email attempted without being configured. To: '${h}', Subject: '${d.subject}'`;return e.logger.info({msg:m}),Promise.resolve()}});var tv=h(74290),tw=h(8190);let tS=async e=>{try{let d,{disableErrors:h,global:m,overrideAccess:g,req:{payload:y},req:b,where:v}=e;if(!g&&(d=await (0,eY.A)({disableErrors:h,req:b},m.access.readVersions),!1===d))return{totalDocs:0};let w=(0,eX.m)(v,d),S=(0,tw.p)(y.config,m,!0);return await (0,eZ.d)({globalConfig:m,overrideAccess:g,req:b,versionFields:S,where:v}),await y.db.countGlobalVersions({global:m.slug,req:b,where:w})}catch(d){throw await (0,eR.J)(e.req),d}};async function tx(e,d){let{disableErrors:h,global:m,overrideAccess:g=!0,where:y}=d,b=e.globals.config.find(({slug:e})=>e===m);if(!b)throw new eB.L(`The global with slug ${String(m)} can't be found. Count Global Versions Operation.`);return tS({disableErrors:h,global:b,overrideAccess:g,req:await (0,eI.M)(d,e),where:y})}var t_=h(94415);async function tE(e,d){let{slug:h,depth:m,draft:g=!1,includeLockStatus:y,overrideAccess:b=!0,populate:v,select:w,showHiddenFields:S}=d,x=e.globals.config.find(e=>e.slug===h);if(!x)throw new eB.L(`The global with slug ${String(h)} can't be found.`);return(0,t_.j)({slug:h,depth:m,draft:g,globalConfig:x,includeLockStatus:y,overrideAccess:b,populate:v,req:await (0,eI.M)(d,e),select:w,showHiddenFields:S})}var tT=h(65111);async function tk(e,d){let{id:h,slug:m,depth:g,disableErrors:y=!1,overrideAccess:b=!0,populate:v,select:w,showHiddenFields:S}=d,x=e.globals.config.find(e=>e.slug===m);if(!x)throw new eB.L(`The global with slug ${String(m)} can't be found.`);return(0,tT.L)({id:h,depth:g,disableErrors:y,globalConfig:x,overrideAccess:b,populate:v,req:await (0,eI.M)(d,e),select:w,showHiddenFields:S})}var tC=h(12882);async function tA(e,d){let{slug:h,depth:m,limit:g,overrideAccess:y=!0,page:b,populate:v,select:w,showHiddenFields:S,sort:x,where:_}=d,E=e.globals.config.find(e=>e.slug===h);if(!E)throw new eB.L(`The global with slug ${String(h)} can't be found.`);return(0,tC.s)({depth:m,globalConfig:E,limit:g,overrideAccess:y,page:b,populate:v,req:await (0,eI.M)(d,e),select:w,showHiddenFields:S,sort:x,where:_})}var tP=h(88570);async function tN(e,d){let{id:h,slug:m,depth:g,overrideAccess:y=!0,populate:b,showHiddenFields:v}=d,w=e.globals.config.find(e=>e.slug===m);if(!w)throw new eB.L(`The global with slug ${String(m)} can't be found.`);return(0,tP.c)({id:h,depth:g,globalConfig:w,overrideAccess:y,populate:b,req:await (0,eI.M)(d,e),showHiddenFields:v})}var tO=h(46519);let tI={countGlobalVersions:tx,findOne:tE,findVersionByID:tk,findVersions:tA,restoreVersion:tN,update:async function(e,d){let{slug:h,data:m,depth:g,draft:y,overrideAccess:b=!0,overrideLock:v,populate:w,publishSpecificLocale:S,select:x,showHiddenFields:_}=d,E=e.globals.config.find(e=>e.slug===h);if(!E)throw new eB.L(`The global with slug ${String(h)} can't be found.`);return(0,tO.L)({slug:h,data:(0,e6.Zt)(m),depth:g,draft:y,globalConfig:E,overrideAccess:b,overrideLock:v,populate:w,publishSpecificLocale:S,req:await (0,eI.M)(d,e),select:x,showHiddenFields:_})}};var tR=h(49495),tD=h(83732),tL=h(72994);let t$=e=>({queue:async d=>{let h;if(d.queue)h=d.queue;else if(d.workflow){let m=e.config.jobs?.workflows?.find(({slug:e})=>e===d.workflow);m?.queue&&(h=m.queue)}let m={input:d.input};return(h&&(m.queue=h),d.waitUntil&&(m.waitUntil=d.waitUntil?.toISOString()),d.workflow&&(m.workflowSlug=d.workflow),d.task&&(m.taskSlug=d.task),e?.config?.jobs?.depth||e?.config?.jobs?.runHooks)?await e.create({collection:tR.SJ,data:m,depth:e.config.jobs.depth??0,req:d.req}):(0,tR.Sf)({config:e.config,doc:await e.db.create({collection:tR.SJ,data:m,req:d.req})})},run:async d=>{let h=d?.req??await (0,eI.M)({},e);return await (0,tD.A)({limit:d?.limit,overrideAccess:d?.overrideAccess!==!1,processingOrder:d?.processingOrder,queue:d?.queue,req:h,sequential:d?.sequential,where:d?.where})},runByID:async d=>{let h=d.req??await (0,eI.M)({},e);return await (0,tD.A)({id:d.id,overrideAccess:!1!==d.overrideAccess,req:h})},cancel:async d=>{let h=d.req??await (0,eI.M)({},e),m=[d.where,{completedAt:{exists:!1}},{hasError:{not_equals:!0}}];d.queue&&m.push({queue:{equals:d.queue}}),await (0,tL.Y)({data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:h,returning:!1,where:{and:m}})},cancelByID:async d=>{let h=d.req??await (0,eI.M)({},e);await (0,tL.l)({id:d.id,data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:h,returning:!1})}});function tM(){return"phase-production-build"===process.env.NEXT_PHASE||"build"===process.env.npm_lifecycle_event}var tB=h(20587),tj=h(34578);let tU={colorize:!0,ignore:"pid,hostname",translateTime:"SYS:HH:MM:ss"},tF=(0,tj.build)({...tU,destination:1,sync:!0}),tz=(0,tj.build)(tU),tq=(e="payload",d)=>{if(!d)return(0,tB.pino)(tz);if("sync"===d)return(0,tB.pino)(tF);if(!("options"in d))return d;{let{destination:h,options:m}=d;return m.name||(m.name=e),m.enabled||(m.enabled="true"!==process.env.DISABLE_LOGGING),(0,tB.pino)(m,h)}};var tV=h(21429);let tH=e=>{(0,tV.BI)({event:{type:"server-init"},payload:e})};var tK=h(25760);let tG=(0,b.fileURLToPath)("file:///Users/himanshu/Desktop/Payload%20Cloudflare/pg/node_modules/.pnpm/payload@3.40.0_graphql@16.11.0_typescript@5.7.3/node_modules/payload/dist/index.js"),tW=v.dirname(tG);class tJ{auth=async e=>{let{auth:d}=tf.auth;return d(this,e)};authStrategies;blocks={};collections={};config;count=async e=>{let{count:d}=tf;return d(this,e)};countGlobalVersions=async e=>{let{countGlobalVersions:d}=tI;return d(this,e)};countVersions=async e=>{let{countVersions:d}=tf;return d(this,e)};create=async e=>{let{create:d}=tf;return d(this,e)};db;decrypt=U;duplicate=async e=>{let{duplicate:d}=tf;return d(this,e)};email;encrypt=j;extensions;find=async e=>{let{find:d}=tf;return d(this,e)};findByID=async e=>{let{findByID:d}=tf;return d(this,e)};findGlobal=async e=>{let{findOne:d}=tI;return d(this,e)};findGlobalVersionByID=async e=>{let{findVersionByID:d}=tI;return d(this,e)};findGlobalVersions=async e=>{let{findVersions:d}=tI;return d(this,e)};findVersionByID=async e=>{let{findVersionByID:d}=tf;return d(this,e)};findVersions=async e=>{let{findVersions:d}=tf;return d(this,e)};forgotPassword=async e=>{let{forgotPassword:d}=tf.auth;return d(this,e)};getAdminURL=()=>`${this.config.serverURL}${this.config.routes.admin}`;getAPIURL=()=>`${this.config.serverURL}${this.config.routes.api}`;globals;importMap;jobs=t$(this);logger;login=async e=>{let{login:d}=tf.auth;return d(this,e)};resetPassword=async e=>{let{resetPassword:d}=tf.auth;return d(this,e)};restoreGlobalVersion=async e=>{let{restoreVersion:d}=tI;return d(this,e)};restoreVersion=async e=>{let{restoreVersion:d}=tf;return d(this,e)};schema;secret;sendEmail;types;unlock=async e=>{let{unlock:d}=tf.auth;return d(this,e)};updateGlobal=async e=>{let{update:d}=tI;return d(this,e)};validationRules;verifyEmail=async e=>{let{verifyEmail:d}=tf.auth;return d(this,e)};versions={};async bin({args:e,cwd:d,log:h}){return new Promise((m,y)=>{let b=(0,g.spawn)("node",[v.resolve(tW,"../bin.js"),...e],{cwd:d,stdio:h||void 0===h?"inherit":"ignore"});b.on("exit",e=>{m({code:e})}),b.on("error",e=>{y(e)})})}delete(e){let{deleteLocal:d}=tf;return d(this,e)}async init(e){if(this.importMap=e.importMap,!e?.config)throw Error("Error: the payload config is required to initialize payload.");if(this.config=await e.config,this.logger=tq("payload",this.config.logger),!this.config.secret)throw Error("Error: missing secret key. A secret key is needed to secure Payload.");for(let e of(this.secret=y.createHash("sha256").update(this.config.secret).digest("hex").slice(0,32),this.globals={config:this.config.globals},this.config.collections)){let d,h=({field:e})=>!!["array","blocks","group"].includes(e.type)||"tab"===e.type&&"name"in e||((0,tv.Z7)(e)&&"id"===e.name?(d=e.type,!0):void 0);(0,tK.m)({callback:h,config:this.config,fields:e.fields,parentIsLocalized:!1}),this.collections[e.slug]={config:e,customIDType:d}}if(this.blocks=this.config.blocks.reduce((e,d)=>(e[d.slug]=d,e),{}),this.db=this.config.db.init({payload:this}),this.db.payload=this,this.db?.init&&await this.db.init(),!e.disableDBConnect&&this.db.connect&&await this.db.connect(),this.config.email instanceof Promise){let e=await this.config.email;this.email=e({payload:this})}else this.config.email?this.email=this.config.email({payload:this}):("phase-production-build"!==process.env.NEXT_PHASE&&this.logger.warn("No email adapter provided. Email will be written to console. More info at https://payloadcms.com/docs/email/overview."),this.email=tb({payload:this}));if(!this.config.sharp&&this.config.collections.some(e=>e.upload.imageSizes||e.upload.formatOptions)&&this.logger.warn("Image resizing is enabled for one or more collections, but sharp not installed. Please install 'sharp' and pass into the config."),process.env.VERCEL){let e=this.config.collections.filter(e=>e.upload&&void 0===e.upload.adapter);if(e.length){let d=e.map(e=>e.slug).join(", ");this.logger.warn(`Collections with uploads enabled require a storage adapter when deploying to Vercel. Collection(s) without storage adapters: ${d}. See https://payloadcms.com/docs/upload/storage-adapters for more info.`)}}this.sendEmail=this.email.sendEmail,tH(this);let d=!1;this.authStrategies=this.config.collections.reduce((e,h)=>(h?.auth&&(h.auth.strategies.length>0&&e.push(...h.auth.strategies),h.auth?.useAPIKey&&e.push({name:`${h.slug}-api-key`,authenticate:F(h)}),h.auth.disableLocalStrategy||d||(d=!0)),e),[]),d&&this.authStrategies.push({name:"local-jwt",authenticate:ey});try{e.disableOnInit||("function"==typeof e.onInit&&await e.onInit(this),"function"==typeof this.config.onInit&&await this.config.onInit(this))}catch(e){throw this.logger.error({err:e},"Error running onInit function"),e}if(this.config.jobs.autoRun&&!tM()){let e="* * * * *",d=10,h="function"==typeof this.config.jobs.autoRun?await this.config.jobs.autoRun(this):this.config.jobs.autoRun;await Promise.all(h.map(h=>{let m=new M(h.cron??e,async()=>{if("function"==typeof this.config.jobs.shouldAutoRun&&!await this.config.jobs.shouldAutoRun(this))return m.stop(),!1;await this.jobs.run({limit:h.limit??d,queue:h.queue})})}))}return this}update(e){let{update:d}=tf;return d(this,e)}}new tJ;let tQ=global._payload;tQ||(tQ=global._payload={payload:null,promise:null,reload:!1,ws:null});let tY=async(e,d,h)=>{"function"==typeof d.db.destroy&&await d.db.destroy(),d.config=e,d.collections=e.collections.reduce((e,h)=>(e[h.slug]={config:h,customIDType:d.collections[h.slug]?.customIDType},e),{}),d.blocks=e.blocks.reduce((e,d)=>(e[d.slug]=d,e),{}),d.globals={config:e.globals},!1!==e.typescript.autoGenerate&&d.bin({args:["generate:types"],log:!1}),!0!==h&&e.admin?.importMap?.autoGenerate!==!1&&await eN(e,{log:!0}),await d.db.init(),d.db.connect&&await d.db.connect({hotReload:!0}),global._payload_clientConfigs={},global._payload_schemaMap=null,global._payload_clientSchemaMap=null,global._payload_doNotCacheClientConfig=!0,global._payload_doNotCacheSchemaMap=!0,global._payload_doNotCacheClientSchemaMap=!0},tX=async e=>{if(!e?.config)throw Error("Error: the payload config is required for getPayload to work.");if(tQ.payload){if(!0===tQ.reload){let d;tQ.reload=new Promise(e=>d=e);let h=await e.config;await tY(h,tQ.payload,!e.importMap),d()}return tQ.reload instanceof Promise&&await tQ.reload,e?.importMap&&(tQ.payload.importMap=e.importMap),tQ.payload}tQ.promise||(tQ.promise=new tJ().init(e));try{tQ.payload=await tQ.promise,tQ.ws}catch(e){throw tQ.promise=null,e.payloadInitError=!0,e}return e?.importMap&&(tQ.payload.importMap=e.importMap),tQ.payload}},96764:(e,d,h)=>{"use strict";h.d(d,{q:()=>k});var m=h(13062),g=h(77900),y=h(89554),b=h(19131),v=h(83552),w=h(30433),S=h(71707),x=h(19966),_=h(53716),E=h(66412),T=h(68139);let k=async e=>{let{collection:{config:d},data:h,depth:k,overrideAccess:C,req:{payload:{secret:P},payload:O},req:I}=e;if(!Object.prototype.hasOwnProperty.call(h,"token")||!Object.prototype.hasOwnProperty.call(h,"password"))throw new y.L("Missing required data.",m.h.BAD_REQUEST);if(d.auth.disableLocalStrategy)throw new b.c(I.t);try{let b=await (0,w.n)(I);if(e.collection.config.hooks?.beforeOperation?.length)for(let d of e.collection.config.hooks.beforeOperation)e=await d({args:e,collection:e.collection?.config,context:e.req.context,operation:"resetPassword",req:e.req})||e;let S=await O.db.findOne({collection:d.slug,req:I,where:{resetPasswordExpiration:{greater_than:new Date().toISOString()},resetPasswordToken:{equals:h.token}}});if(!S)throw new y.L("Token is either invalid or has expired.",m.h.FORBIDDEN);let{hash:R,salt:D}=await (0,T.$)({collection:d,password:h.password,req:I});if(S.salt=D,S.hash=R,S.resetPasswordExpiration=new Date().toISOString(),d.auth.verify&&(S._verified=!!S._verified),d.hooks?.beforeValidate?.length)for(let h of d.hooks.beforeValidate)await h({collection:e.collection?.config,context:I.context,data:S,operation:"update",req:I});let L=await O.db.updateOne({id:S.id,collection:d.slug,data:S,req:I});await (0,E.Q)({doc:L,password:h.password});let $=(0,x.C)({collectionConfig:d,email:S.email,user:S}),{token:M}=await (0,_.h)({fieldsToSign:$,secret:P,tokenExpiration:d.auth.tokenExpiration}),B=await O.findByID({id:S.id,collection:d.slug,depth:k,overrideAccess:C,req:I});b&&await (0,v.w)(I),B&&(B.collection=d.slug,B._strategy="local-jwt");let j={token:M,user:B};return j=await (0,g.E)({args:e,collection:e.collection?.config,operation:"resetPassword",result:j})}catch(e){throw await (0,S.J)(I),e}}},97e3:(e,d,h)=>{"use strict";h.r(d),h.d(d,{LazyJsonString:()=>ex,NumericValue:()=>ek,copyDocumentWithTransform:()=>g,dateToUtcString:()=>ee,expectBoolean:()=>b,expectByte:()=>k,expectFloat32:()=>S,expectInt:()=>_,expectInt32:()=>E,expectLong:()=>x,expectNonNull:()=>O,expectNumber:()=>v,expectObject:()=>I,expectShort:()=>T,expectString:()=>R,expectUnion:()=>D,handleFloat:()=>F,limitedParseDouble:()=>U,limitedParseFloat:()=>z,limitedParseFloat32:()=>q,logger:()=>Y,nv:()=>eC,parseBoolean:()=>y,parseEpochTimestamp:()=>ed,parseRfc3339DateTime:()=>ei,parseRfc3339DateTimeWithOffset:()=>ea,parseRfc7231DateTime:()=>el,quoteHeader:()=>e_,splitEvery:()=>eE,splitHeader:()=>eT,strictParseByte:()=>J,strictParseDouble:()=>L,strictParseFloat:()=>$,strictParseFloat32:()=>M,strictParseInt:()=>K,strictParseInt32:()=>G,strictParseLong:()=>H,strictParseShort:()=>W});var m=h(69697);let g=(e,d,h=e=>e)=>{let y=m.l1.of(d);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":default:return h(e,y);case"function":case"object":if(null===e)return h(null,y);if(Array.isArray(e)){let d=Array(e.length),m=0;for(let b of e)d[m++]=g(b,y.getValueSchema(),h);return h(d,y)}if("byteLength"in e){let d=new Uint8Array(e.byteLength);return d.set(e,0),h(d,y)}if(e instanceof Date)return h(e,y);let b={};if(y.isMapSchema())for(let d of Object.keys(e))b[d]=g(e[d],y.getValueSchema(),h);else if(y.isStructSchema())for(let[d,m]of y.structIterator())b[d]=g(e[d],m,h);else if(y.isDocumentSchema())for(let d of Object.keys(e))b[d]=g(e[d],y.getValueSchema(),h);return h(b,y)}},y=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw Error(`Unable to parse boolean value "${e}"`)}},b=e=>{if(null!=e){if("number"==typeof e){if((0===e||1===e)&&Y.warn(Q(`Expected boolean, got ${typeof e}: ${e}`)),0===e)return!1;if(1===e)return!0}if("string"==typeof e){let d=e.toLowerCase();if(("false"===d||"true"===d)&&Y.warn(Q(`Expected boolean, got ${typeof e}: ${e}`)),"false"===d)return!1;if("true"===d)return!0}if("boolean"==typeof e)return e;throw TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},v=e=>{if(null!=e){if("string"==typeof e){let d=parseFloat(e);if(!Number.isNaN(d))return String(d)!==String(e)&&Y.warn(Q(`Expected number but observed string: ${e}`)),d}if("number"==typeof e)return e;throw TypeError(`Expected number, got ${typeof e}: ${e}`)}},w=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),S=e=>{let d=v(e);if(void 0!==d&&!Number.isNaN(d)&&d!==1/0&&d!==-1/0&&Math.abs(d)>w)throw TypeError(`Expected 32-bit float, got ${e}`);return d},x=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw TypeError(`Expected integer, got ${typeof e}: ${e}`)}},_=x,E=e=>C(e,32),T=e=>C(e,16),k=e=>C(e,8),C=(e,d)=>{let h=x(e);if(void 0!==h&&P(h,d)!==h)throw TypeError(`Expected ${d}-bit integer, got ${e}`);return h},P=(e,d)=>{switch(d){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},O=(e,d)=>{if(null==e){if(d)throw TypeError(`Expected a non-null value for ${d}`);throw TypeError("Expected a non-null value")}return e},I=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;let d=Array.isArray(e)?"array":typeof e;throw TypeError(`Expected object, got ${d}: ${e}`)},R=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Y.warn(Q(`Expected string, got ${typeof e}: ${e}`)),String(e);throw TypeError(`Expected string, got ${typeof e}: ${e}`)}},D=e=>{if(null==e)return;let d=I(e),h=Object.entries(d).filter(([,e])=>null!=e).map(([e])=>e);if(0===h.length)throw TypeError("Unions must have exactly one non-null member. None were found.");if(h.length>1)throw TypeError(`Unions must have exactly one non-null member. Keys ${h} were not null.`);return d},L=e=>"string"==typeof e?v(j(e)):v(e),$=L,M=e=>"string"==typeof e?S(j(e)):S(e),B=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,j=e=>{let d=e.match(B);if(null===d||d[0].length!==e.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(e)},U=e=>"string"==typeof e?V(e):v(e),F=U,z=U,q=e=>"string"==typeof e?V(e):S(e),V=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw Error(`Unable to parse float value: ${e}`)}},H=e=>"string"==typeof e?x(j(e)):x(e),K=H,G=e=>"string"==typeof e?E(j(e)):E(e),W=e=>"string"==typeof e?T(j(e)):T(e),J=e=>"string"==typeof e?k(j(e)):k(e),Q=e=>String(TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),Y={warn:console.warn},X=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(e){let d=e.getUTCFullYear(),h=e.getUTCMonth(),m=e.getUTCDay(),g=e.getUTCDate(),y=e.getUTCHours(),b=e.getUTCMinutes(),v=e.getUTCSeconds(),w=g<10?`0${g}`:`${g}`,S=y<10?`0${y}`:`${y}`,x=b<10?`0${b}`:`${b}`,_=v<10?`0${v}`:`${v}`;return`${X[m]}, ${w} ${Z[h]} ${d} ${S}:${x}:${_} GMT`}let et=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),ei=e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-3339 date-times must be expressed as strings");let d=et.exec(e);if(!d)throw TypeError("Invalid RFC-3339 date-time value");let[h,m,g,y,b,v,w,S]=d,x=W(eS(m));return ec(x,eb(g,"month",1,12),eb(y,"day",1,31),{hours:b,minutes:v,seconds:w,fractionalMilliseconds:S})},er=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ea=e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-3339 date-times must be expressed as strings");let d=er.exec(e);if(!d)throw TypeError("Invalid RFC-3339 date-time value");let[h,m,g,y,b,v,w,S,x]=d,_=W(eS(m)),E=ec(_,eb(g,"month",1,12),eb(y,"day",1,31),{hours:b,minutes:v,seconds:w,fractionalMilliseconds:S});return"Z"!=x.toUpperCase()&&E.setTime(E.getTime()-ew(x)),E},en=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),es=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),eo=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),el=e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-7231 date-times must be expressed as strings");let d=en.exec(e);if(d){let[e,h,m,g,y,b,v,w]=d;return ec(W(eS(g)),em(m),eb(h,"day",1,31),{hours:y,minutes:b,seconds:v,fractionalMilliseconds:w})}if(d=es.exec(e)){let[e,h,m,g,y,b,v,w]=d;return eh(ec(ep(g),em(m),eb(h,"day",1,31),{hours:y,minutes:b,seconds:v,fractionalMilliseconds:w}))}if(d=eo.exec(e)){let[e,h,m,g,y,b,v,w]=d;return ec(W(eS(w)),em(h),eb(m.trimLeft(),"day",1,31),{hours:g,minutes:y,seconds:b,fractionalMilliseconds:v})}throw TypeError("Invalid RFC-7231 date-time value")},ed=e=>{let d;if(null!=e){if("number"==typeof e)d=e;else if("string"==typeof e)d=L(e);else if("object"==typeof e&&1===e.tag)d=e.value;else throw TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(d)||d===1/0||d===-1/0)throw TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*d))}},ec=(e,d,h,m)=>{let g=d-1;return eg(e,g,h),new Date(Date.UTC(e,g,h,eb(m.hours,"hour",0,23),eb(m.minutes,"minute",0,59),eb(m.seconds,"seconds",0,60),ev(m.fractionalMilliseconds)))},ep=e=>{let d=new Date().getUTCFullYear(),h=100*Math.floor(d/100)+W(eS(e));return h<d?h+100:h},eu=15768e8,eh=e=>e.getTime()-new Date().getTime()>eu?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,em=e=>{let d=Z.indexOf(e);if(d<0)throw TypeError(`Invalid month: ${e}`);return d+1},ef=[31,28,31,30,31,30,31,31,30,31,30,31],eg=(e,d,h)=>{let m=ef[d];if(1===d&&ey(e)&&(m=29),h>m)throw TypeError(`Invalid day for ${Z[d]} in ${e}: ${h}`)},ey=e=>e%4==0&&(e%100!=0||e%400==0),eb=(e,d,h,m)=>{let g=J(eS(e));if(g<h||g>m)throw TypeError(`${d} must be between ${h} and ${m}, inclusive`);return g},ev=e=>null==e?0:1e3*M("0."+e),ew=e=>{let d=e[0],h=1;if("+"==d)h=1;else if("-"==d)h=-1;else throw TypeError(`Offset direction, ${d}, must be "+" or "-"`);return h*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*6e4},eS=e=>{let d=0;for(;d<e.length-1&&"0"===e.charAt(d);)d++;return 0===d?e:e.slice(d)},ex=function(e){return Object.assign(new String(e),{deserializeJSON:()=>JSON.parse(String(e)),toString:()=>String(e),toJSON:()=>String(e)})};function e_(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}function eE(e,d,h){if(h<=0||!Number.isInteger(h))throw Error("Invalid number of delimiters ("+h+") for splitEvery.");let m=e.split(d);if(1===h)return m;let g=[],y="";for(let e=0;e<m.length;e++)""===y?y=m[e]:y+=d+m[e],(e+1)%h==0&&(g.push(y),y="");return""!==y&&g.push(y),g}ex.from=e=>e&&"object"==typeof e&&(e instanceof ex||"deserializeJSON"in e)?e:"string"==typeof e||Object.getPrototypeOf(e)===String.prototype?ex(String(e)):ex(JSON.stringify(e)),ex.fromObject=ex.from;let eT=e=>{let d,h=e.length,m=[],g=!1,y=0;for(let b=0;b<h;++b){let h=e[b];switch(h){case'"':"\\"!==d&&(g=!g);break;case",":g||(m.push(e.slice(y,b)),y=b+1)}d=h}return m.push(e.slice(y)),m.map(e=>{let d=(e=e.trim()).length;return d<2?e:('"'===e[0]&&'"'===e[d-1]&&(e=e.slice(1,d-1)),e.replace(/\\"/g,'"'))})};class ek{constructor(e,d){this.string=e,this.type=d}}function eC(e){return new ek(e,"bigDecimal")}},97140:e=>{"use strict";e.exports=JSON.parse('{"name":"nodemailer","version":"6.9.16","description":"Easy as cake e-mail sending from your Node.js applications","main":"lib/nodemailer.js","scripts":{"test":"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","lint":"eslint .","update":"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},"repository":{"type":"git","url":"https://github.com/nodemailer/nodemailer.git"},"keywords":["Nodemailer"],"author":"Andris Reinman","license":"MIT-0","bugs":{"url":"https://github.com/nodemailer/nodemailer/issues"},"homepage":"https://nodemailer.com/","devDependencies":{"@aws-sdk/client-ses":"3.679.0","bunyan":"1.8.15","c8":"10.1.2","eslint":"8.57.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"9.1.0","libbase64":"1.3.0","libmime":"5.3.5","libqp":"2.1.0","nodemailer-ntlm-auth":"1.0.4","proxy":"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.13.6"},"engines":{"node":">=6.0.0"}}')},97235:e=>{"use strict";let d=Symbol("kDone"),h=Symbol("kRun");class m{constructor(e){this[d]=()=>{this.pending--,this[h]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[h]()}[h](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[d])}}}e.exports=m},97482:(e,d,h)=>{"use strict";h.d(d,{M:()=>m});let m=async e=>{let{collection:d,req:h}=e;return!!await h.payload.db.findOne({collection:d,req:h})}},97489:e=>{"use strict";e.exports={mapHttpRequest:g,reqSerializer:m};let d=Symbol("pino-raw-req-ref"),h=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[d]},set:function(e){this[d]=e}}});function m(e){let d=e.info||e.socket,m=Object.create(h);if(m.id="function"==typeof e.id?e.id():e.id||(e.info?e.info.id:void 0),m.method=e.method,e.originalUrl)m.url=e.originalUrl;else{let d=e.path;m.url="string"==typeof d?d:e.url?e.url.path||e.url:void 0}return e.query&&(m.query=e.query),e.params&&(m.params=e.params),m.headers=e.headers,m.remoteAddress=d&&d.remoteAddress,m.remotePort=d&&d.remotePort,m.raw=e.raw||e,m}function g(e){return{req:m(e)}}Object.defineProperty(h,d,{writable:!0,value:{}})},97507:(e,d,h)=>{"use strict";function m(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}h.d(d,{Zt:()=>w});let g=new Map;g.set(Date,e=>new Date(e)),g.set(Map,(e,d)=>new Map(b(Array.from(e),d))),g.set(Set,(e,d)=>new Set(b(Array.from(e),d))),g.set(RegExp,e=>new RegExp(e.source,e.flags));let y=null;function b(e,d){let h=Object.keys(e),b=Array(h.length);for(let v=0;v<h.length;v++){let w=h[v],S=e[w];"object"!=typeof S||null===S?b[w]=S:S instanceof RegExp?b[w]=new RegExp(S.source,S.flags):S.constructor!==Object&&(y=g.get(S.constructor))?b[w]=y(S,d):ArrayBuffer.isView(S)?b[w]=m(S):b[w]=d(S)}return b}let v=e=>{if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return b(e,v);if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(e.constructor!==Object&&(y=g.get(e.constructor)))return y(e,v);let d={};for(let h in e){if(!1===Object.hasOwnProperty.call(e,h))continue;let b=e[h];"object"!=typeof b||null===b?d[h]=b:b instanceof RegExp?d[h]=new RegExp(b.source,b.flags):b.constructor!==Object&&(y=g.get(b.constructor))?d[h]=y(b,v):ArrayBuffer.isView(b)?d[h]=m(b):d[h]=v(b)}return d};function w(e,d=!1){if("object"!=typeof e||null===e)return e;{if(Array.isArray(e))return e.map(e=>"object"!=typeof e||null===e?e:w(e,d));if(e instanceof Date)return new Date(e);let h={};for(let m in e){let g=e[m];d&&void 0===g||(h[m]="object"!=typeof g||null===g?g:w(g,d))}return h}}},97750:e=>{"use strict";class d{constructor({token:e,date:d,parts:h,locales:m}){this.token=e,this.date=d||new Date,this.parts=h||[this],this.locales=m||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((h,m)=>m>e&&h instanceof d)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),h=e.indexOf(this);return e.find((e,m)=>m>h&&e instanceof d)}toString(){return String(this.date)}}e.exports=d},98253:(e,d,h)=>{"use strict";h.d(d,{qf:()=>lF});var m=h(15428),g=h(43030),y=h(8409),b=h(15783);let{singular:v}=h(73940),w=e=>{if(e?.admin&&e?.admin?.condition)return!1;let d="required"in e&&!0===e.required;return!!fieldAffectsData(e)&&!!d||"fields"in e&&"array"!==e.type&&e.flattenedFields.some(e=>w(e))};function S(e){return e.map(e=>"object"==typeof e&&"value"in e?e.value:e)}function x(e,d){let h=[e];return d?e:(h.push("null"),h)}function _({entity:e,i18n:d}){let h;return e?.admin?.description&&("string"==typeof e?.admin?.description?h=e?.admin?.description:"object"==typeof e?.admin?.description?e?.admin?.description?.en?h=e?.admin?.description?.en:e?.admin?.description?.[d.language]&&(h=e?.admin?.description?.[d.language]):e?.admin?.description),h}function E(e,d,h,m,g){let y=new Set;return{properties:Object.fromEntries(d.reduce((b,v,T)=>{let k,C=fieldAffectsData(v)&&w(v),P=_({entity:v,i18n:g}),O={};switch(P&&(O.description=P),v.type){case"array":k={...O,type:x("array",C),items:{type:"object",additionalProperties:!1,...E(e,v.flattenedFields,h,m,g)}},v.interfaceName&&(h.set(v.interfaceName,k),k={$ref:`#/definitions/${v.interfaceName}`});break;case"blocks":{let d=!!(v.blockReferences?v.blockReferences.length:v.blocks.length);k={...O,type:x("array",C),items:d?{oneOf:(v.blockReferences??v.blocks).map(d=>{if("string"==typeof d){let e=m?.blocks?.find(e=>e.slug===d);return{$ref:`#/definitions/${e.interfaceName??e.slug}`}}let y=E(e,d.flattenedFields,h,m,g),b={type:"object",additionalProperties:!1,properties:{...y.properties,blockType:{const:d.slug}},required:["blockType",...y.required]};return d.interfaceName?(h.set(d.interfaceName,b),{$ref:`#/definitions/${d.interfaceName}`}):b})}:{}};break}case"checkbox":k={...O,type:x("boolean",C)};break;case"code":case"date":case"email":case"textarea":k={...O,type:x("string",C)};break;case"group":fieldAffectsData(v)&&(k={...O,type:"object",additionalProperties:!1,...E(e,v.flattenedFields,h,m,g)},v.interfaceName&&(h.set(v.interfaceName,k),k={$ref:`#/definitions/${v.interfaceName}`}));break;case"join":{let d;d=Array.isArray(v.collection)?{oneOf:v.collection.map(d=>({type:"object",additionalProperties:!1,properties:{relationTo:{const:d},value:{oneOf:[{type:e[d]},{$ref:`#/definitions/${d}`}]}},required:["collectionSlug","value"]}))}:{oneOf:[{type:e[v.collection]},{$ref:`#/definitions/${v.collection}`}]},k={...O,type:"object",additionalProperties:!1,properties:{docs:{type:"array",items:d},hasNextPage:{type:"boolean"},totalDocs:{type:"number"}}};break}case"json":k=v.jsonSchema?.schema||{...O,type:["object","array","string","number","boolean","null"]};break;case"number":k=!0===v.hasMany?{...O,type:x("array",C),items:{type:"number"}}:{...O,type:x("number",C)};break;case"point":k={...O,type:x("array",C),items:[{type:"number"},{type:"number"}],maxItems:2,minItems:2};break;case"radio":k={...O,type:x("string",C),enum:S(v.options)},v.interfaceName&&(h.set(v.interfaceName,k),k={$ref:`#/definitions/${v.interfaceName}`});break;case"relationship":case"upload":k=Array.isArray(v.relationTo)?v.hasMany?{...O,type:x("array",C),items:{oneOf:v.relationTo.map(d=>({type:"object",additionalProperties:!1,properties:{relationTo:{const:d},value:{oneOf:[{type:e[d]},{$ref:`#/definitions/${d}`}]}},required:["value","relationTo"]}))}}:{...O,oneOf:v.relationTo.map(d=>({type:x("object",C),additionalProperties:!1,properties:{relationTo:{const:d},value:{oneOf:[{type:e[d]},{$ref:`#/definitions/${d}`}]}},required:["value","relationTo"]}))}:v.hasMany?{...O,type:x("array",C),items:{oneOf:[{type:e[v.relationTo]},{$ref:`#/definitions/${v.relationTo}`}]}}:{...O,oneOf:[{type:x(e[v.relationTo],C)},{$ref:`#/definitions/${v.relationTo}`}]};break;case"richText":if(!v?.editor)throw new MissingEditorProp(v);if("function"==typeof v.editor)throw Error("Attempted to access unsanitized rich text editor.");k=v.editor.outputSchema?{...O,...v.editor.outputSchema({collectionIDFieldTypes:e,config:m,field:v,i18n:g,interfaceNameDefinitions:h,isRequired:C})}:{...O,type:x("array",C),items:{type:"object"}};break;case"select":{let e=S(v.options),m=d?.[T-1];m?.type==="date"&&m.timezone&&v.name.includes("_tz")?k={$ref:"#/definitions/supportedTimezones"}:(v.hasMany?(k={...O,type:x("array",C),items:{type:"string"}},e?.length&&(k.items.enum=e)):(k={...O,type:x("string",C)},e?.length&&(k.enum=e)),v.interfaceName&&(h.set(v.interfaceName,k),k={$ref:`#/definitions/${v.interfaceName}`}));break}case"tab":k={...O,type:"object",additionalProperties:!1,...E(e,v.flattenedFields,h,m,g)},v.interfaceName&&(h.set(v.interfaceName,k),k={$ref:`#/definitions/${v.interfaceName}`});break;case"text":k=!0===v.hasMany?{...O,type:x("array",C),items:{type:"string"}}:{...O,type:x("string",C)}}if("typescriptSchema"in v&&v?.typescriptSchema?.length)for(let e of v.typescriptSchema)k=e({jsonSchema:k});return k&&fieldAffectsData(v)&&(C&&!1!==k.required&&y.add(v.name),b.set(v.name,k)),b},new Map)),required:Array.from(y)}}let T={type:"string",required:!1},k=({type:e,loginWithUsername:d})=>{if(d)switch(e){case"forgotOrUnlock":if(d.allowEmailLogin)return{additionalProperties:!1,oneOf:[{additionalProperties:!1,properties:{email:T},required:["email"]},{additionalProperties:!1,properties:{username:T},required:["username"]}]};return{additionalProperties:!1,properties:{username:T},required:["username"]};case"login":if(d.allowEmailLogin)return{additionalProperties:!1,oneOf:[{additionalProperties:!1,properties:{email:T,password:T},required:["email","password"]},{additionalProperties:!1,properties:{password:T,username:T},required:["username","password"]}]};return{additionalProperties:!1,properties:{password:T,username:T},required:["username","password"]};case"register":{let e=["password"],h={password:T,username:T};return d.requireEmail&&e.push("email"),d.requireUsername&&e.push("username"),(d.requireEmail||d.allowEmailLogin)&&(h.email=T),{additionalProperties:!1,properties:h,required:e}}}return{additionalProperties:!1,properties:{email:T,password:T},required:["email","password"]}},C=({dependencies:e,dependenciesPriority:d,dependenciesSoft:h,feature:m,key:g})=>y=>{let b={dependencies:e,dependenciesPriority:d,dependenciesSoft:h,key:g,serverFeatureProps:y};if("function"==typeof m)b.feature=async({config:e,featureProviderMap:d,isRoot:h,parentIsLocalized:g,resolvedFeatures:b,unSanitizedEditorConfig:v})=>{let w=await m({config:e,featureProviderMap:d,isRoot:h,parentIsLocalized:g,props:y,resolvedFeatures:b,unSanitizedEditorConfig:v});return null===w.sanitizedServerFeatureProps&&(w.sanitizedServerFeatureProps=y),w};else{let e={...m};e.sanitizedServerFeatureProps=y,b.feature=e}return b},P=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#AlignFeatureClient",i18n:{ar:{alignCenterLabel:"  ",alignJustifyLabel:" ",alignLeftLabel:"  ",alignRightLabel:"  "},az:{alignCenterLabel:"Mrkz D\xfczlt",alignJustifyLabel:"D\xfczldin Sslndirin",alignLeftLabel:"Sola Doru Hizalama",alignRightLabel:"Saa Doru Hizalama"},bg:{alignCenterLabel:"",alignJustifyLabel:"   ",alignLeftLabel:" ",alignRightLabel:" "},cs:{alignCenterLabel:"Zarovnat na sted",alignJustifyLabel:"Zarovnat do bloku",alignLeftLabel:"Zarovnat vlevo",alignRightLabel:"Zarovnat vpravo"},da:{alignCenterLabel:"Centrer teksten",alignJustifyLabel:"Just\xe9r til begge sider",alignLeftLabel:"Just\xe9r til venstre",alignRightLabel:"Juster til h\xf8jre"},de:{alignCenterLabel:"Zentrieren",alignJustifyLabel:"Blocksatz",alignLeftLabel:"Linksb\xfcndig",alignRightLabel:"Rechtsb\xfcndig"},en:{alignCenterLabel:"Align Center",alignJustifyLabel:"Align Justify",alignLeftLabel:"Align Left",alignRightLabel:"Align Right"},es:{alignCenterLabel:"Alinear al centro",alignJustifyLabel:"Alinear Justificar",alignLeftLabel:"Alinear a la izquierda",alignRightLabel:"Alinear a la derecha"},et:{alignCenterLabel:"Keskjoondus",alignJustifyLabel:"R\xf6\xf6pjoondus",alignLeftLabel:"Vasakjoondus",alignRightLabel:"Paremjoondus"},fa:{alignCenterLabel:"  ",alignJustifyLabel:"    ",alignLeftLabel:" ",alignRightLabel:" "},fr:{alignCenterLabel:"Aligner au centre",alignJustifyLabel:"Aligner Justifier",alignLeftLabel:"Aligner \xe0 gauche",alignRightLabel:"Aligner \xe0 droite"},he:{alignCenterLabel:"",alignJustifyLabel:" -",alignLeftLabel:" ",alignRightLabel:" "},hr:{alignCenterLabel:"Poravnaj sredinje",alignJustifyLabel:"Poravnaj opravdaj",alignLeftLabel:"Poravnaj lijevo",alignRightLabel:"Poravnaj desno"},hu:{alignCenterLabel:"K\xf6z\xe9pre igaz\xedt\xe1s",alignJustifyLabel:"Igaz\xedt\xe1s Sorkiz\xe1r\xe1s",alignLeftLabel:"Igaz\xedt\xe1s balra",alignRightLabel:"Igaz\xedt\xe1s jobbra"},it:{alignCenterLabel:"Allinea al centro",alignJustifyLabel:"Allinea Giustifica",alignLeftLabel:"Allinea a sinistra",alignRightLabel:"Allinea a destra"},ja:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},ko:{alignCenterLabel:" ",alignJustifyLabel:" ",alignLeftLabel:" ",alignRightLabel:" "},my:{alignCenterLabel:"Pusat Selaras",alignJustifyLabel:"Penjajaran Justify",alignLeftLabel:"",alignRightLabel:"Penjajaran Kanan"},nb:{alignCenterLabel:"Sentrer tekst",alignJustifyLabel:"Juster linje",alignLeftLabel:"Juster til venstre",alignRightLabel:"Juster til h\xf8yre"},nl:{alignCenterLabel:"Centreer uitlijnen",alignJustifyLabel:"Uitlijnen Rechtvaardigen",alignLeftLabel:"Links uitlijnen",alignRightLabel:"Rechts uitlijnen"},pl:{alignCenterLabel:"Wyrodkuj",alignJustifyLabel:"Wyjustuj wyr\xf3wnanie",alignLeftLabel:"Wyr\xf3wnaj do lewej",alignRightLabel:"Wyr\xf3wnaj do prawej"},pt:{alignCenterLabel:"Alinhar ao Centro",alignJustifyLabel:"Alinhar Justificar",alignLeftLabel:"Alinhar \xe0 Esquerda",alignRightLabel:"Alinhar \xe0 Direita"},ro:{alignCenterLabel:"Aliniai Centrul",alignJustifyLabel:"Aliniaza Justifica",alignLeftLabel:"Aliniai la st\xe2nga",alignRightLabel:"Aliniai la dreapta"},rs:{alignCenterLabel:"  ",alignJustifyLabel:" ",alignLeftLabel:" ",alignRightLabel:" "},"rs-latin":{alignCenterLabel:"Poravnaj po sredini",alignJustifyLabel:"Poravnaj obostrano",alignLeftLabel:"Poravnaj levo",alignRightLabel:"Poravnaj desno"},ru:{alignCenterLabel:"  ",alignJustifyLabel:"  ",alignLeftLabel:"   ",alignRightLabel:"   "},sk:{alignCenterLabel:"Vycentrova",alignJustifyLabel:"Zarovna do bloku",alignLeftLabel:"Zarovna doava",alignRightLabel:"Zarovna doprava"},sl:{alignCenterLabel:"Poravnaj na sredino",alignJustifyLabel:"Poravnaj Obojestransko",alignLeftLabel:"Poravnaj na levo",alignRightLabel:"Poravnaj na desno"},sv:{alignCenterLabel:"Centrera",alignJustifyLabel:"Justera Justify",alignLeftLabel:"Justera till v\xe4nster",alignRightLabel:"Justera till h\xf6ger"},th:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},tr:{alignCenterLabel:"Ortaya Hizala",alignJustifyLabel:"Hizala Yasla",alignLeftLabel:"Sola Hizala",alignRightLabel:"Saa Hizala"},uk:{alignCenterLabel:"  ",alignJustifyLabel:"  ",alignLeftLabel:"   ",alignRightLabel:"   "},vi:{alignCenterLabel:"Cn gia",alignJustifyLabel:"Cn u",alignLeftLabel:"Cn l tr\xe1i",alignRightLabel:"Cn phi"},zh:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},"zh-TW":{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""}}},key:"align"});function O(e,...d){let h=new URL("https://lexical.dev/docs/error"),m=new URLSearchParams;for(let h of(m.append("code",e),d))m.append("v",h);throw h.search=m.toString(),Error(`Minified Lexical error #${e}; visit ${h.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let I="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,R=I&&"documentMode"in document?document.documentMode:null,D=(I&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),I&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent));function L(...e){let d=[];for(let h of e)if(h&&"string"==typeof h)for(let[e]of h.matchAll(/\S+/g))d.push(e);return d}function $(...e){return()=>{for(let d=e.length-1;d>=0;d--)e[d]();e.length=0}}function M(e){return`${e}px`}I&&"InputEvent"in window&&!R&&new window.InputEvent("input"),I&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),I&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,I&&/Android/.test(navigator.userAgent),I&&/^(?=.*Chrome).*/i.test(navigator.userAgent),I&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);let B={attributes:!0,characterData:!0,childList:!0,subtree:!0};function j(e,d,h){let m=null,g=null,y=null,b=[],v=document.createElement("div");function w(){var y,w;null===m&&O(182),null===g&&O(183);let{left:S,top:x}=g.getBoundingClientRect(),_=N(e,d);v.isConnected||(w=v,(y=g).insertBefore(w,y.firstChild));let E=!1;for(let e=0;e<_.length;e++){let d=_[e],h=b[e]||document.createElement("div"),m=h.style;"absolute"!==m.position&&(m.position="absolute",E=!0);let g=M(d.left-S);m.left!==g&&(m.left=g,E=!0);let y=M(d.top-x);m.top!==y&&(h.style.top=y,E=!0);let w=M(d.width);m.width!==w&&(h.style.width=w,E=!0);let T=M(d.height);m.height!==T&&(h.style.height=T,E=!0),h.parentNode!==v&&(v.append(h),E=!0),b[e]=h}for(;b.length>_.length;)b.pop();E&&h(b)}function S(){for(let e of(g=null,m=null,null!==y&&y.disconnect(),y=null,v.remove(),b))e.remove();b=[]}v.style.position="relative";let x=e.registerRootListener(function d(){let h=e.getRootElement();if(null===h)return S();let b=h.parentElement;if(!t(b))return S();S(),m=h,g=b,(y=new MutationObserver(h=>{let y=e.getRootElement(),b=y&&y.parentElement;if(y!==m||b!==g)return d();for(let e of h)if(!v.contains(e.target))return w()})).observe(b,B),w()});return()=>{x(),S()}}function U(e,d,h){if("text"!==e.type&&o(d)){let m=d.getDOMSlot(h);return[m.element,m.getFirstChildOffset()+e.offset]}return[r(h)||h,e.offset]}let F=I,z=D;function q(e,...d){let h=L(...d);h.length>0&&e.classList.add(...h)}function V(e,...d){let h=L(...d);h.length>0&&e.classList.remove(...h)}function H(e,d,h){let m=i(),g=d||m,y=o(g)?l(g,e):u(g,e),b=K(g),v=h?s(c(u(h,e))):function(e,d){let h=J(u(e,d));return h&&h[0]}(g,e),w=b;return f({hasNext:e=>null!==e,initial:y,map:e=>({depth:w,node:e.origin}),step:e=>{if(e.isSameNodeCaret(v))return null;a(e)&&w++;let d=J(e);return!d||d[0].isSameNodeCaret(v)?null:(w+=d[1],d[0])}})}function K(e){let d=-1;for(let h=e;null!==h;h=h.getParent())d++;return d}function G(e){return W(l(e,"previous"))}function W(e){return f({hasNext:A,initial:e.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}function J(e,d="root"){let h=0,m=e,g=s(m);for(;null===g;){if(h--,!(g=m.getParentCaret(d)))return null;g=s(m=g)}return g&&[g,h]}function Q(e,...d){let h=new URL("https://lexical.dev/docs/error"),m=new URLSearchParams;for(let h of(m.append("code",e),d))m.append("v",h);throw h.search=m.toString(),Error(`Minified Lexical error #${e}; visit ${h.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Y="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,X=Y&&"documentMode"in document?document.documentMode:null,Z=Y&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ee=Y&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),et=!(!Y||!("InputEvent"in window)||X)&&"getTargetRanges"in new window.InputEvent("input"),ei=Y&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),er=Y&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ea=Y&&/Android/.test(navigator.userAgent),en=Y&&/^(?=.*Chrome).*/i.test(navigator.userAgent),es=Y&&ea&&en,eo=Y&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!en;function el(...e){let d=[];for(let h of e)if(h&&"string"==typeof h)for(let[e]of h.matchAll(/\S+/g))d.push(e);return d}let ed=1,ec=3,ep=9,eu=11,eh=0,em=1,ef=2,eg=0,ey=1,eb=2,ev=4,ew=8,eS=128,ex=2047,e_=1,eE=2,eT=3,ek=4,eC=5,eA=6,eP=ei||er||eo?"\xa0":"",eN="\n\n",eO=ee?"\xa0":eP,eI="---",eR="A-Za-z\xc0-\xd6\xd8-\xf6\xf8------",eD=RegExp("^[^"+eR+"]*["+eI+"]"),eL=RegExp("^[^"+eI+"]*["+eR+"]"),e$={bold:1,capitalize:1024,code:16,highlight:eS,italic:2,lowercase:256,strikethrough:ev,subscript:32,superscript:64,underline:ew,uppercase:512},eM={directionless:1,unmergeable:2},eB={center:eE,end:eA,justify:ek,left:e_,right:eT,start:eC},ej={[eE]:"center",[eA]:"end",[ek]:"justify",[e_]:"left",[eT]:"right",[eC]:"start"},eU={normal:0,segmented:2,token:1},eF={[eg]:"normal",[eb]:"segmented",[ey]:"token"},ez="$";function eq(e,d,h,m,g,y){let b=e.getFirstChild();for(;null!==b;){let e=b.__key;b.__parent===d&&(r9(b)&&eq(b,e,h,m,g,y),h.has(e)||y.delete(e),g.push(e)),b=b.getNextSibling()}}let eV=100,eH=!1,eK=0;function eG(e){eK=e.timeStamp}function eW(e,d,h){let m="BR"===e.nodeName,g=d.__lexicalLineBreak;return g&&(e===g||m&&e.previousSibling===g)||m&&void 0!==aR(e,h)}function eJ(e,d,h){let m=nh(nn(h)),g=null,y=null;null!==m&&m.anchorNode===e&&(g=m.anchorOffset,y=m.focusOffset);let b=e.nodeValue;null!==b&&aG(d,b,g,y,!1)}function eQ(e,d,h){if(rd(e)){let d=e.anchor.getNode();if(d.is(h)&&e.format!==d.getFormat())return!1}return ax(d)&&h.isAttached()}function eY(e,d,h,m){for(let g=e;g&&!nA(g);g=a7(g)){let e=aR(g,d);if(void 0!==e){let d=aO(e,h);if(d)return at(d)||!ng(g)?void 0:[g,d]}else if(g===m)return[m,aB(h)]}}function eX(e,d,h){eH=!0;let m=performance.now()-eK>eV;try{r6(e,()=>{let g=rT()||function(e){return e.getEditorState().read(()=>{let e=rT();return null!==e?e.clone():null})}(e),y=new Map,b=e.getRootElement(),v=e._editorState,w=e._blockCursorElement,S=!1,x="";for(let h=0;h<d.length;h++){let _=d[h],E=_.type,T=_.target,k=eY(T,e,v,b);if(!k)continue;let[C,P]=k;if("characterData"===E)m&&i7(P)&&ax(T)&&eQ(g,T,P)&&eJ(T,P,e);else if("childList"===E){S=!0;let d=_.addedNodes;for(let h=0;h<d.length;h++){let m=d[h],g=aI(m),y=m.parentNode;if(null!=y&&m!==w&&null===g&&!eW(m,y,e)){if(ee){let e=(ng(m)?m.innerText:null)||m.nodeValue;e&&(x+=e)}y.removeChild(m)}}let h=_.removedNodes,m=h.length;if(m>0){let d=0;for(let g=0;g<m;g++){let m=h[g];(eW(m,T,e)||w===m)&&(T.appendChild(m),d++)}m!==d&&y.set(C,P)}}}if(y.size>0)for(let[d,h]of y)h.reconcileObservedMutation(d,e);let _=h.takeRecords();if(_.length>0){for(let d=0;d<_.length;d++){let h=_[d],m=h.addedNodes,g=h.target;for(let d=0;d<m.length;d++){let h=m[d],y=h.parentNode;null==y||"BR"!==h.nodeName||eW(h,g,e)||y.removeChild(h)}}h.takeRecords()}null!==g&&(S&&aj(g),ee&&a3(e)&&g.insertRawText(x))})}finally{eH=!1}}function eZ(e){let d=e._observer;null!==d&&eX(e,d.takeRecords(),d)}function e1(e){!function(e){0===eK&&nn(e).addEventListener("textInput",eG,!0)}(e),e._observer=new MutationObserver((d,h)=>{eX(e,d,h)})}function e0(e){return e}class e2{constructor(e,d=new Map,h,m=new Map,g){this.node=e,this.sharedConfigMap=d,this.unknownState=h,this.knownState=m;let y=void 0!==g?g:function(e,d,h){let m=h.size;if(d)for(let g in d){let d=e.get(g);d&&h.has(d)||m++}return m}(d,h,m);this.size=y}getValue(e){let d=this.knownState.get(e);if(void 0!==d)return d;this.sharedConfigMap.set(e.key,e);let h=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){let d=this.unknownState[e.key];void 0!==d&&(h=e.parse(d)),this.updateFromKnown(e,h)}return h}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let e={...this.unknownState};for(let[d,h]of this.knownState)d.isEqual(h,d.defaultValue)?delete e[d.key]:e[d.key]=d.unparse(h);return e4(e)?{[ez]:e}:{}}getWritable(e){var d;if(this.node===e)return this;let h=new Map(this.knownState),m=e4(d=this.unknownState)&&{...d};if(m)for(let e of h.keys())delete m[e.key];return new e2(e,this.sharedConfigMap,e4(m),h,this.size)}updateFromKnown(e,d){let h=e.key;this.sharedConfigMap.set(h,e);let{knownState:m,unknownState:g}=this;m.has(e)||g&&h in g||this.size++,m.set(e,d)}updateFromUnknown(e,d){let h=this.sharedConfigMap.get(e);h?this.updateFromKnown(h,h.parse(d)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=d)}updateFromJSON(e){let{knownState:d}=this;for(let e of d.keys())d.set(e,e.defaultValue);if(this.size=d.size,this.unknownState={},e)for(let[d,h]of Object.entries(e))this.updateFromUnknown(d,h);this.unknownState=e4(this.unknownState)}}function e4(e){if(e)for(let d in e)return e}function e6(e){let d=e.getWritable(),h=d.__state?d.__state.getWritable(d):new e2(d);return d.__state=h,h}function e3(e,d){let h=e.__mode,m=e.__format,g=e.__style,y=d.__mode,b=d.__format,v=d.__style,w=e.__state,S=d.__state;return(null===h||h===y)&&(null===m||m===b)&&(null===g||g===v)&&(null===e.__state||w===S||function(e,d){if(e===d)return!0;if(e&&d&&e.size!==d.size)return!1;let h=new Set,m=(e,d)=>{for(let[m,g]of e.knownState){if(h.has(m.key))continue;h.add(m.key);let e=d?d.getValue(m):m.defaultValue;if(e!==g&&!m.isEqual(e,g))return!0}return!1},g=(e,d)=>{let{unknownState:m}=e,g=d?d.unknownState:void 0;if(m){for(let[e,d]of Object.entries(m))if(!h.has(e)&&(h.add(e),d!==(g?g[e]:void 0)))return!0}return!1};return!(e&&m(e,d)||d&&m(d,e)||e&&g(e,d)||d&&g(d,e))}(w,S))}function e5(e,d){let h=e.mergeWithSibling(d),m=rK()._normalizedNodes;return m.add(e.__key),m.add(d.__key),h}function e8(e){let d,h,m=e;if(""!==m.__text||!m.isSimpleText()||m.isUnmergeable()){for(;null!==(d=m.getPreviousSibling())&&i7(d)&&d.isSimpleText()&&!d.isUnmergeable();){if(""!==d.__text){e3(d,m)&&(m=e5(d,m));break}d.remove()}for(;null!==(h=m.getNextSibling())&&i7(h)&&h.isSimpleText()&&!h.isUnmergeable();){if(""!==h.__text){e3(m,h)&&(m=e5(m,h));break}h.remove()}}else m.remove()}function e9(e){return e7(e.anchor),e7(e.focus),e}function e7(e){for(;"element"===e.type;){let d,h,m=e.getNode(),g=e.offset;if(g===m.getChildrenSize()?(d=m.getChildAtIndex(g-1),h=!0):(d=m.getChildAtIndex(g),h=!1),i7(d)){e.set(d.__key,h?d.getTextContentSize():0,"text",!0);break}if(!r9(d))break;e.set(d.__key,h?d.getChildrenSize():0,"element",!0)}}let te,tt,ti,tr,ta,tn,ts,to,tl,td,tc="",tp="",tu=null,th="",tm="",tf=!1,tg=!1,ty=null;function tb(e,d){let h=ts.get(e);if(null!==d){let h=tL(e);h.parentNode===d&&d.removeChild(h)}if(to.has(e)||tt._keyToDOMMap.delete(e),r9(h)){let e=tN(h,ts);tv(e,0,e.length-1,null)}void 0!==h&&a2(td,ti,tr,h,"destroyed")}function tv(e,d,h,m){let g=d;for(;g<=h;++g){let d=e[g];void 0!==d&&tb(d,m)}}function tw(e,d){e.setProperty("text-align",d)}let tS="40px";function tx(e,d){let h=te.theme.indent;if("string"==typeof h){let m=e.classList.contains(h);d>0&&!m?e.classList.add(h):d<1&&m&&e.classList.remove(h)}let m=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||tS;e.style.setProperty("padding-inline-start",0===d?"":`calc(${d} * ${m})`)}function t_(e,d){let h=e.style;0===d?tw(h,""):d===e_?tw(h,"left"):d===eE?tw(h,"center"):d===eT?tw(h,"right"):d===ek?tw(h,"justify"):d===eC?tw(h,"start"):d===eA&&tw(h,"end")}function tE(e,d){let h=to.get(e);void 0===h&&Q(60);let m=h.createDOM(te,tt);if(function(e,d,h){let m=h._keyToDOMMap;(function(e,d,h){e[`__lexicalKey_${d._key}`]=h})(d,h,e),m.set(e,d)}(e,m,tt),i7(h)?m.setAttribute("data-lexical-text","true"):at(h)&&m.setAttribute("data-lexical-decorator","true"),r9(h)){let e=h.__indent,d=h.__size;if(0!==e&&tx(m,e),0!==d){let e=d-1;!function(e,d,h,m){let g=tp;tp="",tT(e,h,0,d,h.getDOMSlot(m)),tA(h,m),tp=g}(tN(h,to),e,h,m)}let g=h.__format;0!==g&&t_(m,g),h.isInline()||tC(null,h,m),a8(h)&&(tc+=eN,tm+=eN)}else{let d=h.getTextContent();if(at(h)){let d=h.decorate(tt,te);null!==d&&tI(e,d),m.contentEditable="false"}else i7(h)&&(h.isDirectionless()||(tp+=d));tc+=d,tm+=d}return null!==d&&d.insertChild(m),a2(td,ti,tr,h,"created"),m}function tT(e,d,h,m,g){let y=tc;tc="";let b=h;for(;b<=m;++b){tE(e[b],g);let d=to.get(e[b]);null!==d&&i7(d)&&(null===tu&&(tu=d.getFormat()),""===th&&(th=d.getStyle()))}a8(d)&&(tc+=eN),g.element.__lexicalTextContent=tc,tc=y+tc}function tk(e,d){if(e){let h=e.__last;if(h){let e=d.get(h);if(e)return iH(e)?"line-break":at(e)&&e.isInline()?"decorator":null}return"empty"}return null}function tC(e,d,h){let m=tk(e,ts),g=tk(d,to);m!==g&&d.getDOMSlot(h).setManagedLineBreak(g)}function tA(e,d){let h=d.__lexicalDirTextContent||"",m=d.__lexicalDir||"";if(h!==tp||m!==ty){let h=""===tp,g=h?ty:function(e){return eD.test(e)?"rtl":eL.test(e)?"ltr":null}(tp);if(g!==m){let y=d.classList,b=te.theme,v=null!==m?b[m]:void 0,w=null!==g?b[g]:void 0;if(void 0!==v){if("string"==typeof v){let e=el(v);v=b[m]=e}y.remove(...v)}if(null===g||h&&"ltr"===g)d.removeAttribute("dir");else{if(void 0!==w){if("string"==typeof w){let e=el(w);w=b[g]=e}void 0!==w&&y.add(...w)}d.dir=g}tg||(e.getWritable().__dir=g)}ty=g,d.__lexicalDirTextContent=tp,d.__lexicalDir=g}}function tP(e,d,h){var m;let g=tp;tp="",tu=null,th="",function(e,d,h){let m=tc,g=e.__size,y=d.__size;tc="";let b=h.element;if(1===g&&1===y){let h=e.__first,m=d.__first;if(h===m)tO(h,b);else{let e=tL(h),d=tE(m,null);try{b.replaceChild(d,e)}catch(g){if("object"==typeof g&&null!=g)throw Error(`${g.toString()} Parent: ${b.tagName}, new child: {tag: ${d.tagName} key: ${m}}, old child: {tag: ${e.tagName}, key: ${h}}.`);throw g}tb(h,null)}let g=to.get(m);i7(g)&&(null===tu&&(tu=g.getFormat()),""===th&&(th=g.getStyle()))}else{let m=tN(e,ts),v=tN(d,to);if(m.length!==g&&Q(227),v.length!==y&&Q(228),0===g)0!==y&&tT(v,d,0,y-1,h);else if(0===y){if(0!==g){let e=null==h.after&&null==h.before&&null==h.element.__lexicalLineBreak;tv(m,0,g-1,e?null:b),e&&(b.textContent="")}}else!function(e,d,h,m,g,y){let b=m-1,v=g-1,w,S,x=y.getFirstChild(),_=0,E=0;for(;_<=b&&E<=v;){let e=d[_],m=h[E];if(e===m)x=tR(tO(m,y.element)),_++,E++;else{void 0===w&&(w=new Set(d)),void 0===S&&(S=new Set(h));let g=S.has(e),b=w.has(m);if(g)if(b){let e=a9(tt,m);e===x?x=tR(tO(m,y.element)):(y.withBefore(x).insertChild(e),tO(m,y.element)),_++,E++}else tE(m,y.withBefore(x)),E++;else x=tR(tL(e)),tb(e,y.element),_++}let g=to.get(m);null!==g&&i7(g)&&(null===tu&&(tu=g.getFormat()),""===th&&(th=g.getStyle()))}let T=_>b,k=E>v;if(T&&!k){let d=h[v+1],m=void 0===d?null:tt.getElementByKey(d);tT(h,e,E,v,y.withBefore(m))}else k&&!T&&tv(d,_,b,y.element)}(d,m,v,g,y,h)}a8(d)&&(tc+=eN),b.__lexicalTextContent=tc,tc=m+tc}(e,d,d.getDOMSlot(h)),tA(d,h),m=d,null==tu||tu===m.__textFormat||tg||m.setTextFormat(tu),function(e){""===th||th===e.__textStyle||tg||e.setTextStyle(th)}(d),tp=g}function tN(e,d){let h=[],m=e.__first;for(;null!==m;){let e=d.get(m);void 0===e&&Q(101),h.push(m),m=e.__next}return h}function tO(e,d){let h=ts.get(e),m=to.get(e);void 0!==h&&void 0!==m||Q(61);let g=tf||tn.has(e)||ta.has(e),y=a9(tt,e);if(h===m&&!g){if(r9(h)){let e=y.__lexicalTextContent;void 0!==e&&(tc+=e,tm+=e);let d=y.__lexicalDirTextContent;void 0!==d&&(tp+=d)}else{let e=h.getTextContent();i7(h)&&!h.isDirectionless()&&(tp+=e),tm+=e,tc+=e}return y}if(h!==m&&g&&a2(td,ti,tr,m,"updated"),m.updateDOM(h,y,te)){let h=tE(e,null);return null===d&&Q(62),d.replaceChild(h,y),tb(e,null),h}if(r9(h)&&r9(m)){let e=m.__indent;e!==h.__indent&&tx(y,e);let d=m.__format;d!==h.__format&&t_(y,d),g&&(tP(h,m,y),ar(m)||m.isInline()||tC(h,m,y)),a8(m)&&(tc+=eN,tm+=eN)}else{let d=m.getTextContent();if(at(m)){let d=m.decorate(tt,te);null!==d&&tI(e,d)}else i7(m)&&!m.isDirectionless()&&(tp+=d);tc+=d,tm+=d}if(!tg&&ar(m)&&m.__cachedText!==tm){let e=m.getWritable();e.__cachedText=tm,m=e}return y}function tI(e,d){let h=tt._pendingDecorators,m=tt._decorators;if(null===h){if(m[e]===d)return;h=aL(tt)}h[e]=d}function tR(e){let d=e.nextSibling;return null!==d&&d===tt._blockCursorElement&&(d=d.nextSibling),d}function tD(e,d,h,m,g,y){tc="",tm="",tp="",tf=m===ef,ty=null,tt=h,te=h._config,ti=h._nodes,tr=tt._listeners.mutation,ta=g,tn=y,ts=e._nodeMap,to=d._nodeMap,tg=d._readOnly,tl=new Map(h._keyToDOMMap);let b=new Map;return td=b,tO("root",null),tt=void 0,ti=void 0,ta=void 0,tn=void 0,ts=void 0,to=void 0,te=void 0,tl=void 0,td=void 0,b}function tL(e){let d=tl.get(e);return void 0===d&&Q(75,e),d}function t$(e){return{}}let tM={},tB={},tj={},tU={},tF={},tz={},tq={},tV={},tH={},tK={},tG={},tW={},tJ={},tQ={},tY={},tX={},tZ={},t1={},t0={},t2={},t4={},t6={},t3={},t5={},t8={},t9={},t7={},ie={},it={},ii={},ir={},ia={},is={},io={},il={},id={},ic=Object.freeze({}),ip=30,iu=[["keydown",function(e,d){if(ih=e.timeStamp,im=e.key,d.isComposing())return;let{key:h,shiftKey:m,ctrlKey:g,metaKey:y,altKey:b}=e;if(!a5(d,tQ,e)&&null!=h){if(i_&&aX(im))return r6(d,()=>{iR(d,iE)}),i_=!1,void(iE="");if(function(e,d,h,m){return aJ(e)&&!d&&!m&&!h}(h,g,b,y))a5(d,tY,e);else if(function(e,d,h,m,g){return aJ(e)&&!m&&!h&&(d||g)}(h,g,m,b,y))a5(d,tX,e);else if(function(e,d,h,m){return aW(e)&&!d&&!m&&!h}(h,g,b,y))a5(d,tZ,e);else if(function(e,d,h,m,g){return aW(e)&&!m&&!h&&(d||g)}(h,g,m,b,y))a5(d,t1,e);else if(function(e,d,h){return"ArrowUp"===e&&!d&&!h}(h,g,y))a5(d,t0,e);else if(function(e,d,h){return"ArrowDown"===e&&!d&&!h}(h,g,y))a5(d,t2,e);else if(function(e,d){return aY(e)&&d}(h,m))iS=!0,a5(d,t4,e);else{var v,w;if(v=h," "===v)a5(d,t6,e);else if(function(e,d){return Z&&d&&"o"===e.toLowerCase()}(h,g))e.preventDefault(),iS=!0,a5(d,tU,!0);else if(function(e,d){return aY(e)&&!d}(h,m))iS=!1,a5(d,t4,e);else if(function(e,d,h,m){return Z?!d&&!h&&(aX(e)||"h"===e.toLowerCase()&&m):!m&&!d&&!h&&aX(e)}(h,b,y,g))aX(h)?a5(d,t3,e):(e.preventDefault(),a5(d,tj,!0));else if(w=h,"Escape"===w)a5(d,t5,e);else if(function(e,d,h,m,g){return Z?!(h||m||g)&&(aZ(e)||"d"===e.toLowerCase()&&d):!d&&!m&&!g&&aZ(e)}(h,g,m,b,y))aZ(h)?a5(d,t8,e):(e.preventDefault(),a5(d,tj,!1));else if(function(e,d,h){return aX(e)&&(Z?d:h)}(h,b,g))e.preventDefault(),a5(d,tH,!0);else if(function(e,d,h){return aZ(e)&&(Z?d:h)}(h,b,g))e.preventDefault(),a5(d,tH,!1);else if(function(e,d){return Z&&d&&aX(e)}(h,y))e.preventDefault(),a5(d,tK,!0);else if(function(e,d){return Z&&d&&aZ(e)}(h,y))e.preventDefault(),a5(d,tK,!1);else if(function(e,d,h,m){return"b"===e.toLowerCase()&&!d&&aQ(h,m)}(h,b,y,g))e.preventDefault(),a5(d,tG,"bold");else if(function(e,d,h,m){return"u"===e.toLowerCase()&&!d&&aQ(h,m)}(h,b,y,g))e.preventDefault(),a5(d,tG,"underline");else if(function(e,d,h,m){return"i"===e.toLowerCase()&&!d&&aQ(h,m)}(h,b,y,g))e.preventDefault(),a5(d,tG,"italic");else if(function(e,d,h,m){return"Tab"===e&&!d&&!h&&!m}(h,b,g,y))a5(d,t9,e);else if(function(e,d,h,m){return"z"===e.toLowerCase()&&!d&&aQ(h,m)}(h,m,y,g))e.preventDefault(),a5(d,tW,void 0);else if(function(e,d,h,m){return Z?"z"===e.toLowerCase()&&h&&d:"y"===e.toLowerCase()&&m||"z"===e.toLowerCase()&&m&&d}(h,m,y,g))e.preventDefault(),a5(d,tJ,void 0);else{let b=d._editorState._selection;null===b||rd(b)?!ee&&a1(h,y,g)&&(e.preventDefault(),a5(d,is,e)):function(e,d,h,m){return!d&&"c"===e.toLowerCase()&&(Z?h:m)}(h,m,y,g)?(e.preventDefault(),a5(d,ir,e)):function(e,d,h,m){return!d&&"x"===e.toLowerCase()&&(Z?h:m)}(h,m,y,g)?(e.preventDefault(),a5(d,ia,e)):a1(h,y,g)&&(e.preventDefault(),a5(d,is,e))}}(function(e,d,h,m){return e||d||h||m})(g,m,b,y)&&a5(d,id,e)}}],["pointerdown",function(e,d){let h=e.target,m=e.pointerType;ny(h)&&"touch"!==m&&0===e.button&&r6(d,()=>{at(aD(h))||(iw=!0)})}],["compositionstart",function(e,d){r6(d,()=>{let h=rT();if(rd(h)&&!d.isComposing()){let m=h.anchor,g=h.anchor.getNode();aP(m.key),(e.timeStamp<ih+ip||"element"===m.type||!h.isCollapsed()||g.getFormat()!==h.format||i7(g)&&g.getStyle()!==h.style)&&a5(d,tz,eO)}})}],["compositionend",function(e,d){ee?ix=!0:!er&&(ei||eo)?(i_=!0,iE=e.data):r6(d,()=>{iR(d,e.data)})}],["input",function(e,d){e.stopPropagation(),r6(d,()=>{let h=rT(),m=e.data,g=iI(e);if(null!=m&&rd(h)&&iC(h,g,m,e.timeStamp,!1)){ix&&(iR(d,m),ix=!1);let g=h.anchor.getNode(),y=nh(nn(d));if(null===y)return;let b=h.isBackward(),v=b?h.anchor.offset:h.focus.offset,w=b?h.focus.offset:h.anchor.offset;et&&!h.isCollapsed()&&i7(g)&&null!==y.anchorNode&&g.getTextContent().slice(0,v)+m+g.getTextContent().slice(v+w)===aH(y.anchorNode)||a5(d,tz,m);let S=m.length;ee&&S>1&&"insertCompositionText"===e.inputType&&!d.isComposing()&&(h.anchor.offset-=S),ei||er||eo||!d.isComposing()||(ih=0,aP(null))}else aK(!1,d,null!==m?m:void 0),ix&&(iR(d,m||void 0),ix=!1);!function(){rq(),eZ(rK())}()},{event:e}),iy=null}],["click",function(e,d){r6(d,()=>{let h=rT(),m=nh(nn(d)),g=rk();if(m){if(rd(h)){let d=h.anchor,y=d.getNode();if("element"===d.type&&0===d.offset&&h.isCollapsed()&&!ar(y)&&1===aM().getChildrenSize()&&y.getTopLevelElementOrThrow().isEmpty()&&null!==g&&h.is(g))m.removeAllRanges(),h.dirty=!0;else if(3===e.detail&&!h.isCollapsed()&&y!==h.focus.getNode()){let e=function(e,d){let h=e;for(;h!==aM()&&null!=h;){if(d(h))return h;h=h.getParent()}return null}(y,e=>r9(e)&&!e.isInline());r9(e)&&e.select(0)}}else if("touch"===e.pointerType){let h=m.anchorNode;(ng(h)||ax(h))&&aj(rE(g,m,d,e))}}a5(d,tB,e)})}],["cut",ic],["copy",ic],["dragstart",ic],["dragover",ic],["dragend",ic],["paste",ic],["focus",ic],["blur",ic],["drop",ic]];et&&iu.push(["beforeinput",(e,d)=>(function(e,d){let h=e.inputType,m=iI(e);"deleteCompositionText"===h||ee&&a3(d)||"insertCompositionText"!==h&&r6(d,()=>{var g;let y=rT();if("deleteContentBackward"===h){if(null===y){let e=rk();if(!rd(e))return;aj(e.clone())}if(rd(y)){let h=y.anchor.key===y.focus.key;if(g=e.timeStamp,"MediaLast"===im&&g<ih+ip&&d.isComposing()&&h){if(aP(null),ih=0,setTimeout(()=>{r6(d,()=>{aP(null)})},ip),rd(y)){let e=y.anchor.getNode();e.markDirty(),i7(e)||Q(142),iO(y,e)}}else{aP(null),e.preventDefault();let m=y.anchor.getNode(),g=m.getTextContent(),b=m.canInsertTextAfter(),v=0===y.anchor.offset&&y.focus.offset===g.length,w=es&&h&&!v&&b;if(w&&y.isCollapsed()&&(w=!at(a6(y.anchor,!0))),!w){a5(d,tj,!0);let e=rT();es&&rd(e)&&e.isCollapsed()&&(iT=e,setTimeout(()=>iT=null))}}return}}if(!rd(y))return;let b=e.data;null!==iy&&aK(!1,d,iy),y.dirty&&null===iy||!y.isCollapsed()||ar(y.anchor.getNode())||null===m||y.applyDOMRange(m),iy=null;let v=y.anchor,w=y.focus,S=v.getNode(),x=w.getNode();if("insertText"!==h&&"insertTranspose"!==h)switch(e.preventDefault(),h){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":a5(d,tz,e);break;case"insertFromComposition":aP(null),a5(d,tz,e);break;case"insertLineBreak":aP(null),a5(d,tU,!1);break;case"insertParagraph":aP(null),iS&&!er?(iS=!1,a5(d,tU,!1)):a5(d,tF,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":a5(d,tq,e);break;case"deleteByComposition":(function(e,d){return e!==d||r9(e)||r9(d)||!e.isToken()||!d.isToken()})(S,x)&&a5(d,tV,e);break;case"deleteByDrag":case"deleteByCut":a5(d,tV,e);break;case"deleteContent":a5(d,tj,!1);break;case"deleteWordBackward":a5(d,tH,!0);break;case"deleteWordForward":a5(d,tH,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":a5(d,tK,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":a5(d,tK,!1);break;case"formatStrikeThrough":a5(d,tG,"strikethrough");break;case"formatBold":a5(d,tG,"bold");break;case"formatItalic":a5(d,tG,"italic");break;case"formatUnderline":a5(d,tG,"underline");break;case"historyUndo":a5(d,tW,void 0);break;case"historyRedo":a5(d,tJ,void 0)}else{if("\n"===b)e.preventDefault(),a5(d,tU,!1);else if(b===eN)e.preventDefault(),a5(d,tF,void 0);else if(null==b&&e.dataTransfer){let d=e.dataTransfer.getData("text/plain");e.preventDefault(),y.insertRawText(d)}else null!=b&&iC(y,m,b,e.timeStamp,!0)?(e.preventDefault(),a5(d,tz,b)):iy=b;ig=e.timeStamp}})})(e,d)]);let ih=0,im=null,ig=0,iy=null,ib=new WeakMap,iv=!1,iw=!1,iS=!1,ix=!1,i_=!1,iE="",iT=null,ik=[0,"",0,"root",0];function iC(e,d,h,m,g){let y=e.anchor,b=e.focus,v=y.getNode(),w=rK(),S=nh(nn(w)),x=null!==S?S.anchorNode:null,_=y.key,E=w.getElementByKey(_),T=h.length;return _!==b.key||!i7(v)||(!g&&(!et||ig<m+50)||v.isDirty()&&T<2||az(h))&&y.offset!==b.offset&&!v.isComposing()||aS(v)||v.isDirty()&&T>1||(g||!et)&&null!==E&&!v.isComposing()&&x!==aE(E)||null!==S&&null!==d&&(!d.collapsed||d.startContainer!==S.anchorNode||d.startOffset!==S.anchorOffset)||v.getFormat()!==e.format||v.getStyle()!==e.style||function(e,d){if(d.isSegmented())return!0;if(!e.isCollapsed())return!1;let h=e.anchor.offset,m=d.getParentOrThrow(),g=d.isToken();return 0===h?!d.canInsertTextBefore()||!m.canInsertTextBefore()&&!d.isComposing()||g||function(e){let d=e.getPreviousSibling();return(i7(d)||r9(d)&&d.isInline())&&!d.canInsertTextAfter()}(d):h===d.getTextContentSize()&&(!d.canInsertTextAfter()||!m.canInsertTextAfter()&&!d.isComposing()||g)}(e,v)}function iA(e,d){return ax(e)&&null!==e.nodeValue&&0!==d&&d!==e.nodeValue.length}function iP(e,d,h){let{anchorNode:m,anchorOffset:g,focusNode:y,focusOffset:b}=e;iv&&(iv=!1,iA(m,g)&&iA(y,b)&&!iT)||r6(d,()=>{if(!h)return void aj(null);if(!ay(d,m,y))return;let v=rT();if(iT&&rd(v)&&v.isCollapsed()){let e=v.anchor,d=iT.anchor;(e.key===d.key&&e.offset===d.offset+1||1===e.offset&&d.getNode().is(e.getNode().getPreviousSibling()))&&aj(v=iT.clone())}if(iT=null,rd(v)){let h=v.anchor,m=h.getNode();if(v.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(v.dirty=!0);let g=nn(d).event,y=g?g.timeStamp:performance.now(),[b,w,S,x,_]=ik,E=aM(),T=!1===d.isComposing()&&""===E.getTextContent();if(y<_+200&&h.offset===S&&h.key===x)iN(v,b,w);else if("text"===h.type)i7(m)||Q(141),iO(v,m);else if("element"===h.type&&!T){r9(m)||Q(259);let e=h.getNode();e.isEmpty()?function(e,d){iN(e,d.getTextFormat(),d.getTextStyle())}(v,e):iN(v,0,"")}}else{let e=h.key,d=v.focus.key,m=v.getNodes(),y=m.length,w=v.isBackward(),S=w?b:g,x=w?g:b,_=w?d:e,E=w?e:d,T=ex,k=!1;for(let e=0;e<y;e++){let d=m[e],h=d.getTextContentSize();if(i7(d)&&0!==h&&(0!==e||d.__key!==_||S!==h)&&(e!==y-1||d.__key!==E||0!==x)&&(k=!0,0==(T&=d.getFormat())))break}v.format=k?T:0}}a5(d,tM,void 0)})}function iN(e,d,h){e.format===d&&e.style===h||(e.format=d,e.style=h,e.dirty=!0)}function iO(e,d){iN(e,d.getFormat(),d.getStyle())}function iI(e){if(!e.getTargetRanges)return null;let d=e.getTargetRanges();return 0===d.length?null:d[0]}function iR(e,d){let h=e._compositionKey;if(aP(null),null!==h&&null!=d){if(""===d){let d=aO(h),m=aE(e.getElementByKey(h));return void(null!==m&&null!==m.nodeValue&&i7(d)&&aG(d,m.nodeValue,null,null,!0))}if("\n"===d[d.length-1]){let d=rT();if(rd(d)){let h=d.focus;return d.anchor.set(h.key,h.offset,h.type),void a5(e,t4,null)}}}aK(!0,e,d)}function iD(e){let d=e.__lexicalEventHandles;return void 0===d&&(e.__lexicalEventHandles=d=[]),d}let iL=new Map;function i$(e){let d=nm(e.target);if(null===d)return;let h=av(d.anchorNode);if(null===h)return;iw&&(iw=!1,r6(h,()=>{let m=rk(),g=d.anchorNode;(ng(g)||ax(g))&&aj(rE(m,d,h,e))}));let m=aq(h),g=m[m.length-1],y=g._key,b=iL.get(y),v=b||g;v!==h&&iP(d,v,!1),iP(d,h,!0),h!==g?iL.set(y,h):b&&iL.delete(y)}function iM(e){e._lexicalHandled=!0}function iB(e){return!0===e._lexicalHandled}function ij(e){let d=e.ownerDocument,h=ib.get(d);void 0===h&&Q(162);let m=h-1;m>=0||Q(164),ib.set(d,m),0===m&&d.removeEventListener("selectionchange",i$);let g=aw(e);ab(g)?(!function(e){if(null!==e._parentEditor){let d=aq(e),h=d[d.length-1]._key;iL.get(h)===e&&iL.delete(h)}else iL.delete(e._key)}(g),e.__lexicalEditor=null):g&&Q(198);let y=iD(e);for(let e=0;e<y.length;e++)y[e]();e.__lexicalEventHandles=[]}function iU(e,d,h){rq();let m=e.__key,g=e.getParent();if(null===g)return;let y=function(e){let d=rT();if(!rd(d)||!r9(e))return d;let{anchor:h,focus:m}=d,g=h.getNode(),y=m.getNode();return nr(g,e)&&h.set(e.__key,0,"element"),nr(y,e)&&m.set(e.__key,0,"element"),d}(e),b=!1;if(rd(y)&&d){let d=y.anchor,h=y.focus;d.key===m&&(rP(d,e,g,e.getPreviousSibling(),e.getNextSibling()),b=!0),h.key===m&&(rP(h,e,g,e.getPreviousSibling(),e.getNextSibling()),b=!0)}else rp(y)&&d&&e.isSelected()&&e.selectPrevious();if(rd(y)&&d&&!b){let d=e.getIndexWithinParent();aC(e),rC(y,g,d,-1)}else aC(e);h||no(g)||g.canBeEmpty()||!g.isEmpty()||iU(g,d),d&&ar(g)&&g.isEmpty()&&g.selectEnd()}class iF{static getType(){Q(64,this.name)}static clone(e){Q(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),ak(this,e)}getType(){return this.__type}isInline(){Q(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;let d=aO(e);if(null===d)break;e=d.__parent}return!1}isSelected(e){let d=e||rT();if(null==d)return!1;let h=d.getNodes().some(e=>e.__key===this.__key);if(i7(this))return h;if(rd(d)&&"element"===d.anchor.type&&"element"===d.focus.type){if(d.isCollapsed())return!1;let e=this.getParent();if(at(this)&&this.isInline()&&e){let h=d.isBackward()?d.focus:d.anchor;if(e.is(h.getNode())&&h.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return h}getKey(){return this.__key}getIndexWithinParent(){let e=this.getParent();if(null===e)return -1;let d=e.getFirstChild(),h=0;for(;null!==d;){if(this.is(d))return h;h++,d=d.getNextSibling()}return -1}getParent(){let e=this.getLatest().__parent;return null===e?null:aO(e)}getParentOrThrow(){let e=this.getParent();return null===e&&Q(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let d=e.getParent();if(no(d))return r9(e)||e===this&&at(e)||Q(194),e;e=d}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&Q(67,this.__key),e}getParents(){let e=[],d=this.getParent();for(;null!==d;)e.push(d),d=d.getParent();return e}getParentKeys(){let e=[],d=this.getParent();for(;null!==d;)e.push(d.__key),d=d.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:aO(e)}getPreviousSiblings(){let e=[],d=this.getParent();if(null===d)return e;let h=d.getFirstChild();for(;null!==h&&!h.is(this);)e.push(h),h=h.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:aO(e)}getNextSiblings(){let e=[],d=this.getNextSibling();for(;null!==d;)e.push(d),d=d.getNextSibling();return e}getCommonAncestor(e){let d=r9(this)?this:this.getParent(),h=r9(e)?e:e.getParent(),m=d&&h?n5(d,h):null;return m?m.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){let d=n5(this,e);return null!==d&&("descendant"===d.type||("branch"===d.type?-1===n4(d):("same"!==d.type&&"ancestor"!==d.type&&Q(279),!1)))}isParentOf(e){let d=n5(this,e);return null!==d&&"ancestor"===d.type}getNodesBetween(e){let d=this.isBefore(e),h=[],m=new Set,g=this;for(;null!==g;){let y=g.__key;if(m.has(y)||(m.add(y),h.push(g)),g===e)break;let b=r9(g)?d?g.getFirstChild():g.getLastChild():null;if(null!==b){g=b;continue}let v=d?g.getNextSibling():g.getPreviousSibling();if(null!==v){g=v;continue}let w=g.getParentOrThrow();if(m.has(w.__key)||h.push(w),w===e)break;let S=null,x=w;do{if(null===x&&Q(68),S=d?x.getNextSibling():x.getPreviousSibling(),null===(x=x.getParent()))break;null!==S||m.has(x.__key)||h.push(x)}while(null===S);g=S}return d||h.reverse(),h}isDirty(){let e=rK()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=aO(this.__key);return null===e&&Q(113),e}getWritable(){rq();let e=rH(),d=rK(),h=e._nodeMap,m=this.__key,g=this.getLatest(),y=d._cloneNotNeeded,b=rT();if(null!==b&&b.setCachedNodes(null),y.has(m))return aA(g),g;let v=nk(g);return y.add(m),aA(v),h.set(m,v),v}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,d){Q(70)}updateDOM(e,d,h){Q(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){let e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){Q(18,this.name)}updateFromJSON(e){return function(e,d){let h=e.getWritable();return(d||h.__state)&&e6(e).updateFromJSON(d),h}(this,e.$)}static transform(){return null}remove(e){iU(this,!0,e)}replace(e,d){rq();let h=rT();null!==h&&(h=h.clone()),nd(this,e);let m=this.getLatest(),g=this.__key,y=e.__key,b=e.getWritable(),v=this.getParentOrThrow().getWritable(),w=v.__size;aC(b);let S=m.getPreviousSibling(),x=m.getNextSibling(),_=m.__prev,E=m.__next,T=m.__parent;if((iU(m,!1,!0),null===S)?v.__first=y:S.getWritable().__next=y,(b.__prev=_,null===x)?v.__last=y:x.getWritable().__prev=y,b.__next=E,b.__parent=T,v.__size=w,d&&(r9(this)&&r9(b)||Q(139),this.getChildren().forEach(e=>{b.append(e)})),rd(h)){aj(h);let e=h.anchor,d=h.focus;e.key===g&&ro(e,b),d.key===g&&ro(d,b)}return aN()===g&&aP(y),b}insertAfter(e,d=!0){rq(),nd(this,e);let h=this.getWritable(),m=e.getWritable(),g=m.getParent(),y=rT(),b=!1,v=!1;if(null!==g){let d=e.getIndexWithinParent();if(aC(m),rd(y)){let e=g.__key,h=y.anchor,m=y.focus;b="element"===h.type&&h.key===e&&h.offset===d+1,v="element"===m.type&&m.key===e&&m.offset===d+1}}let w=this.getNextSibling(),S=this.getParentOrThrow().getWritable(),x=m.__key,_=h.__next;if(null===w?S.__last=x:w.getWritable().__prev=x,S.__size++,h.__next=x,m.__next=_,m.__prev=h.__key,m.__parent=h.__parent,d&&rd(y)){let e=this.getIndexWithinParent();rC(y,S,e+1);let d=S.__key;b&&y.anchor.set(d,e+2,"element"),v&&y.focus.set(d,e+2,"element")}return e}insertBefore(e,d=!0){rq(),nd(this,e);let h=this.getWritable(),m=e.getWritable(),g=m.__key;aC(m);let y=this.getPreviousSibling(),b=this.getParentOrThrow().getWritable(),v=h.__prev,w=this.getIndexWithinParent();null===y?b.__first=g:y.getWritable().__next=g,b.__size++,h.__prev=g,m.__prev=v,m.__next=h.__key,m.__parent=h.__parent;let S=rT();return d&&rd(S)&&rC(S,this.getParentOrThrow(),w),e}isParentRequired(){return!1}createParentElementNode(){return ac()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,d){rq();let h=this.getPreviousSibling(),m=this.getParentOrThrow();if(null===h)return m.select(0,0);if(r9(h))return h.select();if(!i7(h)){let e=h.getIndexWithinParent()+1;return m.select(e,e)}return h.select(e,d)}selectNext(e,d){rq();let h=this.getNextSibling(),m=this.getParentOrThrow();if(null===h)return m.select();if(r9(h))return h.select(0,0);if(!i7(h)){let e=h.getIndexWithinParent();return m.select(e,e)}return h.select(e,d)}markDirty(){this.getWritable()}reconcileObservedMutation(e,d){this.markDirty()}}class iz extends iF{static getType(){return"linebreak"}static clone(e){return new iz(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(e){let d=e.parentElement;if(null!==d&&nw(d)){let h=d.firstChild;if(h===e||h.nextSibling===e&&iK(h)){let h=d.lastChild;if(h===e||h.previousSibling===e&&iK(h))return!0}}return!1})(e)||function(e){let d=e.parentElement;if(null!==d&&nw(d)){let h=d.firstChild;if(h===e||h.nextSibling===e&&iK(h))return!1;let m=d.lastChild;if(m===e||m.previousSibling===e&&iK(m))return!0}return!1}(e)?null:{conversion:iq,priority:0}}}static importJSON(e){return iV().updateFromJSON(e)}}function iq(e){return{node:iV()}}function iV(){return nl(new iz)}function iH(e){return e instanceof iz}function iK(e){return ax(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function iG(e,d){return 16&d?"code":d&eS?"mark":32&d?"sub":64&d?"sup":null}function iW(e,d){return 1&d?"strong":2&d?"em":"span"}function iJ(e,d,h,m,g){let y=m.classList,b=a0(g,"base");void 0!==b&&y.add(...b);let v=!1,w=d&ew&&d&ev;for(let e in void 0!==(b=a0(g,"underlineStrikethrough"))&&(h&ew&&h&ev?(v=!0,w||y.add(...b)):w&&y.remove(...b)),e$){let m=e$[e];if(void 0!==(b=a0(g,e)))if(h&m){if(v&&("underline"===e||"strikethrough"===e)){d&m&&y.remove(...b);continue}d&m&&(!w||"underline"!==e)&&"strikethrough"!==e||y.add(...b)}else d&m&&y.remove(...b)}}function iQ(e,d,h){let m=d.firstChild,g=h.isComposing(),y=e+(g?eP:"");if(null==m)d.textContent=y;else{let e=m.nodeValue;if(e!==y)if(g||ee){let[d,h,g]=function(e,d){let h=e.length,m=d.length,g=0,y=0;for(;g<h&&g<m&&e[g]===d[g];)g++;for(;y+g<h&&y+g<m&&e[h-y-1]===d[m-y-1];)y++;return[g,h-g-y,d.slice(g,m-y)]}(e,y);0!==h&&m.deleteData(d,h),m.insertData(d,g)}else m.nodeValue=y}}function iY(e,d,h,m,g,y){iQ(g,e,d);let b=y.theme.text;void 0!==b&&iJ(0,0,m,e,b)}function iX(e,d){let h=document.createElement(d);return h.appendChild(e),h}class iZ extends iF{static getType(){return"text"}static clone(e){return new iZ(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",d){super(d),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return eF[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===aN()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){let d=e$[e];return!!(this.getFormat()&d)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,d){return aT(this.getLatest().__format,e,d)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,d){let h=this.__format,m=iG(0,h),g=iW(0,h),y=null===m?g:m,b=document.createElement(y),v=b;this.hasFormat("code")&&b.setAttribute("spellcheck","false"),null!==m&&(v=document.createElement(g),b.appendChild(v)),iY(v,this,0,h,this.__text,e);let w=this.__style;return""!==w&&(b.style.cssText=w),b}updateDOM(e,d,h){let m=this.__text,g=e.__format,y=this.__format,b=iG(0,g),v=iG(0,y),w=iW(0,g),S=iW(0,y);if((null===b?w:b)!==(null===v?S:v))return!0;if(b===v&&w!==S){let e=d.firstChild;null==e&&Q(48);let g=document.createElement(S);return iY(g,this,0,y,m,h),d.replaceChild(g,e),!1}let x=d;null!==v&&null!==b&&null==(x=d.firstChild)&&Q(49),iQ(m,x,this);let _=h.theme.text;void 0!==_&&g!==y&&iJ(0,g,y,x,_);let E=e.__style,T=this.__style;return E!==T&&(d.style.cssText=T),!1}static importDOM(){return{"#text":()=>({conversion:i6,priority:0}),b:()=>({conversion:i0,priority:0}),code:()=>({conversion:i8,priority:0}),em:()=>({conversion:i8,priority:0}),i:()=>({conversion:i8,priority:0}),mark:()=>({conversion:i8,priority:0}),s:()=>({conversion:i8,priority:0}),span:()=>({conversion:i1,priority:0}),strong:()=>({conversion:i8,priority:0}),sub:()=>({conversion:i8,priority:0}),sup:()=>({conversion:i8,priority:0}),u:()=>({conversion:i8,priority:0})}}static importJSON(e){return i9().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:d}=super.exportDOM(e);return ng(d)||Q(132),d.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(d=iX(d,"b")),this.hasFormat("italic")&&(d=iX(d,"i")),this.hasFormat("strikethrough")&&(d=iX(d,"s")),this.hasFormat("underline")&&(d=iX(d,"u")),{element:d}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,d){}setFormat(e){let d=this.getWritable();return d.__format="string"==typeof e?e$[e]:e,d}setDetail(e){let d=this.getWritable();return d.__detail="string"==typeof e?eM[e]:e,d}setStyle(e){let d=this.getWritable();return d.__style=e,d}toggleFormat(e){let d=aT(this.getFormat(),e,null);return this.setFormat(d)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){let d=eU[e];if(this.__mode===d)return this;let h=this.getWritable();return h.__mode=d,h}setTextContent(e){if(this.__text===e)return this;let d=this.getWritable();return d.__text=e,d}select(e,d){rq();let h=e,m=d,g=rT(),y=this.getTextContent(),b=this.__key;if("string"==typeof y){let e=y.length;void 0===h&&(h=e),void 0===m&&(m=e)}else h=0,m=0;if(!rd(g))return rS(b,h,b,m,"text","text");{let e=aN();e!==g.anchor.key&&e!==g.focus.key||aP(b),g.setTextNodeRange(this,h,this,m)}return g}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,d,h,m){let g=this.getWritable(),y=g.__text,b=h.length,v=e;v<0&&(v=b+v)<0&&(v=0);let w=rT();if(m&&rd(w)){let d=e+b;w.setTextNodeRange(g,d,g,d)}return g.__text=y.slice(0,v)+h+y.slice(v+d),g}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){let d;rq();let h=this.getLatest(),m=h.getTextContent();if(""===m)return[];let g=h.__key,y=aN(),b=m.length;e.sort((e,d)=>e-d),e.push(b);let v=[],w=e.length;for(let d=0,h=0;d<b&&h<=w;h++){let g=e[h];g>d&&(v.push(m.slice(d,g)),d=g)}let S=v.length;if(1===S)return[h];let x=v[0],_=h.getParent(),E=h.getFormat(),T=h.getStyle(),k=h.__detail,C=!1,P=null,O=null,I=rT();if(rd(I)){let[e,d]=I.isBackward()?[I.focus,I.anchor]:[I.anchor,I.focus];"text"===e.type&&e.key===g&&(P=e),"text"===d.type&&d.key===g&&(O=d)}h.isSegmented()?((d=i9(x)).__format=E,d.__style=T,d.__detail=k,C=!0):(d=h.getWritable()).__text=x;let R=[d];for(let e=1;e<S;e++){let d=i9(v[e]);d.__format=E,d.__style=T,d.__detail=k;let h=d.__key;y===g&&aP(h),R.push(d)}let D=P?P.offset:null,L=O?O.offset:null,$=0;for(let e of R){if(!P&&!O)break;let d=$+e.getTextContentSize();if(null!==P&&null!==D&&D<=d&&D>=$&&(P.set(e.getKey(),D-$,"text"),D<d&&(P=null)),null!==O&&null!==L&&L<=d&&L>=$){O.set(e.getKey(),L-$,"text");break}$=d}if(null!==_){!function(e){let d=e.getPreviousSibling(),h=e.getNextSibling();null!==d&&aA(d),null!==h&&aA(h)}(this);let e=_.getWritable(),d=this.getIndexWithinParent();C?(e.splice(d,0,R),this.remove()):e.splice(d,1,R),rd(I)&&rC(I,_,d,S-1)}return R}mergeWithSibling(e){let d=e===this.getPreviousSibling();d||e===this.getNextSibling()||Q(50);let h=this.__key,m=e.__key,g=this.__text,y=g.length;aN()===m&&aP(h);let b=rT();if(rd(b)){let g=b.anchor,v=b.focus;null!==g&&g.key===m&&rN(g,d,h,e,y),null!==v&&v.key===m&&rN(v,d,h,e,y)}let v=e.__text,w=d?v+g:g+v;this.setTextContent(w);let S=this.getWritable();return e.remove(),S}isTextEntity(){return!1}}function i1(e){return{forChild:re(e.style),node:null}}function i0(e){let d=e,h="normal"===d.style.fontWeight;return{forChild:re(d.style,h?void 0:"bold"),node:null}}let i2=new WeakMap;function i4(e){if(!ng(e))return!1;if("PRE"===e.nodeName)return!0;let d=e.style.whiteSpace;return"string"==typeof d&&d.startsWith("pre")}function i6(e){let d=e;null===e.parentElement&&Q(129);let h=d.textContent||"";if(null!==function(e){let d,h=e.parentNode,m=[e];for(;null!==h&&void 0===(d=i2.get(h))&&!i4(h);)m.push(h),h=h.parentNode;let g=void 0===d?h:d;for(let e=0;e<m.length;e++)i2.set(m[e],g);return g}(d)){let e=h.split(/(\r?\n|\t)/),d=[],m=e.length;for(let h=0;h<m;h++){let m=e[h];"\n"===m||"\r\n"===m?d.push(iV()):"	"===m?d.push(ri()):""!==m&&d.push(i9(m))}return{node:d}}if(""===(h=h.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===h[0]){let e=d,m=!0;for(;null!==e&&null!==(e=i3(e,!1));){let d=e.textContent||"";if(d.length>0){/[ \t\n]$/.test(d)&&(h=h.slice(1)),m=!1;break}}m&&(h=h.slice(1))}if(" "===h[h.length-1]){let e=d,m=!0;for(;null!==e&&null!==(e=i3(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){m=!1;break}m&&(h=h.slice(0,h.length-1))}return""===h?{node:null}:{node:i9(h)}}function i3(e,d){let h=e;for(;;){let e;for(;null===(e=d?h.nextSibling:h.previousSibling);){let e=h.parentElement;if(null===e)return null;h=e}if(ng(h=e)){let e=h.style.display;if(""===e&&!nv(h)||""!==e&&!e.startsWith("inline"))return null}let m=h;for(;null!==(m=d?h.firstChild:h.lastChild);)h=m;if(ax(h))return h;if("BR"===h.nodeName)return null}}let i5={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function i8(e){let d=i5[e.nodeName.toLowerCase()];return void 0===d?{node:null}:{forChild:re(e.style,d),node:null}}function i9(e=""){return nl(new iZ(e))}function i7(e){return e instanceof iZ}function re(e,d){let h=e.fontWeight,m=e.textDecoration.split(" "),g="700"===h||"bold"===h,y=m.includes("line-through"),b="italic"===e.fontStyle,v=m.includes("underline"),w=e.verticalAlign;return e=>(i7(e)&&(g&&!e.hasFormat("bold")&&e.toggleFormat("bold"),y&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),b&&!e.hasFormat("italic")&&e.toggleFormat("italic"),v&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==w||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==w||e.hasFormat("superscript")||e.toggleFormat("superscript"),d&&!e.hasFormat(d)&&e.toggleFormat(d)),e)}class rt extends iZ{static getType(){return"tab"}static clone(e){return new rt(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){let d=super.createDOM(e),h=a0(e.theme,"tab");return void 0!==h&&d.classList.add(...h),d}static importJSON(e){return ri().updateFromJSON(e)}setTextContent(e){return"	"!==e&&""!==e&&Q(126),super.setTextContent(e)}setDetail(e){return 2!==e&&Q(127),this}setMode(e){return"normal"!==e&&Q(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ri(){return nl(new rt)}function rr(e){return e instanceof rt}class ra{constructor(e,d,h){this._selection=null,this.key=e,this.offset=d,this.type=h}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:0>n2(ss(n8(this,"next")),ss(n8(e,"next")))}getNode(){let e=aO(this.key);return null===e&&Q(20),e}set(e,d,h,m){let g=this._selection,y=this.key;m&&this.key===e&&this.offset===d&&this.type===h||(this.key=e,this.offset=d,this.type=h,rz()||(aN()===y&&aP(e),null!==g&&(g.setCachedNodes(null),g.dirty=!0)))}}function rn(e,d,h){return new ra(e,d,h)}function rs(e,d){let h=d.__key,m=e.offset,g="element";if(i7(d)){g="text";let e=d.getTextContentSize();m>e&&(m=e)}else if(!r9(d)){let e=d.getNextSibling();if(i7(e))h=e.__key,m=0,g="text";else{let e=d.getParent();e&&(h=e.__key,m=d.getIndexWithinParent()+1)}}e.set(h,m,g)}function ro(e,d){if(r9(d)){let h=d.getLastDescendant();r9(h)||i7(h)?rs(e,h):rs(e,d)}else rs(e,d)}class rl{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!rp(e))return!1;let d=this._nodes,h=e._nodes;return d.size===h.size&&Array.from(d).every(e=>h.has(e))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new rl(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){let d,h=this.getNodes(),m=h.length,g=h[m-1];if(i7(g))d=g.select();else{let e=g.getIndexWithinParent()+1;d=g.getParentOrThrow().select(e,e)}d.insertNodes(e);for(let e=0;e<m;e++)h[e].remove()}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let d=this._nodes,h=[];for(let e of d){let d=aO(e);null!==d&&h.push(d)}return rz()||(this._cachedNodes=h),h}getTextContent(){let e=this.getNodes(),d="";for(let h=0;h<e.length;h++)d+=e[h].getTextContent();return d}deleteNodes(){let e=this.getNodes();if((rT()||rk())===this&&e[0]){let d=nq(e[0],"next");n7(n1(d,d))}for(let d of e)d.remove()}}function rd(e){return e instanceof rc}class rc{constructor(e,d,h,m){this.anchor=e,this.focus=d,e._selection=this,d._selection=this,this._cachedNodes=null,this.format=h,this.style=m,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!rd(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let d=function(e){let d=[],[h,m]=e.getTextSlices();h&&d.push(h.caret.origin);let g=new Set,y=new Set;for(let h of e)if(nj(h)){let{origin:e}=h;0===d.length?g.add(e):(y.add(e),d.push(e))}else{let{origin:e}=h;r9(e)&&y.has(e)||d.push(e)}if(m&&d.push(m.caret.origin),nB(e.focus)&&r9(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let h=nG(e.focus.origin,"previous");nj(h)&&g.has(h.origin)&&!h.origin.isEmpty()&&h.origin.is(d[d.length-1]);h=nJ(h))g.delete(h.origin),d.pop();for(;d.length>1;){let e=d[d.length-1];if(!r9(e)||y.has(e)||e.isEmpty()||g.has(e))break;d.pop()}if(0===d.length&&e.isCollapsed()){let h=ss(e.anchor),m=ss(e.anchor.getFlipped()),g=e=>nM(e)?e.origin:e.getNodeAtCaret(),y=g(h)||g(m)||(e.anchor.getNodeAtCaret()?h.origin:m.origin);d.push(y)}return d}(sd(st(this),"next"));return rz()||(this._cachedNodes=d),d}setTextNodeRange(e,d,h,m){this.anchor.set(e.__key,d,"text"),this.focus.set(h.__key,m,"text")}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let d=e[0],h=e[e.length-1],m=this.anchor,g=this.focus,y=m.isBefore(g),[b,v]=rh(this),w="",S=!0;for(let x=0;x<e.length;x++){let _=e[x];if(r9(_)&&!_.isInline())S||(w+="\n"),S=!_.isEmpty();else if(S=!1,i7(_)){let e=_.getTextContent();_===d?_===h?"element"===m.type&&"element"===g.type&&g.offset!==m.offset||(e=b<v?e.slice(b,v):e.slice(v,b)):e=y?e.slice(b):e.slice(v):_===h&&(e=y?e.slice(0,v):e.slice(0,b)),w+=e}else!at(_)&&!iH(_)||_===h&&this.isCollapsed()||(w+=_.getTextContent())}return w}applyDOMRange(e){let d=rK(),h=d.getEditorState()._selection,m=rw(e.startContainer,e.startOffset,e.endContainer,e.endOffset,d,h);if(null===m)return;let[g,y]=m;this.anchor.set(g.key,g.offset,g.type,!0),this.focus.set(y.key,y.offset,y.type,!0),e9(this)}clone(){let e=this.anchor,d=this.focus;return new rc(rn(e.key,e.offset,e.type),rn(d.key,d.offset,d.type),this.format,this.style)}toggleFormat(e){this.format=aT(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){let d=e$[e];return!!(this.format&d)}insertRawText(e){let d=e.split(/(\r?\n|\t)/),h=[],m=d.length;for(let e=0;e<m;e++){let m=d[e];"\n"===m||"\r\n"===m?h.push(iV()):"	"===m?h.push(ri()):h.push(i9(m))}this.insertNodes(h)}insertText(e){let d=this.anchor,h=this.focus,m=this.format,g=this.style,y=d,b=h;!this.isCollapsed()&&h.isBefore(d)&&(y=h,b=d),"element"===y.type&&function(e,d,h,m){let g=e.getNode(),y=g.getChildAtIndex(e.offset),b=i9(),v=ar(g)?ac().append(b):b;b.setFormat(h),b.setStyle(m),null===y?g.append(v):y.insertBefore(v),e.is(d)&&d.set(b.__key,0,"text"),e.set(b.__key,0,"text")}(y,b,m,g),"element"===b.type&&n9(b,ss(n8(b,"next")));let v=y.offset,w=b.offset,S=this.getNodes(),x=S.length,_=S[0];i7(_)||Q(26);let E=_.getTextContent().length,T=_.getParentOrThrow(),k=S[x-1];if(1===x&&"element"===b.type&&(w=E,b.set(y.key,w,"text")),this.isCollapsed()&&v===E&&(_.isSegmented()||_.isToken()||!_.canInsertTextAfter()||!T.canInsertTextAfter()&&null===_.getNextSibling())){let d=_.getNextSibling();if(i7(d)&&d.canInsertTextBefore()&&!aS(d)||((d=i9()).setFormat(m),d.setStyle(g),T.canInsertTextAfter()?_.insertAfter(d):T.insertAfter(d)),d.select(0,0),_=d,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===v&&(_.isSegmented()||_.isToken()||!_.canInsertTextBefore()||!T.canInsertTextBefore()&&null===_.getPreviousSibling())){let d=_.getPreviousSibling();if(i7(d)&&!aS(d)||((d=i9()).setFormat(m),T.canInsertTextBefore()?_.insertBefore(d):T.insertBefore(d)),d.select(),_=d,""!==e)return void this.insertText(e)}else if(_.isSegmented()&&v!==E){let e=i9(_.getTextContent());e.setFormat(m),_.replace(e),_=e}else if(!this.isCollapsed()&&""!==e){let d=k.getParent();if(!T.canInsertTextBefore()||!T.canInsertTextAfter()||r9(d)&&(!d.canInsertTextBefore()||!d.canInsertTextAfter()))return this.insertText(""),rv(this.anchor,this.focus,null),void this.insertText(e)}if(1===x){if(_.isToken()){let d=i9(e);return d.select(),void _.replace(d)}let d=_.getFormat(),h=_.getStyle();if(v!==w||d===m&&h===g){if(rr(_)){let d=i9(e);return d.setFormat(m),d.setStyle(g),d.select(),void _.replace(d)}}else{if(""!==_.getTextContent()){let d=i9(e);if(d.setFormat(m),d.setStyle(g),d.select(),0===v)_.insertBefore(d,!1);else{let[e]=_.splitText(v);e.insertAfter(d,!1)}return void(d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}_.setFormat(m),_.setStyle(g)}let y=w-v;""===(_=_.spliceText(v,y,e,!0)).getTextContent()?_.remove():"text"===this.anchor.type&&(_.isComposing()?this.anchor.offset-=e.length:(this.format=d,this.style=h))}else{let d=new Set([..._.getParentKeys(),...k.getParentKeys()]),h=r9(_)?_:_.getParentOrThrow(),m=r9(k)?k:k.getParentOrThrow(),g=k;if(!h.is(m)&&m.isInline())do g=m,m=m.getParentOrThrow();while(m.isInline());if("text"===b.type&&(0!==w||""===k.getTextContent())||"element"===b.type&&k.getIndexWithinParent()<w)if(i7(k)&&!k.isToken()&&w!==k.getTextContentSize()){if(k.isSegmented()){let e=i9(k.getTextContent());k.replace(e),k=e}ar(b.getNode())||"text"!==b.type||(k=k.spliceText(0,w,"")),d.add(k.__key)}else{let e=k.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?k.remove():e.remove()}else d.add(k.__key);let y=m.getChildren(),T=new Set(S),C=h.is(m),P=h.isInline()&&null===_.getNextSibling()?h:_;for(let e=y.length-1;e>=0;e--){let d=y[e];if(d.is(_)||r9(d)&&d.isParentOf(_))break;d.isAttached()&&(!T.has(d)||d.is(g)?C||P.insertAfter(d,!1):d.remove())}if(!C){let e=m,h=null;for(;null!==e;){let m=e.getChildren(),g=m.length;(0===g||m[g-1].is(h))&&(d.delete(e.__key),h=e),e=e.getParent()}}if(_.isToken())if(v===E)_.select();else{let d=i9(e);d.select(),_.replace(d)}else""===(_=_.spliceText(v,E-v,e,!0)).getTextContent()?_.remove():_.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<x;e++){let h=S[e],m=h.__key;d.has(m)||h.remove()}}}removeText(){let e=rT()===this;se(this,sn(st(this))),e&&rT()!==this&&aj(this)}formatText(e,d=null){if(this.isCollapsed())return this.toggleFormat(e),void aP(null);let h=this.getNodes(),m=[];for(let e of h)i7(e)&&m.push(e);let g=d=>{h.forEach(h=>{if(r9(h)){let m=h.getFormatFlags(e,d);h.setTextFormat(m)}})},y=m.length;if(0===y)return this.toggleFormat(e),aP(null),void g(d);let b=this.anchor,v=this.focus,w=this.isBackward(),S=w?v:b,x=w?b:v,_=0,E=m[0],T="element"===S.type?0:S.offset;if("text"===S.type&&T===E.getTextContentSize()&&(_=1,E=m[1],T=0),null==E)return;let k=E.getFormatFlags(e,d);g(k);let C=y-1,P=m[C],O="text"===x.type?x.offset:P.getTextContentSize();if(E.is(P)){if(T===O)return;if(aS(E)||0===T&&O===E.getTextContentSize())E.setFormat(k);else{let e=E.splitText(T,O),d=0===T?e[0]:e[1];d.setFormat(k),"text"===S.type&&S.set(d.__key,0,"text"),"text"===x.type&&x.set(d.__key,O-T,"text")}return void(this.format=k)}0===T||aS(E)||([,E]=E.splitText(T),T=0),E.setFormat(k);let I=P.getFormatFlags(e,k);O>0&&(O===P.getTextContentSize()||aS(P)||([P]=P.splitText(O)),P.setFormat(I));for(let d=_+1;d<C;d++){let h=m[d],g=h.getFormatFlags(e,I);h.setFormat(g)}"text"===S.type&&S.set(E.__key,T,"text"),"text"===x.type&&x.set(P.__key,O,"text"),this.format=k|I}insertNodes(e){var d;if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();let d=rT();return rd(d)||Q(134),d.insertNodes(e)}let h=(this.isBackward()?this.focus:this.anchor).getNode(),m=nx(h,nS),g=e[e.length-1];if(r9(m)&&"__language"in m){if("__language"in e[0])this.insertText(e[0].getTextContent());else{let d=rR(this);m.splice(d,0,e),g.selectEnd()}return}if(!e.some(e=>(r9(e)||at(e))&&!e.isInline())){r9(m)||Q(211,h.constructor.name,h.getType());let d=rR(this);return m.splice(d,0,e),void g.selectEnd()}let y=function(e){let d=ac(),h=null;for(let m=0;m<e.length;m++){let g=e[m],y=iH(g);if(y||at(g)&&g.isInline()||r9(g)&&g.isInline()||i7(g)||g.isParentRequired()){if(null===h&&(h=g.createParentElementNode(),d.append(h),y))continue;null!==h&&h.append(g)}else d.append(g),h=null}return d}(e),b=y.getLastDescendant(),v=y.getChildren(),w=r9(m)&&m.isEmpty()?null:this.insertParagraph(),S=v[v.length-1],x=v[0];r9(d=x)&&nS(d)&&!d.isEmpty()&&r9(m)&&(!m.isEmpty()||m.canMergeWhenEmpty())&&(r9(m)||Q(211,h.constructor.name,h.getType()),m.append(...x.getChildren()),x=v[1]),x&&(null===m&&Q(212,h.constructor.name,h.getType()),function(e,d,h){let m=d.getParentOrThrow().getLastChild(),g=d,y=[d];for(;g!==m;)g.getNextSibling()||Q(140),y.push(g=g.getNextSibling());let b=e;for(let e of y)b=b.insertAfter(e)}(m,x));let _=nx(b,nS);w&&r9(_)&&(w.canMergeWhenEmpty()||nS(S))&&(_.append(...w.getChildren()),w.remove()),r9(m)&&m.isEmpty()&&m.remove(),b.selectEnd();let E=r9(m)?m.getLastChild():null;iH(E)&&_!==m&&E.remove()}insertParagraph(){if("root"===this.anchor.key){let e=ac();return aM().splice(this.anchor.offset,0,[e]),e.select(),e}let e=rR(this),d=nx(this.anchor.getNode(),nS);r9(d)||Q(213);let h=d.getChildAtIndex(e),m=h?[h,...h.getNextSiblings()]:[],g=d.insertNewAfter(this,!1);return g?(g.append(...m),g.selectStart(),g):null}insertLineBreak(e){let d=iV();if(this.insertNodes([d]),e){let e=d.getParentOrThrow(),h=d.getIndexWithinParent();e.select(h,h)}}extract(){let e=this.getNodes(),d=e.length,h=d-1,m=this.anchor,g=this.focus,y=e[0],b=e[h],[v,w]=rh(this);if(0===d)return[];if(1===d){if(i7(y)&&!this.isCollapsed()){let e=v>w?w:v,d=v>w?v:w,h=y.splitText(e,d),m=0===e?h[0]:h[1];return null!=m?[m]:[]}return[y]}let S=m.isBefore(g);if(i7(y)){let d=S?v:w;d===y.getTextContentSize()?e.shift():0!==d&&([,y]=y.splitText(d),e[0]=y)}if(i7(b)){let d=b.getTextContent().length,m=S?w:v;0===m?e.pop():m!==d&&([b]=b.splitText(m),e[h]=b)}return e}modify(e,d,h){if(rL(this,e,d,h))return;let m="move"===e,g=rK(),y=nh(nn(g));if(!y)return;let b=g._blockCursorElement,v=g._rootElement,w=this.focus.getNode();if(null===v||null===b||!r9(w)||w.isInline()||w.canBeEmpty()||nu(b,g,v),this.dirty){let e=a9(g,this.anchor.key),d=a9(g,this.focus.key);"text"===this.anchor.type&&(e=aE(e)),"text"===this.focus.type&&(d=aE(d)),e&&d&&rO(y,e,this.anchor.offset,d,this.focus.offset)}if(function(e,d,h,m){e.modify(d,h,m)}(y,e,d?"backward":"forward",h),y.rangeCount>0){let e=y.getRangeAt(0),h=this.anchor.getNode(),g=ar(h)?h:ns(h);if(this.applyDOMRange(e),this.dirty=!0,!m){let h=this.getNodes(),m=[],b=!1;for(let e=0;e<h.length;e++){let d=h[e];nr(d,g)?m.push(d):b=!0}if(b&&m.length>0)if(d){let e=m[0];r9(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{let e=m[m.length-1];r9(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}y.anchorNode===e.startContainer&&y.anchorOffset===e.startOffset||function(e){let d=e.focus,h=e.anchor,m=h.key,g=h.offset,y=h.type;h.set(d.key,d.offset,d.type,!0),d.set(m,g,y,!0)}(this)}}"lineboundary"===h&&rL(this,e,d,h,"decorators")}forwardDeletion(e,d,h){if(!h&&("element"===e.type&&r9(d)&&e.offset===d.getChildrenSize()||"text"===e.type&&e.offset===d.getTextContentSize())){let e=d.getParent(),h=d.getNextSibling()||(null===e?null:e.getNextSibling());if(r9(h)&&h.isShadowRoot())return!0}return!1}deleteCharacter(e){let d=this.isCollapsed();if(this.isCollapsed()){let d=this.anchor,h=d.getNode();if(this.forwardDeletion(d,h,e))return;let m=nX(n8(d,e?"previous":"next"));if(m.getTextSlices().every(e=>null===e||0===e.distance)){let e={type:"initial"};for(let d of m.iterNodeCarets("shadowRoot"))if(nj(d))if(d.origin.isInline());else{if(d.origin.isShadowRoot()){if("merge-block"===e.type)break;if(r9(m.anchor.origin)&&m.anchor.origin.isEmpty()){let e=ss(d);se(this,n1(e,e)),m.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:d,type:"merge-block"})}else{if("merge-block"===e.type)break;if(nB(d)){if(r9(d.origin)){if(d.origin.isInline()){if(!d.origin.isParentOf(m.anchor.origin))break}else e={block:d.origin,type:"merge-next-block"};continue}if(at(d.origin)){if(d.origin.isIsolated());else if("merge-next-block"===e.type&&(d.origin.isKeyboardSelectable()||!d.origin.isInline())&&r9(m.anchor.origin)&&m.anchor.origin.isEmpty()){m.anchor.origin.remove();let e=r_();e.add(d.origin.getKey()),aj(e)}else d.origin.remove();return}break}}if("merge-block"===e.type){let{caret:d,block:h}=e;return se(this,n1(!d.origin.isEmpty()&&h.isEmpty()?si(nq(h,d.direction)):m.anchor,d)),this.removeText()}}let g=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===d.offset&&rm(this,d.getNode()))return}else{let m="text"===g.type?g.getNode():null;if(h="text"===d.type?d.getNode():null,null!==m&&m.isSegmented()){let d=g.offset,y=m.getTextContentSize();if(m.is(h)||e&&d!==y||!e&&0!==d)return void rg(m,e,d)}else if(null!==h&&h.isSegmented()){let g=d.offset,y=h.getTextContentSize();if(h.is(m)||e&&0!==g||!e&&g!==y)return void rg(h,e,g)}!function(e,d){let h=e.anchor,m=e.focus,g=h.getNode();if(g===m.getNode()&&"text"===h.type&&"text"===m.type){let e=h.offset,y=m.offset,b=e<y,v=b?e:y,w=b?y:e,S=w-1;v!==S&&function(e){return!(az(e)||rf(e))}(g.getTextContent().slice(v,w))&&(d?m.set(m.key,S,m.type):h.set(h.key,S,h.type))}}(this,e)}}if(this.removeText(),e&&!d&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let e=this.anchor.getNode();e.isEmpty()&&ar(e.getParent())&&null===e.getPreviousSibling()&&rm(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){let d=this.anchor,h=d.getNode();if(this.forwardDeletion(d,h,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function rp(e){return e instanceof rl}function ru(e){let d=e.offset;if("text"===e.type)return d;let h=e.getNode();return d===h.getChildrenSize()?h.getTextContent().length:0}function rh(e){let d=e.getStartEndPoints();if(null===d)return[0,0];let[h,m]=d;return"element"===h.type&&"element"===m.type&&h.key===m.key&&h.offset===m.offset?[0,0]:[ru(h),ru(m)]}function rm(e,d){for(let h=d;h;h=h.getParent()){if(r9(h)){if(h.collapseAtStart(e))return!0;if(no(h))break}if(h.getPreviousSibling())break}return!1}let rf=(()=>{try{let e=RegExp("\\p{Emoji}","u"),d=e.test.bind(e);if(d("")&&d("#")&&d("\uD83D\uDC4D"))return d}catch(e){}return()=>!1})();function rg(e,d,h){let m=e,g=m.getTextContent().split(/(?=\s)/g),y=g.length,b=0,v=0;for(let e=0;e<y;e++){let m=e===y-1;if(v=b,b+=g[e].length,d&&b===h||b>h||m){g.splice(e,1),m&&(v=void 0);break}}let w=g.join("").trim();""===w?m.remove():(m.setTextContent(w),m.select(v,v))}function ry(e,d,h,m){let g,y=d;if(ng(e)){let b=!1,v=e.childNodes,w=v.length,S=m._blockCursorElement;y===w&&(b=!0,y=w-1);let x=v[y],_=!1;if(x===S)x=v[y+1],_=!0;else if(null!==S){let h=S.parentNode;e===h&&d>Array.prototype.indexOf.call(h.children,S)&&y--}if(i7(g=aU(x)))y=aF(g,b);else{let v=aU(e);if(null===v)return null;if(r9(v)){let w=m.getElementByKey(v.getKey());null===w&&Q(214);let S=v.getDOMSlot(w);[v,y]=S.resolveChildIndex(v,w,e,d),r9(v)||Q(215),b&&y>=v.getChildrenSize()&&(y=Math.max(0,v.getChildrenSize()-1));let x=v.getChildAtIndex(y);if(r9(x)&&function(e,d,h){let m=e.getParent();return null===h||null===m||!m.canBeEmpty()||m!==h.getNode()}(x,0,h)){let e=b?x.getLastDescendant():x.getFirstDescendant();v=null===e||r9(x=e)?x:x.getParentOrThrow(),y=0}i7(x)?(g=x,v=null,y=aF(x,b)):x!==v&&b&&!_&&(r9(v)||Q(216),y=Math.min(v.getChildrenSize(),y+1))}else{let h=v.getIndexWithinParent();y=0===d&&at(v)&&aU(e)===v?h:h+1,v=v.getParentOrThrow()}if(r9(v))return rn(v.__key,y,"element")}}else g=aU(e);return i7(g)?rn(g.__key,y,"text"):null}function rb(e,d,h){let m=e.offset,g=e.getNode();if(0===m){let m=g.getPreviousSibling(),y=g.getParent();if(d){if((h||!d)&&null===m&&r9(y)&&y.isInline()){let d=y.getPreviousSibling();i7(d)&&e.set(d.__key,d.getTextContent().length,"text")}}else r9(m)&&!h&&m.isInline()?e.set(m.__key,m.getChildrenSize(),"element"):i7(m)&&e.set(m.__key,m.getTextContent().length,"text")}else if(m===g.getTextContent().length){let m=g.getNextSibling(),y=g.getParent();if(d&&r9(m)&&m.isInline())e.set(m.__key,0,"element");else if((h||d)&&null===m&&r9(y)&&y.isInline()&&!y.canInsertTextAfter()){let d=y.getNextSibling();i7(d)&&e.set(d.__key,0,"text")}}}function rv(e,d,h){if("text"===e.type&&"text"===d.type){let m=e.isBefore(d),g=e.is(d);rb(e,m,g),rb(d,!m,g),g&&d.set(e.key,e.offset,e.type);let y=rK();if(y.isComposing()&&y._compositionKey!==e.key&&rd(h)){let m=h.anchor,g=h.focus;e.set(m.key,m.offset,m.type,!0),d.set(g.key,g.offset,g.type,!0)}}}function rw(e,d,h,m,g,y){if(null===e||null===h||!ay(g,e,h))return null;let b=ry(e,d,rd(y)?y.anchor:null,g);if(null===b)return null;let v=ry(h,m,rd(y)?y.focus:null,g);if(null===v)return null;if("element"===b.type&&"element"===v.type){let d=aU(e),m=aU(h);if(at(d)&&at(m))return null}return rv(b,v,y),[b,v]}function rS(e,d,h,m,g,y){let b=rH(),v=new rc(rn(e,d,g),rn(h,m,y),0,"");return v.dirty=!0,b._selection=v,v}function rx(){return new rc(rn("root",0,"element"),rn("root",0,"element"),0,"")}function r_(){return new rl(new Set)}function rE(e,d,h,m){let g,y,b,v,w=h._window;if(null===w)return null;let S=m||w.event,x=S?S.type:void 0,_="selectionchange"===x,E=!eH&&(_||"beforeinput"===x||"compositionstart"===x||"compositionend"===x||"click"===x&&S&&3===S.detail||"drop"===x||void 0===x);if(rd(e)&&!E)return e.clone();if(null===d)return null;if(g=d.anchorNode,y=d.focusNode,b=d.anchorOffset,v=d.focusOffset,_&&rd(e)&&!ay(h,g,y))return e.clone();let T=rw(g,b,y,v,h,e);if(null===T)return null;let[k,C]=T;return new rc(k,C,rd(e)?e.format:0,rd(e)?e.style:"")}function rT(){return rH()._selection}function rk(){return rK()._editorState._selection}function rC(e,d,h,m=1){let g=e.anchor,y=e.focus,b=g.getNode(),v=y.getNode();if(!d.is(b)&&!d.is(v))return;let w=d.__key;if(e.isCollapsed()){let d=g.offset;if(h<=d&&m>0||h<d&&m<0){let h=Math.max(0,d+m);g.set(w,h,"element"),y.set(w,h,"element"),rA(e)}}else{let b=e.isBackward(),v=b?y:g,S=v.getNode(),x=b?g:y,_=x.getNode();if(d.is(S)){let e=v.offset;(h<=e&&m>0||h<e&&m<0)&&v.set(w,Math.max(0,e+m),"element")}if(d.is(_)){let e=x.offset;(h<=e&&m>0||h<e&&m<0)&&x.set(w,Math.max(0,e+m),"element")}}rA(e)}function rA(e){let d=e.anchor,h=d.offset,m=e.focus,g=m.offset,y=d.getNode(),b=m.getNode();if(e.isCollapsed()){if(!r9(y))return;let e=y.getChildrenSize(),g=h>=e,b=g?y.getChildAtIndex(e-1):y.getChildAtIndex(h);if(i7(b)){let e=0;g&&(e=b.getTextContentSize()),d.set(b.__key,e,"text"),m.set(b.__key,e,"text")}}else{if(r9(y)){let e=y.getChildrenSize(),m=h>=e,g=m?y.getChildAtIndex(e-1):y.getChildAtIndex(h);if(i7(g)){let e=0;m&&(e=g.getTextContentSize()),d.set(g.__key,e,"text")}}if(r9(b)){let e=b.getChildrenSize(),d=g>=e,h=d?b.getChildAtIndex(e-1):b.getChildAtIndex(g);if(i7(h)){let e=0;d&&(e=h.getTextContentSize()),m.set(h.__key,e,"text")}}}}function rP(e,d,h,m,g){let y=null,b=0,v=null;null!==m?(y=m.__key,i7(m)?(b=m.getTextContentSize(),v="text"):r9(m)&&(b=m.getChildrenSize(),v="element")):null!==g&&(y=g.__key,i7(g)?v="text":r9(g)&&(v="element")),null!==y&&null!==v?e.set(y,b,v):(-1===(b=d.getIndexWithinParent())&&(b=h.getChildrenSize()),e.set(h.__key,b,"element"))}function rN(e,d,h,m,g){"text"===e.type?e.set(h,e.offset+(d?0:g),"text"):e.offset>m.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function rO(e,d,h,m,g){try{e.setBaseAndExtent(d,h,m,g)}catch(e){}}function rI(e,d,h,m,g,y,b){let v=m.anchorNode,w=m.focusNode,S=m.anchorOffset,x=m.focusOffset,_=document.activeElement;if(g.has("collaboration")&&_!==y||null!==_&&ag(_))return;if(!rd(d))return void(null!==e&&ay(h,v,w)&&m.removeAllRanges());let E=d.anchor,T=d.focus,k=E.key,C=T.key,P=a9(h,k),O=a9(h,C),I=E.offset,R=T.offset,D=d.format,L=d.style,$=d.isCollapsed(),M=P,B=O,j=!1;if("text"===E.type){M=aE(P);let e=E.getNode();j=e.getFormat()!==D||e.getStyle()!==L}else rd(e)&&"text"===e.anchor.type&&(j=!0);if("text"===T.type&&(B=aE(O)),null!==M&&null!==B&&($&&(null===e||j||rd(e)&&(e.format!==D||e.style!==L))&&(ik=[D,L,I,k,performance.now()]),S!==I||x!==R||v!==M||w!==B||"Range"===m.type&&$||(null!==_&&y.contains(_)||y.focus({preventScroll:!0}),"element"===E.type))){if(rO(m,M,I,B,R),!g.has("skip-scroll-into-view")&&d.isCollapsed()&&null!==y&&y===document.activeElement){let e=rd(d)&&"element"===d.anchor.type?M.childNodes[I]||null:m.rangeCount>0?m.getRangeAt(0):null;if(null!==e){let d;if(e instanceof Text){let h=document.createRange();h.selectNode(e),d=h.getBoundingClientRect()}else d=e.getBoundingClientRect();!function(e,d,h){let m=ne(h),g=na(m);if(null===m||null===g)return;let{top:y,bottom:b}=d,v=0,w=0,S=h;for(;null!==S;){let d=S===m.body;if(d)v=0,w=nn(e).innerHeight;else{let e=S.getBoundingClientRect();v=e.top,w=e.bottom}let h=0;if(y<v?h=-(v-y):b>w&&(h=b-w),0!==h)if(d)g.scrollBy(0,h);else{let e=S.scrollTop;S.scrollTop+=h;let d=S.scrollTop-e;y-=d,b-=d}if(d)break;S=a7(S)}}(h,d,y)}}iv=!0}}function rR(e){let d=e;e.isCollapsed()||d.removeText();let h=rT();rd(h)&&(d=h),rd(d)||Q(161);let m=d.anchor,g=m.getNode(),y=m.offset;for(;!nS(g);){let e=g;if([g,y]=rD(g,y),e.is(g))break}return y}function rD(e,d){let h=e.getParent();if(!h){let e=ac();return aM().append(e),e.select(),[aM(),0]}if(i7(e)){let m=e.splitText(d);if(0===m.length)return[h,e.getIndexWithinParent()];let g=+(0!==d);return[h,m[0].getIndexWithinParent()+g]}if(!r9(e)||0===d)return[h,e.getIndexWithinParent()];let m=e.getChildAtIndex(d);if(m){let h=new rc(rn(e.__key,d,"element"),rn(e.__key,d,"element"),0,""),g=e.insertNewAfter(h);g&&g.append(m,...m.getNextSiblings())}return[h,e.getIndexWithinParent()+1]}function rL(e,d,h,m,g="decorators-and-blocks"){if("move"===d&&"character"===m&&!e.isCollapsed()){let[d,m]=h===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return m.set(d.key,d.offset,d.type),!0}let y=n8(e.focus,h?"previous":"next"),b="lineboundary"===m,v="move"===d,w=y,S="decorators-and-blocks"===g;if(!so(w)){for(let e of w){S=!1;let{origin:d}=e;if(!at(d)||d.isIsolated()||(w=e,!b||!d.isInline()))break}if(S)for(let e of nX(y).iterNodeCarets("extend"===d?"shadowRoot":"root")){if(nj(e))e.origin.isInline()||(w=e);else{if(r9(e.origin))continue;at(e.origin)&&!e.origin.isInline()&&(w=e)}break}}if(w===y)return!1;if(v&&!b&&at(w.origin)&&w.origin.isKeyboardSelectable()){let e=r_();return e.add(w.origin.getKey()),aj(e),!0}return w=ss(w),v&&n9(e.anchor,w),n9(e.focus,w),S||!b}let r$=null,rM=null,rB=!1,rj=!1,rU=0,rF={characterData:!0,childList:!0,subtree:!0};function rz(){return rB||null!==r$&&r$._readOnly}function rq(){rB&&Q(13)}function rV(){rU>99&&Q(14)}function rH(){return null===r$&&Q(195,rG()),r$}function rK(){return null===rM&&Q(196,rG()),rM}function rG(){let e=0,d=new Set,h=ah.version;if("undefined"!=typeof window)for(let m of document.querySelectorAll("[contenteditable]")){let g=aw(m);if(ab(g))e++;else if(g){let e=String(g.constructor.version||"<0.17.1");e===h&&(e+=" (separately built, likely a bundler configuration issue)"),d.add(e)}}let m=` Detected on the page: ${e} compatible editor(s) with version ${h}`;return d.size&&(m+=` and incompatible editors with versions ${Array.from(d).join(", ")}`),m}function rW(e,d,h){let m=d.__type,g=function(e,d){let h=e._nodes.get(d);return void 0===h&&Q(30,d),h}(e,m),y=h.get(m);void 0===y&&(y=Array.from(g.transforms),h.set(m,y));let b=y.length;for(let e=0;e<b&&(y[e](d),d.isAttached());e++);}function rJ(e,d){return void 0!==e&&e.__key!==d&&e.isAttached()}function rQ(e,d){if(!d)return;let h=e._updateTags,m=d;for(let e of(Array.isArray(d)||(m=[d]),m))h.add(e)}function rY(e,d){let h=e.type,m=d.get(h);void 0===m&&Q(17,h);let g=m.klass;e.type!==g.getType()&&Q(18,g.name);let y=g.importJSON(e),b=e.children;if(r9(y)&&Array.isArray(b))for(let e=0;e<b.length;e++){let h=rY(b[e],d);y.append(h)}return y}function rX(e,d,h){let m=r$,g=rB,y=rM;r$=d,rB=!0,rM=e;try{return h()}finally{r$=m,rB=g,rM=y}}function rZ(e,d){let h=e._pendingEditorState,m=e._rootElement,g=e._headless||null===m;if(null===h)return;let y=e._editorState,b=y._selection,v=h._selection,w=e._dirtyType!==eh,S=r$,x=rB,_=rM,E=e._updating,T=e._observer,k=null;if(e._pendingEditorState=null,e._editorState=h,!g&&w&&null!==T){rM=e,r$=h,rB=!1,e._updating=!0;try{let d=e._dirtyType,m=e._dirtyElements,g=e._dirtyLeaves;T.disconnect(),k=tD(y,h,e,d,m,g)}catch(d){if(d instanceof Error&&e._onError(d),rj)throw d;return au(e,null,m,h),e1(e),e._dirtyType=ef,rj=!0,rZ(e,y),void(rj=!1)}finally{T.observe(m,rF),e._updating=E,r$=S,rB=x,rM=_}}h._readOnly||(h._readOnly=!0);let C=e._dirtyLeaves,P=e._dirtyElements,O=e._normalizedNodes,I=e._updateTags,R=e._deferred;w&&(e._dirtyType=eh,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,d){let h,m=e._decorators,g=e._pendingDecorators||m,y=d._nodeMap;for(h in g)y.has(h)||(g===m&&(g=aL(e)),delete g[h])}(e,h);let D=g?null:nh(nn(e));if(e._editable&&null!==D&&(w||null===v||v.dirty)&&null!==m&&!I.has("skip-dom-selection")){rM=e,r$=h;try{if(null!==T&&T.disconnect(),w||null===v||v.dirty){let d=e._blockCursorElement;null!==d&&nu(d,e,m),rI(b,v,e,D,I,m)}!function(e,d,h){let m=e._blockCursorElement;if(rd(h)&&h.isCollapsed()&&"element"===h.anchor.type&&d.contains(document.activeElement)){let g=h.anchor,y=g.getNode(),b=g.offset,v=!1,w=null;if(b===y.getChildrenSize())np(y.getChildAtIndex(b-1))&&(v=!0);else{let d=y.getChildAtIndex(b);if(null!==d&&np(d)){let h=d.getPreviousSibling();(null===h||np(h))&&(v=!0,w=e.getElementByKey(d.__key))}}if(v){let h=e.getElementByKey(y.__key);return null===m&&(e._blockCursorElement=m=function(e){let d=e.theme,h=document.createElement("div");h.contentEditable="false",h.setAttribute("data-lexical-cursor","true");let m=d.blockCursor;return void 0!==m&&("string"==typeof m&&(m=d.blockCursor=el(m)),void 0!==m&&h.classList.add(...m)),h}(e._config)),d.style.caretColor="transparent",null===w?h.appendChild(m):h.insertBefore(m,w)}}null!==m&&nu(m,e,d)}(e,m,v)}finally{null!==T&&T.observe(m,rF),rM=_,r$=S}}null!==k&&function(e,d,h,m,g){let y=Array.from(e._listeners.mutation),b=y.length;for(let e=0;e<b;e++){let[b,v]=y[e],w=d.get(v);void 0!==w&&b(w,{dirtyLeaves:m,prevEditorState:g,updateTags:h})}}(e,k,I,C,y),rd(v)||null===v||null!==b&&b.is(v)||e.dispatchCommand(tM,void 0);let L=e._pendingDecorators;null!==L&&(e._decorators=L,e._pendingDecorators=null,r1("decorator",e,!0,L)),function(e,d,h){let m=a$(d),g=a$(h);m!==g&&r1("textcontent",e,!0,g)}(e,d||y,h),r1("update",e,!0,{dirtyElements:P,dirtyLeaves:C,editorState:h,mutatedNodes:k,normalizedNodes:O,prevEditorState:d||y,tags:I}),function(e,d){if(e._deferred=[],0!==d.length){let h=e._updating;e._updating=!0;try{for(let e=0;e<d.length;e++)d[e]()}finally{e._updating=h}}}(e,R),function(e){let d=e._updates;if(0!==d.length){let h=d.shift();if(h){let[d,m]=h;r4(e,d,m)}}}(e)}function r1(e,d,h,...m){let g=d._updating;d._updating=h;try{let h=Array.from(d._listeners[e]);for(let e=0;e<h.length;e++)h[e].apply(null,m)}finally{d._updating=g}}function r0(e,d,h){if(!1===e._updating||rM!==e){let m=!1;return e.update(()=>{m=r0(e,d,h)}),m}let m=aq(e);for(let g=4;g>=0;g--)for(let y=0;y<m.length;y++){let b=m[y]._commands.get(d);if(void 0!==b){let d=b[g];if(void 0!==d){let m=Array.from(d),g=m.length;for(let d=0;d<g;d++)if(!0===m[d](h,e))return!0}}}return!1}function r2(e,d){let h=e._updates,m=d||!1;for(;0!==h.length;){let d=h.shift();if(d){let h,[g,y]=d;if(void 0!==y){if(h=y.onUpdate,y.skipTransforms&&(m=!0),y.discrete){let d=e._pendingEditorState;null===d&&Q(191),d._flushSync=!0}h&&e._deferred.push(h),rQ(e,y.tag)}g()}}return m}function r4(e,d,h){let m=e._updateTags,g,y=!1,b=!1;void 0!==h&&(g=h.onUpdate,rQ(e,h.tag),y=h.skipTransforms||!1,b=h.discrete||!1),g&&e._deferred.push(g);let v=e._editorState,w=e._pendingEditorState,S=!1;(null===w||w._readOnly)&&(w=e._pendingEditorState=aa(w||v),S=!0),w._flushSync=b;let x=r$,_=rB,E=rM,T=e._updating;r$=w,rB=!1,e._updating=!0,rM=e;let k=e._headless||null===e.getRootElement();try{S&&(k?null!==v._selection&&(w._selection=v._selection.clone()):w._selection=function(e,d){let h=e.getEditorState()._selection,m=nh(nn(e));return rd(h)||null==h?rE(h,m,e,d):h.clone()}(e,h&&h.event||null));let m=e._compositionKey;d(),y=r2(e,y),function(e,d){let h=d.getEditorState()._selection,m=e._selection;if(rd(m)){let e,d=m.anchor,g=m.focus;if("text"===d.type&&(e=d.getNode()).selectionTransform(h,m),"text"===g.type){let d=g.getNode();e!==d&&d.selectionTransform(h,m)}}}(w,e),e._dirtyType!==eh&&(y?function(e,d){let h=d._dirtyLeaves,m=e._nodeMap;for(let e of h){let d=m.get(e);i7(d)&&d.isAttached()&&d.isSimpleText()&&!d.isUnmergeable()&&e8(d)}}(w,e):function(e,d){let h=d._dirtyLeaves,m=d._dirtyElements,g=e._nodeMap,y=aN(),b=new Map,v=h,w=v.size,S=m,x=S.size;for(;w>0||x>0;){if(w>0){for(let e of(d._dirtyLeaves=new Set,v)){let m=g.get(e);i7(m)&&m.isAttached()&&m.isSimpleText()&&!m.isUnmergeable()&&e8(m),void 0!==m&&rJ(m,y)&&rW(d,m,b),h.add(e)}if((w=(v=d._dirtyLeaves).size)>0){rU++;continue}}for(let e of(d._dirtyLeaves=new Set,d._dirtyElements=new Map,S.delete("root")&&S.set("root",!0),S)){let h=e[0],v=e[1];if(m.set(h,v),!v)continue;let w=g.get(h);void 0!==w&&rJ(w,y)&&rW(d,w,b)}w=(v=d._dirtyLeaves).size,x=(S=d._dirtyElements).size,rU++}d._dirtyLeaves=h,d._dirtyElements=m}(w,e),r2(e),function(e,d,h,m){let g=e._nodeMap,y=d._nodeMap,b=[];for(let[e]of m){let d=y.get(e);void 0!==d&&(d.isAttached()||(r9(d)&&eq(d,e,g,y,b,m),g.has(e)||m.delete(e),b.push(e)))}for(let e of b)y.delete(e);for(let e of h){let d=y.get(e);void 0===d||d.isAttached()||(g.has(e)||h.delete(e),y.delete(e))}}(v,w,e._dirtyLeaves,e._dirtyElements)),m!==e._compositionKey&&(w._flushSync=!0);let g=w._selection;if(rd(g)){let e=w._nodeMap,d=g.anchor.key,h=g.focus.key;void 0!==e.get(d)&&void 0!==e.get(h)||Q(19)}else rp(g)&&0===g._nodes.size&&(w._selection=null)}catch(d){return d instanceof Error&&e._onError(d),e._pendingEditorState=v,e._dirtyType=ef,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void rZ(e)}finally{r$=x,rB=_,rM=E,e._updating=T,rU=0}e._dirtyType!==eh||e._deferred.length>0||function(e,d){let h=d.getEditorState()._selection,m=e._selection;if(null!==m){if(m.dirty||!m.is(h))return!0}else if(null!==h)return!0;return!1}(w,e)?w._flushSync?(w._flushSync=!1,rZ(e)):S&&af(()=>{rZ(e)}):(w._flushSync=!1,S&&(m.clear(),e._deferred=[],e._pendingEditorState=null))}function r6(e,d,h){e._updating?rM===e?d():e._updates.push([d,h]):r4(e,d,h)}class r3{constructor(e,d,h){this.element=e,this.before=d||null,this.after=h||null}withBefore(e){return new r3(this.element,e,this.after)}withAfter(e){return new r3(this.element,this.before,e)}withElement(e){return this.element===e?this:new r3(e,this.before,this.after)}insertChild(e){let d=this.before||this.getManagedLineBreak();return null!==d&&d.parentElement!==this.element&&Q(222),this.element.insertBefore(e,d),this}removeChild(e){return e.parentElement!==this.element&&Q(223),this.element.removeChild(e),this}replaceChild(e,d){return d.parentElement!==this.element&&Q(224),this.element.replaceChild(e,d),this}getFirstChild(){let e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{let d="decorator"===e&&(er||ei);this.insertManagedLineBreak(d)}}removeManagedLineBreak(){let e=this.getManagedLineBreak();if(e){let d=this.element,h="IMG"===e.nodeName?e.nextSibling:null;h&&d.removeChild(h),d.removeChild(e),d.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){let d=this.getManagedLineBreak();if(d){if(e===("IMG"===d.nodeName))return;this.removeManagedLineBreak()}let h=this.element,m=this.before,g=document.createElement("br");if(h.insertBefore(g,m),e){let e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",h.insertBefore(e,g),h.__lexicalLineBreak=e}else h.__lexicalLineBreak=g}getFirstChildOffset(){let e=0;for(let d=this.after;null!==d;d=d.previousSibling)e++;return e}resolveChildIndex(e,d,h,m){if(h===this.element){let d=this.getFirstChildOffset();return[e,Math.min(d+e.getChildrenSize(),Math.max(d,m))]}let g=r5(d,h);g.push(m);let y=r5(d,this.element),b=e.getIndexWithinParent();for(let e=0;e<y.length;e++){let d=g[e],h=y[e];if(void 0===d||d<h)break;if(d>h){b+=1;break}}return[e.getParentOrThrow(),b]}}function r5(e,d){let h=[],m=d;for(;m!==e&&null!==m;m=d.parentNode){let e=0;for(let d=m.previousSibling;null!==d;d=d.previousSibling)e++;h.push(e)}return m!==e&&Q(225),h.reverse()}class r8 extends iF{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){return ej[this.getFormat()]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],d=this.getFirstChild();for(;null!==d;)e.push(d),d=d.getNextSibling();return e}getChildrenKeys(){let e=[],d=this.getFirstChild();for(;null!==d;)e.push(d.__key),d=d.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=rK()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),d=this.getParentOrThrow().getLastChild();return null!==d&&d.is(e)}getAllTextNodes(){let e=[],d=this.getFirstChild();for(;null!==d;){if(i7(d)&&e.push(d),r9(d)){let h=d.getAllTextNodes();e.push(...h)}d=d.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;r9(e);){let d=e.getFirstChild();if(null===d)break;e=d}return e}getLastDescendant(){let e=this.getLastChild();for(;r9(e);){let d=e.getLastChild();if(null===d)break;e=d}return e}getDescendantByIndex(e){let d=this.getChildren(),h=d.length;if(e>=h){let e=d[h-1];return r9(e)&&e.getLastDescendant()||e||null}let m=d[e];return r9(m)&&m.getFirstDescendant()||m||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:aO(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&Q(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:aO(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&Q(96,this.__key),e}getChildAtIndex(e){let d,h,m=this.getChildrenSize();if(e<m/2){for(d=this.getFirstChild(),h=0;null!==d&&h<=e;){if(h===e)return d;d=d.getNextSibling(),h++}return null}for(d=this.getLastChild(),h=m-1;null!==d&&h>=e;){if(h===e)return d;d=d.getPreviousSibling(),h--}return null}getTextContent(){let e="",d=this.getChildren(),h=d.length;for(let m=0;m<h;m++){let g=d[m];e+=g.getTextContent(),r9(g)&&m!==h-1&&!g.isInline()&&(e+=eN)}return e}getTextContentSize(){let e=0,d=this.getChildren(),h=d.length;for(let m=0;m<h;m++){let g=d[m];e+=g.getTextContentSize(),r9(g)&&m!==h-1&&!g.isInline()&&(e+=eN.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){let d=eB[e];return!!(this.getFormat()&d)}return!1}hasTextFormat(e){let d=e$[e];return!!(this.getTextFormat()&d)}getFormatFlags(e,d){return aT(this.getLatest().__textFormat,e,d)}getTextStyle(){return this.getLatest().__textStyle}select(e,d){rq();let h=rT(),m=e,g=d,y=this.getChildrenSize();if(!this.canBeEmpty()){if(0===e&&0===d){let e=this.getFirstChild();if(i7(e)||r9(e))return e.select(0,0)}else if((void 0===e||e===y)&&(void 0===d||d===y)){let e=this.getLastChild();if(i7(e)||r9(e))return e.select()}}void 0===m&&(m=y),void 0===g&&(g=y);let b=this.__key;return rd(h)?(h.anchor.set(b,m,"element"),h.focus.set(b,g,"element"),h.dirty=!0,h):rS(b,m,b,g,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let d=this.getWritable();return d.__dir=e,d}setFormat(e){return this.getWritable().__format=""!==e?eB[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){let d=this.getWritable();return d.__textFormat=e,d}setTextStyle(e){let d=this.getWritable();return d.__textStyle=e,d}setIndent(e){return this.getWritable().__indent=e,this}splice(e,d,h){let m=h.length,g=this.getChildrenSize(),y=this.getWritable();e+d<=g||Q(226,String(e),String(d),String(g));let b=y.__key,v=[],w=[],S=this.getChildAtIndex(e+d),x=null,_=g-d+m;if(0!==e)if(e===g)x=this.getLastChild();else{let d=this.getChildAtIndex(e);null!==d&&(x=d.getPreviousSibling())}if(d>0){let e=null===x?this.getFirstChild():x.getNextSibling();for(let h=0;h<d;h++){null===e&&Q(100);let d=e.getNextSibling(),h=e.__key;aC(e.getWritable()),w.push(h),e=d}}let E=x;for(let e=0;e<m;e++){let d=h[e];null!==E&&d.is(E)&&(x=E=E.getPreviousSibling());let m=d.getWritable();m.__parent===b&&_--,aC(m);let g=d.__key;if(null===E)y.__first=g,m.__prev=null;else{let e=E.getWritable();e.__next=g,m.__prev=e.__key}d.__key===b&&Q(76),m.__parent=b,v.push(g),E=d}if(e+d===g)null!==E&&(E.getWritable().__next=null,y.__last=E.__key);else if(null!==S){let e=S.getWritable();if(null!==E){let d=E.getWritable();e.__prev=E.__key,d.__next=S.__key}else e.__prev=null}if(y.__size=_,w.length){let e=rT();if(rd(e)){let d=new Set(w),h=new Set(v),{anchor:m,focus:g}=e;r7(m,d,h)&&rP(m,m.getNode(),this,x,S),r7(g,d,h)&&rP(g,g.getNode(),this,x,S),0!==_||this.canBeEmpty()||no(this)||this.remove()}}return y}getDOMSlot(e){return new r3(e)}exportDOM(e){let{element:d}=super.exportDOM(e);if(ng(d)){let e=this.getIndent();e>0&&(d.style.paddingInlineStart=40*e+"px");let h=this.getDirection();h&&(d.dir=h)}return{element:d}}exportJSON(){let e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},d=this.getTextFormat(),h=this.getTextStyle();return 0!==d&&(e.textFormat=d),""!==h&&(e.textStyle=h),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,d){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,d,h){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,d){let h=this.getDOMSlot(e),m=h.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){let g=d.getElementByKey(e.getKey());null!==g&&(null==m?(h.insertChild(g),m=g):m!==g&&h.replaceChild(g,m),m=m.nextSibling)}}}function r9(e){return e instanceof r8}function r7(e,d,h){let m=e.getNode();for(;m;){let e=m.__key;if(d.has(e)&&!h.has(e))return!0;m=m.getParent()}return!1}class ae extends iF{decorate(e,d){Q(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function at(e){return e instanceof ae}class ai extends r8{static getType(){return"root"}static clone(){return new ai}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Q(51)}getTextContent(){let e=this.__cachedText;return(rz()||rK()._dirtyType===eh)&&null!==e?e:super.getTextContent()}remove(){Q(52)}replace(e){Q(53)}insertBefore(e){Q(54)}insertAfter(e){Q(55)}updateDOM(e,d){return!1}splice(e,d,h){for(let e of h)r9(e)||at(e)||Q(282);return super.splice(e,d,h)}static importJSON(e){return aM().updateFromJSON(e)}collapseAtStart(){return!0}}function ar(e){return e instanceof ai}function aa(e){return new ao(new Map(e._nodeMap))}function an(){return new ao(new Map([["root",new ai]]))}function as(e){let d=e.exportJSON(),h=e.constructor;if(d.type!==h.getType()&&Q(130,h.name),r9(e)){let m=d.children;Array.isArray(m)||Q(59,h.name);let g=e.getChildren();for(let e=0;e<g.length;e++){let d=as(g[e]);m.push(d)}}return d}class ao{constructor(e,d){this._nodeMap=e,this._selection=d||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,d){return rX(d&&d.editor||null,this,e)}clone(e){let d=new ao(this._nodeMap,void 0===e?this._selection:e);return d._readOnly=!0,d}toJSON(){return rX(null,this,()=>({root:as(aM())}))}}class al extends r8{static getType(){return"paragraph"}static clone(e){return new al(e.__key)}createDOM(e){let d=document.createElement("p"),h=a0(e.theme,"paragraph");return void 0!==h&&d.classList.add(...h),d}updateDOM(e,d,h){return!1}static importDOM(){return{p:e=>({conversion:ad,priority:0})}}exportDOM(e){let{element:d}=super.exportDOM(e);if(ng(d)){this.isEmpty()&&d.append(document.createElement("br"));let e=this.getFormatType();d.style.textAlign=e}return{element:d}}static importJSON(e){return ac().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,d){let h=ac();h.setTextFormat(e.format),h.setTextStyle(e.style);let m=this.getDirection();return h.setDirection(m),h.setFormat(this.getFormatType()),h.setStyle(this.getStyle()),this.insertAfter(h,d),h}collapseAtStart(){let e=this.getChildren();if(0===e.length||i7(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function ad(e){let d=ac();return e.style&&(d.setFormat(e.style.textAlign),nC(e,d)),{node:d}}function ac(){return nl(new al)}function ap(e){return e instanceof al}function au(e,d,h,m){let g=e._keyToDOMMap;g.clear(),e._editorState=an(),e._pendingEditorState=m,e._compositionKey=null,e._dirtyType=eh,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;let y=e._observer;null!==y&&(y.disconnect(),e._observer=null),null!==d&&(d.textContent=""),null!==h&&(h.textContent="",g.set("root",h))}class ah{constructor(e,d,h,m,g,y,b){this._parentEditor=d,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=m,this._nodes=h,this._decorators={},this._pendingDecorators=null,this._dirtyType=eh,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=aV(),this._onError=g,this._htmlConversions=y,this._editable=b,this._headless=null!==d&&d._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let d=this._listeners.update;return d.add(e),()=>{d.delete(e)}}registerEditableListener(e){let d=this._listeners.editable;return d.add(e),()=>{d.delete(e)}}registerDecoratorListener(e){let d=this._listeners.decorator;return d.add(e),()=>{d.delete(e)}}registerTextContentListener(e){let d=this._listeners.textcontent;return d.add(e),()=>{d.delete(e)}}registerRootListener(e){let d=this._listeners.root;return e(this._rootElement,null),d.add(e),()=>{e(null,this._rootElement),d.delete(e)}}registerCommand(e,d,h){void 0===h&&Q(35);let m=this._commands;m.has(e)||m.set(e,[new Set,new Set,new Set,new Set,new Set]);let g=m.get(e);void 0===g&&Q(36,String(e));let y=g[h];return y.add(d),()=>{y.delete(d),g.every(e=>0===e.size)&&m.delete(e)}}registerMutationListener(e,d,h){let m=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,g=this._listeners.mutation;g.set(d,m);let y=h&&h.skipInitialization;return void 0!==y&&y||this.initializeMutationListener(d,m),()=>{g.delete(d)}}getRegisteredNode(e){let d=this._nodes.get(e.getType());return void 0===d&&Q(37,e.name),d}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,d){let h=this._editorState,m=nT(h).get(d.getType());if(!m)return;let g=new Map;for(let e of m.keys())g.set(e,"created");g.size>0&&e(g,{dirtyLeaves:new Set,prevEditorState:h,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,d){let h=this.getRegisteredNode(e);return h.transforms.add(d),h}registerNodeTransform(e,d){let h=this.registerNodeTransformToKlass(e,d),m=[h],g=h.replaceWithKlass;if(null!=g){let e=this.registerNodeTransformToKlass(g,d);m.push(e)}return function(e,d){let h=nT(e.getEditorState()),m=[];for(let e of d){let d=h.get(e);d&&m.push(d)}0!==m.length&&e.update(()=>{for(let e of m)for(let d of e.keys()){let e=aO(d);e&&e.markDirty()}},null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,m.map(e=>e.klass.getType())),()=>{m.forEach(e=>e.transforms.delete(d))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,d){return a5(this,e,d)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let d=this._rootElement;if(e!==d){let h=a0(this._config.theme,"root"),m=this._pendingEditorState||this._editorState;if(this._rootElement=e,au(this,d,e,m),null!==d&&(this._config.disableEvents||ij(d),null!=h&&d.classList.remove(...h)),null!==e){let d=na(e),m=e.style;m.userSelect="text",m.whiteSpace="pre-wrap",m.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=d,this._dirtyType=ef,e1(this),this._updateTags.add("history-merge"),rZ(this),this._config.disableEvents||function(e,d){let h=e.ownerDocument,m=ib.get(h);(void 0===m||m<1)&&h.addEventListener("selectionchange",i$),ib.set(h,(m||0)+1),e.__lexicalEditor=d;let g=iD(e);for(let h=0;h<iu.length;h++){let[m,y]=iu[h],b="function"==typeof y?e=>{iB(e)||(iM(e),(d.isEditable()||"click"===m)&&y(e,d))}:e=>{if(iB(e))return;iM(e);let h=d.isEditable();switch(m){case"cut":return h&&a5(d,ia,e);case"copy":return a5(d,ir,e);case"paste":return h&&a5(d,tq,e);case"dragstart":return h&&a5(d,ie,e);case"dragover":return h&&a5(d,it,e);case"dragend":return h&&a5(d,ii,e);case"focus":return h&&a5(d,io,e);case"blur":return h&&a5(d,il,e);case"drop":return h&&a5(d,t7,e)}};e.addEventListener(m,b),g.push(()=>{e.removeEventListener(m,b)})}}(e,this),null!=h&&e.classList.add(...h)}else this._window=null,this._updateTags.add("history-merge"),rZ(this);r1("root",this,!1,e,d)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,d){e.isEmpty()&&Q(38);let h=e;h._readOnly&&((h=aa(e))._selection=e._selection?e._selection.clone():null),eZ(this);let m=this._pendingEditorState,g=this._updateTags,y=void 0!==d?d.tag:null;null===m||m.isEmpty()||(null!=y&&g.add(y),rZ(this)),this._pendingEditorState=h,this._dirtyType=ef,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=y&&g.add(y),this._updating||rZ(this)}parseEditorState(e,d){return function(e,d,h){let m=an(),g=r$,y=rB,b=rM,v=d._dirtyElements,w=d._dirtyLeaves,S=d._cloneNotNeeded,x=d._dirtyType;d._dirtyElements=new Map,d._dirtyLeaves=new Set,d._cloneNotNeeded=new Set,d._dirtyType=0,r$=m,rB=!1,rM=d;try{let g=d._nodes;rY(e.root,g),h&&h(),m._readOnly=!0}catch(e){e instanceof Error&&d._onError(e)}finally{d._dirtyElements=v,d._dirtyLeaves=w,d._cloneNotNeeded=S,d._dirtyType=x,r$=g,rB=y,rM=b}return m}("string"==typeof e?JSON.parse(e):e,this,d)}read(e){return rZ(this),this.getEditorState().read(e,{editor:this})}update(e,d){!function(e,d,h){e._updating?e._updates.push([d,h]):r4(e,d,h)}(this,e,d)}focus(e,d={}){let h=this._rootElement;null!==h&&(h.setAttribute("autocapitalize","off"),r6(this,()=>{let m=rT(),g=aM();null!==m?m.dirty=!0:0!==g.getChildrenSize()&&("rootStart"===d.defaultSelection?g.selectStart():g.selectEnd()),nt("focus"),ni(()=>{h.removeAttribute("autocapitalize"),e&&e()})}),null===this._pendingEditorState&&h.removeAttribute("autocapitalize"))}blur(){let e=this._rootElement;null!==e&&e.blur();let d=nh(this._window);null!==d&&d.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,r1("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}ah.version="0.28.0+prod.esm";let am=1,af="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function ag(e){let d=document.activeElement;if(!ng(d))return!1;let h=d.nodeName;return at(aD(e))&&("INPUT"===h||"TEXTAREA"===h||"true"===d.contentEditable&&null==aw(d))}function ay(e,d,h){let m=e.getRootElement();try{return null!==m&&m.contains(d)&&m.contains(h)&&null!==d&&!ag(d)&&av(d)===e}catch(e){return!1}}function ab(e){return e instanceof ah}function av(e){let d=e;for(;null!=d;){let e=aw(d);if(ab(e))return e;d=a7(d)}return null}function aw(e){return e?e.__lexicalEditor:null}function aS(e){return e.isToken()||e.isSegmented()}function ax(e){return ny(e)&&e.nodeType===ec}function a_(e){return ny(e)&&e.nodeType===ep}function aE(e){let d=e;for(;null!=d;){if(ax(d))return d;d=d.firstChild}return null}function aT(e,d,h){let m=e$[d];if(null!==h&&(e&m)==(h&m))return e;let g=e^m;return"subscript"===d?g&=~e$.superscript:"superscript"===d?g&=~e$.subscript:"lowercase"===d?(g&=~e$.uppercase,g&=~e$.capitalize):"uppercase"===d?(g&=~e$.lowercase,g&=~e$.capitalize):"capitalize"===d&&(g&=~e$.lowercase,g&=~e$.uppercase),g}function ak(e,d){if(null!=d)return void(e.__key=d);rq(),rV();let h=rK(),m=rH(),g=""+am++;m._nodeMap.set(g,e),r9(e)?h._dirtyElements.set(g,!0):h._dirtyLeaves.add(g),h._cloneNotNeeded.add(g),h._dirtyType=em,e.__key=g}function aC(e){let d=e.getParent();if(null!==d){let h=e.getWritable(),m=d.getWritable(),g=e.getPreviousSibling(),y=e.getNextSibling();if(null===g)if(null!==y){let e=y.getWritable();m.__first=y.__key,e.__prev=null}else m.__first=null;else{let e=g.getWritable();if(null!==y){let d=y.getWritable();d.__prev=e.__key,e.__next=d.__key}else e.__next=null;h.__prev=null}if(null===y)if(null!==g){let e=g.getWritable();m.__last=g.__key,e.__next=null}else m.__last=null;else{let e=y.getWritable();if(null!==g){let d=g.getWritable();d.__next=e.__key,e.__prev=d.__key}else e.__prev=null;h.__next=null}m.__size--,h.__parent=null}}function aA(e){rV();let d=e.getLatest(),h=d.__parent,m=rH(),g=rK(),y=m._nodeMap,b=g._dirtyElements;null!==h&&function(e,d,h){let m=e;for(;null!==m;){if(h.has(m))return;let e=d.get(m);if(void 0===e)break;h.set(m,!1),m=e.__parent}}(h,y,b);let v=d.__key;g._dirtyType=em,r9(e)?b.set(v,!0):g._dirtyLeaves.add(v)}function aP(e){rq();let d=rK(),h=d._compositionKey;if(e!==h){if(d._compositionKey=e,null!==h){let e=aO(h);null!==e&&e.getWritable()}if(null!==e){let d=aO(e);null!==d&&d.getWritable()}}}function aN(){return rz()?null:rK()._compositionKey}function aO(e,d){let h=(d||rH())._nodeMap.get(e);return void 0===h?null:h}function aI(e,d){let h=aR(e,rK());return void 0!==h?aO(h,d):null}function aR(e,d){return e[`__lexicalKey_${d._key}`]}function aD(e,d){let h=e;for(;null!=h;){let e=aI(h,d);if(null!==e)return e;h=a7(h)}return null}function aL(e){let d=Object.assign({},e._decorators);return e._pendingDecorators=d,d}function a$(e){return e.read(()=>aM().getTextContent())}function aM(){return aB(rH())}function aB(e){return e._nodeMap.get("root")}function aj(e){rq();let d=rH();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),d._selection=e}function aU(e){let d=rK(),h=function(e,d){let h=e;for(;null!=h;){let e=aR(h,d);if(void 0!==e)return e;h=a7(h)}return null}(e,d);return null===h?e===d.getRootElement()?aO("root"):null:aO(h)}function aF(e,d){return d?e.getTextContentSize():0}function az(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function aq(e){let d=[],h=e;for(;null!==h;)d.push(h),h=h._parentEditor;return d}function aV(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function aH(e){return ax(e)?e.nodeValue:null}function aK(e,d,h){let m=nh(nn(d));if(null===m)return;let g=m.anchorNode,{anchorOffset:y,focusOffset:b}=m;if(null!==g){let d=aH(g),m=aD(g);if(null!==d&&i7(m)){if(d===eP&&h){let e=h.length;d=h,y=e,b=e}null!==d&&aG(m,d,y,b,e)}}}function aG(e,d,h,m,g){let y=e;if(y.isAttached()&&(g||!y.isDirty())){let b=y.isComposing(),v=d;(b||g)&&d[d.length-1]===eP&&(v=d.slice(0,-1));let w=y.getTextContent();if(g||v!==w){if(""===v){if(aP(null),ei||er||eo)y.remove();else{let e=rK();setTimeout(()=>{e.update(()=>{y.isAttached()&&y.remove()})},20)}return}let d=y.getParent(),g=rk(),w=y.getTextContentSize(),S=aN(),x=y.getKey();if(y.isToken()||null!==S&&x===S&&!b||rd(g)&&(null!==d&&!d.canInsertTextBefore()&&0===g.anchor.offset||g.anchor.key===e.__key&&0===g.anchor.offset&&!y.canInsertTextBefore()&&!b||g.focus.key===e.__key&&g.focus.offset===w&&!y.canInsertTextAfter()&&!b))return void y.markDirty();let _=rT();if(!rd(_)||null===h||null===m)return void y.setTextContent(v);if(_.setTextNodeRange(y,h,y,m),y.isSegmented()){let e=i9(y.getTextContent());y.replace(e),y=e}y.setTextContent(v)}}}function aW(e){return"ArrowLeft"===e}function aJ(e){return"ArrowRight"===e}function aQ(e,d){return Z?e:d}function aY(e){return"Enter"===e}function aX(e){return"Backspace"===e}function aZ(e){return"Delete"===e}function a1(e,d,h){return"a"===e.toLowerCase()&&aQ(d,h)}function a0(e,d){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let h=e.__lexicalClassNameCache,m=h[d];if(void 0!==m)return m;let g=e[d];if("string"==typeof g){let e=el(g);return h[d]=e,e}return g}function a2(e,d,h,m,g){if(0===h.size)return;let y=m.__type,b=m.__key,v=d.get(y);void 0===v&&Q(33,y);let w=v.klass,S=e.get(w);void 0===S&&(S=new Map,e.set(w,S));let x=S.get(b),_="destroyed"===x&&"created"===g;(void 0===x||_)&&S.set(b,_?"updated":g)}function a4(e,d,h){let m=e.getParent(),g=h,y=e;return null!==m&&(d&&0===h?(g=y.getIndexWithinParent(),y=m):d||h!==y.getChildrenSize()||(g=y.getIndexWithinParent()+1,y=m)),y.getChildAtIndex(d?g-1:g)}function a6(e,d){let h=e.offset;if("element"===e.type)return a4(e.getNode(),d,h);{let m=e.getNode();if(d&&0===h||!d&&h===m.getTextContentSize()){let e=d?m.getPreviousSibling():m.getNextSibling();return null===e?a4(m.getParentOrThrow(),d,m.getIndexWithinParent()+ +!d):e}}return null}function a3(e){let d=nn(e).event,h=d&&d.inputType;return"insertFromPaste"===h||"insertFromPasteAsQuotation"===h}function a5(e,d,h){return r0(e,d,h)}function a8(e){return!ar(e)&&!e.isLastChild()&&!e.isInline()}function a9(e,d){let h=e._keyToDOMMap.get(d);return void 0===h&&Q(75,d),h}function a7(e){let d=e.assignedSlot||e.parentElement;return nb(d)?d.host:d}function ne(e){return a_(e)?e:ng(e)?e.ownerDocument:null}function nt(e){rq(),rK()._updateTags.add(e)}function ni(e){rq(),rK()._deferred.push(e)}function nr(e,d){let h=e.getParent();for(;null!==h;){if(h.is(d))return!0;h=h.getParent()}return!1}function na(e){let d=ne(e);return d?d.defaultView:null}function nn(e){let d=e._window;return null===d&&Q(78),d}function ns(e){let d=e.getParentOrThrow();for(;null!==d&&!no(d);)d=d.getParentOrThrow();return d}function no(e){return ar(e)||r9(e)&&e.isShadowRoot()}function nl(e){let d=rK(),h=e.constructor.getType(),m=d._nodes.get(h);void 0===m&&Q(200,e.constructor.name,h);let{replace:g,replaceWithKlass:y}=m;if(null!==g){let d=g(e),m=d.constructor;return null!==y?d instanceof y||Q(201,y.name,y.getType(),m.name,m.getType(),e.constructor.name,h):d instanceof e.constructor&&m!==e.constructor||Q(202,m.name,m.getType(),e.constructor.name,h),d.__key===e.__key&&Q(203,e.constructor.name,h,m.name,m.getType()),d}return e}function nd(e,d){!ar(e.getParent())||r9(d)||at(d)||Q(99)}function nc(e){let d=aO(e);return null===d&&Q(63,e),d}function np(e){return(at(e)||r9(e)&&!e.canBeEmpty())&&!e.isInline()}function nu(e,d,h){h.style.removeProperty("caret-color"),d._blockCursorElement=null;let m=e.parentElement;null!==m&&m.removeChild(e)}function nh(e){return Y?(e||window).getSelection():null}function nm(e){let d=na(e);return d?d.getSelection():null}function nf(e){return ng(e)&&"A"===e.tagName}function ng(e){return ny(e)&&e.nodeType===ed}function ny(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function nb(e){return ny(e)&&e.nodeType===eu}function nv(e){let d=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(d)}function nw(e){let d=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(d)}function nS(e){if(at(e)&&!e.isInline())return!0;if(!r9(e)||no(e))return!1;let d=e.getFirstChild(),h=null===d||iH(d)||i7(d)||d.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&h}function nx(e,d){let h=e;for(;null!==h&&null!==h.getParent()&&!d(h);)h=h.getParentOrThrow();return d(h)?h:null}let n_=new WeakMap,nE=new Map;function nT(e){if(!e._readOnly&&e.isEmpty())return nE;e._readOnly||Q(192);let d=n_.get(e);return d||(d=function(e){let d=new Map;for(let[h,m]of e._nodeMap){let e=m.__type,g=d.get(e);g||(g=new Map,d.set(e,g)),g.set(h,m)}return d}(e),n_.set(e,d)),d}function nk(e){let d=e.constructor.clone(e);return d.afterCloneFrom(e),d}function nC(e,d){let h=(parseInt(e.style.paddingInlineStart,10)||0)/40;d.setIndent(h)}function nA(e){return!0===e.__lexicalUnmanaged}let nP={next:"previous",previous:"next"};class nN{constructor(e){this.origin=e}[Symbol.iterator](){return n0({hasNext:nB,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return nq(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return nq(this.origin,this.direction)}remove(){let e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,d){let h=this.getNodeAtCaret();return e.is(this.origin)||e.is(h)||(null===h?this.insert(e):h.replace(e,d)),this}splice(e,d,h="next"){let m=h===this.direction?d:Array.from(d).reverse(),g=this,y=this.getParentAtCaret(),b=new Map;for(let d=g.getAdjacentCaret();null!==d&&b.size<e;d=d.getAdjacentCaret()){let e=d.origin.getWritable();b.set(e.getKey(),e)}for(let e of m){if(b.size>0){let d=g.getNodeAtCaret();if(d)if(b.delete(d.getKey()),b.delete(e.getKey()),d.is(e)||g.origin.is(e));else{let h=e.getParent();h&&h.is(y)&&e.remove(),d.replace(e)}else null===d&&Q(263,Array.from(b).join(" "))}else g.insert(e);g=nq(e,this.direction)}for(let e of b.values())e.remove();return this}}class nO extends nN{type="child";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:nG(e,this.direction)}getParentCaret(e="root"){return nq(nD(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=nR(this.direction);return nq(this.getNodeAtCaret(),e)||nG(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof nO&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}let nI={root:ar,shadowRoot:no};function nR(e){return nP[e]}function nD(e,d="root"){return nI[d](e)?null:e}class nL extends nN{type="sibling";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:nq(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return r9(this.origin)?nG(this.origin,this.direction):null}getParentCaret(e="root"){return nq(nD(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=nR(this.direction);return nq(this.getNodeAtCaret(),e)||nG(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof nL&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof nL||e instanceof n$)&&this.direction===e.direction&&this.origin.is(e.origin)}}class n$ extends nN{type="text";constructor(e,d){super(e),this.offset=d}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:nV(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return nq(nD(this.getParentAtCaret(),e),this.direction)}getFlipped(){return nV(this.origin,nR(this.direction),this.offset)}isSamePointCaret(e){return e instanceof n$&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof nL||e instanceof n$)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return nq(this.origin,this.direction)}}function nM(e){return e instanceof n$}function nB(e){return e instanceof nL}function nj(e){return e instanceof nO}let nU={next:class extends n${direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends n${direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},nF={next:class extends nL{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends nL{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},nz={next:class extends nO{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends nO{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function nq(e,d){return e?new nF[d](e):null}function nV(e,d,h){return e?new nU[d](e,nH(e,h)):null}function nH(e,d){let h=e.getTextContentSize(),m="next"===d?h:"previous"===d?0:d;return m>=0&&m<=h||Q(274,String(d),String(h)),m}function nK(e,d){return new nY(e,d)}function nG(e,d){return r9(e)?new nz[d](e):null}function nW(e){return e&&e.getChildCaret()||e}function nJ(e){return e&&nW(e.getAdjacentCaret())}class nQ{type="node-caret-range";constructor(e,d,h){this.anchor=e,this.focus=d,this.direction=h}getLatest(){let e=this.anchor.getLatest(),d=this.focus.getLatest();return e===this.anchor&&d===this.focus?this:new nQ(e,d,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let e=e=>{let d=this[e].getLatest();return nM(d)?function(e,d){let{direction:h,origin:m}=e;return nK(e,nH(m,"focus"===d?nR(h):h)-e.offset)}(d,e):null},d=e("anchor"),h=e("focus");if(d&&h){let{caret:e}=d,{caret:m}=h;if(e.isSameNodeCaret(m))return[nK(e,m.offset-e.offset),null]}return[d,h]}iterNodeCarets(e="root"){let d=nM(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),h=this.focus.getLatest(),m=nM(h),g=d=>d.isSameNodeCaret(h)?null:nJ(d)||d.getParentCaret(e);return n0({hasNext:e=>null!==e&&!(m&&h.isSameNodeCaret(e)),initial:d.isSameNodeCaret(h)?null:g(d),map:e=>e,step:g})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class nY{type="slice";constructor(e,d){this.caret=e,this.distance=d}getSliceIndices(){let{distance:e,caret:{offset:d}}=this,h=d+e;return h<d?[h,d]:[d,h]}getTextContent(){let[e,d]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,d)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:e,direction:d}}=this,[h,m]=this.getSliceIndices(),g=e.getTextContent();return nV(e.setTextContent(g.slice(0,h)+g.slice(m)),d,h)}}function nX(e){return n1(e,nq(aM(),e.direction))}function nZ(e){return n1(e,e)}function n1(e,d){return e.direction!==d.direction&&Q(265),new nQ(e,d,e.direction)}function n0(e){let{initial:d,hasNext:h,step:m,map:g}=e,y=d;return{[Symbol.iterator](){return this},next(){if(!h(y))return{done:!0,value:void 0};let e={done:!1,value:g(y)};return y=m(y),e}}}function n2(e,d){let h=n5(e.origin,d.origin);switch(null===h&&Q(275,e.origin.getKey(),d.origin.getKey()),h.type){case"same":{let h="text"===e.type,m="text"===d.type;return h&&m?function(e,d){return Math.sign(e-d)}(e.offset,d.offset):e.type===d.type?0:h?-1:m?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===d.type?1:-1;case"branch":return n4(h)}}function n4(e){let{a:d,b:h}=e,m=d.__key,g=h.__key,y=d,b=h;for(;y&&b;y=y.getNextSibling(),b=b.getNextSibling()){if(y.__key===g)return -1;if(b.__key===m)return 1}return null===y?1:-1}function n6(e,d){return d.is(e)}function n3(e){return r9(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function n5(e,d){if(e.is(d))return{commonAncestor:e,type:"same"};let h=new Map;for(let[d,m]=n3(e);d;m=d,d=d.getParent())h.set(d,m);for(let[m,g]=n3(d);m;g=m,m=m.getParent()){let y=h.get(m);if(void 0!==y)return null===y?(n6(e,m)||Q(276),{commonAncestor:m,type:"ancestor"}):null===g?(n6(d,m)||Q(277),{commonAncestor:m,type:"descendant"}):((r9(y)||n6(e,y))&&(r9(g)||n6(d,g))&&m.is(y.getParent())&&m.is(g.getParent())||Q(278),{a:y,b:g,commonAncestor:m,type:"branch"})}return null}function n8(e,d){let{type:h,key:m,offset:g}=e,y=nc(e.key);return"text"===h?(i7(y)||Q(266,y.getType(),m),nV(y,d,g)):(r9(y)||Q(267,y.getType(),m),sc(y,e.offset,d))}function n9(e,d){let{origin:h,direction:m}=d,g="next"===m;nM(d)?e.set(h.getKey(),d.offset,"text"):nB(d)?i7(h)?e.set(h.getKey(),nH(h,m),"text"):e.set(h.getParentOrThrow().getKey(),h.getIndexWithinParent()+ +!!g,"element"):(nj(d)&&r9(h)||Q(268),e.set(h.getKey(),g?0:h.getChildrenSize(),"element"))}function n7(e){let d=rT(),h=rd(d)?d:rx();return se(h,e),aj(h),h}function se(e,d){n9(e.anchor,d.anchor),n9(e.focus,d.focus)}function st(e){let{anchor:d,focus:h}=e,m=n8(d,"next"),g=n8(h,"next"),y=0>=n2(m,g)?"next":"previous";return n1(sl(m,y),sl(g,y))}function si(e){let{direction:d,origin:h}=e,m=nq(h,nR(d)).getNodeAtCaret();return m?nq(m,d):nG(h.getParentOrThrow(),d)}function sr(e,d="root"){let h=[e];for(let m=nj(e)?e.getParentCaret(d):e.getSiblingCaret();null!==m;m=m.getParentCaret(d))h.push(si(m));return h}function sa(e){return!!e&&e.origin.isAttached()}function sn(e,d="removeEmptySlices"){let h,m;if(e.isCollapsed())return e;let g="root",y="next",b=d,v=sd(e,y),w=sr(v.anchor,g),S=sr(v.focus.getFlipped(),g),x=new Set,_=[];for(let e of v.iterNodeCarets(g))if(nj(e))x.add(e.origin.getKey());else if(nB(e)){let{origin:d}=e;r9(d)&&!x.has(d.getKey())||_.push(d)}for(let e of _)e.remove();for(let e of v.getTextSlices()){if(!e)continue;let{origin:d}=e.caret,h=d.getTextContentSize(),m=si(nq(d,y)),g=d.getMode();if(Math.abs(e.distance)===h&&"removeEmptySlices"===b||"token"===g&&0!==e.distance)m.remove();else if(0!==e.distance){b="removeEmptySlices";let d=e.removeTextSlice(),h=e.caret.origin;if("segmented"===g){let e=d.origin,h=i9(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());m.replaceOrInsert(h),d=nV(h,y,d.offset)}h.is(w[0].origin)&&(w[0]=d),h.is(S[0].origin)&&(S[0]=d.getFlipped())}}for(let e of w)if(sa(e)){h=ss(e);break}for(let e of S)if(sa(e)){m=ss(e);break}let E=function(e,d,h){let m;if(!e||!d)return null;let g=e.getParentAtCaret(),y=d.getParentAtCaret();if(!g||!y)return null;let b=g.getParents().reverse();b.push(g);let v=y.getParents().reverse();v.push(y);let w=Math.min(b.length,v.length);for(m=0;m<w&&b[m]===v[m];m++);let S=(e,d)=>{let h;for(let g=m;g<e.length;g++){let m=e[g];if(no(m))return;!h&&d(m)&&(h=m)}return h},x=S(b,nS),_=x&&S(v,e=>h.has(e.getKey())&&nS(e));return x&&_?[x,_]:null}(h,m,x);if(E){let[e,d]=E;nG(e,"previous").splice(0,d.getChildren()),d.remove()}let T=[h,m,...w,...S].find(sa);if(T)return nZ(sl(ss(T),e.direction));Q(269,JSON.stringify(w.map(e=>e.origin.__key)))}function ss(e){let d=function(e){let d=e;for(;nj(d);){let e=nJ(d);if(!nj(e))break;d=e}return d}(e.getLatest()),{direction:h}=d;if(i7(d.origin))return nM(d)?d:nV(d.origin,h,h);let m=d.getAdjacentCaret();return nB(m)&&i7(m.origin)?nV(m.origin,h,nR(h)):d}function so(e){return nM(e)&&e.offset!==nH(e.origin,e.direction)}function sl(e,d){return e.direction===d?e:e.getFlipped()}function sd(e,d){return e.direction===d?e:n1(sl(e.focus,d),sl(e.anchor,d))}function sc(e,d,h){let m=nG(e,"next");for(let e=0;e<d;e++){let e=m.getAdjacentCaret();if(null===e)break;m=e}return sl(m,h)}let sp="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,su=sp&&"documentMode"in document?document.documentMode:null,sh=(!sp||!("InputEvent"in window)||su||new window.InputEvent("input"),sp&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),sp&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,sp&&/^(?=.*Chrome).*/i.test(navigator.userAgent));sp&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent),t$("DRAG_DROP_PASTE_FILE");class sm extends r8{static getType(){return"quote"}static clone(e){return new sm(e.__key)}createDOM(e){let d=document.createElement("blockquote");return q(d,e.theme.quote),d}updateDOM(e,d){return!1}static importDOM(){return{blockquote:e=>({conversion:sw,priority:0})}}exportDOM(e){let{element:d}=super.exportDOM(e);if(ng(d)){this.isEmpty()&&d.append(document.createElement("br"));let e=this.getFormatType();d.style.textAlign=e;let h=this.getDirection();h&&(d.dir=h)}return{element:d}}static importJSON(e){return sf().updateFromJSON(e)}insertNewAfter(e,d){let h=ac(),m=this.getDirection();return h.setDirection(m),this.insertAfter(h,d),h}collapseAtStart(){let e=ac();return this.getChildren().forEach(d=>e.append(d)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function sf(){return nl(new sm)}function sg(e){return e instanceof sm}class sy extends r8{static getType(){return"heading"}static clone(e){return new sy(e.__tag,e.__key)}constructor(e,d){super(d),this.__tag=e}getTag(){return this.__tag}setTag(e){let d=this.getWritable();return this.__tag=e,d}createDOM(e){let d=this.__tag,h=document.createElement(d),m=e.theme.heading;return void 0!==m&&q(h,m[d]),h}updateDOM(e,d,h){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:sv,priority:0}),h2:e=>({conversion:sv,priority:0}),h3:e=>({conversion:sv,priority:0}),h4:e=>({conversion:sv,priority:0}),h5:e=>({conversion:sv,priority:0}),h6:e=>({conversion:sv,priority:0}),p:e=>{let d=e.firstChild;return null!==d&&sb(d)?{conversion:()=>({node:null}),priority:3}:null},span:e=>sb(e)?{conversion:e=>({node:sS("h1")}),priority:3}:null}}exportDOM(e){let{element:d}=super.exportDOM(e);if(ng(d)){this.isEmpty()&&d.append(document.createElement("br"));let e=this.getFormatType();d.style.textAlign=e;let h=this.getDirection();h&&(d.dir=h)}return{element:d}}static importJSON(e){return sS(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,d=!0){let h=e?e.anchor.offset:0,m=this.getLastDescendant(),g=m&&(!e||e.anchor.key!==m.getKey()||h!==m.getTextContentSize())&&e?sS(this.getTag()):ac(),y=this.getDirection();if(g.setDirection(y),this.insertAfter(g,d),0===h&&!this.isEmpty()&&e){let e=ac();e.select(),this.replace(e,!0)}return g}collapseAtStart(){let e=this.isEmpty()?ac():sS(this.getTag());return this.getChildren().forEach(d=>e.append(d)),this.replace(e),!0}extractWithChild(){return!0}}function sb(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function sv(e){let d=e.nodeName.toLowerCase(),h=null;return"h1"!==d&&"h2"!==d&&"h3"!==d&&"h4"!==d&&"h5"!==d&&"h6"!==d||(h=sS(d),null!==e.style&&(nC(e,h),h.setFormat(e.style.textAlign))),{node:h}}function sw(e){let d=sf();return null!==e.style&&(d.setFormat(e.style.textAlign),nC(e,d)),{node:d}}function sS(e="h1"){return nl(new sy(e))}function sx(e){return e instanceof sy}async function s_({converters:e,currentDepth:d,depth:h,draft:m,lexicalNodes:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w}){let S=e.find(e=>e.nodeTypes.includes("unknown"));return(await Promise.all(g.map(async(g,x)=>{let _=e.find(e=>e.nodeTypes.includes(g.type));try{if(!_){if(S)return await S.converter({childIndex:x,converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w});return"<span>unknown node</span>"}return await _.converter({childIndex:x,converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w})}catch(e){return console.error("Error converting lexical node to HTML:",e,"node:",g),""}}))).join("")||""}function sE(e){return e}let sT=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#BlockquoteFeatureClient",clientFeatureProps:null,i18n:{ar:{label:""},az:{label:"Blokkvota"},bg:{label:""},cs:{label:"Citace"},da:{label:"Blokering"},de:{label:"Blockzitat"},en:{label:"Blockquote"},es:{label:"Cita en bloque"},et:{label:"Tsitaat"},fa:{label:"  "},fr:{label:"Citation"},he:{label:" "},hr:{label:"Blok citat"},hu:{label:"Id\xe9zetblokk"},it:{label:"Citazione"},ja:{label:""},ko:{label:""},my:{label:""},nb:{label:"Blokksitat"},nl:{label:"Citaat"},pl:{label:"Cytat blokowy"},pt:{label:"Cita\xe7\xe3o em bloco"},ro:{label:"Citat"},rs:{label:" "},"rs-latin":{label:"Blok citata"},ru:{label:""},sk:{label:"Cit\xe1t"},sl:{label:"Citat"},sv:{label:"Blockcitat"},th:{label:""},tr:{label:"Alnt"},uk:{label:""},vi:{label:"Tr\xedch dn"},zh:{label:""},"zh-TW":{label:""}},markdownTransformers:[{type:"element",dependencies:[sm],export:(e,d)=>{if(!sg(e))return null;let h=d(e).split("\n"),m=[];for(let e of h)m.push("> "+e);return m.join("\n")},regExp:/^>\s/,replace:(e,d,h,m)=>{if(m){let h=e.getPreviousSibling();if(sg(h)){h.splice(h.getChildrenSize(),0,[...d]),h.select(0,0),e.remove();return}}let g=sf();g.append(...d),e.replace(g),g.select(0,0)}}],nodes:[sE({converters:{html:{converter:async({converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w})=>{let S=await s_({converters:e,currentDepth:d,depth:h,draft:m,lexicalNodes:g.children,overrideAccess:y,parent:{...g,parent:b},req:v,showHiddenFields:w}),x=[g.format?`text-align: ${g.format};`:"",g.indent>0?`padding-inline-start: ${40*g.indent}px;`:""].filter(Boolean).join(" ");return`<blockquote${x?` style='${x}'`:""}>${S}</blockquote>`},nodeTypes:[sm.getType()]}},node:sm})]},key:"blockquote"}),sk={type:"text-format",format:["bold","italic"],tag:"***"},sC={type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},sA={type:"text-format",format:["bold"],tag:"**"},sP={type:"text-format",format:["bold"],intraword:!1,tag:"__"},sN=C({dependenciesSoft:["italic"],feature:({featureProviderMap:e})=>{let d=[sA,sP];return e.get("italic")&&d.push(sC,sk),{ClientFeature:"@payloadcms/richtext-lexical/client#BoldFeatureClient",markdownTransformers:d}},key:"bold"}),sO=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineCodeFeatureClient",markdownTransformers:[{type:"text-format",format:["code"],tag:"`"}]},key:"inlineCode"}),sI=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ItalicFeatureClient",markdownTransformers:[{type:"text-format",format:["italic"],tag:"*"},{type:"text-format",format:["italic"],intraword:!1,tag:"_"}]},key:"italic"}),sR=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#StrikethroughFeatureClient",markdownTransformers:[{type:"text-format",format:["strikethrough"],tag:"~~"}]},key:"strikethrough"}),sD=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SubscriptFeatureClient"},key:"subscript"}),sL=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SuperscriptFeatureClient"},key:"superscript"}),s$=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnderlineFeatureClient"},key:"underline"}),sM=e=>(d,h,m)=>{let g=e(m);g&&(g.append(...h),d.replace(g),g.select(0,0))},sB=e=>{let d=e.map(e=>Number(e.slice(1)));return{type:"element",dependencies:[sy],export:(e,d)=>{if(!sx(e))return null;let h=Number(e.getTag().slice(1));return"#".repeat(h)+" "+d(e)},regExp:RegExp(`^(${d.map(e=>`#{${e}}`).join("|")})\\s`),replace:sM(e=>sS("h"+e[1]?.length))}},sj={ar:{label:" {{headingLevel}}"},az:{label:"Balq {{headingLevel}}"},bg:{label:" {{headingLevel}}"},cs:{label:"Nadpis {{headingLevel}}"},da:{label:"Overskrift {{overskriftNiveau}}"},de:{label:"\xdcberschrift {{headingLevel}}"},en:{label:"Heading {{headingLevel}}"},es:{label:"Encabezado {{headingLevel}}"},et:{label:"Pealkiri {{headingLevel}}"},fa:{label:"[SKIPPED]"},fr:{label:"En-t\xeate {{headingLevel}}"},he:{label:" {{ }}"},hr:{label:"Naslov {{headingLevel}}"},hu:{label:"C\xedmsor {{headingLevel}}"},it:{label:"Intestazione {{headingLevel}}"},ja:{label:"{{headingLevel}}"},ko:{label:" {{headingLevel}}"},my:{label:"[SURAT]\n\nKepala {{headingLevel}}"},nb:{label:"Overskrift {{headingLevel}}"},nl:{label:"Kop {{headingLevel}}"},pl:{label:"Nag\xf3wek {{headingLevel}}"},pt:{label:"Cabe\xe7alho {{headingLevel}}"},ro:{label:"Titlu {{headingLevel}}"},rs:{label:" {{headingLevel}}"},"rs-latin":{label:"Naslov {{headingLevel}}"},ru:{label:" {{headingLevel}}"},sk:{label:"Nadpis {{headingLevel}}"},sl:{label:"Naslov {{headingLevel}}"},sv:{label:"Rubrik {{headingLevel}}"},th:{label:" {{headingLevel}}"},tr:{label:"Balk {{headingLevel}}"},uk:{label:" {{headingLevel}}"},vi:{label:"Ti\xeau  {{headingLevel}}"},zh:{label:" {{headingLevel}}"},"zh-TW":{label:" {{headingLevel}}"}},sU=C({feature:({props:e})=>{e||(e={});let{enabledHeadingSizes:d=["h1","h2","h3","h4","h5","h6"]}=e;return{ClientFeature:"@payloadcms/richtext-lexical/client#HeadingFeatureClient",clientFeatureProps:e,i18n:sj,markdownTransformers:[sB(d)],nodes:[sE({converters:{html:{converter:async({converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w})=>{let S=await s_({converters:e,currentDepth:d,depth:h,draft:m,lexicalNodes:g.children,overrideAccess:y,parent:{...g,parent:b},req:v,showHiddenFields:w}),x=[g.format?`text-align: ${g.format};`:"",g.indent>0?`padding-inline-start: ${40*g.indent}px;`:""].filter(Boolean).join(" ");return`<${g?.tag}${x?` style='${x}'`:""}>${S}</${g?.tag}>`},nodeTypes:[sy.getType()]}},node:sy})],sanitizedServerFeatureProps:e}},key:"heading"}),sF={ar:{label:" "},az:{label:"\xdcf\xfcqi Xtt"},bg:{label:" "},cs:{label:"Vodorovn\xfd prav\xedtko"},da:{label:"Horisontal Regel"},de:{label:"Trennlinie"},en:{label:"Horizontal Rule"},es:{label:"Regla Horizontal"},et:{label:"Horisontaalne reegel"},fa:{label:" "},fr:{label:"R\xe8gle horizontale"},he:{label:" "},hr:{label:"Vodoravna linija"},hu:{label:"V\xedzszintes vonal"},it:{label:"Regola Orizzontale"},ja:{label:""},ko:{label:" "},my:{label:"Peraturan Mendatar"},nb:{label:"Horisontal Regel"},nl:{label:"Horizontale Regel"},pl:{label:"Pozioma Linia"},pt:{label:"Regra Horizontal"},ro:{label:"Linie orizontal"},rs:{label:" "},"rs-latin":{label:"Horizontalna linija"},ru:{label:" "},sk:{label:"Vodorovn\xe1 iara"},sl:{label:"Vodoravna rta"},sv:{label:"Horisontell linje"},th:{label:""},tr:{label:"Yatay \xc7izgi"},uk:{label:" "},vi:{label:"Quy tc ngang"},zh:{label:""},"zh-TW":{label:""}};t$("INSERT_HORIZONTAL_RULE_COMMAND");class sz extends ae{static clone(e){return new this(e.__key)}static getType(){return"horizontalrule"}static importDOM(){return{hr:()=>({conversion:sq,priority:0})}}static importJSON(e){return sV()}createDOM(e){let d=document.createElement("hr");return q(d,e.theme.hr),d}decorate(){return null}exportDOM(){return{element:document.createElement("hr")}}exportJSON(){return{type:"horizontalrule",version:1}}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}}function sq(){return{node:sV()}}function sV(){return nl(new sz)}function sH(e){return e instanceof sz}let sK=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#HorizontalRuleFeatureClient",i18n:sF,markdownTransformers:[{type:"element",dependencies:[sz],export:(e,d)=>sH(e)?"---":null,regExp:/^---\s*$/,replace:e=>{let d=sV();d&&e.replace(d)}}],nodes:[sE({converters:{html:{converter:()=>"<hr/>",nodeTypes:[sz.getType()]}},node:sz})]},key:"horizontalRule"}),sG={ar:{decreaseLabel:"  ",increaseLabel:"  "},az:{decreaseLabel:"nterval Azaltn",increaseLabel:"Girintiyi Artrn"},bg:{decreaseLabel:" ",increaseLabel:" "},cs:{decreaseLabel:"Zmenit odsazen\xed",increaseLabel:"Zvtit odsazen\xed"},da:{decreaseLabel:"Reducer Indrykning",increaseLabel:"For\xf8g indrykning"},de:{decreaseLabel:"Einzug verkleinern",increaseLabel:"Einzug erh\xf6hen"},en:{decreaseLabel:"Decrease Indent",increaseLabel:"Increase Indent"},es:{decreaseLabel:"Disminuir Sangr\xeda",increaseLabel:"Aumentar Sangr\xeda"},et:{decreaseLabel:"Taande v\xe4hendamine",increaseLabel:"Taande suurendamine"},fa:{decreaseLabel:" ",increaseLabel:" "},fr:{decreaseLabel:"Diminuer l'indentation",increaseLabel:"Augmenter l'indentation"},he:{decreaseLabel:" ",increaseLabel:" "},hr:{decreaseLabel:"Smanji uvlaenje",increaseLabel:"Poveaj uvlaenje"},hu:{decreaseLabel:"Cs\xf6kkentse a beh\xfaz\xe1st",increaseLabel:"Beh\xfaz\xe1s n\xf6vel\xe9se"},it:{decreaseLabel:"Diminuisci rientro",increaseLabel:"Aumenta Rientro"},ja:{decreaseLabel:"",increaseLabel:""},ko:{decreaseLabel:" ",increaseLabel:" "},my:{decreaseLabel:"Kurangkan Inden",increaseLabel:"Tingkatkan Inden"},nb:{decreaseLabel:"Reduser innrykk",increaseLabel:"\xd8ke innrykk"},nl:{decreaseLabel:"Verminder Inspringing",increaseLabel:"Inspring verhogen"},pl:{decreaseLabel:"Zmniejsz wcicie",increaseLabel:"Zwiksz wcicie"},pt:{decreaseLabel:"Diminuir recuo",increaseLabel:"Aumentar Indenta\xe7\xe3o"},ro:{decreaseLabel:"Reducere indentare",increaseLabel:"Crete indentarea"},rs:{decreaseLabel:" ",increaseLabel:" "},"rs-latin":{decreaseLabel:"Smanji uvlaenje",increaseLabel:"Poveaj uvlaenje"},ru:{decreaseLabel:" ",increaseLabel:" "},sk:{decreaseLabel:"Zn\xedi odsadenie",increaseLabel:"Zv\xe4i odsadenie"},sl:{decreaseLabel:"Zmanjaj zamik",increaseLabel:"Poveaj zamik"},sv:{decreaseLabel:"Minska indrag",increaseLabel:"\xd6ka indrag"},th:{decreaseLabel:"",increaseLabel:""},tr:{decreaseLabel:"Girintiyi Azalt",increaseLabel:"Girintiyi Artr"},uk:{decreaseLabel:" ",increaseLabel:" "},vi:{decreaseLabel:"Gim l",increaseLabel:"Tng l"},zh:{decreaseLabel:"",increaseLabel:""},"zh-TW":{decreaseLabel:"",increaseLabel:""}},sW=C({feature:({props:e})=>({ClientFeature:"@payloadcms/richtext-lexical/client#IndentFeatureClient",clientFeatureProps:e,i18n:sG}),key:"indent"});var sJ=h(13928),sQ=h(70004),sY=h(70120);let sX=new Set(["http:","https:","mailto:","sms:","tel:"]);class sZ extends r8{__fields;__id;constructor({id:e,fields:d={linkType:"custom",newTab:!1},key:h}){super(h),this.__fields=d,this.__id=e}static clone(e){return new sZ({id:e.__id,fields:e.__fields,key:e.__key})}static getType(){return"link"}static importDOM(){return{a:e=>({conversion:s1,priority:1})}}static importJSON(e){let d=s0({}).updateFromJSON(e);return 1===e.version&&"object"==typeof e.fields?.doc?.value&&e.fields?.doc?.value?.id&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),2!==e.version||e.id||(e.id=new sY.default().toHexString(),e.version=3),d}canBeEmpty(){return!1}canInsertTextAfter(){return!1}canInsertTextBefore(){return!1}createDOM(e){let d=document.createElement("a");return this.__fields?.linkType==="custom"&&(d.href=this.sanitizeUrl(this.__fields.url??"")),this.__fields?.newTab&&(d.target="_blank"),this.__fields?.newTab===!0&&this.__fields?.linkType==="custom"&&(d.rel=s6(d.rel,"add","noopener")),q(d,e.theme.link),d}exportJSON(){let e=this.getFields();e?.linkType==="internal"?delete e.url:e?.linkType==="custom"&&delete e.doc;let d={...super.exportJSON(),type:"link",fields:e,version:3},h=this.getID();return h&&(d.id=h),d}extractWithChild(e,d,h){if(!rd(d))return!1;let m=d.anchor.getNode(),g=d.focus.getNode();return this.isParentOf(m)&&this.isParentOf(g)&&d.getTextContent().length>0}getFields(){return this.getLatest().__fields}getID(){return this.getLatest().__id}insertNewAfter(e,d=!0){let h=this.getParentOrThrow().insertNewAfter(e,d);if(r9(h)){let e=s0({fields:this.__fields});return h.append(e),e}return null}isInline(){return!0}sanitizeUrl(e){try{let d=new URL(e);if(!sX.has(d.protocol))return"about:blank"}catch(e){return"https://"}return e}setFields(e){let d=this.getWritable();return d.__fields=e,d}setID(e){let d=this.getWritable();return d.__id=e,d}updateDOM(e,d,h){let m=this.__fields?.url,g=this.__fields?.newTab;return null!=m&&m!==e.__fields?.url&&this.__fields?.linkType==="custom"&&(d.href=m),this.__fields?.linkType==="internal"&&e.__fields?.linkType==="custom"&&d.removeAttribute("href"),null==d.rel&&(d.rel=""),g!==e.__fields?.newTab&&(g?(d.target="_blank",this.__fields?.linkType==="custom"&&(d.rel=s6(d.rel,"add","noopener"))):(d.removeAttribute("target"),d.rel=s6(d.rel,"remove","noopener"))),!1}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields).setID(e.id)}}function s1(e){let d=null;if(nf(e)){let h=e.textContent;null!==h&&""!==h&&(d=s0({id:new sY.default().toHexString(),fields:{doc:null,linkType:"custom",newTab:"_blank"===e.getAttribute("target"),url:e.getAttribute("href")??""}}))}return{node:d}}function s0({id:e,fields:d}){return nl(new sZ({id:e??new sY.default().toHexString(),fields:d}))}function s2(e){return e instanceof sZ}t$("TOGGLE_LINK_COMMAND");function s4(e,d){let h=e;for(;null!==h&&!(null===(h=h.getParent())||d(h)););return h}function s6(e,d,h){let m,g=`${e}`;if("add"===d){if(g.includes(h)){let e=RegExp(h,"g");g=g.replace(e,"").trim()}m=0===(g=g.trim()).length?`${h}`:`${g} ${h}`}else{let e=RegExp(h,"g");m=g.replace(e,"").trim()}return m}let s3={type:"text-match",dependencies:[sZ],export:(e,d)=>{if(!s2(e))return null;let h=e,{url:m}=h.getFields(),g=d(h);return`[${g}](${m})`},importRegExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)/,regExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)$/,replace:(e,d)=>{let[,h,m]=d,g=s0({fields:{doc:null,linkType:"custom",newTab:!1,url:m}}),y=i9(h);return y.setFormat(e.getFormat()),g.append(y),e.replace(g),y},trigger:")"};class s5 extends sZ{static clone(e){return new s5({id:"",fields:e.__fields,key:e.__key})}static getType(){return"autolink"}static importDOM(){return null}static importJSON(e){let d=s8({}).updateFromJSON(e);return 1===e.version&&"object"==typeof e.fields?.doc?.value&&e.fields?.doc?.value?.id&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),d}exportJSON(){let e=super.exportJSON();return{type:"autolink",children:e.children,direction:e.direction,fields:e.fields,format:e.format,indent:e.indent,version:2}}insertNewAfter(e,d=!0){let h=this.getParentOrThrow().insertNewAfter(e,d);if(r9(h)){let e=s8({fields:this.__fields});return h.append(e),e}return null}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields)}}function s8({fields:e}){return nl(new s5({id:"",fields:e}))}let s9=({context:e,currentDepth:d=0,data:h,depth:m,draft:y,fieldPromises:b,fields:v,findMany:w,flattenLocales:S,overrideAccess:x=!1,parentIsLocalized:_,populationPromises:E,req:T,showHiddenFields:k,siblingDoc:C})=>{(0,g.m)({collection:null,context:e,currentDepth:d,depth:m,doc:h,draft:y,fallbackLocale:T.fallbackLocale,fieldPromises:b,fields:v,findMany:w,flattenLocales:S,global:null,locale:T.locale,overrideAccess:x,parentIndexPath:"",parentIsLocalized:_,parentPath:"",parentSchemaPath:"",populationPromises:E,req:T,showHiddenFields:k,siblingDoc:C,triggerHooks:!1})},s7=e=>({context:d,currentDepth:h,depth:m,draft:g,editorPopulationPromises:y,field:b,fieldPromises:v,findMany:w,flattenLocales:S,node:x,overrideAccess:_,parentIsLocalized:E,populationPromises:T,req:k,showHiddenFields:C})=>{e.fields?.length&&Array.isArray(e.fields)&&s9({context:d,currentDepth:h,data:x.fields,depth:m,draft:g,editorPopulationPromises:y,fieldPromises:v,fields:e.fields,findMany:w,flattenLocales:S,overrideAccess:_,parentIsLocalized:E||b.localized||!1,populationPromises:T,req:k,showHiddenFields:C,siblingDoc:x.fields})},oe={ar:{label:"",loadingWithEllipsis:" ..."},az:{label:"Ke\xe7id",loadingWithEllipsis:"Y\xfcklnir..."},bg:{label:"",loadingWithEllipsis:" ..."},cs:{label:"Odkaz",loadingWithEllipsis:"Na\xedt\xe1n\xed..."},da:{label:"Link",loadingWithEllipsis:"Indl\xe6ser..."},de:{label:"Verkn\xfcpfung",loadingWithEllipsis:"Laden..."},en:{label:"Link",loadingWithEllipsis:"Loading..."},es:{label:"Enlace",loadingWithEllipsis:"Cargando..."},et:{label:"Link",loadingWithEllipsis:"Laadimine..."},fa:{label:"",loadingWithEllipsis:"  ..."},fr:{label:"Lien",loadingWithEllipsis:"Chargement..."},he:{label:"",loadingWithEllipsis:"..."},hr:{label:"Poveznica",loadingWithEllipsis:"Uitavanje..."},hu:{label:"Hivatkoz\xe1s",loadingWithEllipsis:"Bet\xf6lt\xe9s..."},it:{label:"Collegamento",loadingWithEllipsis:"Caricamento..."},ja:{label:"",loadingWithEllipsis:"..."},ko:{label:"",loadingWithEllipsis:" ..."},my:{label:"",loadingWithEllipsis:"..."},nb:{label:"Lenke",loadingWithEllipsis:"Laster..."},nl:{label:"Link",loadingWithEllipsis:"Laden..."},pl:{label:"cze",loadingWithEllipsis:"adowanie..."},pt:{label:"Liga\xe7\xe3o",loadingWithEllipsis:"Carregando..."},ro:{label:"Legtur",loadingWithEllipsis:"Se \xeencarc..."},rs:{label:"",loadingWithEllipsis:"..."},"rs-latin":{label:"Veza",loadingWithEllipsis:"Uitavanje..."},ru:{label:"",loadingWithEllipsis:"..."},sk:{label:"Odkaz",loadingWithEllipsis:"Na\xedtava sa..."},sl:{label:"Povezava",loadingWithEllipsis:"Nalaganje..."},sv:{label:"L\xe4nk",loadingWithEllipsis:"Laddar..."},th:{label:"",loadingWithEllipsis:"..."},tr:{label:"Balant",loadingWithEllipsis:"Y\xfckleniyor..."},uk:{label:"",loadingWithEllipsis:"..."},vi:{label:"Li\xean kt",loadingWithEllipsis:"ang ti..."},zh:{label:"",loadingWithEllipsis:"..."},"zh-TW":{label:"",loadingWithEllipsis:"..."}},ot=/^(?:[a-zA-Z][a-zA-Z\d+.-]*:(?:\/\/)?(?:[-;:&=+$,\w]+@)?[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|www\.[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|(?:tel|mailto):[\w+.-]+)(?:\/[+~%/\w-]*)?(?:\?[-;&=%\w]*)?(?:#\w+)?$/,oi=/^(?:\/[\w\-./]*(?:#\w[\w-]*)?|#[\w\-]+)$/;function or(e){return!!e&&!e.includes(" ")}function oa(e){if(!e)return!1;if("https://"===e||ot.test(e)||oi.test(e))return!0;try{return new URL(e),!0}catch{}return!1}let on=(e,d,h,m)=>{let g;g=d||(h?e.collections.filter(({slug:e})=>!h.includes(e)).map(({slug:e})=>e):e.collections.filter(({admin:{enableRichTextLink:e,hidden:d}})=>("function"==typeof d||!d)&&e).map(({slug:e})=>e));let y=[{name:"text",type:"text",label:({t:e})=>e("fields:textToDisplay"),required:!0},{name:"linkType",type:"radio",admin:{description:({t:e})=>e("fields:chooseBetweenCustomTextOrDocument")},defaultValue:"custom",label:({t:e})=>e("fields:linkType"),options:[{label:({t:e})=>e("fields:customURL"),value:"custom"}],required:!0},{name:"url",type:"text",hooks:{beforeChange:[({value:e})=>{if(e)return oa(e)?e:encodeURIComponent(e)}]},label:({t:e})=>e("fields:enterURL"),required:!0,validate:(e,d)=>{if(d?.siblingData?.linkType!=="internal"&&!or(e))return"Invalid URL"}}];return g?.length&&(y[1].options.push({label:({t:e})=>e("fields:internalLink"),value:"internal"}),y[2].admin={condition:(e,d)=>"internal"!==d.linkType},y.push({name:"doc",admin:{condition:(e,d)=>"internal"===d.linkType},type:"relationship",filterOptions:d||h?null:({relationTo:d,user:h})=>{let m=e.collections.find(({slug:e})=>e===d)?.admin.hidden;return!("function"==typeof m&&m({user:h}))},label:({t:e})=>e("fields:chooseDocumentToLink"),maxDepth:m,relationTo:g,required:!0})),y.push({name:"newTab",type:"checkbox",label:({t:e})=>e("fields:openInNewTab")}),y};function os(e,d,h,m,g){let y,b=on(d,h,m,g);return"function"==typeof e?e({config:d,defaultFields:b}):Array.isArray(e)?e:b}var oo=h(85095);let ol=(e,d)=>async({node:e,validation:{options:{id:h,collectionSlug:m,data:g,operation:y,preferences:b,req:v}}})=>{let w=await (0,oo.d)({id:h,collectionSlug:m,data:e.fields,documentData:g,fields:d,fieldSchemaMap:void 0,initialBlockData:e.fields,operation:"create"===y||"update"===y?y:"update",permissions:{},preferences:b,renderAllFields:!1,req:v,schemaPath:""}),S=new Set;for(let e in w){let d=w[e];if(d?.errorPaths?.length)for(let e of d.errorPaths)S.add(e)}let x=Array.from(S);return!x.length||"The following fields are invalid: "+x.join(", ")},od=C({feature:async({config:e,isRoot:d,parentIsLocalized:h,props:m})=>{m||(m={});let g=e.collections.map(e=>e.slug)||[],y=os(m.fields?m.fields:null,e,m.enabledCollections,m.disabledCollections,m.maxDepth),b=await (0,sQ.b)({config:e,fields:y,parentIsLocalized:h,requireFieldLevelRichTextEditor:d,validRelationships:g});m.fields=b;let v=b.filter(e=>!("name"in e)||"text"!==e.name),w=null,S=null;for(let e of b)"name"in e&&"linkType"===e.name&&(w=e),"name"in e&&"url"===e.name&&(S=e);return{ClientFeature:"@payloadcms/richtext-lexical/client#LinkFeatureClient",clientFeatureProps:{defaultLinkType:w?"defaultValue"in w&&"string"==typeof w.defaultValue?w.defaultValue:"custom":void 0,defaultLinkURL:S?"defaultValue"in S&&"string"==typeof S.defaultValue?S.defaultValue:"https://":void 0,disableAutoLinks:m.disableAutoLinks,disabledCollections:m.disabledCollections,enabledCollections:m.enabledCollections},generateSchemaMap:()=>{if(!b||!Array.isArray(b)||0===b.length)return null;let e=new Map;return e.set("fields",{fields:b}),e},i18n:oe,markdownTransformers:[s3],nodes:[m?.disableAutoLinks===!0?null:sE({converters:{html:{converter:async({converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w})=>{let S=await s_({converters:e,currentDepth:d,depth:h,draft:m,lexicalNodes:g.children,overrideAccess:y,parent:{...g,parent:b},req:v,showHiddenFields:w}),x=g.fields.url??"";return"internal"===g.fields.linkType&&(x="object"!=typeof g.fields.doc?.value?String(g.fields.doc?.value):String(g.fields.doc?.value?.id)),`<a href="${x}"${g.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${S}</a>`},nodeTypes:[s5.getType()]}},node:s5,validations:[ol(m,v)]}),sE({converters:{html:{converter:async({converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w})=>{let S=await s_({converters:e,currentDepth:d,depth:h,draft:m,lexicalNodes:g.children,overrideAccess:y,parent:{...g,parent:b},req:v,showHiddenFields:w}),x="custom"===g.fields.linkType?sJ(g.fields.url):g.fields.doc?.value;return`<a href="${x}"${g.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${S}</a>`},nodeTypes:[sZ.getType()]}},getSubFields:()=>v,getSubFieldsData:({node:e})=>e?.fields,graphQLPopulationPromises:[s7(m)],node:sZ,validations:[ol(m,v)]})].filter(Boolean),sanitizedServerFeatureProps:m}},key:"link"});function oc(e,...d){let h=new URL("https://lexical.dev/docs/error"),m=new URLSearchParams;for(let h of(m.append("code",e),d))m.append("v",h);throw h.search=m.toString(),Error(`Minified Lexical error #${e}; visit ${h.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let op=new Map;function ou(e){let d={};if(!e)return d;for(let h of e.split(";"))if(""!==h){let[e,m]=h.split(/:([^]+)/);e&&m&&(d[e.trim()]=m.trim())}return d}function oh(e){let d=op.get(e);return void 0===d&&(d=ou(e),op.set(e,d)),d}function om(e){let d="";for(let h in e)h&&(d+=`${h}: ${e[h]};`);return d}function of(e){if(e.isBackward()){let{anchor:d,focus:h}=e,{key:m,offset:g,type:y}=d;d.set(h.key,h.offset,h.type),h.set(m,g,y)}}function og(e){return e.getNode().isAttached()}function oy(e){let d=e;for(;null!==d&&!p(d);){let e=d.getLatest(),h=d.getParent();0===e.getChildrenSize()&&d.remove(!0),d=h}}function ob(e,...d){let h=new URL("https://lexical.dev/docs/error"),m=new URLSearchParams;for(let h of(m.append("code",e),d))m.append("v",h);throw h.search=m.toString(),Error(`Minified Lexical error #${e}; visit ${h.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function ov(e){let d=1,h=e.getParent();for(;null!=h;){if(oB(h)){let e=h.getParent();if(oH(e)){d++,h=e.getParent();continue}ob(40)}break}return d}function ow(e){let d=e.getParent();oH(d)||ob(40);let h=d;for(;null!==h;)oH(h=h.getParent())&&(d=h);return d}function oS(e){let d=[],h=e.getChildren().filter(oB);for(let e=0;e<h.length;e++){let m=h[e],g=m.getFirstChild();oH(g)?d=d.concat(oS(g)):d.push(m)}return d}function ox(e){return oB(e)&&oH(e.getFirstChild())}function o_(e){return oM().append(e)}function oE(e,d){return oB(e)&&(0===d.length||1===d.length&&e.is(d[0])&&0===e.getChildrenSize())}function oT(e,d){e.splice(e.getChildrenSize(),0,d)}function ok(e,d){let h;if(oH(e))return e;let m=e.getPreviousSibling(),g=e.getNextSibling(),y=oM();if(oT(y,e.getChildren()),oH(m)&&d===m.getListType())m.append(y),oH(g)&&d===g.getListType()&&(oT(m,g.getChildren()),g.remove()),h=m;else if(oH(g)&&d===g.getListType())g.getFirstChildOrThrow().insertBefore(y),h=g;else{let m=oV(d);m.append(y),e.replace(m),h=m}return y.setFormat(e.getFormatType()),y.setIndent(e.getIndent()),e.remove(),h}function oC(e,d){let h=e.getLastChild(),m=d.getFirstChild();h&&m&&ox(h)&&ox(m)&&(oC(h.getFirstChild(),m.getFirstChild()),m.remove());let g=d.getChildren();g.length>0&&e.append(...g),d.remove()}function oA(e){let d=new Set;if(ox(e)||d.has(e.getKey()))return;let h=e.getParent(),m=e.getNextSibling(),g=e.getPreviousSibling();if(ox(m)&&ox(g)){let h=g.getFirstChild();if(oH(h)){h.append(e);let g=m.getFirstChild();oH(g)&&(oT(h,g.getChildren()),m.remove(),d.add(m.getKey()))}}else if(ox(m)){let d=m.getFirstChild();if(oH(d)){let h=d.getFirstChild();null!==h&&h.insertBefore(e)}}else if(ox(g)){let d=g.getFirstChild();oH(d)&&d.append(e)}else if(oH(h)){let d=oM().setTextFormat(h.getTextFormat()).setTextStyle(h.getTextStyle()),y=oV(h.getListType()).setTextFormat(h.getTextFormat()).setTextStyle(h.getTextStyle());d.append(y),y.append(e),g?g.insertAfter(d):m?m.insertBefore(d):h.append(d)}}function oP(e){if(ox(e))return;let d=e.getParent(),h=d?d.getParent():void 0;if(oH(h?h.getParent():void 0)&&oB(h)&&oH(d)){let m=d?d.getFirstChild():void 0,g=d?d.getLastChild():void 0;if(e.is(m))h.insertBefore(e),d.isEmpty()&&h.remove();else if(e.is(g))h.insertAfter(e),d.isEmpty()&&h.remove();else{let m=d.getListType(),g=oM(),y=oV(m);g.append(y),e.getPreviousSiblings().forEach(e=>y.append(e));let b=oM(),v=oV(m);b.append(v),oT(v,e.getNextSiblings()),h.insertBefore(g),h.insertAfter(b),h.replace(e)}}}function oN(...e){let d=[];for(let h of e)if(h&&"string"==typeof h)for(let[e]of h.matchAll(/\S+/g))d.push(e);return d}function oO(e,d,h){let m=oh(d.__textStyle);for(let d in m)e.style.setProperty(`--listitem-marker-${d}`,m[d]);if(h)for(let d in oh(h.__textStyle))d in m||e.style.removeProperty(`--listitem-marker-${d}`)}class oI extends r8{static getType(){return"listitem"}static clone(e){return new oI(e.__value,e.__checked,e.__key)}constructor(e,d,h){super(h),this.__value=void 0===e?1:e,this.__checked=d}createDOM(e){let d=document.createElement("li"),h=this.getParent();oH(h)&&"check"===h.getListType()&&oD(d,this,null),d.value=this.__value,oR(d,e.theme,this);let m=this.__style;return m&&(d.style.cssText=m),oO(d,this,null),d}updateDOM(e,d,h){let m=this.getParent();oH(m)&&"check"===m.getListType()&&oD(d,this,e),d.value=this.__value,oR(d,h.theme,this);let g=e.__style,y=this.__style;return g!==y&&(""===y?d.removeAttribute("style"):d.style.cssText=y),oO(d,this,e),!1}static transform(){return e=>{if(oB(e)||ob(144),null==e.__checked)return;let d=e.getParent();oH(d)&&"check"!==d.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:oL,priority:0})}}static importJSON(e){return oM().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){let d=this.createDOM(e._config);d.style.textAlign=this.getFormatType();let h=this.getDirection();return h&&(d.dir=h),{element:d}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let d=0;d<e.length;d++){let h=e[d];if(r9(h)&&this.canMergeWith(h)){let e=h.getChildren();this.append(...e),h.remove()}else super.append(h)}return this}replace(e,d){if(oB(e))return super.replace(e);this.setIndent(0);let h=this.getParentOrThrow();if(!oH(h))return e;if(h.__first===this.getKey())h.insertBefore(e);else if(h.__last===this.getKey())h.insertAfter(e);else{let d=oV(h.getListType()),m=this.getNextSibling();for(;m;){let e=m;m=m.getNextSibling(),d.append(e)}h.insertAfter(e),e.insertAfter(d)}return d&&(r9(e)||ob(139),this.getChildren().forEach(d=>{e.append(d)})),this.remove(),0===h.getChildrenSize()&&h.remove(),e}insertAfter(e,d=!0){let h=this.getParentOrThrow();if(oH(h)||ob(39),oB(e))return super.insertAfter(e,d);let m=this.getNextSiblings();if(h.insertAfter(e,d),0!==m.length){let g=oV(h.getListType());m.forEach(e=>g.append(e)),e.insertAfter(g,d)}return e}remove(e){let d=this.getPreviousSibling(),h=this.getNextSibling();super.remove(e),d&&h&&ox(d)&&ox(h)&&(oC(d.getFirstChild(),h.getFirstChild()),h.remove())}insertNewAfter(e,d=!0){let h=oM().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(h,d),h}collapseAtStart(e){let d=ac();this.getChildren().forEach(e=>d.append(e));let h=this.getParentOrThrow(),m=h.getParentOrThrow(),g=oB(m);if(1===h.getChildrenSize())if(g)h.remove(),m.select();else{h.insertBefore(d),h.remove();let m=e.anchor,g=e.focus,y=d.getKey();"element"===m.type&&m.getNode().is(this)&&m.set(y,m.offset,"element"),"element"===g.type&&g.getNode().is(this)&&g.set(y,g.offset,"element")}else h.insertBefore(d),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){let d=this.getWritable();return d.__value=e,d}getChecked(){let e,d=this.getLatest(),h=this.getParent();return oH(h)&&(e=h.getListType()),"check"===e?!!d.__checked:void 0}setChecked(e){let d=this.getWritable();return d.__checked=e,d}toggleChecked(){let e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){let e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let d=e.getParentOrThrow(),h=0;for(;oB(d);)d=d.getParentOrThrow().getParentOrThrow(),h++;return h}setIndent(e){"number"!=typeof e&&ob(117),(e=Math.floor(e))>=0||ob(199);let d=this.getIndent();for(;d!==e;)d<e?(oA(this),d++):(oP(this),d--);return this}canInsertAfter(e){return oB(e)}canReplaceWith(e){return oB(e)}canMergeWith(e){return oB(e)||ap(e)}extractWithChild(e,d){if(!rd(d))return!1;let h=d.anchor.getNode(),m=d.focus.getNode();return this.isParentOf(h)&&this.isParentOf(m)&&this.getTextContent().length===d.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return oV("bullet")}canMergeWhenEmpty(){return!0}}function oR(e,d,h){let m,g=[],y=[],b=d.list,v=b?b.listitem:void 0;if(b&&b.nested&&(m=b.nested.listitem),void 0!==v&&g.push(...oN(v)),b){let e=h.getParent(),d=oH(e)&&"check"===e.getListType(),m=h.getChecked();d&&!m||y.push(b.listitemUnchecked),d&&m||y.push(b.listitemChecked),d&&g.push(m?b.listitemChecked:b.listitemUnchecked)}if(void 0!==m){let e=oN(m);h.getChildren().some(e=>oH(e))?g.push(...e):y.push(...e)}y.length>0&&V(e,...y),g.length>0&&q(e,...g)}function oD(e,d,h,m){oH(d.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),h&&d.__checked===h.__checked||e.setAttribute("aria-checked",d.getChecked()?"true":"false"))}function oL(e){if(e.classList.contains("task-list-item")){for(let d of e.children)if("INPUT"===d.tagName)return o$(d)}let d=e.getAttribute("aria-checked");return{node:oM("true"===d||"false"!==d&&void 0)}}function o$(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:oM(e.hasAttribute("checked"))}}function oM(e){return nl(new oI(void 0,e))}function oB(e){return e instanceof oI}class oj extends r8{static getType(){return"list"}static clone(e){return new oj(e.__listType||oq[e.__tag],e.__start,e.__key)}constructor(e="number",d=1,h){super(h);let m=oq[e]||e;this.__listType=m,this.__tag="number"===m?"ol":"ul",this.__start=d}getTag(){return this.__tag}setListType(e){let d=this.getWritable();return d.__listType=e,d.__tag="number"===e?"ol":"ul",d}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){let d=this.getWritable();return d.__start=e,d}createDOM(e,d){let h=this.__tag,m=document.createElement(h);return 1!==this.__start&&m.setAttribute("start",String(this.__start)),m.__lexicalListType=this.__listType,oU(m,e.theme,this),m}updateDOM(e,d,h){return e.__tag!==this.__tag||(oU(d,h.theme,this),!1)}static transform(){return e=>{oH(e)||ob(163),function(e){let d=e.getNextSibling();oH(d)&&e.getListType()===d.getListType()&&oC(e,d)}(e),function(e){let d="check"!==e.getListType(),h=e.getStart();for(let m of e.getChildren())oB(m)&&(m.getValue()!==h&&m.setValue(h),d&&null!=m.getLatest().__checked&&m.setChecked(void 0),oH(m.getFirstChild())||h++)}(e)}}static importDOM(){return{ol:()=>({conversion:oz,priority:0}),ul:()=>({conversion:oz,priority:0})}}static importJSON(e){return oV().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){let d=this.createDOM(e._config,e);return ng(d)&&(1!==this.__start&&d.setAttribute("start",String(this.__start)),"check"===this.__listType&&d.setAttribute("__lexicalListType","check")),{element:d}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,d,h){let m=h;for(let e=0;e<h.length;e++){let d=h[e];oB(d)||(m===h&&(m=[...h]),m[e]=oM().append(!r9(d)||oH(d)||d.isInline()?d:i9(d.getTextContent())))}return super.splice(e,d,m)}extractWithChild(e){return oB(e)}}function oU(e,d,h){let m=[],g=[],y=d.list;if(void 0!==y){let e,d=y[`${h.__tag}Depth`]||[],b=ov(h)-1,v=b%d.length,w=d[v],S=y[h.__tag],x=y.nested,_=y.checklist;if(void 0!==x&&x.list&&(e=x.list),void 0!==S&&m.push(S),void 0!==_&&"check"===h.__listType&&m.push(_),void 0!==w){m.push(...oN(w));for(let e=0;e<d.length;e++)e!==v&&g.push(h.__tag+e)}if(void 0!==e){let d=oN(e);b>1?m.push(...d):g.push(...d)}}g.length>0&&V(e,...g),m.length>0&&q(e,...m)}function oF(e){let d=[];for(let h=0;h<e.length;h++){let m=e[h];if(oB(m)){d.push(m);let e=m.getChildren();e.length>1&&e.forEach(e=>{oH(e)&&d.push(o_(e))})}else d.push(o_(m))}return d}function oz(e){let d=e.nodeName.toLowerCase(),h=null;return"ol"===d?h=oV("number",e.start):"ul"===d&&(h=!function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list"))return!0;for(let d of e.childNodes)if(ng(d)&&d.hasAttribute("aria-checked"))return!0;return!1}(e)?oV("bullet"):oV("check")),{after:oF,node:h}}let oq={ol:"number",ul:"bullet"};function oV(e="number",d=1){return nl(new oj(e,d))}function oH(e){return e instanceof oj}t$("INSERT_UNORDERED_LIST_COMMAND"),t$("INSERT_ORDERED_LIST_COMMAND"),t$("INSERT_CHECK_LIST_COMMAND"),t$("REMOVE_LIST_COMMAND");var oK=h(23682);let oG={converter:async({converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w})=>{let S=await s_({converters:e,currentDepth:d,depth:h,draft:m,lexicalNodes:g.children,overrideAccess:y,parent:{...g,parent:b},req:v,showHiddenFields:w});return`<${g?.tag} class="list-${g?.listType}">${S}</${g?.tag}>`},nodeTypes:[oj.getType()]},oW={converter:async({converters:e,currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,parent:b,req:v,showHiddenFields:w})=>{let S=g.children.some(e=>"list"===e.type),x=await s_({converters:e,currentDepth:d,depth:h,draft:m,lexicalNodes:g.children,overrideAccess:y,parent:{...g,parent:b},req:v,showHiddenFields:w});if(!("listType"in b)||b?.listType!=="check")return`<li ${S?'class="nestedListItem" ':""}value=${g?.value}>${x}</li>`;{let e=(0,oK.A)();return`<li aria-checked=${g.checked?"true":"false"} class="${"list-item-checkbox"+(g.checked?" list-item-checkbox-checked":" list-item-checkbox-unchecked")+(S?" nestedListItem":"")}"
          role="checkbox"
          tabIndex=-1
          value=${g?.value}
      >
      ${S?x:`
        <input type="checkbox" id="${e}"${g.checked?" checked":""}>
        <label for="${e}">${x}</label><br>
      `}


          </li>`}},nodeTypes:[oI.getType()]},oJ=4,oQ=e=>(d,h,m)=>{let g=d.getPreviousSibling(),y=d.getNextSibling(),b=oM("check"===e?"x"===m[3]:void 0);if(oH(y)&&y.getListType()===e){let e=y.getFirstChild();null!==e?e.insertBefore(b):y.append(b),d.remove()}else if(oH(g)&&g.getListType()===e)g.append(b),d.remove();else{let h=oV(e,"number"===e?Number(m[2]):void 0);h.append(b),d.replace(h)}b.append(...h),b.select(0,0);let v=Math.floor(m[1].length/oJ);v&&b.setIndent(v)},oY=(e,d,h)=>{let m=[],g=e.getChildren(),y=0;for(let b of g)if(oB(b)){if(1===b.getChildrenSize()){let e=b.getFirstChild();if(oH(e)){m.push(oY(e,d,h+1));continue}}let g=" ".repeat(h*oJ),v=e.getListType(),w="number"===v?`${e.getStart()+y}. `:"check"===v?`- [${b.getChecked()?"x":" "}] `:"- ";m.push(g+w+d(b)),y++}return m.join("\n")},oX={type:"element",dependencies:[oj,oI],export:(e,d)=>oH(e)?oY(e,d,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:oQ("check")},oZ={ar:{label:" "},az:{label:"Yoxlama Siyahs"},bg:{label:"  "},cs:{label:"Seznam kontrol"},da:{label:"Tjekliste"},de:{label:"Checkliste"},en:{label:"Check List"},es:{label:"Lista de comprobaci\xf3n"},et:{label:""},fa:{label:" "},fr:{label:"Liste de contr\xf4le"},he:{label:" "},hr:{label:"Kontrolni popis"},hu:{label:"Ellenrzlista"},it:{label:"Lista di controllo"},ja:{label:""},ko:{label:" "},my:{label:"Senarai Semak"},nb:{label:"Sjekkliste"},nl:{label:"Checklist"},pl:{label:"Lista kontrolna"},pt:{label:"Lista de Verifica\xe7\xe3o"},ro:{label:"List de verificare"},rs:{label:" "},"rs-latin":{label:"Kontrolna lista"},ru:{label:" "},sk:{label:"Kontroln\xfd zoznam"},sl:{label:"Nimekiri"},sv:{label:"Kontrollista"},th:{label:""},tr:{label:"Kontrol Listesi"},uk:{label:" "},vi:{label:"Danh s\xe1ch kim tra"},zh:{label:""},"zh-TW":{label:""}},o1=C({feature:({featureProviderMap:e})=>({ClientFeature:"@payloadcms/richtext-lexical/client#ChecklistFeatureClient",i18n:oZ,markdownTransformers:[oX],nodes:e.has("unorderedList")||e.has("orderedList")?[]:[sE({converters:{html:oG},node:oj}),sE({converters:{html:oW},node:oI})]}),key:"checklist"}),o0={type:"element",dependencies:[oj,oI],export:(e,d)=>oH(e)?oY(e,d,0):null,regExp:/^(\s*)(\d+)\.\s/,replace:oQ("number")},o2={ar:{label:" "},az:{label:"Sral Siyah"},bg:{label:" "},cs:{label:"Seazen\xfd seznam"},da:{label:"Ordnet Liste"},de:{label:"Geordnete Liste"},en:{label:"Ordered List"},es:{label:"Lista ordenada"},et:{label:"Sorteeritud loend"},fa:{label:"  "},fr:{label:"Liste ordonn\xe9e"},he:{label:" "},hr:{label:"Narueni popis"},hu:{label:"Rendelt lista"},it:{label:"Elenco ordinato"},ja:{label:""},ko:{label:" "},my:{label:" "},nb:{label:"Ordnet Liste"},nl:{label:"Geordende Lijst"},pl:{label:"Uporzdkowana lista"},pt:{label:"Lista Ordenada"},ro:{label:"Lista ordonat"},rs:{label:" "},"rs-latin":{label:"Ureena lista"},ru:{label:" "},sk:{label:"Zoraden\xfd zoznam"},sl:{label:"Urejen seznam"},sv:{label:"Ordnad Lista"},th:{label:""},tr:{label:"Sral Liste"},uk:{label:" "},vi:{label:"Danh s\xe1ch \xe3 sp xp"},zh:{label:""},"zh-TW":{label:""}},o4=C({feature:({featureProviderMap:e})=>({ClientFeature:"@payloadcms/richtext-lexical/client#OrderedListFeatureClient",i18n:o2,markdownTransformers:[o0],nodes:e.has("unorderedList")?[]:[sE({converters:{html:oG},node:oj}),sE({converters:{html:oW},node:oI})]}),key:"orderedList"}),o6=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnorderedListFeatureClient",i18n:{ar:{label:"  "},az:{label:"Srasz Siyah"},bg:{label:" "},cs:{label:"Neuspo\xe1dan\xfd seznam"},da:{label:"Usorteret Liste"},de:{label:"Ungeordnete Liste"},en:{label:"Unordered List"},es:{label:"Lista desordenada"},et:{label:"Sorteerimata loend"},fa:{label:"  "},fr:{label:"Liste non ordonn\xe9e"},he:{label:"  "},hr:{label:"Neureeni popis"},hu:{label:"Rendezetlen lista"},it:{label:"Elenco non ordinato"},ja:{label:""},ko:{label:" "},my:{label:"Senarai Tidak Tertib"},nb:{label:"Usortert liste"},nl:{label:"Ongeordende lijst"},pl:{label:"Nieuporzdkowana lista"},pt:{label:"Lista N\xe3o Ordenada"},ro:{label:"List neordonat"},rs:{label:" "},"rs-latin":{label:"Neureena lista"},ru:{label:" "},sk:{label:"Neusporiadan\xfd zoznam"},sl:{label:"Neurejen seznam"},sv:{label:"Oordnad lista"},th:{label:""},tr:{label:"Srasz Liste"},uk:{label:" "},vi:{label:"Danh s\xe1ch kh\xf4ng theo th t"},zh:{label:""},"zh-TW":{label:""}},markdownTransformers:[{type:"element",dependencies:[oj,oI],export:(e,d)=>oH(e)?oY(e,d,0):null,regExp:/^(\s*)[-*+]\s/,replace:oQ("bullet")}],nodes:[sE({converters:{html:oG},node:oj}),sE({converters:{html:oW},node:oI})]},key:"unorderedList"}),o3=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ParagraphFeatureClient",clientFeatureProps:null,i18n:{ar:{label:"",label2:" "},az:{label:"Paraqraf",label2:"Normal Mtn"},bg:{label:"",label2:" "},cs:{label:"Odstavec",label2:"Norm\xe1ln\xed text"},da:{label:"Afsnit",label2:"Normal tekst"},de:{label:"Paragraph",label2:"Normaler Text"},en:{label:"Paragraph",label2:"Normal Text"},es:{label:"P\xe1rrafo",label2:"Texto normal"},et:{label:"Paragrahv",label2:"Tavaline tekst"},fa:{label:"",label2:" "},fr:{label:"Paragraphe",label2:"Texte normal"},he:{label:"",label2:" "},hr:{label:"Odlomak",label2:"Normalan tekst"},hu:{label:"Bekezd\xe9s",label2:"Norm\xe1l sz\xf6veg"},it:{label:"Paragrafo",label2:"Testo normale"},ja:{label:"",label2:""},ko:{label:"",label2:" "},my:{label:"Perenggan",label2:""},nb:{label:"Avsnitt",label2:"Normal tekst"},nl:{label:"Paragraaf",label2:"Normale tekst"},pl:{label:"Akapit",label2:"Normalny tekst"},pt:{label:"Par\xe1grafo",label2:"Texto Normal"},ro:{label:"Paragraf",label2:"Text normal"},rs:{label:"",label2:"O "},"rs-latin":{label:"Paragraf",label2:"Obian tekst"},ru:{label:"",label2:" "},sk:{label:"Odsek",label2:"Norm\xe1lny text"},sl:{label:"Odstavek",label2:"Navaden besedilo"},sv:{label:"Stycke",label2:"Normal Text"},th:{label:"",label2:""},tr:{label:"Paragraf",label2:"Normal Metin"},uk:{label:"",label2:" "},vi:{label:"on vn",label2:"Vn bn b\xecnh thng"},zh:{label:"",label2:""},"zh-TW":{label:"",label2:""}}},key:"paragraph"});var o5=h(73243);let o8=async({id:e,collectionSlug:d,currentDepth:h,data:m,depth:g,draft:y,key:b,overrideAccess:v,req:w,select:S,showHiddenFields:x})=>{if(!(g&&h<=g))return;let _=m,E=await w.payloadDataLoader?.load((0,o5.h)({collectionSlug:d,currentDepth:h+1,depth:g,docID:e,draft:y,fallbackLocale:w.fallbackLocale,locale:w.locale,overrideAccess:v,select:S,showHiddenFields:x,transactionID:w.transactionID}));E?_[b]=E:_[b]=null},o9=e=>({currentDepth:d,depth:h,draft:m,node:g,overrideAccess:y,populationPromises:b,req:v,showHiddenFields:w})=>{if(g?.value){let S=g?.value?.id||g?.value,x=v.payload.collections[g?.relationTo];if(x){let _=e?.maxDepth!==void 0&&e?.maxDepth<h?e?.maxDepth:h;b.push(o8({id:S,collectionSlug:x.config.slug,currentDepth:d,data:g,depth:_,draft:m,key:"value",overrideAccess:y,req:v,showHiddenFields:w}))}}},o7={ar:{label:""},az:{label:"M\xfcnasibt"},bg:{label:""},cs:{label:"Vztah"},da:{label:"Forhold"},de:{label:"Beziehung"},en:{label:"Relationship"},es:{label:"Relaci\xf3n"},et:{label:"Seos"},fa:{label:""},fr:{label:"Relation"},he:{label:""},hr:{label:"Odnos"},hu:{label:"Kapcsolat"},it:{label:"Relazione"},ja:{label:""},ko:{label:""},my:{label:"Hubungan"},nb:{label:"Forhold"},nl:{label:"Relatie"},pl:{label:"Relacja"},pt:{label:"Relacionamento"},ro:{label:"Relaie"},rs:{label:""},"rs-latin":{label:"Relacija"},ru:{label:""},sk:{label:"Vzah"},sl:{label:"Odnos"},sv:{label:"Relation"},th:{label:""},tr:{label:"liki"},uk:{label:""},vi:{label:"Mi quan h"},zh:{label:""},"zh-TW":{label:""}};class le extends ae{constructor(e,d){super(d),this.__format=e||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(e){let d=this.getWritable();return d.__format=e,d}isInline(){return!1}}function lt(e){let d=e.getAttribute("data-lexical-relationship-id"),h=e.getAttribute("data-lexical-relationship-relationTo");return null!=d&&null!=h?{node:lr({relationTo:h,value:d})}:null}class li extends le{__data;constructor({data:e,format:d,key:h}){super(d,h),this.__data=e}static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"relationship"}static importDOM(){return{div:e=>e.hasAttribute("data-lexical-relationship-relationTo")&&e.hasAttribute("data-lexical-relationship-id")?{conversion:lt,priority:2}:null}}static importJSON(e){1===e.version&&e?.value?.id&&(e.value=e.value.id);let d=lr({relationTo:e.relationTo,value:e.value});return d.setFormat(e.format),d}static isInline(){return!1}decorate(e,d){return null}exportDOM(){let e=document.createElement("div");e.setAttribute("data-lexical-relationship-id",String("object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value)),e.setAttribute("data-lexical-relationship-relationTo",this.__data?.relationTo);let d=document.createTextNode(this.getTextContent());return e.append(d),{element:e}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"relationship",version:2}}getData(){return this.getLatest().__data}getTextContent(){return`${this.__data?.relationTo} relation to ${"object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value}`}setData(e){this.getWritable().__data=e}}function lr(e){return new li({data:e})}let la=C({feature:({props:e})=>{let{maxDepth:d,...h}=e??{};return{ClientFeature:"@payloadcms/richtext-lexical/client#RelationshipFeatureClient",clientFeatureProps:h,i18n:o7,nodes:[sE({graphQLPopulationPromises:[o9(e)],hooks:{afterRead:[({currentDepth:e,depth:h,draft:m,node:g,overrideAccess:y,populateArg:b,populationPromises:v,req:w,showHiddenFields:S})=>{if(!g?.value)return g;let x=w.payload.collections[g?.relationTo];if(!x)return g;let _=g?.value?.id||g?.value,E=void 0!==d&&d<h?d:h;return v.push(o8({id:_,collectionSlug:x.config.slug,currentDepth:e,data:g,depth:E,draft:m,key:"value",overrideAccess:y,req:w,select:b?.[x.config.slug]??x.config.defaultPopulate,showHiddenFields:S})),g}]},node:li})]}},key:"relationship"}),ln=C({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineToolbarFeatureClient"},key:"toolbarInline"}),ls=e=>({context:d,currentDepth:h,depth:m,draft:g,editorPopulationPromises:y,field:b,fieldPromises:v,findMany:w,flattenLocales:S,node:x,overrideAccess:_,parentIsLocalized:E,populationPromises:T,req:k,showHiddenFields:C})=>{if(x?.value){let P=k.payload.collections[x?.relationTo];if(P){let O=x?.value?.id||x?.value,I=e?.maxDepth!==void 0&&e?.maxDepth<m?e?.maxDepth:m;T.push(o8({id:O,collectionSlug:P.config.slug,currentDepth:h,data:x,depth:I,draft:g,key:"value",overrideAccess:_,req:k,showHiddenFields:C}));let R=e?.collections?.[x?.relationTo]?.fields;if(Array.isArray(R)){if(!R?.length)return;s9({context:d,currentDepth:h,data:x.fields||{},depth:m,parentIsLocalized:E||b.localized||!1,draft:g,editorPopulationPromises:y,fieldPromises:v,fields:R,findMany:w,flattenLocales:S,overrideAccess:_,populationPromises:T,req:k,showHiddenFields:C,siblingDoc:x.fields||{}})}}}},lo={ar:{label:""},az:{label:"Y\xfcklyin"},bg:{label:""},cs:{label:"Nahr\xe1t"},da:{label:"Upload"},de:{label:"Datei"},en:{label:"Upload"},es:{label:"Subir"},et:{label:"Lae \xfcles"},fa:{label:""},fr:{label:"T\xe9l\xe9charger"},he:{label:""},hr:{label:"Prenesi"},hu:{label:"Felt\xf6lt\xe9s"},it:{label:"Carica"},ja:{label:""},ko:{label:""},my:{label:""},nb:{label:"Last opp"},nl:{label:"Uploaden"},pl:{label:"Przelij"},pt:{label:"Carregar"},ro:{label:"\xcencarc"},rs:{label:""},"rs-latin":{label:"Otpremi"},ru:{label:""},sk:{label:"Nahra"},sl:{label:"Naloi"},sv:{label:"Ladda upp"},th:{label:""},tr:{label:"Y\xfckle"},uk:{label:""},vi:{label:"Ti l\xean"},zh:{label:""},"zh-TW":{label:""}};var ll=h(66394);function ld(e){return null!=e.parentElement&&"LI"===e.parentElement.tagName&&null===e.previousSibling&&"checkbox"===e.getAttribute("aria-roledescription")}function lc(e){if(e.hasAttribute("data-lexical-upload-relation-to")&&e.hasAttribute("data-lexical-upload-id")){let d=e.getAttribute("data-lexical-upload-id"),h=e.getAttribute("data-lexical-upload-relation-to");if(null!=d&&null!=h)return{node:lu({data:{fields:{},relationTo:h,value:d}})}}let d=e;return d.src.startsWith("file:///")||ld(d),null}h(835);class lp extends le{__data;constructor({data:e,format:d,key:h}){super(d,h),this.__data=e}static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"upload"}static importDOM(){return{img:e=>({conversion:lc,priority:0})}}static importJSON(e){1===e.version&&e?.value?.id&&(e.value=e.value.id),2!==e.version||e?.id||(e.id=new sY.default().toHexString(),e.version=3);let d=lu({data:{id:e.id,fields:e.fields,relationTo:e.relationTo,value:e.value}});return d.setFormat(e.format),d}static isInline(){return!1}decorate(){return(0,ll.jsx)(RawUploadComponent,{data:this.__data,format:this.__format,nodeKey:this.getKey()})}exportDOM(){let e=document.createElement("img");return e.setAttribute("data-lexical-upload-id",String(this.__data?.value)),e.setAttribute("data-lexical-upload-relation-to",this.__data?.relationTo),{element:e}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"upload",version:3}}getData(){return this.getLatest().__data}setData(e){this.getWritable().__data=e}updateDOM(){return!1}}function lu({data:e}){return e?.id||(e.id=new sY.default().toHexString()),nl(new lp({data:e}))}var lh=h(86404);let lm=e=>async({node:d,validation:{options:{id:h,data:m,operation:g,preferences:y,req:b,req:{payload:v,t:w}}}})=>{let S=v.collections[d.relationTo]?.customIDType||v.db.defaultIDType,x=d?.value?.id||d?.value;if(!(0,lh.m)(x,S))return w("validation:validUploadID");if(!e?.collections||0===Object.keys(e?.collections).length)return!0;let _=e?.collections[d.relationTo];if(!_?.fields?.length)return!0;let E=await (0,oo.d)({id:h,collectionSlug:d.relationTo,data:d?.fields??{},documentData:m,fields:_.fields,fieldSchemaMap:void 0,initialBlockData:d?.fields??{},operation:"create"===g||"update"===g?g:"update",permissions:{},preferences:y,renderAllFields:!1,req:b,schemaPath:""}),T=new Set;for(let e in E){let d=E[e];if(d?.errorPaths?.length)for(let e of d.errorPaths)T.add(e)}let k=Array.from(T);return!k.length||"The following fields are invalid: "+k.join(", ")};function lf(e,d){return e?.startsWith("http")?e:(d?.config?.serverURL||"")+e}let lg=C({feature:async({config:e,isRoot:d,parentIsLocalized:h,props:m})=>{m||(m={collections:{}});let g={collections:{}};if(m.collections)for(let e in m.collections)g.collections[e]={hasExtraFields:m.collections[e].fields.length>=1};let y=e.collections.map(e=>e.slug)||[];for(let g in m.collections){let b=m.collections[g];b.fields?.length&&(b.fields=await (0,sQ.b)({config:e,fields:b.fields,parentIsLocalized:h,requireFieldLevelRichTextEditor:d,validRelationships:y}))}return{ClientFeature:"@payloadcms/richtext-lexical/client#UploadFeatureClient",clientFeatureProps:g,generateSchemaMap:({props:e})=>{if(!e?.collections)return null;let d=new Map;for(let h in e.collections){let m=e.collections[h];m.fields?.length&&d.set(h,{fields:m.fields})}return d},i18n:lo,nodes:[sE({converters:{html:{converter:async({currentDepth:e,depth:d,draft:h,node:m,overrideAccess:g,req:y,showHiddenFields:b})=>{let v=m?.value?.id||m?.value;if(!y?.payload)return`<img src="${v}" />`;{let w={};try{await o8({id:v,collectionSlug:m.relationTo,currentDepth:e,data:w,depth:d,draft:h,key:"value",overrideAccess:g,req:y,showHiddenFields:b})}catch(e){return console.error("Lexical upload node HTML converter: error fetching upload file",e,"Node:",m),"<img />"}let S=lf(w?.value?.url??"",y?.payload);if(!w?.value?.mimeType?.startsWith("image"))return`<a href="${S}" rel="noopener noreferrer">${w.value?.filename}</a>`;if(!w?.value?.sizes||!Object.keys(w?.value?.sizes).length)return`<img src="${S}" alt="${w?.value?.filename}" width="${w?.value?.width}"  height="${w?.value?.height}"/>`;let x="<picture>";for(let e in w.value?.sizes){let d=w.value.sizes[e];if(!d.width||!d.height||!d.mimeType||!d.filesize||!d.filename||!d.url)continue;let h=lf(d?.url,y?.payload);x+=`<source srcset="${h}" media="(max-width: ${d.width}px)" type="${d.mimeType}">`}return x+`<img src="${S}" alt="Image" width="${w.value?.width}" height="${w.value?.height}"></picture>`}},nodeTypes:[lp.getType()]}},getSubFields:({node:e,req:d})=>{if(!e){let e=[];for(let d in m?.collections){let h=m.collections[d].fields;e=e.concat(h)}return e}if(d?d.payload.collections[e?.relationTo]:null){let d=m?.collections?.[e?.relationTo]?.fields;if(Array.isArray(d))return d?.length?d:null}return null},getSubFieldsData:({node:e})=>e?.fields,graphQLPopulationPromises:[ls(m)],hooks:{afterRead:[({currentDepth:e,depth:d,draft:h,node:g,overrideAccess:y,populateArg:b,populationPromises:v,req:w,showHiddenFields:S})=>{if(!g?.value)return g;let x=w.payload.collections[g?.relationTo];if(!x)return g;let _=g?.value?.id||g?.value,E=m?.maxDepth!==void 0&&m?.maxDepth<d?m?.maxDepth:d;return v.push(o8({id:_,collectionSlug:x.config.slug,currentDepth:e,data:g,depth:E,draft:h,key:"value",overrideAccess:y,req:w,select:b?.[x.config.slug]??x.config.defaultPopulate,showHiddenFields:S})),g}]},node:lp,validations:[lm(m)]})],sanitizedServerFeatureProps:m}},key:"upload"}),ly={namespace:"lexical",theme:{block:"LexicalEditorTheme__block",blockCursor:"LexicalEditorTheme__blockCursor",characterLimit:"LexicalEditorTheme__characterLimit",code:"LexicalEditorTheme__code",codeHighlight:{atrule:"LexicalEditorTheme__tokenAttr",attr:"LexicalEditorTheme__tokenAttr",boolean:"LexicalEditorTheme__tokenProperty",builtin:"LexicalEditorTheme__tokenSelector",cdata:"LexicalEditorTheme__tokenComment",char:"LexicalEditorTheme__tokenSelector",class:"LexicalEditorTheme__tokenFunction","class-name":"LexicalEditorTheme__tokenFunction",comment:"LexicalEditorTheme__tokenComment",constant:"LexicalEditorTheme__tokenProperty",deleted:"LexicalEditorTheme__tokenProperty",doctype:"LexicalEditorTheme__tokenComment",entity:"LexicalEditorTheme__tokenOperator",function:"LexicalEditorTheme__tokenFunction",important:"LexicalEditorTheme__tokenVariable",inserted:"LexicalEditorTheme__tokenSelector",keyword:"LexicalEditorTheme__tokenAttr",namespace:"LexicalEditorTheme__tokenVariable",number:"LexicalEditorTheme__tokenProperty",operator:"LexicalEditorTheme__tokenOperator",prolog:"LexicalEditorTheme__tokenComment",property:"LexicalEditorTheme__tokenProperty",punctuation:"LexicalEditorTheme__tokenPunctuation",regex:"LexicalEditorTheme__tokenVariable",selector:"LexicalEditorTheme__tokenSelector",string:"LexicalEditorTheme__tokenSelector",symbol:"LexicalEditorTheme__tokenProperty",tag:"LexicalEditorTheme__tokenProperty",url:"LexicalEditorTheme__tokenOperator",variable:"LexicalEditorTheme__tokenVariable"},embedBlock:{base:"LexicalEditorTheme__embedBlock",focus:"LexicalEditorTheme__embedBlockFocus"},hashtag:"LexicalEditorTheme__hashtag",heading:{h1:"LexicalEditorTheme__h1",h2:"LexicalEditorTheme__h2",h3:"LexicalEditorTheme__h3",h4:"LexicalEditorTheme__h4",h5:"LexicalEditorTheme__h5",h6:"LexicalEditorTheme__h6"},hr:"LexicalEditorTheme__hr",hrSelected:"LexicalEditorTheme__hrSelected",indent:"LexicalEditorTheme__indent",inlineImage:"LexicalEditor__inline-image",link:"LexicalEditorTheme__link",list:{checklist:"LexicalEditorTheme__checklist",listitem:"LexicalEditorTheme__listItem",listitemChecked:"LexicalEditorTheme__listItemChecked",listitemUnchecked:"LexicalEditorTheme__listItemUnchecked",nested:{listitem:"LexicalEditorTheme__nestedListItem"},olDepth:["LexicalEditorTheme__ol1","LexicalEditorTheme__ol2","LexicalEditorTheme__ol3","LexicalEditorTheme__ol4","LexicalEditorTheme__ol5"],ul:"LexicalEditorTheme__ul"},ltr:"LexicalEditorTheme__ltr",mark:"LexicalEditorTheme__mark",markOverlap:"LexicalEditorTheme__markOverlap",paragraph:"LexicalEditorTheme__paragraph",quote:"LexicalEditorTheme__quote",relationship:"LexicalEditorTheme__relationship",rtl:"LexicalEditorTheme__rtl",tab:"LexicalEditorTheme__tabNode",table:"LexicalEditorTheme__table",tableAddColumns:"LexicalEditorTheme__tableAddColumns",tableAddRows:"LexicalEditorTheme__tableAddRows",tableAlignment:{center:"LexicalEditorTheme__tableAlignmentCenter",right:"LexicalEditorTheme__tableAlignmentRight"},tableCell:"LexicalEditorTheme__tableCell",tableCellActionButton:"LexicalEditorTheme__tableCellActionButton",tableCellActionButtonContainer:"LexicalEditorTheme__tableCellActionButtonContainer",tableCellHeader:"LexicalEditorTheme__tableCellHeader",tableCellResizer:"LexicalEditorTheme__tableCellResizer",tableCellSelected:"LexicalEditorTheme__tableCellSelected",tableFrozenColumn:"LexicalEditorTheme__tableFrozenColumn",tableRowStriping:"LexicalEditorTheme__tableRowStriping",tableScrollableWrapper:"LexicalEditorTheme__tableScrollableWrapper",tableSelected:"LexicalEditorTheme__tableSelected",tableSelection:"LexicalEditorTheme__tableSelection",text:{bold:"LexicalEditorTheme__textBold",code:"LexicalEditorTheme__textCode",italic:"LexicalEditorTheme__textItalic",strikethrough:"LexicalEditorTheme__textStrikethrough",subscript:"LexicalEditorTheme__textSubscript",superscript:"LexicalEditorTheme__textSuperscript",underline:"LexicalEditorTheme__textUnderline",underlineStrikethrough:"LexicalEditorTheme__textUnderlineStrikethrough"},upload:"editor-upload"}},lb=[sN(),sI(),s$(),sR(),sD(),sL(),sO(),o3(),sU(),P(),sW(),o6(),o4(),o1(),od(),la(),sT(),lg(),sK(),ln()],lv={features:lb,lexical:ly};function lw(e){let d={};for(let h of e)d[h.key]={dependencies:h.dependencies||[],dependenciesPriority:h.dependenciesPriority||[],dependenciesSoft:h.dependenciesSoft||[],featureProvider:h};return d}function lS(e){let d=lw(e),h={},m=[];for(let e in d)h[e]||lx(d,e,h,m);return m.reverse()}function lx(e,d,h,m,g=[]){if(!e[d])throw Error(`Feature key ${d} is not present in the dependency graph.`);if(g.includes(d))throw Error(`Circular dependency detected: ${g.join(" -> ")} -> ${d}`);if(!h[d]){for(let y of(h[d]=!0,g.push(d),e[d].dependenciesPriority))h[y]||lx(e,y,h,m,g);for(let y of e[d].dependencies)h[y]||e[d].dependenciesPriority.includes(y)||lx(e,y,h,m,g);for(let y of e[d].dependenciesSoft)!e[y]||h[y]||e[d].dependenciesPriority.includes(y)||e[d].dependencies.includes(y)||lx(e,y,h,m,g);m.push(e[d].featureProvider),g.pop()}}function l_(e){return lS(e)}async function lE({config:e,isRoot:d,parentIsLocalized:h,unSanitizedEditorConfig:m}){m.features=m.features.reverse().filter((e,d,h)=>h.findIndex(d=>d.key===e.key)===d).reverse(),m.features=l_(m.features);let g=new Map(m.features.map(e=>[e.key,e])),y=new Map,b=0;for(let v of m.features){if(!v.key)throw Error("A Feature you've added does not have a key. Please add a key to the feature. This is used to uniquely identify the feature.");if(v.dependencies?.length){for(let e of v.dependencies)if(!m.features.find(d=>d.key===e))throw Error(`Feature ${v.key} has a dependency ${e} which does not exist.`)}if(v.dependenciesPriority?.length){for(let e of v.dependenciesPriority)if(!y.get(e)){if(m.features.find(d=>d.key===e))throw Error(`Feature ${v.key} has a priority dependency ${e} which is not loaded before it.`);throw Error(`Feature ${v.key} has a priority dependency ${e} which does not exist.`)}}let w="function"==typeof v.feature?await v.feature({config:e,featureProviderMap:g,isRoot:d,parentIsLocalized:h,resolvedFeatures:y,unSanitizedEditorConfig:m}):v.feature;w.key=v.key,w.order=b,w.dependencies=v.dependencies,w.dependenciesPriority=v.dependenciesPriority,w.dependenciesSoft=v.dependenciesSoft,y.set(v.key,w),b++}return y}let lT=e=>{let d={converters:{html:[]},enabledFeatures:[],generatedTypes:{modifyOutputSchemas:[]},getSubFields:new Map,getSubFieldsData:new Map,graphQLPopulationPromises:new Map,hooks:{afterChange:[],afterRead:[],beforeChange:[],beforeValidate:[]},i18n:{},markdownTransformers:[],nodeHooks:{afterChange:new Map,afterRead:new Map,beforeChange:new Map,beforeValidate:new Map},nodes:[],validations:new Map};return e?.size&&e.forEach(e=>{if(e?.generatedTypes?.modifyOutputSchema&&d.generatedTypes.modifyOutputSchemas.push(e.generatedTypes.modifyOutputSchema),e?.hooks?.beforeValidate?.length&&(d.hooks.beforeValidate=d.hooks.beforeValidate?.concat(e.hooks.beforeValidate)),e?.hooks?.beforeChange?.length&&(d.hooks.beforeChange=d.hooks.beforeChange?.concat(e.hooks.beforeChange)),e?.hooks?.afterRead?.length&&(d.hooks.afterRead=d.hooks.afterRead?.concat(e.hooks.afterRead)),e?.hooks?.afterChange?.length&&(d.hooks.afterChange=d.hooks.afterChange?.concat(e.hooks.afterChange)),e?.i18n)for(let h in e.i18n)d.i18n[h]||(d.i18n[h]={lexical:{}}),d.i18n[h].lexical[e.key]=e.i18n[h];if(e.nodes?.length){for(let h of e.nodes)d.nodes.push(h);e.nodes.forEach(e=>{let h="with"in e.node?e.node.replace.getType():e.node.getType();e?.graphQLPopulationPromises?.length&&d.graphQLPopulationPromises.set(h,e.graphQLPopulationPromises),e?.validations?.length&&d.validations.set(h,e.validations),e?.converters?.html&&d.converters.html.push(e.converters.html),e?.hooks?.afterChange&&d.nodeHooks?.afterChange?.set(h,e.hooks.afterChange),e?.hooks?.afterRead&&d.nodeHooks?.afterRead?.set(h,e.hooks.afterRead),e?.hooks?.beforeChange&&d.nodeHooks?.beforeChange?.set(h,e.hooks.beforeChange),e?.hooks?.beforeValidate&&d.nodeHooks?.beforeValidate?.set(h,e.hooks.beforeValidate),e?.getSubFields&&d.getSubFields?.set(h,e.getSubFields),e?.getSubFieldsData&&d.getSubFieldsData?.set(h,e.getSubFieldsData)})}if(e.markdownTransformers?.length)for(let h of e.markdownTransformers)"function"==typeof h?d.markdownTransformers.push(h({allNodes:d.nodes,allTransformers:d.markdownTransformers})):d.markdownTransformers.push(h);d.enabledFeatures.push(e.key)}),d};async function lk(e,d,h){let m=await lE({config:d,parentIsLocalized:h,unSanitizedEditorConfig:e});return{features:lT(m),lexical:e.lexical,resolvedFeatureMap:m}}let lC=global._payload_lexical_defaultSanitizedServerEditorConfig;lC||(lC=global._payload_lexical_defaultSanitizedServerEditorConfig=null);let lA=async e=>{let{config:d,parentIsLocalized:h}=e;return lC?await lC:(lC=lk(lv,d,h),global.payload_lexical_defaultSanitizedServerEditorConfig=lC,lC=await lC,global.payload_lexical_defaultSanitizedServerEditorConfig=lC,lC)},lP={ar:{placeholder:"     '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},az:{placeholder:"Yazmaa balayn v ya mrlr \xfc\xe7\xfcn '/' d\xfcymsini basn...",slashMenuBasicGroupLabel:"sas",slashMenuListGroupLabel:"Siyahlar",toolbarItemsActive:"{{count}} aktiv"},bg:{placeholder:"     '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},cs:{placeholder:"Zante ps\xe1t nebo stisknte '/' pro p\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xed",slashMenuListGroupLabel:"Seznamy",toolbarItemsActive:"{{count}} aktivn\xed"},da:{placeholder:"Begynd at skrive, eller tryk p\xe5 '/' for kommandoer...",slashMenuBasicGroupLabel:"Grundl\xe6ggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktive"},de:{placeholder:"Beginne zu tippen oder dr\xfccke '/' f\xfcr Befehle...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Listen",toolbarItemsActive:"{{count}} aktiv"},en:{placeholder:"Start typing, or press '/' for commands...",slashMenuBasicGroupLabel:"Basic",slashMenuListGroupLabel:"Lists",toolbarItemsActive:"{{count}} active"},es:{placeholder:"Comience a escribir, o presione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} activo"},et:{placeholder:"Alusta kirjutamist v\xf5i vajuta '/' k\xe4skude jaoks...",slashMenuBasicGroupLabel:"P\xf5hiline",slashMenuListGroupLabel:"Loendid",toolbarItemsActive:"{{count}} aktiivne"},fa:{placeholder:"       '/'    ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:" ",toolbarItemsActive:"{{count}} "},fr:{placeholder:"Commencez \xe0 taper, ou appuyez sur '/' pour les commandes...",slashMenuBasicGroupLabel:"De base",slashMenuListGroupLabel:"Listes",toolbarItemsActive:"{{count}} actif"},he:{placeholder:" ,    '/'   ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},hr:{placeholder:"Ponite tipkati, ili pritisnite '/' za naredbe...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Popisi",toolbarItemsActive:"{{count}} aktivno"},hu:{placeholder:"Kezdje el g\xe9pelni, vagy nyomja meg a '/' billentyt a parancsokhoz...",slashMenuBasicGroupLabel:"Alapvet",slashMenuListGroupLabel:"List\xe1k",toolbarItemsActive:"{{count}} akt\xedv"},it:{placeholder:"Inizia a digitare, oppure premi '/' per i comandi...",slashMenuBasicGroupLabel:"Base",slashMenuListGroupLabel:"Elenchi",toolbarItemsActive:"{{count}} attivo"},ja:{placeholder:"'/'",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},ko:{placeholder:" ,   '/' ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},my:{placeholder:"Mula menaip, atau tekan '/' untuk arahan...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"Senarai",toolbarItemsActive:"{{count}} aktif"},nb:{placeholder:"Begynn \xe5 skrive, eller trykk '/' for kommandoer...",slashMenuBasicGroupLabel:"Grunnleggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktiv"},nl:{placeholder:"Begin met typen, of druk op '/' voor opdrachten...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Lijsten",toolbarItemsActive:"{{count}} actief"},pl:{placeholder:"Rozpocznij pisanie lub nacinij '/' dla polece...",slashMenuBasicGroupLabel:"Podstawowy",slashMenuListGroupLabel:"Listy",toolbarItemsActive:"{{count}} aktywny"},pt:{placeholder:"Comece a digitar, ou pressione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} ativo"},ro:{placeholder:"\xcencepei s tastai sau apsai '/' pentru comenzi...",slashMenuBasicGroupLabel:"De baz",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} activ"},rs:{placeholder:"  ,   '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},"rs-latin":{placeholder:"Ponite da kucate, ili pritisnite '/' za komande...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} aktivan"},ru:{placeholder:"    '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},sk:{placeholder:"Zanite p\xedsa alebo stlate '/' pre pr\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xfd",slashMenuListGroupLabel:"Zoznamy",toolbarItemsActive:"{{count}} akt\xedvne"},sl:{placeholder:'Zanite tipkati ali pritisnite "/" za ukaze...',slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Seznami",toolbarItemsActive:"{{count}} aktivno"},sv:{placeholder:"B\xf6rja skriva, eller tryck p\xe5 '/' f\xf6r kommandon...",slashMenuBasicGroupLabel:"Grundl\xe4ggande",slashMenuListGroupLabel:"Listor",toolbarItemsActive:"{{count}} aktiv"},th:{placeholder:" '/' ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},tr:{placeholder:"Yazmaya balayn veya komutlar i\xe7in '/' tuuna basn...",slashMenuBasicGroupLabel:"Temel",slashMenuListGroupLabel:"Listeler",toolbarItemsActive:"{{count}} aktif"},uk:{placeholder:" ,   '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},vi:{placeholder:"Bt u g\xf5, hoc nhn '/'  gi lnh...",slashMenuBasicGroupLabel:"C bn",slashMenuListGroupLabel:"Danh s\xe1ch",toolbarItemsActive:"{{count}} ang hot ng"},zh:{placeholder:"'/'...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},"zh-TW":{placeholder:"'/'...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "}};function lN({callback:e,nodes:d}){for(let h of d)e(h),"children"in h&&Array.isArray(h?.children)&&h?.children?.length&&lN({callback:e,nodes:h.children})}let lO=({context:e,currentDepth:d,depth:h,draft:m,editorPopulationPromises:g,field:y,fieldPromises:b,findMany:v,flattenLocales:w,overrideAccess:S,parentIsLocalized:x,populationPromises:_,req:E,showHiddenFields:T,siblingDoc:k})=>{h&&d<=h&&lN({callback:C=>{let P=g?.get(C.type);if(P)for(let O of P)O({context:e,currentDepth:d,depth:h,draft:m,editorPopulationPromises:g,field:y,fieldPromises:b,findMany:v,flattenLocales:w,node:C,overrideAccess:S,parentIsLocalized:x,populationPromises:_,req:E,showHiddenFields:T,siblingDoc:k})},nodes:k[y?.name]?.root?.children??[]})},lI=async e=>{let d=[];if(e.features&&"function"==typeof e.features){let h=e.config.editor,m=[];"object"==typeof h&&"features"in h&&(m=h.features),d=e.features({defaultFeatures:lb,rootFeatures:m})}else d=e.features;d||(d=lb);let h=e.lexical??lv.lexical,m=await lE({config:e.config,isRoot:e.isRoot??!1,parentIsLocalized:e.parentIsLocalized??!1,unSanitizedEditorConfig:{features:d,lexical:h}});return{features:d,resolvedFeatureMap:m,sanitizedConfig:{features:lT(m),lexical:e.lexical,resolvedFeatureMap:m}}};var lR=h(73146);let lD=e=>({addToImportMap:d,baseDir:h,config:m,importMap:g,imports:y})=>{for(let b of(d("@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell"),d("@payloadcms/richtext-lexical/rsc#RscEntryLexicalField"),d("@payloadcms/richtext-lexical/rsc#LexicalDiffComponent"),e.resolvedFeatureMap.values())){if("componentImports"in b){if("function"==typeof b.componentImports)b.componentImports({addToImportMap:d,baseDir:h,config:m,importMap:g,imports:y});else if(Array.isArray(b.componentImports)&&b.componentImports?.length)b.componentImports.forEach(e=>{d(e)});else if("object"==typeof b.componentImports)for(let e of Object.values(b.componentImports))d(e)}let e=b.ClientFeature;if(e&&d(e),b.nodes?.length)for(let e of b.nodes){if("function"!=typeof e?.getSubFields)continue;let b=e.getSubFields({});b?.length&&(0,lR.J)({addToImportMap:d,baseDir:h,config:m,fields:b,importMap:g,imports:y})}}};var lL=h(59621);let l$=e=>({config:d,field:h,i18n:m,schemaMap:g,schemaPath:y})=>{for(let[b,v]of e.resolvedFeatureMap.entries()){if(!("generateSchemaMap"in v)||"function"!=typeof v.generateSchemaMap)continue;let e=v.generateSchemaMap({config:d,field:h,i18n:m,props:v.sanitizedServerFeatureProps,schemaMap:g,schemaPath:y});if(e)for(let[h,v]of e.entries())"fields"in v&&(0,lL.m)({config:d,fields:v.fields,i18n:m,parentIndexPath:"",parentSchemaPath:`${y}.lexical_internal_feature.${b}.${h}`,schemaMap:g}),g.set(`${y}.lexical_internal_feature.${b}.${h}`,v)}return g},lM=({flattenedNodes:e,nodeIDMap:d,nodes:h})=>{if(h?.length)for(let m of h)e&&e.push(m),d&&(m&&"id"in m&&m.id?d[m.id]=m:"fields"in m&&"object"==typeof m.fields&&m.fields&&"id"in m.fields&&m?.fields?.id&&(d[m.fields.id]=m)),"children"in m&&Array.isArray(m?.children)&&m?.children?.length&&lM({flattenedNodes:e,nodeIDMap:d,nodes:m.children})};function lB(e){let d=!!e?.root?.children?.length,h=!1;if(e?.root?.children?.length===1&&e?.root?.children[0]?.type==="paragraph"){let d=e?.root?.children[0];if(d?.children&&d?.children?.length!==0){if(d?.children?.length===1){let e=d?.children[0];e?.type!=="text"||e?.text?.length||(h=!0)}}else h=!0}return!!d&&!h}async function lj({nodes:e,nodeValidations:d,validation:h}){for(let m of e){let e=d.get(m.type);if(e)for(let g of e){let e=await g({node:m,nodeValidations:d,validation:h});if(!0!==e)return`${m.type} node failed to validate: ${e}`}if("children"in m&&m?.children){let e=await lj({nodes:m.children,nodeValidations:d,validation:h});if(!0!==e)return e}}return!0}let lU=({editorConfig:e})=>async(d,h)=>{let{req:{t:m},required:g}=h;if(g&&!1===lB(d))return m("validation:required");let y=d?.root?.children;return!(y&&Array.isArray(y)&&y?.length)||await lj({nodes:y,nodeValidations:e.features.validations,validation:{options:h,value:d}})};function lF(e){return async({config:d,isRoot:h,parentIsLocalized:v})=>{let w,S,_=[];if(e&&(e.features||e.lexical)){let m=await lI({config:d,features:e?.features,isRoot:h,lexical:e?.lexical,parentIsLocalized:v});S=m.sanitizedConfig,_=m.features,w=m.resolvedFeatureMap}else S=await lA({config:d,parentIsLocalized:v}),_=lb,w=S.resolvedFeatureMap;let E=S.features.i18n;for(let e in lP)E[e]||(E[e]={lexical:{}}),E[e].lexical.general=lP[e];return{CellComponent:{path:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell",serverProps:{admin:e?.admin,sanitizedEditorConfig:S}},DiffComponent:{path:"@payloadcms/richtext-lexical/rsc#LexicalDiffComponent",serverProps:{admin:e?.admin,sanitizedEditorConfig:S}},editorConfig:S,features:_,FieldComponent:{path:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalField",serverProps:{admin:e?.admin,sanitizedEditorConfig:S}},generateImportMap:lD({resolvedFeatureMap:w}),generateSchemaMap:l$({resolvedFeatureMap:w}),graphQLPopulationPromises({context:e,currentDepth:d,depth:h,draft:m,field:g,fieldPromises:y,findMany:b,flattenLocales:v,overrideAccess:w,parentIsLocalized:x,populationPromises:_,req:E,showHiddenFields:T,siblingDoc:k}){S?.features?.graphQLPopulationPromises?.size&&lO({context:e,currentDepth:d??0,depth:h,draft:m,editorPopulationPromises:S.features.graphQLPopulationPromises,field:g,fieldPromises:y,findMany:b,flattenLocales:v,overrideAccess:w,parentIsLocalized:x,populationPromises:_,req:E,showHiddenFields:T,siblingDoc:k})},hooks:{afterChange:[async e=>{let{collection:d,context:h,data:g,field:y,global:b,indexPath:v,operation:w,originalDoc:x,parentIsLocalized:_,path:E,previousDoc:T,previousValue:k,req:C,schemaPath:P}=e,{value:O}=e;if(S?.features?.hooks?.afterChange?.length)for(let d of S.features.hooks.afterChange)O=await d(e);if(!S.features.nodeHooks?.afterChange?.size&&!S.features.getSubFields?.size)return O;let I=h,R={},D={},L=I?.internal?.richText?.[E.join(".")]?.originalNodeIDMap;if(!L||!Object.keys(L).length||!O)return O;for(let[e,h]of(lM({nodeIDMap:R,nodes:O?.root?.children??[]}),lM({nodeIDMap:D,nodes:k?.root?.children??[]}),Object.entries(R))){let k=S.features.nodeHooks?.afterChange,O=k?.get(h.type);if(O)for(let d of O){if(!L[e]){console.warn("(afterChange) No original node found for node with id",e,"node:",h,"path",E.join("."));continue}h=await d({context:I,node:h,operation:w,originalNode:L[e],parentRichTextFieldPath:E,parentRichTextFieldSchemaPath:P,previousNode:D[e],req:C})}let R=S.features.getSubFields?.get(h.type),$=S.features.getSubFieldsData?.get(h.type);if(R&&$){let S=R({node:h,req:C}),k=$({node:h,req:C})??{},O=$({node:L[e],req:C})??{},M=$({node:D[e],req:C})??{};S?.length&&await (0,m.m)({blockData:k,collection:d,context:I,data:g??{},doc:x,fields:S,global:b,operation:w,parentIndexPath:v.join("-"),parentIsLocalized:_||y.localized||!1,parentPath:E.join("."),parentSchemaPath:P.join("."),previousDoc:T,previousSiblingDoc:{...M},req:C,siblingData:k||{},siblingDoc:{...O}})}}return O}],afterRead:[async e=>{let{collection:d,context:h,currentDepth:m,depth:y,draft:b,fallbackLocale:v,field:w,fieldPromises:x,findMany:_,flattenLocales:E,global:T,indexPath:k,locale:C,originalDoc:P,overrideAccess:O,parentIsLocalized:I,path:R,populate:D,populationPromises:L,req:$,schemaPath:M,showHiddenFields:B,triggerAccessControl:j,triggerHooks:U}=e,{value:F}=e;if(S?.features?.hooks?.afterRead?.length)for(let d of S.features.hooks.afterRead)F=await d(e);if(!S.features.nodeHooks?.afterRead?.size&&!S.features.getSubFields?.size)return F;let z=[];for(let e of(lM({flattenedNodes:z,nodes:F?.root?.children??[]}),z)){let F=S.features.nodeHooks?.afterRead,z=F?.get(e.type);if(z)for(let d of z)e=await d({context:h,currentDepth:m,depth:y,draft:b,fallbackLocale:v,fieldPromises:x,findMany:_,flattenLocales:E,locale:C,node:e,overrideAccess:O,parentRichTextFieldPath:R,parentRichTextFieldSchemaPath:M,populateArg:D,populationPromises:L,req:$,showHiddenFields:B,triggerAccessControl:j,triggerHooks:U});let q=S.features.getSubFields?.get(e.type),V=S.features.getSubFieldsData?.get(e.type);if(q&&V){let S=q({node:e,req:$}),F=V({node:e,req:$})??{};S?.length&&(0,g.m)({blockData:F,collection:d,context:h,currentDepth:m,depth:y,doc:P,draft:b,fallbackLocale:v,fieldPromises:x,fields:S,findMany:_,flattenLocales:E,global:T,locale:C,overrideAccess:O,parentIndexPath:k.join("-"),parentIsLocalized:I||w.localized||!1,parentPath:R.join("."),parentSchemaPath:M.join("."),populate:D,populationPromises:L,req:$,showHiddenFields:B,siblingDoc:F,triggerAccessControl:j,triggerHooks:U})}}return F}],beforeChange:[async e=>{let{collection:d,context:h,data:m,docWithLocales:g,errors:b,field:v,fieldLabelPath:w,global:x,indexPath:_,mergeLocaleActions:E,operation:T,originalDoc:k,overrideAccess:C,parentIsLocalized:P,path:O,previousValue:I,req:R,schemaPath:D,siblingData:L,siblingDocWithLocales:$,skipValidation:M}=e,{value:B}=e;if(S?.features?.hooks?.beforeChange?.length)for(let d of S.features.hooks.beforeChange)B=await d(e);if(!S.features.nodeHooks?.beforeChange?.size&&!S.features.getSubFields?.size)return B;let j=h,U={},F=j?.internal?.richText?.[O.join(".")]?.originalNodeIDMap;if(!F||!Object.keys(F).length||!B)return B;let z={},q={};for(let[e,h]of(lM({nodeIDMap:U,nodes:B?.root?.children??[]}),lM({nodeIDMap:z,nodes:I?.root?.children??[]}),v.name&&$?.[v.name]&&lM({nodeIDMap:q,nodes:$[v.name]?.root?.children??[]}),Object.entries(U))){let I=S.features.nodeHooks?.beforeChange,L=I?.get(h.type);if(L)for(let d of L){if(!F[e]){console.warn("(beforeChange) No original node found for node with id",e,"node:",h,"path",O.join("."));continue}h=await d({context:j,errors:b,mergeLocaleActions:E,node:h,operation:T,originalNode:F[e],originalNodeWithLocales:q[e],parentRichTextFieldPath:O,parentRichTextFieldSchemaPath:D,previousNode:z[e],req:R,skipValidation:M})}let $=S.features.getSubFields?.get(h.type),B=S.features.getSubFieldsData?.get(h.type);if($&&B){let S=$({node:h,req:R}),I=B({node:h,req:R})??{},L=B({node:q[e],req:R})??{},U=B({node:z[e],req:R})??{};S?.length&&await (0,y.m)({id:e,blockData:I,collection:d,context:j,data:m??{},doc:k??{},docWithLocales:g??{},errors:b,fieldLabelPath:w,fields:S,global:x,mergeLocaleActions:E,operation:T,overrideAccess:C,parentIndexPath:_.join("-"),parentIsLocalized:P||v.localized||!1,parentPath:O.join("."),parentSchemaPath:D.join("."),req:R,siblingData:I,siblingDoc:U,siblingDocWithLocales:L??{},skipValidation:M})}}let V={},H=L[v.name];return lM({nodeIDMap:V,nodes:H?.root?.children??[]}),j.internal||(j.internal={}),j.internal.richText||(j.internal.richText={}),j.internal.richText[O.join(".")]={originalNodeIDMap:V},B}],beforeValidate:[async e=>{let{collection:d,context:h,data:m,field:g,global:y,indexPath:v,operation:w,originalDoc:x,overrideAccess:_,parentIsLocalized:E,path:T,previousValue:k,req:C,schemaPath:P}=e,{value:O}=e;if(S?.features?.hooks?.beforeValidate?.length)for(let d of S.features.hooks.beforeValidate)O=await d(e);if(!S.features.nodeHooks?.beforeValidate?.size&&!S.features.nodeHooks?.afterChange?.size&&!S.features.nodeHooks?.beforeChange?.size&&!S.features.getSubFields?.size)return O;let I={};if(lM({nodeIDMap:I,nodes:k?.root?.children??[]}),h.internal||(h.internal={}),h.internal.richText||(h.internal.richText={}),h.internal.richText[T.join(".")]={originalNodeIDMap:I},!S.features.nodeHooks?.beforeValidate?.size)return O;let R={};for(let[e,k]of(lM({nodeIDMap:R,nodes:O?.root?.children??[]}),Object.entries(R))){let O=S.features.nodeHooks.beforeValidate,R=O?.get(k.type);if(R)for(let d of R){if(!I[e]){console.warn("(beforeValidate) No original node found for node with id",e,"node:",k,"path",T.join("."));continue}k=await d({context:h,node:k,operation:w,originalNode:I[e],overrideAccess:_,parentRichTextFieldPath:T,parentRichTextFieldSchemaPath:P,req:C})}let D=S.features.getSubFields?.get(k.type),L=S.features.getSubFieldsData?.get(k.type);if(D&&L){let S=D({node:k,req:C}),O=L({node:k,req:C})??{},R=L({node:I[e],req:C})??{};S?.length&&await (0,b.m)({id:e,blockData:O,collection:d,context:h,data:m,doc:x,fields:S,global:y,operation:w,overrideAccess:_,parentIndexPath:v.join("-"),parentIsLocalized:E||g.localized||!1,parentPath:T.join("."),parentSchemaPath:P.join("."),req:C,siblingData:O,siblingDoc:R})}}return O}]},i18n:E,outputSchema:({collectionIDFieldTypes:e,config:d,field:h,i18n:m,interfaceNameDefinitions:g,isRequired:y})=>{let b={type:x("object",y),properties:{root:{type:"object",additionalProperties:!1,properties:{type:{type:"string"},children:{type:"array",items:{type:"object",additionalProperties:!0,properties:{type:{type:"string"},version:{type:"integer"}},required:["type","version"]}},direction:{oneOf:[{enum:["ltr","rtl"]},{type:"null"}]},format:{type:"string",enum:["left","start","center","right","end","justify",""]},indent:{type:"integer"},version:{type:"integer"}},required:["children","direction","format","indent","type","version"]}},required:["root"]};for(let v of S.features.generatedTypes.modifyOutputSchemas)b=v({collectionIDFieldTypes:e,config:d,currentSchema:b,field:h,i18n:m,interfaceNameDefinitions:g,isRequired:y});return b},validate:lU({editorConfig:S})}}}},98389:(e,d,h)=>{"use strict";h.d(d,{A:()=>x,p:()=>S});var m=h(13062),g=h(19131),y=h(89554),b=h(83552),v=h(30433),w=h(71707);let S=async e=>{let{collection:d,req:h,token:S}=e;if(d.config.auth.disableLocalStrategy)throw new g.c(h.t);if(!Object.prototype.hasOwnProperty.call(e,"token"))throw new y.L("Missing required data.",m.h.BAD_REQUEST);try{let e=await (0,v.n)(h),g=await h.payload.db.findOne({collection:d.config.slug,req:h,where:{_verificationToken:{equals:S}}});if(!g)throw new y.L("Verification token is invalid.",m.h.FORBIDDEN);return await h.payload.db.updateOne({id:g.id,collection:d.config.slug,data:{...g,_verificationToken:null,_verified:!0},req:h,returning:!1}),e&&await (0,b.w)(h),!0}catch(e){throw await (0,w.J)(h),e}},x=S},98481:e=>{"use strict";let d={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},h={arrowUp:d.arrowUp,arrowDown:d.arrowDown,arrowLeft:d.arrowLeft,arrowRight:d.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"",pointer:">"};e.exports="win32"===process.platform?h:d},98482:(e,d,h)=>{var m=Object.create,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,v=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,S=(e,d)=>g(e,"name",{value:d,configurable:!0}),x=(e,d,h,m)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let v of b(d))w.call(e,v)||v===h||g(e,v,{get:()=>d[v],enumerable:!(m=y(d,v))||m.enumerable});return e},_=(e,d,h)=>(h=null!=e?m(v(e)):{},x(!d&&e&&e.__esModule?h:g(h,"default",{value:e,enumerable:!0}),e)),E=e=>x(g({},"__esModule",{value:!0}),e),T={};((e,d)=>{for(var h in d)g(e,h,{get:d[h],enumerable:!0})})(T,{resolveDefaultsModeConfig:()=>U}),e.exports=E(T);var k=h(18219),C=h(35804),P=h(11075),O="AWS_EXECUTION_ENV",I="AWS_REGION",R="AWS_DEFAULT_REGION",D="AWS_EC2_METADATA_DISABLED",L=["in-region","cross-region","mobile","standard","legacy"],$="/latest/meta-data/placement/region",M="AWS_DEFAULTS_MODE",B="defaults_mode",j={environmentVariableSelector:e=>e[M],configFileSelector:e=>e[B],default:"legacy"},U=S(({region:e=(0,C.loadConfig)(k.NODE_REGION_CONFIG_OPTIONS),defaultsMode:d=(0,C.loadConfig)(j)}={})=>(0,P.memoize)(async()=>{let h="function"==typeof d?await d():d;switch(h?.toLowerCase()){case"auto":return F(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(h?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${L.join(", ")}, got ${h}`)}}),"resolveDefaultsModeConfig"),F=S(async e=>{if(e){let d="function"==typeof e?await e():e,h=await z();return h?d===h?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),z=S(async()=>{if(process.env[O]&&(process.env[I]||process.env[R]))return process.env[I]??process.env[R];if(!process.env[D])try{let{getInstanceMetadataEndpoint:e,httpRequest:d}=await Promise.resolve().then(()=>_(h(81633))),m=await e();return(await d({...m,path:$})).toString()}catch(e){}},"inferPhysicalRegion")},98832:(e,d,h)=>{"use strict";h.d(d,{k:()=>E});var m=h(13062),g=h(89554),y=h(19131),b=h(83552),v=h(30433),w=h(71707),S=h(26154),x=h(85278),_=h(65175);let E=async e=>{let{collection:{config:d},overrideAccess:h,req:{locale:E},req:T}=e,k=d.auth.loginWithUsername,{canLoginWithEmail:C,canLoginWithUsername:P}=(0,x.Y)(k),O=C&&(e.data?.email||"").toLowerCase().trim(),I=P&&"username"in e.data&&"string"==typeof e.data.username&&e.data.username.toLowerCase().trim()||null;if(d.auth.disableLocalStrategy)throw new y.c(T.t);if(!O&&!I)throw new g.L(`Missing ${d.auth.loginWithUsername?"username":"email"}.`,m.h.BAD_REQUEST);try{let e,m=await (0,v.n)(T);h||await (0,S.A)({req:T},d.access.unlock);let g={};C&&O?g={email:{equals:O}}:P&&I&&(g={username:{equals:I}});let y=await T.payload.db.findOne({collection:d.slug,locale:E,req:T,where:g});return y?(await (0,_.Z)({collection:d,doc:y,payload:T.payload,req:T}),e=!0):e=null,m&&await (0,b.w)(T),e}catch(e){throw await (0,w.J)(T),e}}},98979:(e,d,h)=>{"use strict";h.d(d,{s:()=>y});var m=h(13062),g=h(89554);class y extends g.L{constructor(e){super(e,m.h.INTERNAL_SERVER_ERROR)}}},99102:(e,d,h)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});let m=h(11622),g=h(52046),y=h(31934);d.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,g.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,g._)`{missingProperty: ${e}}`},code(e){let{gen:d,schema:h,schemaCode:b,data:v,$data:w,it:S}=e,{opts:x}=S;if(!w&&0===h.length)return;let _=h.length>=x.loopRequired;if(S.allErrors?E():T(),x.strictRequired){let d=e.parentSchema.properties,{definedProperties:m}=e.it;for(let e of h)if((null==d?void 0:d[e])===void 0&&!m.has(e)){let d=S.schemaEnv.baseId+S.errSchemaPath,h=`required property "${e}" is not defined at "${d}" (strictRequired)`;(0,y.checkStrictMode)(S,h,S.opts.strictRequired)}}function E(){if(_||w)e.block$data(g.nil,k);else for(let d of h)(0,m.checkReportMissingProp)(e,d)}function T(){let g=d.let("missing");if(_||w){let h=d.let("valid",!0);e.block$data(h,()=>C(g,h)),e.ok(h)}else d.if((0,m.checkMissingProp)(e,h,g)),(0,m.reportMissingProp)(e,g),d.else()}function k(){d.forOf("prop",b,h=>{e.setParams({missingProperty:h}),d.if((0,m.noPropertyInData)(d,v,h,x.ownProperties),()=>e.error())})}function C(h,y){e.setParams({missingProperty:h}),d.forOf(h,b,()=>{d.assign(y,(0,m.propertyInData)(d,v,h,x.ownProperties)),d.if((0,g.not)(y),()=>{e.error(),d.break()})},g.nil)}}}},99502:(e,d,h)=>{"use strict";h.d(d,{l:()=>R});var m=h(26154),g=h(43566),y=h(553),b=h(14603),v=h(19131),w=h(89426),S=h(36031),x=h(16861),_=h(22894),E=h(83552),T=h(30433),k=h(71707),C=h(12276),P=h(41696),O=h(52579),I=h(77900);let R=async e=>{let d=e;try{let e=!d.disableTransaction&&await (0,T.n)(d.req);if(d.collection.config.hooks?.beforeOperation?.length)for(let e of d.collection.config.hooks.beforeOperation)d=await e({args:d,collection:d.collection.config,context:d.req.context,operation:"delete",req:d.req})||d;let{id:h,collection:{config:k},depth:R,overrideAccess:D,overrideLock:L,populate:$,req:{fallbackLocale:M,locale:B,payload:{config:j},payload:U},req:F,select:z,showHiddenFields:q}=d,V=!!D||await (0,m.A)({id:h,req:F},k.access.delete),H=(0,g.L)(V);if(k.hooks?.beforeDelete?.length)for(let e of k.hooks.beforeDelete)await e({id:h,collection:k,context:F.context,req:F});let K=await F.payload.db.findOne({collection:k.slug,locale:F.locale,req:F,where:(0,y.m)({id:{equals:h}},V)});if(!K&&!H)throw new b.M(F.t);if(!K&&H)throw new v.c(F.t);await (0,_.B)({id:h,collectionSlug:k.slug,lockErrorMessage:`Document with ID ${h} is currently locked and cannot be deleted.`,overrideLock:L,req:F}),await (0,x.F)({collectionConfig:k,config:j,doc:K,overrideDelete:!0,req:F}),k.versions&&await (0,P.H)({id:h,slug:k.slug,payload:U,req:F}),k.versions?.drafts&&k.versions.drafts.schedulePublish&&await (0,O.y)({id:h,slug:k.slug,payload:U,req:F});let G=(0,C.Y)({fields:k.flattenedFields,forceSelect:k.forceSelect,select:z}),W=await F.payload.db.deleteOne({collection:k.slug,req:F,select:G,where:{id:{equals:h}}});if(await (0,S.j)({collectionConfig:k,ids:[h],payload:U,req:F}),W=await (0,w.v)({collection:k,context:F.context,depth:R,doc:W,draft:void 0,fallbackLocale:M,global:null,locale:B,overrideAccess:D,populate:$,req:F,select:G,showHiddenFields:q}),k.hooks?.afterRead?.length)for(let e of k.hooks.afterRead)W=await e({collection:k,context:F.context,doc:W,req:F})||W;if(k.hooks?.afterDelete?.length)for(let e of k.hooks.afterDelete)W=await e({id:h,collection:k,context:F.context,doc:W,req:F})||W;return W=await (0,I.E)({args:d,collection:k,operation:"deleteByID",result:W}),e&&await (0,E.w)(F),W}catch(e){throw await (0,k.J)(d.req),e}}},99564:(e,d,h)=>{"use strict";e.exports=b;let{LEVELS:m}=h(40844),g=h(96481),y=h(90386);function b({log:e,context:d}){let{colorizer:h,customLevels:b,levelKey:v,levelLabel:w,messageFormat:S,messageKey:x,useOnlyCustomProps:_}=d;if(S&&"string"==typeof S){let d=String(y(S,e)).replace(/{([^{}]+)}/g,function(d,h){let y;return h===w&&void 0!==(y=g(e,v))?(_?void 0===b:void 0===b[y])?m[y]:b[y]:g(e,h)||""});return h.message(d)}if(S&&"function"==typeof S){let d=S(e,x,w,{colors:h.colors});return h.message(d)}if(x in e!=!1&&("string"==typeof e[x]||"number"==typeof e[x]||"boolean"==typeof e[x]))return h.message(e[x])}},99581:(e,d,h)=>{"use strict";h.d(d,{r_:()=>g,yd:()=>b});let m=Symbol.for("react.client.reference");function g(e){if(null==e)return!1;let d=e.$$typeof==m,h="function"==typeof e,g="function"==typeof e&&""===e.name;return h&&!g&&!d}function y(e){return null!=e&&!g(e)&&e.$$typeof==m}function b(e){return g(e)||y(e)}},99600:(e,d,h)=>{"use strict";let m=h(97140),g=h(94735).EventEmitter,y=h(91645),b=h(34631),v=h(21820),w=h(55511),S=h(90723),x=h(27910).PassThrough,_=h(31088),E=12e4,T=6e5,k=3e4,C=3e4;class P extends g{constructor(e){super(e),this.id=w.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=e||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:!y.isIP(this.host)&&this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=_.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(e=>{let d=(e||"").toString().trim().toUpperCase();d&&this.customAuth.set(d,this.options.customAuth[e])}),this.version=m.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=e=>this._onData(e),this._onSocketError=e=>this._onError(e,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(e){if("function"==typeof e){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),e()});let d=this._isDestroyedMessage("connect");if(d)return e(this._formatError(d,"ECONNECTION",!1,"CONN"))}let d={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||C};this.options.localAddress&&(d.localAddress=this.options.localAddress);let h=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||E),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(e=>{if(e)return void this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"CONN");this._onConnect()})):setImmediate(()=>this._onConnect());return}return this.options.socket?(this._socket=this.options.socket,_.resolveHostname(d,(e,m)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:d.host,resolved:m.host,cached:!!m.cached},"Resolved %s as %s [cache %s]",d.host,m.host,m.cached?"hit":"miss"),Object.keys(m).forEach(e=>{"_"!==e.charAt(0)&&m[e]&&(d[e]=m[e])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),h()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(e=>{d[e]=this.options.tls[e]}),this.servername&&!d.servername&&(d.servername=this.servername),_.resolveHostname(d,(e,m)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:d.host,resolved:m.host,cached:!!m.cached},"Resolved %s as %s [cache %s]",d.host,m.host,m.cached?"hit":"miss"),Object.keys(m).forEach(e=>{"_"!==e.charAt(0)&&m[e]&&(d[e]=m[e])});try{this._socket=b.connect(d,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),h()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):_.resolveHostname(d,(e,m)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:d.host,resolved:m.host,cached:!!m.cached},"Resolved %s as %s [cache %s]",d.host,m.host,m.cached?"hit":"miss"),Object.keys(m).forEach(e=>{"_"!==e.charAt(0)&&m[e]&&(d[e]=m[e])});try{this._socket=y.connect(d,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),h()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let e="end";"init"===this.stage&&(e="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let d=this._socket&&this._socket.socket||this._socket;if(d&&!d.destroyed)try{this._socket[e]()}catch(e){}this._destroy()}login(e,d){let h=this._isDestroyedMessage("login");if(h)return d(this._formatError(h,"ECONNECTION",!1,"API"));if(this._auth=e||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&("XOAUTH2"!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()):this._authMethod="XOAUTH2","XOAUTH2"!==this._authMethod&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass))if(!(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)))return d(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));else this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options};if(this.customAuth.has(this._authMethod)){let e,h=this.customAuth.get(this._authMethod),m=!1,g=()=>{m||(m=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,d(null,!0))},y=h=>{m||(m=!0,d(this._formatError(h,"EAUTH",e,"AUTH "+this._authMethod)))},b=h({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(d,h)=>{let m;return h||(m=new Promise((e,d)=>{h=_.callbackPromise(e,d)})),this._responseActions.push(m=>{e=m;let g=m.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),y={command:d,response:m};g?(y.status=Number(g[1])||0,g[2]&&(y.code=g[2]),y.text=m.substr(g[0].length)):(y.text=m,y.status=0),h(null,y)}),setImmediate(()=>this._sendCommand(d)),m},resolve:g,reject:y});b&&"function"==typeof b.catch&&b.then(g).catch(y);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,d);return;case"LOGIN":this._responseActions.push(e=>{this._actionAUTH_LOGIN_USER(e,d)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(e=>{this._actionAUTHComplete(e,d)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5(e,d)}),this._sendCommand("AUTH CRAM-MD5");return}return d(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(e,d,h){if(!d)return h(this._formatError("Empty message","EMESSAGE",!1,"API"));let m=this._isDestroyedMessage("send message");if(m)return h(this._formatError(m,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&e.size>this._maxAllowedSize)return setImmediate(()=>{h(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let g=!1,y=function(){g||(g=!0,h(...arguments))};"function"==typeof d.on&&d.on("error",e=>y(this._formatError(e,"ESTREAM",!1,"API")));let b=Date.now();this._setEnvelope(e,(e,h)=>{if(e){let h=new x;return"function"==typeof d.pipe?d.pipe(h):(h.write(d),h.end()),y(e)}let m=Date.now(),g=this._createSendStream((e,d)=>e?y(e):(h.envelopeTime=m-b,h.messageTime=Date.now()-m,h.messageSize=g.outByteCount,h.response=d,y(null,h)));"function"==typeof d.pipe?d.pipe(g):(g.write(d),g.end())})}reset(e){this._sendCommand("RSET"),this._responseActions.push(d=>"2"!==d.charAt(0)?e(this._formatError("Could not reset session state. response="+d,"EPROTOCOL",d,"RSET")):(this._envelope=!1,e(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed)return void this.close();this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||T),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||k),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(e){let d;if(this._destroyed||!e||!e.length)return;let h=(e||"").toString("binary"),m=(this._remainder+h).split(/\r?\n/);this._remainder=m.pop();for(let e=0,h=m.length;e<h;e++){if(this._responseQueue.length&&(d=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(d.split("\n").pop()))){this._responseQueue[this._responseQueue.length-1]+="\n"+m[e];continue}this._responseQueue.push(m[e])}this._responseQueue.length&&(d=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(d.split("\n").pop()))||this._processResponse()}_onError(e,d,h,m){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(e=this._formatError(e,d,h,m),this.logger.error(h,e.message),this.emit("error",e),this.close())}_formatError(e,d,h,m){let g;g=/Error\]$/i.test(Object.prototype.toString.call(e))?e:Error(e),d&&"Error"!==d&&(g.code=d),h&&(g.response=h,g.message+=": "+h);let y="string"==typeof h&&Number((h.match(/^\d+/)||[])[0])||!1;return y&&(g.responseCode=y),m&&(g.command=m),g}_onClose(){let e=!1;return(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=e=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)?this._onError(Error("Connection closed unexpectedly"),"ETLS",e,"CONN"):![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed||/^[45]\d{2}\b/.test(e)?this._onError(Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN"):void this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let d=this._socket,h={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(e=>{h[e]=this.options.tls[e]}),this.servername&&!h.servername&&(h.servername=this.servername),this.upgrading=!0;try{this._socket=b.connect(h,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),d.removeListener("close",this._onSocketClose),d.removeListener("end",this._onSocketEnd),e(null,!0)))}catch(d){return e(d)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||T),this._socket.on("timeout",this._onSocketTimeout),d.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split("\n").pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,"")),e.trim()||setImmediate(()=>this._processResponse());let d=this._responseActions.shift();if("function"!=typeof d)return this._onError(Error("Unexpected Response"),"EPROTOCOL",e,"CONN");d.call(this,e),setImmediate(()=>this._processResponse())}_sendCommand(e,d){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(d||e||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(e+"\r\n","utf-8"))}}_setEnvelope(e,d){let h=[],m=!1;if(this._envelope=e||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(e=>(e&&e.address||e||"").toString().trim()),!this._envelope.to.length)return d(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return d(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(m=!0);for(let e=0,h=this._envelope.to.length;e<h;e++){if(!this._envelope.to[e]||/[\r\n<>]/.test(this._envelope.to[e]))return d(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[e]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[e])&&(m=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(e){return d(this._formatError("Invalid DSN "+e.message,"EENVELOPE",!1,"API"))}this._responseActions.push(e=>{this._actionMAIL(e,d)}),m&&this._supportedExtensions.includes("SMTPUTF8")&&(h.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(h.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&h.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&h.push("RET="+_.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&h.push("ENVID="+_.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(h.length?" "+h.join(" "):""))}_setDsnEnvelope(e){let d=(e.ret||e.return||"").toString().toUpperCase()||null;if(d)switch(d){case"HDRS":case"HEADERS":d="HDRS";break;case"FULL":case"BODY":d="FULL"}if(d&&!["FULL","HDRS"].includes(d))throw Error("ret: "+JSON.stringify(d));let h=(e.envid||e.id||"").toString()||null,m=e.notify||null;if(m){"string"==typeof m&&(m=m.split(","));let e=["NEVER","SUCCESS","FAILURE","DELAY"];if((m=m.map(e=>e.trim().toUpperCase())).filter(d=>!e.includes(d)).length||m.length>1&&m.includes("NEVER"))throw Error("notify: "+JSON.stringify(m.join(",")));m=m.join(",")}let g=(e.recipient||e.orcpt||"").toString()||null;return g&&0>g.indexOf(";")&&(g="rfc822;"+g),{ret:d,envid:h,notify:m,orcpt:g}}_getDsnRcptToArgs(){let e=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&e.push("NOTIFY="+_.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&e.push("ORCPT="+_.encodeXText(this._envelope.dsn.orcpt))),e.length?" "+e.join(" "):""}_createSendStream(e){let d,h=new S;return this.options.lmtp?this._envelope.accepted.forEach((d,h)=>{let m=h===this._envelope.accepted.length-1;this._responseActions.push(h=>{this._actionLMTPStream(d,m,h,e)})}):this._responseActions.push(d=>{this._actionSMTPStream(d,e)}),h.pipe(this._socket,{end:!1}),this.options.debug&&((d=new x).on("readable",()=>{let e;for(;e=d.read();)this.logger.debug({tnx:"message"},e.toString("binary").replace(/\r?\n$/,""))}),h.pipe(d)),h.once("end",()=>{this.logger.info({tnx:"message",inByteCount:h.inByteCount,outByteCount:h.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",h.outByteCount,h.inByteCount)}),h}_actionGreeting(e){if(clearTimeout(this._greetingTimeout),"220"!==e.substr(0,3))return void this._onError(Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN");this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(e){if("2"!==e.charAt(0))return void this._onError(Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO");this._actionEHLO(e)}_actionEHLO(e){let d;if("421"===e.substr(0,3))return void this._onError(Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO");if("2"!==e.charAt(0))return this.options.requireTLS?void this._onError(Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO"):(this._responseActions.push(this._actionHELO),void this._sendCommand("HELO "+this.name));if(this._ehloLines=e.split(/\r?\n/).map(e=>e.replace(/^\d+[ -]/,"").trim()).filter(e=>e).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(e)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(e)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(e)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(e)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(e)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)&&this._supportedAuth.push("XOAUTH2"),(d=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(d[1])||0),this.emit("connect")}_actionHELO(e){if("2"!==e.charAt(0))return void this._onError(Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO");this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(e){if("2"!==e.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect")):void this._onError(Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");this._upgradeConnection((e,d)=>{if(e)return void this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"STARTTLS");this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),d?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(e,d){if(!/^334[ -]/.test(e))return void d(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(e=>{this._actionAUTH_LOGIN_PASS(e,d)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(e,d){let h=e.match(/^334\s+(.+)$/),m="";if(!h)return d(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"));m=h[1];let g=Buffer.from(m,"base64").toString("ascii"),y=w.createHmac("md5",this._auth.credentials.pass);y.update(g);let b=this._auth.credentials.user+" "+y.digest("hex");this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5_PASS(e,d)}),this._sendCommand(Buffer.from(b).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,d){if(!e.match(/^235\s+/))return d(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,d(null,!0)}_actionAUTH_LOGIN_PASS(e,d){if(!/^334[ -]/.test(e))return d(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(e=>{this._actionAUTHComplete(e,d)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(e,d,h){if(h||"function"!=typeof d||(h=d,d=!1),"334"===e.substr(0,3)){this._responseActions.push(e=>{d||"XOAUTH2"!==this._authMethod?this._actionAUTHComplete(e,!0,h):setImmediate(()=>this._handleXOauth2Token(!0,h))}),this._sendCommand("");return}if("2"!==e.charAt(0))return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),h(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,h(null,!0)}_actionMAIL(e,d){let h,m;if(2!==Number(e.charAt(0)))return h=this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)?"Internationalized mailbox name not allowed":"Mail command failed",d(this._formatError(h,"EENVELOPE",e,"MAIL FROM"));if(!this._envelope.rcptQueue.length)return d(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"));if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)m=this._envelope.rcptQueue.shift(),this._recipientQueue.push(m),this._responseActions.push(e=>{this._actionRCPT(e,d)}),this._sendCommand("RCPT TO:<"+m+">"+this._getDsnRcptToArgs());else m=this._envelope.rcptQueue.shift(),this._recipientQueue.push(m),this._responseActions.push(e=>{this._actionRCPT(e,d)}),this._sendCommand("RCPT TO:<"+m+">"+this._getDsnRcptToArgs())}_actionRCPT(e,d){let h,m,g=this._recipientQueue.shift();if(2!==Number(e.charAt(0))?(h=this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(g)?"Internationalized mailbox name not allowed":"Recipient command failed",this._envelope.rejected.push(g),(m=this._formatError(h,"EENVELOPE",e,"RCPT TO")).recipient=g,this._envelope.rejectedErrors.push(m)):this._envelope.accepted.push(g),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(g=this._envelope.rcptQueue.shift(),this._recipientQueue.push(g),this._responseActions.push(e=>{this._actionRCPT(e,d)}),this._sendCommand("RCPT TO:<"+g+">"+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return(m=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO")).rejected=this._envelope.rejected,m.rejectedErrors=this._envelope.rejectedErrors,d(m);this._responseActions.push(e=>{this._actionDATA(e,d)}),this._sendCommand("DATA")}}_actionDATA(e,d){if(!/^[23]/.test(e))return d(this._formatError("Data command failed","EENVELOPE",e,"DATA"));let h={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(h.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(h.rejectedErrors=this._envelope.rejectedErrors),d(null,h)}_actionSMTPStream(e,d){return 2!==Number(e.charAt(0))?d(this._formatError("Message failed","EMESSAGE",e,"DATA")):d(null,e)}_actionLMTPStream(e,d,h,m){let g;if(2!==Number(h.charAt(0))){(g=this._formatError("Message failed for recipient "+e,"EMESSAGE",h,"DATA")).recipient=e,this._envelope.rejected.push(e),this._envelope.rejectedErrors.push(g);for(let d=0,h=this._envelope.accepted.length;d<h;d++)this._envelope.accepted[d]===e&&this._envelope.accepted.splice(d,1)}if(d)return m(null,h)}_handleXOauth2Token(e,d){this._auth.oauth2.getToken(e,(h,m)=>{if(h)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),d(this._formatError(h,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(h=>{this._actionAUTHComplete(h,e,d)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(m),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(e){if(this._destroyed)return"Cannot "+e+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+e+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+e+" - smtp connection socket is already half-closed."}}_getHostname(){let e;try{e=v.hostname()||""}catch(d){e="localhost"}return(!e||0>e.indexOf("."))&&(e="[127.0.0.1]"),e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(e="["+e+"]"),e}}e.exports=P}};