"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5764],{59535:(e,t,n)=>{let a,l;n.r(t),n.d(t,{Account:()=>fT,ActionsProvider:()=>fI,AppHeader:()=>f2,ArrayField:()=>hz,AuthProvider:()=>ah,Banner:()=>eQ,BlocksDrawer:()=>of,BlocksField:()=>ow,BrowseByFolderButton:()=>g3,BulkUploadDrawer:()=>hb,BulkUploadProvider:()=>hy,Button:()=>tp,CalendarIcon:()=>s.m,Card:()=>f5,CheckIcon:()=>lF,CheckboxField:()=>lH,CheckboxInput:()=>lV,ChevronIcon:()=>eX,ClientFunctionProvider:()=>vp,CloseMenuIcon:()=>fR,CodeBlockIcon:()=>ve,CodeEdiftor:()=>i.i,CodeEditorLazy:()=>oS,CodeField:()=>ok,Collapsible:()=>l2,CollapsibleField:()=>oP,ConfigProvider:()=>i.a,ConfirmPasswordField:()=>hU,ConfirmationModal:()=>ai,CopyIcon:()=>lW,CopyLocaleData:()=>f7,CopyToClipboard:()=>pJ,DateCell:()=>cH,DateCondition:()=>m0,DatePicker:()=>s.n,DateTimeField:()=>sK,DefaultBlockImage:()=>os,DefaultBrowseByFolderView:()=>bw,DefaultCell:()=>c0,DefaultCollectionFolderView:()=>bm,DefaultEditView:()=>bL,DefaultListView:()=>vV,DeleteMany:()=>md,DocumentControls:()=>mI,DocumentEventsProvider:()=>dQ,DocumentFields:()=>dZ,DocumentIcon:()=>pd,DocumentInfoProvider:()=>l_,DocumentLocked:()=>f_,DocumentTakeOver:()=>fy,DragHandleIcon:()=>lX,Drawer:()=>an,DrawerActionHeader:()=>d7,DrawerContentContainer:()=>d9,DrawerToggler:()=>at,Dropzone:()=>dw,EditDepthProvider:()=>tH,EditIcon:()=>e$,EditMany:()=>mq,EditUpload:()=>pQ,EmailAndUsernameFields:()=>vI,EmailField:()=>sW,EntityVisibilityProvider:()=>vb,ErrorIcon:()=>vr,ErrorPill:()=>tF,ExternalLinkIcon:()=>g9,FieldDescription:()=>tz,FieldDiffLabel:()=>bM,FieldError:()=>tV,FieldLabel:()=>aN,File:()=>cq,FileDetails:()=>p6,FolderIcon:()=>dJ,FolderProvider:()=>d6,Form:()=>dn,FormLoadingOverlayToggle:()=>cC,FormSubmit:()=>d4,FullscreenModal:()=>mW,GenerateConfirmation:()=>mY,GridViewIcon:()=>vl,GroupField:()=>s2,Gutter:()=>n8,Hamburger:()=>fF,HiddenField:()=>s6,HydrateAuthProvider:()=>mQ,InfoIcon:()=>vi,JSONField:()=>ui,JoinField:()=>ur,LeaveWithoutSaving:()=>fv,LineIcon:()=>lB,Link:()=>eY,LinkIcon:()=>eZ,ListControls:()=>gP,ListDrawerContextProvider:()=>s7,ListHeader:()=>gG,ListQueryProvider:()=>cl,ListSelection:()=>gM,ListViewIcon:()=>vo,LoadingOverlay:()=>cw,LoadingOverlayToggle:()=>cj,LocaleProvider:()=>aj,Locked:()=>mx,LogOutIcon:()=>gQ,Logout:()=>gX,MenuIcon:()=>fL,MinimizeMaximizeIcon:()=>vn,Modal:()=>ng,MoreIcon:()=>lY,MoveDocToFolder:()=>pI,MoveDocToFolderButton:()=>pL,MoveFolderIcon:()=>va,NavGroup:()=>gZ,NavToggler:()=>fG,NullifyLocaleField:()=>lq,NumberCondition:()=>m1,NumberField:()=>us,OperationProvider:()=>lN,OrderableTable:()=>fo,Pagination:()=>ue,ParamsProvider:()=>vw,PasswordField:()=>hK,PayloadIcon:()=>fQ,PerPage:()=>g1,Pill:()=>l7,PlusIcon:()=>eJ,PointField:()=>uu,Popup:()=>ts,PopupList:()=>e1,PreferencesProvider:()=>av,PreviewButton:()=>mw,PreviewSizes:()=>p7,ProgressBar:()=>vg,PublishButton:()=>mD,PublishMany:()=>gA,QueryPresetsAccessCell:()=>fc,QueryPresetsColumnField:()=>fu,QueryPresetsColumnsCell:()=>fr,QueryPresetsWhereCell:()=>fs,QueryPresetsWhereField:()=>fh,RadioGroupField:()=>uf,ReactSelect:()=>sV,RelationshipCondition:()=>m8,RelationshipField:()=>uH,RelationshipInput:()=>uU,RelationshipProvider:()=>cM,RelationshipTable:()=>ua,RenderCustomComponent:()=>ec,RenderDefaultCell:()=>c6,RenderFields:()=>hL,RenderTitle:()=>g4,RichTextField:()=>uq,RootProvider:()=>vO,RouteCacheProvider:()=>mt,RouteTransitionProvider:()=>eV,RowField:()=>uK,RowLabel:()=>ez,RowLabelProvider:()=>eF,SaveButton:()=>mE,SaveDraftButton:()=>mP,ScrollInfoProvider:()=>vk,SearchFilter:()=>mJ,SearchIcon:()=>oc,SearchParamsProvider:()=>vP,SectionTitle:()=>ov,Select:()=>sV,SelectAll:()=>vL,SelectCondition:()=>m7,SelectField:()=>uG,SelectInput:()=>uW,SelectMany:()=>vB,SelectRow:()=>vF,SelectionProvider:()=>mo,ServerFunctionsProvider:()=>ci,SetDocumentStepNav:()=>bO,SetDocumentTitle:()=>bI,SetStepNav:()=>fJ,ShimmerEffect:()=>i.d,SortColumn:()=>g7,SortHeader:()=>h9,SortRow:()=>ft,StaggeredShimmers:()=>i.e,SuccessIcon:()=>vs,SwapIcon:()=>e0,TabComponent:()=>dl,Table:()=>mC,TableColumnsProvider:()=>cu,TabsField:()=>ds,TabsProvider:()=>s$,TextCondition:()=>ge,TextField:()=>dg,TextInput:()=>dh,TextareaField:()=>db,TextareaInput:()=>dv,ThemeProvider:()=>i.g,Thumbnail:()=>cW,TimezonePicker:()=>sH,Tooltip:()=>tc,Translation:()=>pr,TranslationProvider:()=>s.c,UIField:()=>dx,UnpublishMany:()=>gR,Upload:()=>hl,UploadEditsProvider:()=>lv,UploadField:()=>hO,UploadHandlersProvider:()=>u1,UploadInput:()=>hA,ViewDescription:()=>fk,WarningIcon:()=>vc,WatchChildErrors:()=>oD,WatchCondition:()=>lO,WindowInfoProvider:()=>vN,XIcon:()=>s.a,allFieldComponents:()=>hY,defaultTheme:()=>i.f,documentDrawerBaseClass:()=>cP,fieldBaseClass:()=>lL,fieldComponents:()=>hW,fieldReducer:()=>de,formatDrawerSlug:()=>ae,parseSearchParams:()=>ce,toast:()=>n0,useActions:()=>fO,useAddClientFunction:()=>vh,useAllFormFields:()=>eL,useAuth:()=>af,useBulkUpload:()=>hw,useBulkUploadDrawerSlug:()=>hj,useCellProps:()=>c2,useClickOutside:()=>mF,useClickOutsideContext:()=>mM,useClientFunctions:()=>vf,useCollapsible:()=>l1,useConfig:()=>i.b,useDebounce:()=>au,useDebouncedCallback:()=>uS,useDebouncedEffect:()=>uZ,useDelay:()=>i.c,useDelayedRender:()=>cf,useDocumentDrawer:()=>cI,useDocumentDrawerContext:()=>cD,useDocumentEvents:()=>dX,useDocumentForm:()=>eD,useDocumentInfo:()=>lC,useDocumentTitle:()=>lf,useDrawerSlug:()=>n7,useEditDepth:()=>tq,useEffectEvent:()=>s4,useEntityVisibility:()=>vx,useField:()=>lT,useFolder:()=>d5,useForm:()=>eN,useFormBackgroundProcessing:()=>eA,useFormFields:()=>eR,useFormInitializing:()=>eI,useFormModified:()=>eO,useFormProcessing:()=>eT,useFormSubmitted:()=>eP,useHotkey:()=>hJ,useIntersect:()=>tl,useListDrawer:()=>uj,useListDrawerContext:()=>s9,useListQuery:()=>cn,useListRelationships:()=>cF,useLocale:()=>aS,useModal:()=>ne,useNav:()=>fq,useOperation:()=>lD,useParams:()=>vj,usePayloadAPI:()=>h2,usePreferences:()=>ab,useResize:()=>h6,useRouteCache:()=>mn,useRouteTransition:()=>eH,useRowLabel:()=>eB,useScrollInfo:()=>vS,useSearchParams:()=>vT,useSelection:()=>mr,useServerFunctions:()=>cr,useStepNav:()=>fX,useTableColumns:()=>cc,useTheme:()=>i.h,useThrottledEffect:()=>aP,useTranslation:()=>s.d,useUploadEdits:()=>lb,useUploadHandlers:()=>u3,useUseTitleField:()=>h5,useWatchForm:()=>eE,useWindowInfo:()=>vD,withCondition:()=>lI});var o=n(89688),r=n(80665),i=n(66797),s=n(45749),c=n(43289),u=n(67252),d=n(47092),p=n(55032),h=n(3537),f=n(98034),m=n(67617),g=n(69020),v=n(96900),b=n(16625),x=n(29336),y=n(23685),w=n(7376),j=n(68153),C=n(23489),S=n(31219),_=n(44358),k=n(47058),N=n(8126),D=n(44944),E=n(37320),P=n(36107),T=n(13014),A=n(90199),O=n(19579),I=n(87181),R=n(50027),L=n(72761),M=n(16906),F=n(29690),B=n(91265);n(47235);var z=n(36821),V=n(20091),U=n(32664),H=n(29363),q=n(48018),K=n(22653),W=n(79845),Y=n(31856),G=n(23530),Q=n(90668),X=n(46918),$=n(86709).hp,Z=(0,c.c)(e=>{function t(e,t){var n=e.length;for(e.push(t);0<n;){var a=n-1>>>1,o=e[a];if(0<l(o,t))e[a]=t,e[n]=o,n=a;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var a=0,o=e.length,r=o>>>1;a<r;){var i=2*(a+1)-1,s=e[i],c=i+1,u=e[c];if(0>l(s,n))c<o&&0>l(u,s)?(e[a]=u,e[c]=n,a=c):(e[a]=s,e[i]=n,a=i);else if(c<o&&0>l(u,n))e[a]=u,e[c]=n,a=c;else break}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now?(s=performance,e.unstable_now=function(){return s.now()}):(u=(c=Date).now(),e.unstable_now=function(){return c.now()-u});var o,r,i,s,c,u,d=[],p=[],h=1,f=null,m=3,g=!1,v=!1,b=!1,x="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="u">typeof setImmediate?setImmediate:null;function j(e){for(var l=n(p);null!==l;){if(null===l.callback)a(p);else if(l.startTime<=e)a(p),l.sortIndex=l.expirationTime,t(d,l);else break;l=n(p)}}function C(e){if(b=!1,j(e),!v)if(null!==n(d))v=!0,P();else{var t=n(p);null!==t&&T(C,t.startTime-e)}}var S=!1,_=-1,k=5,N=-1;function D(){return!(e.unstable_now()-N<k)}function E(){if(S){var t=e.unstable_now();N=t;var l=!0;try{e:{v=!1,b&&(b=!1,y(_),_=-1),g=!0;var r=m;try{t:{for(j(t),f=n(d);null!==f&&!(f.expirationTime>t&&D());){var i=f.callback;if("function"==typeof i){f.callback=null,m=f.priorityLevel;var s=i(f.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){f.callback=s,j(t),l=!0;break t}f===n(d)&&a(d),j(t)}else a(d);f=n(d)}if(null!==f)l=!0;else{var c=n(p);null!==c&&T(C,c.startTime-t),l=!1}}break e}finally{f=null,m=r,g=!1}}}finally{l?o():S=!1}}}function P(){S||(S=!0,o())}function T(t,n){_=x(function(){t(e.unstable_now())},n)}"function"==typeof w?o=function(){w(E)}:"u">typeof MessageChannel?(i=(r=new MessageChannel).port2,r.port1.onmessage=E,o=function(){i.postMessage(null)}):o=function(){x(E,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,P())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(a,l,o){var r=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?r+o:r,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=0x3fffffff;break;case 4:i=1e4;break;default:i=5e3}return i=o+i,a={id:h++,callback:l,priorityLevel:a,startTime:o,expirationTime:i,sortIndex:-1},o>r?(a.sortIndex=o,t(p,a),null===n(d)&&a===n(p)&&(b?(y(_),_=-1):b=!0,T(C,o-r))):(a.sortIndex=i,t(d,a),v||g||(v=!0,P())),a},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}),J=(0,c.c)((e,t)=>{t.exports=Z()}),ee=(0,c.c)(e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,l=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,f=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case l:case r:case o:case p:return e;default:switch(e=e&&e.$$typeof){case s:case d:case m:case f:case i:return e;default:return t}}case a:return t}}}function w(e){return y(e)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=s,e.ContextProvider=i,e.Element=n,e.ForwardRef=d,e.Fragment=l,e.Lazy=m,e.Memo=f,e.Portal=a,e.Profiler=r,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(e){return w(e)||y(e)===c},e.isConcurrentMode=w,e.isContextConsumer=function(e){return y(e)===s},e.isContextProvider=function(e){return y(e)===i},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return y(e)===d},e.isFragment=function(e){return y(e)===l},e.isLazy=function(e){return y(e)===m},e.isMemo=function(e){return y(e)===f},e.isPortal=function(e){return y(e)===a},e.isProfiler=function(e){return y(e)===r},e.isStrictMode=function(e){return y(e)===o},e.isSuspense=function(e){return y(e)===p},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===l||e===u||e===r||e===o||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===i||e.$$typeof===s||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},e.typeOf=y}),et=(0,c.c)((e,t)=>{t.exports=ee()}),en=(0,c.c)((e,t)=>{var n=et(),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function i(e){return n.isMemo(e)?o:r[e.$$typeof]||a}r[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[n.Memo]=o;var s=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,a){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,a)}var r=c(n);u&&(r=r.concat(u(n)));for(var f=i(t),m=i(n),g=0;g<r.length;++g){var v=r[g];if(!l[v]&&!(a&&a[v])&&!(m&&m[v])&&!(f&&f[v])){var b=d(n,v);try{s(t,v,b)}catch(e){}}}}return t}}),ea=(0,c.c)((e,t)=>{var n=Math.floor(0xffffff*Math.random()),a=d.index=parseInt(0xffffff*Math.random(),10),l=(typeof X>"u"||"number"!=typeof X.pid?Math.floor(1e5*Math.random()):X.pid)%65535,o=(()=>{try{return _Buffer}catch(e){try{return $}catch(e){return null}}})(),r=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},i=[];for(s=0;s<256;s++)i[s]=(s<=15?"0":"")+s.toString(16);var s,c=RegExp("^[0-9a-fA-F]{24}$"),u=[];for(s=0;s<10;)u[48+s]=s++;for(;s<16;)u[55+s]=u[87+s]=s++;function d(e){if(!(this instanceof d))return new d(e);if(e&&(e instanceof d||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=d.isValid(e);if(!t&&null!=e)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&"string"==typeof e&&24===e.length)return d.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&"function"==typeof e.toHexString)return e;throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}t.exports=d,d.default=d,d.createFromTime=function(e){var t,n;return new d((t=8,(8===(n=(n=e=parseInt(e,10)%0xffffffff).toString(16)).length?n:"00000000".substring(n.length,t)+n)+"0000000000000000"))},d.createFromHexString=function(e){if(typeof e>"u"||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",n=0;n<24;)t+=String.fromCharCode(u[e.charCodeAt(n++)]<<4|u[e.charCodeAt(n++)]);return new d(t)},d.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&c.test(e):e instanceof d||(r(e)?d.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!o&&(e.id instanceof o||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&c.test(e.id)))))},d.prototype={constructor:d,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(r(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=i[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof d?this.toString()===e.toString():"string"==typeof e&&d.isValid(e)&&12===e.length&&r(this.id)?e===this.id.toString("binary"):"string"==typeof e&&d.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&d.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof d||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=r(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%0xffffffff;var t=a=(a+1)%0xffffff;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,n>>16&255,n>>8&255,255&n,l>>8&255,255&l,t>>16&255,t>>8&255,255&t)}};var p=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";d.prototype[p]=function(){return"ObjectID("+this+")"},d.prototype.toJSON=d.prototype.toHexString,d.prototype.toString=d.prototype.toHexString}),el=(0,c.c)((e,t)=>{function n(e){return void 0===e}function a(e){return e===Object(e)}function l(e){return Array.isArray(e)}function o(e,t){return t?a(e)&&!n(e.uri):a(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function r(e){return!n(e)&&e}t.exports={serialize:function e(t,i,s,c){i=i||{},s=s||new FormData,i.indices=r(i.indices),i.nullsAsUndefineds=r(i.nullsAsUndefineds),i.booleansAsIntegers=r(i.booleansAsIntegers),i.allowEmptyArrays=r(i.allowEmptyArrays),i.noAttributesWithArrayNotation=r(i.noAttributesWithArrayNotation),i.noFilesWithArrayNotation=r(i.noFilesWithArrayNotation),i.dotsForObjectNotation=r(i.dotsForObjectNotation);let u="function"==typeof s.getParts;return n(t)||(null===t?i.nullsAsUndefineds||s.append(c,""):"boolean"==typeof t?i.booleansAsIntegers?s.append(c,+!!t):s.append(c,t):l(t)?t.length?t.forEach((t,n)=>{var l;let r=c+"["+(i.indices?n:"")+"]";(i.noAttributesWithArrayNotation||i.noFilesWithArrayNotation&&o(l=t,u)&&"string"==typeof l.name&&(a(l.lastModifiedDate)||"number"==typeof l.lastModified))&&(r=c),e(t,i,s,r)}):i.allowEmptyArrays&&s.append(i.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?s.append(c,t.toISOString()):a(t)&&!o(t,u)?Object.keys(t).forEach(n=>{let a=t[n];if(l(a))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);let o=c?i.dotsForObjectNotation?c+"."+n:c+"["+n+"]":n;e(a,i,s,o)}):s.append(c,t)),s}}}),eo=(0,c.c)((e,t)=>{!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&n.rotl(e,8)|0xff00ff00&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],a=0;a<t.length;a+=3)for(var l=t[a]<<16|t[a+1]<<8|t[a+2],o=0;o<4;o++)8*a+6*o<=8*t.length?n.push(e.charAt(l>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],a=0,l=0;a<t.length;l=++a%4)0!=l&&n.push((e.indexOf(t.charAt(a-1))&Math.pow(2,-2*l+8)-1)<<2*l|e.indexOf(t.charAt(a))>>>6-2*l);return n}};t.exports=n}()}),er=(0,c.c)((e,t)=>{var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n}),ei=(0,c.c)((e,t)=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){var t;return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer)}}),es=(0,c.c)((e,t)=>{!function(){var e=eo(),n=er().utf8,a=ei(),l=er().bin,o=function(t,r){t.constructor==String?t=r&&"binary"===r.encoding?l.stringToBytes(t):n.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=e.bytesToWords(t),s=8*t.length,c=0x67452301,u=-0x10325477,d=-0x67452302,p=0x10325476,h=0;h<i.length;h++)i[h]=(i[h]<<8|i[h]>>>24)&0xff00ff|(i[h]<<24|i[h]>>>8)&0xff00ff00;i[s>>>5]|=128<<s%32,i[(s+64>>>9<<4)+14]=s;for(var f=o._ff,m=o._gg,g=o._hh,v=o._ii,h=0;h<i.length;h+=16){var b=c,x=u,y=d,w=p;c=f(c,u,d,p,i[h+0],7,-0x28955b88),p=f(p,c,u,d,i[h+1],12,-0x173848aa),d=f(d,p,c,u,i[h+2],17,0x242070db),u=f(u,d,p,c,i[h+3],22,-0x3e423112),c=f(c,u,d,p,i[h+4],7,-0xa83f051),p=f(p,c,u,d,i[h+5],12,0x4787c62a),d=f(d,p,c,u,i[h+6],17,-0x57cfb9ed),u=f(u,d,p,c,i[h+7],22,-0x2b96aff),c=f(c,u,d,p,i[h+8],7,0x698098d8),p=f(p,c,u,d,i[h+9],12,-0x74bb0851),d=f(d,p,c,u,i[h+10],17,-42063),u=f(u,d,p,c,i[h+11],22,-0x76a32842),c=f(c,u,d,p,i[h+12],7,0x6b901122),p=f(p,c,u,d,i[h+13],12,-0x2678e6d),d=f(d,p,c,u,i[h+14],17,-0x5986bc72),u=f(u,d,p,c,i[h+15],22,0x49b40821),c=m(c,u,d,p,i[h+1],5,-0x9e1da9e),p=m(p,c,u,d,i[h+6],9,-0x3fbf4cc0),d=m(d,p,c,u,i[h+11],14,0x265e5a51),u=m(u,d,p,c,i[h+0],20,-0x16493856),c=m(c,u,d,p,i[h+5],5,-0x29d0efa3),p=m(p,c,u,d,i[h+10],9,0x2441453),d=m(d,p,c,u,i[h+15],14,-0x275e197f),u=m(u,d,p,c,i[h+4],20,-0x182c0438),c=m(c,u,d,p,i[h+9],5,0x21e1cde6),p=m(p,c,u,d,i[h+14],9,-0x3cc8f82a),d=m(d,p,c,u,i[h+3],14,-0xb2af279),u=m(u,d,p,c,i[h+8],20,0x455a14ed),c=m(c,u,d,p,i[h+13],5,-0x561c16fb),p=m(p,c,u,d,i[h+2],9,-0x3105c08),d=m(d,p,c,u,i[h+7],14,0x676f02d9),u=m(u,d,p,c,i[h+12],20,-0x72d5b376),c=g(c,u,d,p,i[h+5],4,-378558),p=g(p,c,u,d,i[h+8],11,-0x788e097f),d=g(d,p,c,u,i[h+11],16,0x6d9d6122),u=g(u,d,p,c,i[h+14],23,-0x21ac7f4),c=g(c,u,d,p,i[h+1],4,-0x5b4115bc),p=g(p,c,u,d,i[h+4],11,0x4bdecfa9),d=g(d,p,c,u,i[h+7],16,-0x944b4a0),u=g(u,d,p,c,i[h+10],23,-0x41404390),c=g(c,u,d,p,i[h+13],4,0x289b7ec6),p=g(p,c,u,d,i[h+0],11,-0x155ed806),d=g(d,p,c,u,i[h+3],16,-0x2b10cf7b),u=g(u,d,p,c,i[h+6],23,0x4881d05),c=g(c,u,d,p,i[h+9],4,-0x262b2fc7),p=g(p,c,u,d,i[h+12],11,-0x1924661b),d=g(d,p,c,u,i[h+15],16,0x1fa27cf8),u=g(u,d,p,c,i[h+2],23,-0x3b53a99b),c=v(c,u,d,p,i[h+0],6,-0xbd6ddbc),p=v(p,c,u,d,i[h+7],10,0x432aff97),d=v(d,p,c,u,i[h+14],15,-0x546bdc59),u=v(u,d,p,c,i[h+5],21,-0x36c5fc7),c=v(c,u,d,p,i[h+12],6,0x655b59c3),p=v(p,c,u,d,i[h+3],10,-0x70f3336e),d=v(d,p,c,u,i[h+10],15,-1051523),u=v(u,d,p,c,i[h+1],21,-0x7a7ba22f),c=v(c,u,d,p,i[h+8],6,0x6fa87e4f),p=v(p,c,u,d,i[h+15],10,-0x1d31920),d=v(d,p,c,u,i[h+6],15,-0x5cfebcec),u=v(u,d,p,c,i[h+13],21,0x4e0811a1),c=v(c,u,d,p,i[h+4],6,-0x8ac817e),p=v(p,c,u,d,i[h+11],10,-0x42c50dcb),d=v(d,p,c,u,i[h+2],15,0x2ad7d2bb),u=v(u,d,p,c,i[h+9],21,-0x14792c6f),c=c+b>>>0,u=u+x>>>0,d=d+y>>>0,p=p+w>>>0}return e.endian([c,u,d,p])};o._ff=function(e,t,n,a,l,o,r){var i=e+(t&n|~t&a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._gg=function(e,t,n,a,l,o,r){var i=e+(t&a|n&~a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._hh=function(e,t,n,a,l,o,r){var i=e+(t^n^a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._ii=function(e,t,n,a,l,o,r){var i=e+(n^(t|~a))+(l>>>0)+r;return(i<<o|i>>>32-o)+t},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(null==t)throw Error("Illegal argument "+t);var a=e.wordsToBytes(o(t,n));return n&&n.asBytes?a:n&&n.asString?l.bytesToString(a):e.bytesToHex(a)}}()});function ec(e){let{CustomComponent:t,Fallback:n}=e;return void 0!==t?t:n}var eu=(0,c.e)(J(),1),ed=Symbol(),ep=Symbol(),eh=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?o.useEffect:o.useLayoutEffect,ef=eu.unstable_runWithPriority?e=>{try{(0,eu.unstable_runWithPriority)(eu.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),em=e=>t=>{let{value:n,children:a}=t,l=(0,o.useRef)(n),r=(0,o.useRef)(0),[i,s]=(0,o.useState)(null);i&&(i(n),s(null));let c=(0,o.useRef)();if(!c.current){let e=new Set;c.current={[ed]:{v:l,n:r,l:e,u:(t,n)=>{r.current+=1;let a={n:r.current};(null==n?void 0:n.suspense)&&(a.n*=-1,a.p=new Promise(e=>{s(()=>t=>{a.v=t,delete a.p,e(t)})})),e.forEach(e=>e(a)),t()}}}}return eh(()=>{l.current=n,r.current+=1,ef(()=>{c.current[ed].l.forEach(e=>{e({n:r.current,v:n})})})},[n]),(0,o.createElement)(e,{value:c.current},a)},eg=e=>e;function ev(e,t){let{v:{current:n},n:{current:a},l:l}=(0,o.useContext)(e)[ed],r=t(n),[i,s]=(0,o.useReducer)((e,l)=>{if(!l)return[n,r];if("p"in l)throw l.p;if(l.n===a)return Object.is(e[1],r)?e:[n,r];try{if("v"in l){if(Object.is(e[0],l.v))return e;let n=t(l.v);return Object.is(e[1],n)?e:[l.v,n]}}catch(e){}return[...e]},[n,r]);return Object.is(i[1],r)||s(),eh(()=>(l.add(s),()=>{l.delete(s)}),[l]),i[1]}var eb=(0,o.createContext)({}),ex=(0,o.createContext)({}),ey=(0,o.createContext)({}),ew=(0,o.createContext)(!1),ej=(0,o.createContext)(!1),eC=(0,o.createContext)(!1),eS=(0,o.createContext)(!1),e_=(0,o.createContext)(!1),ek=function(e){let t=(0,o.createContext)({[ed]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return t[ep]=t.Provider,t.Provider=em(t.Provider),delete t.Consumer,t}([{},()=>null]),eN=()=>(0,o.use)(eb),eD=()=>(0,o.use)(ex),eE=()=>(0,o.use)(ey),eP=()=>(0,o.use)(ew),eT=()=>(0,o.use)(ej),eA=()=>(0,o.use)(eC),eO=()=>(0,o.use)(eS),eI=()=>(0,o.use)(e_),eR=e=>ev(ek,e),eL=()=>ev(ek,eg),eM=o.createContext({data:{},path:"",rowNumber:void 0}),eF=e=>{let t=(0,d.c)(6),{children:n,path:a,rowNumber:l}=e,{getDataByPath:o,getSiblingData:r}=eE(),i;if(t[0]!==n||t[1]!==o||t[2]!==r||t[3]!==a||t[4]!==l){let e=r(a),s=o(a)||e;i=(0,u.jsx)(eM,{value:{data:s,path:a,rowNumber:l},children:n}),t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=l,t[5]=i}else i=t[5];return i},eB=()=>o.use(eM),ez=e=>{let{className:t,CustomComponent:n,label:a,path:l,rowNumber:o}=e;return(0,u.jsx)(eF,{path:l,rowNumber:o,children:(0,u.jsx)(ec,{CustomComponent:n,Fallback:"string"==typeof a?(0,u.jsx)("span",{className:["row-label",t].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:a}):a})})},eV=e=>{let t,n=(0,d.c)(11),{children:a}=e,[l,r]=(0,o.useOptimistic)(!1),[i,s]=o.useState(0),c=(0,o.useRef)(i),p=(0,o.useRef)(null),h;n[0]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{p.current=setInterval(()=>{let e=c.current+(.93-c.current)*Math.random()*.2*Math.pow(Math.log(1+(1-c.current)*.75),.75);s(e),c.current=e},250)},n[0]=h):h=n[0];let f=h,m,g;n[1]!==l?(m=()=>{s(0),c.current=0,l?f():p.current&&clearInterval(p.current)},g=[l,f],n[1]=l,n[2]=m,n[3]=g):(m=n[2],g=n[3]),(0,o.useEffect)(m,g),n[4]!==r?(t=e=>{(0,o.startTransition)(()=>{r(!0),"function"==typeof e&&e()})},n[4]=r,n[5]=t):t=n[5];let v=t,b;return n[6]!==a||n[7]!==l||n[8]!==v||n[9]!==i?(b=(0,u.jsx)(eU,{value:{isTransitioning:l,startRouteTransition:v,transitionProgress:i},children:a}),n[6]=a,n[7]=l,n[8]=v,n[9]=i,n[10]=b):b=n[10],b},eU=o.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),eH=()=>o.use(eU),eq=/https?|ftp|gopher|file/;function eK(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}var eW=h.default||h,eY=e=>{let{children:t,href:n,onClick:a,preventDefault:l=!0,ref:o,replace:r,scroll:i,...s}=e,c=(0,f.useRouter)(),{startRouteTransition:d}=eH();return(0,u.jsx)(eW,{href:n,onClick:e=>{(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which})(e)||(a&&a(e),l&&e.preventDefault(),d(()=>{let e="string"==typeof n?n:function(e){var t;let n,{auth:a}=e,{hostname:l}=e,o=e.protocol||"",r=e.pathname||"",i=e.hash||"",s=e.query||"",c=!1;a=a?encodeURIComponent(a).replace(/%3A/i,":")+"@":"",e.host?c=a+e.host:l&&(c=a+(~l.indexOf(":")?"[".concat(l,"]"):l),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String((t=s,n=new URLSearchParams,Object.entries(t).forEach(e=>{let[t,a]=e;Array.isArray(a)?a.forEach(e=>n.append(t,eK(e))):n.set(t,eK(a))}),n)));let u=e.search||s&&"?".concat(s)||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||eq.test(o))&&!1!==c?(c="//"+(c||""),r&&"/"!==r[0]&&(r="/"+r)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),r=r.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),"".concat(o).concat(c).concat(r).concat(u).concat(i)}(n);r?c.replace(e,{scroll:i}):c.push(e,{scroll:i})}))},ref:o,...s,children:t})},eG="banner",eQ=e=>{let{type:t="default",alignIcon:n="right",children:a,className:l,icon:r,onClick:i,to:s}=e,c=[eG,"".concat(eG,"--type-").concat(t),l&&l,s&&"".concat(eG,"--has-link"),(s||i)&&"".concat(eG,"--has-action"),r&&"".concat(eG,"--has-icon"),r&&"".concat(eG,"--align-icon-").concat(n)].filter(Boolean).join(" "),d="div";return i&&!s&&(d="button"),s&&(d=eY),(0,u.jsxs)(d,{className:c,href:s||null,onClick:i,children:[r&&"left"===n&&(0,u.jsx)(o.Fragment,{children:r}),(0,u.jsx)("span",{className:"".concat(eG,"__content"),children:a}),r&&"right"===n&&(0,u.jsx)(o.Fragment,{children:r})]})},eX=e=>{let{ariaLabel:t,className:n,direction:a,size:l}=e;return(0,u.jsx)("svg",{"aria-label":t,className:["icon icon--chevron",n,l&&"icon--size-".concat(l)].filter(Boolean).join(" "),height:"100%",style:{transform:"left"===a?"rotate(90deg)":"right"===a?"rotate(-90deg)":"up"===a?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})})},e$=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})})},eZ=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})}),eJ=()=>(0,u.jsx)("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})}),e0=()=>(0,u.jsx)("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})}),e1={};(0,c.d)(e1,{Button:()=>e4,ButtonGroup:()=>e5,Divider:()=>e3,GroupLabel:()=>e2});var e3=()=>(0,u.jsx)("hr",{className:"popup-divider"}),e2=e=>{let{label:t}=e;return(0,u.jsx)("p",{className:"popup-list-group-label",children:t})},e6="popup-button-list",e5=e=>{let{buttonSize:t="default",children:n,className:a,textAlign:l="left"}=e,o=[e6,a,"".concat(e6,"__text-align--").concat(l),"".concat(e6,"__button-size--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:o,children:n})},e4=e=>{let{id:t,active:n,children:a,className:l,disabled:o,href:r,onClick:i}=e,s=["".concat(e6,"__button"),o&&"".concat(e6,"__disabled"),n&&"".concat(e6,"__button--selected"),l].filter(Boolean).join(" ");if(!o){if(r)return(0,u.jsx)(eY,{className:s,href:r,id:t,onClick:e=>{i&&i(e)},prefetch:!1,children:a});if(i)return(0,u.jsx)("button",{className:s,id:t,onClick:e=>{i&&i(e)},type:"button",children:a})}return(0,u.jsx)("div",{className:s,id:t,children:a})},e8={};(0,c.d)(e8,{WindowInfo:()=>te,WindowInfoContext:()=>e7,WindowInfoProvider:()=>tn,useWindowInfo:()=>e9,withWindowInfo:()=>ta});var e7=(0,o.createContext)({}),e9=()=>(0,o.useContext)(e7),te=e=>{let{children:t}=e,n=e9();return t?"function"==typeof t?o.createElement(o.Fragment,null,t(n)):o.createElement(o.Fragment,null,t):null},tt=(e,t)=>{let{payload:{breakpoints:n,animationRef:a}}=t;a.current=null;let{eventsFired:l}=e,{documentElement:{style:o,clientWidth:r,clientHeight:i}}=document,{innerWidth:s,innerHeight:c}=window,u="".concat(r/100,"px"),d="".concat(i/100,"px"),p=n?Object.keys(n).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:window.matchMedia(n[t]).matches}),{}):{};return o.setProperty("--vw",u),o.setProperty("--vh",d),{width:s,height:c,"--vw":u,"--vh":d,breakpoints:p,eventsFired:l+1}},tn=e=>{let{breakpoints:t,children:n}=e,a=(0,o.useRef)(null),[l,r]=(0,o.useReducer)(tt,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=(0,o.useCallback)(()=>{a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>r({type:"UPDATE",payload:{breakpoints:t,animationRef:a}}))},[t]),s=(0,o.useCallback)(()=>{setTimeout(()=>{i()},500)},[i]);return(0,o.useEffect)(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",s)}),[i,s]),(0,o.useEffect)(()=>{0===l.eventsFired&&r({type:"UPDATE",payload:{breakpoints:t,animationRef:a}})},[t,l]),o.createElement(e7.Provider,{value:Object.assign({},l)},n&&n)},ta=e=>t=>{let n=e9();return o.createElement(e,Object.assign({},t,{windowInfo:n}))},tl=(e,t)=>{let n,a=(0,d.c)(14),l;a[0]!==e?(l=void 0===e?{}:e,a[0]=e,a[1]=l):l=a[1];let{root:r,rootMargin:i,threshold:s}=l,c=void 0===r?null:r,u=void 0===i?"0px":i,p=void 0===s?0:s,[h,f]=(0,o.useState)(),[m,g]=(0,o.useState)(null),v;a[2]!==t||a[3]!==c||a[4]!==u||a[5]!==p?(v="u">typeof window&&"IntersectionObserver"in window&&!t?new window.IntersectionObserver(e=>{let[t]=e;return f(t)},{root:c,rootMargin:u,threshold:p}):null,a[2]=t,a[3]=c,a[4]=u,a[5]=p,a[6]=v):v=a[6];let b=(0,o.useRef)(v),x,y;return a[7]!==t||a[8]!==m?(x=()=>{if(t)return;let{current:e}=b;return e.disconnect(),m&&e.observe(m),()=>e.disconnect()},y=[m,t],a[7]=t,a[8]=m,a[9]=x,a[10]=y):(x=a[9],y=a[10]),(0,o.useEffect)(x,y),a[11]!==h||a[12]!==m?(n=[g,h,m],a[11]=h,a[12]=m,a[13]=n):n=a[13],n},to="popup-button",tr=e=>{let t,n,a=(0,d.c)(24),{active:l,button:o,buttonType:r,className:i,disabled:s,noBackground:c,setActive:p,size:h}=e,f="".concat(to,"--").concat(r),m=!c&&"".concat(to,"--background"),g=h&&"".concat(to,"--size-").concat(h),v=s&&"".concat(to,"--disabled"),b;a[0]!==i||a[1]!==f||a[2]!==m||a[3]!==g||a[4]!==v?(b=[to,i,f,m,g,v].filter(Boolean),a[0]=i,a[1]=f,a[2]=m,a[3]=g,a[4]=v,a[5]=b):b=a[5];let x=b.join(" "),y;a[6]!==l||a[7]!==p?(y=()=>{p(!l)},a[6]=l,a[7]=p,a[8]=y):y=a[8];let w=y;if("none"===r)return null;if("custom"===r){let e,t;return a[9]!==w?(e=e=>{"Enter"===e.key&&w()},a[9]=w,a[10]=e):e=a[10],a[11]!==o||a[12]!==x||a[13]!==w||a[14]!==e?(t=(0,u.jsx)("div",{className:x,onClick:w,onKeyDown:e,role:"button",tabIndex:0,children:o}),a[11]=o,a[12]=x,a[13]=w,a[14]=e,a[15]=t):t=a[15],t}return a[16]!==w?(t=e=>{"Enter"===e.key&&w()},a[16]=w,a[17]=t):t=a[17],a[18]!==o||a[19]!==x||a[20]!==s||a[21]!==w||a[22]!==t?(n=(0,u.jsx)("button",{className:x,disabled:s,onClick:w,onKeyDown:t,tabIndex:0,type:"button",children:o}),a[18]=o,a[19]=x,a[20]=s,a[21]=w,a[22]=t,a[23]=n):n=a[23],n},ti="popup",ts=e=>{let{id:t,boundingRef:n,button:a,buttonClassName:l,buttonSize:r,buttonType:i="default",caret:s=!0,children:c,className:d,disabled:p,forceOpen:h,horizontalAlign:f="left",initActive:m=!1,noBackground:g,onToggleClose:v,onToggleOpen:b,render:x,showOnHover:y=!1,showScrollbar:w=!1,size:j="medium",verticalAlign:C="top"}=e,{height:S,width:_}=e9(),[k,N]=tl({root:(null==n?void 0:n.current)||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),D=(0,o.useRef)(null),E=(0,o.useRef)(null),[P,T]=(0,o.useState)(m),[A,O]=(0,o.useState)(C),[I,R]=(0,o.useState)(f),L=o.useCallback(e=>{e&&"function"==typeof b&&b(!0),e||"function"!=typeof v||v(),T(e)},[v,b]),M=(0,o.useCallback)(e=>{let{horizontal:t=!1,vertical:a=!1}=e;if(D.current){let{bottom:e,left:l,right:o,top:r}=D.current.getBoundingClientRect(),i=100,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=0;(null==n?void 0:n.current)&&({bottom:c,left:u,right:s,top:i}=n.current.getBoundingClientRect()),t&&(o>s&&l>u?R("right"):l<u&&o<s&&R("left")),a&&(r<i&&e<c?O("bottom"):e>c&&r>i&&O("top"))}},[n]),F=(0,o.useCallback)(e=>{D.current.contains(e.target)||E.current.contains(e.target)||L(!1)},[D,L]);(0,o.useEffect)(()=>{M({horizontal:!0})},[N,M,_]),(0,o.useEffect)(()=>{M({vertical:!0})},[N,M,S]),(0,o.useEffect)(()=>(P?document.addEventListener("mousedown",F):document.removeEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}),[P,F,b]),(0,o.useEffect)(()=>{L(h)},[h,L]);let B=[ti,d,"".concat(ti,"--size-").concat(j),r&&"".concat(ti,"--button-size-").concat(r),"".concat(ti,"--v-align-").concat(A),"".concat(ti,"--h-align-").concat(I),P&&"".concat(ti,"--active"),w&&"".concat(ti,"--show-scrollbar")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:B,id:t,children:[(0,u.jsx)("div",{className:"".concat(ti,"__trigger-wrap"),ref:E,children:y?(0,u.jsx)("div",{className:"".concat(ti,"__on-hover-watch"),onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),role:"button",tabIndex:0,children:(0,u.jsx)(tr,{active:P,button:a,buttonType:i,className:l,disabled:p,noBackground:g,setActive:L,size:r})}):(0,u.jsx)(tr,{active:P,button:a,buttonType:i,className:l,disabled:p,noBackground:g,setActive:L,size:r})}),(0,u.jsxs)("div",{className:"".concat(ti,"__content"),ref:D,children:[(0,u.jsx)("div",{className:"".concat(ti,"__hide-scrollbar"),ref:k,children:(0,u.jsx)("div",{className:"".concat(ti,"__scroll-container"),children:(0,u.jsxs)("div",{className:"".concat(ti,"__scroll-content"),children:[x&&x({close:()=>L(!1)}),c]})})}),s&&(0,u.jsx)("div",{className:"".concat(ti,"__caret")})]})]})},tc=e=>{let t,n,a,l=(0,d.c)(26),{alignCaret:r,boundingRef:i,children:s,className:c,delay:p,position:h,show:f,staticPositioning:m}=e,g=void 0===r?"center":r,v=void 0===p?350:p,b=void 0===f||f,x=void 0!==m&&m,[y,w]=o.useState(b),[j,C]=o.useState("top"),S=(null==i?void 0:i.current)||null,_;l[0]!==S?(_={root:S,rootMargin:"-145px 0px 0px 100px",threshold:0},l[0]=S,l[1]=_):_=l[1];let[k,N]=tl(_,x),D,E;if(l[2]!==v||l[3]!==b?(D=()=>{let e;return v&&b?e=setTimeout(()=>{w(b)},v):w(b),()=>{e&&clearTimeout(e)}},E=[b,v],l[2]=v,l[3]=b,l[4]=D,l[5]=E):(D=l[4],E=l[5]),(0,o.useEffect)(D,E),l[6]!==(null==N?void 0:N.isIntersecting)||l[7]!==x?(t=()=>{x||C((null==N?void 0:N.isIntersecting)?"top":"bottom")},l[6]=null==N?void 0:N.isIntersecting,l[7]=x,l[8]=t):t=l[8],l[9]!==N||l[10]!==x?(n=[N,x],l[9]=N,l[10]=x,l[11]=n):n=l[11],(0,o.useEffect)(t,n),l[12]!==g||l[13]!==s||l[14]!==c||l[15]!==j||l[16]!==h||l[17]!==k||l[18]!==y||l[19]!==x){let e=y&&"tooltip--show",t="tooltip--caret-".concat(g),n="tooltip--position-".concat(h||j),r;l[21]!==c||l[22]!==e||l[23]!==t||l[24]!==n?(r=["tooltip",c,e,t,n].filter(Boolean),l[21]=c,l[22]=e,l[23]=t,l[24]=n,l[25]=r):r=l[25],a=(0,u.jsxs)(o.Fragment,{children:[!x&&(0,u.jsx)("aside",{"aria-hidden":"true",className:["tooltip",c,"tooltip--caret-".concat(g),"tooltip--position-top"].filter(Boolean).join(" "),ref:k,style:{opacity:"0"},children:(0,u.jsx)("div",{className:"tooltip-content",children:s})}),(0,u.jsx)("aside",{className:r.join(" "),title:function(e){return"string"==typeof e?e:""}(s),children:(0,u.jsx)("div",{className:"tooltip-content",children:s})})]}),l[12]=g,l[13]=s,l[14]=c,l[15]=j,l[16]=h,l[17]=k,l[18]=y,l[19]=x,l[20]=a}else a=l[20];return a},tu={chevron:eX,edit:e$,link:eZ,plus:eJ,swap:e0,x:s.a},td=e=>{let{children:t,icon:n,showTooltip:a,tooltip:l}=e,r=tu[n];return(0,u.jsxs)(o.Fragment,{children:[l&&(0,u.jsx)(tc,{className:"".concat("btn","__tooltip"),show:a,children:l}),(0,u.jsxs)("span",{className:"".concat("btn","__content"),children:[t&&(0,u.jsx)("span",{className:"".concat("btn","__label"),children:t}),n&&(0,u.jsxs)("span",{className:"".concat("btn","__icon"),children:[(0,o.isValidElement)(n)&&n,r&&(0,u.jsx)(r,{})]})]})]})},tp=e=>{let{id:t,type:n="button","aria-label":a,buttonStyle:l="primary",children:r,className:i,disabled:s,el:c="button",enableSubMenu:d,icon:p,iconPosition:h="right",iconStyle:f="without-border",margin:m=!0,newTab:g,onClick:v,onMouseDown:b,ref:x,round:y,size:w="medium",SubMenuPopupContent:j,to:C,tooltip:S,url:_}=e,[k,N]=o.useState(!1),D=["btn",i&&i,p&&"".concat("btn","--icon"),f&&"".concat("btn","--icon-style-").concat(f),p&&!r&&"".concat("btn","--icon-only"),w&&"".concat("btn","--size-").concat(w),p&&h&&"".concat("btn","--icon-position-").concat(h),S&&"".concat("btn","--has-tooltip"),!j&&"".concat("btn","--withoutPopup"),!m&&"".concat("btn","--no-margin")].filter(Boolean).join(" "),E=[l&&"".concat("btn","--style-").concat(l),s&&"".concat("btn","--disabled"),y&&"".concat("btn","--round"),j?"".concat("btn","--withPopup"):"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),P={id:t,type:n,"aria-disabled":s,"aria-label":a,className:j?D:[D,E].join(" "),disabled:s,onClick:s?void 0:function(e){N(!1),"submit"!==n&&v&&e.preventDefault(),v&&v(e)},onMouseDown:s?void 0:b,onPointerEnter:S?()=>N(!0):void 0,onPointerLeave:S?()=>N(!1):void 0,rel:g?"noopener noreferrer":void 0,target:g?"_blank":void 0},T,A;switch(c){case"anchor":T=(0,u.jsx)("a",{...P,href:s?void 0:_,ref:x,children:(0,u.jsx)(td,{icon:p,showTooltip:k,tooltip:S,children:r})});break;case"link":s&&(T=(0,u.jsx)("div",{...P,children:(0,u.jsx)(td,{icon:p,showTooltip:k,tooltip:S,children:r})})),T=(0,u.jsx)(eY,{...P,href:C||_,prefetch:A,children:(0,u.jsx)(td,{icon:p,showTooltip:k,tooltip:S,children:r})});break;default:T=(0,u.jsx)(c,{ref:x,...P,children:(0,u.jsx)(td,{icon:p,showTooltip:k,tooltip:S,children:r})})}return j?(0,u.jsxs)("div",{className:E,children:[T,(0,u.jsx)(ts,{button:(0,u.jsx)(eX,{}),buttonSize:w,className:s&&!d?"".concat("btn","--popup-disabled"):"",disabled:s&&!d,horizontalAlign:"right",id:"".concat(t,"-popup"),noBackground:!0,render:e=>{let{close:t}=e;return j({close:()=>t()})},size:"large",verticalAlign:"bottom"})]}):T};function th(e){var t,n;let a;return e?"[object Window]"===(a=Object.prototype.toString.call(e))||"[object global]"===a?e:"nodeType"in e&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}var tf="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement?o.useLayoutEffect:o.useEffect,tm={},tg=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((e,t)=>{for(let[n,a]of Object.entries(t)){let t=e[n];null!=t&&(e[n]=t+-1*a)}return e},{...e})},tv=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tv.Translate.toString(e),tv.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}});function tb(e,t,n){let a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function tx(e){return null!==e&&e>=0}var ty=e=>{let{rects:t,activeIndex:n,overIndex:a,index:l}=e,o=tb(t,a,n),r=t[l],i=o[l];return i&&r?{x:i.left-r.left,y:i.top-r.top,scaleX:i.width/r.width,scaleY:i.height/r.height}:null},tw="Sortable",tj=o.createContext({activeIndex:-1,containerId:tw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ty,disabled:{draggable:!1,droppable:!1}});function tC(e){let{children:t,id:n,items:a,strategy:l=ty,disabled:r=!1}=e,{active:i,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=(0,m.fF)(),p=(0,o.useMemo)(()=>{if(n)return n;let e=null==tm[tw]?0:tm[tw]+1;return tm[tw]=e,tw+"-"+e},[tw,n]),h=null!==s.rect,f=(0,o.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),g=null!=i,v=i?f.indexOf(i.id):-1,b=u?f.indexOf(u.id):-1,x=(0,o.useRef)(f),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(f,x.current),w=-1!==b&&-1===v||y,j="boolean"==typeof r?{draggable:r,droppable:r}:r;tf(()=>{y&&g&&d(f)},[y,f,g,d]),(0,o.useEffect)(()=>{x.current=f},[f]);let C=(0,o.useMemo)(()=>({activeIndex:v,containerId:p,disabled:j,disableTransforms:w,items:f,overIndex:b,useDragOverlay:h,sortedRects:f.reduce((e,t,n)=>{let a=c.get(t);return a&&(e[n]=a),e},Array(f.length)),strategy:l}),[v,p,j.draggable,j.droppable,w,f,b,c,h,l]);return o.createElement(tj.Provider,{value:C},t)}var tS=e=>{let{id:t,items:n,activeIndex:a,overIndex:l}=e;return tb(n,a,l).indexOf(t)},t_=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:l,items:o,newIndex:r,previousItems:i,previousContainerId:s,transition:c}=e;return!!c&&!!a&&(i===o||l!==r)&&(!!n||r!==l&&t===s)},tk={duration:200,easing:"ease"},tN="transform",tD=tv.Transition.toString({property:tN,duration:0,easing:"linear"}),tE={roleDescription:"sortable"};function tP(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var tT=[m.vL.Down,m.vL.Right,m.vL.Up,m.vL.Left],tA=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:l,droppableContainers:o,over:r,scrollableAncestors:i}}=t;if(tT.includes(e.code)){if(e.preventDefault(),!n||!a)return;let t=[];o.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let o=l.get(n.id);if(o)switch(e.code){case m.vL.Down:a.top<o.top&&t.push(n);break;case m.vL.Up:a.top>o.top&&t.push(n);break;case m.vL.Left:a.left>o.left&&t.push(n);break;case m.vL.Right:a.left<o.left&&t.push(n)}});let s=(0,m.y$)({active:n,collisionRect:a,droppableRects:l,droppableContainers:t,pointerCoordinates:null}),c=(0,m.Vy)(s,"id");if(c===(null==r?void 0:r.id)&&s.length>1&&(c=s[1].id),null!=c){let e=o.get(n.id),t=o.get(c),r=t?l.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&r&&e&&t){let n=(0,m.sl)(s).some((e,t)=>i[t]!==e),l=tO(e,t),o=function(e,t){return!!tP(e)&&!!tP(t)&&!!tO(e,t)&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!l?{x:0,y:0}:{x:o?a.width-r.width:0,y:o?a.height-r.height:0},u={x:r.left,y:r.top};return c.x&&c.y?u:tg(u,c)}}}};function tO(e,t){return!!tP(e)&&!!tP(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var tI=e=>{let t,n,a=(0,d.c)(17),{id:l,disabled:r}=e,i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},a[0]=i):i=a[0],a[1]!==r||a[2]!==l?(t={id:l,disabled:r,transition:i},a[1]=r,a[2]=l,a[3]=t):t=a[3];let{attributes:s,isDragging:c,listeners:u,setNodeRef:p,transform:h,transition:f}=function(e){var t,n,a,l;let{animateLayoutChanges:r=t_,attributes:i,disabled:s,data:c,getNewIndex:u=tS,id:d,strategy:p,resizeObserverConfig:h,transition:f=tk}=e,{items:g,containerId:v,activeIndex:b,disabled:x,disableTransforms:y,sortedRects:w,overIndex:j,useDragOverlay:C,strategy:S}=(0,o.useContext)(tj),_=(t=s,n=x,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(a=null==t?void 0:t.draggable)?a:n.draggable,droppable:null!=(l=null==t?void 0:t.droppable)?l:n.droppable}),k=g.indexOf(d),N=(0,o.useMemo)(()=>({sortable:{containerId:v,index:k,items:g},...c}),[v,c,k,g]),D=(0,o.useMemo)(()=>g.slice(g.indexOf(d)),[g,d]),{rect:E,node:P,isOver:T,setNodeRef:A}=(0,m.zM)({id:d,data:N,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...h}}),{active:O,activatorEvent:I,activeNodeRect:R,attributes:L,setNodeRef:M,listeners:F,isDragging:B,over:z,setActivatorNodeRef:V,transform:U}=(0,m.PM)({id:d,data:N,attributes:{...tE,...i},disabled:_.draggable}),H=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(A,M),q=!!O,K=q&&!y&&tx(b)&&tx(j),W=!C&&B,Y=W&&K?U:null,G=K?null!=Y?Y:(null!=p?p:S)({rects:w,activeNodeRect:R,activeIndex:b,overIndex:j,index:k}):null,Q=tx(b)&&tx(j)?u({id:d,items:g,activeIndex:b,overIndex:j}):k,X=null==O?void 0:O.id,$=(0,o.useRef)({activeId:X,items:g,newIndex:Q,containerId:v}),Z=g!==$.current.items,J=r({active:O,containerId:v,isDragging:B,isSorting:q,id:d,index:k,items:g,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:f,wasDragging:null!=$.current.activeId}),ee=function(e){let{disabled:t,index:n,node:a,rect:l}=e,[r,i]=(0,o.useState)(null),s=(0,o.useRef)(n);return tf(()=>{if(!t&&n!==s.current&&a.current){let e=l.current;if(e){let t=(0,m.Sj)(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&i(n)}}n!==s.current&&(s.current=n)},[t,n,a,l]),(0,o.useEffect)(()=>{r&&i(null)},[r]),r}({disabled:!J,index:k,node:P,rect:E});return(0,o.useEffect)(()=>{q&&$.current.newIndex!==Q&&($.current.newIndex=Q),v!==$.current.containerId&&($.current.containerId=v),g!==$.current.items&&($.current.items=g)},[q,Q,v,g]),(0,o.useEffect)(()=>{if(X===$.current.activeId)return;if(X&&!$.current.activeId){$.current.activeId=X;return}let e=setTimeout(()=>{$.current.activeId=X},50);return()=>clearTimeout(e)},[X]),{active:O,activeIndex:b,attributes:L,data:N,rect:E,index:k,newIndex:Q,items:g,isOver:T,isSorting:q,isDragging:B,listeners:F,node:P,overIndex:j,over:z,setNodeRef:H,setActivatorNodeRef:V,setDroppableNodeRef:A,setDraggableNodeRef:M,transform:null!=ee?ee:G,transition:ee||Z&&$.current.newIndex===k?tD:!(W&&!function(e){if(!e)return!1;let{KeyboardEvent:t}=th(e.target);return t&&e instanceof t}(I)||!f)&&(q||J)?tv.Transition.toString({...f,property:tN}):void 0}}(t),g=c?"grabbing":"grab",v;a[4]!==g||a[5]!==f?(v={cursor:g,transition:f},a[4]=g,a[5]=f,a[6]=v):v=a[6],a[7]!==s||a[8]!==v?(n={...s,style:v},a[7]=s,a[8]=v,a[9]=n):n=a[9];let b=h&&"translate3d(".concat(h.x,"px, ").concat(h.y,"px, 0)"),x;return a[10]!==c||a[11]!==u||a[12]!==p||a[13]!==n||a[14]!==b||a[15]!==f?(x={attributes:n,isDragging:c,listeners:u,setNodeRef:p,transform:b,transition:f},a[10]=c,a[11]=u,a[12]=p,a[13]=n,a[14]=b,a[15]=f,a[16]=x):x=a[16],x},tR=e=>{let t=(0,d.c)(12),{id:n,children:a,disabled:l}=e,r;t[0]!==l||t[1]!==n?(r={id:n,disabled:l},t[0]=l,t[1]=n,t[2]=r):r=t[2];let{attributes:i,isDragging:s,listeners:c,setNodeRef:p,transform:h,transition:f}=tI(r),m=s?"grabbing":"grab",g;return t[3]!==i||t[4]!==a||t[5]!==s||t[6]!==c||t[7]!==p||t[8]!==m||t[9]!==h||t[10]!==f?(g=(0,u.jsx)(o.Fragment,{children:a({attributes:{...i,style:{cursor:m}},isDragging:s,listeners:c,setNodeRef:p,transform:h,transition:f})}),t[3]=i,t[4]=a,t[5]=s,t[6]=c,t[7]=p,t[8]=m,t[9]=h,t[10]=f,t[11]=g):g=t[11],g},tL=e=>{let t,n=(0,d.c)(18),{children:a,className:l,ids:r,onDragEnd:i,onDragStart:s}=e,c=(0,o.useId)(),p;n[0]!==c?(p={id:c},n[0]=c,n[1]=p):p=n[1];let{setNodeRef:h}=(0,m.zM)(p),f;n[2]===Symbol.for("react.memo_cache_sentinel")?(f={activationConstraint:{distance:5}},n[2]=f):f=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(t={coordinateGetter:tA},n[3]=t):t=n[3];let g=(0,m.FR)((0,m.MS)(m.AN,f),(0,m.MS)(m.uN,t)),v;n[4]!==r||n[5]!==i?(v=e=>{let{active:t,over:n}=e;e.activatorEvent.stopPropagation(),t&&n&&"function"==typeof i&&i({event:e,moveFromIndex:r.findIndex(e=>e===t.id),moveToIndex:r.findIndex(e=>e===n.id)})},n[4]=r,n[5]=i,n[6]=v):v=n[6];let b=v,x;n[7]!==s?(x=e=>{let{active:t}=e;t&&"function"==typeof s&&s({id:t.id,event:e})},n[7]=s,n[8]=x):x=n[8];let y=x,w;return n[9]!==a||n[10]!==l||n[11]!==b||n[12]!==y||n[13]!==c||n[14]!==r||n[15]!==g||n[16]!==h?(w=(0,u.jsx)(m.Mp,{collisionDetection:m.fp,id:c,onDragEnd:b,onDragStart:y,sensors:g,children:(0,u.jsx)(tC,{items:r,children:(0,u.jsx)("div",{className:l,ref:h,children:a})})}),n[9]=a,n[10]=l,n[11]=b,n[12]=y,n[13]=c,n[14]=r,n[15]=g,n[16]=h,n[17]=w):w=n[17],w},tM="error-pill",tF=e=>{let{className:t,count:n,i18n:a,withMessage:l}=e,o=[tM,!l&&n<99&&"".concat(tM,"--fixed-width"),t&&t].filter(Boolean).join(" ");return 0===n?null:(0,u.jsx)("div",{className:o,children:(0,u.jsxs)("div",{className:"".concat(tM,"__content"),children:[(0,u.jsx)("span",{className:"".concat(tM,"__count"),children:n}),l&&" ".concat(n>1?a.t("general:errors"):a.t("general:error"))]})})},tB="field-description",tz=e=>{let t=(0,d.c)(8),{className:n,description:a,marginPlacement:l,path:o}=e,{i18n:r}=(0,s.d)();if(a){let e="field-description-".concat(null==o?void 0:o.replace(/\./g,"__")),i=l&&"".concat(tB,"--margin-").concat(l),s;t[0]!==n||t[1]!==e||t[2]!==i?(s=[tB,n,e,i].filter(Boolean),t[0]=n,t[1]=e,t[2]=i,t[3]=s):s=t[3];let c=s.join(" "),d;return t[4]!==a||t[5]!==r||t[6]!==c?(d=(0,u.jsx)("div",{className:c,children:(0,p.sC)(a,r)}),t[4]=a,t[5]=r,t[6]=c,t[7]=d):d=t[7],d}return null},tV=e=>{let t=(0,d.c)(7),{alignCaret:n,message:a,path:l,showError:o}=e,r=void 0===n?"right":n,i=eP(),s;t[0]!==l?(s=e=>{let[t]=e;return t&&(null==t?void 0:t[l])||null},t[0]=l,t[1]=s):s=t[1];let c=eR(s),p;t[2]!==c?(p=c||{},t[2]=c,t[3]=p):p=t[3];let{errorMessage:h,valid:f}=p,m=a||h;if((o||i&&!1===f)&&(null==m?void 0:m.length)){let e;return t[4]!==r||t[5]!==m?(e=(0,u.jsx)(tc,{alignCaret:r,className:"field-error",delay:0,staticPositioning:!0,children:m}),t[4]=r,t[5]=m,t[6]=e):e=t[6],e}return null},tU=(0,o.createContext)(0),tH=e=>{let t=(0,d.c)(3),{children:n}=e,a=tq()+1,l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)(tU,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},tq=()=>(0,o.use)(tU),tK=(e,t)=>(null==e?void 0:e.locales)&&0!==e.locales.length?e.locales.find(e=>(null==e?void 0:e.code)===t):null;function tW(){return(tW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function tY(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}function tG(e,t){return(tG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tQ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tG(e,t)}function tX(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var t$={disabled:!1},tZ=o.createContext(null),tJ=function(e){return e.scrollTop},t0="unmounted",t1="exited",t3="entering",t2="entered",t6="exiting",t5=function(e){function t(t,n){var a,l=e.call(this,t,n)||this,o=n&&!n.isMounting?t.enter:t.appear;return l.appearStatus=null,t.in?o?(a=t1,l.appearStatus=t3):a=t2:a=t.unmountOnExit||t.mountOnEnter?t0:t1,l.state={status:a},l.nextCallback=null,l}tQ(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===t0?{status:t1}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==t3&&n!==t2&&(t=t3):(n===t3||n===t2)&&(t=t6)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!=typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===t3){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&tJ(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===t1&&this.setState({status:t0})},n.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,l=this.props.nodeRef?[a]:[r.findDOMNode(this),a],o=l[0],i=l[1],s=this.getTimeouts(),c=a?s.appear:s.enter;if(!e&&!n||t$.disabled)return void this.safeSetState({status:t2},function(){t.props.onEntered(o)});this.props.onEnter(o,i),this.safeSetState({status:t3},function(){t.props.onEntering(o,i),t.onTransitionEnd(c,function(){t.safeSetState({status:t2},function(){t.props.onEntered(o,i)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:r.findDOMNode(this);if(!t||t$.disabled)return void this.safeSetState({status:t1},function(){e.props.onExited(a)});this.props.onExit(a),this.safeSetState({status:t6},function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:t1},function(){e.props.onExited(a)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(!n||a)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=l[0],i=l[1];this.props.addEndListener(o,i)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===t0)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,tY(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(tZ.Provider,{value:null},"function"==typeof n?n(e,a):o.cloneElement(o.Children.only(n),a))},t}(o.Component);function t4(){}t5.contextType=tZ,t5.propTypes={},t5.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:t4,onEntering:t4,onEntered:t4,onExit:t4,onExiting:t4,onExited:t4},t5.UNMOUNTED=t0,t5.EXITED=t1,t5.ENTERING=t3,t5.ENTERED=t2,t5.EXITING=t6;var t8=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=tX(e.className,t):e.setAttribute("class",tX(e.className&&e.className.baseVal||"",t))})},t7=function(e){function t(){for(var t,n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1];t.removeClasses(l,"exit"),t.addClass(l,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1];t.addClass(l,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1]?"appear":"enter";t.removeClasses(l,o),t.addClass(l,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,a="string"==typeof n,l=a&&n?n+"-":"",o=a?""+l+e:n[e],r=a?o+"-active":n[e+"Active"],i=a?o+"-done":n[e+"Done"];return{baseClassName:o,activeClassName:r,doneClassName:i}},t}tQ(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var a,l=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(l+=" "+o),"active"===n&&e&&tJ(e),l&&(this.appliedClasses[t][n]=l,a=l,e&&a&&a.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],a=n.base,l=n.active,o=n.done;this.appliedClasses[t]={},a&&t8(e,a),l&&t8(e,l),o&&t8(e,o)},n.render=function(){var e=this.props,t=(e.classNames,tY(e,["classNames"]));return o.createElement(t5,tW({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);t7.defaultProps={classNames:""},t7.propTypes={};var t9=(0,o.createContext)({}),ne=()=>(0,o.useContext)(t9),nt=e=>e?{appear:"".concat(e,"--appear"),appearActive:"".concat(e,"--appearActive"),appearDone:"".concat(e,"--appearDone"),enter:"".concat(e,"--enter"),enterActive:"".concat(e,"--enterActive"),enterDone:"".concat(e,"--enterDone"),exit:"".concat(e,"--exit"),exitActive:"".concat(e,"--exitActive"),exitDone:"".concat(e,"--exitDone")}:{};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach(function(t){var a,l,o;a=e,l=t,o=n[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(l))in a?Object.defineProperty(a,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[l]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,s.j)();var nl={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);-1===a||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},no=function(e){return(null==e?void 0:e.key)==="Tab"||(null==e?void 0:e.keyCode)===9},nr=function(e){return no(e)&&!e.shiftKey},ni=function(e){return no(e)&&e.shiftKey},ns=function(e){return setTimeout(e,0)},nc=function(e,t){var n=-1;return e.every(function(e,a){return!t(e)||(n=a,!1)}),n},nu=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"==typeof e?e.apply(void 0,n):e},nd=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},np=[],nh=function(e,t){var n,a=(null==t?void 0:t.document)||document,l=(null==t?void 0:t.trapStack)||np,o=na({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:nr,isKeyBackward:ni},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},i=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},c=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return r.containerGroups.findIndex(function(t){var a=t.container,l=t.tabbableNodes;return a.contains(e)||(null==n?void 0:n.includes(a))||l.find(function(t){return t===e})})},u=function(e){var t=o[e];if("function"==typeof t){for(var n=arguments.length,l=Array(n>1?n-1:0),r=1;r<n;r++)l[r-1]=arguments[r];t=t.apply(void 0,l)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var i=t;if("string"==typeof t&&!(i=a.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return i},d=function(){var e=u("initialFocus");if(!1===e)return!1;if(void 0===e||!(0,s.i)(e,o.tabbableOptions))if(c(a.activeElement)>=0)e=a.activeElement;else{var t=r.tabbableGroups[0];e=t&&t.firstTabbableNode||u("fallbackFocus")}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},p=function(){if(r.containerGroups=r.containers.map(function(e){var t=(0,s.f)(e,o.tabbableOptions),n=(0,s.g)(e,o.tabbableOptions),a=t.length>0?t[0]:void 0,l=t.length>0?t[t.length-1]:void 0,r=n.find(function(e){return(0,s.h)(e)}),i=n.slice().reverse().find(function(e){return(0,s.h)(e)}),c=!!t.find(function(e){return(0,s.e)(e)>0});return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:c,firstTabbableNode:a,lastTabbableNode:l,firstDomTabbableNode:r,lastDomTabbableNode:i,nextTabbableNode:function(e){var a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=t.indexOf(e);return l<0?a?n.slice(n.indexOf(e)+1).find(function(e){return(0,s.h)(e)}):n.slice(0,n.indexOf(e)).reverse().find(function(e){return(0,s.h)(e)}):t[l+(a?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!u("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(e){return e.posTabIndexesFound})&&r.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},f=function e(t){if(!1!==t&&t!==h(document)){if(!t||!t.focus)return void e(d());t.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},m=function(e){var t=u("setReturnFocus",e);return t||!1!==t&&e},g=function(e){var t=e.target,n=e.event,a=e.isBackward,l=void 0!==a&&a;t=t||nd(n),p();var i=null;if(r.tabbableGroups.length>0){var d=c(t,n),h=d>=0?r.containerGroups[d]:void 0;if(d<0)i=l?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(l){var f=nc(r.tabbableGroups,function(e){var n=e.firstTabbableNode;return t===n});if(f<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(f=d),f>=0){var m=0===f?r.tabbableGroups.length-1:f-1,g=r.tabbableGroups[m];i=(0,s.e)(t)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else no(n)||(i=h.nextTabbableNode(t,!1))}else{var v=nc(r.tabbableGroups,function(e){var n=e.lastTabbableNode;return t===n});if(v<0&&(h.container===t||(0,s.i)(t,o.tabbableOptions)&&!(0,s.h)(t,o.tabbableOptions)&&!h.nextTabbableNode(t))&&(v=d),v>=0){var b=v===r.tabbableGroups.length-1?0:v+1,x=r.tabbableGroups[b];i=(0,s.e)(t)>=0?x.firstTabbableNode:x.firstDomTabbableNode}else no(n)||(i=h.nextTabbableNode(t))}}else i=u("fallbackFocus");return i},v=function(e){if(!(c(nd(e),e)>=0)){if(nu(o.clickOutsideDeactivates,e))return void n.deactivate({returnFocus:o.returnFocusOnDeactivate});nu(o.allowOutsideClick,e)||e.preventDefault()}},b=function(e){var t=nd(e),n=c(t,e)>=0;if(n||t instanceof Document)n&&(r.mostRecentlyFocusedNode=t);else{e.stopImmediatePropagation();var a,l=!0;if(r.mostRecentlyFocusedNode)if((0,s.e)(r.mostRecentlyFocusedNode)>0){var i=c(r.mostRecentlyFocusedNode),u=r.containerGroups[i].tabbableNodes;if(u.length>0){var p=u.findIndex(function(e){return e===r.mostRecentlyFocusedNode});p>=0&&(o.isKeyForward(r.recentNavEvent)?p+1<u.length&&(a=u[p+1],l=!1):p-1>=0&&(a=u[p-1],l=!1))}}else r.containerGroups.some(function(e){return e.tabbableNodes.some(function(e){return(0,s.e)(e)>0})})||(l=!1);else l=!1;l&&(a=g({target:r.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(r.recentNavEvent)})),f(a||r.mostRecentlyFocusedNode||d())}r.recentNavEvent=void 0},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.recentNavEvent=e;var n=g({event:e,isBackward:t});n&&(no(e)&&e.preventDefault(),f(n))},y=function(e){if(((null==e?void 0:e.key)==="Escape"||(null==e?void 0:e.key)==="Esc"||(null==e?void 0:e.keyCode)===27)&&!1!==nu(o.escapeDeactivates,e)){e.preventDefault(),n.deactivate();return}(o.isKeyForward(e)||o.isKeyBackward(e))&&x(e,o.isKeyBackward(e))},w=function(e){c(nd(e),e)>=0||nu(o.clickOutsideDeactivates,e)||nu(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(r.active)return nl.activateTrap(l,n),r.delayInitialFocusTimer=o.delayInitialFocus?ns(function(){f(d())}):f(d()),a.addEventListener("focusin",b,!0),a.addEventListener("mousedown",v,{capture:!0,passive:!1}),a.addEventListener("touchstart",v,{capture:!0,passive:!1}),a.addEventListener("click",w,{capture:!0,passive:!1}),a.addEventListener("keydown",y,{capture:!0,passive:!1}),n},C=function(){if(r.active)return a.removeEventListener("focusin",b,!0),a.removeEventListener("mousedown",v,!0),a.removeEventListener("touchstart",v,!0),a.removeEventListener("click",w,!0),a.removeEventListener("keydown",y,!0),n},S="u">typeof window&&"MutationObserver"in window?new MutationObserver(function(e){e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e===r.mostRecentlyFocusedNode})})&&f(d())}):void 0,_=function(){S&&(S.disconnect(),r.active&&!r.paused&&r.containers.map(function(e){S.observe(e,{subtree:!0,childList:!0})}))};return(n={get active(){return r.active},get paused(){return r.paused},activate:function(e){if(r.active)return this;var t=i(e,"onActivate"),n=i(e,"onPostActivate"),l=i(e,"checkCanFocusTrap");l||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=a.activeElement,null==t||t();var o=function(){l&&p(),j(),_(),null==n||n()};return l?l(r.containers.concat()).then(o,o):o(),this},deactivate:function(e){if(!r.active)return this;var t=na({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,C(),r.active=!1,r.paused=!1,_(),nl.deactivateTrap(l,n);var a=i(t,"onDeactivate"),s=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),u=i(t,"returnFocus","returnFocusOnDeactivate");null==a||a();var d=function(){ns(function(){u&&f(m(r.nodeFocusedBeforeActivation)),null==s||s()})};return u&&c?c(m(r.nodeFocusedBeforeActivation)).then(d,d):d(),this},pause:function(e){if(r.paused||!r.active)return this;var t=i(e,"onPause"),n=i(e,"onPostPause");return r.paused=!0,null==t||t(),C(),_(),null==n||n(),this},unpause:function(e){if(!r.paused||!r.active)return this;var t=i(e,"onUnpause"),n=i(e,"onPostUnpause");return r.paused=!1,null==t||t(),p(),j(),_(),null==n||n(),this},updateContainerElements:function(e){return r.containers=[].concat(e).filter(Boolean).map(function(e){return"string"==typeof e?a.querySelector(e):e}),r.active&&p(),_(),this}}).updateContainerElements(e),n},nf=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n},nm="modal-item",ng=(a=e=>{let{children:t}=e;return t?"function"==typeof t?(0,u.jsx)(o.Fragment,{children:t(e)}):(0,u.jsx)(o.Fragment,{children:t}):null},e=>{let t=ne(),n=(0,o.useRef)(null),[i,s]=(0,o.useState)(!1),c=(0,o.useRef)(!1),[d,p]=(0,o.useState)(null),{modalState:h,classPrefix:f,containerRef:m,transTime:g,setCloseOnBlur:v,setBodyScrollLock:b,openModal:x}=t,{className:y,htmlElement:w="dialog",slug:j="",closeOnBlur:C=!0,lockBodyScroll:S=!0,classPrefix:_,onEnter:k,onEntering:N,onEntered:D,onExit:E,onExiting:P,onExited:T,openOnInit:A,trapFocus:O=!0,focusTrapOptions:I={}}=e,R=nf(e,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),L=_||f,M=l||j,F=h[M]&&h[M].isOpen;(0,o.useEffect)(()=>{if(O){let e=n.current;!1===c.current&&e&&(p(nh(e,Object.assign(Object.assign({},I),{fallbackFocus:(null==I?void 0:I.fallbackFocus)||e,allowOutsideClick:!("u">typeof I.allowOutsideClick)||I.allowOutsideClick}))),c.current=!0)}},[O,i,I]),(0,o.useEffect)(()=>{s(!0)},[]),(0,o.useEffect)(()=>(d&&(F?d.activate():d.deactivate()),()=>{d&&d.deactivate()}),[F,d]),(0,o.useEffect)(()=>{F&&v(C)},[F,C,v]),(0,o.useEffect)(()=>{let e=n.current;return e&&b(!!(F&&S),e),()=>{e&&b(!1,e)}},[F,S,b]);let[B,z]=(0,o.useState)(F);if((0,o.useEffect)(()=>{F?z(F):setTimeout(()=>z(!1),g)},[F,g]),(0,o.useEffect)(()=>{A&&x(M)},[M,A,x]),m.current){let l=L?"".concat(L,"__").concat(nm):nm,o=[l,"".concat(l,"--slug-").concat(M),y].filter(Boolean).join(" "),i=Object.assign({role:"dialog"!==w?"dialog":void 0,open:"dialog"===w?B||F:void 0,"aria-modal":!0,"aria-label":R["aria-labelledby"]?void 0:M},R);return r.createPortal((0,u.jsx)(t7,{nodeRef:n,timeout:g,in:F,classNames:nt(l),appear:!0,onEnter:k,onEntering:N,onEntered:D,onExit:E,onExiting:P,onExited:T,children:(0,u.jsx)(w,Object.assign({ref:n,id:(null==R?void 0:R.id)||M,className:o},i,{children:(0,u.jsx)(a,Object.assign({},e,{isOpen:F,modal:t}))}))}),m.current)}return null}),nv=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n},nb="modal-container",nx=e=>{let{oneModalIsOpen:t,classPrefix:n,transTime:a,setContainerRef:l,containerRef:o,closeAllModals:r,closeOnBlur:i}=ne(),{className:s,htmlElement:c="div",children:d,onClick:p}=e,h=nv(e,["className","htmlElement","children","onClick"]),f=n?"".concat(n,"__").concat(nb):nb,m=[f,s].filter(Boolean).join(" "),g=Object.assign(Object.assign({},h),{onClick:e=>{i&&r(),"function"==typeof p&&p(e)}});return(0,u.jsx)(t7,{nodeRef:o,in:t,timeout:a,classNames:nt(f),appear:!0,children:(0,u.jsx)(c,Object.assign({className:m,ref:l},g,{children:d&&d}))})},ny=!1;"u">typeof window&&(nw={get passive(){ny=!0}},window.addEventListener("testPassive",null,nw),window.removeEventListener("testPassive",null,nw));var nw,nj="u">typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),nC=[],nS=!1,n_=-1,nk=void 0,nN=void 0,nD=void 0,nE=function(e){return nC.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},nP=function(e){var t=e||window.event;return!!nE(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},nT=function(e){if(void 0===nD){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);nD=document.body.style.paddingRight,document.body.style.paddingRight=a+n+"px"}}void 0===nk&&(nk=document.body.style.overflow,document.body.style.overflow="hidden")},nA=function(){void 0!==nD&&(document.body.style.paddingRight=nD,nD=void 0),void 0!==nk&&(document.body.style.overflow=nk,nk=void 0)},nO=function(){if(void 0!==nN){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=nN.position,document.body.style.top=nN.top,document.body.style.left=nN.left,window.scrollTo(t,e),nN=void 0}},nI=function(e,t){var n=e.targetTouches[0].clientY-n_;return!nE(e.target)&&(t&&0===t.scrollTop&&n>0||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?nP(e):(e.stopPropagation(),!0))},nR=function(e,t){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");!nC.some(function(t){return t.targetElement===e})&&(nC=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(nC),[{targetElement:e,options:t||{}}]),nj?window.requestAnimationFrame(function(){if(void 0===nN){nN={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,a=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=a-window.innerHeight;e&&t>=a&&(document.body.style.top=-(t+e))})},300)}}):nT(t),nj&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(n_=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&nI(t,e)},nS||(document.addEventListener("touchmove",nP,ny?{passive:!1}:void 0),nS=!0)))},nL=function(e){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");nC=nC.filter(function(t){return t.targetElement!==e}),nj&&(e.ontouchstart=null,e.ontouchmove=null,nS&&0===nC.length&&(document.removeEventListener("touchmove",nP,ny?{passive:!1}:void 0),nS=!1)),nj?nO():nA()},nM=e=>{let{classPrefix:t,zIndex:n}=e,a=t?"".concat(t,"__"):"";return"\n    .".concat(a).concat(nb," {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      pointer-events: none;\n      visibility: hidden;\n      z-index: -1;\n    }\n\n    .").concat(a).concat(nb,"--appear,\n    .").concat(a).concat(nb,"--appearDone,\n    .").concat(a).concat(nb,"--enter,\n    .").concat(a).concat(nb,"--enterDone,\n    .").concat(a).concat(nb,"--exit {\n      pointer-events: all;\n      visibility: visible;\n      z-index: ").concat(n,";\n    }\n\n    .").concat(a).concat(nm," {\n      position: absolute;\n      visibility: hidden;\n    }\n\n    .").concat(a).concat(nm,"--appear,\n    .").concat(a).concat(nm,"--appearDone,\n    .").concat(a).concat(nm,"--enter,\n    .").concat(a).concat(nm,"--enterDone,\n    .").concat(a).concat(nm,"--exit {\n      visibility: visible;\n    }\n  ")},nF=(e,t)=>{let n=Object.assign({},e),{type:a,payload:l}=t;switch(a){case"UPDATE_MODAL":{let{slug:e}=l;e&&(n[e]=Object.assign(Object.assign({},n[e]),l));break}case"OPEN_MODAL":{let{slug:e}=l;e&&(e in n&&n[e].isOpen||(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:e}=l;if(e){let t=e in n&&n[e].isOpen;n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:t?void 0:Date.now(),isOpen:!t})}break}case"CLOSE_MODAL":{let{slug:e}=l;e&&(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:e}=l;e&&e in n&&delete n[e];break}case"CLOSE_LATEST_MODAL":{let e=Object.keys(n).reduce((e,t)=>{let a=n[t];return a.isOpen&&"number"==typeof a.openedOn&&(!e||"number"==typeof e.openedOn&&a.openedOn>e.openedOn)?a:e},void 0);e&&(n[e.slug]=Object.assign(Object.assign({},n[e.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":n=Object.entries(n).reduce((e,t)=>{let[n,a]=t;return e[n]=Object.assign(Object.assign({},a),{isOpen:!1,openedOn:void 0}),e},{})}return n},nB=()=>{if("u">typeof window)return new URLSearchParams(window.location.search)},nz=()=>{let e=nB(),t=[];if(e){let n=e.get("modal");n&&(t=n.includes(",")?n.split(","):[n])}return t},nV=e=>{let{classPrefix:t,minifyCSS:n=!0,generateCSS:a=!0,zIndex:l=9999,handleParamChange:r,children:i,transTime:s=250}=e,c=(0,o.useRef)(null),[d,p]=(0,o.useReducer)(nF,{},()=>nz().reduce((e,t)=>(e[t]={slug:t,isOpen:!0,openedOn:Date.now()},e),{})),[h,f]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[x,y]=(0,o.useState)(""),w=(0,o.useRef)(!1),j=(0,o.useCallback)(e=>{27===e.keyCode&&p({type:"CLOSE_LATEST_MODAL"})},[]);(0,o.useEffect)(()=>(w.current||(document.addEventListener("keydown",e=>j(e),!1),w.current=!0),()=>{w.current&&document.removeEventListener("keydown",e=>j(e),!1)}),[j]),(0,o.useEffect)(()=>{if(a){let e="";e=nM({classPrefix:t,zIndex:l}),n&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),y(e)}},[a,n,l,t]),(0,o.useEffect)(()=>{if("function"==typeof r&&r(d),"boolean"==typeof r&&r){let e=Object.keys(d).filter(e=>d[e].isOpen),t=new URLSearchParams;for(let n of e)t.append("modal",n);let n=t.toString()?"?".concat(t):"",a="".concat(window.location.pathname).concat(n);window.history.pushState({},"",a)}},[d,r]),(0,o.useEffect)(()=>{f(Object.keys(d).some(e=>d[e].isOpen))},[d]);let C=(0,o.useCallback)((e,t)=>{t&&(e?(nR(t),b(!0)):(nL(t),b(!1)))},[]),S=(0,o.useCallback)(e=>{c.current=e},[]),_=(0,o.useCallback)(e=>{p({type:"OPEN_MODAL",payload:{slug:e}})},[]),k=(0,o.useCallback)(e=>{p({type:"CLOSE_MODAL",payload:{slug:e}})},[]),N=(0,o.useCallback)(()=>{p({type:"CLOSE_ALL_MODALS"})},[]),D=(0,o.useCallback)(e=>{p({type:"TOGGLE_MODAL",payload:{slug:e}})},[]),E=(0,o.useCallback)(e=>d[e]&&d[e].isOpen,[d]),P=Object.assign({},e);return delete P.children,(0,u.jsxs)(o.Fragment,{children:[a&&(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:x}}),(0,u.jsx)(t9.Provider,{value:Object.assign(Object.assign({},P),{transTime:s,containerRef:c,modalState:d,oneModalIsOpen:h,isModalOpen:E,closeOnBlur:m,bodyScrollIsLocked:v,classPrefix:t,closeAllModals:N,setCloseOnBlur:g,openModal:_,closeModal:k,toggleModal:D,setBodyScrollLock:C,setContainerRef:S}),children:i})]})},nU=e=>{switch(e){case"success":return nK;case"info":return nY;case"warning":return nW;case"error":return nG;default:return null}},nH=Array(12).fill(0),nq=e=>{let{visible:t,className:n}=e;return o.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},o.createElement("div",{className:"sonner-spinner"},nH.map((e,t)=>o.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},nK=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nW=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nY=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nG=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},o.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nQ=o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nX=()=>{let[e,t]=o.useState(document.hidden);return o.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e},n$=1,nZ=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...a}=e,l="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:n$++,o=this.toasts.find(e=>e.id===l),r=void 0===e.dismissible||e.dismissible;return o?this.toasts=this.toasts.map(t=>t.id===l?(this.publish({...t,...e,id:l,title:n}),{...t,...e,id:l,dismissible:r,title:n}):t):this.addToast({title:n,...a,dismissible:r,id:l}),l},this.dismiss=e=>(e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n;if(!t)return;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let a=e instanceof Promise?e:e(),l=void 0!==n,r,i=a.then(async e=>{if(r=["resolve",e],o.isValidElement(e))l=!1,this.create({id:n,type:"default",message:e});else if(nJ(e)&&!e.ok){l=!1;let a="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,o="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(void 0!==t.success){l=!1;let a="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){l=!1;let a="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var e;l&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),s=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||n$++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},nJ=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,n0=Object.assign((e,t)=>{let n=(null==t?void 0:t.id)||n$++;return nZ.addToast({title:e,...t,id:n}),n},{success:nZ.success,info:nZ.info,warning:nZ.warning,error:nZ.error,custom:nZ.custom,message:nZ.message,promise:nZ.promise,dismiss:nZ.dismiss,loading:nZ.loading},{getHistory:()=>nZ.toasts});function n1(e){return void 0!==e.label}function n3(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var n2=e=>{var t,n,a,l,r,i,s,c,u,d,p;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:v,visibleToasts:b,heights:x,index:y,toasts:w,expanded:j,removeToast:C,defaultRichColors:S,closeButton:_,style:k,cancelButtonStyle:N,actionButtonStyle:D,className:E="",descriptionClassName:P="",duration:T,position:A,gap:O,loadingIcon:I,expandByDefault:R,classNames:L,icons:M,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:B}=e,[z,V]=o.useState(null),[U,H]=o.useState(null),[q,K]=o.useState(!1),[W,Y]=o.useState(!1),[G,Q]=o.useState(!1),[X,$]=o.useState(!1),[Z,J]=o.useState(!1),[ee,et]=o.useState(0),[en,ea]=o.useState(0),el=o.useRef(f.duration||T||4e3),eo=o.useRef(null),er=o.useRef(null),ei=0===y,es=y+1<=b,ec=f.type,eu=!1!==f.dismissible,ed=f.className||"",ep=f.descriptionClassName||"",eh=o.useMemo(()=>x.findIndex(e=>e.toastId===f.id)||0,[x,f.id]),ef=o.useMemo(()=>{var e;return null!=(e=f.closeButton)?e:_},[f.closeButton,_]),em=o.useMemo(()=>f.duration||T||4e3,[f.duration,T]),eg=o.useRef(0),ev=o.useRef(0),eb=o.useRef(0),ex=o.useRef(null),[ey,ew]=A.split("-"),ej=o.useMemo(()=>x.reduce((e,t,n)=>n>=eh?e:e+t.height,0),[x,eh]),eC=nX(),eS=f.invert||h,e_="loading"===ec;ev.current=o.useMemo(()=>eh*O+ej,[eh,ej]),o.useEffect(()=>{el.current=em},[em]),o.useEffect(()=>{K(!0)},[]),o.useEffect(()=>{let e=er.current;if(e){let t=e.getBoundingClientRect().height;return ea(t),v(e=>[{toastId:f.id,height:t,position:f.position},...e]),()=>v(e=>e.filter(e=>e.toastId!==f.id))}},[v,f.id]),o.useLayoutEffect(()=>{if(!q)return;let e=er.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,ea(n),v(e=>e.find(e=>e.toastId===f.id)?e.map(e=>e.toastId===f.id?{...e,height:n}:e):[{toastId:f.id,height:n,position:f.position},...e])},[q,f.title,f.description,v,f.id]);let ek=o.useCallback(()=>{Y(!0),et(ev.current),v(e=>e.filter(e=>e.toastId!==f.id)),setTimeout(()=>{C(f)},200)},[f,C,v,ev]);return o.useEffect(()=>{let e;if((!f.promise||"loading"!==ec)&&f.duration!==1/0&&"loading"!==f.type)return j||g||B&&eC?(()=>{if(eb.current<eg.current){let e=new Date().getTime()-eg.current;el.current=el.current-e}eb.current=new Date().getTime()})():el.current!==1/0&&(eg.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=f.onAutoClose)||e.call(f,f),ek()},el.current)),()=>clearTimeout(e)},[j,g,f,ec,B,eC,ek]),o.useEffect(()=>{f.delete&&ek()},[ek,f.delete]),o.createElement("li",{tabIndex:0,ref:er,className:n3(E,ed,null==L?void 0:L.toast,null==(t=null==f?void 0:f.classNames)?void 0:t.toast,null==L?void 0:L.default,null==L?void 0:L[ec],null==(n=null==f?void 0:f.classNames)?void 0:n[ec]),"data-sonner-toast":"","data-rich-colors":null!=(a=f.richColors)?a:S,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":Z,"data-removed":W,"data-visible":es,"data-y-position":ey,"data-x-position":ew,"data-index":y,"data-front":ei,"data-swiping":G,"data-dismissible":eu,"data-type":ec,"data-invert":eS,"data-swipe-out":X,"data-swipe-direction":U,"data-expanded":!!(j||R&&q),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":"".concat(W?ee:ev.current,"px"),"--initial-height":R?"auto":"".concat(en,"px"),...k,...f.style},onPointerDown:e=>{e_||!eu||(eo.current=new Date,et(ev.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Q(!0),ex.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,a;if(X||!eu)return;ex.current=null;let l=Number((null==(e=er.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=er.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=new Date().getTime()-(null==(n=eo.current)?void 0:n.getTime()),i="x"===z?l:o,s=Math.abs(i)/r;if(Math.abs(i)>=20||s>.11){et(ev.current),null==(a=f.onDismiss)||a.call(f,f),H("x"===z?l>0?"right":"left":o>0?"down":"up"),ek(),$(!0),J(!1);return}Q(!1),V(null)},onPointerMove:t=>{var n,a,l,o;if(!ex.current||!eu||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let r=t.clientY-ex.current.y,i=t.clientX-ex.current.x,s=null!=(a=e.swipeDirections)?a:function(e){let[t,n]=e.split("-"),a=[];return t&&a.push(t),n&&a.push(n),a}(A);!z&&(Math.abs(i)>1||Math.abs(r)>1)&&V(Math.abs(i)>Math.abs(r)?"x":"y");let c={x:0,y:0};"y"===z?(s.includes("top")||s.includes("bottom"))&&(s.includes("top")&&r<0||s.includes("bottom")&&r>0)&&(c.y=r):"x"===z&&(s.includes("left")||s.includes("right"))&&(s.includes("left")&&i<0||s.includes("right")&&i>0)&&(c.x=i),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&J(!0),null==(l=er.current)||l.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(o=er.current)||o.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},ef&&!f.jsx?o.createElement("button",{"aria-label":F,"data-disabled":e_,"data-close-button":!0,onClick:e_||!eu?()=>{}:()=>{var e;ek(),null==(e=f.onDismiss)||e.call(f,f)},className:n3(null==L?void 0:L.closeButton,null==(l=null==f?void 0:f.classNames)?void 0:l.closeButton)},null!=(r=null==M?void 0:M.close)?r:nQ):null,f.jsx||(0,o.isValidElement)(f.title)?f.jsx?f.jsx:"function"==typeof f.title?f.title():f.title:o.createElement(o.Fragment,null,ec||f.icon||f.promise?o.createElement("div",{"data-icon":"",className:n3(null==L?void 0:L.icon,null==(i=null==f?void 0:f.classNames)?void 0:i.icon)},f.promise||"loading"===f.type&&!f.icon?f.icon||function(){var e,t,n;return null!=M&&M.loading?o.createElement("div",{className:n3(null==L?void 0:L.loader,null==(e=null==f?void 0:f.classNames)?void 0:e.loader,"sonner-loader"),"data-visible":"loading"===ec},M.loading):I?o.createElement("div",{className:n3(null==L?void 0:L.loader,null==(t=null==f?void 0:f.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ec},I):o.createElement(nq,{className:n3(null==L?void 0:L.loader,null==(n=null==f?void 0:f.classNames)?void 0:n.loader),visible:"loading"===ec})}():null,"loading"!==f.type?f.icon||(null==M?void 0:M[ec])||nU(ec):null):null,o.createElement("div",{"data-content":"",className:n3(null==L?void 0:L.content,null==(s=null==f?void 0:f.classNames)?void 0:s.content)},o.createElement("div",{"data-title":"",className:n3(null==L?void 0:L.title,null==(c=null==f?void 0:f.classNames)?void 0:c.title)},"function"==typeof f.title?f.title():f.title),f.description?o.createElement("div",{"data-description":"",className:n3(P,ep,null==L?void 0:L.description,null==(u=null==f?void 0:f.classNames)?void 0:u.description)},"function"==typeof f.description?f.description():f.description):null),(0,o.isValidElement)(f.cancel)?f.cancel:f.cancel&&n1(f.cancel)?o.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:e=>{var t,n;n1(f.cancel)&&eu&&(null==(n=(t=f.cancel).onClick)||n.call(t,e),ek())},className:n3(null==L?void 0:L.cancelButton,null==(d=null==f?void 0:f.classNames)?void 0:d.cancelButton)},f.cancel.label):null,(0,o.isValidElement)(f.action)?f.action:f.action&&n1(f.action)?o.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||D,onClick:e=>{var t,n;n1(f.action)&&(null==(n=(t=f.action).onClick)||n.call(t,e),e.defaultPrevented||ek())},className:n3(null==L?void 0:L.actionButton,null==(p=null==f?void 0:f.classNames)?void 0:p.actionButton)},f.action.label):null))};function n6(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var n5=(0,o.forwardRef)(function(e,t){let{invert:n,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:i,closeButton:s,className:c,offset:u,mobileOffset:d,theme:p="light",richColors:h,duration:f,style:m,visibleToasts:g=3,toastOptions:v,dir:b=n6(),gap:x=14,loadingIcon:y,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:C}=e,[S,_]=o.useState([]),k=o.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[N,D]=o.useState([]),[E,P]=o.useState(!1),[T,A]=o.useState(!1),[O,I]=o.useState("system"!==p?p:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=o.useRef(null),L=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=o.useRef(null),F=o.useRef(!1),B=o.useCallback(e=>{_(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||nZ.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return o.useEffect(()=>nZ.subscribe(e=>{if(e.dismiss)return void _(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t));setTimeout(()=>{r.flushSync(()=>{_(t=>{let n=t.findIndex(t=>t.id===e.id);return -1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[]),o.useEffect(()=>{if("system"!==p)return void I(p);if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;I(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{I(t?"dark":"light")}catch(e){console.error(e)}})}},[p]),o.useEffect(()=>{S.length<=1&&P(!1)},[S]),o.useEffect(()=>{let e=e=>{var t,n;l.every(t=>e[t]||e.code===t)&&(P(!0),null==(t=R.current)||t.focus()),"Escape"===e.code&&(document.activeElement===R.current||null!=(n=R.current)&&n.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),o.useEffect(()=>{if(R.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,F.current=!1)}},[R.current]),o.createElement("section",{ref:t,"aria-label":"".concat(j," ").concat(L),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((t,a)=>{var l;let r,[p,j]=t.split("-");return S.length?o.createElement("ol",{key:t,dir:"auto"===b?n6():b,tabIndex:-1,ref:R,className:c,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":p,"data-lifted":E&&S.length>1&&!i,"data-x-position":j,style:{"--front-toast-height":"".concat((null==(l=N[0])?void 0:l.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(x,"px"),...m,...(r={},[u,d].forEach((e,t)=>{let n=1===t,a=n?"--mobile-offset":"--offset",l=n?"16px":"32px";function o(e){["top","right","bottom","left"].forEach(t=>{r["".concat(a,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r["".concat(a,"-").concat(t)]=l:r["".concat(a,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):o(l)}),r)},onBlur:e=>{F.current&&!e.currentTarget.contains(e.relatedTarget)&&(F.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||F.current||(F.current=!0,M.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{T||P(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||A(!0)},onPointerUp:()=>A(!1)},S.filter(e=>!e.position&&0===a||e.position===t).map((a,l)=>{var r,c;return o.createElement(n2,{key:a.id,icons:w,index:l,toast:a,defaultRichColors:h,duration:null!=(r=null==v?void 0:v.duration)?r:f,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:s,interacting:T,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,removeToast:B,toasts:S.filter(e=>e.position==a.position),heights:N.filter(e=>e.position==a.position),setHeights:D,expandByDefault:i,gap:x,loadingIcon:y,expanded:E,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))}),n4="gutter",n8=e=>{let{children:t,className:n,left:a=!0,negativeLeft:l=!1,negativeRight:o=!1,ref:r,right:i=!0}=e,s=a&&!l,c=i&&!o;return(0,u.jsx)("div",{className:[n4,s&&"".concat(n4,"--left"),c&&"".concat(n4,"--right"),l&&"".concat(n4,"--negative-left"),o&&"".concat(n4,"--negative-right"),n].filter(Boolean).join(" "),ref:r,children:t})},n7=e=>{let t=(0,d.c)(3),n=(0,o.useId)(),a=tq(),l="".concat(e,"-").concat(n),r;return t[0]!==a||t[1]!==l?(r=ae({slug:l,depth:a}),t[0]=a,t[1]=l,t[2]=r):r=t[2],r},n9="drawer",ae=e=>{let{slug:t,depth:n}=e;return"drawer_".concat(n,"_").concat(t)},at=e=>{let t=(0,d.c)(17),n,a,l,o,r,i;t[0]!==e?({slug:i,children:n,className:a,disabled:l,onClick:o,...r}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o,t[5]=r,t[6]=i):(n=t[1],a=t[2],l=t[3],o=t[4],r=t[5],i=t[6]);let{openModal:s}=ne(),c;t[7]!==o||t[8]!==s||t[9]!==i?(c=e=>{s(i),"function"==typeof o&&o(e)},t[7]=o,t[8]=s,t[9]=i,t[10]=c):c=t[10];let p=c,h;return t[11]!==n||t[12]!==a||t[13]!==l||t[14]!==p||t[15]!==r?(h=(0,u.jsx)("button",{className:a,disabled:l,onClick:p,type:"button",...r,children:n}),t[11]=n,t[12]=a,t[13]=l,t[14]=p,t[15]=r,t[16]=h):h=t[16],h},an=e=>{let t,n,a=(0,d.c)(26),{slug:l,children:r,className:i,gutter:c,Header:p,hoverTitle:h,title:f}=e,m=void 0===c||c,{t:g}=(0,s.d)(),{closeModal:v,modalState:b}=ne(),x=ao(),[y,w]=(0,o.useState)(!1),[j,C]=(0,o.useState)(!1),S,_;if(a[0]!==b||a[1]!==l?(S=()=>{var e;w(null==(e=b[l])?void 0:e.isOpen)},_=[l,b],a[0]=b,a[1]=l,a[2]=S,a[3]=_):(S=a[2],_=a[3]),(0,o.useEffect)(S,_),a[4]!==y?(t=()=>{C(y)},n=[y],a[4]=y,a[5]=t,a[6]=n):(t=a[5],n=a[6]),(0,o.useEffect)(t,n),y){let e=j&&"".concat(n9,"--is-open"),t=x>1&&"".concat(n9,"--nested"),n;a[7]!==i||a[8]!==e||a[9]!==t?(n=[i,n9,e,t].filter(Boolean),a[7]=i,a[8]=e,a[9]=t,a[10]=n):n=a[10];let o=n.join(" "),c=100+x,d;if(a[11]!==p||a[12]!==r||a[13]!==v||a[14]!==x||a[15]!==m||a[16]!==h||a[17]!==l||a[18]!==g||a[19]!==c||a[20]!==o||a[21]!==f){let e;a[23]!==v||a[24]!==l?(e=()=>v(l),a[23]=v,a[24]=l,a[25]=e):e=a[25],d=(0,u.jsx)(al,{children:(0,u.jsxs)(ng,{className:o,slug:l,style:{zIndex:c},children:[(!x||1===x)&&(0,u.jsx)("div",{className:"".concat(n9,"__blur-bg")}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(n9,"__close"),id:"close-drawer__".concat(l),onClick:e,type:"button"}),(0,u.jsxs)("div",{className:"".concat(n9,"__content"),style:{width:"calc(100% - (".concat(x," * var(--gutter-h)))")},children:[(0,u.jsx)("div",{className:"".concat(n9,"__blur-bg-content")}),(0,u.jsxs)(n8,{className:"".concat(n9,"__content-children"),left:m,right:m,children:[p,void 0===p&&(0,u.jsxs)("div",{className:"".concat(n9,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(n9,"__header__title"),title:h?f:null,children:f}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(n9,"__header__close"),id:"close-drawer__".concat(l),onClick:()=>v(l),type:"button",children:(0,u.jsx)(s.a,{})})]}),r]})]})]})}),a[11]=p,a[12]=r,a[13]=v,a[14]=x,a[15]=m,a[16]=h,a[17]=l,a[18]=g,a[19]=c,a[20]=o,a[21]=f,a[22]=d}else d=a[22];return d}return null},aa=(0,o.createContext)(1),al=e=>{let t=(0,d.c)(3),{children:n}=e,a=ao()+1,l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)(aa,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},ao=()=>(0,o.use)(aa),ar="confirmation-modal";function ai(e){let t=(0,d.c)(33),{body:n,cancelLabel:a,className:l,confirmingLabel:r,confirmLabel:i,heading:c,modalSlug:p,onCancel:h,onConfirm:f}=e,m=ao(),[g,v]=o.useState(!1),{closeModal:b}=ne(),{t:x}=(0,s.d)(),y;t[0]!==b||t[1]!==g||t[2]!==p||t[3]!==f?(y=async()=>{g||(v(!0),"function"==typeof f&&await f(),v(!1),b(p))},t[0]=b,t[1]=g,t[2]=p,t[3]=f,t[4]=y):y=t[4];let w=y,j;t[5]!==b||t[6]!==g||t[7]!==p||t[8]!==h?(j=()=>{g||(b(p),"function"==typeof h&&h())},t[5]=b,t[6]=g,t[7]=p,t[8]=h,t[9]=j):j=t[9];let C=j,S;t[10]!==l?(S=[ar,l].filter(Boolean),t[10]=l,t[11]=S):S=t[11];let _=S.join(" "),k=100+m,N;if(t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==g||t[16]!==r||t[17]!==c||t[18]!==p||t[19]!==C||t[20]!==w||t[21]!==x||t[22]!==_||t[23]!==k){let e,l;t[25]!==a||t[26]!==x?(e=a||x("general:cancel"),t[25]=a,t[26]=x,t[27]=e):e=t[27],t[28]!==i||t[29]!==g||t[30]!==r||t[31]!==x?(l=g?r||"".concat(x("general:loading"),"..."):i||x("general:confirm"),t[28]=i,t[29]=g,t[30]=r,t[31]=x,t[32]=l):l=t[32],N=(0,u.jsx)(ng,{className:_,slug:p,style:{zIndex:k},children:(0,u.jsxs)("div",{className:"".concat(ar,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(ar,"__content"),children:[(0,u.jsx)("h1",{children:c}),(0,u.jsx)("p",{children:n})]}),(0,u.jsxs)("div",{className:"".concat(ar,"__controls"),children:[(0,u.jsx)(tp,{buttonStyle:"secondary",disabled:g,id:"confirm-cancel",onClick:C,size:"large",type:"button",children:e}),(0,u.jsx)(tp,{id:"confirm-action",onClick:w,size:"large",children:l})]})]})}),t[12]=n,t[13]=a,t[14]=i,t[15]=g,t[16]=r,t[17]=c,t[18]=p,t[19]=C,t[20]=w,t[21]=x,t[22]=_,t[23]=k,t[24]=N}else N=t[24];return N}var as="stay-logged-in",ac=()=>{let e=(0,d.c)(11),{refreshCookie:t}=af(),n=(0,f.useRouter)(),{config:a}=(0,i.b)(),{admin:l,routes:o}=a,{routes:r}=l,{logout:c}=r,{admin:p}=o,{t:h}=(0,s.d)(),{startRouteTransition:m}=eH(),v;e[0]!==p||e[1]!==c||e[2]!==n||e[3]!==m?(v=()=>m(()=>n.push((0,g.Q)({adminRoute:p,path:c}))),e[0]=p,e[1]=c,e[2]=n,e[3]=m,e[4]=v):v=e[4];let b=v,x;e[5]!==t?(x=()=>{t()},e[5]=t,e[6]=x):x=e[6];let y=x,w;return e[7]!==y||e[8]!==b||e[9]!==h?(w=(0,u.jsx)(ai,{body:h("authentication:youAreInactive"),cancelLabel:h("authentication:stayLoggedIn"),confirmLabel:h("authentication:logOut"),heading:h("authentication:stayLoggedIn"),modalSlug:as,onCancel:y,onConfirm:b}),e[7]=y,e[8]=b,e[9]=h,e[10]=w):w=e[10],w};function au(e,t){let n=(0,d.c)(4),[a,l]=(0,o.useState)(e),r,i;return n[0]!==t||n[1]!==e?(r=()=>{let n=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(n)}},i=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=i):(r=n[2],i=n[3]),(0,o.useEffect)(r,i),a}var ad={delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"delete"})},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n="";return t.params&&(n=v.A(t.params,{addQueryPrefix:!0})),fetch("".concat(e).concat(n),{credentials:"include",...t})},patch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"PATCH"})},post:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{},a={...t,credentials:"include",headers:{...n},method:"post"};return fetch("".concat(e),a)},put:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"put"})}},ap=(0,o.createContext)({});function ah(e){let{children:t,permissions:n,user:a}=e,[l,r]=(0,o.useState)(a),[c,d]=(0,o.useState)(),[p,h]=(0,o.useState)(),m=(0,f.usePathname)(),b=(0,f.useRouter)(),{config:x}=(0,i.b)(),{admin:{routes:{inactivity:y},user:w},routes:{admin:j,api:C},serverURL:S}=x,[_,k]=(0,o.useState)(n),{i18n:N}=(0,s.d)(),{closeAllModals:D,openModal:E}=ne(),[P,T]=(0,o.useState)(0),A=au(P,1e4),O=o.useRef(null),{startRouteTransition:I}=eH(),R=null==l?void 0:l.id,L=(0,o.useCallback)(()=>{I(()=>b.replace((0,g.Q)({adminRoute:j,path:"".concat(y).concat(window.location.pathname.startsWith(j)?"?redirect=".concat(encodeURIComponent(window.location.pathname)):"")}))),D()},[b,j,y,D,I]),M=(0,o.useCallback)(()=>{d(void 0),h(void 0),clearTimeout(O.current)},[]),F=(0,o.useCallback)(e=>{(null==e?void 0:e.user)?(r(e.user),d(e.token),h(e.exp)):(r(null),M())},[M]),B=(0,o.useCallback)(e=>{let t=("number"==typeof p?p:0)-Math.round(new Date().getTime()/1e3);return(e||p&&t<120)&&(O.current=setTimeout(()=>{!async function(){try{let e=await ad.post("".concat(S).concat(C,"/").concat(w,"/refresh-token?refresh"),{headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();F(t)}else F(null),L()}catch(e){n0.error(e.message)}}()},1e3)),()=>{clearTimeout(O.current)}},[C,N.language,L,S,F,p,w]),z=(0,o.useCallback)(async e=>{try{let t=await ad.post("".concat(S).concat(C,"/").concat(w,"/refresh-token"),{headers:{"Accept-Language":N.language}});if(200===t.status){let n=await t.json();return e||F(n),n.user}return F(null),L(),null}catch(e){return n0.error("Refreshing token failed: ".concat(e.message)),null}},[C,N.language,L,S,F,w]),V=(0,o.useCallback)(async()=>{try{return await ad.post("".concat(S).concat(C,"/").concat(l.collection,"/logout")),F(null),M(),!0}catch(e){return n0.error("Logging out failed: ".concat(e.message)),!1}},[C,M,S,F,l]),U=(0,o.useCallback)(async function(){let{locale:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v.A({locale:e},{addQueryPrefix:!0});try{let e=await ad.get("".concat(S).concat(C,"/access").concat(t),{headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();k(t)}else throw Error("Fetching permissions failed with status code ".concat(e.status))}catch(e){n0.error("Refreshing permissions failed: ".concat(e.message))}},[S,C,N]),H=o.useCallback(async()=>{try{let e=await ad.get("".concat(S).concat(C,"/").concat(w,"/me"),{credentials:"include",headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();return F(t),null}}catch(e){n0.error("Fetching user failed: ".concat(e.message))}return null},[S,C,w,N.language,F]);return(0,o.useEffect)(()=>{H()},[H]),(0,o.useEffect)(()=>{R&&B()},[A,B,R]),(0,o.useEffect)(()=>{T(Date.now())},[m]),(0,o.useEffect)(()=>{let e,t,n=Math.round(new Date().getTime()/1e3),a="number"==typeof p?p-n:0,o=Math.max(Math.min((a-60)*1e3,0x7fffffff),0),r=Math.max(Math.min(1e3*a,0x7fffffff),0);if(!l){clearTimeout(e),clearTimeout(t);return}return a>0&&(e=setTimeout(()=>{E(as)},o),t=setTimeout(()=>{F(null),L()},r)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[p,E,N,F,l,L]),(0,u.jsx)(ap,{value:{fetchFullUser:H,logOut:V,permissions:_,refreshCookie:B,refreshCookieAsync:z,refreshPermissions:U,setPermissions:k,setUser:F,token:c,user:l},children:t})}var af=()=>(0,o.use)(ap),am=(0,o.createContext)({}),ag=(e,t)=>({body:JSON.stringify({value:e}),headers:{"Accept-Language":t,"Content-Type":"application/json"}}),av=e=>{let{children:t}=e,n=(0,o.useRef)({}),a=(0,o.useRef)({}),l=(0,o.useRef)({}),{config:r}=(0,i.b)(),{user:c}=af(),{i18n:d}=(0,s.d)(),{routes:{api:p},serverURL:h}=r;(0,o.useEffect)(()=>{c||(a.current={})},[c]);let f=(0,o.useCallback)(async e=>{let t=a.current;if("u">typeof t[e])return t[e];let n=new Promise(t=>{(async()=>{let n=await ad.get("".concat(h).concat(p,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Accept-Language":d.language}}),l=null;200===n.status&&(l=(await n.json()).value),a.current[e]=l,t(l)})()});return t[e]=n,n},[d.language,p,a,h]),m=(0,o.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1===n){a.current[e]=t,await ad.post("".concat(h).concat(p,"/payload-preferences/").concat(e),ag(t,d.language));return}let o=t,r=await f(e);if("object"==typeof t&&"object"==typeof r&&"object"==typeof o){if(r&&(o=function e(t,n){let a={...t};for(let l in n)Object.prototype.hasOwnProperty.call(n,l)&&("object"==typeof n[l]&&!Array.isArray(n[l])&&t[l]?a[l]=e(t[l],n[l]):a[l]=n[l]);return a}(r,o)),(0,b.j)(o,r))return;l.current[e]={...l.current[e],...o}}else{if(o===r)return;l.current[e]=o}let i=async()=>{(0,b.j)(l.current[e],a.current[e])||(a.current[e]=l.current[e],await ad.post("".concat(h).concat(p,"/payload-preferences/").concat(e),ag(a.current[e],d.language)),delete l.current[e])};setTimeout(()=>{i()})},[p,f,d.language,l,h]);return n.current.getPreference=f,n.current.setPreference=m,(0,u.jsx)(am,{value:n.current,children:t})},ab=()=>(0,o.use)(am),ax=(0,o.createContext)({}),ay=(0,o.createContext)({localeIsLoading:!1,setLocaleIsLoading:e=>{}}),aw=async(e,t)=>{var n;return await (null==(n=fetch("".concat(t,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"}))?void 0:n.then(e=>e.json()))},aj=e=>{let t,n=(0,d.c)(27),{children:a,locale:l}=e,{config:r}=(0,i.b)(),{localization:s,routes:c,serverURL:p}=r,h=void 0!==s&&s,{api:m}=c,{user:g}=af(),v=h?h.defaultLocale:"en",{getPreference:b}=ab(),x=(0,f.useSearchParams)(),y;n[0]!==x?(y=x.get("locale"),n[0]=x,n[1]=y):y=n[1];let w=y,j;n[2]!==v||n[3]!==l||n[4]!==w||n[5]!==h?(j=()=>h&&(!h||h.locales.length)?tK(h,w)||tK(h,l)||tK(h,v)||tK(h,h.locales[0].code):{},n[2]=v,n[3]=l,n[4]=w,n[5]=h,n[6]=j):j=n[6];let[C,S]=o.useState(j),[_,k]=(0,o.useState)(!1),N=(0,o.useRef)(C),D,E;n[7]!==C?(D=()=>{C.code!==N.current.code&&k(!1),N.current=C},E=[C],n[7]=C,n[8]=D,n[9]=E):(D=n[8],E=n[9]),(0,o.useEffect)(D,E);let P="".concat(p).concat(m),T;n[10]!==v||n[11]!==P||n[12]!==w||n[13]!==h||n[14]!==(null==g?void 0:g.id)?(T=()=>{!async function(){if(h&&(null==g?void 0:g.id)){var e,t,n;let a=tK(h,w||await (null==(e=aw("locale",P))?void 0:e.then(a_)))||tK(h,v)||tK(h,null==h||null==(n=h.locales)||null==(t=n[0])?void 0:t.code);a&&S(a)}}()},n[10]=v,n[11]=P,n[12]=w,n[13]=h,n[14]=null==g?void 0:g.id,n[15]=T):T=n[15];let A=null==g?void 0:g.id,O;return n[16]!==v||n[17]!==P||n[18]!==b||n[19]!==w||n[20]!==h||n[21]!==A?(O=[v,b,h,P,w,A],n[16]=v,n[17]=P,n[18]=b,n[19]=w,n[20]=h,n[21]=A,n[22]=O):O=n[22],(0,o.useEffect)(T,O),n[23]!==a||n[24]!==_||n[25]!==C?(t=(0,u.jsx)(ax,{value:C,children:(0,u.jsx)(ay,{value:{localeIsLoading:_,setLocaleIsLoading:k},children:a})}),n[23]=a,n[24]=_,n[25]=C,n[26]=t):t=n[26],t},aC=()=>(0,o.use)(ay),aS=()=>(0,o.use)(ax);function a_(e){return e.value}var ak=(e,t,n)=>"field-".concat(null==e?void 0:e.replace(/\./g,"__")).concat(t>1?"-".concat(t):"").concat(n?"-".concat(n):""),aN=e=>{let t=(0,d.c)(25),{as:n,hideLocale:a,htmlFor:l,label:o,localized:r,path:i,required:c,unstyled:h}=e,f=void 0===n?"label":n,m=void 0!==a&&a,g=void 0!==r&&r,v=void 0!==c&&c,b=void 0!==h&&h,{uuid:x}=eN(),y=tq(),w;t[0]!==y||t[1]!==l||t[2]!==i||t[3]!==x?(w=l||ak(i,y,x),t[0]=y,t[1]=l,t[2]=i,t[3]=x,t[4]=w):w=t[4];let j=w,{i18n:C}=(0,s.d)(),{code:S,label:_}=aS();if(o){let e="field-label ".concat(b?"unstyled":""),n;if(t[5]!==f||t[6]!==S||t[7]!==m||t[8]!==j||t[9]!==C||t[10]!==o||t[11]!==_||t[12]!==g||t[13]!==v||t[14]!==e||t[15]!==b){let a,l;t[17]!==v||t[18]!==b?(a=v&&!b&&(0,u.jsx)("span",{className:"required",children:"*"}),t[17]=v,t[18]=b,t[19]=a):a=t[19],t[20]!==S||t[21]!==m||t[22]!==_||t[23]!==g?(l=g&&!m&&(0,u.jsxs)("span",{className:"localized",children:["— ","string"==typeof _?_:S]}),t[20]=S,t[21]=m,t[22]=_,t[23]=g,t[24]=l):l=t[24],n=(0,u.jsxs)(f,{className:e,htmlFor:j,children:[(0,p.sC)(o,C),a,l]}),t[5]=f,t[6]=S,t[7]=m,t[8]=j,t[9]=C,t[10]=o,t[11]=_,t[12]=g,t[13]=v,t[14]=e,t[15]=b,t[16]=n}else n=t[16];return n}return null},aD=e=>{let{collapsed:t,rowID:n,rows:a}=e;return a.reduce((e,a)=>(n===a.id&&(a.collapsed=t),a.collapsed&&e.collapsedIDs.push(a.id),e.updatedRows.push(a),e),{collapsedIDs:[],updatedRows:[]})},aE=e=>{let{collapsed:t,rows:n}=e;return n.reduce((e,n)=>(n.collapsed=t,t&&e.collapsedIDs.push(n.id),e.updatedRows.push(n),e),{collapsedIDs:[],updatedRows:[]})},aP=(e,t,n)=>{let a,l=(0,d.c)(9),r;l[0]!==n?(r=void 0===n?[]:n,l[0]=n,l[1]=r):r=l[1];let i=r,s;l[2]===Symbol.for("react.memo_cache_sentinel")?(s=Date.now(),l[2]=s):s=l[2];let c=(0,o.useRef)(s),u;l[3]!==e||l[4]!==t?(u=()=>{let n=setTimeout(()=>{Date.now()-c.current>=t&&(e(),c.current=Date.now())},t-(Date.now()-c.current));return()=>{clearTimeout(n)}},l[3]=e,l[4]=t,l[5]=u):u=l[5],l[6]!==t||l[7]!==i?(a=[t,...i],l[6]=t,l[7]=i,l[8]=a):a=l[8],(0,o.useEffect)(u,a)},aT={},aA={};function aO(e,t){try{let n=(aT[e]||(aT[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return n in aA?aA[n]:aR(n,n.split(":"))}catch(n){if(e in aA)return aA[e];let t=null==e?void 0:e.match(aI);return t?aR(e,t.slice(1)):NaN}}var aI=/([+-]\d\d):?(\d\d)?/;function aR(e,t){let n=+t[0],a=+(t[1]||0);return aA[e]=n>0?60*n+a:60*n-a}var aL=class e extends Date{static tz(t){for(var n=arguments.length,a=Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return a.length?new e(...a,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){return-aO(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),aF(this),+this}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(aO(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),aB(this,NaN),aF(this)):this.setTime(Date.now())}},aM=/^(get|set)(?!UTC)/;function aF(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function aB(e){let t=aO(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);let a=-new Date(+e).getTimezoneOffset(),l=a- -new Date(+n).getTimezoneOffset(),o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);let r=a-t;r&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+r);let i=aO(e.timeZone,e),s=-new Date(+e).getTimezoneOffset()-i-r;if(i!==t&&s){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);let t=i-aO(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!aM.test(e))return;let t=e.replace(aM,"$1UTC");aL.prototype[t]&&(e.startsWith("get")?aL.prototype[e]=function(){return this.internal[t]()}:(aL.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),aB(e),+this},aL.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),aF(this),+this}))});var az=Symbol.for("constructDateFrom");function aV(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&az in e?e[az](t):e instanceof Date?new e.constructor(t):new Date(t)}function aU(e,t){return aV(t||e,e)}var aH={};function aq(e,t){var n,a,l,o,r,i,s,c;let u=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.weekStartsOn)?r:null==t||null==(a=t.locale)||null==(n=a.options)?void 0:n.weekStartsOn)?i:aH.weekStartsOn)?s:null==(o=aH.locale)||null==(l=o.options)?void 0:l.weekStartsOn)?c:0,d=aU(e,null==t?void 0:t.in),p=d.getDay();return d.setDate(d.getDate()-(7*(p<u)+p-u)),d.setHours(0,0,0,0),d}function aK(e,t){return aq(e,{...t,weekStartsOn:1})}function aW(e,t){let n=aU(e,null==t?void 0:t.in),a=n.getFullYear(),l=aV(n,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);let o=aK(l),r=aV(n,0);r.setFullYear(a,0,4),r.setHours(0,0,0,0);let i=aK(r);return n.getTime()>=o.getTime()?a+1:n.getTime()>=i.getTime()?a:a-1}function aY(e){let t=aU(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function aG(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];let l=aV.bind(null,e||n.find(e=>"object"==typeof e));return n.map(l)}function aQ(e,t){let n=aU(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function aX(e,t){let n=aU(e)-aU(t);return n<0?-1:n>0?1:n}function a$(e,t){var n,a,l,o,r,i,s,c;let u=aU(e,null==t?void 0:t.in),d=u.getFullYear(),p=null!=(c=null!=(s=null!=(i=null!=(r=null==t?void 0:t.firstWeekContainsDate)?r:null==t||null==(a=t.locale)||null==(n=a.options)?void 0:n.firstWeekContainsDate)?i:aH.firstWeekContainsDate)?s:null==(o=aH.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?c:1,h=aV((null==t?void 0:t.in)||e,0);h.setFullYear(d+1,0,p),h.setHours(0,0,0,0);let f=aq(h,t),m=aV((null==t?void 0:t.in)||e,0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);let g=aq(m,t);return+u>=+f?d+1:+u>=+g?d:d-1}function aZ(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}var aJ={y(e,t){let n=e.getFullYear(),a=n>0?n:1-n;return aZ("yy"===t?a%100:a,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):aZ(n+1,2)},d:(e,t)=>aZ(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>aZ(e.getHours()%12||12,t.length),H:(e,t)=>aZ(e.getHours(),t.length),m:(e,t)=>aZ(e.getMinutes(),t.length),s:(e,t)=>aZ(e.getSeconds(),t.length),S(e,t){let n=t.length;return aZ(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},a0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},a1={G:function(e,t,n){let a=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return aJ.y(e,t)},Y:function(e,t,n,a){let l=a$(e,a),o=l>0?l:1-l;return"YY"===t?aZ(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):aZ(o,t.length)},R:function(e,t){return aZ(aW(e),t.length)},u:function(e,t){return aZ(e.getFullYear(),t.length)},Q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return aZ(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return aZ(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){let a=e.getMonth();switch(t){case"M":case"MM":return aJ.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return aZ(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var l,o,r,i,s,c,u,d;let p,h,f,m,g=Math.round((aq(m=aU(e,null==a?void 0:a.in),a)-(p=null!=(d=null!=(u=null!=(c=null!=(s=null==a?void 0:a.firstWeekContainsDate)?s:null==a||null==(o=a.locale)||null==(l=o.options)?void 0:l.firstWeekContainsDate)?c:aH.firstWeekContainsDate)?u:null==(i=aH.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate)?d:1,h=a$(m,a),(f=aV((null==a?void 0:a.in)||m,0)).setFullYear(h,0,p),f.setHours(0,0,0,0),aq(f,a)))/6048e5)+1;return"wo"===t?n.ordinalNumber(g,{unit:"week"}):aZ(g,t.length)},I:function(e,t,n){var a;let l,o,r,i=Math.round((aK(r=aU(e,void 0))-(l=aW(r,void 0),(o=aV((null==a?void 0:a.in)||r,0)).setFullYear(l,0,4),o.setHours(0,0,0,0),aK(o)))/6048e5)+1;return"Io"===t?n.ordinalNumber(i,{unit:"week"}):aZ(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):aJ.d(e,t)},D:function(e,t,n){let a,l,o=function(e,t,n){let[a,l]=aG(void 0,e,t),o=aQ(a),r=aQ(l);return Math.round((o-aY(o)-(r-aY(r)))/864e5)}(a=aU(e,void 0),((l=aU(a,void 0)).setFullYear(l.getFullYear(),0,1),l.setHours(0,0,0,0),l))+1;return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):aZ(o,t.length)},E:function(e,t,n){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){let l=e.getDay(),o=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return aZ(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){let l=e.getDay(),o=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return aZ(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,n){let a=e.getDay(),l=0===a?7:a;switch(t){case"i":return String(l);case"ii":return aZ(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){let a=e.getHours(),l;switch(l=12===a?a0.noon:0===a?a0.midnight:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,n){let a=e.getHours(),l;switch(l=a>=17?a0.evening:a>=12?a0.afternoon:a>=4?a0.morning:a0.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return aJ.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):aJ.H(e,t)},K:function(e,t,n){let a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):aZ(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):aZ(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):aJ.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):aJ.s(e,t)},S:function(e,t){return aJ.S(e,t)},X:function(e,t,n){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return a2(a);case"XXXX":case"XX":return a6(a);default:return a6(a,":")}},x:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"x":return a2(a);case"xxxx":case"xx":return a6(a);default:return a6(a,":")}},O:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+a3(a,":");default:return"GMT"+a6(a,":")}},z:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+a3(a,":");default:return"GMT"+a6(a,":")}},t:function(e,t,n){return aZ(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return aZ(+e,t.length)}};function a3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),o=a%60;return 0===o?n+String(l):n+String(l)+t+aZ(o,2)}function a2(e,t){return e%60==0?(e>0?"-":"+")+aZ(Math.abs(e)/60,2):a6(e,t)}function a6(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+aZ(Math.trunc(n/60),2)+t+aZ(n%60,2)}var a5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},a4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},a8={p:a4,P:(e,t)=>{let n,a=e.match(/(P+)(p+)?/)||[],l=a[1],o=a[2];if(!o)return a5(e,t);switch(l){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",a5(l,t)).replace("{{time}}",a4(o,t))}},a7=/^D+$/,a9=/^Y+$/,le=["D","DD","YY","YYYY"],lt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ln=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,la=/^'([^]*?)'?$/,ll=/''/g,lo=/[a-zA-Z]/;function lr(e,t,n){var a,l,o,r,i,c,u,d,p,h,f,m,g,v,b,x,y,w;let j=null!=(h=null!=(p=null==n?void 0:n.locale)?p:aH.locale)?h:s.b,C=null!=(v=null!=(g=null!=(m=null!=(f=null==n?void 0:n.firstWeekContainsDate)?f:null==n||null==(l=n.locale)||null==(a=l.options)?void 0:a.firstWeekContainsDate)?m:aH.firstWeekContainsDate)?g:null==(r=aH.locale)||null==(o=r.options)?void 0:o.firstWeekContainsDate)?v:1,S=null!=(w=null!=(y=null!=(x=null!=(b=null==n?void 0:n.weekStartsOn)?b:null==n||null==(c=n.locale)||null==(i=c.options)?void 0:i.weekStartsOn)?x:aH.weekStartsOn)?y:null==(d=aH.locale)||null==(u=d.options)?void 0:u.weekStartsOn)?w:0,_=aU(e,null==n?void 0:n.in);if(!(_ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_))&&"number"!=typeof _||isNaN(+aU(_)))throw RangeError("Invalid time value");let k=t.match(ln).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,a8[t])(e,j.formatLong):e}).join("").match(lt).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){var n;let t;return{isToken:!1,value:(t=(n=e).match(la))?t[1].replace(ll,"'"):n}}if(a1[t])return{isToken:!0,value:e};if(t.match(lo))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});j.localize.preprocessor&&(k=j.localize.preprocessor(_,k));let N={firstWeekContainsDate:C,weekStartsOn:S,locale:j};return k.map(a=>{if(!a.isToken)return a.value;let l=a.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&a9.test(l)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&a7.test(l))&&function(e,t,n){var a,l,o;let r,i=(a=e,l=t,o=n,r="Y"===a[0]?"years":"days of the month","Use `".concat(a.toLowerCase(),"` instead of `").concat(a,"` (in `").concat(l,"`) for formatting ").concat(r," to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(console.warn(i),le.includes(e))throw RangeError(i)}(l,t,String(e)),(0,a1[l[0]])(_,l,j.localize,N)}).join("")}function li(e,t){var n,a;let l="function"==typeof(n=t)&&(null==(a=n.prototype)?void 0:a.constructor)===n?new t(0):aV(t,0);return l.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),l.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),l}var ls=e=>{let{date:t,i18n:n,pattern:a,timezone:l}=e,o=new aL(new Date(t));if(l){let e=aL.tz(l),t=li(o.withTimeZone(l),e);return n.dateFNS?lr(t,a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")}return n.dateFNS?lr(o,a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")},lc=e=>{let{date:t,i18n:n}=e,a=new Date(t);return(null==n?void 0:n.dateFNS)?function(e,t){return function(e,t,n){var a,l,o;let r=null!=(l=null!=(a=null==n?void 0:n.locale)?a:aH.locale)?l:s.b,i=aX(e,t);if(isNaN(i))throw RangeError("Invalid time value");let c=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:i}),[u,d]=aG(null==n?void 0:n.in,...i>0?[t,e]:[e,t]),p=(o=void 0,e=>{let t=(o?Math[o]:Math.trunc)(e);return 0===t?0:t})((aU(d)-aU(u))/1e3),h=Math.round((p-(aY(d)-aY(u))/1e3)/60),f;if(h<2)return(null==n?void 0:n.includeSeconds)?p<5?r.formatDistance("lessThanXSeconds",5,c):p<10?r.formatDistance("lessThanXSeconds",10,c):p<20?r.formatDistance("lessThanXSeconds",20,c):p<40?r.formatDistance("halfAMinute",0,c):p<60?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",1,c):0===h?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",h,c);if(h<45)return r.formatDistance("xMinutes",h,c);if(h<90)return r.formatDistance("aboutXHours",1,c);if(h<1440){let e=Math.round(h/60);return r.formatDistance("aboutXHours",e,c)}if(h<2520)return r.formatDistance("xDays",1,c);if(h<43200){let e=Math.round(h/1440);return r.formatDistance("xDays",e,c)}if(h<86400)return f=Math.round(h/43200),r.formatDistance("aboutXMonths",f,c);if((f=function(e,t,n){var a;let l,o,r,i,[s,c,u]=aG(void 0,e,e,t),d=aX(c,u),p=Math.abs(function(e,t,n){let[a,l]=aG(void 0,e,t);return 12*(a.getFullYear()-l.getFullYear())+(a.getMonth()-l.getMonth())}(c,u));if(p<1)return 0;1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-d*p);let h=aX(c,u)===-d;l=aU(s,void 0),+((o=aU(l,null==a?void 0:a.in)).setHours(23,59,59,999),o)==+(i=(r=aU(l,null==a?void 0:a.in)).getMonth(),r.setFullYear(r.getFullYear(),i+1,0),r.setHours(23,59,59,999),r)&&1===p&&1===aX(s,u)&&(h=!1);let f=d*(p-h);return 0===f?0:f}(d,u))<12){let e=Math.round(h/43200);return r.formatDistance("xMonths",e,c)}{let e=f%12,t=Math.trunc(f/12);return e<3?r.formatDistance("aboutXYears",t,c):e<9?r.formatDistance("overXYears",t,c):r.formatDistance("almostXYears",t+1,c)}}(e,aV(e,Date.now()),t)}(a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")};function lu(e){return"object"==typeof e&&"root"in e}function ld(e,t){for(let n of e)"text"in n&&n.text?t+=n.text:"children"in n||(t+="[".concat(n.type,"]")),"children"in n&&n.children&&(t+=ld(n.children,t));return t}var lp=e=>{var t,n,a,l,o,r,i;let s,{collectionConfig:c,data:u,dateFormat:d,fallback:h,globalConfig:f,i18n:m}=e;if(c){let e=null==c||null==(o=c.admin)?void 0:o.useAsTitle;if(e&&(s=(null==u?void 0:u[e])||s)){let t=c.fields.find(t=>"name"in t&&t.name===e);(null==t?void 0:t.type)==="date"&&(s=ls({date:s,i18n:m,pattern:"date"in t.admin&&(null==t||null==(i=t.admin)||null==(r=i.date)?void 0:r.displayFormat)||d})||s)}}return f&&(s=(0,p.sC)(null==f?void 0:f.label,m)||(null==f?void 0:f.slug)),lu(s)&&(s=ld((null==(n=s.root.children)||null==(t=n[0])?void 0:t.children)||[],"")),!s&&lu(h)&&(s=ld((null==(l=h.root.children)||null==(a=l[0])?void 0:a.children)||[],"")),s||(s="string"==typeof h?h:"[".concat(m.t("general:untitled"),"]")),s},lh=(0,o.createContext)({}),lf=()=>(0,o.use)(lh),lm=e=>{let{children:t}=e,{id:n,collectionSlug:a,docConfig:l,globalSlug:r,initialData:c,savedDocumentData:d}=lC(),{config:{admin:{dateFormat:p}}}=(0,i.b)(),{i18n:h}=(0,s.d)(),[f,m]=(0,o.useState)(()=>lp({collectionConfig:a?l:void 0,data:{...c||{},id:n},dateFormat:p,fallback:null==n?void 0:n.toString(),globalConfig:r?l:void 0,i18n:h}));return(0,o.useEffect)(()=>{m(lp({collectionConfig:a?l:void 0,data:{...d,id:n},dateFormat:p,fallback:null==n?void 0:n.toString(),globalConfig:r?l:void 0,i18n:h}))},[d,p,h,n,a,l,r]),(0,u.jsx)(lh,{value:{setDocumentTitle:m,title:f},children:t})},lg=o.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),lv=e=>{let t=(0,d.c)(10),{children:n,initialUploadEdits:a}=e,l;t[0]!==a?(l=a||{},t[0]=a,t[1]=l):l=t[1];let[r,i]=o.useState(l),s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{i({})},t[2]=s):s=t[2];let c=s,p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{i(t=>({...t||{},...e||{}}))},t[3]=p):p=t[3];let h=p,f;t[4]!==r?(f=()=>r,t[4]=r,t[5]=f):f=t[5];let m=f,g;return t[6]!==n||t[7]!==m||t[8]!==r?(g=(0,u.jsx)(lg,{value:{getUploadEdits:m,resetUploadEdits:c,updateUploadEdits:h,uploadEdits:r},children:n}),t[6]=n,t[7]=m,t[8]=r,t[9]=g):g=t[9],g},lb=()=>o.use(lg),lx=e=>{let{collectionSlug:t,docPermissions:n,globalSlug:a,isEditing:l}=e;return t?!!(l&&(null==n?void 0:n.update)||!l&&(null==n?void 0:n.create)):!!a&&!!(null==n?void 0:n.update)},ly=e=>{let{id:t,collectionSlug:n,globalSlug:a}=e;return!!(a||n&&t)},lw=e=>{let{id:t,api:n,collectionSlug:a,globalSlug:l,i18n:r,locale:i,permissions:s,serverURL:c,setDocPermissions:u,setHasPublishPermission:d,setHasSavePermission:p}=e;return o.useCallback(async e=>{let o={locale:i||void 0},h=(null==e?void 0:e.id)||t,f=ly({id:h,collectionSlug:a,globalSlug:l});if(f){let t=a?"/".concat(a,"/access/").concat(h):l?"/globals/".concat(l,"/access"):null;if(t){let i=await (await fetch("".concat(c).concat(n).concat(t,"?").concat(v.A(o)),{body:JSON.stringify({...e||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),s=await fetch("".concat(c).concat(n).concat(t,"?").concat(v.A(o)),{body:JSON.stringify({...e||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());u(i),p(lx({collectionSlug:a,docPermissions:i,globalSlug:l,isEditing:f})),d(null==s?void 0:s.update)}}else{var m,g;let e=a?null==s||null==(m=s.collections)?void 0:m[a]:null==s||null==(g=s.globals)?void 0:g[l];u(e),p(lx({collectionSlug:a,docPermissions:e,globalSlug:l,isEditing:f}))}},[c,n,t,s,r.language,i,a,l])},lj=(0,o.createContext)({}),lC=()=>(0,o.use)(lj),lS=e=>{let{children:t,...n}=e,{id:a,collectionSlug:l,currentEditor:r,docPermissions:c,globalSlug:d,hasPublishedDoc:p,hasPublishPermission:h,hasSavePermission:f,initialData:m,initialState:g,isLocked:b,lastUpdateTime:x,mostRecentVersionIsAutosaved:y,unpublishedVersionCount:w,versionCount:j}=n,[C,S]=(0,o.useState)(c),[_,k]=(0,o.useState)(f),[N,D]=(0,o.useState)(h),{permissions:E}=af(),{config:{admin:{dateFormat:P},routes:{api:T},serverURL:A},getEntityConfig:O}=(0,i.b)(),I=O({collectionSlug:l}),R=O({globalSlug:d}),L=(0,o.useRef)(new AbortController),M=I||R,{i18n:F}=(0,s.d)(),{uploadEdits:B}=lb(),[z,V]=(0,o.useState)(()=>lp({collectionConfig:I,data:{...m||{},id:a},dateFormat:P,fallback:null==a?void 0:a.toString(),globalConfig:R,i18n:F})),[U,H]=(0,o.useState)(y),[q,K]=(0,o.useState)(j),[W,Y]=(0,o.useState)(p),[G,Q]=(0,o.useState)(w),[X,$]=(0,o.useState)(b),[Z,J]=(0,o.useState)(r),[ee,et]=(0,o.useState)(x),[en,ea]=(0,o.useState)(m),[el,eo]=(0,o.useState)("idle"),er=(0,o.useCallback)(e=>{eo(e)},[]),{getPreference:ei,setPreference:es}=ab(),{code:ec}=aS(),{localeIsLoading:eu}=aC(),ed=(0,o.useMemo)(()=>void 0===g||void 0===m||eu,[m,g,eu]),ep="".concat(A).concat(T),eh,ef,em;d&&(eh=d,ef="globals",em="global-".concat(eh)),l&&(eh=l,ef="collections",a&&(em="collection-".concat(eh,"-").concat(a)));let eg=(0,o.useCallback)(async(e,t)=>{try{let n=t===d?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),a=await ad.get("".concat(A).concat(T,"/payload-locked-documents?").concat(n),{credentials:"include"}),{docs:l}=await a.json();if((null==l?void 0:l.length)>0){let e=l[0].id;await ad.delete("".concat(A).concat(T,"/payload-locked-documents/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"}}),$(!1)}}catch(e){console.error("Failed to unlock the document",e)}},[A,T,d]),ev=(0,o.useCallback)(async(e,t,n)=>{try{let a=t===d?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),l=await ad.get("".concat(A).concat(T,"/payload-locked-documents?").concat(a),{credentials:"include"}),{docs:o}=await l.json();if((null==o?void 0:o.length)>0){let e=o[0].id,t="object"==typeof n?{relationTo:n.collection,value:n.id}:{relationTo:"users",value:n};await ad.patch("".concat(A).concat(T,"/payload-locked-documents/").concat(e),{body:JSON.stringify({user:t}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(e){console.error("Failed to update the document editor",e)}},[A,T,d]),eb=lw({id:a,api:T,collectionSlug:l,globalSlug:d,i18n:F,locale:ec,permissions:E,serverURL:A,setDocPermissions:S,setHasPublishPermission:D,setHasSavePermission:k}),ex=(0,o.useCallback)(()=>ei(em),[ei,em]),ey=(0,o.useCallback)(async(e,t)=>{let n=await ex();if(em)try{var a;await es(em,{...n,fields:{...(null==n?void 0:n.fields)||{},[e]:{...null==n||null==(a=n.fields)?void 0:a[e],...t}}})}catch(e){console.error(e)}},[es,em,ex]),ew=(0,o.useCallback)(()=>{let e=q+1;I&&I.versions?I.versions.maxPerDoc>0?K(Math.min(e,I.versions.maxPerDoc)):K(e):R&&R.versions&&(R.versions.max>0?K(Math.min(e,R.versions.max)):K(e))},[I,R,q]),ej=o.useCallback(e=>{ea(e)},[]);(0,o.useEffect)(()=>{V(lp({collectionConfig:I,data:{...en,id:a},dateFormat:P,fallback:null==a?void 0:a.toString(),globalConfig:R,i18n:F}))},[I,R,en,P,F,a]),(0,o.useEffect)(()=>{let e=L.current;return()=>{if(e)try{e.abort()}catch(e){}}},[]);let eC=o.useMemo(()=>"".concat("".concat(ep).concat("globals"===ef?"/globals":"","/").concat(eh).concat(a?"/".concat(a):"")).concat(v.A({depth:0,"fallback-locale":"null",locale:ec,uploadEdits:B||void 0},{addQueryPrefix:!0})),[ep,ec,ef,a,eh,B]),eS={...n,action:eC,currentEditor:Z,docConfig:M,docPermissions:C,documentIsLocked:X,getDocPermissions:eb,getDocPreferences:ex,hasPublishedDoc:W,hasPublishPermission:N,hasSavePermission:_,incrementVersionCount:ew,initialData:m,initialState:g,isInitializing:ed,lastUpdateTime:ee,mostRecentVersionIsAutosaved:U,preferencesKey:em,savedDocumentData:en,setCurrentEditor:J,setDocFieldPreferences:ey,setDocumentIsLocked:$,setDocumentTitle:V,setHasPublishedDoc:Y,setLastUpdateTime:et,setMostRecentVersionIsAutosaved:H,setUnpublishedVersionCount:Q,setUploadStatus:er,title:z,unlockDocument:eg,unpublishedVersionCount:G,updateDocumentEditor:ev,updateSavedDocumentData:ej,uploadStatus:el,versionCount:q};return(0,u.jsx)(lj,{value:eS,children:(0,u.jsx)(lm,{children:t})})},l_=e=>(0,u.jsx)(lv,{children:(0,u.jsx)(lS,{...e})}),lk=(0,o.createContext)(""),lN=e=>{let{children:t,operation:n}=e;return(0,u.jsx)(lk,{value:n,children:t})},lD=()=>(0,o.use)(lk),lE=o.createContext(void 0),lP=()=>{let e=o.useContext(lE);if(e)return e},lT=e=>{let t,n=(0,d.c)(65),a;n[0]!==e?(a=e||{},n[0]=e,n[1]=a):a=n[1];let{disableFormData:l,hasRows:r,path:c,potentiallyStalePath:u,validate:p}=a,h=void 0!==l&&l,f=lP(),m=c||f||u,g=eP(),v=eT(),b=eI(),{user:x}=af(),{id:y,collectionSlug:w}=lC(),j=lD(),C=eR(lA),S;n[2]!==m?(S=e=>{let[t]=e;return t&&(null==t?void 0:t[m])||null},n[2]=m,n[3]=S):S=n[3];let _=eR(S),{t:k}=(0,s.d)(),{config:N}=(0,i.b)(),{getData:D,getDataByPath:E,getSiblingData:P,setModified:T}=eN(),A=eD(),O=eO(),I=null==_?void 0:_.filterOptions,R=null==_?void 0:_.value,L=null==_?void 0:_.initialValue,M="boolean"!=typeof(null==_?void 0:_.valid)||_.valid,F=!1===M&&g,B=(0,o.useRef)(M),z=(0,o.useRef)(null==_?void 0:_.errorMessage),V;n[4]!==m?(V=m?m.split("."):[],n[4]=m,n[5]=V):V=n[5];let U=V,H;n[6]!==h||n[7]!==C||n[8]!==r||n[9]!==O||n[10]!==m||n[11]!==T?(H=(e,t)=>{let n=e&&e.target?e.target.value:e;C({type:"UPDATE",disableFormData:h||r&&n>0,path:m,value:n}),void 0!==t&&t||"function"==typeof T&&!1===O&&setTimeout(()=>{T(!0)},10)},n[6]=h,n[7]=C,n[8]=r,n[9]=O,n[10]=m,n[11]=T,n[12]=H):H=n[12];let q=H,K,W=null==_?void 0:_.customComponents,Y=v||b,G=null==_?void 0:_.errorMessage,Q;n[13]!==(null==_?void 0:_.errorPaths)?(Q=(null==_?void 0:_.errorPaths)||[],n[13]=null==_?void 0:_.errorPaths,n[14]=Q):Q=n[14];let X=null==_?void 0:_.rows,$=null==_?void 0:_.selectFilterOptions,Z=null==_?void 0:_.valid,J;n[15]!==I||n[16]!==L||n[17]!==b||n[18]!==m||n[19]!==v||n[20]!==q||n[21]!==F||n[22]!==g||n[23]!==X||n[24]!==$||n[25]!==Z||n[26]!==W||n[27]!==Y||n[28]!==G||n[29]!==Q||n[30]!==R?(J={customComponents:W,disabled:Y,errorMessage:G,errorPaths:Q,filterOptions:I,formInitializing:b,formProcessing:v,formSubmitted:g,initialValue:L,path:m,rows:X,selectFilterOptions:$,setValue:q,showError:F,valid:Z,value:R},n[15]=I,n[16]=L,n[17]=b,n[18]=m,n[19]=v,n[20]=q,n[21]=F,n[22]=g,n[23]=X,n[24]=$,n[25]=Z,n[26]=W,n[27]=Y,n[28]=G,n[29]=Q,n[30]=R,n[31]=J):J=n[31],K=J,n[32]!==w||n[33]!==N||n[34]!==h||n[35]!==C||n[36]!==A||n[37]!==_||n[38]!==D||n[39]!==E||n[40]!==P||n[41]!==r||n[42]!==y||n[43]!==j||n[44]!==m||n[45]!==U||n[46]!==k||n[47]!==x||n[48]!==p||n[49]!==R?(t=()=>{(async()=>{let e=R;(null==_?void 0:_.rows)&&Array.isArray(_.rows)&&(e=E(m));let t=z.current,n=B.current,a=D(),l="function"==typeof p?await p(e,{id:y,blockData:void 0,collectionSlug:w,data:(null==A?void 0:A.getData)?A.getData():a,event:"onChange",operation:j,path:U,preferences:{},req:{payload:{config:N},t:k,user:x},siblingData:P(m)}):"string"==typeof z.current?z.current:B.current;if("string"==typeof l?(n=!1,t=l):"boolean"==typeof l&&(n=l,t=void 0),n!==B.current||t!==z.current){B.current=n,z.current=t;let e={type:"UPDATE",errorMessage:t,path:m,rows:null==_?void 0:_.rows,valid:n,validate:p,value:R};(h||r&&"number"==typeof R&&R>0)&&(e.disableFormData=!0),"function"==typeof C&&C(e)}})()},n[32]=w,n[33]=N,n[34]=h,n[35]=C,n[36]=A,n[37]=_,n[38]=D,n[39]=E,n[40]=P,n[41]=r,n[42]=y,n[43]=j,n[44]=m,n[45]=U,n[46]=k,n[47]=x,n[48]=p,n[49]=R,n[50]=t):t=n[50];let ee=null==_?void 0:_.rows,et;return n[51]!==w||n[52]!==h||n[53]!==C||n[54]!==D||n[55]!==E||n[56]!==P||n[57]!==y||n[58]!==j||n[59]!==m||n[60]!==ee||n[61]!==x||n[62]!==p||n[63]!==R?(et=[R,h,C,D,P,E,y,j,m,x,p,ee,w],n[51]=w,n[52]=h,n[53]=C,n[54]=D,n[55]=E,n[56]=P,n[57]=y,n[58]=j,n[59]=m,n[60]=ee,n[61]=x,n[62]=p,n[63]=R,n[64]=et):et=n[64],aP(t,150,et),K};function lA(e){let[,t]=e;return t}var lO=e=>{let t=(0,d.c)(2),{children:n,path:a}=e,l;t[0]!==a?(l=e=>{let[t]=e;return t&&(null==t?void 0:t[a])||null},t[0]=a,t[1]=l):l=t[1];let{passesCondition:o}=eR(l)||{};return!1===o?null:n},lI=e=>t=>{let{path:n}=t;return(0,u.jsx)(lO,{path:n,children:(0,u.jsx)(e,{...t})})},lR=e=>{var t,n,a,l;return{...(null==e||null==(t=e.admin)?void 0:t.style)||{},...(null==e||null==(n=e.admin)?void 0:n.width)?{"--field-width":e.admin.width}:{flex:"1 1 auto"},...(null==e||null==(l=e.admin)||null==(a=l.style)?void 0:a.flex)?{flex:e.admin.style.flex}:{}}},lL="field-type";function lM(e){let{fieldLocalized:t,fieldRTL:n,locale:a,localizationConfig:l}=e,o=a&&l&&l.locales&&l.locales.length>1,r=(null==a?void 0:a.code)===(null==l?void 0:l.defaultLocale);return!1!==n&&(null==a?void 0:a.rtl)===!0&&(t||!t&&!o||!t&&r)||!0===n}var lF=()=>(0,u.jsx)("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})}),lB=()=>(0,u.jsx)("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})}),lz="checkbox-input",lV=e=>{let{id:t,name:n,AfterInput:a,BeforeInput:l,checked:o,className:r,inputRef:i,Label:s,label:c,localized:d,onToggle:p,partialChecked:h,readOnly:f,required:m}=e;return(0,u.jsxs)("div",{className:[r,lz,o&&"".concat(lz,"--checked"),f&&"".concat(lz,"--read-only")].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:"".concat(lz,"__input"),children:[l,(0,u.jsx)("input",{"aria-label":"",defaultChecked:!!o,disabled:f,id:t,name:n,onInput:p,ref:i,required:m,type:"checkbox"}),(0,u.jsxs)("span",{className:["".concat(lz,"__icon"),!o&&h?"partial":"check"].filter(Boolean).join(" "),children:[o&&(0,u.jsx)(lF,{}),!o&&h&&(0,u.jsx)(lB,{})]}),a]}),(0,u.jsx)(ec,{CustomComponent:s,Fallback:(0,u.jsx)(aN,{htmlFor:t,label:c,localized:d,required:m})})]})},lU="checkbox",lH=lI(e=>{let{id:t,checked:n,disableFormData:a,field:l,field:{admin:{className:r,description:i}={},label:s,required:c}={},onChange:d,partialChecked:p,path:h,readOnly:f,validate:m}=e,{uuid:g}=eN(),v=tq(),{customComponents:{AfterInput:b,BeforeInput:x,Description:y,Error:w,Label:j}={},disabled:C,path:S,setValue:_,showError:k,value:N}=lT({disableFormData:a,potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:c})},[m,c])}),D=(0,o.useCallback)(()=>{f||(_(!N),"function"==typeof d&&d(!N))},[d,f,_,N]),E=n||!!N,P=t||ak(S,v,g),T=(0,o.useMemo)(()=>lR(l),[l]);return(0,u.jsxs)("div",{className:[lL,lU,k&&"error",r,N&&"".concat(lU,"--checked"),(f||C)&&"".concat(lU,"--read-only")].filter(Boolean).join(" "),style:T,children:[(0,u.jsx)(ec,{CustomComponent:w,Fallback:(0,u.jsx)(tV,{path:S,showError:k})}),(0,u.jsx)(lV,{AfterInput:b,BeforeInput:x,checked:E,id:P,inputRef:null,Label:j,label:s,name:S,onToggle:D,partialChecked:p,readOnly:f||C,required:c}),(0,u.jsx)(ec,{CustomComponent:y,Fallback:(0,u.jsx)(tz,{description:i,path:S})})]})}),lq=e=>{let t,n=(0,d.c)(4),{fieldValue:a,localized:l,path:r}=e,{code:c}=aS(),{config:p}=(0,i.b)(),{localization:h}=p,[f,m]=o.useState("number"!=typeof a),{t:g}=(0,s.d)();if(!l||!h||h.defaultLocale===c||!h.fallback)return null;if(a){let e=!1;if("number"==typeof a&&a>0&&(e=!0),Array.isArray(a)&&a.length>0&&(e=!0),e)return f&&m(!1),null}return n[0]!==f||n[1]!==r||n[2]!==g?(t=(0,u.jsx)(eQ,{children:(0,u.jsx)(lH,{checked:f,field:{name:"",label:g("general:fallbackToDefaultLocale")},id:"field-".concat(r.replace(/\./g,"__")),path:r,schemaPath:""})}),n[0]=f,n[1]=r,n[2]=g,n[3]=t):t=n[3],t},lK=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:e.top-100})}},lW=()=>(0,u.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})}),lY=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]})},lG="array-actions",lQ=e=>{let t=(0,d.c)(10),{addRow:n,duplicateRow:a,hasMaxRows:l,index:r,isSortable:i,moveRow:c,removeRow:p,rowCount:h}=e,{t:f}=(0,s.d)(),m;return t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==r||t[4]!==i||t[5]!==c||t[6]!==p||t[7]!==h||t[8]!==f?(m=(0,u.jsx)(ts,{button:(0,u.jsx)(lY,{}),buttonClassName:"".concat(lG,"__button"),className:lG,horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsxs)(e1.ButtonGroup,{buttonSize:"small",children:[i&&0!==r&&(0,u.jsxs)(e1.Button,{className:"".concat(lG,"__action ").concat(lG,"__move-up"),onClick:()=>{c(r,r-1),t()},children:[(0,u.jsx)("div",{className:"".concat(lG,"__action-chevron"),children:(0,u.jsx)(eX,{direction:"up"})}),f("general:moveUp")]}),i&&r<h-1&&(0,u.jsxs)(e1.Button,{className:"".concat(lG,"__action"),onClick:()=>{c(r,r+1),t()},children:[(0,u.jsx)("div",{className:"".concat(lG,"__action-chevron"),children:(0,u.jsx)(eX,{})}),f("general:moveDown")]}),!l&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)(e1.Button,{className:"".concat(lG,"__action ").concat(lG,"__add"),onClick:()=>{n(r+1),t()},children:[(0,u.jsx)(eJ,{}),f("general:addBelow")]}),(0,u.jsxs)(e1.Button,{className:"".concat(lG,"__action ").concat(lG,"__duplicate"),onClick:()=>{a(r),t()},children:[(0,u.jsx)(lW,{}),f("general:duplicate")]})]}),(0,u.jsxs)(e1.Button,{className:"".concat(lG,"__action ").concat(lG,"__remove"),onClick:()=>{p(r),t()},children:[(0,u.jsx)(s.a,{}),f("general:remove")]})]})},size:"medium"}),t[0]=n,t[1]=a,t[2]=l,t[3]=r,t[4]=i,t[5]=c,t[6]=p,t[7]=h,t[8]=f,t[9]=m):m=t[9],m},lX=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),(0,u.jsx)("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]})},l$=e=>{let{containerRef:t,contentRef:n,duration:a,open:l}=e,r=(0,o.useMemo)(()=>!!("u">typeof CSS&&CSS)&&!!CSS.supports&&CSS.supports("interpolate-size","allow-keywords"),[]),i=(0,o.useRef)(!1),s=(0,o.useRef)(l),[c,u]=(0,o.useState)(!1),d=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=t.current,o=n.current;if(!e||!o||r)return;let p=t=>{e.style.height=t},h=()=>{e&&(e.style.transition="",e.style.height=l?"auto":"0px",u(!1))};return(()=>{if(!i.current&&l){p("auto"),u(!1);return}i.current=!0,s.current!==l&&p(l?"0px":"".concat(o.scrollHeight,"px")),e.offsetHeight,u(!0),e.style.transition="height ".concat(a,"ms ease"),p(l?"".concat(o.scrollHeight,"px"):"0px");let t=()=>{h(),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)})(),s.current=l,d.current=new ResizeObserver(()=>{c&&(e.style.height=l?"".concat(o.scrollHeight,"px"):"0px")}),d.current.observe(o),()=>{var t;e&&(e.style.transition="",e.style.height=""),null==(t=d.current)||t.disconnect()}},[l,a,t,n,r]),{browserSupportsKeywordAnimation:r}},lZ=e=>{let{id:t,children:n,className:a,duration:l=300,height:r}=e,[i,s]=o.useState(()=>!!r),c=(0,o.useRef)(i),[d,p]=o.useState(()=>i?"":"none"),[h,f]=o.useState(()=>i?"":"hidden"),[m,g]=o.useState(!1),v=(0,o.useRef)(null),b=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e,t,n=!!r,a=c.current!==n;return c.current=n,a&&(g(!0),f("hidden"),n?p(""):e=window.setTimeout(()=>{p("none")},l),s(n),t=window.setTimeout(()=>{f(""),g(!1)},l)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[r,l]),l$({containerRef:v,contentRef:b,duration:l,open:i}),(0,u.jsx)("div",{"aria-hidden":!i,className:[a,"rah-static",i&&"auto"===r&&"rah-static--height-auto",m&&"rah-animating--".concat(i?"down":"up"),m&&"auto"===r&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:v,style:{overflow:h,transition:"height ".concat(l,"ms ease")},children:(0,u.jsx)("div",{ref:b,...d?{style:{display:d}}:{},children:n})})},lJ=(0,o.createContext)({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),l0=e=>{let{children:t,isCollapsed:n,isWithinCollapsible:a=!0,toggle:l}=e,{isCollapsed:r,isVisible:i}=l1(),s=o.useMemo(()=>({isCollapsed:n,isVisible:i&&!r,isWithinCollapsible:a,toggle:l}),[n,a,l,r,i]);return(0,u.jsx)(lJ,{value:s,children:t})},l1=()=>(0,o.use)(lJ),l3="collapsible",l2=e=>{let t=(0,d.c)(26),{actions:n,children:a,className:l,collapsibleStyle:r,dragHandleProps:i,header:c,initCollapsed:p,isCollapsed:h,onToggle:f}=e,[m,g]=(0,o.useState)(!!p),[v,b]=(0,o.useState)(!1),{isWithinCollapsible:x}=l1(),{t:y}=(0,s.d)(),w="boolean"==typeof h?h:m,j;t[0]!==w||t[1]!==f?(j=()=>{"function"==typeof f&&f(!w),g(!w)},t[0]=w,t[1]=f,t[2]=j):j=t[2];let C=j,S=i&&"".concat(l3,"--has-drag-handle"),_=w&&"".concat(l3,"--collapsed"),k=x&&"".concat(l3,"--nested"),N=v&&"".concat(l3,"--hovered"),D="".concat(l3,"--style-").concat(void 0===r?"default":r),E;t[3]!==l||t[4]!==S||t[5]!==_||t[6]!==k||t[7]!==N||t[8]!==D?(E=[l3,l,S,_,k,N,D].filter(Boolean),t[3]=l,t[4]=S,t[5]=_,t[6]=k,t[7]=N,t[8]=D,t[9]=E):E=t[9];let P=E.join(" "),T,A;t[10]===Symbol.for("react.memo_cache_sentinel")?(T=()=>b(!0),A=()=>b(!1),t[10]=T,t[11]=A):(T=t[10],A=t[11]);let O="".concat(l3,"__toggle--").concat(w?"collapsed":"open"),I;t[12]!==O?(I=["".concat(l3,"__toggle"),O].filter(Boolean),t[12]=O,t[13]=I):I=t[13];let R=I.join(" "),L;if(t[14]!==n||t[15]!==a||t[16]!==i||t[17]!==c||t[18]!==w||t[19]!==y||t[20]!==R||t[21]!==P||t[22]!==C){let e;t[24]!==i?(e=i&&(0,u.jsx)("div",{className:"".concat(l3,"__drag"),...i.attributes,...i.listeners,children:(0,u.jsx)(lX,{})}),t[24]=i,t[25]=e):e=t[25],L=(0,u.jsx)("div",{className:P,children:(0,u.jsxs)(l0,{isCollapsed:w,toggle:C,children:[(0,u.jsxs)("div",{className:"".concat(l3,"__toggle-wrap"),onMouseEnter:T,onMouseLeave:A,children:[(0,u.jsx)("button",{className:R,onClick:C,type:"button",children:(0,u.jsx)("span",{children:y("fields:toggleBlock")})}),e,c?(0,u.jsx)("div",{className:["".concat(l3,"__header-wrap"),i&&"".concat(l3,"__header-wrap--has-drag-handle")].filter(Boolean).join(" "),children:c}):null,(0,u.jsxs)("div",{className:"".concat(l3,"__actions-wrap"),children:[n?(0,u.jsx)("div",{className:"".concat(l3,"__actions"),children:n}):null,(0,u.jsx)("div",{className:"".concat(l3,"__indicator"),children:(0,u.jsx)(eX,{direction:w?void 0:"up"})})]})]}),(0,u.jsx)(lZ,{height:w?0:"auto",children:(0,u.jsx)("div",{className:"".concat(l3,"__content"),children:a})})]})}),t[14]=n,t[15]=a,t[16]=i,t[17]=c,t[18]=w,t[19]=y,t[20]=R,t[21]=P,t[22]=C,t[23]=L}else L=t[23];return L},l6=e=>{var t;let n=(0,d.c)(9),{children:a,className:l,forceRender:r}=e,[i,s]=o.useState(!!r),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c={rootMargin:"1000px"},n[0]=c):c=n[0];let[p,h]=tl(c,!!r),f=!!(null==h?void 0:h.isIntersecting),m=(null==h||null==(t=h.boundingClientRect)?void 0:t.top)<0,g=r||f||m,v,b;n[1]!==i||n[2]!==g?(v=()=>{g&&!i&&s(!0)},b=[g,i],n[1]=i,n[2]=g,n[3]=v,n[4]=b):(v=n[3],b=n[4]),o.useEffect(v,b);let x=i?a:null,y;return n[5]!==l||n[6]!==p||n[7]!==x?(y=(0,u.jsx)("div",{className:l,ref:p,children:x}),n[5]=l,n[6]=p,n[7]=x,n[8]=y):y=n[8],y},l5="pill",l4=e=>{let t=(0,d.c)(12),{id:n,className:a}=e,l;t[0]!==n?(l={id:n},t[0]=n,t[1]=l):l=t[1];let{attributes:o,isDragging:r,listeners:i,setNodeRef:s,transform:c}=tI(l),p=r&&"".concat(l5,"--is-dragging"),h;t[2]!==a||t[3]!==p?(h=[p,a].filter(Boolean),t[2]=a,t[3]=p,t[4]=h):h=t[4];let f=h.join(" "),m;return t[5]!==o||t[6]!==i||t[7]!==e||t[8]!==s||t[9]!==f||t[10]!==c?(m=(0,u.jsx)(l8,{...e,className:f,elementProps:{...i,...o,ref:s,style:{transform:c}}}),t[5]=o,t[6]=i,t[7]=e,t[8]=s,t[9]=f,t[10]=c,t[11]=m):m=t[11],m},l8=e=>{let{id:t,alignIcon:n="right","aria-checked":a,"aria-controls":l,"aria-expanded":o,"aria-label":r,children:i,className:s,draggable:c,elementProps:d,icon:p,onClick:h,pillStyle:f="light",rounded:m,size:g="medium",to:v}=e,b=[l5,"".concat(l5,"--style-").concat(f),"".concat(l5,"--size-").concat(g),s&&s,v&&"".concat(l5,"--has-link"),(v||h)&&"".concat(l5,"--has-action"),p&&"".concat(l5,"--has-icon"),p&&"".concat(l5,"--align-icon-").concat(n),c&&"".concat(l5,"--draggable"),m&&"".concat(l5,"--rounded")].filter(Boolean).join(" "),x="div";return h&&!v&&(x="button"),v&&(x=eY),(0,u.jsxs)(x,{...d,"aria-checked":a,"aria-controls":l,"aria-expanded":o,"aria-label":r,className:b,href:v||null,id:t,onClick:h,type:"button"===x?"button":void 0,children:[(0,u.jsx)("span",{className:"".concat(l5,"__label"),children:i}),!!p&&(0,u.jsx)("span",{className:"".concat(l5,"__icon"),children:p})]})},l7=e=>{let{draggable:t}=e;return t?(0,u.jsx)(l4,{...e}):(0,u.jsx)(l8,{...e})};function l9(e,t){let[n,a]=(0,o.useState)(e);return(0,o.useEffect)(()=>{let n=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}var oe="thumbnail-card",ot=e=>{let t,n=(0,d.c)(15),{alignLabel:a,className:l,collection:o,doc:r,label:c,onClick:p,thumbnail:h}=e,{config:f}=(0,i.b)(),{i18n:m}=(0,s.d)(),g="function"==typeof p&&"".concat(oe,"--has-on-click"),v=a&&"".concat(oe,"--align-label-").concat(a),b;n[0]!==l||n[1]!==g||n[2]!==v?(b=[oe,l,g,v].filter(Boolean),n[0]=l,n[1]=g,n[2]=v,n[3]=b):b=n[3];let x=b.join(" "),y=c;if(!y){let e=null==r?void 0:r.filename,t;n[4]!==o||n[5]!==f.admin.dateFormat||n[6]!==r||n[7]!==m||n[8]!==e?(t=lp({collectionConfig:o,data:r,dateFormat:f.admin.dateFormat,fallback:e,i18n:m}),n[4]=o,n[5]=f.admin.dateFormat,n[6]=r,n[7]=m,n[8]=e,n[9]=t):t=n[9],y=t}return n[10]!==x||n[11]!==p||n[12]!==h||n[13]!==y?(t=(0,u.jsxs)("button",{className:x,onClick:p,title:y,type:"button",children:[(0,u.jsx)("div",{className:"".concat(oe,"__thumbnail"),children:h}),(0,u.jsx)("div",{className:"".concat(oe,"__label"),children:y})]}),n[10]=x,n[11]=p,n[12]=h,n[13]=y,n[14]=t):t=n[14],t},on=[];for(oa=0;oa<256;++oa)on.push((oa+256).toString(16).slice(1));var oa,ol,oo=new Uint8Array(16),or={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},oi=function(e,t,n){if(or.randomUUID&&!t&&!e)return or.randomUUID();var a=(e=e||{}).random||(e.rng||function(){if(!ol&&!(ol="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ol(oo)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var l=0;l<16;++l)t[n+l]=a[l];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(on[e[t+0]]+on[e[t+1]]+on[e[t+2]]+on[e[t+3]]+"-"+on[e[t+4]]+on[e[t+5]]+"-"+on[e[t+6]]+on[e[t+7]]+"-"+on[e[t+8]]+on[e[t+9]]+"-"+on[e[t+10]]+on[e[t+11]]+on[e[t+12]]+on[e[t+13]]+on[e[t+14]]+on[e[t+15]]).toLowerCase()}(a)},os=()=>{let[e]=(0,o.useState)(()=>"pattern".concat(oi()));return(0,u.jsxs)("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsxs)("g",{clipPath:"url(#".concat(e,")"),children:[(0,u.jsx)("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),(0,u.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),(0,u.jsx)("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),(0,u.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"".concat(e),children:(0,u.jsx)("rect",{fill:"white",height:"151",width:"231"})})})]})},oc=()=>(0,u.jsx)("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})}),ou="block-search",od=e=>{let t=(0,d.c)(5),{setSearchTerm:n}=e,{t:a}=(0,s.d)(),l;t[0]!==n?(l=e=>{n(e.target.value)},t[0]=n,t[1]=l):l=t[1];let o=l,r;return t[2]!==o||t[3]!==a?(r=(0,u.jsxs)("div",{className:ou,children:[(0,u.jsx)("input",{className:"".concat(ou,"__input"),onChange:o,placeholder:a("fields:searchForBlock")}),(0,u.jsx)(oc,{})]}),t[2]=o,t[3]=a,t[4]=r):r=t[4],r},op="blocks-drawer",oh=(e,t)=>"string"==typeof e.labels.singular?e.labels.singular.toLowerCase():"object"==typeof e.labels.singular?(0,p.sC)(e.labels.singular,t).toLowerCase():"",of=e=>{let{addRow:t,addRowIndex:n,blocks:a,drawerSlug:l,labels:r}=e,[c,d]=(0,o.useState)(""),[h,f]=(0,o.useState)(a),{closeModal:m,isModalOpen:g}=ne(),{i18n:v,t:b}=(0,s.d)(),{config:x}=(0,i.b)(),y=(0,o.useMemo)(()=>{let e={_none:[]};return h.forEach(t=>{var n;if("object"==typeof t&&(null==(n=t.admin)?void 0:n.group)){let n=t.admin.group,a="string"==typeof n?n:(0,p.sC)(n,v);Object.hasOwn(e,a)?e[a].push(t):e[a]=[t]}else e._none.push(t)}),e},[h,v]);return(0,o.useEffect)(()=>{g(l)||d("")},[g,l]),(0,o.useEffect)(()=>{let e=c.toLowerCase();f(null==a?void 0:a.reduce((t,n)=>{let a="string"==typeof n?x.blocksMap[n]:n;return oh(a,v).includes(e)&&t.push(a),t},[]))},[c,a,v,x.blocksMap]),(0,u.jsxs)(an,{slug:l,title:b("fields:addLabel",{label:(0,p.sC)(r.singular,v)}),children:[(0,u.jsx)(od,{setSearchTerm:d}),(0,u.jsx)("div",{className:"".concat(op,"__blocks-wrapper"),children:(0,u.jsx)("ul",{className:"".concat(op,"__block-groups"),children:Object.entries(y).map(e=>{let[a,o]=e;return o.length?(0,u.jsxs)("li",{className:["".concat(op,"__block-group"),"_none"===a&&"".concat(op,"__block-group-none")].filter(Boolean).join(" "),children:["_none"!==a&&(0,u.jsx)("h3",{className:"".concat(op,"__block-group-label"),children:a}),(0,u.jsx)("ul",{className:"".concat(op,"__blocks"),children:o.map((e,a)=>{let{slug:o,imageAltText:r,imageURL:i,labels:s}="string"==typeof e?x.blocksMap[e]:e;return(0,u.jsx)("li",{className:"".concat(op,"__block"),children:(0,u.jsx)(ot,{alignLabel:"center",label:(0,p.sC)(null==s?void 0:s.singular,v),onClick:()=>{t(n,o),m(l)},thumbnail:(0,u.jsx)("div",{className:"".concat(op,"__default-image"),children:i?(0,u.jsx)("img",{alt:r,src:i}):(0,u.jsx)(os,{})})})},a)})})]},a):null})})})]})},om=e=>{let t,n=(0,d.c)(26),{addRow:a,blocks:l,blockType:r,duplicateRow:i,hasMaxRows:s,isSortable:c,labels:p,moveRow:h,removeRow:f,rowCount:m,rowIndex:g}=e,{closeModal:v,openModal:b}=ne(),x=n7("blocks-drawer"),[y,w]=o.useState(null),j;if(n[0]!==a||n[1]!==v||n[2]!==x||n[3]!==y?(j=(e,t)=>{"function"==typeof a&&a(y,t),v(x)},n[0]=a,n[1]=v,n[2]=x,n[3]=y,n[4]=j):j=n[4],n[5]!==r||n[6]!==l||n[7]!==x||n[8]!==i||n[9]!==s||n[10]!==c||n[11]!==p||n[12]!==h||n[13]!==b||n[14]!==f||n[15]!==m||n[16]!==g||n[17]!==j){let e,a;n[19]!==x||n[20]!==b?(e=e=>{w(e),b(x)},n[19]=x,n[20]=b,n[21]=e):e=n[21],n[22]!==r||n[23]!==i||n[24]!==g?(a=()=>i(g,r),n[22]=r,n[23]=i,n[24]=g,n[25]=a):a=n[25],t=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(of,{addRow:j,addRowIndex:g,blocks:l,drawerSlug:x,labels:p}),(0,u.jsx)(lQ,{addRow:e,duplicateRow:a,hasMaxRows:s,index:g,isSortable:c,moveRow:h,removeRow:f,rowCount:m})]}),n[5]=r,n[6]=l,n[7]=x,n[8]=i,n[9]=s,n[10]=c,n[11]=p,n[12]=h,n[13]=b,n[14]=f,n[15]=m,n[16]=g,n[17]=j,n[18]=t}else t=n[18];return t},og="section-title",ov=e=>{let t=(0,d.c)(14),{customOnChange:n,customValue:a,path:l,readOnly:o}=e,r;t[0]!==l?(r={path:l},t[0]=l,t[1]=r):r=t[1];let{setValue:i,value:c}=lT(r),{t:p}=(0,s.d)(),h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[og].filter(Boolean),t[2]=h):h=t[2];let f=h.join(" "),m;t[3]!==n||t[4]!==i?(m=n||(e=>{e.stopPropagation(),e.preventDefault(),i(e.target.value)}),t[3]=n,t[4]=i,t[5]=m):m=t[5];let g=m,v=a||c,b;return t[6]!==a||t[7]!==g||t[8]!==l||t[9]!==o||t[10]!==p||t[11]!==v||t[12]!==c?(b=(0,u.jsx)("div",{className:f,"data-value":v,children:(0,u.jsx)("input",{className:"".concat(og,"__input"),id:l,name:l,onChange:g,placeholder:p("general:untitled"),readOnly:o,type:"text",value:a||c||""})}),t[6]=a,t[7]=g,t[8]=l,t[9]=o,t[10]=p,t[11]=v,t[12]=c,t[13]=b):b=t[13],b},ob="blocks-field",ox=e=>{var t,n;let a=(0,d.c)(40),{addRow:l,attributes:o,block:r,blocks:c,duplicateRow:h,errorCount:f,fields:m,hasMaxRows:g,isLoading:v,isSortable:b,Label:x,labels:y,listeners:w,moveRow:j,parentPath:C,path:S,permissions:_,readOnly:k,removeRow:N,row:D,rowCount:E,rowIndex:P,schemaPath:T,setCollapse:A,setNodeRef:O,transform:I}=e,R=l9(v,500),{i18n:L}=(0,s.d)(),M=eP()&&f>0,F=!(null==(t=r.admin)?void 0:t.disableBlockName),B=M?"".concat(ob,"__row--has-errors"):"".concat(ob,"__row--no-errors"),z;a[0]!==B?(z=["".concat(ob,"__row"),B].filter(Boolean),a[0]=B,a[1]=z):z=a[1];let V=z.join(" "),U;if(!0===_)U=!0;else{let e=null==_||null==(n=_.blocks)?void 0:n[r.slug];U=!0===e||(null==e?void 0:e.fields)}let H="".concat(null==C?void 0:C.split(".").join("-"),"-row-").concat(P),q;if(a[2]!==x||a[3]!==l||a[4]!==o||a[5]!==r.fields||a[6]!==r.labels||a[7]!==U||a[8]!==c||a[9]!==V||a[10]!==h||a[11]!==f||a[12]!==M||a[13]!==m||a[14]!==g||a[15]!==L||a[16]!==R||a[17]!==b||a[18]!==y||a[19]!==w||a[20]!==j||a[21]!==C||a[22]!==S||a[23]!==k||a[24]!==N||a[25]!==D.blockType||a[26]!==D.collapsed||a[27]!==D.id||a[28]!==E||a[29]!==P||a[30]!==T||a[31]!==A||a[32]!==O||a[33]!==F||a[34]!==H||a[35]!==I){let e;a[37]!==D.id||a[38]!==A?(e=e=>A(D.id,e),a[37]=D.id,a[38]=A,a[39]=e):e=a[39],q=(0,u.jsx)("div",{id:H,ref:O,style:{transform:I},children:(0,u.jsx)(l2,{actions:k?void 0:(0,u.jsx)(om,{addRow:l,blocks:c,blockType:D.blockType,duplicateRow:h,fields:r.fields,hasMaxRows:g,isSortable:b,labels:y,moveRow:j,removeRow:N,rowCount:E,rowIndex:P}),className:V,collapsibleStyle:M?"error":"default",dragHandleProps:b?{id:D.id,attributes:o,listeners:w}:void 0,header:R?(0,u.jsx)(i.d,{height:"1rem",width:"8rem"}):(0,u.jsxs)("div",{className:"".concat(ob,"__block-header"),children:[(0,u.jsx)(ez,{CustomComponent:x,label:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(ob,"__block-number"),children:String(P+1).padStart(2,"0")}),(0,u.jsx)(l7,{className:"".concat(ob,"__block-pill ").concat(ob,"__block-pill-").concat(D.blockType),pillStyle:"white",size:"small",children:(0,p.sC)(r.labels.singular,L)}),F&&(0,u.jsx)(ov,{path:"".concat(S,".blockName"),readOnly:k})]}),path:S,rowNumber:P}),M&&(0,u.jsx)(tF,{count:f,i18n:L,withMessage:!0})]}),isCollapsed:D.collapsed,onToggle:e,children:R?(0,u.jsx)(i.d,{}):(0,u.jsx)(hL,{className:"".concat(ob,"__fields"),fields:m,margins:"small",parentIndexPath:"",parentPath:S,parentSchemaPath:T,permissions:U,readOnly:k})},D.id)},"".concat(C,"-row-").concat(P)),a[2]=x,a[3]=l,a[4]=o,a[5]=r.fields,a[6]=r.labels,a[7]=U,a[8]=c,a[9]=V,a[10]=h,a[11]=f,a[12]=M,a[13]=m,a[14]=g,a[15]=L,a[16]=R,a[17]=b,a[18]=y,a[19]=w,a[20]=j,a[21]=C,a[22]=S,a[23]=k,a[24]=N,a[25]=D.blockType,a[26]=D.collapsed,a[27]=D.id,a[28]=E,a[29]=P,a[30]=T,a[31]=A,a[32]=O,a[33]=F,a[34]=H,a[35]=I,a[36]=q}else q=a[36];return q},oy="blocks-field",ow=lI(e=>{let t,n,a=(0,d.c)(50),{i18n:l,t:r}=(0,s.d)(),{field:c,path:h,permissions:f,readOnly:m,schemaPath:g,validate:v}=e,{name:b,admin:x,blockReferences:y,blocks:w,label:j,labels:C,localized:S,maxRows:_,minRows:k,required:N}=c,D;a[0]!==x?(D=void 0===x?{}:x,a[0]=x,a[1]=D):D=a[1];let{className:E,description:P,isSortable:T}=D,A=void 0===T||T,O=null!=g?g:b,I=+(null!=k?!!k:!!N),{setDocFieldPreferences:R}=lC(),{addFieldRow:L,dispatchFields:M,moveFieldRow:F,removeFieldRow:B,setModified:z}=eN(),{code:V}=aS(),{config:U,config:H}=(0,i.b)(),{localization:q}=U,K=n7("blocks-drawer"),W=eP(),Y={plural:r("fields:blocks"),singular:r("fields:block"),...C},G;e:{if(q&&q.fallback){G=V===q.defaultLocale;break e}G=!0}let Q=G,X;a[2]!==Q||a[3]!==_||a[4]!==I||a[5]!==N||a[6]!==v?(X=(e,t)=>!Q&&null===e||("function"==typeof v?v(e,{...t,maxRows:_,minRows:I,required:N}):void 0),a[2]=Q,a[3]=_,a[4]=I,a[5]=N,a[6]=v,a[7]=X):X=a[7];let $=X,Z;a[8]!==$||a[9]!==h?(Z={hasRows:!0,potentiallyStalePath:h,validate:$},a[8]=$,a[9]=h,a[10]=Z):Z=a[10];let{customComponents:J,disabled:ee,errorPaths:et,path:en,rows:ea,showError:el,valid:eo,value:er}=lT(Z),ei;a[11]!==J?(ei=void 0===J?{}:J,a[11]=J,a[12]=ei):ei=a[12];let{AfterInput:es,BeforeInput:eu,Description:ed,Error:ep,Label:eh}=ei,ef;a[13]!==ea?(ef=void 0===ea?[]:ea,a[13]=ea,a[14]=ef):ef=a[14];let em=ef,eg;a[15]!==L||a[16]!==en||a[17]!==O?(eg=(e,t)=>{L({blockType:t,path:en,rowIndex:e,schemaPath:O}),setTimeout(()=>{lK("".concat(en,"-row-").concat(e+1))},0)},a[15]=L,a[16]=en,a[17]=O,a[18]=eg):eg=a[18];let ev=eg,eb;a[19]!==M||a[20]!==en||a[21]!==z?(eb=e=>{M({type:"DUPLICATE_ROW",path:en,rowIndex:e}),z(!0),setTimeout(()=>{lK("".concat(en,"-row-").concat(e+1))},0)},a[19]=M,a[20]=en,a[21]=z,a[22]=eb):eb=a[22];let ex=eb,ey;a[23]!==en||a[24]!==B?(ey=e=>{B({path:en,rowIndex:e})},a[23]=en,a[24]=B,a[25]=ey):ey=a[25];let ew=ey,ej;a[26]!==F||a[27]!==en?(ej=(e,t)=>{F({moveFromIndex:e,moveToIndex:t,path:en})},a[26]=F,a[27]=en,a[28]=ej):ej=a[28];let eC=ej,eS;a[29]!==M||a[30]!==en||a[31]!==em||a[32]!==R?(eS=e=>{let{collapsedIDs:t,updatedRows:n}=aE({collapsed:e,rows:em});M({type:"SET_ALL_ROWS_COLLAPSED",path:en,updatedRows:n}),R(en,{collapsed:t})},a[29]=M,a[30]=en,a[31]=em,a[32]=R,a[33]=eS):eS=a[33];let e_=eS,ek;a[34]!==M||a[35]!==en||a[36]!==em||a[37]!==R?(ek=(e,t)=>{let{collapsedIDs:n,updatedRows:a}=aD({collapsed:t,rowID:e,rows:em});M({type:"SET_ROW_COLLAPSED",path:en,updatedRows:a}),R(en,{collapsed:n})},a[34]=M,a[35]=en,a[36]=em,a[37]=R,a[38]=ek):ek=a[38];let eD=ek,eE=_&&em.length>=_,eT=et.length,eA=W&&eT+ +!eo>0,eO=em.length<I||N&&0===em.length,eI=m&&0===em.length,eR=eA?"".concat(oy,"--has-error"):"".concat(oy,"--has-no-error"),eL;return a[39]!==E||a[40]!==eR?(eL=[lL,oy,E,eR].filter(Boolean),a[39]=E,a[40]=eR,a[41]=eL):eL=a[41],a[42]!==ep||a[43]!==en||a[44]!==el?(t=el&&(0,u.jsx)(ec,{CustomComponent:ep,Fallback:(0,u.jsx)(tV,{path:en,showError:el})}),a[42]=ep,a[43]=en,a[44]=el,a[45]=t):t=a[45],a[46]!==eT||a[47]!==eA||a[48]!==l?(n=eA&&eT>0&&(0,u.jsx)(tF,{count:eT,i18n:l,withMessage:!0}),a[46]=eT,a[47]=eA,a[48]=l,a[49]=n):n=a[49],(0,u.jsxs)("div",{className:eL.join(" "),id:"field-".concat(null==en?void 0:en.replace(/\./g,"__")),children:[t,(0,u.jsxs)("header",{className:"".concat(oy,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(oy,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(oy,"__heading-with-error"),children:[(0,u.jsx)("h3",{children:(0,u.jsx)(ec,{CustomComponent:eh,Fallback:(0,u.jsx)(aN,{label:j,localized:S,path:en,required:N})})}),n]}),em.length>0&&(0,u.jsxs)("ul",{className:"".concat(oy,"__header-actions"),children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oy,"__header-action"),onClick:()=>e_(!0),type:"button",children:r("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(oy,"__header-action"),onClick:()=>e_(!1),type:"button",children:r("fields:showAll")})})]})]}),(0,u.jsx)(ec,{CustomComponent:ed,Fallback:(0,u.jsx)(tz,{description:P,path:en})})]}),eu,(0,u.jsx)(lq,{fieldValue:er,localized:S,path:en}),(em.length>0||!eo&&(eI||eO))&&(0,u.jsxs)(tL,{className:"".concat(oy,"__rows"),ids:em.map(oj),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return eC(t,n)},children:[em.map((e,t)=>{var n;let{blockType:a,isLoading:l}=e,o=null!=(n=H.blocksMap[a])?n:(null!=y?y:w).find(e=>"string"!=typeof e&&e.slug===a);if(o){let n="".concat(en,".").concat(t),a=et.filter(e=>e.startsWith(n+".")).length;return(0,u.jsx)(tR,{disabled:m||ee||!A,id:e.id,children:r=>{var i,s;return(0,u.jsx)(ox,{...r,addRow:ev,block:o,blocks:null!=y?y:w,duplicateRow:ex,errorCount:a,fields:o.fields,hasMaxRows:eE,isLoading:l,isSortable:A,Label:null==em||null==(s=em[t])||null==(i=s.customComponents)?void 0:i.RowLabel,labels:Y,moveRow:eC,parentPath:en,path:n,permissions:f,readOnly:m||ee,removeRow:ew,row:e,rowCount:em.length,rowIndex:t,schemaPath:O+o.slug,setCollapse:eD})}},e.id)}return null}),!Q&&(0,u.jsxs)(o.Fragment,{children:[eO&&(0,u.jsx)(eQ,{type:"error",children:r("validation:requiresAtLeast",{count:I,label:(0,p.sC)(I>1?Y.plural:Y.singular,l)||r(I>1?"general:row":"general:rows")})}),eI&&(0,u.jsx)(eQ,{children:r("validation:fieldHasNo",{label:(0,p.sC)(Y.plural,l)})})]})]}),!eE&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(at,{className:"".concat(oy,"__drawer-toggler"),disabled:m||ee,slug:K,children:(0,u.jsx)(tp,{buttonStyle:"icon-label",disabled:m||ee,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:r("fields:addLabel",{label:(0,p.sC)(Y.singular,l)})})}),(0,u.jsx)(of,{addRow:ev,addRowIndex:(null==em?void 0:em.length)||0,blocks:null!=y?y:w,drawerSlug:K,labels:Y})]}),es]})});function oj(e){return e.id}var oC=(0,o.lazy)(()=>n.e(5651).then(n.bind(n,35651))),oS=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.d,{}),children:(0,u.jsx)(oC,{...e})}),o_={js:"javascript",ts:"typescript"},ok=lI(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:l={},language:r="javascript"}={},label:i,localized:s,required:c},onMount:d,path:p,readOnly:h,validate:f}=e,{customComponents:{AfterInput:m,BeforeInput:g,Description:v,Error:b,Label:x}={},disabled:y,path:w,setValue:j,showError:C,value:S}=lT({potentiallyStalePath:p,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof f)return f(e,{...t,required:c})},[f,c])}),_=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsxs)("div",{className:[lL,"code-field",n,C&&"error",(h||y)&&"read-only"].filter(Boolean).join(" "),style:_,children:[(0,u.jsx)(ec,{CustomComponent:x,Fallback:(0,u.jsx)(aN,{label:i,localized:s,path:w,required:c})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:b,Fallback:(0,u.jsx)(tV,{path:w,showError:C})}),g,(0,u.jsx)(oS,{defaultLanguage:o_[r]||r,onChange:h||y?()=>null:e=>j(e),onMount:d,options:l,readOnly:h||y,value:S||""}),m]}),(0,u.jsx)(ec,{CustomComponent:v,Fallback:(0,u.jsx)(tz,{description:a,path:w})})]})}),oN=e=>e.reduce((e,t)=>{var n;let a="fields"in t?t.fields:void 0;return a?(0,x.Z7)(t)?e.push("".concat(t.name,".")):e.push(...oN(a)):"tabs"===t.type?"tabs"in t&&(null==(n=t.tabs)||n.forEach(t=>{"name"in t?e.push("".concat(t.name,".")):e.push(...oN(t.fields))})):(0,x.Z7)(t)&&e.push(t.name),e},[]),oD=e=>{let t,n=(0,d.c)(12),{fields:a,path:l,setErrorCount:o}=e,[r]=eL(),i=eP(),s;n[0]!==a?(s=oN(a),n[0]=a,n[1]=s):s=n[1];let c=s,u;return n[2]!==r||n[3]!==i||n[4]!==l||n[5]!==c||n[6]!==o?(u=()=>{if(i){let e;e=0,Object.entries(r).forEach(t=>{let[n]=t;if(null==c?void 0:c.some(e=>{let t=[...l,e].join(".");return t.endsWith(".")?n.startsWith(t):n===t})){let t=r[n];"valid"in t&&!t.valid&&(e+=1)}}),o(e)}},n[2]=r,n[3]=i,n[4]=l,n[5]=c,n[6]=o,n[7]=u):u=n[7],n[8]!==a||n[9]!==r||n[10]!==i?(t=[r,i,a],n[8]=a,n[9]=r,n[10]=i,n[11]=t):t=n[11],aP(u,250,t),null},oE="collapsible-field",oP=lI(e=>{let{field:t,field:{admin:{className:n,description:a,initCollapsed:l=!1}={},fields:r,label:i}={},indexPath:c,parentPath:d,parentSchemaPath:h,path:f,permissions:m,readOnly:g}=e,{i18n:v}=(0,s.d)(),{getPreference:b,setPreference:x}=ab(),{preferencesKey:y}=lC(),[w,j]=(0,o.useState)(),C="collapsible-".concat(null==f?void 0:f.replace(/\./g,"__")),[S,_]=(0,o.useState)(0),k=S>0,{customComponents:{AfterInput:N,BeforeInput:D,Description:E,Label:P}={},disabled:T}=lT({path:f}),A=(0,o.useCallback)(async e=>{var t,n;let a=await b(y);y&&x(y,{...a,...f?{fields:{...(null==a?void 0:a.fields)||{},[f]:{...null==a||null==(t=a.fields)?void 0:t[f],collapsed:e}}}:{fields:{...(null==a?void 0:a.fields)||{},[C]:{...null==a||null==(n=a.fields)?void 0:n[C],collapsed:e}}}})},[y,C,b,x,f]);(0,o.useEffect)(()=>{(async()=>{if(y){var e,t,n,a;let o=await b(y),r=f?null==o||null==(t=o.fields)||null==(e=t[f])?void 0:e.collapsed:null==o||null==(a=o.fields)||null==(n=a[C])?void 0:n.collapsed;j(void 0!==r?!!r:"boolean"==typeof l&&l)}else j("boolean"==typeof l&&l)})()},[b,y,C,l,f]);let O=(0,o.useMemo)(()=>lR(t),[t]);return"boolean"!=typeof w?null:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(oD,{fields:r,path:f.split(".").slice(0,-1),setErrorCount:_}),(0,u.jsxs)("div",{className:[lL,oE,n,k?"".concat(oE,"--has-error"):"".concat(oE,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(C),style:O,children:[D,(0,u.jsx)(l2,{className:"".concat(oE,"__collapsible"),collapsibleStyle:k?"error":"default",header:(0,u.jsxs)("div",{className:"".concat(oE,"__row-label-wrap"),children:[(0,u.jsx)(ez,{CustomComponent:P,label:(0,p.sC)(i,v),path:f}),k&&(0,u.jsx)(tF,{count:S,i18n:v,withMessage:!0})]}),initCollapsed:w,onToggle:A,children:(0,u.jsx)(hL,{fields:r,margins:"small",parentIndexPath:c,parentPath:d,parentSchemaPath:h,permissions:m,readOnly:g||T})}),N,(0,u.jsx)(ec,{CustomComponent:E,Fallback:(0,u.jsx)(tz,{description:a,path:f})})]})]})}),oT=(0,o.lazy)(()=>n.e(9226).then(n.bind(n,79226))),oA=e=>(0,u.jsx)(o.Suspense,{fallback:(0,u.jsx)(i.d,{height:50}),children:(0,u.jsx)(oT,{...e})});function oO(e){return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oI(e){var t=function(e,t){if("object"!=oO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=oO(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oO(t)?t:t+""}function oR(e,t,n){return(t=oI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oL(Object(n),!0).forEach(function(t){oR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function oB(e,t){if(e){if("string"==typeof e)return oF(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oF(e,t):void 0}}function oz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,o,r,i=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){c=!0,l=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw l}}return i}}(e,t)||oB(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oV(e,t){if(null==e)return{};var n,a,l=tY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var oU=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function oH(e){var t=e.defaultInputValue,n=e.defaultMenuIsOpen,a=e.defaultValue,l=e.inputValue,r=e.menuIsOpen,i=e.onChange,s=e.onInputChange,c=e.onMenuClose,u=e.onMenuOpen,d=e.value,p=oV(e,oU),h=oz((0,o.useState)(void 0!==l?l:void 0===t?"":t),2),f=h[0],m=h[1],g=oz((0,o.useState)(void 0!==r?r:void 0!==n&&n),2),v=g[0],b=g[1],x=oz((0,o.useState)(void 0!==d?d:void 0===a?null:a),2),y=x[0],w=x[1],j=(0,o.useCallback)(function(e,t){"function"==typeof i&&i(e,t),w(e)},[i]),C=(0,o.useCallback)(function(e,t){var n;"function"==typeof s&&(n=s(e,t)),m(void 0!==n?n:e)},[s]),S=(0,o.useCallback)(function(){"function"==typeof u&&u(),b(!0)},[u]),_=(0,o.useCallback)(function(){"function"==typeof c&&c(),b(!1)},[c]),k=void 0!==l?l:f,N=void 0!==r?r:v,D=void 0!==d?d:y;return oM(oM({},p),{},{inputValue:k,menuIsOpen:N,onChange:j,onInputChange:C,onMenuClose:_,onMenuOpen:S,value:D})}function oq(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oI(a.key),a)}}function oK(e){return(oK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oW=function(){return!!e})()}function oY(e){return function(e){if(Array.isArray(e))return oF(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oB(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oG=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{a.insertRule(e,a.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),oQ="-ms-",oX="-moz-",o$="-webkit-",oZ="comm",oJ="rule",o0="decl",o1="@keyframes",o3=Math.abs,o2=String.fromCharCode,o6=Object.assign;function o5(e,t,n){return e.replace(t,n)}function o4(e,t){return e.indexOf(t)}function o8(e,t){return 0|e.charCodeAt(t)}function o7(e,t,n){return e.slice(t,n)}function o9(e){return e.length}function re(e,t){return t.push(e),e}var rt=1,rn=1,ra=0,rl=0,ro=0,rr="";function ri(e,t,n,a,l,o,r){return{value:e,root:t,parent:n,type:a,props:l,children:o,line:rt,column:rn,length:r,return:""}}function rs(e,t){return o6(ri("",null,null,"",null,null,0),e,{length:-e.length},t)}function rc(){return ro=rl<ra?o8(rr,rl++):0,rn++,10===ro&&(rn=1,rt++),ro}function ru(){return o8(rr,rl)}function rd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rp(e){return rt=rn=1,ra=o9(rr=e),rl=0,[]}function rh(e){var t,n;return(t=rl-1,n=function e(t){for(;rc();)switch(ro){case t:return rl;case 34:case 39:34!==t&&39!==t&&e(ro);break;case 40:41===t&&e(t);break;case 92:rc()}return rl}(91===e?e+2:40===e?e+1:e),o7(rr,t,n)).trim()}function rf(e,t,n,a,l,o,r,i,s,c,u){for(var d=l-1,p=0===l?o:[""],h=p.length,f=0,m=0,g=0;f<a;++f)for(var v=0,b=o7(e,d+1,d=o3(m=r[f])),x=e;v<h;++v)(x=(m>0?p[v]+" "+b:o5(b,/&\f/g,p[v])).trim())&&(s[g++]=x);return ri(e,t,n,0===l?oJ:i,s,c,u)}function rm(e,t,n,a){return ri(e,t,n,o0,o7(e,0,a),o7(e,a+1,-1),a)}function rg(e,t){for(var n="",a=e.length,l=0;l<a;l++)n+=t(e[l],l,e,t)||"";return n}function rv(e,t,n,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case o0:return e.return=e.return||e.value;case oZ:return"";case o1:return e.return=e.value+"{"+rg(e.children,a)+"}";case oJ:e.value=e.props.join(",")}return o9(n=rg(e.children,a))?e.return=e.value+"{"+n+"}":""}var rb=function(e,t,n){for(var a=0,l=0;a=l,l=ru(),38===a&&12===l&&(t[n]=1),!rd(l);)rc();return o7(rr,e,rl)},rx=function(e,t){var n=-1,a=44;do switch(rd(a)){case 0:38===a&&12===ru()&&(t[n]=1),e[n]+=rb(rl-1,t,n);break;case 2:e[n]+=rh(a);break;case 4:if(44===a){e[++n]=58===ru()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o2(a)}while(a=rc());return e},ry=function(e,t){var n;return n=rx(rp(e),t),rr="",n},rw=new WeakMap,rj=function(e){if(!("rule"!==e.type||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if(!(1===e.props.length&&58!==t.charCodeAt(0)&&!rw.get(n))&&!a){rw.set(e,!0);for(var l=[],o=ry(t,l),r=n.props,i=0,s=0;i<o.length;i++)for(var c=0;c<r.length;c++,s++)e.props[s]=l[i]?o[i].replace(/&\f/g,r[c]):r[c]+" "+o[i]}}},rC=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},rS=[function(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case o0:e.return=function e(t,n){switch(45^o8(t,0)?(((n<<2^o8(t,0))<<2^o8(t,1))<<2^o8(t,2))<<2^o8(t,3):0){case 5103:return o$+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o$+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return o$+t+oX+t+oQ+t+t;case 6828:case 4268:return o$+t+oQ+t+t;case 6165:return o$+t+oQ+"flex-"+t+t;case 5187:return o$+t+o5(t,/(\w+).+(:[^]+)/,o$+"box-$1$2"+oQ+"flex-$1$2")+t;case 5443:return o$+t+oQ+"flex-item-"+o5(t,/flex-|-self/,"")+t;case 4675:return o$+t+oQ+"flex-line-pack"+o5(t,/align-content|flex-|-self/,"")+t;case 5548:return o$+t+oQ+o5(t,"shrink","negative")+t;case 5292:return o$+t+oQ+o5(t,"basis","preferred-size")+t;case 6060:return o$+"box-"+o5(t,"-grow","")+o$+t+oQ+o5(t,"grow","positive")+t;case 4554:return o$+o5(t,/([^-])(transform)/g,"$1"+o$+"$2")+t;case 6187:return o5(o5(o5(t,/(zoom-|grab)/,o$+"$1"),/(image-set)/,o$+"$1"),t,"")+t;case 5495:case 3959:return o5(t,/(image-set\([^]*)/,o$+"$1$`$1");case 4968:return o5(o5(t,/(.+:)(flex-)?(.*)/,o$+"box-pack:$3"+oQ+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o$+t+t;case 4095:case 3583:case 4068:case 2532:return o5(t,/(.+)-inline(.+)/,o$+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(o9(t)-1-n>6)switch(o8(t,n+1)){case 109:if(45!==o8(t,n+4))break;case 102:return o5(t,/(.+:)(.+)-([^]+)/,"$1"+o$+"$2-$3$1"+oX+(108==o8(t,n+3)?"$3":"$2-$3"))+t;case 115:return~o4(t,"stretch")?e(o5(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==o8(t,n+1))break;case 6444:switch(o8(t,o9(t)-3-(~o4(t,"!important")&&10))){case 107:return o5(t,":",":"+o$)+t;case 101:return o5(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o$+(45===o8(t,14)?"inline-":"")+"box$3$1"+o$+"$2$3$1"+oQ+"$2box$3")+t}break;case 5936:switch(o8(t,n+11)){case 114:return o$+t+oQ+o5(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return o$+t+oQ+o5(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return o$+t+oQ+o5(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return o$+t+oQ+t+t}return t}(e.value,e.length);break;case o1:return rg([rs(e,{value:o5(e.value,"@","@"+o$)})],a);case oJ:if(e.length){var l,o;return l=e.props,o=function(t){var n;switch(n=t,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return rg([rs(e,{props:[o5(t,/:(read-\w+)/,":"+oX+"$1")]})],a);case"::placeholder":return rg([rs(e,{props:[o5(t,/:(plac\w+)/,":"+o$+"input-$1")]}),rs(e,{props:[o5(t,/:(plac\w+)/,":"+oX+"$1")]}),rs(e,{props:[o5(t,/:(plac\w+)/,oQ+"input-$1")]})],a)}return""},l.map(o).join("")}}}],r_=function(e,t,n){var a=e.key+"-"+t.name;!1===n&&void 0===e.registered[a]&&(e.registered[a]=t.styles)},rk=function(e,t,n){r_(e,t,n);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var l=t;do e.insert(t===l?"."+a:"",l,e.sheet,!0),l=l.next;while(void 0!==l)}},rN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rD=/[A-Z]|^ms/g,rE=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rP=function(e){return 45===e.charCodeAt(1)},rT=function(e){return null!=e&&"boolean"!=typeof e},rA=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return rP(e)?e:e.replace(rD,"-$&").toLowerCase()}),rO=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rE,function(e,t,n){return rR={name:t,styles:n,next:rR},t})}return 1===rN[e]||rP(e)||"number"!=typeof t||0===t?t:t+"px"};function rI(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return rR={name:n.name,styles:n.styles,next:rR},n.name;if(void 0!==n.styles){var a=n.next;if(void 0!==a)for(;void 0!==a;)rR={name:a.name,styles:a.styles,next:rR},a=a.next;return n.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var l=0;l<n.length;l++)a+=rI(e,t,n[l])+";";else for(var o in n){var r=n[o];if("object"!=typeof r)null!=t&&void 0!==t[r]?a+=o+"{"+t[r]+"}":rT(r)&&(a+=rA(o)+":"+rO(o,r)+";");else if(Array.isArray(r)&&"string"==typeof r[0]&&(null==t||void 0===t[r[0]]))for(var i=0;i<r.length;i++)rT(r[i])&&(a+=rA(o)+":"+rO(o,r[i])+";");else{var s=rI(e,t,r);switch(o){case"animation":case"animationName":a+=rA(o)+":"+s+";";break;default:a+=o+"{"+s+"}"}}}return a}(e,t,n);case"function":if(void 0!==e){var l=rR,o=n(e);return rR=l,rI(e,t,o)}}if(null==t)return n;var r=t[n];return void 0!==r?r:n}var rR,rL=/label:\s*([^\s;{]+)\s*(;|$)/g;function rM(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,l="";rR=void 0;var o=e[0];null==o||void 0===o.raw?(a=!1,l+=rI(n,t,o)):l+=o[0];for(var r=1;r<e.length;r++)l+=rI(n,t,e[r]),a&&(l+=o[r]);rL.lastIndex=0;for(var i,s="";null!==(i=rL.exec(l));)s+="-"+i[1];return{name:function(e){for(var t,n=0,a=0,l=e.length;l>=4;++a,l-=4)t=(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(l){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n^=255&e.charCodeAt(a),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(l)+s,styles:l,next:rR}}var rF=!!o.useInsertionEffect&&o.useInsertionEffect||function(e){return e()},rB=o.createContext("u">typeof HTMLElement?function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a,l=e.stylisPlugins||rS,o={},r=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;r.push(e)});var i,s,c,u,d=(s=(i=[rj,rC].concat(l,[rv,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})])).length,function(e,t,n,a){for(var l="",o=0;o<s;o++)l+=i[o](e,t,n,a)||"";return l}),p=function(e){var t,n;return rg((n=function e(t,n,a,l,o,r,i,s,c){for(var u,d=0,p=0,h=i,f=0,m=0,g=0,v=1,b=1,x=1,y=0,w="",j=o,C=r,S=l,_=w;b;)switch(g=y,y=rc()){case 40:if(108!=g&&58==o8(_,h-1)){-1!=o4(_+=o5(rh(y),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:_+=rh(y);break;case 9:case 10:case 13:case 32:_+=function(e){for(;(ro=ru())&&ro<33;)rc();return rd(e)>2||rd(ro)>3?"":" "}(g);break;case 92:_+=function(e,t){for(var n;--t&&rc()&&!(ro<48||ro>102||ro>57&&ro<65||ro>70&&ro<97););return n=rl+(t<6&&32==ru()&&32==rc()),o7(rr,e,n)}(rl-1,7);continue;case 47:switch(ru()){case 42:case 47:re((u=function(e,t){for(;rc()&&e+ro!==57&&(e+ro!==84||47!==ru()););return"/*"+o7(rr,t,rl-1)+"*"+o2(47===e?e:rc())}(rc(),rl),ri(u,n,a,oZ,o2(ro),o7(u,2,-2),0)),c);break;default:_+="/"}break;case 123*v:s[d++]=o9(_)*x;case 125*v:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+p:-1==x&&(_=o5(_,/\f/g,"")),m>0&&o9(_)-h&&re(m>32?rm(_+";",l,a,h-1):rm(o5(_," ","")+";",l,a,h-2),c);break;case 59:_+=";";default:if(re(S=rf(_,n,a,d,p,o,s,w,j=[],C=[],h),r),123===y)if(0===p)e(_,n,S,S,j,r,h,s,C);else switch(99===f&&110===o8(_,3)?100:f){case 100:case 108:case 109:case 115:e(t,S,S,l&&re(rf(t,S,S,0,0,o,s,w,o,j=[],h),C),o,C,h,s,l?j:C);break;default:e(_,S,S,S,[""],C,0,s,C)}}d=p=m=0,v=x=1,w=_="",h=i;break;case 58:h=1+o9(_),m=g;default:if(v<1){if(123==y)--v;else if(125==y&&0==v++&&125==(ro=rl>0?o8(rr,--rl):0,rn--,10===ro&&(rn=1,rt--),ro))continue}switch(_+=o2(y),y*v){case 38:x=p>0?1:(_+="\f",-1);break;case 44:s[d++]=(o9(_)-1)*x,x=1;break;case 64:45===ru()&&(_+=rh(rc())),f=ru(),p=h=o9(w=_+=function(e){for(;!rd(ru());)rc();return o7(rr,e,rl)}(rl)),y++;break;case 45:45===g&&2==o9(_)&&(v=0)}}return r}("",null,null,null,[""],t=rp(t=e),0,[0],t),rr="",n),d)},h={key:t,sheet:new oG({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:function(e,t,n,a){u=n,p(e?e+"{"+t.styles+"}":t.styles),a&&(h.inserted[t.name]=!0)}};return h.sheet.hydrate(r),h}({key:"css"}):null);rB.Provider;var rz=o.createContext({}),rV={}.hasOwnProperty,rU="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rH=function(e,t){var n={};for(var a in t)rV.call(t,a)&&(n[a]=t[a]);return n[rU]=e,n},rq=function(e){var t=e.cache,n=e.serialized,a=e.isStringTag;return r_(t,n,a),rF(function(){return rk(t,n,a)}),null},rK=(it=function(e,t,n){var a,l,r,i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var s=e[rU],c=[i],u="";"string"==typeof e.className?(a=t.registered,l=e.className,r="",l.split(" ").forEach(function(e){void 0!==a[e]?c.push(a[e]+";"):e&&(r+=e+" ")}),u=r):null!=e.className&&(u=e.className+" ");var d=rM(c,void 0,o.useContext(rz));u+=t.key+"-"+d.name;var p={};for(var h in e)rV.call(e,h)&&"css"!==h&&h!==rU&&(p[h]=e[h]);return p.className=u,n&&(p.ref=n),o.createElement(o.Fragment,null,o.createElement(rq,{cache:t,serialized:d,isStringTag:"string"==typeof s}),o.createElement(s,p))},(0,o.forwardRef)(function(e,t){return it(e,(0,o.useContext)(rB),t)}));(0,c.e)(en());var rW=function(e,t){var n=arguments;if(null==t||!rV.call(t,"css"))return o.createElement.apply(void 0,n);var a=n.length,l=Array(a);l[0]=rK,l[1]=rH(e,t);for(var r=2;r<a;r++)l[r]=n[r];return o.createElement.apply(null,l)};function rY(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return rM(t)}!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(rW||(rW={})),(0,s.l)();var rG=o.useLayoutEffect,rQ=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rX=function(){};function r$(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),l=2;l<n;l++)a[l-2]=arguments[l];var o=[].concat(a);if(t&&e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&o.push("".concat(r?"-"===r[0]?e+r:e+"__"+r:e));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var rZ=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===oO(e)&&null!==e?[e]:[]},rJ=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,oM({},oV(e,rQ))},r0=function(e,t,n){var a=e.cx,l=e.getStyles,o=e.getClassNames,r=e.className;return{css:l(t,e),className:a(null!=n?n:{},o(t,e),r)}};function r1(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function r3(e){return r1(e)?window.pageYOffset:e.scrollTop}function r2(e,t){if(r1(e))return void window.scrollTo(0,t);e.scrollTop=t}function r6(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rX,l=r3(e),o=t-l,r=0;!function t(){var i;r+=10,r2(e,o*((i=(i=r)/n-1)*i*i+1)+l),r<n?window.requestAnimationFrame(t):a(e)}()}function r5(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),l=t.offsetHeight/3;a.bottom+l>n.bottom?r2(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+l,e.scrollHeight)):a.top-l<n.top&&r2(e,Math.max(t.offsetTop-l,0))}function r4(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var r8=!1,r7="u">typeof window?window:{};r7.addEventListener&&r7.removeEventListener&&(r7.addEventListener("p",rX,{get passive(){return r8=!0}}),r7.removeEventListener("p",rX,!1));var r9=r8;function ie(e){return null!=e}var it,ia,il=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object.entries(e).filter(function(e){var t=oz(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=oz(t,2),a=n[0],l=n[1];return e[a]=l,e},{})},io=["children","innerProps"],ir=["children","innerProps"],ii=function(e){return"auto"===e?"bottom":e},is=(0,o.createContext)(null),ic=function(e){var t=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,l=e.menuPlacement,r=e.menuPosition,i=e.menuShouldScrollIntoView,s=e.theme,c=((0,o.useContext)(is)||{}).setPortalPlacement,u=(0,o.useRef)(null),d=oz((0,o.useState)(a),2),p=d[0],h=d[1],f=oz((0,o.useState)(null),2),m=f[0],g=f[1],v=s.spacing.controlHeight;return rG(function(){var e=u.current;if(e){var t="fixed"===r,o=function(e){var t,n=e.maxHeight,a=e.menuEl,l=e.minHeight,o=e.placement,r=e.shouldScroll,i=e.isFixedPosition,s=e.controlHeight,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,a=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var l=e;l=l.parentElement;)if(t=getComputedStyle(l),!(n&&"static"===t.position)&&a.test(t.overflow+t.overflowY+t.overflowX))return l;return document.documentElement}(a),u={placement:"bottom",maxHeight:n};if(!a||!a.offsetParent)return u;var d=c.getBoundingClientRect().height,p=a.getBoundingClientRect(),h=p.bottom,f=p.height,m=p.top,g=a.offsetParent.getBoundingClientRect().top,v=i||r1(t=c)?window.innerHeight:t.clientHeight,b=r3(c),x=parseInt(getComputedStyle(a).marginBottom,10),y=parseInt(getComputedStyle(a).marginTop,10),w=g-y,j=v-m,C=w+b,S=d-b-m,_=h-v+b+x,k=b+m-y;switch(o){case"auto":case"bottom":if(j>=f)return{placement:"bottom",maxHeight:n};if(S>=f&&!i)return r&&r6(c,_,160),{placement:"bottom",maxHeight:n};if(!i&&S>=l||i&&j>=l)return r&&r6(c,_,160),{placement:"bottom",maxHeight:i?j-x:S-x};if("auto"===o||i){var N=n,D=i?w:C;return D>=l&&(N=Math.min(D-x-s,n)),{placement:"top",maxHeight:N}}if("bottom"===o)return r&&r2(c,_),{placement:"bottom",maxHeight:n};break;case"top":if(w>=f)return{placement:"top",maxHeight:n};if(C>=f&&!i)return r&&r6(c,k,160),{placement:"top",maxHeight:n};if(!i&&C>=l||i&&w>=l){var E=n;return(!i&&C>=l||i&&w>=l)&&(E=i?w-y:C-y),r&&r6(c,k,160),{placement:"top",maxHeight:E}}return{placement:"bottom",maxHeight:n};default:throw Error('Invalid placement provided "'.concat(o,'".'))}return u}({maxHeight:a,menuEl:e,minHeight:n,placement:l,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:v});h(o.maxHeight),g(o.placement),null==c||c(o.placement)}},[a,l,r,i,n,c,v]),t({ref:u,placerProps:oM(oM({},e),{},{placement:m||ii(l),maxHeight:p})})},iu=function(e,t){var n=e.theme,a=n.spacing.baseUnit,l=n.colors;return oM({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(2*a,"px ").concat(3*a,"px")})},id=["size"],ip=["innerProps","isRtl","size"],ih={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},im=function(e){var t=e.size,n=oV(e,id);return rW("svg",tW({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ih},n))},ig=function(e){return rW(im,tW({size:20},e),rW("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},iv=function(e){return rW(im,tW({size:20},e),rW("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ib=function(e,t){var n=e.isFocused,a=e.theme,l=a.spacing.baseUnit,o=a.colors;return oM({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*l,":hover":{color:n?o.neutral80:o.neutral40}})},ix=function(){var e=rY.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(ia||(ia=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),iy=function(e){var t=e.delay,n=e.offset;return rW("span",{css:rY({animation:"".concat(ix," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},iw=["data"],ij=["innerRef","isDisabled","isHidden","inputClassName"],iC={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},iS={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":oM({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},iC)},i_=function(e){var t=e.children,n=e.innerProps;return rW("div",n,t)},ik={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return rW("div",tW({},r0(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||rW(ig,null))},Control:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,l=e.innerRef,o=e.innerProps,r=e.menuIsOpen;return rW("div",tW({ref:l},r0(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":r}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return rW("div",tW({},r0(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||rW(iv,null))},DownChevron:iv,CrossIcon:ig,Group:function(e){var t=e.children,n=e.cx,a=e.getStyles,l=e.getClassNames,o=e.Heading,r=e.headingProps,i=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return rW("div",tW({},r0(e,"group",{group:!0}),i),rW(o,tW({},r,{selectProps:u,theme:c,getStyles:a,getClassNames:l,cx:n}),s),rW("div",null,t))},GroupHeading:function(e){var t=rJ(e);t.data;var n=oV(t,iw);return rW("div",tW({},r0(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return rW("div",tW({},r0(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return rW("span",tW({},t,r0(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,a=rJ(e),l=a.innerRef,o=a.isDisabled,r=a.isHidden,i=a.inputClassName,s=oV(a,ij);return rW("div",tW({},r0(e,"input",{"input-container":!0}),{"data-value":n||""}),rW("input",tW({className:t({input:!0},i),ref:l,style:oM({label:"input",color:"inherit",background:0,opacity:+!r,width:"100%"},iC),disabled:o},s)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,a=e.size,l=oV(e,ip);return rW("div",tW({},r0(oM(oM({},l),{},{innerProps:t,isRtl:n,size:void 0===a?4:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),rW(iy,{delay:0,offset:n}),rW(iy,{delay:160,offset:!0}),rW(iy,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,a=e.innerProps;return rW("div",tW({},r0(e,"menu",{menu:!0}),{ref:n},a),t)},MenuList:function(e){var t=e.children,n=e.innerProps,a=e.innerRef,l=e.isMulti;return rW("div",tW({},r0(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:a},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,a=e.controlElement,l=e.innerProps,i=e.menuPlacement,c=e.menuPosition,u=(0,o.useRef)(null),d=(0,o.useRef)(null),p=oz((0,o.useState)(ii(i)),2),h=p[0],f=p[1],m=(0,o.useMemo)(function(){return{setPortalPlacement:f}},[]),g=oz((0,o.useState)(null),2),v=g[0],b=g[1],x=(0,o.useCallback)(function(){if(a){var e,t={bottom:(e=a.getBoundingClientRect()).bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width},n="fixed"===c?0:window.pageYOffset,l=t[h]+n;(l!==(null==v?void 0:v.offset)||t.left!==(null==v?void 0:v.rect.left)||t.width!==(null==v?void 0:v.rect.width))&&b({offset:l,rect:t})}},[a,c,h,null==v?void 0:v.offset,null==v?void 0:v.rect.left,null==v?void 0:v.rect.width]);rG(function(){x()},[x]);var y=(0,o.useCallback)(function(){"function"==typeof d.current&&(d.current(),d.current=null),a&&u.current&&(d.current=(0,s.k)(a,u.current,x,{elementResize:"ResizeObserver"in window}))},[a,x]);rG(function(){y()},[y]);var w=(0,o.useCallback)(function(e){u.current=e,y()},[y]);if(!t&&"fixed"!==c||!v)return null;var j=rW("div",tW({ref:w},r0(oM(oM({},e),{},{offset:v.offset,position:c,rect:v.rect}),"menuPortal",{"menu-portal":!0}),l),n);return rW(is.Provider,{value:m},t?(0,r.createPortal)(j,t):j)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,a=e.innerProps,l=oV(e,ir);return rW("div",tW({},r0(oM(oM({},l),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,a=e.innerProps,l=oV(e,io);return rW("div",tW({},r0(oM(oM({},l),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},MultiValue:function(e){var t=e.children,n=e.components,a=e.data,l=e.innerProps,o=e.isDisabled,r=e.removeProps,i=e.selectProps,s=n.Container,c=n.Label,u=n.Remove;return rW(s,{data:a,innerProps:oM(oM({},r0(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),l),selectProps:i},rW(c,{data:a,innerProps:oM({},r0(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),rW(u,{data:a,innerProps:oM(oM({},r0(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},r),selectProps:i}))},MultiValueContainer:i_,MultiValueLabel:i_,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return rW("div",tW({role:"button"},n),t||rW(ig,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,l=e.isSelected,o=e.innerRef,r=e.innerProps;return rW("div",tW({},r0(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":l}),{ref:o,"aria-disabled":n},r),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return rW("div",tW({},r0(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,a=e.isDisabled,l=e.isRtl;return rW("div",tW({},r0(e,"container",{"--is-disabled":a,"--is-rtl":l}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,a=e.innerProps;return rW("div",tW({},r0(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,a=e.isMulti,l=e.hasValue;return rW("div",tW({},r0(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l}),n),t)}},iN=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function iD(e,t){if(e.length!==t.length)return!1;for(var n,a,l=0;l<e.length;l++)if(!((n=e[l])===(a=t[l])||iN(n)&&iN(a)))return!1;return!0}var iE={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},iP=function(e){return rW("span",tW({css:iE},e))},iT={guidance:function(e){var t=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,l=e.context,o=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,a=void 0===n?"":n,l=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,a=e.options,l=e.label,o=void 0===l?"":l,r=e.selectValue,i=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(o," focused, ").concat(u(r,n),".");if("menu"===t&&c){var d="".concat(s?" selected":"").concat(i?" disabled":"");return"".concat(o).concat(d,", ").concat(u(a,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},iA=function(e){var t=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,l=e.focusableOptions,r=e.isFocused,i=e.selectValue,s=e.selectProps,c=e.id,u=e.isAppleDevice,d=s.ariaLiveMessages,p=s.getOptionLabel,h=s.inputValue,f=s.isMulti,m=s.isOptionDisabled,g=s.isSearchable,v=s.menuIsOpen,b=s.options,x=s.screenReaderStatus,y=s.tabSelectsValue,w=s.isLoading,j=s["aria-label"],C=s["aria-live"],S=(0,o.useMemo)(function(){return oM(oM({},iT),d||{})},[d]),_=(0,o.useMemo)(function(){var e="";if(t&&S.onChange){var n=t.option,a=t.options,l=t.removedValue,o=t.removedValues,r=t.value,s=l||n||(Array.isArray(r)?null:r),c=s?p(s):"",u=a||o||void 0,d=u?u.map(p):[],h=oM({isDisabled:s&&m(s,i),label:c,labels:d},t);e=S.onChange(h)}return e},[t,S,m,i,p]),k=(0,o.useMemo)(function(){var e="",t=n||a,o=!!(n&&i&&i.includes(n));if(t&&S.onFocus){var r={focused:t,label:p(t),isDisabled:m(t,i),isSelected:o,options:l,context:t===n?"menu":"value",selectValue:i,isAppleDevice:u};e=S.onFocus(r)}return e},[n,a,p,m,S,l,i,u]),N=(0,o.useMemo)(function(){var e="";if(v&&b.length&&!w&&S.onFilter){var t=x({count:l.length});e=S.onFilter({inputValue:h,resultsMessage:t})}return e},[l,h,v,S,b,x,w]),D=(null==t?void 0:t.action)==="initial-input-focus",E=(0,o.useMemo)(function(){var e="";if(S.guidance){var t=a?"value":v?"menu":"input";e=S.guidance({"aria-label":j,context:t,isDisabled:n&&m(n,i),isMulti:f,isSearchable:g,tabSelectsValue:y,isInitialFocus:D})}return e},[j,n,a,f,m,g,v,S,i,y,D]),P=rW(o.Fragment,null,rW("span",{id:"aria-selection"},_),rW("span",{id:"aria-focused"},k),rW("span",{id:"aria-results"},N),rW("span",{id:"aria-guidance"},E));return rW(o.Fragment,null,rW(iP,{id:c},D&&P),rW(iP,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},r&&!D&&P))},iO=[{base:"A",letters:"AⒶＡ\xc0\xc1\xc2ẦẤẪẨ\xc3ĀĂẰẮẴẲȦǠ\xc4ǞẢ\xc5ǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"\xc6ǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČ\xc7ḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥ\xc8\xc9\xcaỀẾỄỂẼĒḔḖĔĖ\xcbẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩ\xcc\xcd\xceĨĪĬİ\xcfḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃ\xd1ṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯ\xd2\xd3\xd4ỒỐỖỔ\xd5ṌȬṎŌṐṒŎȮȰ\xd6ȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬ\xd8ǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵ\xd9\xda\xdbŨṸŪṺŬ\xdcǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲ\xddŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚ\xe0\xe1\xe2ầấẫẩ\xe3āăằắẵẳȧǡ\xe4ǟả\xe5ǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"\xe6ǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċč\xe7ḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅ\xe8\xe9\xeaềếễểẽēḕḗĕė\xebẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉ\xec\xed\xeeĩīĭ\xefḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹń\xf1ṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏ\xf2\xf3\xf4ồốỗổ\xf5ṍȭṏōṑṓŏȯȱ\xf6ȫỏőǒȍȏơờớỡởợọộǫǭ\xf8ǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓ\xdfśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕ\xf9\xfa\xfbũṹūṻŭ\xfcǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳ\xfdŷỹȳẏ\xffỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],iI=RegExp("["+iO.map(function(e){return e.letters}).join("")+"]","g"),iR={};for(iF=0;iF<iO.length;iF++)for(iL=iO[iF],iM=0;iM<iL.letters.length;iM++)iR[iL.letters[iM]]=iL.base;var iL,iM,iF,iB=function(e){return e.replace(iI,function(e){return iR[e]})},iz=function(e,t){void 0===t&&(t=iD);var n=null;function a(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var o=e.apply(this,a);return n={lastResult:o,lastArgs:a,lastThis:this},o}return a.clear=function(){n=null},a}(iB),iV=function(e){return e.replace(/^\s+|\s+$/g,"")},iU=function(e){return"".concat(e.label," ").concat(e.value)},iH=["innerRef"];function iq(e){var t=e.innerRef,n=il(oV(e,iH),"onExited","in","enter","exit","appear");return rW("input",tW({ref:t},n,{css:rY({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var iK=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()},iW=["boxSizing","height","overflow","paddingRight","position"],iY={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function iG(e){e.cancelable&&e.preventDefault()}function iQ(e){e.stopPropagation()}function iX(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function i$(){return"ontouchstart"in window||navigator.maxTouchPoints}var iZ=!!("u">typeof window&&window.document&&window.document.createElement),iJ=0,i0={capture:!1,passive:!1},i1=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},i3={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function i2(e){var t,n,a,l,r,i,s,c,u,d,p,h,f,m,g,v,b,x,y,w,j,C,S,_,k=e.children,N=e.lockEnabled,D=e.captureEnabled,E=(n=(t={isEnabled:void 0===D||D,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}).isEnabled,a=t.onBottomArrive,l=t.onBottomLeave,r=t.onTopArrive,i=t.onTopLeave,s=(0,o.useRef)(!1),c=(0,o.useRef)(!1),u=(0,o.useRef)(0),d=(0,o.useRef)(null),p=(0,o.useCallback)(function(e,t){if(null!==d.current){var n=d.current,o=n.scrollTop,u=n.scrollHeight,p=n.clientHeight,h=d.current,f=t>0,m=u-p-o,g=!1;m>t&&s.current&&(l&&l(e),s.current=!1),f&&c.current&&(i&&i(e),c.current=!1),f&&t>m?(a&&!s.current&&a(e),h.scrollTop=u,g=!0,s.current=!0):!f&&-t>o&&(r&&!c.current&&r(e),h.scrollTop=0,g=!0,c.current=!0),g&&iK(e)}},[a,l,r,i]),h=(0,o.useCallback)(function(e){p(e,e.deltaY)},[p]),f=(0,o.useCallback)(function(e){u.current=e.changedTouches[0].clientY},[]),m=(0,o.useCallback)(function(e){var t=u.current-e.changedTouches[0].clientY;p(e,t)},[p]),g=(0,o.useCallback)(function(e){if(e){var t=!!r9&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",m,t)}},[m,f,h]),v=(0,o.useCallback)(function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",m,!1))},[m,f,h]),(0,o.useEffect)(function(){if(n){var e=d.current;return g(e),function(){v(e)}}},[n,g,v]),function(e){d.current=e}),P=(x=(b={isEnabled:N}).isEnabled,w=void 0===(y=b.accountForScrollbars)||y,j=(0,o.useRef)({}),C=(0,o.useRef)(null),S=(0,o.useCallback)(function(e){if(iZ){var t=document.body,n=t&&t.style;if(w&&iW.forEach(function(e){var t=n&&n[e];j.current[e]=t}),w&&iJ<1){var a=parseInt(j.current.paddingRight,10)||0,l=document.body?document.body.clientWidth:0,o=window.innerWidth-l+a||0;Object.keys(iY).forEach(function(e){var t=iY[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(o,"px"))}t&&i$()&&(t.addEventListener("touchmove",iG,i0),e&&(e.addEventListener("touchstart",iX,i0),e.addEventListener("touchmove",iQ,i0))),iJ+=1}},[w]),_=(0,o.useCallback)(function(e){if(iZ){var t=document.body,n=t&&t.style;iJ=Math.max(iJ-1,0),w&&iJ<1&&iW.forEach(function(e){var t=j.current[e];n&&(n[e]=t)}),t&&i$()&&(t.removeEventListener("touchmove",iG,i0),e&&(e.removeEventListener("touchstart",iX,i0),e.removeEventListener("touchmove",iQ,i0)))}},[w]),(0,o.useEffect)(function(){if(x){var e=C.current;return S(e),function(){_(e)}}},[x,S,_]),function(e){C.current=e});return rW(o.Fragment,null,N&&rW("div",{onClick:i1,css:i3}),k(function(e){E(e),P(e)}))}var i6={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},i5=function(e){var t=e.name,n=e.onFocus;return rW("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:i6,value:"",onChange:function(){}})};function i4(e){var t;return"u">typeof window&&null!=window.navigator&&e.test((null==(t=window.navigator.userAgentData)?void 0:t.platform)||window.navigator.platform)}var i8=function(e){return e.label},i7=function(e){return e.value},i9={clearIndicator:ib,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,a=e.isFocused,l=e.theme,o=l.colors,r=l.borderRadius;return oM({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},dropdownIndicator:ib,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,a=n.colors,l=n.spacing;return oM({label:"group",cursor:"default",display:"block"},t?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*l.baseUnit,paddingRight:3*l.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,a=e.theme,l=a.spacing.baseUnit,o=a.colors;return oM({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*l,marginTop:2*l})},input:function(e,t){var n=e.isDisabled,a=e.value,l=e.theme,o=l.spacing,r=l.colors;return oM(oM({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},iS),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:r.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,a=e.size,l=e.theme,o=l.colors,r=l.spacing.baseUnit;return oM({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r})},loadingMessage:iu,menu:function(e,t){var n,a=e.placement,l=e.theme,o=l.borderRadius,r=l.spacing,i=l.colors;return oM((oR(n={label:"menu"},a?({bottom:"top",top:"bottom"})[a]:"bottom","100%"),oR(n,"position","absolute"),oR(n,"width","100%"),oR(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},menuList:function(e,t){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return oM({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:a,paddingTop:a})},menuPortal:function(e){var t=e.rect,n=e.offset,a=e.position;return{left:t.left,position:a,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,a=n.spacing,l=n.borderRadius,o=n.colors;return oM({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:l/2,margin:a.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,a=n.borderRadius,l=n.colors,o=e.cropWithEllipsis;return oM({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:a/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,a=n.spacing,l=n.borderRadius,o=n.colors,r=e.isFocused;return oM({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:r?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:iu,option:function(e,t){var n=e.isDisabled,a=e.isFocused,l=e.isSelected,o=e.theme,r=o.spacing,i=o.colors;return oM({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?i.primary:a?i.primary25:"transparent",color:n?i.neutral20:l?i.neutral0:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),":active":{backgroundColor:n?void 0:l?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,a=n.spacing,l=n.colors;return oM({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,a=e.theme,l=a.spacing,o=a.colors;return oM({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,a=e.isMulti,l=e.hasValue,o=e.selectProps.controlShouldRenderValue;return oM({alignItems:"center",display:a&&l&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},se={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},st={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:r4(),captureMenuScroll:!r4(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=oM({ignoreCase:!0,ignoreAccents:!0,stringify:iU,trim:!0,matchFrom:"any"},void 0),a=n.ignoreCase,l=n.ignoreAccents,o=n.stringify,r=n.trim,i=n.matchFrom,s=r?iV(t):t,c=r?iV(o(e)):o(e);return a&&(s=s.toLowerCase(),c=c.toLowerCase()),l&&(s=iz(s),c=iB(c)),"start"===i?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:i8,getOptionValue:i7,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function sn(e,t,n,a){var l=su(e,t,n),o=sd(e,t,n),r=ss(e,t),i=sc(e,t);return{type:"option",data:t,isDisabled:l,isSelected:o,label:r,value:i,index:a}}function sa(e,t){return e.options.map(function(n,a){if("options"in n){var l=n.options.map(function(n,a){return sn(e,n,t,a)}).filter(function(t){return sr(e,t)});return l.length>0?{type:"group",data:n,options:l,index:a}:void 0}var o=sn(e,n,t,a);return sr(e,o)?o:void 0}).filter(ie)}function sl(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,oY(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function so(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,oY(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function sr(e,t){var n=e.inputValue,a=t.data,l=t.isSelected,o=t.label,r=t.value;return(!sh(e)||!l)&&sp(e,{label:o,value:r,data:a},void 0===n?"":n)}var si=function(e,t){var n;return(null==(n=e.find(function(e){return e.data===t}))?void 0:n.id)||null},ss=function(e,t){return e.getOptionLabel(t)},sc=function(e,t){return e.getOptionValue(t)};function su(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function sd(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var a=sc(e,t);return n.some(function(t){return sc(e,t)===a})}function sp(e,t,n){return!e.filterOption||e.filterOption(t,n)}var sh=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},sf=1,sm=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&tG(r,e);var t,n,a,l=(t=oW(),function(){var e,n=oK(r);e=t?Reflect.construct(n,arguments,oK(this).constructor):n.apply(this,arguments);if(e&&("object"==oO(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return this});function r(e){var t;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),(t=l.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=i4(/^Mac/i)||i4(/^iPhone/i)||i4(/^iPad/i)||i4(/^Mac/i)&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var a=t.props,l=a.onChange;n.name=a.name,t.ariaOnChange(e,n),l(e,n)},t.setValue=function(e,n,a){var l=t.props,o=l.closeMenuOnSelect,r=l.isMulti,i=l.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),o&&(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:a})},t.selectOption=function(e){var n=t.props,a=n.blurInputOnSelect,l=n.isMulti,o=n.name,r=t.state.selectValue,i=l&&t.isOptionSelected(e,r),s=t.isOptionDisabled(e,r);if(i){var c=t.getOptionValue(e);t.setValue(r.filter(function(e){return t.getOptionValue(e)!==c}),"deselect-option",e)}else{if(s)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});l?t.setValue([].concat(oY(r),[e]),"select-option",e):t.setValue(e,"select-option")}a&&t.blurInput()},t.removeValue=function(e){var n,a=t.props.isMulti,l=t.state.selectValue,o=t.getOptionValue(e),r=l.filter(function(e){return t.getOptionValue(e)!==o}),i=(n=r[0]||null,a?r:n);t.onChange(i,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e,n,a=t.state.selectValue;t.onChange((e=t.props.isMulti,n=[],e?n:null),{action:"clear",removedValues:a})},t.popValue=function(){var e,n=t.props.isMulti,a=t.state.selectValue,l=a[a.length-1],o=a.slice(0,a.length-1),r=(e=o[0]||null,n?o:e);l&&t.onChange(r,{action:"pop-value",removedValue:l})},t.getFocusedOptionId=function(e){return si(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return so(sa(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return r$.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return ss(t.props,e)},t.getOptionValue=function(e){return sc(t.props,e)},t.getStyles=function(e,n){var a=t.props.unstyled,l=i9[e](n,a);l.boxSizing="border-box";var o=t.props.styles[e];return o?o(l,n):l},t.getClassNames=function(e,n){var a,l;return null==(a=(l=t.props.classNames)[e])?void 0:a.call(l,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){var e;return e=t.props,oM(oM({},ik),e.components)},t.buildCategorizedOptions=function(){return sa(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return sl(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:oM({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button)&&!t.props.isDisabled){var n=t.props,a=n.isMulti,l=n.menuIsOpen;t.focusInput(),l?(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&r1(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,a=n&&n.item(0);a&&(t.initialTouchX=a.clientX,t.initialTouchY=a.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,a=n&&n.item(0);if(a){var l=Math.abs(a.clientX-t.initialTouchX),o=Math.abs(a.clientY-t.initialTouchY);t.userIsDragging=l>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,a=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(a,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;if(t.menuListRef&&t.menuListRef.contains(document.activeElement))return void t.inputRef.focus();t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1})},t.onOptionHover=function(e){if(!(t.blockOptionHover||t.state.focusedOption===e)){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return sh(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,a=n.isMulti,l=n.backspaceRemovesValue,o=n.escapeClearsValue,r=n.inputValue,i=n.isClearable,s=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,d=n.tabSelectsValue,p=n.openMenuOnFocus,h=t.state,f=h.focusedOption,m=h.focusedValue,g=h.selectValue;if(!s&&!("function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!a||r)return;t.focusValue("previous");break;case"ArrowRight":if(!a||r)return;t.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(m)t.removeValue(m);else{if(!l)return;a?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing||e.shiftKey||!c||!d||!f||p&&t.isOptionSelected(f,g))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f||t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:r}),t.onMenuClose()):i&&o&&t.clearValue();break;case" ":if(r)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++sf),t.state.selectValue=rZ(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),a=t.buildFocusableOptions(),o=a.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=a[o],t.state.focusedOptionId=si(n,a[o])}return t}return n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&r5(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,a=t.menuIsOpen,l=this.state.isFocused;(l&&!n&&e.isDisabled||l&&a&&!e.menuIsOpen)&&this.focusInput(),l&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):l||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(r5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,a=n.selectValue,l=n.isFocused,o=this.buildFocusableOptions(),r="first"===e?0:o.length-1;if(!this.props.isMulti){var i=o.indexOf(a[0]);i>-1&&(r=i)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[r],focusedOptionId:this.getFocusedOptionId(o[r])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,a=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=n.indexOf(a);a||(l=-1);var o=n.length-1,r=-1;if(n.length){switch(e){case"previous":r=0===l?0:-1===l?o:l-1;break;case"next":l>-1&&l<o&&(r=l+1)}this.setState({inputIsHidden:-1!==r,focusedValue:n[r]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,o=a.indexOf(n);n||(o=-1),"up"===e?l=o>0?o-1:a.length-1:"down"===e?l=(o+1)%a.length:"pageup"===e?(l=o-t)<0&&(l=0):"pagedown"===e?(l=o+t)>a.length-1&&(l=a.length-1):"last"===e&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(se):oM(oM({},se),this.props.theme):se}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,a=this.getClassNames,l=this.getValue,o=this.selectOption,r=this.setValue,i=this.props,s=i.isMulti,c=i.isRtl,u=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:a,getValue:l,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:o,selectProps:i,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return su(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return sd(this.props,e,t)}},{key:"filterOption",value:function(e,t){return sp(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var n=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:a})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,a=e.inputId,l=e.inputValue,r=e.tabIndex,i=e.form,s=e.menuIsOpen,c=e.required,u=this.getComponents().Input,d=this.state,p=d.inputIsHidden,h=d.ariaSelection,f=this.commonProps,m=a||this.getElementId("input"),g=oM(oM(oM({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},s&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?(null==h?void 0:h.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?o.createElement(u,tW({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:i,type:"text",value:l},g)):o.createElement(iq,tW({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rX,onFocus:this.onInputFocus,disabled:t,tabIndex:r,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,a=t.MultiValueContainer,l=t.MultiValueLabel,r=t.MultiValueRemove,i=t.SingleValue,s=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,p=u.isDisabled,h=u.isMulti,f=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,x=g.isFocused;if(!this.hasValue()||!d)return f?null:o.createElement(s,tW({},c,{key:"placeholder",isDisabled:p,isFocused:x,innerProps:{id:this.getElementId("placeholder")}}),m);if(h)return v.map(function(t,i){var s=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return o.createElement(n,tW({},c,{components:{Container:a,Label:l,Remove:r},isFocused:s,isDisabled:p,key:u,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(f)return null;var y=v[0];return o.createElement(i,tW({},c,{data:y,isDisabled:p}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,l=n.isLoading,r=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||l)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,tW({},t,{innerProps:i,isFocused:r}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,l=n.isLoading,r=this.state.isFocused;return e&&l?o.createElement(e,tW({},t,{innerProps:{"aria-hidden":"true"},isDisabled:a,isFocused:r})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var a=this.commonProps,l=this.props.isDisabled,r=this.state.isFocused;return o.createElement(n,tW({},a,{isDisabled:l,isFocused:r}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,a=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return o.createElement(e,tW({},t,{innerProps:l,isDisabled:n,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,a=t.GroupHeading,l=t.Menu,r=t.MenuList,i=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,p=this.state.focusedOption,h=this.props,f=h.captureMenuScroll,m=h.inputValue,g=h.isLoading,v=h.loadingMessage,b=h.minMenuHeight,x=h.maxMenuHeight,y=h.menuIsOpen,w=h.menuPlacement,j=h.menuPosition,C=h.menuPortalTarget,S=h.menuShouldBlockScroll,_=h.menuShouldScrollIntoView,k=h.noOptionsMessage,N=h.onMenuScrollToTop,D=h.onMenuScrollToBottom;if(!y)return null;var E,P=function(t,n){var a=t.type,l=t.data,r=t.isDisabled,i=t.isSelected,s=t.label,c=t.value,h=p===l,f=r?void 0:function(){return e.onOptionHover(l)},m=r?void 0:function(){return e.selectOption(l)},g="".concat(e.getElementId("option"),"-").concat(n),v={id:g,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:i};return o.createElement(u,tW({},d,{innerProps:v,data:l,isDisabled:r,isSelected:i,key:g,label:s,type:a,value:c,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())E=this.getCategorizedOptions().map(function(t){if("group"===t.type){var l=t.data,r=t.options,i=t.index,s="".concat(e.getElementId("group"),"-").concat(i),c="".concat(s,"-heading");return o.createElement(n,tW({},d,{key:s,data:l,options:r,Heading:a,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return P(e,"".concat(i,"-").concat(e.index))}))}if("option"===t.type)return P(t,"".concat(t.index))});else if(g){var T=v({inputValue:m});if(null===T)return null;E=o.createElement(s,d,T)}else{var A=k({inputValue:m});if(null===A)return null;E=o.createElement(c,d,A)}var O={minMenuHeight:b,maxMenuHeight:x,menuPlacement:w,menuPosition:j,menuShouldScrollIntoView:_},I=o.createElement(ic,tW({},d,O),function(t){var n=t.ref,a=t.placerProps,i=a.placement,s=a.maxHeight;return o.createElement(l,tW({},d,O,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:i}),o.createElement(i2,{captureEnabled:f,onTopArrive:N,onBottomArrive:D,lockEnabled:S},function(t){return o.createElement(r,tW({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:s,focusedOption:p}),E)}))});return C||"fixed"===j?o.createElement(i,tW({},d,{appendTo:C,controlElement:this.controlRef,menuPlacement:w,menuPosition:j}),I):I}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,a=t.isDisabled,l=t.isMulti,r=t.name,i=t.required,s=this.state.selectValue;if(i&&!this.hasValue()&&!a)return o.createElement(i5,{name:r,onFocus:this.onValueInputFocus});if(!(!r||a))if(l)if(n){var c=s.map(function(t){return e.getOptionValue(t)}).join(n);return o.createElement("input",{name:r,type:"hidden",value:c})}else{var u=s.length>0?s.map(function(t,n){return o.createElement("input",{key:"i-".concat(n),name:r,type:"hidden",value:e.getOptionValue(t)})}):o.createElement("input",{name:r,type:"hidden",value:""});return o.createElement("div",null,u)}else{var d=s[0]?this.getOptionValue(s[0]):"";return o.createElement("input",{name:r,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,a=t.focusedOption,l=t.focusedValue,r=t.isFocused,i=t.selectValue,s=this.getFocusableOptions();return o.createElement(iA,tW({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:a,focusedValue:l,isFocused:r,selectValue:i,focusableOptions:s,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,a=e.SelectContainer,l=e.ValueContainer,r=this.props,i=r.className,s=r.id,c=r.isDisabled,u=r.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return o.createElement(a,tW({},p,{className:i,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),o.createElement(t,tW({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),o.createElement(l,tW({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),o.createElement(n,tW({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){var n,a=t.prevProps,l=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,r=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,c=t.instancePrefix,u=e.options,d=e.value,p=e.menuIsOpen,h=e.inputValue,f=e.isMulti,m=rZ(d),g={};if(a&&(d!==a.value||u!==a.options||p!==a.menuIsOpen||h!==a.inputValue)){var v,b=p?sl(sa(e,m)):[],x=p?so(sa(e,m),"".concat(c,"-option")):[],y=l?function(e,t){var n=e.focusedValue,a=e.selectValue.indexOf(n);if(a>-1){if(t.indexOf(n)>-1)return n;if(a<t.length)return t[a]}return null}(t,m):null,w=(v=t.focusedOption)&&b.indexOf(v)>-1?v:b[0],j=si(x,w);g={selectValue:m,focusedOption:w,focusedOptionId:j,focusableOptionsWithIds:x,focusedValue:y,clearFocusValueOnUpdate:!1}}var C=null!=o&&e!==a?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},S=r,_=i&&s;return i&&!_&&(S={value:(n=m[0]||null,f?m:n),options:m,action:"initial-input-focus"},_=!s),(null==r?void 0:r.action)==="initial-input-focus"&&(S=null),oM(oM(oM({},g),C),{},{prevProps:e,ariaSelection:S,prevWasFocused:_})}}],n&&oq(r.prototype,n),a&&oq(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(o.Component);sm.defaultProps=st;var sg=(0,o.forwardRef)(function(e,t){var n=oH(e);return o.createElement(sm,tW({ref:t},n))}),sv=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],sb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),l=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return l===a||o===a},sx={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some(function(t){return sb(e,t,a)})||n.some(function(t){return sb(e,t,a)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},sy=(0,o.forwardRef)(function(e,t){var n,a,l,r,i,s,c,u,d,p,h,f,m,g,v,b,x,y,w,j,C,S,_,k,N,D,E,P,T=(l=void 0!==(a=(n=oH(e)).allowCreateWhileLoading)&&a,i=void 0===(r=n.createOptionPosition)?"last":r,c=void 0===(s=n.formatCreateLabel)?sx.formatCreateLabel:s,d=void 0===(u=n.isValidNewOption)?sx.isValidNewOption:u,h=void 0===(p=n.getNewOptionData)?sx.getNewOptionData:p,f=n.onCreateOption,g=void 0===(m=n.options)?[]:m,v=n.onChange,y=void 0===(x=(b=oV(n,sv)).getOptionValue)?i7:x,j=void 0===(w=b.getOptionLabel)?i8:w,C=b.inputValue,S=b.isLoading,_=b.isMulti,k=b.value,N=b.name,D=(0,o.useMemo)(function(){return d(C,rZ(k),g,{getOptionValue:y,getOptionLabel:j})?h(C,c(C)):void 0},[c,h,j,y,C,d,g,k]),E=(0,o.useMemo)(function(){return(l||!S)&&D?"first"===i?[D].concat(oY(g)):[].concat(oY(g),[D]):g},[l,i,S,D,g]),P=(0,o.useCallback)(function(e,t){if("select-option"!==t.action)return v(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]===D){if(f)f(C);else{var a,l=h(C,C);v((a=[].concat(oY(rZ(k)),[l]),_?a:l),{action:"create-option",name:N,option:l})}return}v(e,t)},[h,C,_,N,D,f,v,k]),oM(oM({},b),{},{options:E,onChange:P}));return o.createElement(sm,tW({ref:t},T))}),sw="clear-indicator",sj=e=>{let{clearValue:t,innerProps:{ref:n,...a}}=e;return(0,u.jsx)("div",{className:sw,ref:"string"==typeof n?null:n,...a,onKeyDown:e=>{"Enter"===e.key&&(t(),e.stopPropagation())},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{className:"".concat(sw,"__icon")})})},sC=e=>{let{children:t,innerProps:n,selectProps:{customProps:{disableKeyDown:a,disableMouseDown:l}={}}={}}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(ik.Control,{...e,innerProps:{...n,onKeyDown:e=>{if(a){e.stopPropagation();let t=new CustomEvent("bypassKeyDown",{detail:e});document.dispatchEvent(t)}},onMouseDown:e=>{l||n.onMouseDown(e)}},children:t})})},sS="dropdown-indicator",s_=e=>{let{innerProps:{ref:t,...n}}=e;return(0,u.jsx)("button",{className:sS,ref:t,...n,onKeyDown:e=>{"Enter"===e.key&&(e.key=" ")},type:"button",children:(0,u.jsx)(eX,{className:"".concat(sS,"__icon")})})},sk=e=>(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(ik.Input,{...e,"aria-activedescendant":void 0})}),sN="multi-value";function sD(e,t){return"function"==typeof t?t(e):e.value}var sE=e=>{let t=(0,d.c)(26),{className:n,data:a,innerProps:l,isDisabled:r,selectProps:i}=e,s;t[0]!==i?(s=void 0===i?{}:i,t[0]=i,t[1]=s):s=t[1];let{customProps:c,getOptionValue:p,isSortable:h}=s,f;t[2]!==c?(f=void 0===c?{}:c,t[2]=c,t[3]=f):f=t[3];let{disableMouseDown:m}=f,g;t[4]!==a||t[5]!==p?(g=sD(a,p),t[4]=a,t[5]=p,t[6]=g):g=t[6];let v=!h,b;t[7]!==g||t[8]!==v?(b={id:g,disabled:v},t[7]=g,t[8]=v,t[9]=b):b=t[9];let{attributes:x,isDragging:y,listeners:w,setNodeRef:j,transform:C}=tI(b),S=!r&&h&&"draggable",_=y&&"".concat(sN,"--is-dragging"),k;t[10]!==n||t[11]!==S||t[12]!==_?(k=[sN,n,S,_].filter(Boolean),t[10]=n,t[11]=S,t[12]=_,t[13]=k):k=t[13];let N=k.join(" "),D;if(t[14]!==x||t[15]!==N||t[16]!==m||t[17]!==l||t[18]!==h||t[19]!==w||t[20]!==e||t[21]!==j||t[22]!==C){let n;t[24]!==m?(n=e=>{m||e.stopPropagation()},t[24]=m,t[25]=n):n=t[25],D=(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(ik.MultiValue,{...e,className:N,innerProps:{...h?{...x,...w}:{},...l,onMouseDown:n,ref:j,style:h?{transform:C,...null==x?void 0:x.style}:{}}})}),t[14]=x,t[15]=N,t[16]=m,t[17]=l,t[18]=h,t[19]=w,t[20]=e,t[21]=j,t[22]=C,t[23]=D}else D=t[23];return D},sP="multi-value-label",sT=e=>{let{data:t,selectProps:{customProps:{draggableProps:n,editableProps:a}={}}={}}=e,l="".concat(sP,"__text");return(0,u.jsx)("div",{className:sP,children:(0,u.jsx)(ik.MultiValueLabel,{...e,innerProps:{className:l,...a&&a(t,l,e.selectProps)||{},...n||{}}})})},sA="multi-value-remove",sO=e=>{let t=(0,d.c)(12),{innerProps:n}=e,{className:a,onClick:l,onTouchEnd:r}=n,[i,c]=o.useState(!1),{t:p}=(0,s.d)(),h;if(t[0]!==a||t[1]!==l||t[2]!==r||t[3]!==i||t[4]!==p){let e,n,o,d=p("general:remove"),f;t[6]!==a?(f=[sA,a].filter(Boolean),t[6]=a,t[7]=f):f=t[7],t[8]!==l?(e=e=>{c(!1),l(e)},t[8]=l,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(n=()=>c(!0),o=()=>c(!1),t[10]=n,t[11]=o):(n=t[10],o=t[11]),h=(0,u.jsxs)("button",{"aria-label":d,className:f.join(" "),onClick:e,onKeyDown:sI,onMouseDown:sR,onMouseEnter:n,onMouseLeave:o,onTouchEnd:r,type:"button",children:[(0,u.jsx)(tc,{className:"".concat(sA,"__tooltip"),show:i,children:p("general:remove")}),(0,u.jsx)(s.a,{className:"".concat(sA,"__icon")})]}),t[0]=a,t[1]=l,t[2]=r,t[3]=i,t[4]=p,t[5]=h}else h=t[5];return h};function sI(e){"Enter"===e.key&&e.stopPropagation()}function sR(e){return e.stopPropagation()}var sL=e=>{let{children:t,className:n}=e;return(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(ik.SingleValue,{...e,className:["react-select--single-value",n].filter(Boolean).join(" "),children:t})})},sM=e=>{let{selectProps:{customProps:t}={}}=e;return(0,u.jsx)("div",{className:"value-container",ref:null==t?void 0:t.droppableRef,children:(0,u.jsx)(ik.ValueContainer,{...e})})},sF=e=>({label:e,value:e}),sB=e=>{let{i18n:t,t:n}=(0,s.d)(),[a,l]=o.useState(""),r=(0,o.useId)(),[c,d]=o.useState(!1);(0,o.useEffect)(()=>{d(!0)},[]);let{className:h,components:f,customProps:m,disabled:g=!1,filterOption:v,getOptionValue:b,isClearable:x=!0,isCreatable:y,isLoading:w,isSearchable:j=!0,noOptionsMessage:C=()=>n("general:noOptions"),numberOnly:S=!1,onChange:_,onMenuClose:k,onMenuOpen:N,options:D,placeholder:E=n("general:selectValue"),showError:P,value:T}=e,A=()=>n("general:loading")+"...",O=[h,"react-select",P&&"react-select--error"].filter(Boolean).join(" "),I={menu:e=>({...e,zIndex:void 0})};return c?y?(0,u.jsx)(sy,{captureMenuScroll:!0,isLoading:w,...e,className:O,classNamePrefix:"rs",components:{ClearIndicator:sj,Control:sC,DropdownIndicator:s_,Input:sk,MultiValue:sE,MultiValueLabel:sT,MultiValueRemove:sO,SingleValue:sL,ValueContainer:sM,...f},filterOption:v,inputValue:a,instanceId:r,isClearable:x,isDisabled:g,isSearchable:j,loadingMessage:A,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onInputChange:e=>l(e),onKeyDown:e=>{if(!0===S){let t=!/\D/.test(e.key),n=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key);if(!t&&!n)return void e.preventDefault()}if(!(!T||!a||""===a.trim())&&!(v&&!v(null,a)))switch(e.key){case"Enter":case"Tab":_([...T,sF(a)]),l(""),e.preventDefault()}},onMenuClose:k,onMenuOpen:N,options:D,placeholder:(0,p.sC)(E,t),styles:I,unstyled:!0,value:T}):(0,u.jsx)(sg,{captureMenuScroll:!0,customProps:m,isLoading:w,...e,className:O,classNamePrefix:"rs",components:{ClearIndicator:sj,Control:sC,DropdownIndicator:s_,Input:sk,MultiValue:sE,MultiValueLabel:sT,MultiValueRemove:sO,SingleValue:sL,ValueContainer:sM,...f},filterOption:v,getOptionValue:b,instanceId:r,isClearable:x,isDisabled:g,isSearchable:j,loadingMessage:A,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onMenuClose:k,onMenuOpen:N,options:D,placeholder:(0,p.sC)(E,t),styles:I,unstyled:!0,value:T}):(0,u.jsx)(i.d,{height:"calc(var(--base) * 2 + 2px)"})},sz=e=>{let{getOptionValue:t,onChange:n,value:a}=e,l=[];return a&&(l=(Array.isArray(a)?a:[a]).map(e=>sD(e,t))),(0,u.jsx)(tL,{className:"react-select-container",ids:l,onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:l}=e,o=a;a&&Array.isArray(a)&&(o=tb(a,t,l)),n(o)},children:(0,u.jsx)(sB,{...e})})},sV=e=>{let{isMulti:t,isSortable:n}=e;return t&&n?(0,u.jsx)(sz,{...e}):(0,u.jsx)(sB,{...e})},sU=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),sH=e=>{let{id:t,onChange:n,options:a,required:l,selectedTimezone:r}=e,{t:i}=(0,s.d)(),c=sU(a),d=(0,o.useMemo)(()=>c.find(e=>("string"==typeof e?e:e.value)===(r||"UTC")),[c,r]);return(0,u.jsxs)("div",{className:"timezone-picker-wrapper",children:[(0,u.jsx)(aN,{htmlFor:t,label:"".concat(i("general:timezone")," ").concat(l?"*":""),required:l,unstyled:!0}),(0,u.jsx)(sV,{className:"timezone-picker",inputId:t,isClearable:!0,isCreatable:!1,onChange:e=>{n&&n((null==e?void 0:e.value)||"")},options:c,value:d})]})},sq="date-time-field",sK=lI(e=>{let{field:t,field:{admin:{className:n,date:a,description:l,placeholder:r}={},label:c,localized:d,required:h,timezone:f},path:m,readOnly:g,validate:v}=e,b=(null==a?void 0:a.pickerAppearance)||"default",x=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:y}=(0,i.b)(),{i18n:w}=(0,s.d)(),{dispatchFields:j,setModified:C}=eN(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:D}={},disabled:E,path:P,setValue:T,showError:A,value:O}=lT({potentiallyStalePath:m,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof v)return v(e,{...t,required:h})},[v,h])}),I=P+"_tz",R=eR(e=>{let[t,n]=e;return null==t?void 0:t[I]}),L=y.admin.timezones.supportedTimezones,M=["dayOnly","default","monthOnly"].includes(b),F=null==R?void 0:R.value,B=(0,o.useMemo)(()=>{if(f&&F&&x&&O){let e=aL.tz(F),t=aL.tz(x),n=li(new aL(O).withTimeZone(F),e);return li(n,t).toISOString()}return O},[f,F,O,x]),z=(0,o.useMemo)(()=>lR(t),[t]),V=(0,o.useCallback)(e=>{if(!(g||E))if(f&&F&&e){let t=aL.tz(F);if(M){let n=e.getTimezoneOffset()/60,a=e.getHours()+n;e.setHours(a),T(li(e,t).toISOString()||null)}else T(li(new aL(e),t).toISOString()||null)}else T((null==e?void 0:e.toISOString())||null)},[g,E,f,F,M,T]),U=(0,o.useCallback)(e=>{I&&(j({type:"UPDATE",path:I,value:e}),C(!0))},[j,C,I]);return(0,u.jsxs)("div",{className:[lL,sq,n,A&&"".concat(sq,"--has-error"),(g||E)&&"read-only"].filter(Boolean).join(" "),style:z,children:[(0,u.jsx)(ec,{CustomComponent:D,Fallback:(0,u.jsx)(aN,{label:c,localized:d,required:h})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),id:"field-".concat(P.replace(/\./g,"__")),children:[(0,u.jsx)(ec,{CustomComponent:N,Fallback:(0,u.jsx)(tV,{path:P,showError:A})}),_,(0,u.jsx)(oA,{...a,onChange:V,overrides:{...null==a?void 0:a.overrides},placeholder:(0,p.sC)(r,w),readOnly:g||E,value:B}),f&&L.length>0&&(0,u.jsx)(sH,{id:"".concat(P,"-timezone-picker"),onChange:U,options:L,required:h,selectedTimezone:F}),S]}),(0,u.jsx)(ec,{CustomComponent:k,Fallback:(0,u.jsx)(tz,{description:l,path:P})})]})}),sW=lI(e=>{let{field:t,field:{admin:{autoComplete:n,className:a,description:l,placeholder:r}={},label:i,localized:c,required:d}={},path:h,readOnly:f,validate:m}=e,{i18n:g}=(0,s.d)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:x,Error:y,Label:w}={},disabled:j,path:C,setValue:S,showError:_,value:k}=lT({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),N=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsxs)("div",{className:[lL,"email",a,_&&"error",(f||j)&&"read-only"].filter(Boolean).join(" "),style:N,children:[(0,u.jsx)(ec,{CustomComponent:w,Fallback:(0,u.jsx)(aN,{label:i,localized:c,path:C,required:d})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:y,Fallback:(0,u.jsx)(tV,{path:C,showError:_})}),b,(0,u.jsx)("input",{autoComplete:n,disabled:f||j,id:"field-".concat(C.replace(/\./g,"__")),name:C,onChange:S,placeholder:(0,p.sC)(r,g),required:d,type:"email",value:k||""}),v]}),(0,u.jsx)(ec,{CustomComponent:x,Fallback:(0,u.jsx)(tz,{description:l,path:C})})]})}),sY=(0,o.createContext)(!1),sG=e=>{let{children:t,withinRow:n=!0}=e;return(0,u.jsx)(sY,{value:n,children:t})},sQ=()=>(0,o.use)(sY),sX=(0,o.createContext)(!1),s$=e=>{let{children:t,withinTab:n=!0}=e;return(0,u.jsx)(sX,{value:n,children:t})},sZ=()=>(0,o.use)(sX),sJ=(0,o.createContext)(!1),s0=e=>{let{children:t,withinGroup:n=!0}=e;return(0,u.jsx)(sJ,{value:n,children:t})},s1=()=>(0,o.use)(sJ),s3="group-field",s2=lI(e=>{let{field:t,field:{admin:{className:n,description:a,hideGutter:l}={},fields:r,label:i},indexPath:c,parentPath:d,parentSchemaPath:h,path:f,permissions:m,readOnly:g,schemaPath:v}=e,b=null!=v?v:"group"===t.type&&(0,x.jY)(t)?t.name:f,{i18n:y}=(0,s.d)(),{isWithinCollapsible:w}=l1(),j=s1(),C=sQ(),S=sZ(),{customComponents:{AfterInput:_,BeforeInput:k,Description:N,Label:D}={},errorPaths:E}=lT({path:f}),P=eP(),T=E.length,A=P&&T>0,O=!(w||j||C),I=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsxs)("div",{className:[lL,s3,O&&"".concat(s3,"--top-level"),w&&"".concat(s3,"--within-collapsible"),j&&"".concat(s3,"--within-group"),C&&"".concat(s3,"--within-row"),S&&"".concat(s3,"--within-tab"),!l&&j&&"".concat(s3,"--gutter"),A&&"".concat(s3,"--has-error"),n].filter(Boolean).join(" "),id:"field-".concat(null==f?void 0:f.replace(/\./g,"__")),style:I,children:[(0,u.jsx)(s0,{children:(0,u.jsxs)("div",{className:"".concat(s3,"__wrap"),children:[!!(D||N||i||A)&&(0,u.jsxs)("div",{className:"".concat(s3,"__header"),children:[!!(D||N||i)&&(0,u.jsxs)("header",{children:[(0,u.jsx)(ec,{CustomComponent:D,Fallback:(0,u.jsx)("h3",{className:"".concat(s3,"__title"),children:(0,u.jsx)(aN,{as:"span",label:(0,p.sC)(i,y),localized:!1,path:f,required:!1})})}),(0,u.jsx)(ec,{CustomComponent:N,Fallback:(0,u.jsx)(tz,{description:a,path:f})})]}),A&&(0,u.jsx)(tF,{count:T,i18n:y,withMessage:!0})]}),k,(0,x.jY)(t)?(0,u.jsx)(hL,{fields:r,margins:"small",parentIndexPath:"",parentPath:f,parentSchemaPath:b,permissions:!0===m?m:null==m?void 0:m.fields,readOnly:g}):(0,u.jsx)(hL,{fields:r,margins:"small",parentIndexPath:c,parentPath:d,parentSchemaPath:h,permissions:m,readOnly:g})]})}),_]})}),s6=lI(e=>{let t=(0,d.c)(12),{disableModifyingForm:n,path:a,value:l}=e,r=void 0===n||n,i;t[0]!==a?(i={potentiallyStalePath:a},t[0]=a,t[1]=i):i=t[1];let{path:s,setValue:c,value:p}=lT(i),h,f;t[2]!==r||t[3]!==c||t[4]!==l?(h=()=>{void 0!==l&&c(l,r)},f=[l,c,r],t[2]=r,t[3]=c,t[4]=l,t[5]=h,t[6]=f):(h=t[5],f=t[6]),(0,o.useEffect)(h,f);let m="field-".concat(null==s?void 0:s.replace(/\./g,"__")),g=p||"",v;return t[7]!==s||t[8]!==c||t[9]!==m||t[10]!==g?(v=(0,u.jsx)("input",{id:m,name:s,onChange:c,type:"hidden",value:g}),t[7]=s,t[8]=c,t[9]=m,t[10]=g,t[11]=v):v=t[11],v}),s5=(0,c.e)(ea(),1);function s4(e){let t,n=(0,d.c)(4),a=(0,o.useRef)(e),l,r;return n[0]!==e?(l=()=>{a.current=e},r=[e],n[0]=e,n[1]=l,n[2]=r):(l=n[1],r=n[2]),(0,o.useInsertionEffect)(l,r),n[3]===Symbol.for("react.memo_cache_sentinel")?(t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.current)(...t)},n[3]=t):t=n[3],t}var s8=(0,o.createContext)({}),s7=e=>{let{children:t,...n}=e;return(0,u.jsx)(s8,{value:{isInDrawer:!!n.drawerSlug,...n},children:t})},s9=()=>{let e=(0,o.use)(s8);if(!e)throw Error("useListDrawerContext must be used within a ListDrawerContextProvider");return e};function ce(e){let t=e.toString();return k.q(t,{depth:10,ignoreQueryPrefix:!0})}var ct=(0,o.createContext)({}),cn=()=>(0,o.use)(ct),ca=(0,o.createContext)(!1),cl=e=>{let{children:t,collectionSlug:n,columns:a,data:l,defaultLimit:r,defaultSort:i,listPreferences:s,modifySearchParams:c,onQueryChange:d,orderableFieldName:p}=e,h=(0,f.useRouter)(),m=(0,f.useSearchParams)(),{startRouteTransition:g}=eH(),[b,x]=(0,o.useState)(!1),y=(0,o.useMemo)(()=>ce(m),[m]),w=(0,o.useRef)({});w.current.modified=b;let{onQueryChange:j}=s9(),[C,k]=(0,o.useState)(()=>c?y:{limit:String(r),sort:i}),N=(0,o.useCallback)(function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="page"in n?n.page:null==C?void 0:C.page;return("where"in n||"search"in n)&&(a="1"),{...C,...n,columns:"columns"in n?n.columns:C.columns,limit:"limit"in n?n.limit:null!=(e=null==C?void 0:C.limit)?e:String(r),page:a,preset:"preset"in n?n.preset:null==C?void 0:C.preset,search:"search"in n?n.search:null==C?void 0:C.search,sort:"sort"in n?n.sort:null!=(t=null==C?void 0:C.sort)?t:i,where:"where"in n?n.where:null==C?void 0:C.where}},[C,r,i]),D=(0,o.useCallback)(async(e,t)=>{x(void 0===t||t);let n=N(e);c?g(()=>h.replace("".concat(v.A({...n,columns:JSON.stringify(n.columns)},{addQueryPrefix:!0})))):("function"==typeof j||"function"==typeof d)&&(j||d)(n),k(n)},[N,c,j,d,g,h]),E=(0,o.useCallback)(async e=>{await D({page:String(e)})},[D]),P=o.useCallback(async e=>{await D({limit:String(e),page:"1"})},[D]),T=(0,o.useCallback)(async e=>{await D({search:""===e?void 0:e})},[D]),A=(0,o.useCallback)(async e=>{await D({sort:e})},[D]),O=(0,o.useCallback)(async e=>{await D({where:e})},[D]),I=s4(()=>{let e=!1,t={...C||{}};!(0,_.E)(r)||"limit"in C||(t.limit=String(r),e=!0),!i||"sort"in C||(t.sort=i,e=!0),a&&(null==s?void 0:s.columns)&&!("columns"in C)&&(t.columns=(0,S.F)(a),e=!0),e&&(k(t),window.history.replaceState(null,"","?".concat(v.A({...t,columns:JSON.stringify(t.columns)}))))});return(0,o.useEffect)(()=>{c&&I()},[i,r,c,a]),(0,u.jsx)(ct,{value:{collectionSlug:n,data:l,handlePageChange:E,handlePerPageChange:P,handleSearchChange:T,handleSortChange:A,handleWhereChange:O,orderableFieldName:p,query:C,refineListData:D,setModified:x,...w.current},children:(0,u.jsx)(ca,{value:b,children:t})})},co=(0,o.createContext)(void 0),cr=()=>{let e=o.use(co);if(void 0===e)throw Error("useServerFunctions must be used within a ServerFunctionsProvider");return e},ci=e=>{let{children:t,serverFunction:n}=e;if(!n)throw Error("ServerFunctionsProvider requires a serverFunction prop");let a=(0,o.useCallback)(async e=>await n({name:"render-document-slots",args:e}),[n]),l=(0,o.useCallback)(async e=>{let{signal:t,...a}=e;try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"schedule-publish",args:{...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}let l="Error scheduling ".concat(a.type);return a.doc&&(l+=" for document with ID ".concat(a.doc.value," in collection ").concat(a.doc.relationTo)),{error:""}},[n]),r=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"form-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}return{state:null}},[n]),i=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"table-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}},[n]),s=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{return await n({name:"render-document",args:{fallbackLocale:!1,...a}})}catch(e){console.error(e)}},[n]),c=(0,o.useCallback)(async e=>{let{signal:t,...a}=e||{};try{let e=await n({name:"copy-data-from-locale",args:a});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]);return(0,u.jsx)(co,{value:{copyDataFromLocale:c,getDocumentSlots:a,getFormState:r,getTableState:i,renderDocument:s,schedulePublish:l,serverFunction:n},children:t})},cs=(0,o.createContext)({}),cc=()=>(0,o.use)(cs),cu=e=>{let{children:t,collectionSlug:n,columnState:a,LinkedCellOverride:l}=e,{getEntityConfig:r}=(0,i.b)(),{query:s,refineListData:c}=cn(),{admin:{defaultColumns:d}={}}=r({collectionSlug:n}),[p,h]=o.useOptimistic(a,(e,t)=>t),f=(0,o.useRef)({}),m=(0,o.useCallback)(async e=>{let t=(p||[]).map(t=>t.accessor===e?{...t,active:!t.active}:t);(0,o.startTransition)(()=>{h(t)}),await c({columns:(0,S.F)(t)})},[c,p,h]),g=(0,o.useCallback)(async e=>{let{fromIndex:t,toIndex:n}=e,a=[...p||[]],[l]=a.splice(t,1);a.splice(n,0,l),(0,o.startTransition)(()=>{h(a)}),await c({columns:(0,S.F)(a)})},[p,c,h]),v=(0,o.useCallback)(async e=>{let t=s.columns;e.forEach(e=>{let n=t.findIndex(t=>e===t);void 0!==n&&"-"===t[n][0]&&(t[n]=e.slice(1))}),await c({columns:t})},[s,c]),b=o.useCallback(async()=>{await v(d)},[d,v]);return(0,u.jsx)(cs,{value:{columns:p,LinkedCellOverride:l,moveColumn:g,resetColumnsState:b,setActiveColumns:v,toggleColumn:m,...f.current},children:t})},cd="column-selector",cp=e=>{let{collectionSlug:t}=e,{columns:n,moveColumn:a,toggleColumn:l}=cc(),r=(0,o.useId)(),i=tq(),c=(0,o.useMemo)(()=>n.filter(e=>{var t,n;return!((0,x.I2)(e.field)&&!(0,x.uT)(e.field))&&!(null==e||null==(n=e.field)||null==(t=n.admin)?void 0:t.disableListColumn)}),[n]);return n?(0,u.jsx)(tL,{className:cd,ids:c.map(e=>null==e?void 0:e.accessor),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;a({fromIndex:t,toIndex:n})},children:c.map((e,n)=>{var a;let{accessor:o,active:c,field:d}=e,p="labelWithPrefix"in d&&void 0!==d.labelWithPrefix?d.labelWithPrefix:"label"in d&&void 0!==d.label?d.label:"name"in d&&void 0!==d.name?d.name:void 0;return(0,u.jsx)(l7,{alignIcon:"left","aria-checked":c,className:["".concat(cd,"__column"),c&&"".concat(cd,"__column--active")].filter(Boolean).join(" "),draggable:!0,icon:c?(0,u.jsx)(s.a,{}):(0,u.jsx)(eJ,{}),id:o,onClick:()=>{l(o)},size:"small",children:null!=(a=e.CustomLabel)?a:(0,u.jsx)(aN,{label:p,unstyled:!0})},"".concat(t,"-").concat(o,"-").concat(n).concat(i?"-".concat(i,"-"):"").concat(r))})}):null},ch=e=>{let t=(0,d.c)(3),{getEntityConfig:n}=(0,i.b)(),a;t[0]!==n||t[1]!==e?(a=()=>e?("string"==typeof e?[e]:e).map(e=>n({collectionSlug:e})):[],t[0]=n,t[1]=e,t[2]=a):a=t[2];let[l]=(0,o.useState)(a);return l},cf=e=>{let t,n=(0,d.c)(13),{delayBeforeShow:a,inTimeout:l,minShowTime:r,outTimeout:s,show:c}=e,u=l+r+s,[p,h]=(0,i.c)(a),[f,m]=o.useState(!1),[g,v]=o.useState(!1),b=o.useRef(0),x=o.useRef(void 0),y;n[0]!==s?(y=()=>{v(!0),x.current=setTimeout(()=>{m(!1),v(!1)},s)},n[0]=s,n[1]=y):y=n[1];let w=y,j,C;return n[2]!==p||n[3]!==f||n[4]!==c||n[5]!==u||n[6]!==w?(j=()=>{let e=p&&!f&&c,t=f&&!c;if(e)b.current=Date.now(),m(!0);else if(t){let e=u-(Date.now()-b.current);clearTimeout(x.current),x.current=setTimeout(w,Math.max(0,e))}},C=[f,c,w,u,p],n[2]=p,n[3]=f,n[4]=c,n[5]=u,n[6]=w,n[7]=j,n[8]=C):(j=n[7],C=n[8]),o.useEffect(j,C),n[9]!==f||n[10]!==g||n[11]!==h?(t={isMounted:f,isUnmounting:g,triggerDelayedRender:h},n[9]=f,n[10]=g,n[11]=h,n[12]=t):t=n[12],t},cm={isLoading:!1,loaders:[],loadingText:"",overlayType:null},cg=(e,t)=>{let n=[...e.loaders],{type:a="fullscreen",key:l="user",loadingText:o}=t.payload;if("add"===t.type)n.push({type:a,key:l,loadingText:o});else if("remove"===t.type){let e=n.findIndex(e=>e.key===l&&e.type===a);n.splice(e,1)}let r=(null==n?void 0:n.length)>0?n[n.length-1]:null;return{isLoading:!!r,loaders:n,loadingText:(null==r?void 0:r.loadingText)||(null==e?void 0:e.loadingText),overlayType:(null==r?void 0:r.type)||(null==e?void 0:e.overlayType)}},cv=(0,o.createContext)({isOnScreen:!1,toggleLoadingOverlay:void 0}),cb=e=>{let t=(0,d.c)(21),{children:n}=e,{t:a}=(0,s.d)(),l;t[0]!==a?(l=a("general:loading"),t[0]=a,t[1]=l):l=t[1];let r=l,[i,c]=o.useReducer(cg,cm),p;t[2]!==i.isLoading?(p={delayBeforeShow:1e3,inTimeout:250,minShowTime:500,outTimeout:250,show:i.isLoading},t[2]=i.isLoading,t[3]=p):p=t[3];let{isMounted:h,isUnmounting:f,triggerDelayedRender:m}=cf(p),g;t[4]!==r||t[5]!==m?(g=e=>{let{type:t,isLoading:n,key:a,loadingText:l}=e,o=void 0===l?r:l;n?(m(),c({type:"add",payload:{type:t,key:a,loadingText:o}})):c({type:"remove",payload:{type:t,key:a}})},t[4]=r,t[5]=m,t[6]=g):g=t[6];let v=g,b;if(t[7]!==n||t[8]!==r||t[9]!==h||t[10]!==f||t[11]!==i.loadingText||t[12]!==i.overlayType||t[13]!==v){let e;t[15]!==r||t[16]!==h||t[17]!==f||t[18]!==i.loadingText||t[19]!==i.overlayType?(e=h&&(0,u.jsx)(cw,{animationDuration:"".concat(250,"ms"),loadingText:i.loadingText||r,overlayType:i.overlayType,show:!f}),t[15]=r,t[16]=h,t[17]=f,t[18]=i.loadingText,t[19]=i.overlayType,t[20]=e):e=t[20],b=(0,u.jsxs)(cv,{value:{isOnScreen:h,toggleLoadingOverlay:v},children:[e,n]}),t[7]=n,t[8]=r,t[9]=h,t[10]=f,t[11]=i.loadingText,t[12]=i.overlayType,t[13]=v,t[14]=b}else b=t[14];return b},cx=()=>{let e=o.use(cv);if(void 0===e)throw Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return e},cy="loading-overlay",cw=e=>{let t=(0,d.c)(11),{animationDuration:n,loadingText:a,overlayType:l,show:o}=e,{t:r}=(0,s.d)(),i=void 0===o||o?"".concat(cy,"--entering"):"".concat(cy,"--exiting"),c=l?"".concat(cy,"--").concat(l):"",p;t[0]!==i||t[1]!==c?(p=[cy,i,c].filter(Boolean),t[0]=i,t[1]=c,t[2]=p):p=t[2];let h=p.join(" "),f=n||"500ms",m;if(t[3]!==a||t[4]!==r||t[5]!==h||t[6]!==f){let e;t[8]!==a||t[9]!==r?(e=a||r("general:loading"),t[8]=a,t[9]=r,t[10]=e):e=t[10],m=(0,u.jsxs)("div",{className:h,style:{animationDuration:f},children:[(0,u.jsxs)("div",{className:"".concat(cy,"__bars"),children:[(0,u.jsx)("div",{className:"".concat(cy,"__bar")}),(0,u.jsx)("div",{className:"".concat(cy,"__bar")}),(0,u.jsx)("div",{className:"".concat(cy,"__bar")}),(0,u.jsx)("div",{className:"".concat(cy,"__bar")}),(0,u.jsx)("div",{className:"".concat(cy,"__bar")})]}),(0,u.jsx)("span",{className:"".concat(cy,"__text"),children:e})]}),t[3]=a,t[4]=r,t[5]=h,t[6]=f,t[7]=m}else m=t[7];return m},cj=e=>{let t=(0,d.c)(7),{name:n,type:a,loadingText:l,show:r}=e,i=void 0===a?"fullscreen":a,{toggleLoadingOverlay:s}=cx(),c,u;return t[0]!==n||t[1]!==l||t[2]!==r||t[3]!==s||t[4]!==i?(c=()=>(s({type:i,isLoading:r,key:n,loadingText:l||void 0}),()=>{s({type:i,isLoading:!1,key:n})}),u=[r,s,n,i,l],t[0]=n,t[1]=l,t[2]=r,t[3]=s,t[4]=i,t[5]=c,t[6]=u):(c=t[5],u=t[6]),o.useEffect(c,u),null},cC=e=>{let t=(0,d.c)(6),{name:n,type:a,action:l,formIsLoading:o,loadingSuffix:r}=e,i=void 0===a?"fullscreen":a,c=void 0!==o&&o,h=eT(),{i18n:f,t:m}=(0,s.d)(),g="".concat({create:m("general:creating"),loading:m("general:loading"),update:m("general:updating")}[l]," ").concat(r?(0,p.sC)(r,f):""),v;return t[0]!==c||t[1]!==h||t[2]!==n||t[3]!==g||t[4]!==i?(v=(0,u.jsx)(cj,{loadingText:g.trim(),name:n,show:c||h,type:i}),t[0]=c,t[1]=h,t[2]=n,t[3]=g,t[4]=i,t[5]=v):v=t[5],v};function cS(e){if(e)try{e.abort()}catch(e){}}function c_(e){let t=new AbortController;if(e.current)try{e.current.abort()}catch(e){}return e.current=t,t}var ck=(0,o.createContext)({}),cN=e=>{let{children:t,...n}=e;return(0,u.jsx)(ck,{value:n,children:t})},cD=()=>{let e=(0,o.use)(ck);if(!e)throw Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return e},cE=e=>{let{id:t,collectionSlug:n,disableActions:a,drawerSlug:l,initialData:r,onDelete:c,onDuplicate:d,onSave:p,overrideEntityVisibility:h=!0,redirectAfterCreate:f,redirectAfterDelete:m,redirectAfterDuplicate:g}=e,{getEntityConfig:v}=(0,i.b)(),b=aS(),[x]=(0,o.useState)(()=>v({collectionSlug:n})),y=o.useRef(null),{closeModal:w}=ne(),{t:j}=(0,s.d)(),{renderDocument:C}=cr(),[S,_]=(0,o.useState)(void 0),[k,N]=(0,o.useState)(!0),D=(0,o.useRef)(!1),E=(0,o.useCallback)(e=>{let t=c_(y);(async()=>{N(!0);try{let o=await C({collectionSlug:n,disableActions:a,docID:e,drawerSlug:l,initialData:r,locale:b,overrideEntityVisibility:h,redirectAfterCreate:f,redirectAfterDelete:void 0!==m&&m,redirectAfterDuplicate:void 0!==g&&g,signal:t.signal});(null==o?void 0:o.Document)&&(_(o.Document),N(!1))}catch(e){n0.error((null==e?void 0:e.message)||j("error:unspecific")),w(l)}y.current=null})()},[n,a,l,r,m,g,C,f,w,h,j,b]),P=(0,o.useCallback)(e=>{E(e.doc.id),"function"==typeof p&&p({...e,collectionConfig:x})},[p,x,E]),T=(0,o.useCallback)(e=>{E(e.doc.id),"function"==typeof d&&d({...e,collectionConfig:x})},[d,x,E]),A=(0,o.useCallback)(e=>{"function"==typeof c&&c({...e,collectionConfig:x}),w(l)},[c,w,l,x]),O=(0,o.useCallback)(()=>{E()},[E]);return(0,o.useEffect)(()=>{S||D.current||(E(t),D.current=!0)},[S,E,t]),(0,o.useEffect)(()=>{let e=y.current;return()=>{cS(e)}},[]),k?(0,u.jsx)(cw,{}):(0,u.jsx)(cN,{clearDoc:O,drawerSlug:l,onDelete:A,onDuplicate:T,onSave:P,children:S})},cP="doc-drawer",cT=e=>{let{id:t,collectionSlug:n,depth:a,uuid:l}=e;return"doc-drawer_".concat(n,"_").concat(a).concat(t?"_".concat(t):"","_").concat(l)},cA=e=>{let t=(0,d.c)(21),n,a,l,o,r,i,c,p;t[0]!==e?({id:i,children:n,className:a,collectionSlug:l,disabled:o,drawerSlug:r,onClick:c,...p}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o,t[5]=r,t[6]=i,t[7]=c,t[8]=p):(n=t[1],a=t[2],l=t[3],o=t[4],r=t[5],i=t[6],c=t[7],p=t[8]);let{t:h}=(0,s.d)(),[f]=ch(l),m=i?"general:editLabel":"fields:addNewLabel",g=null==f?void 0:f.labels.singular,v;if(t[9]!==n||t[10]!==a||t[11]!==o||t[12]!==r||t[13]!==c||t[14]!==p||t[15]!==h||t[16]!==m||t[17]!==g){let e=h(m,{label:g}),l;t[19]!==a?(l=[a,"".concat(cP,"__toggler")].filter(Boolean),t[19]=a,t[20]=l):l=t[20],v=(0,u.jsx)(at,{"aria-label":e,className:l.join(" "),disabled:o,onClick:c,slug:r,...p,children:n}),t[9]=n,t[10]=a,t[11]=o,t[12]=r,t[13]=c,t[14]=p,t[15]=h,t[16]=m,t[17]=g,t[18]=v}else v=t[18];return v},cO=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(an,{className:cP,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(cE,{...e})})},cI=e=>{let t,n,a,l,r,i,s=(0,d.c)(38),{id:c,collectionSlug:p,overrideEntityVisibility:h}=e,f=tq(),m=(0,o.useId)(),{closeModal:g,modalState:v,openModal:b,toggleModal:x}=ne(),[y,w]=(0,o.useState)(!1),j;s[0]!==p||s[1]!==f||s[2]!==c||s[3]!==m?(j=cT({id:c,collectionSlug:p,depth:f,uuid:m}),s[0]=p,s[1]=f,s[2]=c,s[3]=m,s[4]=j):j=s[4];let C=j,S,_;s[5]!==C||s[6]!==v?(S=()=>{var e;w(!!(null==(e=v[C])?void 0:e.isOpen))},_=[v,C],s[5]=C,s[6]=v,s[7]=S,s[8]=_):(S=s[7],_=s[8]),(0,o.useEffect)(S,_),s[9]!==C||s[10]!==x?(i=()=>{x(C)},s[9]=C,s[10]=x,s[11]=i):i=s[11];let k=i,N;s[12]!==g||s[13]!==C?(N=()=>{g(C)},s[12]=g,s[13]=C,s[14]=N):N=s[14];let D=N,E;s[15]!==C||s[16]!==b?(E=()=>{b(C)},s[15]=C,s[16]=b,s[17]=E):E=s[17];let P=E,T,A;return s[18]!==p||s[19]!==C||s[20]!==c||s[21]!==h?(A=e=>(0,o.createElement)(cO,{...e,collectionSlug:p,drawerSlug:C,id:c,key:C,overrideEntityVisibility:h}),s[18]=p,s[19]=C,s[20]=c,s[21]=h,s[22]=A):A=s[22],T=A,s[23]!==p||s[24]!==C||s[25]!==c?(n=e=>(0,u.jsx)(cA,{...e,collectionSlug:p,drawerSlug:C,id:c}),s[23]=p,s[24]=C,s[25]=c,s[26]=n):n=s[26],t=n,s[27]!==D||s[28]!==C||s[29]!==f||s[30]!==y||s[31]!==P||s[32]!==k?(l={closeDrawer:D,drawerDepth:f,drawerSlug:C,isDrawerOpen:y,openDrawer:P,toggleDrawer:k},s[27]=D,s[28]=C,s[29]=f,s[30]=y,s[31]=P,s[32]=k,s[33]=l):l=s[33],a=l,s[34]!==T||s[35]!==a||s[36]!==t?(r=[T,t,a],s[34]=T,s[35]=a,s[36]=t,s[37]=r):r=s[37],r};function cR(e,t){switch(t.type){case"ADD_LOADED":{let n={...e};"object"!=typeof n[t.relationTo]&&(n[t.relationTo]={});let a=[...t.idsToLoad];return Array.isArray(t.docs)&&t.docs.forEach(e=>{a.splice(a.indexOf(e.id),1),n[t.relationTo][e.id]=e}),a.forEach(e=>{n[t.relationTo][e]=!1}),n}case"REQUEST":{let n={...e};return t.docs.forEach(e=>{let{relationTo:t,value:a}=e;"object"!=typeof n[t]&&(n[t]={}),n[t][a]=null}),n}default:return e}}var cL=(0,o.createContext)({}),cM=e=>{let t,n=(0,d.c)(15),{children:a}=e,l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={},n[0]=l):l=n[0];let[r,c]=(0,o.useReducer)(cR,l),p=au(r,100),{config:h}=(0,i.b)(),{routes:f,serverURL:m}=h,{api:g}=f,{i18n:v}=(0,s.d)(),{code:b}=aS(),x=(0,o.useRef)(b),y;n[1]!==g||n[2]!==p||n[3]!==v||n[4]!==b||n[5]!==m?(y=e=>{let t=void 0!==e&&e;Object.entries(p).forEach(async e=>{let[n,a]=e,l=[];if(Object.entries(a).forEach(e=>{let[n,a]=e;(null===a||t)&&l.push(n)}),l.length>0){let e="".concat(m).concat(g,"/").concat(n),t=new URLSearchParams;if(t.append("depth","0"),t.append("limit","250"),b&&t.append("locale",b),l&&l.length>0){let e=l.map(cB);t.append("where[id][in]",e.join(","))}let a="?".concat(t.toString()),o=await fetch("".concat(e).concat(a),{credentials:"include",headers:{"Accept-Language":v.language}});if(o.ok){let e=await o.json();e.docs&&c({type:"ADD_LOADED",docs:e.docs,idsToLoad:l,relationTo:n})}else c({type:"ADD_LOADED",docs:[],idsToLoad:l,relationTo:n})}})},n[1]=g,n[2]=p,n[3]=v,n[4]=b,n[5]=m,n[6]=y):y=n[6];let w=y,j,C;n[7]!==w||n[8]!==b?(j=()=>{w(b&&x.current!==b),x.current=b},C=[b,w],n[7]=w,n[8]=b,n[9]=j,n[10]=C):(j=n[9],C=n[10]),(0,o.useEffect)(j,C),n[11]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{c({type:"REQUEST",docs:e})},n[11]=t):t=n[11];let S=t,_;return n[12]!==a||n[13]!==r?(_=(0,u.jsx)(cL,{value:{documents:r,getRelationships:S},children:a}),n[12]=a,n[13]=r,n[14]=_):_=n[14],_},cF=()=>(0,o.use)(cL);function cB(e){return String(e)}var cz=(e,t,n)=>{if(((null==t?void 0:t.type)==="select"||(null==t?void 0:t.type)==="radio")&&Array.isArray(t.options)){let a=t.options.find(t=>"object"==typeof t?t.value===e:t===e);if(a)return"object"==typeof a&&"label"in a?o.isValidElement(a.label)?a.label:(0,p.sC)(a.label,n)||a.value:a}return e},cV=e=>{let{cellData:t,nowrap:n}=e,a=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),"…"):t;return(0,u.jsx)("code",{className:"code-cell",style:n?{whiteSpace:"nowrap"}:{},children:(0,u.jsx)("span",{children:a})})};function cU(e){let{blockType:t}=e;return t}var cH=e=>{let t,n=(0,d.c)(8),{cellData:a,field:l}=e,{admin:o}=l,r;n[0]!==o?(r=void 0===o?{}:o,n[0]=o,n[1]=r):r=n[1];let{date:c}=r,{config:p}=(0,i.b)(),{admin:h}=p,{dateFormat:f}=h,m=(null==c?void 0:c.displayFormat)||f,{i18n:g}=(0,s.d)(),v;return n[2]!==a||n[3]!==m||n[4]!==g?(v=a&&ls({date:a,i18n:g,pattern:m}),n[2]=a,n[3]=m,n[4]=g,n[5]=v):v=n[5],n[6]!==v?(t=(0,u.jsx)("span",{children:v}),n[6]=v,n[7]=t):t=n[7],t},cq=()=>(0,u.jsxs)("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),(0,u.jsx)("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),(0,u.jsx)("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]}),cK="thumbnail",cW=e=>{let t,n=(0,d.c)(17),{className:a,doc:l,fileSrc:r,imageCacheTag:s,size:c}=e,p=void 0===a?"":a,h;n[0]!==l?(h=void 0===l?{}:l,n[0]=l,n[1]=h):h=n[1];let{filename:f}=h,[m,g]=o.useState(void 0),v="".concat(cK,"--size-").concat(c||"medium"),b;n[2]!==p||n[3]!==v?(b=[cK,v,p],n[2]=p,n[3]=v,n[4]=b):b=n[4];let x=b.join(" "),y,w;n[5]!==r?(y=()=>{if(!r)return void g(!1);g(void 0);let e=new Image;e.src=r,e.onload=()=>{g(!0)},e.onerror=()=>{g(!1)}},w=[r],n[5]=r,n[6]=y,n[7]=w):(y=n[6],w=n[7]),o.useEffect(y,w);let j=null;if(r){let e=(null==r?void 0:r.includes("?"))?"&":"?";j=s?"".concat(r).concat(e).concat(encodeURIComponent(s)):r}if(n[8]!==x||n[9]!==m||n[10]!==f||n[11]!==j){let e;n[13]!==m||n[14]!==f||n[15]!==j?(e=m&&(0,u.jsx)("img",{alt:f,src:j}),n[13]=m,n[14]=f,n[15]=j,n[16]=e):e=n[16],t=(0,u.jsxs)("div",{className:x,children:[void 0===m&&(0,u.jsx)(i.d,{height:"100%"}),e,!1===m&&(0,u.jsx)(cq,{})]}),n[8]=x,n[9]=m,n[10]=f,n[11]=j,n[12]=t}else t=n[12];return t};function cY(e){let t,n=(0,d.c)(17),{alt:a,className:l,filename:r,fileSrc:s,imageCacheTag:c,size:p}=e,h=void 0===l?"":l,[f,m]=o.useState(void 0),g="".concat(cK,"--size-").concat(p||"medium"),v;n[0]!==h||n[1]!==g?(v=[cK,g,h],n[0]=h,n[1]=g,n[2]=v):v=n[2];let b=v.join(" "),x,y;n[3]!==s?(x=()=>{if(!s)return void m(!1);m(void 0);let e=new Image;e.src=s,e.onload=()=>{m(!0)},e.onerror=()=>{m(!1)}},y=[s],n[3]=s,n[4]=x,n[5]=y):(x=n[4],y=n[5]),o.useEffect(x,y);let w="";if(s){let e=(null==s?void 0:s.includes("?"))?"&":"?";w=c?"".concat(s).concat(e).concat(encodeURIComponent(c)):s}if(n[6]!==a||n[7]!==b||n[8]!==f||n[9]!==r||n[10]!==w){let e;n[12]!==a||n[13]!==f||n[14]!==r||n[15]!==w?(e=f&&(0,u.jsx)("img",{alt:a||r,src:w}),n[12]=a,n[13]=f,n[14]=r,n[15]=w,n[16]=e):e=n[16],t=(0,u.jsxs)("div",{className:b,children:[void 0===f&&(0,u.jsx)(i.d,{height:"100%"}),e,!1===f&&(0,u.jsx)(cq,{})]}),n[6]=a,n[7]=b,n[8]=f,n[9]=r,n[10]=w,n[11]=t}else t=n[11];return t}var cG="file",cQ=e=>{var t,n,a;let{cellData:l,collectionConfig:o,field:r,rowData:i}=e;if(null!=(a=null!=(n="displayPreview"in r?r.displayPreview:void 0)?n:null==(t=o.upload)?void 0:t.displayPreview)&&!a)return(0,u.jsx)(u.Fragment,{children:String(l)});{let e=(0,N.w)(null==i?void 0:i.mimeType),t=e?(null==i?void 0:i.thumbnailURL)||(null==i?void 0:i.url):null==i?void 0:i.thumbnailURL;return e&&(t=(0,D.k)({sizes:null==i?void 0:i.sizes,thumbnailURL:null==i?void 0:i.thumbnailURL,url:null==i?void 0:i.url,width:null==i?void 0:i.width})),(0,u.jsxs)("div",{className:cG,children:[(0,u.jsx)(cW,{className:"".concat(cG,"__thumbnail"),collectionSlug:null==o?void 0:o.slug,doc:{...i,filename:l},fileSrc:t,size:"small",uploadConfig:null==o?void 0:o.upload}),(0,u.jsx)("span",{className:"".concat(cG,"__filename"),children:String(l)})]})}},cX=!!("u">typeof window&&window.document&&window.document.createElement),c$=e=>{var t;let n,a,l,r,c=(0,d.c)(40),{cellData:h,customCellProps:f,field:m,field:g}=e,{label:v}=g,b="relationTo"in m&&m.relationTo||"collection"in m&&m.collection,x;x="collection"in m?null==h?void 0:h.docs:h;let{config:y,getEntityConfig:w}=(0,i.b)(),{collections:j,routes:C}=y,[S,_]=tl(),k;c[0]===Symbol.for("react.memo_cache_sentinel")?(k=[],c[0]=k):k=c[0];let[N,D]=(0,o.useState)(k),{documents:E,getRelationships:P}=cF(),[T,A]=(0,o.useState)(!1),{i18n:O,t:I}=(0,s.d)(),R=!!cX&&(null==_||null==(t=_.boundingClientRect)?void 0:t.top)<window.innerHeight,L;if(c[1]!==x||c[2]!==P||c[3]!==T||c[4]!==R||c[5]!==b?(L=()=>{if((x||"number"==typeof x)&&R&&!T){let e=[],t=Array.isArray(x)?x:[x];t.slice(0,t.length<3?t.length:3).forEach(t=>{"object"==typeof t&&"relationTo"in t&&"value"in t&&e.push(t),("number"==typeof t||"string"==typeof t)&&"string"==typeof b&&e.push({relationTo:b,value:t})}),P(e),A(!0),D(e)}},c[1]=x,c[2]=P,c[3]=T,c[4]=R,c[5]=b,c[6]=L):L=c[6],c[7]!==x||c[8]!==j||c[9]!==P||c[10]!==T||c[11]!==R||c[12]!==b||c[13]!==C.api?(n=[x,b,j,R,C.api,T,P],c[7]=x,c[8]=j,c[9]=P,c[10]=T,c[11]=R,c[12]=b,c[13]=C.api,c[14]=n):n=c[14],(0,o.useEffect)(L,n),c[15]!==T?(a=()=>{T&&A(!1)},c[15]=T,c[16]=a):a=c[16],c[17]!==x?(l=[x],c[17]=x,c[18]=l):l=c[18],(0,o.useEffect)(a,l),c[19]!==x||c[20]!==y.admin||c[21]!==f||c[22]!==E||c[23]!==m||c[24]!==w||c[25]!==O||c[26]!==S||c[27]!==v||c[28]!==I||c[29]!==N){let e;c[31]!==y.admin||c[32]!==f||c[33]!==E||c[34]!==m||c[35]!==w||c[36]!==O||c[37]!==I||c[38]!==N.length?(e=(e,t)=>{var n,a,l;let{relationTo:r,value:i}=e,s=E[r][i],c=w({collectionSlug:r}),d=lp({collectionConfig:c,data:s||null,dateFormat:y.admin.dateFormat,fallback:"".concat(I("general:untitled")," - ID: ").concat(i),i18n:O}),p=null;return"upload"===m.type&&(null==(l=null!=(a="displayPreview"in m?m.displayPreview:void 0)?a:null==(n=c.upload)?void 0:n.displayPreview)||l)&&s&&(p=(0,u.jsx)(cQ,{cellData:d,collectionConfig:c,collectionSlug:c.slug,customCellProps:f,field:m,rowData:s})),(0,u.jsxs)(o.Fragment,{children:[!1===s&&"".concat(I("general:untitled")," - ID: ").concat(i),null===s&&"".concat(I("general:loading"),"..."),s?p||d:null,N.length>t+1&&", "]},t)},c[31]=y.admin,c[32]=f,c[33]=E,c[34]=m,c[35]=w,c[36]=O,c[37]=I,c[38]=N.length,c[39]=e):e=c[39],r=(0,u.jsxs)("div",{className:"relationship-cell",ref:S,children:[N.map(e),Array.isArray(x)&&x.length>3&&I("fields:itemsAndMore",{count:x.length-3,items:""}),0===N.length&&I("general:noLabel",{label:(0,p.sC)(v||"",O)})]}),c[19]=x,c[20]=y.admin,c[21]=f,c[22]=E,c[23]=m,c[24]=w,c[25]=O,c[26]=S,c[27]=v,c[28]=I,c[29]=N,c[30]=r}else r=c[30];return r},cZ=e=>{let t,n=(0,d.c)(10),{cellData:a,field:l}=e,{options:o}=l,{i18n:r}=(0,s.d)(),i;n[0]!==r||n[1]!==o?(i=e=>e.map(e=>{var t,n;let a=null==(n=o.filter(t=>t.value===e))||null==(t=n[0])?void 0:t.label;return(0,p.sC)(a,r)}).join(", "),n[0]=r,n[1]=o,n[2]=i):i=n[2];let c=i,h;if((0,x.Vh)(o)){let e;n[3]!==a||n[4]!==c?(e=c(Array.isArray(a)?a:[a]),n[3]=a,n[4]=c,n[5]=e):e=n[5],h=e}else{let e;n[6]!==a?(e=Array.isArray(a)?a.join(", "):a,n[6]=a,n[7]=e):e=n[7],h=e}return n[8]!==h?(t=(0,u.jsx)("span",{children:h}),n[8]=h,n[9]=t):t=n[9],t},cJ={array:e=>{let t=(0,d.c)(2),{cellData:n,field:a}=e,{labels:l}=a,{i18n:o}=(0,s.d)(),r=null!=n?n:[],i=1===r.length?"".concat(r.length," ").concat((0,p.sC)((null==l?void 0:l.singular)||o.t("general:rows"),o)):"".concat(r.length," ").concat((0,p.sC)((null==l?void 0:l.plural)||o.t("general:rows"),o)),c;return t[0]!==i?(c=(0,u.jsx)("span",{children:i}),t[0]=i,t[1]=c):c=t[1],c},blocks:e=>{var t;let n,a=(0,d.c)(2),{cellData:l,field:o}=e,{blockReferences:r,blocks:c,labels:h}=o,{i18n:f}=(0,s.d)(),{config:m}=(0,i.b)(),g=Array.isArray(l)?l.map(cU):[],v=null==(t=null!=r?r:c)?void 0:t.map(e=>{let t="string"==typeof e?m.blocksMap[e]:e;return{slug:t.slug,label:(0,p.sC)(t.labels.singular,f)}}),b="0 ".concat((0,p.sC)(null==h?void 0:h.plural,f)),x=e=>e.map(e=>{var t,n;return null==(n=v.filter(t=>t.slug===e))||null==(t=n[0])?void 0:t.label}).join(", ");if(g.length>5){let e=g.length-5;b="".concat(g.length," ").concat((0,p.sC)(null==h?void 0:h.plural,f)," - ").concat(f.t("fields:itemsAndMore",{count:e,items:x(g.slice(0,5))}))}else g.length>0&&(b="".concat(g.length," ").concat((0,p.sC)(1===g.length?null==h?void 0:h.singular:null==h?void 0:h.plural,f)," - ").concat(x(g)));return a[0]!==b?(n=(0,u.jsx)("span",{children:b}),a[0]=b,a[1]=n):n=a[1],n},checkbox:e=>{let t=(0,d.c)(3),{cellData:n}=e,{t:a}=(0,s.d)(),l="general:".concat(n),o;return t[0]!==a||t[1]!==l?(o=(0,u.jsx)("code",{className:"bool-cell",children:(0,u.jsx)("span",{children:a(l).toLowerCase()})}),t[0]=a,t[1]=l,t[2]=o):o=t[2],o},code:cV,date:cH,File:cQ,join:c$,json:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),"…"):t;return(0,u.jsx)("code",{className:"json-cell",children:(0,u.jsx)("span",{children:JSON.stringify(n)})})},radio:cZ,relationship:c$,select:cZ,textarea:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),"…"):t;return(0,u.jsx)("span",{children:n})},upload:c$},c0=e=>{let t=(0,d.c)(14),{cellData:n,className:a,collectionSlug:l,field:r,field:c,link:h,onClick:f,rowData:m}=e,{admin:v}=c,{i18n:b}=(0,s.d)(),{config:y,getEntityConfig:w}=(0,i.b)(),{routes:j}=y,{admin:C}=j,S,_;if(t[0]!==v||t[1]!==C||t[2]!==n||t[3]!==a||t[4]!==l||t[5]!==r||t[6]!==w||t[7]!==b||t[8]!==h||t[9]!==f||t[10]!==e||t[11]!==m){_=Symbol.for("react.early_return_sentinel");e:{let t=w({collectionSlug:l}),i=v&&"className"in v?v.className:void 0,s=a||(r.admin&&"className"in r.admin?r.admin.className:null)||i,c="span",d={className:s};if(h&&(d.prefetch=!1,c=eY,d.href=(null==t?void 0:t.slug)?(0,g.Q)({adminRoute:C,path:"/collections/".concat(null==t?void 0:t.slug,"/").concat(encodeURIComponent(m.id))}):""),"function"==typeof f&&(c="button",d.type="button",d.onClick=()=>{f({cellData:n,collectionSlug:null==t?void 0:t.slug,rowData:m})}),(0,x.uT)(r)){_=(0,u.jsx)(c,{...d,children:(0,u.jsx)(cV,{cellData:"ID: ".concat(n),collectionConfig:t,collectionSlug:l,field:{...r,type:"code"},nowrap:!0,rowData:m})});break e}let y=cz(n,r,b),j="u">typeof n&&cJ[r.type],k=null;if(o.isValidElement(y))k=y;else if(j)k=(0,u.jsx)(j,{cellData:n,rowData:m,...e});else if(!j)if((null==t?void 0:t.upload)&&(0,x.Z7)(r)&&"filename"===r.name&&"text"===r.type){let a=cJ.File;k=(0,u.jsx)(a,{cellData:n,rowData:m,...e,collectionConfig:t,field:r})}else{_=(0,u.jsxs)(c,{...d,children:[(""===y||typeof y>"u"||null===y)&&b.t("general:noLabel",{label:(0,p.sC)(("label"in r?r.label:null)||"data",b)}),"string"==typeof y&&y,"number"==typeof y&&y,"object"==typeof y&&null!==y&&JSON.stringify(y)]});break e}if(("select"===r.type||"radio"===r.type)&&r.options.length&&n){let e=Array.isArray(n)?n.map(c1).join(" "):"selected--".concat(n),t=[d.className,e].filter(Boolean).join(" ");_=(0,u.jsx)(c,{...d,className:t,children:k});break e}S=(0,u.jsx)(c,{...d,children:k})}t[0]=v,t[1]=C,t[2]=n,t[3]=a,t[4]=l,t[5]=r,t[6]=w,t[7]=b,t[8]=h,t[9]=f,t[10]=e,t[11]=m,t[12]=S,t[13]=_}else S=t[12],_=t[13];return _!==Symbol.for("react.early_return_sentinel")?_:S};function c1(e){return"selected--".concat(e)}var c3=o.createContext(null),c2=()=>o.use(c3),c6=e=>{let t=(0,d.c)(9),{clientProps:n,columnIndex:a,isLinkedColumn:l}=e,{drawerSlug:o,onSelect:r}=s9(),{LinkedCellOverride:i}=cc(),s;if(t[0]!==i||t[1]!==n||t[2]!==a||t[3]!==o||t[4]!==l||t[5]!==r){let e={...n,columnIndex:a};if(l&&o){let n;e.className="".concat("default-cell","__first-cell"),e.link=!1,t[7]!==r?(n=e=>{let{collectionSlug:t,rowData:n}=e;"function"==typeof r&&r({collectionSlug:t,doc:n,docID:n.id})},t[7]=r,t[8]=n):n=t[8],e.onClick=n}s=(0,u.jsx)(c3,{value:e,children:l&&i?i:(0,u.jsx)(c0,{...e})}),t[0]=i,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=r,t[6]=s}else s=t[6];return s},c5=e=>{let t=(0,d.c)(15),{onDrawerDelete:n,onDrawerSave:a}=e,l=c2(),o=null==l?void 0:l.rowData.id,r=null==l?void 0:l.collectionSlug,i;t[0]!==o||t[1]!==r?(i={id:o,collectionSlug:r},t[0]=o,t[1]=r,t[2]=i):i=t[2];let[s,c,p]=cI(i),{closeDrawer:h}=p,f;t[3]!==h||t[4]!==a?(f=e=>{h(),"function"==typeof a&&a(e)},t[3]=h,t[4]=a,t[5]=f):f=t[5];let m=f,g;t[6]!==h||t[7]!==n?(g=e=>{h(),"function"==typeof n&&n(e)},t[6]=h,t[7]=n,t[8]=g):g=t[8];let v=g,b;return t[9]!==s||t[10]!==c||t[11]!==l||t[12]!==v||t[13]!==m?(b=(0,u.jsxs)("div",{className:"drawer-link",children:[(0,u.jsx)(c0,{...l,className:"drawer-link__cell",link:!1,onClick:null}),(0,u.jsx)(c,{children:(0,u.jsx)(e$,{})}),(0,u.jsx)(s,{onDelete:v,onSave:m})]}),t[9]=s,t[10]=c,t[11]=l,t[12]=v,t[13]=m,t[14]=b):b=t[14],b},c4="clickable-arrow",c8="paginator__page",c7=e=>{let{isCurrent:t,isFirstPage:n=!1,isLastPage:a=!1,page:l=1,updatePage:o}=e,r=[c8,t&&"".concat(c8,"--is-current"),n&&"".concat(c8,"--is-first-page"),a&&"".concat(c8,"--is-last-page")].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:r,onClick:()=>o(l),type:"button",children:l})},c9={ClickableArrow:e=>{let{direction:t="right",isDisabled:n=!1,updatePage:a}=e,l=[c4,n&&"".concat(c4,"--is-disabled"),t&&"".concat(c4,"--").concat(t)].filter(Boolean).join(" ");return(0,u.jsx)("button",{className:l,disabled:n,onClick:n?void 0:a,type:"button",children:(0,u.jsx)(eX,{})})},Page:c7,Separator:()=>(0,u.jsx)("span",{className:"paginator__separator",children:"—"})},ue=e=>{let{hasNextPage:t=!1,hasPrevPage:n=!1,nextPage:a=null,numberOfNeighbors:l=1,onChange:o,page:r,prevPage:i=null,totalPages:s=null}=e;if(!t&&!n)return null;let c=e=>{"function"==typeof o&&o(e)},d=Array.from({length:s},(e,t)=>t+1),p=r-1-l;p<=0&&(p=0);let h=r-1+l+1,f=d.slice(p,h);return r-l-1>=2&&f.unshift({type:"Separator"}),r>l+1&&f.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),r+l+1<s&&f.push({type:"Separator"}),h<s&&f.push({type:"Page",props:{isLastPage:!0,page:s,updatePage:c}}),f.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!t,updatePage:()=>c(null!=a?a:r+1)}}),f.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!n,updatePage:()=>c(null!=i?i:Math.max(1,r-1))}}),(0,u.jsx)("div",{className:"paginator",children:f.map((e,t)=>{if("number"==typeof e)return(0,u.jsx)(c7,{isCurrent:r===e,page:e,updatePage:c},t);let n=c9[e.type];return(0,u.jsx)(n,{...e.props},t)})})},ut=()=>{let e=(0,d.c)(11),{data:t,handlePageChange:n}=cn(),a=t.nextPage||2,l;e[0]!==n?(l=e=>{n(e)},e[0]=n,e[1]=l):l=e[1];let o=t.page||1,r=t.prevPage||void 0,i;return e[2]!==t.hasNextPage||e[3]!==t.hasPrevPage||e[4]!==t.limit||e[5]!==t.totalPages||e[6]!==a||e[7]!==l||e[8]!==o||e[9]!==r?(i=(0,u.jsx)(ue,{hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,limit:t.limit,nextPage:a,numberOfNeighbors:1,onChange:l,page:o,prevPage:r,totalPages:t.totalPages}),e[2]=t.hasNextPage,e[3]=t.hasPrevPage,e[4]=t.limit,e[5]=t.totalPages,e[6]=a,e[7]=l,e[8]=o,e[9]=r,e[10]=i):i=e[10],i},un="relationship-table",ua=e=>{var t,n,a,l,r,c,d,h,f,m;let{AfterInput:g,allowCreate:v=!0,BeforeInput:b,disableTable:x=!1,field:y,filterOptions:w,initialData:j,initialDrawerData:_,Label:k,parent:N,relationTo:D}=e,[E,P]=(0,o.useState)(null),{config:T,getEntityConfig:A}=(0,i.b)(),{permissions:O}=af(),[I]=(0,o.useState)(()=>{if(j)return{...j,docs:Array.isArray(j.docs)?j.docs.reduce((e,t)=>"string"==typeof t?[...e,{id:t}]:[...e,t],[]):[]}}),{i18n:R,t:L}=(0,s.d)(),[M,F]=(0,o.useState)(),[B,z]=(0,o.useState)(!1),[V]=(0,o.useState)(()=>A({collectionSlug:D})),[U,H]=(0,o.useState)(Array.isArray(D)?void 0:D),[q,K]=(0,o.useState)(!x),[W,Y]=(0,o.useState)(I),[G,Q]=(0,o.useState)(),{getTableState:X}=cr(),$=(0,o.useCallback)(async e=>{var t,n;let a={limit:String((null==y?void 0:y.defaultLimit)||(null==V||null==(n=V.admin)||null==(t=n.pagination)?void 0:t.defaultLimit)),sort:y.defaultSort||(null==V?void 0:V.defaultSort),...M||{},where:{...(null==M?void 0:M.where)||{}}};w&&(a.where=(0,C.Y)(a.where,w));let l=y.admin.defaultColumns?y.admin.defaultColumns.map(e=>({accessor:e,active:!0})):void 0,{data:o,state:r,Table:i}=await X({collectionSlug:D,columns:(0,S.l)(null==M?void 0:M.columns)||l,docs:e,enableRowSelections:!1,orderableFieldName:!y.orderable||Array.isArray(y.collection)?void 0:"_".concat(y.collection,"_").concat(y.name,"_order"),parent:N,query:a,renderRowTypes:!0,tableAppearance:"condensed"});Y(o),P(i),Q(r),K(!1)},[y.defaultLimit,y.defaultSort,y.admin.defaultColumns,y.collection,y.name,y.orderable,null==V||null==(n=V.admin)||null==(t=n.pagination)?void 0:t.defaultLimit,null==V?void 0:V.defaultSort,M,w,X,D,N]),Z=s4((e,t)=>{t||E&&!e||$()});(0,o.useEffect)(()=>{Z(M,x)},[M,x]);let[J,ee,{closeDrawer:et,isDrawerOpen:en,openDrawer:ea}]=cI({collectionSlug:U}),el=(0,o.useCallback)(e=>{var t;let n=null==W||null==(t=W.docs)?void 0:t.findIndex(t=>t.id===e.doc.id),a;if(-1!==n){let t=[...W.docs];t[n]=e.doc,a=t}else a=[e.doc,...W.docs];$(a)},[null==W?void 0:W.docs,$]),eo=(0,o.useCallback)(e=>{et(),el(e)},[et,el]),er=(0,o.useCallback)(e=>{$(W.docs.filter(t=>t.id!==e.id))},[null==W?void 0:W.docs,$]),ei=!1!==v&&(null==O||null==(l=O.collections)||null==(a=l[Array.isArray(D)?D[0]:D])?void 0:a.create);return(0,o.useEffect)(()=>{Array.isArray(D)&&U&&ea()},[U,ea,D]),(0,o.useEffect)(()=>{Array.isArray(D)&&!en&&U&&H(void 0)},[en]),(0,u.jsxs)("div",{className:un,children:[(0,u.jsxs)("div",{className:"".concat(un,"__header"),children:[k,(0,u.jsxs)("div",{className:"".concat(un,"__actions"),children:[!Array.isArray(D)&&ei&&(0,u.jsx)(ee,{className:"".concat(un,"__add-new"),children:R.t("fields:addNew")}),Array.isArray(D)&&(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(ts,{button:(0,u.jsxs)(tp,{buttonStyle:"none",className:"".concat(un,"__add-new-polymorphic"),children:[R.t("fields:addNew"),(0,u.jsx)(eJ,{})]}),buttonType:"custom",horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,u.jsx)(e1.ButtonGroup,{children:D.map(e=>O.collections[e].create?(0,u.jsx)(e1.Button,{className:"".concat(un,"__relation-button--").concat(e),onClick:()=>{t(),H(e)},children:(0,p.sC)(T.collections.find(t=>t.slug===e).labels.singular,R)},e):null)})},size:"medium"})}),(0,u.jsx)(l7,{"aria-controls":"".concat(un,"-columns"),"aria-expanded":B,className:"".concat(un,"__toggle-columns ").concat(B?"".concat(un,"__buttons-active"):""),icon:(0,u.jsx)(eX,{direction:B?"up":"down"}),onClick:()=>z(!B),pillStyle:"light",children:L("general:columns")})]})]}),b,q?(0,u.jsx)("p",{children:L("general:loading")}):(0,u.jsxs)(o.Fragment,{children:[(null==W?void 0:W.docs)&&0===W.docs.length&&(0,u.jsxs)("div",{className:"".concat(un,"__no-results"),children:[(0,u.jsx)("p",{children:R.t("general:noResults",{label:Array.isArray(D)?R.t("general:documents"):(0,p.sC)(null==V||null==(r=V.labels)?void 0:r.plural,R)})}),ei&&(0,u.jsx)(tp,{onClick:ea,children:R.t("general:createNewLabel",{label:(0,p.sC)(null==V||null==(c=V.labels)?void 0:c.singular,R)})})]}),(null==W?void 0:W.docs)&&W.docs.length>0&&(0,u.jsx)(cM,{children:(0,u.jsx)(cl,{columns:(0,S.l)(G),data:W,defaultLimit:null!=(f=y.defaultLimit)?f:null==V||null==(h=V.admin)||null==(d=h.pagination)?void 0:d.defaultLimit,defaultSort:null!=(m=y.defaultSort)?m:null==V?void 0:V.defaultSort,modifySearchParams:!1,onQueryChange:F,orderableFieldName:!y.orderable||Array.isArray(y.collection)?void 0:"_".concat(y.collection,"_").concat(y.name,"_order"),children:(0,u.jsxs)(cu,{collectionSlug:Array.isArray(D)?D[0]:D,columnState:G,LinkedCellOverride:(0,u.jsx)(c5,{onDrawerDelete:er,onDrawerSave:el}),children:[(0,u.jsx)(lZ,{className:"".concat(un,"__columns"),height:B?"auto":0,id:"".concat(un,"-columns"),children:(0,u.jsx)("div",{className:"".concat(un,"__columns-inner"),children:V&&(0,u.jsx)(cp,{collectionSlug:V.slug})})}),E,(0,u.jsx)(ut,{})]})})})]}),g,(0,u.jsx)(J,{initialData:_,onSave:eo})]})},ul=s5.default.default||s5.default,uo=e=>{var t;let{collectionSlug:n,config:a,docID:l,fields:o,segments:r}=e,i=(0,j.A)(o,{keepPresentationalFields:!0}),s=r[0],c=i.find(e=>e.name===s);if(!c)return null;if("relationship"===c.type||"upload"===c.type){let e=l;return Array.isArray(c.relationTo)&&(e={relationTo:n,value:l}),{[c.name]:c.hasMany?[e]:e}}let u=r.slice(1,r.length);if("tab"===c.type||"group"===c.type&&(0,x.Z7)(c))return{[c.name]:uo({collectionSlug:n,config:a,docID:l,fields:c.fields,segments:u})};if("array"===c.type){let e=uo({collectionSlug:n,config:a,docID:l,fields:c.fields,segments:u});return e.id=ul().toHexString(),{[c.name]:[e]}}if("blocks"===c.type)for(let e of null!=(t=c.blockReferences)?t:c.blocks){let t="string"==typeof e?a.blocksMap[e]:e,o=uo({collectionSlug:n,config:a,docID:l,fields:t.fields,segments:u});if(o)return o.id=ul().toHexString(),o.blockType=t.slug,{[c.name]:[o]}}},ur=lI(e=>{let{field:t,field:{admin:{allowCreate:n,description:a},collection:l,label:r,localized:s,on:c,required:d},path:p}=e,{id:h,docConfig:f}=lC(),{config:m,getEntityConfig:g}=(0,i.b)(),{customComponents:{AfterInput:v,BeforeInput:b,Description:x,Error:y,Label:w}={},path:j,showError:C,value:S}=lT({potentiallyStalePath:p}),_=(0,o.useMemo)(()=>{if(!h)return null;let e=h;Array.isArray(t.targetField.relationTo)&&(e={relationTo:f.slug,value:e});let n=Array.isArray(l)?{}:{[c]:{equals:e}};return t.where?{and:[n,t.where]}:n},[h,l,t.targetField.relationTo,t.where,c,null==f?void 0:f.slug]),k=(0,o.useMemo)(()=>{let e=g({collectionSlug:Array.isArray(t.collection)?t.collection[0]:t.collection});return uo({collectionSlug:null==f?void 0:f.slug,config:m,docID:h,fields:e.fields,segments:t.on.split(".")})},[g,t.collection,t.on,null==f?void 0:f.slug,h,m]);return f?(0,u.jsxs)("div",{className:[lL,C&&"error","join"].filter(Boolean).join(" "),id:"field-".concat(null==j?void 0:j.replace(/\./g,"__")),children:[(0,u.jsx)(ec,{CustomComponent:y,Fallback:(0,u.jsx)(tV,{path:j,showError:C})}),(0,u.jsx)(ua,{AfterInput:v,allowCreate:"u">typeof h&&n,BeforeInput:b,disableTable:null===_,field:t,filterOptions:_,initialData:h&&S?S:{docs:[]},initialDrawerData:k,Label:(0,u.jsx)("h4",{style:{margin:0},children:w||(0,u.jsx)(aN,{label:r,localized:s,path:j,required:d})}),parent:Array.isArray(l)?{id:h,collectionSlug:f.slug,joinPath:j}:void 0,relationTo:l}),(0,u.jsx)(ec,{CustomComponent:x,Fallback:(0,u.jsx)(tz,{description:a,path:j})})]}):null}),ui=lI(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:l,maxHeight:r}={},jsonSchema:i,label:s,localized:c,required:d},path:p,readOnly:h,validate:f}=e,[m,g]=(0,o.useState)(),v=o.useRef("system"),[b,x]=(0,o.useState)(""),{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,initialValue:k,path:N,setValue:D,showError:E,value:P}=lT({potentiallyStalePath:p,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof f)return f(e,{...t,jsonError:m,required:d})},[f,d,m])}),[T,A]=(0,o.useState)(()=>(P||k)!==void 0?JSON.stringify(null!=P?P:k,null,2):void 0),O=(0,o.useCallback)((e,t)=>{if(!i)return;t.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...t.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let n=i.uri,a=n.includes("?")?"".concat(n,"&").concat(crypto.randomUUID?crypto.randomUUID():oi()):"".concat(n,"?").concat(crypto.randomUUID?crypto.randomUUID():oi());e.setModel(t.editor.createModel(JSON.stringify(P,null,2),"json",t.Uri.parse(a)))},[i,P]),I=(0,o.useCallback)(e=>{if(!(h||_)){v.current="user";try{D(e?JSON.parse(e):null),g(void 0)}catch(t){D(e||null),g(t)}}},[h,_,D]);(0,o.useEffect)(()=>{"system"===v.current&&(A((P||k)!==void 0?JSON.stringify(null!=P?P:k,null,2):void 0),x(new Date().toString())),v.current="system"},[k,P]);let R=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsxs)("div",{className:[lL,"json-field",n,E&&"error",(h||_)&&"read-only"].filter(Boolean).join(" "),style:R,children:[(0,u.jsx)(ec,{CustomComponent:S,Fallback:(0,u.jsx)(aN,{label:s,localized:c,path:N,required:d})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:C,Fallback:(0,u.jsx)(tV,{message:m,path:N,showError:E})}),w,(0,u.jsx)(oS,{defaultLanguage:"json",maxHeight:r,onChange:I,onMount:O,options:l,readOnly:h||_,value:T,wrapperProps:{id:"field-".concat(null==N?void 0:N.replace(/\./g,"__"))}},b),y]}),(0,u.jsx)(ec,{CustomComponent:j,Fallback:(0,u.jsx)(tz,{description:a,path:N})})]})}),us=lI(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,step:r=1}={},hasMany:i=!1,label:c,localized:d,max:h=1/0,maxRows:f=1/0,min:m=-1/0,required:g},onChange:v,path:b,readOnly:x,validate:y}=e,{i18n:w,t:j}=(0,s.d)(),{customComponents:{AfterInput:C,BeforeInput:S,Description:k,Error:N,Label:D}={},disabled:E,path:P,setValue:T,showError:A,value:O}=lT({potentiallyStalePath:b,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,max:h,min:m,required:g})},[y,m,h,g])}),I=(0,o.useCallback)(e=>{let t=parseFloat(e.target.value),n=t;Number.isNaN(t)&&(n=null),"function"==typeof v&&v(n),T(n)},[v,T]),[R,L]=(0,o.useState)([]),M=(0,o.useCallback)(e=>{if(!(x||E)){var t;let n;T(e?Array.isArray(e)?e.map(e=>{var t;return Number((null==(t=e.value)?void 0:t.value)||e.value)}):[Number((null==(t=e.value)?void 0:t.value)||e.value)]:[])}},[x,E,T]);(0,o.useEffect)(()=>{i&&Array.isArray(O)&&L(O.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[O,i]);let F=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsxs)("div",{className:[lL,"number",n,A&&"error",(x||E)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:F,children:[(0,u.jsx)(ec,{CustomComponent:D,Fallback:(0,u.jsx)(aN,{label:c,localized:d,path:P,required:g})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:N,Fallback:(0,u.jsx)(tV,{path:P,showError:A})}),S,i?(0,u.jsx)(sV,{className:"field-".concat(P.replace(/\./g,"__")),disabled:x||E,filterOption:(e,t)=>{let n=Array.isArray(O)&&O.length>=f;return(0,_.E)(t)&&!n},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(O)&&O.length>=f?j("validation:limitReached",{max:f,value:O.length+1}):null,onChange:M,options:[],placeholder:j("general:enterAValue"),showError:A,value:R}):(0,u.jsx)("div",{children:(0,u.jsx)("input",{disabled:x||E,id:"field-".concat(P.replace(/\./g,"__")),max:h,min:m,name:P,onChange:I,onWheel:e=>{e.target.blur()},placeholder:(0,p.sC)(l,w),step:r,type:"number",value:"number"==typeof O?O:""})}),C,(0,u.jsx)(ec,{CustomComponent:k,Fallback:(0,u.jsx)(tz,{description:a,path:P})})]})]})}),uc="point",uu=lI(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,step:r}={},label:i,localized:c,required:d},path:h,readOnly:f,validate:m}=e,{i18n:g,t:v}=(0,s.d)(),{customComponents:{AfterInput:b,BeforeInput:x,Description:y,Error:w,Label:j}={},disabled:C,path:S,setValue:_,showError:k,value:N=[null,null]}=lT({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,required:d})},[m,d])}),D=(0,o.useCallback)((e,t)=>{let n=parseFloat(e.target.value);Number.isNaN(n)&&(n=e.target.value);let a=[...N];a[t]=n,_(a)},[_,N]),E=e=>{let t=v("longitude"===e?"fields:longitude":"fields:latitude"),n=i?(0,p.sC)(i,g):"";return"".concat(n).concat(n?" - ":"").concat(t)},P=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsxs)("div",{className:[lL,uc,n,k&&"error",(f||C)&&"read-only"].filter(Boolean).join(" "),style:P,children:[(0,u.jsxs)("ul",{className:"".concat(uc,"__wrap"),children:[(0,u.jsxs)("li",{children:[(0,u.jsx)(ec,{CustomComponent:j,Fallback:(0,u.jsx)(aN,{label:E("longitude"),localized:c,path:S,required:d})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[x,(0,u.jsx)("input",{disabled:f||C,id:"field-longitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".longitude"),onChange:e=>D(e,0),placeholder:(0,p.sC)(l,g),step:r,type:"number",value:N&&"number"==typeof N[0]?N[0]:""}),b]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)(ec,{CustomComponent:j,Fallback:(0,u.jsx)(aN,{label:E("latitude"),localized:c,path:S,required:d})}),(0,u.jsxs)("div",{className:"input-wrapper",children:[(0,u.jsx)(ec,{CustomComponent:w,Fallback:(0,u.jsx)(tV,{path:S,showError:k})}),x,(0,u.jsx)("input",{disabled:f||C,id:"field-latitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".latitude"),onChange:e=>D(e,1),placeholder:(0,p.sC)(l,g),step:r,type:"number",value:N&&"number"==typeof N[1]?N[1]:""}),b]})]})]}),(0,u.jsx)(ec,{CustomComponent:y,Fallback:(0,u.jsx)(tz,{description:a,path:S})})]})}),ud="radio-input",up=e=>{let t,n=(0,d.c)(16),{isSelected:a,onChange:l,option:o,path:r,readOnly:i,uuid:c}=e,{i18n:h}=(0,s.d)(),f=tq(),m="field-".concat(r,"-").concat(o.value).concat(f>1?"-".concat(f):"").concat(c?"-".concat(c):""),g=a&&"".concat(ud,"--is-selected"),v;n[0]!==g?(v=[ud,g].filter(Boolean),n[0]=g,n[1]=v):v=n[1];let b=v.join(" "),x;if(n[2]!==l||n[3]!==o.value?(x=()=>"function"==typeof l?l(o.value):null,n[2]=l,n[3]=o.value,n[4]=x):x=n[4],n[5]!==h||n[6]!==m||n[7]!==a||n[8]!==o.label||n[9]!==r||n[10]!==i||n[11]!==b||n[12]!==x){let e=(0,u.jsx)("input",{checked:a,disabled:i,id:m,name:r,onChange:x,type:"radio"}),l=i&&"".concat(ud,"__styled-radio--disabled"),s;n[14]!==l?(s=["".concat(ud,"__styled-radio"),l].filter(Boolean),n[14]=l,n[15]=s):s=n[15],t=(0,u.jsx)("label",{htmlFor:m,children:(0,u.jsxs)("div",{className:b,children:[e,(0,u.jsx)("span",{className:s.join(" ")}),(0,u.jsx)("span",{className:"".concat(ud,"__label"),children:(0,p.sC)(o.label,h)})]})}),n[5]=h,n[6]=m,n[7]=a,n[8]=o.label,n[9]=r,n[10]=i,n[11]=b,n[12]=x,n[13]=t}else t=n[13];return t},uh="radio-group",uf=lI(e=>{let{disableModifyingForm:t,field:n,field:{admin:{className:a,description:l,layout:r="horizontal"}={},label:i,localized:s,options:c=[],required:d}={},onChange:p,path:h,readOnly:f,validate:m,value:g}=e,{uuid:v}=eN(),{customComponents:{AfterInput:b,BeforeInput:y,Description:w,Error:j,Label:C}={},disabled:S,path:_,setValue:k,showError:N,value:D}=lT({potentiallyStalePath:h,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,options:c,required:d})},[m,c,d])}),E=D||g,P=(0,o.useMemo)(()=>lR(n),[n]);return(0,u.jsxs)("div",{className:[lL,uh,a,"".concat(uh,"--layout-").concat(r),N&&"error",(f||S)&&"".concat(uh,"--read-only")].filter(Boolean).join(" "),style:P,children:[(0,u.jsx)(ec,{CustomComponent:j,Fallback:(0,u.jsx)(tV,{path:_,showError:N})}),(0,u.jsx)(ec,{CustomComponent:C,Fallback:(0,u.jsx)(aN,{label:i,localized:s,path:_,required:d})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[y,(0,u.jsx)("ul",{className:"".concat(uh,"--group"),id:"field-".concat(_.replace(/\./g,"__")),children:c.map(e=>{let n="",a=String(n=(0,x.vs)(e)?e.value:e)===String(E),l="field-".concat(_,"-").concat(n).concat(v?"-".concat(v):"");return(0,u.jsx)("li",{children:(0,u.jsx)(up,{id:l,isSelected:a,onChange:()=>{"function"==typeof p&&p(n),f||S||k(n,!!t)},option:(0,x.vs)(e)?e:{label:e,value:e},path:_,readOnly:f||S,uuid:v})},"".concat(_," - ").concat(n))})}),b,(0,u.jsx)(ec,{CustomComponent:w,Fallback:(0,u.jsx)(tz,{description:l,path:_})})]})]})}),um="relationship-add-new",ug=e=>{let t,n,a,l,r,i,c=(0,d.c)(45),{Button:h,hasMany:f,onChange:m,path:g,relationTo:v,unstyled:b,value:x}=e,y=ch(v),{permissions:w}=af(),[j,C]=(0,o.useState)(!1),[S,_]=(0,o.useState)(),k=y.length>1,N;c[0]!==y[0]||c[1]!==k?(N=()=>k?void 0:y[0],c[0]=y[0],c[1]=k,c[2]=N):N=c[2];let[D,E]=(0,o.useState)(N),[P,T]=(0,o.useState)(!1),{i18n:A,t:O}=(0,s.d)(),[I,R]=(0,o.useState)(!1),L=null==D?void 0:D.slug,M;c[3]!==L?(M={collectionSlug:L},c[3]=L,c[4]=M):M=c[4];let[F,B,z]=cI(M),{isDrawerOpen:V,toggleDrawer:U}=z,H;c[5]!==(null==D?void 0:D.slug)||c[6]!==f||c[7]!==m||c[8]!==y[0].slug||c[9]!==x?(H=e=>{let{doc:t,operation:n}=e;if("create"===n){let e;x&&(Array.isArray(x)?x.some(e=>e&&e.value===t.id):x.value===t.id)||m(!0===f?[...Array.isArray(x)?x:[],{relationTo:null==D?void 0:D.slug,value:t.id}]:{relationTo:y[0].slug,value:t.id}),_(void 0)}},c[5]=null==D?void 0:D.slug,c[6]=f,c[7]=m,c[8]=y[0].slug,c[9]=x,c[10]=H):H=c[10];let q=H,K;c[11]===Symbol.for("react.memo_cache_sentinel")?(K=e=>{T(e)},c[11]=K):K=c[11];let W=K,Y,G;c[12]!==w||c[13]!==y?(Y=()=>{var e,t;w&&(1===y.length?C(null==(e=w.collections[null==(t=y[0])?void 0:t.slug])?void 0:e.create):C(y.some(e=>{var t;return null==(t=w.collections[null==e?void 0:e.slug])?void 0:t.create})))},G=[w,y],c[12]=w,c[13]=y,c[14]=Y,c[15]=G):(Y=c[14],G=c[15]),(0,o.useEffect)(Y,G),c[16]!==y||c[17]!==k||c[18]!==S?(n=()=>{k&&S&&E(y.find(e=>(null==e?void 0:e.slug)===S))},t=[S,k,y],c[16]=y,c[17]=k,c[18]=S,c[19]=t,c[20]=n):(t=c[19],n=c[20]),(0,o.useEffect)(n,t),c[21]!==D||c[22]!==k||c[23]!==U?(a=()=>{k&&D&&(U(),_(void 0))},l=[U,k,D],c[21]=D,c[22]=k,c[23]=U,c[24]=a,c[25]=l):(a=c[24],l=c[25]),(0,o.useEffect)(a,l),c[26]!==V||c[27]!==k?(r=()=>{k&&!V&&E(void 0)},i=[V,k],c[26]=V,c[27]=k,c[28]=r,c[29]=i):(r=c[28],i=c[29]),(0,o.useEffect)(r,i);let Q=y[0].labels.singular,X;if(c[30]!==h||c[31]!==F||c[32]!==B||c[33]!==D||c[34]!==A||c[35]!==q||c[36]!==g||c[37]!==w||c[38]!==P||c[39]!==y||c[40]!==j||c[41]!==I||c[42]!==O||c[43]!==b){X=Symbol.for("react.early_return_sentinel");e:{let e=O("fields:addNewLabel",{label:(0,p.sC)(Q,A)});if(j){var $;X=(0,u.jsxs)("div",{className:um,id:"".concat(g,"-add-new"),children:[1===y.length&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(B,{className:["".concat(um,"__add-button"),b&&"".concat(um,"__add-button--unstyled")].filter(Boolean).join(" "),onClick:()=>R(!1),onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:h||(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tc,{className:"".concat(um,"__tooltip"),show:I,children:e}),(0,u.jsx)(eJ,{})]})}),(0,u.jsx)(F,{onSave:q})]}),y.length>1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(ts,{button:h||(0,u.jsx)(tp,{buttonStyle:"none",className:"".concat(um,"__add-button"),tooltip:P?void 0:O("fields:addNew"),children:(0,u.jsx)(eJ,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:W,render:e=>{let{close:t}=e;return(0,u.jsx)(e5,{children:y.map(e=>{var n;return w.collections[null==e?void 0:e.slug].create?(0,u.jsx)(e4,{className:"".concat(um,"__relation-button--").concat(null==e?void 0:e.slug),onClick:()=>{t(),_(null==e?void 0:e.slug)},children:(0,p.sC)(null==e||null==(n=e.labels)?void 0:n.singular,A)},null==e?void 0:e.slug):null})})},size:"medium"}),D&&(null==($=w.collections[null==D?void 0:D.slug])?void 0:$.create)&&(0,u.jsx)(F,{onSave:q})]})]});break e}}c[30]=h,c[31]=F,c[32]=B,c[33]=D,c[34]=A,c[35]=q,c[36]=g,c[37]=w,c[38]=P,c[39]=y,c[40]=j,c[41]=I,c[42]=O,c[43]=b,c[44]=X}else X=c[44];return X!==Symbol.for("react.early_return_sentinel")?X:null},uv=e=>{let{allowCreate:t=!0,collectionSlugs:n,disableQueryPresets:a,drawerSlug:l,enableRowSelections:r,filterOptions:s,onBulkSelect:c,onSelect:d,overrideEntityVisibility:p=!0,selectedCollection:h}=e,{closeModal:f,isModalOpen:m}=ne(),{serverFunction:g}=cr(),[v,b]=(0,o.useState)(void 0),[x,y]=(0,o.useState)(!0),{config:{collections:w},getEntityConfig:j}=(0,i.b)(),S=m(l),_=w.filter(e=>{let{slug:t}=e;return n.includes(t)}),[k,N]=(0,o.useState)(()=>{var e;let t=j({collectionSlug:h||(null==(e=_[0])?void 0:e.slug)});return t?{label:t.labels,value:t.slug}:void 0}),[D,E,{drawerSlug:P}]=cI({collectionSlug:k.value}),T=s4(e=>{var t;e&&e!==(null==k?void 0:k.value)&&N({label:null==(t=j({collectionSlug:e}))?void 0:t.labels,value:e})});(0,o.useEffect)(()=>{T(h)},[h]);let A=(0,o.useCallback)(async e=>{let{slug:n,query:o}=e;try{let e={...o||{},where:{...(null==o?void 0:o.where)||{}}},i=null==s?void 0:s[n];if(s&&"boolean"!=typeof i&&(e.where=(0,C.Y)(e.where,i)),n){let o=await g({name:"render-list",args:{allowCreate:t,collectionSlug:n,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:a,drawerSlug:l,enableRowSelections:r,overrideEntityVisibility:p,query:e}});b((null==o?void 0:o.List)||null)}else b(null);y(!1)}catch(e){console.error("Error rendering List View: ",e),S&&f(l)}},[g,f,t,l,S,r,s,p,a]);(0,o.useEffect)(()=>{v||A({slug:null==k?void 0:k.value})},[A,v,k.value]);let O=(0,o.useCallback)(e=>{let{doc:t}=e;"function"==typeof d&&d({collectionSlug:null==k?void 0:k.value,doc:t,docID:t.id}),f(P),f(l)},[f,P,l,d,k.value]),I=(0,o.useCallback)(e=>{A({slug:null==k?void 0:k.value,query:e})},[A,k.value]),R=(0,o.useCallback)(e=>{N(e),A({slug:null==e?void 0:e.value})},[A]);return x?(0,u.jsx)(cw,{}):(0,u.jsxs)(s7,{allowCreate:t,createNewDrawerSlug:P,DocumentDrawerToggler:E,drawerSlug:l,enabledCollections:n,onBulkSelect:c,onQueryChange:I,onSelect:d,selectedOption:k,setSelectedOption:R,children:[v,(0,u.jsx)(D,{onSave:O})]})},ub="list-drawer",ux=e=>{let{depth:t,uuid:n}=e;return"list-drawer_".concat(t,"_").concat(n)},uy=e=>{let{children:t,className:n,disabled:a,drawerSlug:l,onClick:o,...r}=e;return(0,u.jsx)(at,{className:[n,"".concat(ub,"__toggler")].filter(Boolean).join(" "),disabled:a,onClick:o,slug:l,...r,children:t})},uw=e=>{let{drawerSlug:t}=e;return(0,u.jsx)(an,{className:ub,gutter:!1,Header:null,slug:t,children:(0,u.jsx)(uv,{...e})})},uj=e=>{let t,n,a,l,r,s,c,p,h=(0,d.c)(42),{collectionSlugs:f,filterOptions:m,selectedCollection:g,uploads:v}=e,{config:b}=(0,i.b)(),{collections:x}=b,y=tq(),w=(0,o.useId)(),{closeModal:j,modalState:C,openModal:S,toggleModal:_}=ne(),[k,N]=(0,o.useState)(!1),[D,E]=(0,o.useState)(f),P;h[0]!==y||h[1]!==w?(P=ux({depth:y,uuid:w}),h[0]=y,h[1]=w,h[2]=P):P=h[2];let T=P,A,O;h[3]!==T||h[4]!==C?(A=()=>{var e;N(!!(null==(e=C[T])?void 0:e.isOpen))},O=[C,T],h[3]=T,h[4]=C,h[5]=A,h[6]=O):(A=h[5],O=h[6]),(0,o.useEffect)(A,O),h[7]!==D||h[8]!==x||h[9]!==v?(s=()=>{D&&0!==D.length||E(x.filter(e=>{let{upload:t}=e;return!v||!!t}).map(uC))},c=[D,v,x],h[7]=D,h[8]=x,h[9]=v,h[10]=s,h[11]=c):(s=h[10],c=h[11]),(0,o.useEffect)(s,c),h[12]!==T||h[13]!==_?(p=()=>{_(T)},h[12]=T,h[13]=_,h[14]=p):p=h[14];let I=p,R;h[15]!==j||h[16]!==T?(R=()=>{j(T)},h[15]=j,h[16]=T,h[17]=R):R=h[17];let L=R,M;h[18]!==T||h[19]!==S?(M=()=>{S(T)},h[18]=T,h[19]=S,h[20]=M):M=h[20];let F=M,B,z;return h[21]!==L||h[22]!==D||h[23]!==T||h[24]!==m||h[25]!==g||h[26]!==v?(z=e=>(0,o.createElement)(uw,{...e,closeDrawer:L,collectionSlugs:D,drawerSlug:T,filterOptions:m,key:T,selectedCollection:g,uploads:v}),h[21]=L,h[22]=D,h[23]=T,h[24]=m,h[25]=g,h[26]=v,h[27]=z):z=h[27],B=z,h[28]!==T?(n=e=>(0,u.jsx)(uy,{...e,drawerSlug:T}),h[28]=T,h[29]=n):n=h[29],t=n,h[30]!==L||h[31]!==D||h[32]!==y||h[33]!==T||h[34]!==k||h[35]!==F||h[36]!==I?(l={closeDrawer:L,collectionSlugs:D,drawerDepth:y,drawerSlug:T,isDrawerOpen:k,openDrawer:F,setCollectionSlugs:E,toggleDrawer:I},h[30]=L,h[31]=D,h[32]=y,h[33]=T,h[34]=k,h[35]=F,h[36]=I,h[37]=l):l=h[37],a=l,h[38]!==B||h[39]!==a||h[40]!==t?(r=[B,t,a],h[38]=B,h[39]=a,h[40]=t,h[41]=r):r=h[41],r};function uC(e){let{slug:t}=e;return t}var uS=(e,t)=>{let n=(0,d.c)(3),a=(0,o.useRef)(void 0),l;return n[0]!==e||n[1]!==t?(l=function(){for(var n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];clearTimeout(a.current),a.current=setTimeout(()=>{clearTimeout(a.current),e(...l)},t)},n[0]=e,n[1]=t,n[2]=l):l=n[2],l},u_=e=>{for(let t in e){let n=e[t];if(("and"===t.toLowerCase()||"or"===t.toLowerCase())&&Array.isArray(n))for(let e of n)u_(e);else n&&"object"==typeof n&&"in"in n&&Array.isArray(n.in)&&0===n.in.length&&(e[t]={exists:!1})}return e},uk=e=>{let{hasMany:t,relationTo:n,value:a}=e,l=n.reduce((e,t)=>({...e,[t]:[]}),{});if(null===a)return l;if(a){let e=(e,t)=>{("string"==typeof t||"number"==typeof t)&&"string"==typeof e&&(l[e]?l[e].push(t):l[e]=[t])};!0===t?a.forEach(t=>{t&&e(t.relationTo,t.value)}):e(a.relationTo,a.value)}return l},uN=e=>{let{allowEdit:t,options:n,value:a}=e;if(a||"number"==typeof a){let e;return Array.isArray(a)?a.map(e=>{let a;return n.forEach(t=>{a||(a=t.options.find(t=>t.value===e.value&&t.relationTo===e.relationTo))}),a?{allowEdit:t,...a}:void 0}):(n.forEach(t=>{e||(e=t.options.find(e=>e.value===a.value&&e.relationTo===a.relationTo))}),e?{allowEdit:t,...e}:void 0)}},uD=e=>e.reduce((e,t)=>t.options?[...e,...uD(t.options)]:[...e,{id:t.value,relationTo:t.relationTo}],[]),uE=e=>e.sort((e,t)=>{var n,a;return"function"==typeof(null==e||null==(n=e.label)?void 0:n.localeCompare)&&"function"==typeof(null==t||null==(a=t.label)?void 0:a.localeCompare)?e.label.localeCompare(t.label):0}),uP=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,config:a,docs:l,i18n:o,ids:r=[],sort:i}=t,s=n.slug,c=uD(e),u=[...e],d=u.find(e=>e.label===n.labels.plural),h=l.reduce((e,t)=>0===c.filter(e=>e.id===t.id&&e.relationTo===s).length?(c.push({id:t.id,relationTo:s}),[...e,{label:lp({collectionConfig:n,data:t,dateFormat:a.admin.dateFormat,fallback:"".concat(o.t("general:untitled")," - ID: ").concat(t.id),i18n:o}),relationTo:s,value:t.id}]):e,[]);if(r.forEach(e=>{0===c.filter(t=>t.id===e&&t.relationTo===s).length&&(c.push({id:e,relationTo:s}),h.push({allowEdit:!1,label:"".concat(o.t("general:untitled")," - ID: ").concat(e),relationTo:s,value:e}))}),d){let e=[...d.options,...h];d.options=i?uE(e):e}else u.push({label:(0,p.sC)(n.labels.plural,o),options:i?uE(h):h});return u}case"CLEAR":{let n=t.exemptValues?Array.isArray(t.exemptValues)?t.exemptValues:[t.exemptValues]:[];return e.filter(e=>{let t=e.options.filter(e=>!!n&&n.some(t=>t&&e.value===t.value));return e.options=t,t.length>0})}case"REMOVE":{let{id:n,collection:a}=t,l=[...e],o=l.findIndex(e=>e.label===a.labels.plural);return -1===o||(l[o]={...l[o],options:l[o].options.filter(e=>e.value!==n)}),l}case"UPDATE":{var n,a;let{collection:l,config:o,doc:r,i18n:i}=t,s=l.slug,c=[...e],u=lp({collectionConfig:l,data:r,dateFormat:o.admin.dateFormat,fallback:"".concat(i.t("general:untitled")," - ID: ").concat(r.id),i18n:i}),d=null==(a=c.find(e=>e.label===l.labels.plural))||null==(n=a.options)?void 0:n.find(e=>e.value===r.id);return d&&(d.label=u,d.relationTo=s),c}default:return e}},uT="relationship--multi-value-label",uA=e=>{var t,n;let a,l=(0,d.c)(26),{data:r,selectProps:i}=e,{allowEdit:c,label:p,relationTo:h,value:f}=r,m;l[0]!==i?(m=void 0===i?{}:i,l[0]=i,l[1]=m):m=l[1];let{customProps:g}=m,v;l[2]!==g?(v=void 0===g?{}:g,l[2]=g,l[3]=v):v=l[3];let{draggableProps:b,onDocumentOpen:x}=v,{permissions:y}=af(),[w,j]=(0,o.useState)(!1),{t:C}=(0,s.d)(),S=!!(null==y||null==(n=y.collections)||null==(t=n[h])?void 0:t.read),_;if(l[4]!==b?(_=b||{},l[4]=b,l[5]=_):_=l[5],l[6]!==c||l[7]!==S||l[8]!==p||l[9]!==x||l[10]!==e||l[11]!==h||l[12]!==w||l[13]!==C||l[14]!==_||l[15]!==f){let t;l[17]!==c||l[18]!==S||l[19]!==p||l[20]!==x||l[21]!==h||l[22]!==w||l[23]!==C||l[24]!==f?(t=h&&S&&!1!==c&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":"Edit ".concat(p),className:"".concat(uT,"__drawer-toggler"),onClick:e=>{j(!1),x({id:f,collectionSlug:h,hasReadPermission:S,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:uO,onMouseDown:uI,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),onTouchEnd:uR,type:"button",children:[(0,u.jsx)(tc,{className:"".concat(uT,"__tooltip"),show:w,children:C("general:editLabel",{label:""})}),(0,u.jsx)(e$,{className:"".concat(uT,"__icon")})]})}),l[17]=c,l[18]=S,l[19]=p,l[20]=x,l[21]=h,l[22]=w,l[23]=C,l[24]=f,l[25]=t):t=l[25],a=(0,u.jsxs)("div",{className:uT,children:[(0,u.jsx)("div",{className:"".concat(uT,"__content"),children:(0,u.jsx)(ik.MultiValueLabel,{...e,innerProps:{className:"".concat(uT,"__text"),..._}})}),t]}),l[6]=c,l[7]=S,l[8]=p,l[9]=x,l[10]=e,l[11]=h,l[12]=w,l[13]=C,l[14]=_,l[15]=f,l[16]=a}else a=l[16];return a};function uO(e){"Enter"===e.key&&e.stopPropagation()}function uI(e){return e.stopPropagation()}function uR(e){return e.stopPropagation()}var uL="relationship--single-value",uM=e=>{var t,n;let a=(0,d.c)(24),{children:l,data:r,selectProps:i}=e,{allowEdit:c,label:p,relationTo:h,value:f}=r,m;a[0]!==i?(m=void 0===i?{}:i,a[0]=i,a[1]=m):m=a[1];let{customProps:g}=m,v;a[2]!==g?(v=void 0===g?{}:g,a[2]=g,a[3]=v):v=a[3];let{onDocumentOpen:b}=v,[x,y]=(0,o.useState)(!1),{t:w}=(0,s.d)(),{permissions:j}=af(),C=!!(null==j||null==(n=j.collections)||null==(t=n[h])?void 0:t.read),S;if(a[4]!==c||a[5]!==l||a[6]!==C||a[7]!==p||a[8]!==b||a[9]!==e||a[10]!==h||a[11]!==x||a[12]!==w||a[13]!==f){let t;a[15]!==c||a[16]!==C||a[17]!==p||a[18]!==b||a[19]!==h||a[20]!==x||a[21]!==w||a[22]!==f?(t=h&&C&&!1!==c&&(0,u.jsx)(o.Fragment,{children:(0,u.jsxs)("button",{"aria-label":w("general:editLabel",{label:p}),className:"".concat(uL,"__drawer-toggler"),onClick:e=>{y(!1),b({id:f,collectionSlug:h,hasReadPermission:C,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:uF,onMouseDown:uB,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onTouchEnd:uz,type:"button",children:[(0,u.jsx)(tc,{className:"".concat(uL,"__tooltip"),show:x,children:w("general:edit")}),(0,u.jsx)(e$,{})]})}),a[15]=c,a[16]=C,a[17]=p,a[18]=b,a[19]=h,a[20]=x,a[21]=w,a[22]=f,a[23]=t):t=a[23],S=(0,u.jsx)(ik.SingleValue,{...e,className:uL,children:(0,u.jsx)("div",{className:"".concat(uL,"__label"),children:(0,u.jsxs)("div",{className:"".concat(uL,"__label-text"),children:[(0,u.jsx)("div",{className:"".concat(uL,"__text"),children:l}),t]})})}),a[4]=c,a[5]=l,a[6]=C,a[7]=p,a[8]=b,a[9]=e,a[10]=h,a[11]=x,a[12]=w,a[13]=f,a[14]=S}else S=a[14];return S};function uF(e){"Enter"===e.key&&e.stopPropagation()}function uB(e){return e.stopPropagation()}function uz(e){return e.stopPropagation()}var uV="relationship",uU=e=>{let{AfterInput:t,allowCreate:n=!0,allowEdit:a=!0,appearance:l="select",BeforeInput:r,className:c,description:d,Description:p,Error:h,filterOptions:f,hasMany:m,initialValue:x,isSortable:y=!0,label:w,Label:j,localized:C,maxResultsPerRequest:S=10,onChange:_,path:k,placeholder:N,readOnly:D,relationTo:P,required:T,showError:A,sortOptions:O,style:I,value:R}=e,{config:L,getEntityConfig:M}=(0,i.b)(),{routes:{api:F},serverURL:B}=L,{i18n:z,t:V}=(0,s.d)(),{permissions:U}=af(),{code:H}=aS(),[q,K]=(0,o.useState)({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[W,Y]=(0,o.useState)(-1),[G,Q]=(0,o.useState)({}),[X,$]=(0,o.useState)(""),[Z,J]=(0,o.useState)(""),[ee,et]=(0,o.useState)(!1),[en,ea]=(0,o.useState)(!1),[el,eo]=(0,o.useState)(!1),er=(0,o.useRef)(!1),[ei,es]=(0,o.useReducer)(uP,[]),eu=(0,o.useRef)(R);eu.current=R;let[ed,,{isDrawerOpen:ep,openDrawer:eh}]=cI({id:q.id,collectionSlug:q.collectionSlug}),ef=(0,o.useMemo)(()=>{let e=f;if(R){let t=(!1===m?[R]:R).reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value),e),{});(Array.isArray(P)?P:[P]).forEach(n=>{e={...e||{},[n]:{..."object"==typeof(null==f?void 0:f[n])?f[n]:{},...t[n]?{id:{not_in:t[n]}}:{}}}})}return e},[f,R,m,P]),[em,,{closeDrawer:eg,isDrawerOpen:ev,openDrawer:eb}]=uj({collectionSlugs:P,filterOptions:ef}),ex=(0,o.useCallback)(e=>{let{collectionSlug:t,doc:n}=e;m?_([...Array.isArray(R)?R:[],{relationTo:t,value:n.id}]):!1===m&&_({relationTo:t,value:n.id}),eg()},[m,_,eg,R]),ey=(0,o.useRef)(!1),ew=(0,o.useCallback)(async e=>{let{filterOptions:t,hasMany:n,lastFullyLoadedRelation:a,lastLoadedPage:l,onSuccess:o,search:r,sort:i,value:s}=e;if(!U)return;let c="u">typeof a?a:-1,u=Array.isArray(P)?P:[P],d=-1===c?u:u.slice(c+1),p=0,h=uk(!0===n?{hasMany:!0,relationTo:P,value:s}:{hasMany:!1,relationTo:P,value:s});X||(await d.reduce(async(e,n)=>{let a=null==t?void 0:t[n],o;if(o=Z!==r?1:l[n]+1,await e,!1===a)return Y(u.indexOf(n)),Promise.resolve();if(p<10){var s;let e=M({collectionSlug:n}),t=(null==e||null==(s=e.admin)?void 0:s.useAsTitle)||"id",l=(null==e?void 0:e.defaultSort)||"id";"string"==typeof O?l=O:(null==O?void 0:O[n])&&(l=O[n]);let c={depth:0,draft:!0,limit:S,locale:H,page:o,select:{[t]:!0},sort:l,where:{and:[{id:{not_in:h[n]}}]}};r&&c.where.and.push({[t]:{like:r}}),a&&"boolean"!=typeof a&&c.where.and.push(a),u_(c.where);let d=await fetch("".concat(B).concat(F,"/").concat(n),{body:v.A(c),credentials:"include",headers:{"Accept-Language":z.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(d.ok){let t=await d.json();Q(e=>({...e,[n]:o})),t.nextPage||Y(u.indexOf(n)),t.docs.length>0&&(p+=t.docs.length,es({type:"ADD",collection:e,config:L,docs:t.docs,i18n:z,sort:i}))}else 403===d.status?(Y(u.indexOf(n)),es({type:"ADD",collection:e,config:L,docs:[],i18n:z,ids:h[n],sort:i})):$(V("error:unspecific"))}},Promise.resolve()),"function"==typeof o&&o())},[U,P,X,Z,M,O,S,H,B,F,z,L,V]),ej=uS(e=>{let{hasMany:t,search:n,value:a}=e;ew({filterOptions:f,lastLoadedPage:{},search:n,sort:!0,hasMany:t,value:a}),J(n)},300),eC=(0,o.useCallback)(e=>{Z!==e.search&&(Q({}),ej(e))},[Z,ej]),eS=s4(e=>{let{hasMany:t,value:n}=e;Object.entries(uk({hasMany:t,relationTo:P,value:n})).reduce(async(e,t)=>{let[n,a]=t;await e;let l=a.filter(e=>!ei.find(t=>{var a;return null==t||null==(a=t.options)?void 0:a.find(t=>t.value===e&&t.relationTo===n)}));if(l.length>0){let e={depth:0,draft:!0,limit:l.length,locale:H,where:{id:{in:l}}};if(!X){let t=await fetch("".concat(B).concat(F,"/").concat(n),{body:v.A(e),credentials:"include",headers:{"Accept-Language":z.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),a=M({collectionSlug:n}),o=[];t.ok&&(o=(await t.json()).docs),es({type:"ADD",collection:a,config:L,docs:o,i18n:z,ids:l,sort:!0})}}},Promise.resolve())}),e_=(0,o.useCallback)(e=>{es({type:"UPDATE",collection:e.collectionConfig,config:L,doc:e.doc,i18n:z});let t=e.doc.id;m?_((eu.current?Array.isArray(eu.current)?eu.current:[eu.current]:[]).map(n=>({relationTo:n.value===t?e.collectionConfig.slug:n.relationTo,value:n.value}))):!1===m&&_({relationTo:e.collectionConfig.slug,value:t})},[z,L,m,_]),ek=(0,o.useCallback)(e=>{es({type:"ADD",collection:e.collectionConfig,config:L,docs:[e.doc],i18n:z,sort:!0}),m?_(eu.current?eu.current.concat({relationTo:e.collectionConfig.slug,value:e.doc.id}):null):!1===m&&_({relationTo:e.collectionConfig.slug,value:e.doc.id})},[z,L,m,_]),eN=(0,o.useCallback)(e=>{es({id:e.id,type:"REMOVE",collection:e.collectionConfig,config:L,i18n:z}),_(m&&eu.current?eu.current.filter(t=>t.value!==e.id):null)},[z,L,m,_]),eD=(0,o.useCallback)((e,t)=>{if(!t)return!0;let n=(0,E.A)(t||""),a=String(e.label);for(;a.length>250;){let e=a.indexOf(" ",t.length);if(n.test(a.slice(0,-1===e?t.length:e+1)))return!0;a=a.slice(-1===e?t.length:e+1)}return n.test(a.slice(-250))},[]),eE=(0,o.useCallback)(e=>{let{id:t,collectionSlug:n,hasReadPermission:a,openInNewTab:l}=e;if(l){if(a&&t&&n){let e=(0,g.Q)({adminRoute:L.routes.admin,path:"/collections/".concat(n,"/").concat(t)});window.open(e,"_blank")}}else ey.current=!0,K({id:t,collectionSlug:n,hasReadPermission:a})},[L.routes.admin]),eP=s4(async e=>await ew(e));(0,o.useEffect)(()=>{er.current&&el&&(et(!0),eP({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{er.current=!0,et(!1)},...{hasMany:m,value:eu.current}})),es({type:"CLEAR",exemptValues:eu.current}),Y(-1),Q({})},[P,f,H,k,el,m]);let eT=(0,o.useRef)(R),eA=(0,o.useRef)(!0);(0,o.useEffect)(()=>{(eA.current||!(0,b.j)(R,eT.current))&&eS({hasMany:m,value:R}),eA.current=!1,eT.current=R},[R,m]),(0,o.useEffect)(()=>{ea(!(Array.isArray(P)?P:[P]).reduce((e,t)=>{var n,a;return"id"===((null==(a=M({collectionSlug:t}))||null==(n=a.admin)?void 0:n.useAsTitle)||"id")&&e},!0))},[P,M]),(0,o.useEffect)(()=>{ey.current&&(eh(),ey.current=!1)},[eh,q]);let eO=uN({allowEdit:a,options:ei,value:R});return Array.isArray(eO)||(null==eO?void 0:eO.value)!=="null"||(eO.value=null),(0,u.jsxs)("div",{className:[lL,uV,c,A&&"error",X&&"error-loading",D&&"".concat(uV,"--read-only"),!D&&n&&"".concat(uV,"--allow-create")].filter(Boolean).join(" "),id:"field-".concat(k.replace(/\./g,"__")),style:I,children:[(0,u.jsx)(ec,{CustomComponent:j,Fallback:(0,u.jsx)(aN,{label:w,localized:C,path:k,required:T})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:h,Fallback:(0,u.jsx)(tV,{path:k,showError:A})}),r,!X&&(0,u.jsxs)("div",{className:"".concat(uV,"__wrap"),children:[(0,u.jsx)(sV,{backspaceRemovesValue:!(ep||ev),components:{MultiValueLabel:uA,SingleValue:uM,..."select"!==l&&{DropdownIndicator:null}},customProps:{disableKeyDown:ep||ev,disableMouseDown:ep||ev,onDocumentOpen:eE,onSave:e_},disabled:D||ep||ev,filterOption:en?eD:void 0,getOptionValue:e=>{if(e)return m&&Array.isArray(P)?"".concat(e.relationTo,"_").concat(e.value):e.value},isLoading:"select"===l&&ee,isMulti:m,isSearchable:"select"===l,isSortable:y,menuIsOpen:"select"===l&&el,onChange:D?void 0:e=>{m?_(null===e?[]:e):!1===m&&_(null===e?null:e)},onInputChange:e=>eC({search:e,hasMany:m,value:R}),onMenuClose:()=>{eo(!1)},onMenuOpen:()=>{"drawer"===l?setTimeout(()=>{eb()},50):"select"===l&&(eo(!0),er.current||(et(!0),ew({filterOptions:f,lastLoadedPage:{},onSuccess:()=>{er.current=!0,et(!1)},hasMany:m,value:R})))},onMenuScrollToBottom:()=>{ew({filterOptions:f,lastFullyLoadedRelation:W,lastLoadedPage:G,search:Z,sort:!1,hasMany:m,value:x})},options:ei,placeholder:N,showError:A,value:null!=eO?eO:null}),!D&&n&&(0,u.jsx)(ug,{path:k,relationTo:P,hasMany:m,onChange:_,value:R})]}),X&&(0,u.jsx)("div",{className:"".concat(uV,"__error-loading"),children:X}),t,(0,u.jsx)(ec,{CustomComponent:p,Fallback:(0,u.jsx)(tz,{description:d,path:k})})]}),q.collectionSlug&&q.hasReadPermission&&(0,u.jsx)(ed,{onDelete:eN,onDuplicate:ek,onSave:e_}),"drawer"===l&&!D&&(0,u.jsx)(em,{allowCreate:n,enableRowSelections:!1,onSelect:ex})]})},uH=lI(e=>{let{field:t,field:{admin:{allowCreate:n=!0,allowEdit:a=!0,appearance:l="select",className:r,description:i,isSortable:s=!0,placeholder:c,sortOptions:d}={},hasMany:p,label:h,localized:f,relationTo:m,required:g},path:v,readOnly:b,validate:x}=e,{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,filterOptions:k,initialValue:N,path:D,setValue:E,showError:P,value:T}=lT({potentiallyStalePath:v,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,required:g})},[x,g])}),A=(0,o.useMemo)(()=>lR(t),[t]),O=Array.isArray(m),[I]=o.useState(()=>Array.isArray(m)?m:[m]),R=(0,o.useCallback)(e=>{if(!e)return void E(null,e===T);let t=!1;t=O?Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>{let a=e[n];return t.value===a.value&&t.relationTo===a.relationTo}):Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>t===e[n].value),E(e.map(e=>O?e:e.value),t)},[O,E,T]),L=(0,o.useCallback)(e=>{if(!e)return void E(null,e===T);let t=!1;t=O?T&&e&&T.value===e.value&&T.relationTo===e.relationTo:T&&e&&T===e.value,E(O?e:e.value,t)},[O,E,T]),M=o.useMemo(()=>!0===p?Array.isArray(T)?T.map(e=>O?e:{relationTo:Array.isArray(I)?I[0]:I,value:e}):T:T&&(O?T:{relationTo:Array.isArray(I)?I[0]:I,value:T}),[p,T,O,I]),F=o.useMemo(()=>!0===p?Array.isArray(N)?N.map(e=>O?e:{relationTo:Array.isArray(I)?I[0]:I,value:e}):N:N&&(O?N:{relationTo:Array.isArray(I)?I[0]:I,value:N}),[N,O,I,p]);return(0,u.jsx)(uU,{AfterInput:y,allowCreate:n,allowEdit:a,appearance:l,BeforeInput:w,className:r,Description:j,description:i,Error:C,filterOptions:k,isSortable:s,Label:S,label:h,localized:f,maxResultsPerRequest:10,maxRows:null==t?void 0:t.maxRows,minRows:null==t?void 0:t.minRows,path:D,placeholder:c,readOnly:b||_,relationTo:I,required:g,showError:P,sortOptions:d,style:A,...!0===p?{hasMany:!0,initialValue:F,onChange:R,value:M}:{hasMany:!1,initialValue:F,onChange:L,value:M}})}),uq=()=>null,uK=lI(e=>{let{field:{admin:{className:t,style:n}={},fields:a},forceRender:l=!1,indexPath:o="",parentPath:r="",parentSchemaPath:i="",permissions:s,readOnly:c}=e;return(0,u.jsx)(sG,{children:(0,u.jsx)("div",{className:[lL,"row",t].filter(Boolean).join(" "),style:n||void 0,children:(0,u.jsx)(hL,{className:"".concat("row","__fields"),fields:a,forceRender:l,margins:!1,parentIndexPath:o,parentPath:r,parentSchemaPath:i,permissions:s,readOnly:c})})})}),uW=e=>{let t=(0,d.c)(41),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,filterOption:c,hasMany:h,isClearable:f,isSortable:m,label:g,Label:v,localized:b,onChange:x,onInputChange:y,options:w,path:j,placeholder:C,readOnly:S,required:_,showError:k,style:N,value:D}=e,E=void 0!==h&&h,P=void 0===f||f,T=void 0===m||m,{i18n:A}=(0,s.d)(),O;if(t[0]!==n||t[1]!==a||t[2]!==o||t[3]!==i||t[4]!==v||t[5]!==l||t[6]!==r||t[7]!==c||t[8]!==E||t[9]!==A||t[10]!==P||t[11]!==T||t[12]!==g||t[13]!==b||t[14]!==x||t[15]!==y||t[16]!==w||t[17]!==j||t[18]!==C||t[19]!==S||t[20]!==_||t[21]!==k||t[22]!==N||t[23]!==D){let e,s;if(E&&Array.isArray(D)){let n;t[25]!==A||t[26]!==w?(n=e=>{var t;let n=w.find(t=>t.value===e);return{label:n?(0,p.sC)(n.label,A):e,value:null!=(t=null==n?void 0:n.value)?t:e}},t[25]=A,t[26]=w,t[27]=n):n=t[27],e=D.map(n)}else if(D){var I;let n,a;if(t[28]!==A||t[29]!==w||t[30]!==D){let e;t[33]!==D?(e=e=>e.value===D,t[33]=D,t[34]=e):e=t[34],a=(n=w.find(e))?(0,p.sC)(n.label,A):D,t[28]=A,t[29]=w,t[30]=D,t[31]=n,t[32]=a}else n=t[31],a=t[32];e={label:a,value:null!=(I=null==n?void 0:n.value)?I:D}}else e=null;let d=k&&"error",h=S&&"read-only",f;t[35]!==l||t[36]!==d||t[37]!==h?(f=[lL,"select",l,d,h].filter(Boolean),t[35]=l,t[36]=d,t[37]=h,t[38]=f):f=t[38],t[39]!==A?(s=e=>({...e,label:(0,p.sC)(e.label,A)}),t[39]=A,t[40]=s):s=t[40],O=(0,u.jsxs)("div",{className:f.join(" "),id:"field-".concat(j.replace(/\./g,"__")),style:N,children:[(0,u.jsx)(ec,{CustomComponent:v,Fallback:(0,u.jsx)(aN,{label:g,localized:b,path:j,required:_})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:i,Fallback:(0,u.jsx)(tV,{path:j,showError:k})}),a,(0,u.jsx)(sV,{disabled:S,filterOption:c,isClearable:P,isMulti:E,isSortable:T,onChange:x,onInputChange:y,options:w.map(s),placeholder:C,showError:k,value:e}),n]}),(0,u.jsx)(ec,{CustomComponent:o,Fallback:(0,u.jsx)(tz,{description:r,path:j})})]}),t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=v,t[5]=l,t[6]=r,t[7]=c,t[8]=E,t[9]=A,t[10]=P,t[11]=T,t[12]=g,t[13]=b,t[14]=x,t[15]=y,t[16]=w,t[17]=j,t[18]=C,t[19]=S,t[20]=_,t[21]=k,t[22]=N,t[23]=D,t[24]=O}else O=t[24];return O},uY=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),uG=lI(e=>{let{field:t,field:{name:n,admin:{className:a,description:l,isClearable:r=!0,isSortable:i=!0,placeholder:s}={},hasMany:c=!1,label:d,localized:p,options:h=[],required:f},onChange:m,path:g,readOnly:v,validate:b}=e,x=o.useMemo(()=>uY(h),[h]),{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,path:k,selectFilterOptions:N,setValue:D,showError:E,value:P}=lT({potentiallyStalePath:g,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof b)return b(e,{...t,hasMany:c,options:x,required:f})},[b,f,c,x])}),T=(0,o.useCallback)(e=>{if(!v||_){let t=null;e&&c?t=Array.isArray(e)?e.map(e=>e.value):[]:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof m&&m(t),D(t)}},[v,_,c,D,m]),A=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsx)(uW,{AfterInput:y,BeforeInput:w,className:a,Description:j,description:l,Error:C,filterOption:N?e=>{let{value:t}=e;return null==N?void 0:N.some(e=>("string"==typeof e?e:e.value)===t)}:void 0,hasMany:c,isClearable:r,isSortable:i,Label:S,label:d,localized:p,name:n,onChange:T,options:x,path:k,placeholder:s,readOnly:v||_,required:f,showError:E,style:A,value:P})}),uQ=(0,c.e)(el(),1);function uX(e){let t=(0,d.c)(5),{errorMessage:n}=e,a;t[0]!==n?(a=()=>(function(e){let[t,n]=e.split(":");if(!n)return{message:t};let a=n.split(",").map(e=>e.replaceAll(" > "," → ").trim());return 1===a.length?{errors:a,message:"".concat(t,":")}:{errors:function(e){let t=[];for(let n of e)if(n){let e=n.split(" → "),a=!1;for(let l=0;l<t.length;l++)if(t[l].startsWith(e[0])){t.splice(l+1,0,n),a=!0;break}a||t.push(n)}return t}(a),message:"".concat(t," (").concat(a.length,"):")}})(n),t[0]=n,t[1]=a):a=t[1];let[l]=o.useState(a),{errors:r,message:i}=l,s;return t[2]!==r||t[3]!==i?(s=(0,u.jsxs)("div",{children:[i,Array.isArray(r)&&r.length>0?(0,u.jsx)("ul",{"data-testid":"field-errors",children:r.map(u$)}):null]}),t[2]=r,t[3]=i,t[4]=s):s=t[4],s}function u$(e,t){return(0,u.jsx)("li",{children:e},t)}function uZ(e,t,n){let a,l,r,i=(0,d.c)(11),s;i[0]!==e?(s=()=>e,i[0]=e,i[1]=s):s=i[1];let[c,u]=(0,o.useState)(s),p;i[2]!==n||i[3]!==e?(p=()=>{let t=setTimeout(()=>{u(()=>e)},n);return()=>{clearTimeout(t)}},i[2]=n,i[3]=e,i[4]=p):p=i[4],i[5]!==n||i[6]!==t?(a=[...t,n],i[5]=n,i[6]=t,i[7]=a):a=i[7],(0,o.useEffect)(p,a),i[8]!==c?(l=()=>{c()},r=[c],i[8]=c,i[9]=l,i[10]=r):(l=i[9],r=i[10]),(0,o.useEffect)(l,r)}function uJ(){let e=(0,o.useRef)([]),t=(0,o.useRef)(!1);return{queueTask:(0,o.useCallback)((n,a)=>{e.current.push(n),async function(){if(!t.current&&("function"!=typeof(null==a?void 0:a.beforeProcess)||!1!==a.beforeProcess()))for(;e.current.length>0;){let n=e.current.pop();e.current=[],t.current=!0;try{await n()}catch(e){console.error("Error in queued function:",e)}finally{t.current=!1,"function"==typeof(null==a?void 0:a.afterProcess)&&a.afterProcess()}}}()},[])}}var u0=o.createContext(null),u1=e=>{let t=(0,d.c)(6),{children:n}=e,[a,l]=(0,o.useState)(u2),r;t[0]!==a?(r=e=>{let{collectionSlug:t}=e;return a.get(t)},t[0]=a,t[1]=r):r=t[1];let i=r,s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{let{collectionSlug:t,handler:n}=e;l(e=>{let a=new Map(e);return a.set(t,n),a})},t[2]=s):s=t[2];let c=s,p;return t[3]!==n||t[4]!==i?(p=(0,u.jsx)(u0,{value:{getUploadHandler:i,setUploadHandler:c},children:n}),t[3]=n,t[4]=i,t[5]=p):p=t[5],p},u3=()=>{let e=o.use(u0);if(null===e)throw Error("useUploadHandlers must be used within UploadHandlersProvider");return e};function u2(){return new Map}var u6={413:"Your request was too large to submit successfully."},u5=(0,c.e)(ea(),1),u4=e=>{var t;let{acceptValues:n,currentState:a={},incomingState:l}=e,o={...a};for(let[e,r]of Object.entries(l||{}))(e in a||r.addedByServer)&&(n||r.addedByServer||(delete r.value,delete r.initialValue),o[e]={...a[e],...r},Array.isArray(r.rows)&&e in a&&(o[e].rows=[...(null==(t=a[e])?void 0:t.rows)||[]],r.rows.forEach(t=>{let n=a[e].rows.findIndex(e=>e.id===t.id);n>-1&&(o[e].rows[n]={...a[e].rows[n],...t})})),!1!==r.valid&&(o[e].valid=!0),!1!==r.passesCondition&&(o[e].passesCondition=!0),delete o[e].addedByServer);return(0,b.j)(o,a)?a:o},u8=(e,t)=>{let n={},a=Object.entries(t).reduce((t,a)=>{let[l,o]=a;if(0===l.indexOf("".concat(e,"."))){let[n]=l.replace("".concat(e,"."),"").split(".");t[n]||(t[n]={}),t[n][l.replace("".concat(e,".").concat(String(n),"."),"")]={...o}}else n[l]=o;return t},[]);return{remainingFields:n,rows:a}},u7=(e,t)=>t.reduce((t,n,a)=>({...t,...Object.entries(n).reduce((t,n)=>{let[l,o]=n;return{...t,["".concat(e,".").concat(a,".").concat(l)]:{...o}}},{})}),{}),u9=u5.default.default||u5.default;function de(e,t){var n,a,l,o,r,i,s;switch(t.type){case"ADD_ROW":{let{blockType:r,path:i,rowIndex:s,subFieldState:c={}}=t,u="number"==typeof s?s:(null==(a=e[i])||null==(n=a.rows)?void 0:n.length)||0,d=[...(null==(l=e[i])?void 0:l.rows)||[]],p={id:(null==c||null==(o=c.id)?void 0:o.value)||new u9().toHexString(),collapsed:!1,isLoading:!0};r&&(p.blockType=r),d.splice(u,0,p),r&&(c.blockType={initialValue:r,valid:!0,value:r});let{remainingFields:h,rows:f}=u8(i,e);return f.splice(u,0,c),{...h,...u7(i,f),["".concat(i,".").concat(u,".id")]:{initialValue:p.id,passesCondition:!0,valid:!0,value:p.id},[i]:{...e[i],disableFormData:!0,rows:d,value:f.length}}}case"ADD_SERVER_ERRORS":{let n={...e},a=[];return t.errors.forEach(e=>{let{message:t,path:l}=e;n[l]={...n[l]||{initialValue:null,value:null},errorMessage:t,valid:!1};let o=l.split(".");o.length>1&&a.push({fieldErrorPath:l,parentPath:o.slice(0,o.length-1).join(".")})}),n=Object.entries(n).reduce((e,t)=>{let[n,l]=t,o=a.reduce((e,t)=>{let{fieldErrorPath:a,parentPath:l}=t;return l.startsWith(n)&&e.push(a),e},[]),r=!1;if(o.length>0){let t=Array.isArray(l.errorPaths)?l.errorPaths:[];o.forEach(e=>{t.includes(e)||(t.push(e),r=!0)}),r&&(e[n]={...l,errorPaths:t})}return r||(e[n]=l),e},{})}case"DUPLICATE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:l,rows:o}=u8(n,e),r=[...e[n].rows||[]],i=(0,A.KS)(r[a]);i.id&&(i.id=new u9().toHexString());let s=(0,A.KS)(o[a]);for(let e of(s.id&&(s.id.value=new u9().toHexString(),s.id.initialValue=new u9().toHexString()),Object.keys(s).filter(e=>e.endsWith(".id")))){let t=s[e];t&&"string"==typeof t.value&&u9.isValid(t.value)&&(s[e].value=new u9().toHexString(),s[e].initialValue=new u9().toHexString())}return Object.keys(s).length>0&&(o.splice(a+1,0,s),r.splice(a+1,0,i)),{...l,...u7(n,o),[n]:{...e[n],disableFormData:!0,rows:r,value:o.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:n,prevStateRef:a,serverState:l}=t,o=u4({acceptValues:n,currentState:e||{},incomingState:l});return a.current=o,o}case"MOVE_ROW":{let{moveFromIndex:n,moveToIndex:a,path:l}=t,{remainingFields:o,rows:i}=u8(l,e),s=i[n];i.splice(n,1),i.splice(a,0,s);let c=[...(null==(r=e[l])?void 0:r.rows)||[]],u={...c[n]};return c.splice(n,1),c.splice(a,0,u),{...o,...u7(l,i),[l]:{...e[l],rows:c}}}case"REMOVE":{let n={...e};return n[t.path]&&delete n[t.path],n}case"REMOVE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:l,rows:o}=u8(n,e),r=[...(null==(i=e[n])?void 0:i.rows)||[]];return o.splice(a,1),r.splice(a,1),{...l,[n]:{...e[n],disableFormData:o.length>0,rows:r,value:o.length},...u7(n,o)}}case"REPLACE_ROW":{let{blockType:n,path:a,rowIndex:l,subFieldState:o={}}=t,{remainingFields:r,rows:i}=u8(a,e),c=Math.max(0,Math.min(l,(null==i?void 0:i.length)-1||0)),u=[...(null==(s=e[a])?void 0:s.rows)||[]];return u[c]={id:new u9().toHexString(),blockType:n||void 0,collapsed:!1},n&&(o.blockType={initialValue:n,valid:!0,value:n}),i[c]=o,{...r,...u7(a,i),[a]:{...e[a],disableFormData:!0,rows:u,value:i.length}}}case"REPLACE_STATE":if(!1!==t.optimize){let n={};for(let[a,l]of Object.entries(t.state)){let t=e[a];!1!==l.valid&&(l.valid=!0),!1!==l.passesCondition&&(l.passesCondition=!0),(0,b.j)(t,l)?t&&(n[a]=t):n[a]=l}return n}if(t.sanitize)for(let e of Object.values(t.state))!1!==e.valid&&(e.valid=!0),!1!==e.passesCondition&&(e.passesCondition=!0);return t.state;case"SET_ALL_ROWS_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"SET_ROW_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"UPDATE":{let n=Object.entries(t).reduce((e,t)=>{let[n,a]=t;return["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(n)?{...e,[n]:a}:e},(null==e?void 0:e[t.path])||{});return{...e,[t.path]:n}}case"UPDATE_MANY":{let n={...e};return Object.entries(t.formState).forEach(e=>{let[t,a]=e;n[t]=a}),n}default:return e}}var dt={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setBackgroundProcessing:()=>{},setDisabled:()=>{},setIsValid:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}},dn=e=>{let{id:t,collectionSlug:n,docConfig:a,docPermissions:l,getDocPreferences:r,globalSlug:c}=lC(),{action:d,beforeSubmit:p,children:h,className:m,disabled:g,disableSuccessStatus:v,disableValidationOnSubmit:x,el:y,handleResponse:w,initialState:j,isDocumentForm:C,isInitializing:S,onChange:_,onSubmit:k,onSuccess:N,redirect:D,submitted:E,uuid:P,waitForAutocomplete:L}=e,M="method"in e?null==e?void 0:e.method:void 0,F=(0,f.useRouter)(),B=eD(),{code:z}=aS(),{i18n:V,t:U}=(0,s.d)(),{refreshCookie:H,user:q}=af(),K=lD(),{queueTask:W}=uJ(),{getFormState:Y}=cr(),{startRouteTransition:G}=eH(),{getUploadHandler:Q}=u3(),{config:X}=(0,i.b)(),[$,Z]=(0,o.useState)(g||!1),[J,ee]=(0,o.useState)(!1),[et,en]=(0,o.useState)(!1),[ea,el]=(0,o.useState)(!0),[eo,er]=(0,o.useState)(S),[ei,es]=(0,o.useState)(!1),[ec,eu]=(0,o.useState)(!1),[ed,ep]=(0,o.useState)(!1),eh=(0,o.useRef)(null),ef=(0,o.useRef)({}),em=(0,o.useRef)(null),eg=(0,o.useRef)(!0),ev=(0,o.useReducer)(de,{},()=>j),[eN,eE]=ev;ef.current.fields=eN;let eP=(0,o.useRef)(eN),eT=(0,o.useCallback)(async()=>{let e={},a=!0,l=ef.current.getData(),o=Object.entries(ef.current.fields).map(async o=>{let[r,i]=o,s=r?r.split("."):[];if(!1!==i.passesCondition){let e=i.valid;if("validate"in i&&"function"==typeof i.validate){let a=i.value;(null==i?void 0:i.rows)&&Array.isArray(i.rows)&&(a=ef.current.getDataByPath(r)),"string"==typeof(e=await i.validate(a,{...i,id:t,collectionSlug:n,blockData:void 0,data:(null==B?void 0:B.getData)?B.getData():l,event:"submit",operation:K,path:s,preferences:{},req:{payload:{config:X},t:U,user:q},siblingData:ef.current.getSiblingData(r)}))?(i.errorMessage=e,i.valid=!1):(i.valid=!0,i.errorMessage=void 0)}!1===i.valid&&(a=!1)}e[r]=i});return await Promise.all(o),(0,b.j)(ef.current.fields,e)||eE({type:"REPLACE_STATE",state:e}),el(a),a},[n,X,eE,t,K,U,q,B]),eA=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{action:n=d,method:a=M,overrides:l={},skipValidation:o}=e;if($){t&&t.preventDefault();return}let r,i,s=new Promise((e,t)=>{i=e,r=t}),c=n||"string"==typeof d||"function"==typeof d;if(D||v||!c?(i=e=>n0.success(e),r=e=>n0.error(e)):n0.promise(s,{error:e=>e,loading:U("general:submitting"),success:e=>e}),t&&(t.stopPropagation(),t.preventDefault()),es(!0),Z(!0),L&&await (0,T.u)(100),Array.isArray(p)){let e,t=(0,A.KS)(ef.current.fields);await p.reduce(async(n,a)=>{await n,e=await a({formState:t})},Promise.resolve());let n=Object.entries(e).every(e=>{let[,t]=e;return!1!==t.valid});if(el(n),!n)return es(!1),ep(!0),Z(!1),eE({type:"REPLACE_STATE",state:e})}let h=!!o||!!x||await ef.current.validateForm();if(el(h),!h){r(U("error:correctInvalidFields")),es(!1),ep(!0),Z(!1);return}let f={};if("function"==typeof l?f=l(ef.current.fields):"object"==typeof l&&(f=l),k){let e=(0,A.KS)(ef.current.fields),t=(0,O.r)(e,!0);for(let[e,n]of Object.entries(f))t[e]=n;k(e,t)}if(!c){es(!1),ep(!0),Z(!1);return}let m=await ef.current.createFormData(f,{mergeOverrideData:"function"!=typeof l});try{let e;if("string"==typeof n?e=await ad[a.toLowerCase()](n,{body:m,headers:{"Accept-Language":V.language}}):"function"==typeof d&&(e=await d(m)),en(!1),Z(!1),"function"==typeof w)return void w(e,i,r);let t=e.headers.get("content-type"),l=t&&-1!==t.indexOf("application/json"),o={};if(l&&(o=await e.json()),e.status<400){if("function"==typeof N){let e=await N(o);e&&eE({type:"MERGE_SERVER_STATE",acceptValues:!0,prevStateRef:eP,serverState:e})}ep(!1),es(!1),D?G(()=>F.push(D)):v||i(o.message||U("general:submissionSuccessful"))}else{if(es(!1),ep(!0),ef.current={...ef.current},o.message)return void r(o.message);if(Array.isArray(o.errors)){let[e,t]=o.errors.reduce((e,t)=>{var n,a;let[l,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(a=t.data)||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...l,...r],[...o,...i]]},[[],[]]);el(!1),eE({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{r((0,u.jsx)(uX,{errorMessage:e.message||U("error:unknown")}))});return}let t=(null==u6?void 0:u6[e.status])||(null==e?void 0:e.statusText)||U("error:unknown");r(t)}}catch(e){console.error("Error submitting form",e),es(!1),ep(!0),Z(!1),r(e.message)}},[p,G,d,v,x,$,eE,w,M,k,N,D,F,U,V,L]),eO=(0,o.useCallback)(()=>ef.current.fields,[]),eI=(0,o.useCallback)(e=>ef.current.fields[e],[]),eR=(0,o.useCallback)(()=>(0,O.r)(ef.current.fields,!0),[]),eL=(0,o.useCallback)(e=>(0,I.d)(ef.current.fields,e),[]),eM=(0,o.useCallback)(e=>(0,R.Z)(ef.current.fields,e),[]),eF=(0,o.useCallback)(async(e,t)=>{let{mergeOverrideData:l=!0}=t,o=(0,O.r)(ef.current.fields,!0),r=null==o?void 0:o.file;if(a&&"upload"in a&&a.upload&&r){delete o.file;let e=Q({collectionSlug:n});if("function"==typeof e){let t=r.name;r=JSON.stringify({clientUploadContext:await e({file:r,updateFilename:e=>{t=e}}),collectionSlug:n,filename:t,mimeType:r.type,size:r.size})}}let i={_payload:JSON.stringify(o=l?{...o,...e}:e)};return a&&"upload"in a&&a.upload&&r&&(i.file=r),(0,uQ.serialize)(i,{indices:!0,nullsAsUndefineds:!1})},[n,a,Q]),eB=(0,o.useCallback)(async e=>{let a=c_(em),o=await r(),{state:i}=await Y({id:t,collectionSlug:n,data:e,docPermissions:l,docPreferences:o,globalSlug:c,locale:z,operation:K,renderAllFields:!0,schemaPath:n||c,signal:a.signal,skipValidation:!0});ef.current={...dt},en(!1),eE({type:"REPLACE_STATE",state:i}),em.current=null},[n,eE,c,t,K,Y,l,r,z]),ez=(0,o.useCallback)(e=>{ef.current={...dt},en(!1),eE({type:"REPLACE_STATE",state:e})},[eE]),eV=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:l}=e,o=eM(n)||[];eE({type:"ADD_ROW",blockType:t,path:n,rowIndex:void 0===a?o.length:a,subFieldState:l}),en(!0)},[eE,eM]),eU=(0,o.useCallback)(e=>{let{moveFromIndex:t,moveToIndex:n,path:a}=e;eE({type:"MOVE_ROW",moveFromIndex:t,moveToIndex:n,path:a}),en(!0)},[eE]),eq=(0,o.useCallback)(e=>{let{path:t,rowIndex:n}=e;eE({type:"REMOVE_ROW",path:t,rowIndex:n}),en(!0)},[eE]),eK=(0,o.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:l}=e,o=eM(n);eE({type:"REPLACE_ROW",blockType:t,path:n,rowIndex:void 0===a?o.length:a,subFieldState:l}),en(!0)},[eE,eM]);(0,o.useEffect)(()=>{let e=em.current;return()=>{cS(e)}},[]),(0,o.useEffect)(()=>{void 0!==S&&er(S)},[S]),ef.current.submit=eA,ef.current.getFields=eO,ef.current.getField=eI,ef.current.getData=eR,ef.current.getSiblingData=eL,ef.current.getDataByPath=eM,ef.current.validateForm=eT,ef.current.createFormData=eF,ef.current.setModified=en,ef.current.setProcessing=es,ef.current.setBackgroundProcessing=eu,ef.current.setSubmitted=ep,ef.current.setIsValid=el,ef.current.disabled=$,ef.current.setDisabled=Z,ef.current.formRef=eh,ef.current.reset=eB,ef.current.replaceState=ez,ef.current.dispatchFields=eE,ef.current.addFieldRow=eV,ef.current.removeFieldRow=eq,ef.current.moveFieldRow=eU,ef.current.replaceFieldRow=eK,ef.current.uuid=P,ef.current.initializing=eo,ef.current.isValid=ea,(0,o.useEffect)(()=>{ee(!0)},[]),(0,o.useEffect)(()=>{"boolean"==typeof g&&Z(g)},[g]),(0,o.useEffect)(()=>{"boolean"==typeof E&&ep(E)},[E]),(0,o.useEffect)(()=>{j&&(ef.current={...dt},eE({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:j}))},[j,eE]),aP(()=>{H()},15e3,[eN]),(0,o.useEffect)(()=>{ef.current={...ef.current},en(!1)},[z]);let eW=[m,"form"].filter(Boolean).join(" "),eY=s4(e=>{W(async()=>{if(Array.isArray(_)){let t;for(let n of _)t=await n({formState:(0,A.KS)(eN),submitted:e});eE({type:"MERGE_SERVER_STATE",prevStateRef:eP,serverState:t})}})});uZ(()=>{(eg.current||!(0,b.j)(eN,eP.current))&&et&&eY(ed),eP.current=eN,eg.current=!1},[et,ed,eN],250);let eG=C?ex:o.Fragment,eQ=C?{value:ef.current}:{};return(0,u.jsx)(y||"form",{action:"function"==typeof d?void 0:d,className:eW,method:M,noValidate:!0,onSubmit:e=>void ef.current.submit({},e),ref:eh,children:(0,u.jsx)(eG,{...eQ,children:(0,u.jsx)(eb,{value:ef.current,children:(0,u.jsx)(ey,{value:{fields:eN,...ef.current},children:(0,u.jsx)(ew,{value:ed,children:(0,u.jsx)(e_,{value:!J||J&&eo,children:(0,u.jsx)(ej,{value:ei,children:(0,u.jsx)(eC,{value:ec,children:(0,u.jsx)(eS,{value:et,children:(0,u.jsx)(ek.Provider,{value:ev,children:h})})})})})})})})})})},da="tabs-field__tab-button",dl=e=>{let t=(0,d.c)(15),{hidden:n,isActive:a,parentPath:l,setIsActive:r,tab:i}=e,{i18n:c}=(0,s.d)(),[h,f]=(0,o.useState)(void 0),m;if(t[0]!==h||t[1]!==n||t[2]!==c||t[3]!==a||t[4]!==l||t[5]!==r||t[6]!==i){let e,s=[...l?l.split(".").slice(0,-1):[],...(0,x.pz)(i)?[i.name]:[]],d=h>0,g=(0,u.jsx)(oD,{fields:i.fields,path:s,setErrorCount:f}),v=d&&"".concat(da,"--has-error"),b=a&&"".concat(da,"--active"),y=n&&"".concat(da,"--hidden"),w;t[8]!==v||t[9]!==b||t[10]!==y?(w=[da,v,b,y].filter(Boolean),t[8]=v,t[9]=b,t[10]=y,t[11]=w):w=t[11],t[12]!==c||t[13]!==i?(e=i.label?(0,p.sC)(i.label,c):(0,x.pz)(i)?i.name:"",t[12]=c,t[13]=i,t[14]=e):e=t[14],m=(0,u.jsxs)(o.Fragment,{children:[g,(0,u.jsxs)("button",{className:w.join(" "),onClick:r,type:"button",children:[e,d&&(0,u.jsx)(tF,{count:h,i18n:c})]})]}),t[0]=h,t[1]=n,t[2]=c,t[3]=a,t[4]=l,t[5]=r,t[6]=i,t[7]=m}else m=t[7];return m},dr="tabs-field";function di(e){let{activeTabConfig:t,path:n}=e,a=n;return(0,x.pz)(t)&&t.name&&(a=n?"".concat(n,".").concat(t.name):t.name),a}var ds=lI(e=>{var t,n;let a,l,r=(0,d.c)(89),{field:i,forceRender:c,indexPath:p,parentPath:h,parentSchemaPath:f,path:m,permissions:g,readOnly:v}=e,{admin:b,tabs:y}=i,w;r[0]!==b?(w=void 0===b?{}:b,r[0]=b,r[1]=w):w=r[1];let{className:j}=w,C;r[2]!==y?(C=void 0===y?[]:y,r[2]=y,r[3]=C):C=r[3];let S=C,_=void 0!==c&&c,k=void 0===p?"":p,N=void 0===h?"":h,D=void 0===f?"":f,E=void 0===m?"":m,{getPreference:P,setPreference:T}=ab(),{preferencesKey:A}=lC(),{i18n:O}=(0,s.d)(),{isWithinCollapsible:I}=l1(),R;r[4]!==S?(R=e=>{let[t]=e;return S.map((e,n)=>{var a,l;let o=null==e?void 0:e.id;return{index:n,passesCondition:null==(l=null==t||null==(a=t[o])?void 0:a.passesCondition)||l,tab:e}})},r[4]=S,r[5]=R):R=r[5];let L=eR(R),M;r[6]!==L?(M=()=>{var e,t,n;return null!=(n=null==(t=L.filter(du))||null==(e=t[0])?void 0:e.index)?n:0},r[6]=L,r[7]=M):M=r[7];let[F,B]=(0,o.useState)(M),z="tabs-".concat(k),V;r[8]!==F||r[9]!==N||r[10]!==S?(V=()=>di({activeTabConfig:S[F],path:N}),r[8]=F,r[9]=N,r[10]=S,r[11]=V):V=r[11];let[U,H]=(0,o.useState)(V),q;r[12]!==D||r[13]!==S[0]?(q=()=>di({activeTabConfig:S[0],path:D}),r[12]=D,r[13]=S[0],r[14]=q):q=r[14];let[K,W]=(0,o.useState)(q),Y;r[15]!==F||r[16]!==U||r[17]!==N||r[18]!==S?(Y=(0,x.pz)(S[F])?U:N,r[15]=F,r[16]=U,r[17]=N,r[18]=S,r[19]=Y):Y=r[19];let G=Y,Q=L[F],X=null==Q?void 0:Q.tab,$;r[20]!==F||r[21]!==K||r[22]!==D||r[23]!==S?($=(0,x.pz)(S[F])?K:D,r[20]=F,r[21]=K,r[22]=D,r[23]=S,r[24]=$):$=r[24];let Z=$,J=null!=(n=null==(t=X.admin)?void 0:t.description)?n:X.description,ee;r[25]!==J||r[26]!==O?(ee="function"==typeof J?J({i18n:O,t:O.t}):J,r[25]=J,r[26]=O,r[27]=ee):ee=r[27];let et=ee,en=L.some(dd),ea;r[28]!==P||r[29]!==N||r[30]!==D||r[31]!==E||r[32]!==A||r[33]!==T||r[34]!==S||r[35]!==z?(ea=async e=>{var t,n;B(e),H(di({activeTabConfig:S[e],path:N})),W(di({activeTabConfig:S[e],path:D}));let a=await P(A);A&&T(A,{...a,...E?{fields:{...(null==a?void 0:a.fields)||{},[E]:{...null==a||null==(t=a.fields)?void 0:t[E],tabIndex:e}}}:{fields:{...null==a?void 0:a.fields,[z]:{...null==a||null==(n=a.fields)?void 0:n[z],tabIndex:e}}}})},r[28]=P,r[29]=N,r[30]=D,r[31]=E,r[32]=A,r[33]=T,r[34]=S,r[35]=z,r[36]=ea):ea=r[36];let el=ea,eo,er;r[37]!==P||r[38]!==N||r[39]!==D||r[40]!==E||r[41]!==A||r[42]!==S||r[43]!==z?(eo=()=>{A&&(async()=>{var e,t,n,a;let l=await P(A),o=(E?null==l||null==(t=l.fields)||null==(e=t[E])?void 0:e.tabIndex:null==l||null==(a=l.fields)||null==(n=a[z])?void 0:n.tabIndex)||0;B(o),H(di({activeTabConfig:S[o],path:N})),W(di({activeTabConfig:S[o],path:D}))})()},er=[E,P,A,z,S,N,D],r[37]=P,r[38]=N,r[39]=D,r[40]=E,r[41]=A,r[42]=S,r[43]=z,r[44]=eo,r[45]=er):(eo=r[44],er=r[45]),(0,o.useEffect)(eo,er),r[46]!==(null==Q?void 0:Q.passesCondition)||r[47]!==el||r[48]!==L?(a=()=>{if((null==Q?void 0:Q.passesCondition)===!1){let e=L.find(dp);e&&el(e.index)}},r[46]=null==Q?void 0:Q.passesCondition,r[47]=el,r[48]=L,r[49]=a):a=r[49],r[50]!==Q||r[51]!==el||r[52]!==L?(l=[Q,L,el],r[50]=Q,r[51]=el,r[52]=L,r[53]=l):l=r[53],(0,o.useEffect)(a,l);let ei=I&&"".concat(dr,"--within-collapsible"),es=!en&&"".concat(dr,"--hidden"),ec;r[54]!==j||r[55]!==ei||r[56]!==es?(ec=[lL,j,dr,ei,es].filter(Boolean),r[54]=j,r[55]=ei,r[56]=es,r[57]=ec):ec=r[57];let eu=ec.join(" "),ed;if(r[58]!==G||r[59]!==Z||r[60]!==X||r[61]!==F||r[62]!==Q||r[63]!==U||r[64]!==et||r[65]!==_||r[66]!==el||r[67]!==k||r[68]!==E||r[69]!==g||r[70]!==v||r[71]!==eu||r[72]!==L){let e,t;r[74]!==F||r[75]!==el||r[76]!==E?(e=e=>{let{index:t,passesCondition:n,tab:a}=e;return(0,u.jsx)(dl,{hidden:!n,isActive:F===t,parentPath:E,setIsActive:()=>{el(t)},tab:a},t)},r[74]=F,r[75]=el,r[76]=E,r[77]=e):e=r[77],r[78]!==G||r[79]!==Z||r[80]!==X||r[81]!==Q||r[82]!==U||r[83]!==et||r[84]!==_||r[85]!==k||r[86]!==g||r[87]!==v?(t=X&&(0,u.jsx)(dc,{description:et,fields:X.fields,forceRender:_,hidden:!1,parentIndexPath:(0,x.pz)(X)?"":"".concat(k?k+"-":"")+String(Q.index),parentPath:G,parentSchemaPath:Z,path:U,permissions:g&&"object"==typeof g&&"name"in X?g[X.name]&&"object"==typeof g[X.name]&&"fields"in g[X.name]?g[X.name].fields:g[X.name]:g,readOnly:v}),r[78]=G,r[79]=Z,r[80]=X,r[81]=Q,r[82]=U,r[83]=et,r[84]=_,r[85]=k,r[86]=g,r[87]=v,r[88]=t):t=r[88],ed=(0,u.jsx)("div",{className:eu,children:(0,u.jsxs)(s$,{children:[(0,u.jsx)("div",{className:"".concat(dr,"__tabs-wrap"),children:(0,u.jsx)("div",{className:"".concat(dr,"__tabs"),children:L.map(e)})}),(0,u.jsx)("div",{className:"".concat(dr,"__content-wrap"),children:t})]})}),r[58]=G,r[59]=Z,r[60]=X,r[61]=F,r[62]=Q,r[63]=U,r[64]=et,r[65]=_,r[66]=el,r[67]=k,r[68]=E,r[69]=g,r[70]=v,r[71]=eu,r[72]=L,r[73]=ed}else ed=r[73];return ed});function dc(e){let t=(0,d.c)(19),{description:n,fields:a,forceRender:l,hidden:o,label:r,parentIndexPath:i,parentPath:c,parentSchemaPath:h,permissions:f,readOnly:m}=e,{i18n:g}=(0,s.d)(),{customComponents:v,path:b}=lT(),x;t[0]!==v?(x=void 0===v?{}:v,t[0]=v,t[1]=x):x=t[1];let{AfterInput:y,BeforeInput:w,Description:j,Field:C}=x;if(C)return C;let S=o&&"".concat(dr,"__tab--hidden"),_=r&&"".concat(dr,"__tabConfigLabel-").concat((0,P.A)((0,p.sC)(r,g))),k;t[2]!==S||t[3]!==_?(k=[S,"".concat(dr,"__tab"),_].filter(Boolean),t[2]=S,t[3]=_,t[4]=k):k=t[4];let N=k.join(" "),D;return t[5]!==y||t[6]!==w||t[7]!==j||t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==i||t[12]!==c||t[13]!==h||t[14]!==b||t[15]!==f||t[16]!==m||t[17]!==N?(D=(0,u.jsxs)("div",{className:N,children:[(0,u.jsx)(ec,{CustomComponent:j,Fallback:(0,u.jsx)(tz,{description:n,marginPlacement:"bottom",path:b})}),w,(0,u.jsx)(hL,{fields:a,forceRender:l,parentIndexPath:i,parentPath:c,parentSchemaPath:h,permissions:f,readOnly:m}),y]}),t[5]=y,t[6]=w,t[7]=j,t[8]=n,t[9]=a,t[10]=l,t[11]=i,t[12]=c,t[13]=h,t[14]=b,t[15]=f,t[16]=m,t[17]=N,t[18]=D):D=t[18],D}function du(e){let{passesCondition:t}=e;return t}function dd(e){let{passesCondition:t}=e;return t}function dp(e){let{passesCondition:t}=e;return t}var dh=e=>{let t=(0,d.c)(31),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,hasMany:c,inputRef:h,Label:f,label:m,localized:g,maxRows:v,onChange:b,onKeyDown:x,path:y,placeholder:w,readOnly:j,required:C,rtl:S,showError:_,style:k,value:N,valueToRender:D}=e,{i18n:E,t:P}=(0,s.d)(),T=_&&"error",A=j&&"read-only",O=c&&"has-many",I;t[0]!==l||t[1]!==T||t[2]!==A||t[3]!==O?(I=[lL,"text",l,T,A,O].filter(Boolean),t[0]=l,t[1]=T,t[2]=A,t[3]=O,t[4]=I):I=t[4];let R=I.join(" "),L;return t[5]!==n||t[6]!==a||t[7]!==o||t[8]!==i||t[9]!==f||t[10]!==r||t[11]!==c||t[12]!==E||t[13]!==h||t[14]!==m||t[15]!==g||t[16]!==v||t[17]!==b||t[18]!==x||t[19]!==y||t[20]!==w||t[21]!==j||t[22]!==C||t[23]!==S||t[24]!==_||t[25]!==k||t[26]!==P||t[27]!==R||t[28]!==N||t[29]!==D?(L=(0,u.jsxs)("div",{className:R,style:k,children:[(0,u.jsx)(ec,{CustomComponent:f,Fallback:(0,u.jsx)(aN,{label:m,localized:g,path:y,required:C})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:i,Fallback:(0,u.jsx)(tV,{path:y,showError:_})}),a,c?(0,u.jsx)(sV,{className:"field-".concat(y.replace(/\./g,"__")),components:{DropdownIndicator:null},customProps:{editableProps:dm},disabled:j,filterOption:()=>!v||!(Array.isArray(N)&&v&&N.length>=v),isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(N)&&N.length>=v?P("validation:limitReached",{max:v,value:N.length+1}):null,onChange:b,options:[],placeholder:P("general:enterAValue"),showError:_,value:D}):(0,u.jsx)("input",{"data-rtl":S,disabled:j,id:"field-".concat(null==y?void 0:y.replace(/\./g,"__")),name:y,onChange:b,onKeyDown:x,placeholder:(0,p.sC)(w,E),ref:h,type:"text",value:N||""}),n,(0,u.jsx)(ec,{CustomComponent:o,Fallback:(0,u.jsx)(tz,{description:r,path:y})})]})]}),t[5]=n,t[6]=a,t[7]=o,t[8]=i,t[9]=f,t[10]=r,t[11]=c,t[12]=E,t[13]=h,t[14]=m,t[15]=g,t[16]=v,t[17]=b,t[18]=x,t[19]=y,t[20]=w,t[21]=j,t[22]=C,t[23]=S,t[24]=_,t[25]=k,t[26]=P,t[27]=R,t[28]=N,t[29]=D,t[30]=L):L=t[30],L};function df(e){e.currentTarget.contentEditable="false"}function dm(e,t,n){let a="".concat(t,"--editable");return{onBlur:df,onClick:e=>{e.currentTarget.contentEditable="true",e.currentTarget.classList.add(a),e.currentTarget.focus()},onKeyDown:t=>{if("Enter"===t.key||"Tab"===t.key||"Escape"===t.key){if(t.currentTarget.contentEditable="false",t.currentTarget.classList.remove(a),e.value.value=t.currentTarget.innerText,e.label=t.currentTarget.innerText,e.value.value.replaceAll("\n",""))n.onChange(n.value,{action:"create-option",option:e});else if(Array.isArray(n.value)){let t=n.value.filter(t=>t.id!==e.id);n.onChange(t,{action:"pop-value",removedValue:e})}t.preventDefault()}t.stopPropagation()}}}var dg=lI(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,rtl:r}={},hasMany:s,label:c,localized:d,maxLength:p,maxRows:h,minLength:f,minRows:m,required:g},inputRef:v,path:b,readOnly:x,validate:y}=e,w=aS(),{config:{localization:j}}=(0,i.b)(),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:D,path:E,setValue:P,showError:T,value:A}=lT({potentiallyStalePath:b,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,maxLength:p,minLength:f,required:g})},[y,f,p,g])}),O=lM({fieldLocalized:d,fieldRTL:r,locale:w,localizationConfig:j||void 0}),[I,R]=(0,o.useState)([]),L=(0,o.useCallback)(e=>{if(!(x||D)){var t;let n;P(e?Array.isArray(e)?e.map(e=>{var t;return(null==(t=e.value)?void 0:t.value)||e.value}):[(null==(t=e.value)?void 0:t.value)||e.value]:[])}},[x,P,D]);(0,o.useEffect)(()=>{s&&Array.isArray(A)&&R(A.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[A,s]);let M=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsx)(dh,{AfterInput:C,BeforeInput:S,className:n,Description:_,description:a,Error:k,hasMany:s,inputRef:v,Label:N,label:c,localized:d,maxRows:h,minRows:m,onChange:s?L:e=>{P(e.target.value)},path:E,placeholder:l,readOnly:x||D,required:g,rtl:O,showError:T,style:M,value:A||"",valueToRender:I})}),dv=e=>{let t=(0,d.c)(26),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,Label:c,label:h,localized:f,onChange:m,path:g,placeholder:v,readOnly:b,required:x,rows:y,rtl:w,showError:j,style:C,value:S}=e,{i18n:_}=(0,s.d)(),k=j&&"error",N=b&&"read-only",D;t[0]!==l||t[1]!==k||t[2]!==N?(D=[lL,"textarea",l,k,N].filter(Boolean),t[0]=l,t[1]=k,t[2]=N,t[3]=D):D=t[3];let E=D.join(" "),P="field-".concat(g.replace(/\./g,"__")),T;return t[4]!==n||t[5]!==a||t[6]!==o||t[7]!==i||t[8]!==c||t[9]!==r||t[10]!==_||t[11]!==h||t[12]!==f||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==x||t[18]!==y||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==E||t[23]!==P||t[24]!==S?(T=(0,u.jsxs)("div",{className:E,style:C,children:[(0,u.jsx)(ec,{CustomComponent:c,Fallback:(0,u.jsx)(aN,{htmlFor:P,label:h,localized:f,path:g,required:x})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:i,Fallback:(0,u.jsx)(tV,{path:g,showError:j})}),a,(0,u.jsx)("div",{className:"textarea-outer",children:(0,u.jsx)("textarea",{"data-rtl":w,disabled:b,id:"field-".concat(g.replace(/\./g,"__")),name:g,onChange:m,placeholder:(0,p.sC)(v,_),rows:y,style:{"--rows":y},value:S||""})}),n,(0,u.jsx)(ec,{CustomComponent:o,Fallback:(0,u.jsx)(tz,{description:r,path:g})})]})]}),t[4]=n,t[5]=a,t[6]=o,t[7]=i,t[8]=c,t[9]=r,t[10]=_,t[11]=h,t[12]=f,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=x,t[18]=y,t[19]=w,t[20]=j,t[21]=C,t[22]=E,t[23]=P,t[24]=S,t[25]=T):T=t[25],T},db=lI(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,rows:r,rtl:c}={},label:d,localized:h,maxLength:f,minLength:m,required:g},path:v,readOnly:b,validate:x}=e,{i18n:y}=(0,s.d)(),{config:{localization:w}}=(0,i.b)(),j=lM({fieldLocalized:h,fieldRTL:c,locale:aS(),localizationConfig:w||void 0}),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:D,path:E,setValue:P,showError:T,value:A}=lT({potentiallyStalePath:v,validate:(0,o.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,maxLength:f,minLength:m,required:g})},[x,g,f,m])}),O=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsx)(dv,{AfterInput:C,BeforeInput:S,className:n,Description:_,description:a,Error:k,Label:N,label:d,localized:h,onChange:e=>{P(e.target.value)},path:E,placeholder:(0,p.sC)(l,y),readOnly:b||D,required:g,rows:r,rtl:j,showError:T,style:O,value:A})}),dx=()=>null,dy=e=>{e.preventDefault(),e.stopPropagation()};function dw(e){let{children:t,className:n,disabled:a=!1,dropzoneStyle:l="default",multipleFiles:r,onChange:i}=e,s=o.useRef(null),[c,d]=o.useState(!1),p=o.useCallback(e=>{if(!r&&e.length>1){let t=new DataTransfer;t.items.add(e[0]),i(t.files)}else i(e)},[r,i]),h=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&p(e.clipboardData.files)},[p]),f=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!0)},[]),m=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1)},[]),g=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(p(e.dataTransfer.files),d(!1),e.dataTransfer.clearData())},[p]);o.useEffect(()=>{let e=s.current;return e&&!a?(e.addEventListener("dragenter",f),e.addEventListener("dragleave",m),e.addEventListener("dragover",dy),e.addEventListener("drop",g),e.addEventListener("paste",h),()=>{e.removeEventListener("dragenter",f),e.removeEventListener("dragleave",m),e.removeEventListener("dragover",dy),e.removeEventListener("drop",g),e.removeEventListener("paste",h)}):()=>null},[a,f,m,g,h]);let v=["dropzone",n,c?"dragging":"","dropzoneStyle--".concat(l)].filter(Boolean).join(" ");return(0,u.jsx)("div",{className:v,ref:s,children:t})}function dj(e){let t=(0,d.c)(3),{onClick:n}=e,{t:a}=(0,s.d)(),l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)("button",{"aria-label":a("general:close"),className:"drawer-close-button",onClick:n,type:"button",children:(0,u.jsx)(s.a,{})}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}function dC(e){let{onClose:t,title:n}=e;return(0,u.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,u.jsx)("h2",{title:n,children:n}),(0,u.jsx)(dj,{onClick:t})]})}var dS="bulk-upload--add-files";function d_(e){let{acceptMimeTypes:t,onCancel:n,onDrop:a}=e,{t:l}=(0,s.d)(),r=o.useRef(null);return(0,u.jsxs)("div",{className:dS,children:[(0,u.jsx)(dC,{onClose:n,title:l("upload:addFiles")}),(0,u.jsx)("div",{className:"".concat(dS,"__dropArea"),children:(0,u.jsxs)(dw,{multipleFiles:!0,onChange:a,children:[(0,u.jsx)(tp,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:l("upload:selectFile")}),(0,u.jsx)("input",{accept:t,"aria-hidden":"true",className:"".concat(dS,"__hidden-input"),hidden:!0,multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&a(e.target.files)},ref:r,type:"file"}),(0,u.jsxs)("p",{className:"".concat(dS,"__dragAndDropText"),children:[l("general:or")," ",l("upload:dragAndDrop")]})]})})]})}var dk=e=>new Promise((t,n)=>{let a=new Image;a.src=URL.createObjectURL(e),a.onload=()=>{let e,l,o=a.width/a.height;o>1?(l=280,e=280/o):(l=280*o,e=280);let r=new OffscreenCanvas(l,e);r.getContext("2d").drawImage(a,0,0,l,e),r.convertToBlob({type:"image/jpeg",quality:.25}).then(e=>{URL.revokeObjectURL(a.src);let l=new FileReader;l.onload=()=>t(l.result),l.onerror=n,l.readAsDataURL(e)}).catch(n)},a.onerror=e=>{URL.revokeObjectURL(a.src),n(e)}}),dN=(0,c.e)(el(),1);async function dD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=(0,O.r)(e,!0),o=null==l?void 0:l.file;if(o&&delete l.file,o&&"function"==typeof a){let e=o.name;o=JSON.stringify({clientUploadContext:await a({file:o,updateFilename:t=>{e=t}}),collectionSlug:n,filename:e,mimeType:o.type,size:o.size})}let r={_payload:JSON.stringify({...l,...t}),file:o};return(0,dN.serialize)(r,{indices:!0,nullsAsUndefineds:!1})}function dE(e,t){switch(t.type){case"ADD_FORMS":{let n=[];for(let e=0;e<t.files.length;e++)n[e]={errorCount:0,formState:{...t.initialState||{},file:{initialValue:t.files[e],valid:!0,value:t.files[e]}},uploadEdits:{}};return{...e,activeIndex:0,forms:[...n,...e.forms]}}case"REMOVE_FORM":{let n=[...e.forms],[a]=n.splice(t.index,1),l=e.activeIndex>=t.index,o=Math.min(n.length-1,e.activeIndex===t.index?t.index:l?e.activeIndex-1:e.activeIndex);return{...e,activeIndex:l?o:e.activeIndex,forms:n,totalErrorCount:e.totalErrorCount-a.errorCount}}case"REPLACE":return{...e,...t.state};case"SET_ACTIVE_INDEX":return{...e,activeIndex:t.index};case"UPDATE_ERROR_COUNT":{let n=[...e.forms];return n[t.index].errorCount=t.count,{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}case"UPDATE_FORM":{let n=[...e.forms];return n[t.index].errorCount=t.errorCount,n[t.index]={...n[t.index],formState:{...n[t.index].formState,...t.formState},uploadEdits:{...n[t.index].uploadEdits,...t.uploadEdits}},{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}default:return e}}var dP=o.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},thumbnailUrls:[],totalErrorCount:0,updateUploadEdits:()=>{}}),dT={activeIndex:0,forms:[],totalErrorCount:0};function dA(e){let{children:t}=e,{config:n}=(0,i.b)(),{routes:{api:a},serverURL:l}=n,{code:r}=aS(),{i18n:c,t:d}=(0,s.d)(),{getDocumentSlots:p,getFormState:h}=cr(),{getUploadHandler:f}=u3(),[m,g]=o.useState({}),[b,x]=o.useState(!1),[y,w]=o.useState(),[j,C]=o.useState(!1),[S,_]=o.useState(!1),[k,D]=o.useState(!1),[E,P]=o.useState(!1),[T,A]=o.useState(!1),[O,I]=o.useReducer(dE,dT),{activeIndex:R,forms:L,totalErrorCount:M}=O,F=o.useRef(L);F.current=L;let B=L.length,z=o.useRef([]),V=o.useRef(new Set),[U,H]=o.useState([]);o.useEffect(()=>{(async()=>{let e=[...z.current];for(let t=0;t<B;t++){let n=F.current[t].formState.file.value;if(V.current.has(n)||!n||!(0,N.w)(n.type))continue;V.current.add(n);let a=await dk(n);e[t]=a,z.current=e,H([...e]),await new Promise(e=>setTimeout(e,100))}})()},[B]);let{toggleLoadingOverlay:q}=cx(),{closeModal:K}=ne(),{collectionSlug:W,drawerSlug:Y,initialFiles:G,onSuccess:Q}=hw(),[X,$]=o.useState(!1),[Z,J]=o.useState(""),ee=o.useRef(!1),et=o.useRef(null),en=o.useRef(()=>({})),ea="".concat(a,"/").concat(W),el=o.useCallback(async()=>{let e={locale:r||void 0},t="/".concat(W,"/access"),n=await (await fetch("".concat(l).concat(a).concat(t,"?").concat(v.A(e)),{credentials:"include",headers:{"Accept-Language":c.language,"Content-Type":"application/json"},method:"post"})).json(),o=await fetch("".concat(l).concat(a).concat(t,"?").concat(v.A(e)),{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":c.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());w(n),C(lx({collectionSlug:W,docPermissions:n,isEditing:!1})),_(null==o?void 0:o.update),P(!0)},[a,r,W,c.language,l]),eo=o.useCallback(async e=>{(null==e?void 0:e.signal)&&e.abort("aborting previous fetch for initial form state without files"),g(await p({collectionSlug:W}));try{let{state:e}=await h({collectionSlug:W,docPermissions:y,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:W,skipValidation:!0});et.current=e,D(!0)}catch(e){}},[p,W,h,y,r]),er=o.useCallback(e=>{let t=en.current();I({type:"REPLACE",state:{activeIndex:e,forms:L.map((e,n)=>n===R?{errorCount:e.errorCount,formState:t,uploadEdits:e.uploadEdits}:e)}})},[L,R]),ei=o.useCallback(async e=>{q({isLoading:!0,key:"addingDocs"}),k||await eo(),I({type:"ADD_FORMS",files:e,initialState:et.current}),q({isLoading:!1,key:"addingDocs"})},[eo,k,q]),es=o.useCallback(e=>{z.current=z.current.filter((t,n)=>!e.includes(n)),H([...z.current])},[]),ec=o.useCallback(e=>{I({type:"REMOVE_FORM",index:e}),es([e])},[es]),eu=o.useCallback(e=>{let{errorCount:t,index:n}=e;I({type:"UPDATE_ERROR_COUNT",count:t,index:n})},[]),ed=o.useCallback(async function(){let{overrides:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=en.current(),n=[...L];n[R]={errorCount:n[R].errorCount,formState:t,uploadEdits:n[R].uploadEdits};let a=[];$(!0);for(let t=0;t<n.length;t++)try{var l;let o=n[t];J(d("general:uploadingBulk",{current:t+1,total:n.length}));let r="".concat(ea).concat(v.A({uploadEdits:(null==o?void 0:o.uploadEdits)||void 0},{addQueryPrefix:!0})),i=await fetch(r,{body:await dD(o.formState,e,W,f({collectionSlug:W})),method:"POST"}),s=await i.json();201===i.status&&(null==s?void 0:s.doc)&&a.push(s.doc);let[c,u]=((null==s?void 0:s.errors)||[]).reduce((e,t)=>{var n,a;let[l,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t||null==(n=t.data)?void 0:n.errors)&&(null==(a=t.data)||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...l,...r],[...o,...i]]},[[],[]]);n[t]={errorCount:c.length,formState:de(n[t].formState,{type:"ADD_SERVER_ERRORS",errors:c})},(413===i.status||400===i.status)&&(n[t]={...n[t],errorCount:n[t].errorCount+1},n0.error(null==(l=u[0])?void 0:l.message))}catch(e){}x(!0),J(""),$(!1);let o=[],r=[];n.forEach((e,t)=>{let{errorCount:a}=e;a?o.push(n[t]):r.push(t)});let i=Math.max(0,n.length-o.length),s=n.length-i;i&&(n0.success("Successfully saved ".concat(i," files")),"function"==typeof Q&&Q(a,s),o.length&&r.length&&es(r)),s?n0.error("Failed to save ".concat(s," files")):K(Y),I({type:"REPLACE",state:{activeIndex:0,forms:o,totalErrorCount:o.reduce((e,t)=>{let{errorCount:n}=t;return e+n},0)}})},[ea,R,L,es,Q,W,f,d,K,Y]),ep=o.useCallback(async(e,t)=>{for(let n=0;n<L.length;n++)if(Object.entries(e).forEach(e=>{let[t,a]=e;L[n].formState[t]&&(L[n].formState[t].value=a,I({type:"UPDATE_FORM",errorCount:L[n].errorCount,formState:L[n].formState,index:n}))}),"function"==typeof t&&t(),b){let{state:e}=await h({collectionSlug:W,docPermissions:y,docPreferences:null,formState:L[n].formState,operation:"create",schemaPath:W});I({type:"UPDATE_FORM",errorCount:Object.values(e).reduce((e,t)=>(null==t?void 0:t.valid)===!1?e+1:e,0),formState:e,index:n})}},[W,y,L,h,b]),eh=o.useCallback(e=>{I({type:"UPDATE_FORM",errorCount:L[R].errorCount,formState:L[R].formState,index:R,uploadEdits:e})},[R,L]),ef=o.useCallback(()=>{I({type:"REPLACE",state:{forms:L.map(e=>({...e,uploadEdits:{}}))}})},[L]);return o.useEffect(()=>{W&&(k||eo(),E||el(),G&&A(!k||!E),k&&G&&!ee.current&&(ei(G),ee.current=!0))},[ei,G,eo,el,W,k,E]),(0,u.jsxs)(dP,{value:{activeIndex:O.activeIndex,addFiles:ei,bulkUpdateForm:ep,collectionSlug:W,docPermissions:y,documentSlots:m,forms:L,getFormDataRef:en,hasPublishPermission:S,hasSavePermission:j,hasSubmitted:b,isInitializing:T,removeFile:ec,resetUploadEdits:ef,saveAllDocs:ed,setActiveIndex:er,setFormTotalErrorCount:eu,thumbnailUrls:U,totalErrorCount:M,updateUploadEdits:eh},children:[X&&(0,u.jsx)(cw,{animationDuration:"250ms",loadingText:Z,overlayType:"fullscreen",show:!0}),t]})}function dO(){return o.use(dP)}var dI=e=>{let t=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return e.filter(e=>!t.includes("name"in e&&e.name))},dR=(e,t)=>e?(0,x.Z7)(t)?"".concat(e,".").concat(t.name):e:(0,x.Z7)(t)?t.name:"",dL=e=>{let{CustomLabel:t,field:n,prefix:a}=e;return(0,u.jsxs)(o.Fragment,{children:[a?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{style:{display:"inline-block"},children:a})," > "]}):null,(0,u.jsx)("span",{style:{display:"inline-block"},children:(0,u.jsx)(ec,{CustomComponent:t,Fallback:(0,u.jsx)(aN,{label:"label"in n&&n.label})})})]})},dM=e=>{var t,n;let{fields:a,formState:l,labelPrefix:o=null,parentPath:r="",path:i="",permissions:s}=e;if(!a)return[];let c=null==l||null==(n=l[i])||null==(t=n.customComponents)?void 0:t.Label;return null==a?void 0:a.reduce((e,t)=>{var n;let{operation:a,permissions:l,read:u}=(0,y.P)({field:t,operation:"update",parentName:(null==r?void 0:r.includes("."))?r.split(".")[r.split(".").length-1]:r,permissions:s});return((0,x.Z7)(t)||"ui"===t.type)&&((null==(n=t.admin)?void 0:n.disableBulkEdit)||t.unique||(0,x.I2)(t)||"readOnly"in t&&t.readOnly||!a||!u)?e:"array"!==t.type&&"blocks"!==t.type&&(0,x.sd)(t)?[...e,...dM({fields:t.fields,labelPrefix:dL({CustomLabel:c,field:t,prefix:o}),parentPath:i,path:dR(i,t),permissions:l})]:"tabs"===t.type&&"tabs"in t?[...e,...t.tabs.reduce((e,n)=>{if("fields"in n){let a="name"in n&&n.name;return[...e,...dM({fields:n.fields,labelPrefix:o,parentPath:i,path:a?dR(i,t):i,permissions:l})]}},[])]:[...e,{label:dL({CustomLabel:c,field:t,prefix:o}),value:{field:t,fieldPermissions:l,path:dR(i,t)}}]},[])},dF=e=>{let t=(0,d.c)(14),{fields:n,onChange:a,permissions:l}=e,{t:r}=(0,s.d)(),{dispatchFields:i,getFields:c}=eN(),p;t[0]!==n||t[1]!==c||t[2]!==l?(p=()=>dM({fields:dI(n),formState:c(),permissions:l}),t[0]=n,t[1]=c,t[2]=l,t[3]=p):p=t[3];let[h]=(0,o.useState)(p),f;if(t[4]!==i||t[5]!==c||t[6]!==a||t[7]!==h||t[8]!==r){let e;t[10]!==i||t[11]!==c||t[12]!==a?(e=e=>a({dispatchFields:i,formState:c(),selected:e}),t[10]=i,t[11]=c,t[12]=a,t[13]=e):e=t[13],f=(0,u.jsxs)("div",{className:"field-select",children:[(0,u.jsx)(aN,{label:r("fields:selectFieldsToEdit")}),(0,u.jsx)(sV,{getOptionValue:dB,isMulti:!0,onChange:e,options:h})]}),t[4]=i,t[5]=c,t[6]=a,t[7]=h,t[8]=r,t[9]=f}else f=t[9];return f};function dB(e){return"object"==typeof e.value&&"path"in e.value?String(e.value.path):String(e.value)}var dz=e=>{var t;let{collection:{fields:n,labels:{plural:a,singular:l}}={},collection:r,drawerSlug:i,forms:c}=e,[d,h]=(0,o.useState)(!1),{permissions:f}=af(),{i18n:m,t:g}=(0,s.d)(),{closeModal:v}=ne(),{bulkUpdateForm:b}=dO(),{getFormState:x}=cr(),y=o.useRef(null),[w,j]=(0,o.useState)([]),C=null==f||null==(t=f.collections)?void 0:t[r.slug],S=(0,o.useMemo)(()=>(0,M.s)(w.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[w]),_=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=c_(y),{state:l}=await x({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:t,operation:"update",schemaPath:r.slug,select:S,signal:a.signal,skipValidation:!n});return y.current=null,l},[x,r,C,S]);(0,o.useEffect)(()=>{let e=y.current;return()=>{cS(e)}},[]);let k=(0,o.useCallback)(e=>{b(w.reduce((t,n)=>(e[n.value.path]&&(t[n.value.path]=e[n.value.path].value),t),{}),()=>v(i))},[v,i,b,w]),N=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:a}=e;h(!0),j(a||[]);let{state:l}=await x({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:n,operation:"update",schemaPath:r.slug,select:(0,M.s)(a.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:l}),h(!1)},[x,r,C]);return(0,u.jsxs)("div",{className:"".concat(dV,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(dV,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(dV,"__header__title"),children:g("general:editingLabel",{count:c.length,label:(0,p.sC)(c.length>1?a:l,m)})}),(0,u.jsx)("button",{"aria-label":g("general:close"),className:"".concat(dV,"__header__close"),id:"close-drawer__".concat(i),onClick:()=>v(i),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(dn,{className:"".concat(dV,"__form"),isInitializing:d,onChange:[_],onSubmit:k,children:[(0,u.jsx)(dF,{fields:n,onChange:N,permissions:C.fields}),0===w.length?null:(0,u.jsx)("div",{className:"render-fields",children:w.map((e,t)=>{let{value:{field:n,fieldPermissions:a,path:l}}=e;return(0,u.jsx)(hI,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:l,permissions:a},"".concat(l,"-").concat(t))})}),(0,u.jsx)("div",{className:"".concat(dV,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(dV,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(dV,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(dV,"__document-actions"),children:(0,u.jsx)(tp,{type:"submit",children:g("general:applyChanges")})})})})})]})]})},dV="edit-many-bulk-uploads",dU=e=>{var t,n;let a,l=(0,d.c)(5),{collection:o,collection:r}=e,{slug:i}=void 0===o?{}:o,{permissions:c}=af(),{t:p}=(0,s.d)(),{forms:h}=dO(),f=null==c||null==(n=c.collections)||null==(t=n[i])?void 0:t.update,m="edit-".concat(i,"-bulk-uploads");return f?(l[0]!==r||l[1]!==m||l[2]!==h||l[3]!==p?(a=(0,u.jsxs)("div",{className:dV,children:[(0,u.jsx)(at,{"aria-label":p("general:editAll"),className:"".concat(dV,"__toggle"),slug:m,children:p("general:editAll")}),(0,u.jsx)(tH,{children:(0,u.jsx)(an,{Header:null,slug:m,children:(0,u.jsx)(dz,{collection:r,drawerSlug:m,forms:h})})})]}),l[0]=r,l[1]=m,l[2]=h,l[3]=p,l[4]=a):a=l[4],a):null},dH="bulk-upload--actions-bar";function dq(e){let t=(0,d.c)(15),{collectionConfig:n}=e,{activeIndex:a,forms:l,setActiveIndex:o}=dO(),{t:r}=(0,s.d)(),i=a+1,c;if(t[0]!==a||t[1]!==n||t[2]!==l.length||t[3]!==o||t[4]!==r||t[5]!==i){let e,s;t[7]!==a||t[8]!==l.length||t[9]!==o?(e=()=>{let e=a-1;e<0?o(l.length-1):o(e)},t[7]=a,t[8]=l.length,t[9]=o,t[10]=e):e=t[10],t[11]!==a||t[12]!==l.length||t[13]!==o?(s=()=>{let e=a+1;e===l.length?o(0):o(e)},t[11]=a,t[12]=l.length,t[13]=o,t[14]=s):s=t[14],c=(0,u.jsxs)("div",{className:dH,children:[(0,u.jsxs)("div",{className:"".concat(dH,"__navigation"),children:[(0,u.jsxs)("p",{className:"".concat(dH,"__locationText"),children:[(0,u.jsx)("strong",{children:i})," ".concat(r("general:of")," "),(0,u.jsx)("strong",{children:l.length})]}),(0,u.jsxs)("div",{className:"".concat(dH,"__controls"),children:[(0,u.jsx)(tp,{"aria-label":r("general:previous"),buttonStyle:"none",onClick:e,type:"button",children:(0,u.jsx)(eX,{direction:"left"})}),(0,u.jsx)(tp,{"aria-label":r("general:next"),buttonStyle:"none",onClick:s,type:"button",children:(0,u.jsx)(eX,{direction:"right"})})]}),(0,u.jsx)(dU,{collection:n})]}),(0,u.jsx)(dK,{className:"".concat(dH,"__saveButtons")})]}),t[0]=a,t[1]=n,t[2]=l.length,t[3]=o,t[4]=r,t[5]=i,t[6]=c}else c=t[6];return c}function dK(e){var t,n,a,l,o;let r=(0,d.c)(12),{className:c}=e,{getEntityConfig:p}=(0,i.b)(),{t:h}=(0,s.d)(),{collectionSlug:f,hasPublishPermission:m,hasSavePermission:g,saveAllDocs:v}=dO(),b;r[0]!==f||r[1]!==p?(b=p({collectionSlug:f}),r[0]=f,r[1]=p,r[2]=b):b=r[2];let x=b,y;r[3]!==c?(y=["".concat(dH,"__buttons"),c].filter(Boolean),r[3]=c,r[4]=y):y=r[4];let w=y.join(" "),j;return r[5]!==(null==x||null==(t=x.versions)?void 0:t.drafts)||r[6]!==m||r[7]!==g||r[8]!==v||r[9]!==h||r[10]!==w?(j=(0,u.jsxs)("div",{className:w,children:[(null==x||null==(n=x.versions)?void 0:n.drafts)&&g?(0,u.jsx)(tp,{buttonStyle:"secondary",onClick:()=>void v({overrides:{_status:"draft"}}),children:h("version:saveDraft")}):null,(null==x||null==(a=x.versions)?void 0:a.drafts)&&m?(0,u.jsx)(tp,{onClick:()=>void v({overrides:{_status:"published"}}),children:h("version:publish")}):null,(null==x||null==(l=x.versions)?void 0:l.drafts)||!g?null:(0,u.jsx)(tp,{onClick:()=>void v(),children:h("general:save")})]}),r[5]=null==x||null==(o=x.versions)?void 0:o.drafts,r[6]=m,r[7]=g,r[8]=v,r[9]=h,r[10]=w,r[11]=j):j=r[11],j}var dW="bulk-upload--discard-without-saving";function dY(){let e=(0,d.c)(9),{t:t}=(0,s.d)(),{closeModal:n}=ne(),{drawerSlug:a}=hw(),l;e[0]!==n?(l=()=>{n(dW)},e[0]=n,e[1]=l):l=e[1];let o=l,r;e[2]!==n||e[3]!==a?(r=()=>{n(a),n(dW)},e[2]=n,e[3]=a,e[4]=r):r=e[4];let i=r,c;return e[5]!==o||e[6]!==i||e[7]!==t?(c=(0,u.jsx)(ai,{body:t("general:changesNotSaved"),cancelLabel:t("general:stayOnThisPage"),confirmLabel:t("general:leaveAnyway"),heading:t("general:leaveWithoutSaving"),modalSlug:dW,onCancel:o,onConfirm:i}),e[5]=o,e[6]=i,e[7]=t,e[8]=c):c=e[8],c}var dG=(0,o.createContext)({mostRecentUpdate:null,reportUpdate:e=>null}),dQ=e=>{let t=(0,d.c)(3),{children:n}=e,[a,l]=(0,o.useState)(null),r;return t[0]!==n||t[1]!==a?(r=(0,u.jsx)(dG,{value:{mostRecentUpdate:a,reportUpdate:l},children:n}),t[0]=n,t[1]=a,t[2]=r):r=t[2],r},dX=()=>(0,o.use)(dG),d$="document-fields",dZ=e=>{let{AfterFields:t,BeforeFields:n,Description:a,docPermissions:l,fields:r,forceSidebarWrap:i,readOnly:s,schemaPathSegments:c}=e,{hasSidebarFields:d,mainFields:p,sidebarFields:h}=(0,o.useMemo)(()=>r.reduce((e,t)=>((0,x.zj)(t)?(e.sidebarFields.push(t),e.mainFields.push(null),e.hasSidebarFields=!0):(e.mainFields.push(t),e.sidebarFields.push(null)),e),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[r]);return(0,u.jsxs)("div",{className:[d$,d?"".concat(d$,"--has-sidebar"):"".concat(d$,"--no-sidebar"),i&&"".concat(d$,"--force-sidebar-wrap")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(d$,"__main"),children:(0,u.jsxs)(n8,{className:"".concat(d$,"__edit"),children:[a?(0,u.jsx)("header",{className:"".concat(d$,"__header"),children:(0,u.jsx)("div",{className:"".concat(d$,"__sub-header"),children:a})}):null,n,(0,u.jsx)(hL,{className:"".concat(d$,"__fields"),fields:p,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s}),t]})}),d?(0,u.jsx)("div",{className:"".concat(d$,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(d$,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(d$,"__sidebar-fields"),children:(0,u.jsx)(hL,{fields:h,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:s})})})}):null]})};function dJ(e){let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}function d0(e){let{selectFromIndex:t,selectToIndex:n}=e;if(null==t)return new Set([n]);let a=Math.min(n,t),l=Math.max(n,t);return new Set(Array.from({length:Math.max(a,l)+1},(e,t)=>t).filter(e=>e>=a&&e<=l))}function d1(e){let{currentSelection:t,toggleIndex:n}=e,a=new Set(t);return a.has(n)?a.delete(n):a.add(n),a}var d3=o.createContext({addItems:()=>{},breadcrumbs:[],clearSelections:()=>{},currentFolder:null,documents:[],filterItems:()=>{},focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,getSelectedItems:()=>[],isDragging:!1,lastSelectedIndex:null,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},removeItems:()=>{},renameFolder:()=>{},search:"",selectedIndexes:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setFolderID:()=>null,setIsDragging:()=>!1,sortAndUpdateState:()=>{},sortDirection:"asc",sortOn:"_folderOrDocumentTitle",subfolders:[],visibleCollectionSlugs:[]});function d2(e){let{items:t,relationTo:n,search:a}=e;if("string"!=typeof a&&void 0===n)return t;let l=(a||"").toLowerCase();return t.filter(e=>{let t=e.value._folderOrDocumentTitle.toLowerCase(),a=e.relationTo;return(!n||n.includes(a))&&(!l||t.includes(l))})}function d6(e){var t;let{allowMultiSelection:n=!0,breadcrumbs:a=[],children:l,collectionSlug:r,documents:c=[],filteredCollectionSlugs:d,folderCollectionSlugs:p=[],folderID:h,search:m,sort:b,subfolders:x=[]}=e,y=d5(),{config:w,getEntityConfig:j}=(0,i.b)(),C=w.folders.fieldName,{routes:S,serverURL:_}=w,k=ao(),{t:N}=(0,s.d)(),D=(0,f.useRouter)(),{startRouteTransition:E}=eH(),[P]=o.useState(()=>w.collections.find(e=>e.slug===w.folders.slug)),T=P.slug,[A,O]=o.useState(!1),[I,R]=o.useState(()=>new Set),[L,M]=o.useState(-1),[z,V]=o.useState(null),[U,H]=o.useState(d||[...p,T]),[q,K]=o.useState(h),[W,Y]=o.useState(a),[G,Q]=o.useState(x),[X,$]=o.useState(()=>d2({items:G,relationTo:U.includes(T)?[T]:[],search:m})),[Z,J]=o.useState(c),[ee,et]=o.useState(()=>d2({items:Z,relationTo:U,search:m})),[en,ea]=o.useState(m),[el]=o.useState(()=>r?"/collections/".concat(r,"/").concat(T):w.admin.routes.browseByFolder),[eo,er]=o.useState(()=>b&&b.startsWith("-")?"desc":"asc"),[ei,es]=o.useState(()=>b?b.replace(/^-/,""):"_folderOrDocumentTitle"),ec=o.useRef(null),eu=X.length+ee.length,ed=o.useCallback(e=>{let t="folderID"in e?e.folderID:q,n={relationTo:"relationTo"in e?e.relationTo:r?void 0:U,search:"search"in e?e.search:en,sortBy:"sortBy"in e?e.sortBy:ei,sortDirection:"sortDirection"in e?e.sortDirection:eo};return(0,g.Q)({adminRoute:w.routes.admin,path:"".concat(el).concat(t?"/".concat(t):"").concat(v.A(n,{addQueryPrefix:!0}))})},[q,el,r,w.routes.admin,en,eo,ei,U]),ep=o.useCallback(()=>{M(-1),R(new Set),V(void 0)},[]),eh=o.useCallback(async e=>{let{folderID:t,search:n}=e,a=t?void 0:(("string"==typeof n?n:en)||"").trim(),l=v.A({collectionSlug:r,folderID:t,search:a},{addQueryPrefix:!0}),o=await fetch("".concat(_).concat(S.api,"/").concat(T,"/populate-folder-data").concat(l),{credentials:"include",headers:{"content-type":"application/json"}});if(200!==o.status)return{breadcrumbs:[],documents:[],subfolders:[]};{let e=await o.json();return Q(e.subfolders||[]),J(e.documents||[]),e}},[T,en,S.api,_,r]),ef=o.useCallback(async e=>{let{folderID:t}=e;if(ep(),1===k)E(()=>D.push(ed({folderID:t})));else{let e=await eh({folderID:t});Y((null==e?void 0:e.breadcrumbs)||[]),$((null==e?void 0:e.subfolders)||[]),et((null==e?void 0:e.documents)||[]),K(t)}},[ep,k,E,D,ed,eh]),em=o.useCallback(()=>Array.from(I).reduce((e,t)=>{let n=[...X,...ee][t];return n&&e.push(n),e},[]),[ee,I,X]),eg=o.useCallback(async e=>{let{collectionSlug:t,docID:n}=e;t===T?await ef({folderID:n}):t&&D.push((0,g.Q)({adminRoute:w.routes.admin,path:"/collections/".concat(t,"/").concat(n)}))},[ef,T,D,w.routes.admin]),ev=o.useCallback(async e=>{let{event:t,index:a,item:l}=e,{code:o,ctrlKey:r,metaKey:i,shiftKey:s}=t,c=r||i,u=I;switch(o){case"ArrowDown":{t.preventDefault();let e=Math.min(a+1,eu-1);if(M(e),c)break;n&&s?u=d0({selectFromIndex:Math.min(z,eu),selectToIndex:Math.min(e,eu)}):(V(e),u=new Set([e]));break}case"ArrowUp":{t.preventDefault();let e=Math.max(a-1,0);if(M(e),c)break;n&&s?u=d0({selectFromIndex:z,selectToIndex:e}):(V(e),u=new Set([e]));break}case"Enter":1===I.size&&(u=new Set([]),M(void 0));break;case"Escape":M(void 0),R(new Set([])),u=new Set([]);break;case"KeyA":n&&c&&(t.preventDefault(),M(eu-1),u=new Set(Array.from({length:eu},(e,t)=>t)));break;case"Space":n&&s?(t.preventDefault(),u=d1({currentSelection:u,toggleIndex:a})):(t.preventDefault(),u=new Set([a])),V(a);break;case"Tab":if(n&&s){let e=a-1;e<0&&u.size>0&&M(e)}else a+1===eu&&u.size>0&&M(eu-1)}R(u),1===I.size&&"Enter"===o&&await eg({collectionSlug:l.relationTo,docID:(0,B.r)(l.value)})},[n,z,eg,I,eu]),eb=o.useCallback(async e=>{let{event:t,index:a,item:l}=e,o=!1,r=t.ctrlKey||t.metaKey,i=t.shiftKey,s=new Set(I);if(n&&r)s=d1({currentSelection:s,toggleIndex:a});else if(n&&i&&void 0!==z)s=d0({selectFromIndex:z,selectToIndex:a});else if(n&&"pointermove"===t.type)I.has(a)||(s=new Set([a])),V(a);else{s=new Set([a]);let e=Date.now();o=e-ec.current<400&&z===a,ec.current=e,V(a)}0===s.size?M(void 0):M(a),R(s),o&&await eg({collectionSlug:l.relationTo,docID:(0,B.r)(l.value)})},[I,z,n,eg]),ex=o.useCallback(async e=>{let{relationTo:t,search:n}=e,a=Array.isArray(t)?t:U,l=(("string"==typeof n?n:en)||"").trim(),o=Z,i=G;if(r&&!q&&n!==en){let e=await eh({folderID:q,search:l});o=d2({items:e.documents,relationTo:a,search:l}),i=d2({items:e.subfolders,relationTo:[T],search:l})}else o=d2({items:Z,relationTo:a,search:l}),i=d2({items:G,relationTo:a.includes(T)?[T]:[],search:l});et(o),$(i),ea(l),H(a),1===k&&D.replace(ed({relationTo:a,search:l||void 0}))},[r,U,en,q,Z,G,T,k,eh,D,ed]),ey=o.useCallback(e=>{let{documentsToSort:t,sortDirection:n,sortOn:a,subfoldersToSort:l}=e,o,r,i=n||eo,s=a||ei;a&&es(a),n&&er(n);let c=ed({sortBy:a||ei,sortDirection:n||eo});return t&&(o=[...t].sort((e,t)=>{let n=e.value[s],a=t.value[s];return null==n&&null==a?0:null==n?"asc"===i?1:-1:null==a?"asc"===i?-1:1:"string"==typeof n&&"string"==typeof a?"asc"===i?n.localeCompare(a):a.localeCompare(n):0})),l&&(r=[...l].sort((e,t)=>{let n=e.value[s],a=t.value[s];return null==n&&null==a?0:null==n?"asc"===i?1:-1:null==a?"asc"===i?-1:1:"string"==typeof n&&"string"==typeof a?"asc"===i?n.localeCompare(a):a.localeCompare(n):0})),{newURL:c,sortedDocuments:o,sortedSubfolders:r}},[ed,eo,ei]),ew=o.useCallback(e=>{let{documentsToSort:t,sortDirection:n,sortOn:a,subfoldersToSort:l}=e,{newURL:o,sortedDocuments:r,sortedSubfolders:i}=ey({documentsToSort:t,sortDirection:n,sortOn:a,subfoldersToSort:l});r&&et(r),i&&$(i),1===k&&E(()=>{D.replace(o)})},[k,D,ey,E]),ej=o.useCallback(e=>e.reduce((e,t)=>(t.relationTo===T?e.folders.push(t):e.documents.push(t),e),{documents:[],folders:[]}),[T]),eC=o.useCallback(e=>{if(!e.length)return;let t=ej(e);t.documents.length&&et(e=>e.filter(e=>{let{itemKey:n}=e;return!t.documents.some(e=>e.itemKey===n)})),t.folders.length&&$(e=>e.filter(e=>{let{itemKey:n}=e;return!t.folders.some(e=>e.itemKey===n)})),ep()},[ep,ej,et,$]),eS=o.useCallback(e=>{let{items:t,parentItems:n}=e.reduce((e,t)=>{let n=t.value.folderID||null;return(!t.value.folderID||t.value.folderID!==q)&&(q||t.value.folderID)||e.items.push(t),y&&(y.folderID&&n===y.folderID||!y.folderID&&!t.value.folderID)&&e.parentItems.push(t),e},{items:[],parentItems:[]});if(n.length&&y.addItems(n),!t.length)return;let a=ej(t),l,o;a.documents.length&&(l=[...ee,...a.documents]),a.folders.length&&(o=[...X,...a.folders]);let{sortedDocuments:r,sortedSubfolders:i}=ey({documentsToSort:l,subfoldersToSort:o}),{sortedDocuments:s,sortedSubfolders:c}=ey({documentsToSort:l,subfoldersToSort:o});r&&(et(r),J(s)),i&&($(i),Q(c))},[q,ee,ej,ey,X]),e_=o.useCallback(async e=>{let{itemsToMove:t,toFolderID:n}=e;if(t.length){if(1===t.length&&t[0].relationTo===T&&t[0].value.id===q){let e=await fetch("".concat(_).concat(S.api,"/").concat(T,"/").concat(q,"?depth=0"),{body:JSON.stringify({[C]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"});if(200!==e.status)n0.error(N("general:error"));else{let t=await e.json(),n=await eh({folderID:t.id});Y((null==n?void 0:n.breadcrumbs)||[]),$((null==n?void 0:n.subfolders)||[]),et((null==n?void 0:n.documents)||[]),K(t.id)}Y(e=>e.map(e=>e.id===q?{...e,id:n}:e))}else{let e=n===q,a=[],l=[];for(let[e,o]of Object.entries(t.reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value.id),e),{}))){let t=j({collectionSlug:e}),r=v.A({limit:0,where:{id:{in:o}}},{addQueryPrefix:!0});try{let o=await fetch("".concat(_).concat(S.api,"/").concat(e).concat(r),{body:JSON.stringify({[C]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"});if(200===o.status){let{docs:n}=await o.json(),r=n.map(n=>(0,F.p)({folderFieldName:w.folders.fieldName,isUpload:!!t.upload,relationTo:e,useAsTitle:t.admin.useAsTitle,value:n}));e===T?a.push(...r):l.push(...r)}}catch(e){n0.error(N("general:error")),console.error(e);continue}}if(e){let{newURL:e,sortedDocuments:t,sortedSubfolders:n}=ey({documentsToSort:l.length?[...ee,...l]:void 0,subfoldersToSort:a.length?[...X,...a]:void 0});t&&et(t),n&&$(n),1===k&&e&&D.replace(e)}else{let e=l.length?ee.filter(e=>{let{itemKey:t}=e;return!l.some(e=>e.itemKey===t)}):void 0,t=a.length?X.filter(e=>{let{itemKey:t}=e;return!a.some(e=>e.itemKey===t)}):void 0;e&&et(e),t&&$(t)}}ep()}},[T,q,ep,_,S.api,N,eh,j,ey,ee,X,k,D]),ek=o.useCallback(e=>{let{folderID:t,newName:n}=e;q===t?Y(e=>e.map(e=>e.id===t?{...e,name:n}:e)):$(e=>e.map(e=>e.value.id===t&&e.relationTo===T?{...e,value:{...e.value,_folderOrDocumentTitle:n}}:e))},[T,$,q]);return(0,u.jsx)(d3,{value:{addItems:eS,breadcrumbs:W,clearSelections:ep,currentFolder:(null==W||null==(t=W[0])?void 0:t.id)?(0,F.p)({folderFieldName:C,isUpload:!1,relationTo:T,useAsTitle:P.admin.useAsTitle,value:W[W.length-1]}):null,documents:ee,filterItems:ex,focusedRowIndex:L,folderCollectionConfig:P,folderCollectionSlug:T,folderFieldName:C,folderID:q,getSelectedItems:em,isDragging:A,lastSelectedIndex:z,moveToFolder:e_,onItemClick:eb,onItemKeyPress:ev,removeItems:eC,renameFolder:ek,search:en,selectedIndexes:I,setBreadcrumbs:Y,setFocusedRowIndex:M,setFolderID:ef,setIsDragging:O,sortAndUpdateState:ew,sortDirection:eo,sortOn:ei,subfolders:X,visibleCollectionSlugs:U},children:l})}function d5(){let e=o.use(d3);if(void 0===e)throw Error("useFolder must be used within a FolderProvider");return e}var d4=e=>{let{type:t="submit",buttonId:n,children:a,disabled:l,onClick:o,programmaticSubmit:r,ref:i}=e,s=eT(),c=eA(),d=eI(),{disabled:p,submit:h}=eN();return(0,u.jsx)("div",{className:"form-submit",children:(0,u.jsx)(tp,{ref:i,...e,disabled:!!(l||d||s||c||p)||void 0,id:n,onClick:null!=o?o:r?()=>{h()}:void 0,type:t,children:a})})},d8="drawerHeader",d7=e=>{let t=(0,d.c)(13),{cancelLabel:n,onCancel:a,onSave:l,saveLabel:o,title:r}=e,{t:i}=(0,s.d)(),c;if(t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==o||t[4]!==i||t[5]!==r){let e,s;t[7]!==n||t[8]!==i?(e=n||i("general:cancel"),t[7]=n,t[8]=i,t[9]=e):e=t[9],t[10]!==o||t[11]!==i?(s=o||i("general:applyChanges"),t[10]=o,t[11]=i,t[12]=s):s=t[12],c=(0,u.jsx)("div",{className:d8,children:(0,u.jsxs)("div",{className:"".concat(d8,"__content"),children:[(0,u.jsx)("h1",{className:"".concat(d8,"__title"),children:r}),(0,u.jsxs)("div",{className:"".concat(d8,"__actions"),children:[(0,u.jsx)(tp,{"aria-label":i("general:cancel"),buttonStyle:"secondary",onClick:a,children:e}),(0,u.jsx)(d4,{"aria-label":i("general:applyChanges"),onClick:l,children:s})]})]})}),t[0]=n,t[1]=a,t[2]=l,t[3]=o,t[4]=i,t[5]=r,t[6]=c}else c=t[6];return c};function d9(e){let{children:t,className:n}=e;return(0,u.jsx)("div",{className:["drawer-content-container",n].filter(Boolean).join(" "),children:t})}var pe=e=>{let t,n,a=(0,d.c)(19),{drawerSlug:l,onNewFolderSuccess:o}=e,{config:r}=(0,i.b)(),{routes:c,serverURL:p}=r,{closeModal:h}=ne(),{t:f}=(0,s.d)(),{folderCollectionSlug:m,folderFieldName:g,folderID:v}=d5(),b="".concat(p).concat(c.api,"/").concat(m,"?depth=0"),x;if(a[0]!==o||a[1]!==f?(x=async(e,t,n)=>{try{let{doc:n}=await e.json();t(f("general:successfullyCreated",{label:'"'.concat(n.name,'"')})),await o(n)}catch(e){n(f("general:error"))}},a[0]=o,a[1]=f,a[2]=x):x=a[2],a[3]!==f?(t=e=>!!e||f("validation:required"),a[3]=f,a[4]=t):t=a[4],a[5]!==h||a[6]!==l||a[7]!==g||a[8]!==v||a[9]!==f||a[10]!==b||a[11]!==x||a[12]!==t){let e,o;a[14]!==h||a[15]!==l?(e=()=>{h(l)},a[14]=h,a[15]=l,a[16]=e):e=a[16],a[17]!==f?(o=e=>!!e||f("validation:required"),a[17]=f,a[18]=o):o=a[18],n=(0,u.jsx)(an,{gutter:!1,Header:null,slug:l,children:(0,u.jsxs)(dn,{action:b,handleResponse:x,initialState:{name:{initialValue:"",valid:!0,validate:t,value:""},[g]:{initialValue:"",valid:!0,value:""}},method:"POST",children:[(0,u.jsx)(d7,{onCancel:e,saveLabel:f("general:create"),title:f("folder:newFolder")}),(0,u.jsxs)(d9,{children:[(0,u.jsx)(dg,{field:{name:"name",label:f("folder:folderName"),required:!0},path:"name",validate:o}),(0,u.jsx)(s6,{path:g,value:v},v)]})]})}),a[5]=h,a[6]=l,a[7]=g,a[8]=v,a[9]=f,a[10]=b,a[11]=x,a[12]=t,a[13]=n}else n=a[13];return n},pt="create-new-doc-in-folder";function pn(e){let t,n=(0,d.c)(24),{buttonLabel:a,collectionSlugs:l,onCreateSuccess:r,slugPrefix:c}=e,h="".concat(c,"-new-folder-drawer"),f="".concat(c,"-new-doc-in-folder-drawer"),{i18n:m}=(0,s.d)(),{closeModal:g,openModal:v}=ne(),{config:b}=(0,i.b)(),{folderCollectionConfig:x,folderID:y}=d5(),[w,j]=o.useState(),C;n[0]!==l||n[1]!==b?(C=()=>l.reduce((e,t)=>{let n=b.collections.find(e=>{let{slug:n}=e;return n===t});return n&&e.push(n),e},[]),n[0]=l,n[1]=b,n[2]=C):C=n[2];let[S]=o.useState(C);if(0===S.length)return null;if(n[3]!==a||n[4]!==g||n[5]!==l||n[6]!==b||n[7]!==w||n[8]!==S||n[9]!==x.slug||n[10]!==y||n[11]!==m||n[12]!==f||n[13]!==h||n[14]!==r||n[15]!==v){let e;n[17]!==g||n[18]!==b||n[19]!==w||n[20]!==y||n[21]!==f||n[22]!==r?(e=w&&(0,u.jsx)(cO,{collectionSlug:w,drawerSlug:f,initialData:{[b.folders.fieldName]:y},onSave:e=>{let{doc:t}=e;g(f),r({collectionSlug:w,doc:t})},redirectAfterCreate:!1}),n[17]=g,n[18]=b,n[19]=w,n[20]=y,n[21]=f,n[22]=r,n[23]=e):e=n[23],t=(0,u.jsxs)(o.Fragment,{children:[1===S.length?(0,u.jsx)(tp,{buttonStyle:"pill",className:"".concat(pt,"__button"),el:"div",onClick:()=>{S[0].slug===x.slug?v(h):(j(S[0].slug),v(f))},size:"small",children:a}):(0,u.jsx)(ts,{button:(0,u.jsx)(tp,{buttonStyle:"pill",className:"".concat(pt,"__popup-button"),el:"div",icon:"chevron",size:"small",children:a}),buttonType:"default",className:"".concat(pt,"__action-popup"),children:(0,u.jsx)(e1.ButtonGroup,{children:S.map((e,t)=>(0,u.jsx)(e1.Button,{onClick:()=>{e.slug===x.slug?v(h):(j(e.slug),v(f))},children:(0,p.sC)(e.labels.singular,m)},t))})}),e,l.includes(x.slug)&&(0,u.jsx)(pe,{drawerSlug:h,onNewFolderSuccess:e=>{g(h),"function"==typeof r&&r({collectionSlug:x.slug,doc:e})}})]}),n[3]=a,n[4]=g,n[5]=l,n[6]=b,n[7]=w,n[8]=S,n[9]=x.slug,n[10]=y,n[11]=m,n[12]=f,n[13]=h,n[14]=r,n[15]=v,n[16]=t}else t=n[16];return t}var pa="no-results";function pl(e){let{Actions:t,Message:n}=e;return(0,u.jsxs)("div",{className:pa,children:[n,t&&t.length>0&&(0,u.jsx)("div",{className:"".concat(pa,"__actions"),children:t.map((e,t)=>(0,u.jsx)(o.Fragment,{children:e},t))})]})}var po=e=>{let{elements:t,translationString:n}=e,a=n.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,u.jsx)("span",{children:a.map((e,n)=>{if(t&&e.startsWith("<")&&e.endsWith(">")){let a=e[1],l=t[a];if(l){let t=RegExp("<".concat(a,">(.*?)</").concat(a,">"),"g"),o=e.replace(t,(e,t)=>t);return(0,u.jsx)(l,{children:(0,u.jsx)(po,{translationString:o})},n)}}return e})})},pr=e=>{let{elements:t,i18nKey:n,t:a,variables:l}=e,o=a(n,l||{});return t?(0,u.jsx)(po,{elements:t,translationString:o}):o},pi="folderBreadcrumbs";function ps(e){let{breadcrumbs:t,className:n}=e;return(0,u.jsx)("div",{className:"".concat(pi," ").concat(n||"").trim(),children:null==t?void 0:t.map((e,n)=>(0,u.jsxs)("div",{className:"".concat(pi,"__crumb"),children:[e.onClick?(0,u.jsx)(pc,{className:"".concat(pi,"__crumb-item"),id:e.id,onClick:e.onClick,children:e.name}):e.name,t.length>0&&n!==t.length-1&&(0,u.jsx)(eX,{className:"".concat(pi,"__crumb-chevron"),direction:"right"})]},n))})}function pc(e){let t,n=(0,d.c)(13),{id:a,children:l,className:o,onClick:r}=e,i="folder-".concat(a),s;n[0]!==a?(s={id:a,type:"folder"},n[0]=a,n[1]=s):s=n[1],n[2]!==i||n[3]!==s?(t={id:i,data:s},n[2]=i,n[3]=s,n[4]=t):t=n[4];let{isOver:c,setNodeRef:p}=(0,m.zM)(t),h=c&&"droppable-button--hover",f;n[5]!==o||n[6]!==h?(f=["droppable-button",o,h].filter(Boolean),n[5]=o,n[6]=h,n[7]=f):f=n[7];let g=f.join(" "),v;return n[8]!==l||n[9]!==r||n[10]!==p||n[11]!==g?(v=(0,u.jsx)("button",{className:g,onClick:r,ref:p,type:"button",children:l}),n[8]=l,n[9]=r,n[10]=p,n[11]=g,n[12]=v):v=n[12],v}function pu(){return(0,u.jsx)(dJ,{className:"colored-folder-icon"})}var pd=()=>(0,u.jsx)("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})});function pp(e){let{className:t=""}=e;return(0,u.jsxs)("div",{className:"icon icon--dots ".concat(t).trim(),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})}var ph=e=>{let{id:t,as:n="div",children:a,className:l,onClick:r,onKeyDown:i,ref:s,thresholdPixels:c=3}=e,{attributes:d,listeners:p,setNodeRef:h}=(0,m.PM)({id:t}),f=(0,o.useRef)({x:0,y:0}),g=(0,o.useRef)(!1);return(0,u.jsx)(n||"div",{role:"button",tabIndex:0,...d,className:"".concat("draggable-with-click"," ").concat(l||"").trim(),onKeyDown:i,onPointerDown:r?e=>{f.current={x:e.clientX,y:e.clientY},g.current=!1;let t=n=>{let a=Math.abs(n.clientX-f.current.x),l=Math.abs(n.clientY-f.current.y);(a>c||l>c)&&(g.current=!0,(null==p?void 0:p.onPointerDown)&&(p.onPointerDown(e),r(n)),window.removeEventListener("pointermove",t))},n=()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",a)},a=e=>{n(),g.current||r(e)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",a)}:void 0,ref:e=>{h(e),s&&(s.current=e)},children:a})},pf="folder-file-card";function pm(e){let{id:t,type:n,className:a="",disabled:l=!1,isDeleting:r=!1,isFocused:i=!1,isSelected:s=!1,itemKey:c,onClick:d,onKeyDown:p,PopupActions:h,previewUrl:f,selectedCount:g=0,title:v}=e,b=!t||l||"folder"!==n,{isOver:x,setNodeRef:y}=(0,m.zM)({id:c,data:{id:t,type:n},disabled:b}),w=o.useRef(null);return o.useEffect(()=>{let e=w.current;return i&&w.current?w.current.focus():!i&&w.current&&w.current.blur(),()=>{e&&e.blur()}},[i]),(0,u.jsxs)("div",{className:[pf,a,s&&"".concat(pf,"--selected"),l&&"".concat(pf,"--disabled"),r&&"".concat(pf,"--deleting"),i&&"".concat(pf,"--focused"),x&&"".concat(pf,"--over"),"".concat(pf,"--").concat(n)].filter(Boolean).join(" "),children:[!l&&(d||p)&&(0,u.jsx)(ph,{className:"".concat(pf,"__drag-handle"),id:c,onClick:d,onKeyDown:p,ref:w},c),b?null:(0,u.jsx)("div",{className:"".concat(pf,"__drop-area"),ref:y}),"file"===n?(0,u.jsx)("div",{className:"".concat(pf,"__preview-area"),children:f?(0,u.jsx)(cW,{fileSrc:f}):(0,u.jsx)(pd,{})}):null,(0,u.jsxs)("div",{className:"".concat(pf,"__titlebar-area"),children:[(0,u.jsx)("div",{className:"".concat(pf,"__icon-wrap"),children:"file"===n?(0,u.jsx)(pd,{}):(0,u.jsx)(pu,{})}),(0,u.jsx)("p",{className:"".concat(pf,"__name"),title:v,children:(0,u.jsx)("span",{children:v})}),h?(0,u.jsx)(ts,{button:(0,u.jsx)(pp,{}),disabled:g>1||1===g&&!s,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:h}):null]})]},c)}var pg="item-card-grid";function pv(e){let t,n=(0,d.c)(15),{type:a,disabledItemKeys:l,items:o,RenderActionGroup:r,selectedItemKeys:i,subfolderCount:s,title:c}=e,{focusedRowIndex:p,isDragging:h,onItemClick:f,onItemKeyPress:m,selectedIndexes:g}=d5(),v;return n[0]!==c?(v=c&&(0,u.jsx)("p",{className:"".concat(pg,"__title"),children:c}),n[0]=c,n[1]=v):v=n[1],n[2]!==r||n[3]!==l||n[4]!==p||n[5]!==h||n[6]!==o||n[7]!==f||n[8]!==m||n[9]!==g||n[10]!==i||n[11]!==s||n[12]!==v||n[13]!==a?(t=(0,u.jsxs)(u.Fragment,{children:[v,(0,u.jsx)("div",{className:pg,children:o&&(null==o?void 0:o.length)!==0?o.map((e,t)=>{let n=t+(s||0),{itemKey:o,value:c}=e;return(0,u.jsx)(pm,{disabled:h&&i.has(o)||(null==l?void 0:l.has(o)),id:c.id,isFocused:p===n,isSelected:i.has(o),itemKey:o,onClick:t=>{f({event:t,index:n,item:e})},onKeyDown:t=>{m({event:t,index:n,item:e})},PopupActions:r?r({index:n,item:e}):null,previewUrl:null==c?void 0:c.url,selectedCount:g.size,title:c._folderOrDocumentTitle,type:a},o)}):null})]}),n[2]=r,n[3]=l,n[4]=p,n[5]=h,n[6]=o,n[7]=f,n[8]=m,n[9]=g,n[10]=i,n[11]=s,n[12]=v,n[13]=a,n[14]=t):t=n[14],t}var pb="move-folder-drawer",px="move-folder-drawer",py="".concat(px,"-confirm-move"),pw="".concat(px,"-new-folder");function pj(e){return(0,u.jsx)(an,{gutter:!1,Header:null,slug:e.drawerSlug,children:(0,u.jsx)(pC,{...e})})}function pC(e){let{config:{folders:{slug:t},routes:n,serverURL:a}}=(0,i.b)(),[l,r]=o.useState([]),[s,c]=o.useState([]),[d,p]=o.useState([]),[h,f]=o.useState(!1);return o.useEffect(()=>{h||(async()=>{try{let l=await fetch("".concat(a).concat(n.api,"/").concat(t,"/populate-folder-data").concat(e.fromFolderID?"?folderID=".concat(e.fromFolderID):""),{credentials:"include",headers:{"content-type":"application/json"}});if(200===l.status){let e=await l.json();p((null==e?void 0:e.breadcrumbs)||[]),r((null==e?void 0:e.subfolders)||[]),c((null==e?void 0:e.documents)||[])}else p([]),r([]),c([])}catch(e){console.error(e)}f(!0)})()},[t,n.api,a,h,e.fromFolderID]),h?(0,u.jsx)(d6,{allowMultiSelection:!1,breadcrumbs:d,documents:s,folderCollectionSlugs:[],folderID:e.fromFolderID,subfolders:l,children:(0,u.jsx)(pS,{...e})}):(0,u.jsx)(cw,{})}function pS(e){let t,n,a=(0,d.c)(54),l,r,c,h,f,m;a[0]!==e?({drawerSlug:l,fromFolderName:r,itemsToMove:c,onConfirm:h,skipConfirmModal:m,...f}=e,a[0]=e,a[1]=l,a[2]=r,a[3]=c,a[4]=h,a[5]=f,a[6]=m):(l=a[1],r=a[2],c=a[3],h=a[4],f=a[5],m=a[6]);let{closeModal:g,openModal:v}=ne(),b;a[7]!==c?(b=()=>c.length,a[7]=c,a[8]=b):b=a[8];let[x]=o.useState(b),{i18n:y,t:w}=(0,s.d)(),{addItems:j,breadcrumbs:C,folderCollectionConfig:S,folderCollectionSlug:_,folderFieldName:k,getSelectedItems:N,setFolderID:D,subfolders:E}=d5(),{getEntityConfig:P}=(0,i.b)(),T;a[9]!==C||a[10]!==N?(T=()=>{let e=N();if(0!==e.length)return{id:e[0].value.id,name:e[0].value._folderOrDocumentTitle};{let e=null==C?void 0:C[C.length-1];return{id:(null==e?void 0:e.id)||null,name:(null==e?void 0:e.name)||null}}},a[9]=C,a[10]=N,a[11]=T):T=a[11];let A=T,O;a[12]!==j||a[13]!==k||a[14]!==P?(O=e=>{let{collectionSlug:t,doc:n}=e,a=P({collectionSlug:t});j([(0,F.p)({folderFieldName:k,isUpload:!!(null==a?void 0:a.upload),relationTo:t,useAsTitle:a.admin.useAsTitle,value:n})])},a[12]=j,a[13]=k,a[14]=P,a[15]=O):O=a[15];let I=O,R;a[16]!==A||a[17]!==h?(R=()=>{"function"==typeof h&&h(A())},a[16]=A,a[17]=h,a[18]=R):R=a[18];let L=R,M;if(a[19]!==g||a[20]!==l?(M=()=>{g(l)},a[19]=g,a[20]=l,a[21]=M):M=a[21],a[22]!==L||a[23]!==v||a[24]!==m?(t=()=>{m?L():v(py)},a[22]=L,a[23]=v,a[24]=m,a[25]=t):t=a[25],a[26]!==C||a[27]!==g||a[28]!==x||a[29]!==S||a[30]!==_||a[31]!==r||a[32]!==A||a[33]!==y||a[34]!==c||a[35]!==L||a[36]!==I||a[37]!==v||a[38]!==f.action||a[39]!==f.fromFolderID||a[40]!==f.title||a[41]!==D||a[42]!==m||a[43]!==E||a[44]!==w||a[45]!==M||a[46]!==t){var B,z,V;let e,l;a[48]!==C.length||a[49]!==D?(e=C.length?()=>{D({folderID:null})}:void 0,a[48]=C.length,a[49]=D,a[50]=e):e=a[50],a[51]!==C.length||a[52]!==D?(l=(e,t)=>({id:e.id,name:e.name,onClick:t!==C.length-1?()=>{D({folderID:e.id})}:void 0}),a[51]=C.length,a[52]=D,a[53]=l):l=a[53],n=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d7,{onCancel:M,onSave:t,saveLabel:w("general:select"),title:(0,u.jsx)(pk,{action:f.action,count:x,fromFolderName:f.fromFolderID?r:void 0,title:"moveItemToFolder"===f.action?f.title:void 0})}),(0,u.jsxs)("div",{className:"".concat(pb,"__breadcrumbs-section"),children:[(0,u.jsx)(ps,{breadcrumbs:[{id:null,name:(0,u.jsxs)("span",{className:"".concat(pb,"__folder-breadcrumbs-root"),children:[(0,u.jsx)(pu,{}),w("folder:folders")]}),onClick:e},...C.map(l)]}),E.length>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tp,{buttonStyle:"pill",className:"".concat(pb,"__add-folder-button"),margin:!1,onClick:()=>{v(pw)},children:w("fields:addLabel",{label:(0,p.sC)(null==(B=S.labels)?void 0:B.singular,y)})}),(0,u.jsx)(pe,{drawerSlug:pw,onNewFolderSuccess:e=>{g(pw),"function"==typeof I&&I({collectionSlug:S.slug,doc:e})}})]})]}),(0,u.jsx)(d9,{className:"".concat(pb,"__body-section"),children:E.length>0?(0,u.jsx)(pv,{disabledItemKeys:new Set(c.map(p_)),items:E,selectedItemKeys:new Set(["".concat(_,"-").concat(A().id)]),type:"folder"}):(0,u.jsx)(pl,{Actions:[(0,u.jsx)(pn,{buttonLabel:"".concat(w("general:create")," ").concat((0,p.sC)(null==(z=S.labels)?void 0:z.singular,y).toLowerCase()),collectionSlugs:[_],onCreateSuccess:I,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:(0,u.jsx)("p",{children:y.t("general:noResults",{label:"".concat((0,p.sC)(null==(V=S.labels)?void 0:V.plural,y))})})})}),!m&&(0,u.jsx)(ai,{body:(0,u.jsx)(pN,{action:f.action,count:x,fromFolderName:r,title:"moveItemToFolder"===f.action?f.title:void 0,toFolderName:A().name}),confirmingLabel:w("general:moving"),confirmLabel:w("general:move"),heading:w("general:confirmMove"),modalSlug:py,onConfirm:L})]}),a[26]=C,a[27]=g,a[28]=x,a[29]=S,a[30]=_,a[31]=r,a[32]=A,a[33]=y,a[34]=c,a[35]=L,a[36]=I,a[37]=v,a[38]=f.action,a[39]=f.fromFolderID,a[40]=f.title,a[41]=D,a[42]=m,a[43]=E,a[44]=w,a[45]=M,a[46]=t,a[47]=n}else n=a[47];return n}function p_(e){let{itemKey:t}=e;return t}function pk(e){let t=(0,d.c)(14),{t:n}=(0,s.d)();switch(e.action){case"moveItemToFolder":if(e.fromFolderName){let a;return t[0]!==e.fromFolderName||t[1]!==e.title||t[2]!==n?(a=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:e.title}),t[0]=e.fromFolderName,t[1]=e.title,t[2]=n,t[3]=a):a=t[3],a}{let a;return t[4]!==e.title||t[5]!==n?(a=n("folder:selectFolderForItem",{title:e.title}),t[4]=e.title,t[5]=n,t[6]=a):a=t[6],a}case"moveItemsToFolder":if(e.fromFolderName){let a="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),l;return t[7]!==e.fromFolderName||t[8]!==n||t[9]!==a?(l=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:a}),t[7]=e.fromFolderName,t[8]=n,t[9]=a,t[10]=l):l=t[10],l}{let a="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),l;return t[11]!==n||t[12]!==a?(l=n("folder:selectFolderForItem",{title:a}),t[11]=n,t[12]=a,t[13]=l):l=t[13],l}}}function pN(e){let t=(0,d.c)(14),{t:n}=(0,s.d)();switch(e.action){case"moveItemToFolder":if(e.toFolderName){let a;return t[0]!==e.title||t[1]!==e.toFolderName||t[2]!==n?(a=(0,u.jsx)(pr,{elements:{1:pO,2:pA},i18nKey:"folder:moveItemToFolderConfirmation",t:n,variables:{title:e.title,toFolder:e.toFolderName}}),t[0]=e.title,t[1]=e.toFolderName,t[2]=n,t[3]=a):a=t[3],a}{let a;return t[4]!==e.title||t[5]!==n?(a=(0,u.jsx)(pr,{elements:{1:pT},i18nKey:"folder:moveItemToRootConfirmation",t:n,variables:{title:e.title}}),t[4]=e.title,t[5]=n,t[6]=a):a=t[6],a}case"moveItemsToFolder":if(e.toFolderName){let a;return t[7]!==e.count||t[8]!==e.toFolderName||t[9]!==n?(a=(0,u.jsx)(pr,{elements:{1:pP,2:pE},i18nKey:"folder:moveItemsToFolderConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item"),toFolder:e.toFolderName}}),t[7]=e.count,t[8]=e.toFolderName,t[9]=n,t[10]=a):a=t[10],a}{let a;return t[11]!==e.count||t[12]!==n?(a=(0,u.jsx)(pr,{elements:{1:pD},i18nKey:"folder:moveItemsToRootConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item")}}),t[11]=e.count,t[12]=n,t[13]=a):a=t[13],a}}}function pD(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pE(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pP(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pT(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pA(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pO(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function pI(e){let t=(0,d.c)(27),{buttonProps:n,className:a,folderFieldName:l}=e,r=void 0===a?"":a,{t:c}=(0,s.d)(),p=eR(pR),h;t[0]!==l?(h=e=>{let[t]=e;return t&&(null==t?void 0:t[l])||null},t[0]=l,t[1]=h):h=t[1];let f=eR(h),m=null==f?void 0:f.value,{id:g,collectionSlug:v,initialData:b,title:x}=lC(),{setModified:y}=eN(),w;t[2]!==c?(w=()=>"".concat(c("general:loading"),"..."),t[2]=c,t[3]=w):w=t[3];let[j,C]=o.useState(w),{config:S}=(0,i.b)(),_=(0,o.useId)(),k,N;t[4]!==S.folders.slug||t[5]!==S.routes.api||t[6]!==m||t[7]!==c?(k=()=>{!async function(){if(m&&("string"==typeof m||"number"==typeof m)){let e=await (await fetch("".concat(S.routes.api,"/").concat(S.folders.slug,"/").concat(m))).json();C((null==e?void 0:e.name)||c("folder:noFolder"))}else C(c("folder:noFolder"))}()},N=[S.folders.slug,S.routes.api,m,c],t[4]=S.folders.slug,t[5]=S.routes.api,t[6]=m,t[7]=c,t[8]=k,t[9]=N):(k=t[8],N=t[9]),o.useEffect(k,N);let D="move-to-folder-".concat(_),E;t[10]!==f||t[11]!==p||t[12]!==l||t[13]!==y?(E=e=>{let{id:t}=e;f.value!==t&&(p({type:"UPDATE",path:l,value:t}),y(!0))},t[10]=f,t[11]=p,t[12]=l,t[13]=y,t[14]=E):E=t[14];let P=!(null==f?void 0:f.value),T;return t[15]!==n||t[16]!==r||t[17]!==v||t[18]!==m||t[19]!==j||t[20]!==g||t[21]!==b||t[22]!==D||t[23]!==E||t[24]!==P||t[25]!==x?(T=(0,u.jsx)(pL,{buttonProps:n,className:r,collectionSlug:v,docData:b,docID:g,docTitle:x,fromFolderID:m,fromFolderName:j,modalSlug:D,onConfirm:E,skipConfirmModal:P}),t[15]=n,t[16]=r,t[17]=v,t[18]=m,t[19]=j,t[20]=g,t[21]=b,t[22]=D,t[23]=E,t[24]=P,t[25]=x,t[26]=T):T=t[26],T}function pR(e){let[,t]=e;return t}var pL=e=>{let t=(0,d.c)(25),{buttonProps:n,className:a,collectionSlug:l,docData:o,docID:r,docTitle:c,fromFolderID:h,fromFolderName:f,modalSlug:m,onConfirm:g,skipConfirmModal:v}=e,{getEntityConfig:b}=(0,i.b)(),{i18n:x,t:y}=(0,s.d)(),{closeModal:w,openModal:j}=ne(),C=ao(),S;if(t[0]!==n||t[1]!==a||t[2]!==w||t[3]!==l||t[4]!==o||t[5]!==r||t[6]!==c||t[7]!==C||t[8]!==h||t[9]!==f||t[10]!==b||t[11]!==x||t[12]!==m||t[13]!==g||t[14]!==j||t[15]!==v||t[16]!==y){let e=ae({slug:m,depth:C}),i;t[18]!==l||t[19]!==c||t[20]!==b||t[21]!==x?(i=c||(0,p.sC)(b({collectionSlug:l}).labels.singular,x),t[18]=l,t[19]=c,t[20]=b,t[21]=x,t[22]=i):i=t[22];let s=i,d;t[23]!==a?(d=["move-doc-to-folder",a].filter(Boolean),t[23]=a,t[24]=d):d=t[24],S=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tp,{buttonStyle:"subtle",className:d.join(" "),icon:(0,u.jsx)(dJ,{}),iconPosition:"left",onClick:()=>{j(e)},...n,children:f}),(0,u.jsx)(pj,{action:"moveItemToFolder",drawerSlug:e,fromFolderID:h,fromFolderName:f,itemsToMove:[{itemKey:"".concat(l,"-").concat(r),relationTo:l,value:{...o,id:r}}],onConfirm:async t=>{if(h!==t.id&&"function"==typeof g)try{await g(t),t.id?n0.success(y("folder:itemHasBeenMoved",{folderName:'"'.concat(t.name,'"'),title:s})):n0.success(y("folder:itemHasBeenMovedToRoot",{title:s}))}catch(e){}w(e)},skipConfirmModal:v,title:s})]}),t[0]=n,t[1]=a,t[2]=w,t[3]=l,t[4]=o,t[5]=r,t[6]=c,t[7]=C,t[8]=h,t[9]=f,t[10]=b,t[11]=x,t[12]=m,t[13]=g,t[14]=j,t[15]=v,t[16]=y,t[17]=S}else S=t[17];return S},pM={x:0,y:0,width:0,height:0,unit:"px"},pF=(e,t,n)=>Math.min(Math.max(e,t),n),pB=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")},pz=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function pV(e,t,n){return"%"===e.unit?{...pM,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function pU(e,t,n){return e.unit?"px"===e.unit?{...pM,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...pM,...e,unit:"px"}}function pH(e,t,n,a,l){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:l,c={...e},u=Math.min(o,a),d=Math.min(r,l),p=Math.min(i,a),h=Math.min(s,l);t&&(t>1?(d=(u=r?r*t:u)/t,p=i*t):(u=(d=o?o/t:d)*t,h=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let f=a-(c.x+c.width);f<0&&(c.x=Math.min(c.x,a-u),c.width+=f);let m=l-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,l-d),c.height+=m),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<d&&(("nw"===n||"ne"==n)&&(c.y-=d-c.height),c.height=d),c.width>p&&(("sw"===n||"nw"==n)&&(c.x-=p-c.width),c.width=p),c.height>h&&(("nw"===n||"ne"==n)&&(c.y-=h-c.height),c.height=h),t){let e=c.width/c.height;if(e<t){let e=Math.max(c.width/t,d);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){let e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}var pq={capture:!0,passive:!1},pK=class e extends o.PureComponent{get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:a,height:l}=e.getBoundingClientRect();return{x:t,y:n,width:a,height:l}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:a}=this.getBox();e&&a&&n(pU(t,e,a),pV(t,e,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,pq),this.document.addEventListener("pointerup",this.onDocPointerDone,pq),this.document.addEventListener("pointercancel",this.onDocPointerDone,pq),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,pq),this.document.removeEventListener("pointerup",this.onDocPointerDone,pq),this.document.removeEventListener("pointercancel",this.onDocPointerDone,pq),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),a=e.clientX-e.startClientX,l=e.clientY-e.startClientY;return n.x=pF(e.startCropX+a,0,t.width-n.width),n.y=pF(e.startCropY+l,0,t.height-n.height),n}getPointRegion(e,t,n,a){let l,{evData:o}=this,r=o.clientX-e.x,i=o.clientY-e.y,s;return s=a&&t?"nw"===t||"n"===t||"ne"===t:i<o.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:r<o.startCropX)?s?"nw":"sw":s?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=Math.min(n,e.width),o=Math.min(a,e.height);return t&&(l||o)?t>1?l?[l,l/t]:[o*t,o]:o?[o*t,o]:[l,l/t]:[l,o]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:a,maxHeight:l}=this.props,o=this.getBox(),[r,i]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight),s=this.makePixelCrop(o),c=this.getPointRegion(o,t.ord,r,i),u=t.ord||c,d=t.clientX-t.startClientX,p=t.clientY-t.startClientY;(r&&"nw"===u||"w"===u||"sw"===u)&&(d=Math.min(d,-r)),(i&&"nw"===u||"n"===u||"ne"===u)&&(p=Math.min(p,-i));let h={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(h.x=t.startCropX,h.width=d,n?h.height=h.width/n:h.height=Math.abs(p),h.y=t.startCropY-h.height):"se"===c?(h.x=t.startCropX,h.y=t.startCropY,h.width=d,n?h.height=h.width/n:h.height=p):"sw"===c?(h.x=t.startCropX+d,h.y=t.startCropY,h.width=Math.abs(d),n?h.height=h.width/n:h.height=p):"nw"===c&&(h.x=t.startCropX+d,h.width=Math.abs(d),n?(h.height=h.width/n,h.y=t.startCropY-h.height):(h.height=Math.abs(p),h.y=t.startCropY+p));let f=pH(h,n,c,o.width,o.height,r,i,a,l);return n||e.xyOrds.indexOf(u)>-1?s=f:e.xOrds.indexOf(u)>-1?(s.x=f.x,s.width=f.width):e.yOrds.indexOf(u)>-1&&(s.y=f.y,s.height=f.height),s.x=pF(s.x,0,o.width-s.width),s.y=pF(s.y,0,o.height-s.height),s}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:a,renderSelectionAddon:l,ruleOfThirds:r,crop:i}=this.props,s=this.getCropStyle();if(i)return o.createElement("div",{style:s,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!a&&o.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},o.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),o.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),o.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),l&&o.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},l(this.state)),r&&o.createElement(o.Fragment,null,o.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),o.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return pU({...pM,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:a,crop:l,disabled:r,locked:i,style:s,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,p=l?this.createCropSelection():null,h=pB("ReactCrop",a,u&&"ReactCrop--active",r&&"ReactCrop--disabled",i&&"ReactCrop--locked",d&&"ReactCrop--new-crop",l&&e&&"ReactCrop--fixed-aspect",l&&n&&"ReactCrop--circular-crop",l&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&l&&!l.width&&!l.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return o.createElement("div",{ref:this.componentRef,className:h,style:s},o.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),p)}constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,o.createRef)(),this.mediaRef=(0,o.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,a=this.getBox();if(!t)return;let l=pU(t,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let o=e.target.dataset.ord,r=e.clientX,i=e.clientY,s=l.x,c=l.y;if(o){let t=e.clientX-a.x,n=e.clientY-a.y,u=0,d=0;"ne"===o||"e"==o?(u=t-(l.x+l.width),d=n-l.y,s=l.x,c=l.y+l.height):"se"===o||"s"===o?(u=t-(l.x+l.width),d=n-(l.y+l.height),s=l.x,c=l.y):"sw"===o||"w"==o?(u=t-l.x,d=n-(l.y+l.height),s=l.x+l.width,c=l.y):("nw"===o||"n"==o)&&(u=t-l.x,d=n-l.y,s=l.x+l.width,c=l.y+l.height),r=s+a.x+u,i=c+a.y+d}this.evData={startClientX:r,startClientY:i,startCropX:s,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!!o,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:a,keepSelection:l,onChange:o}=this.props,r=this.getBox();if(n||a||l&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.clientX-r.x,s=e.clientY-r.y,c={unit:"px",x:i,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:i,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(pU(c,r.width,r.height),pV(c,r.width,r.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t,{crop:n,disabled:a,onChange:l,onDragStart:o}=this.props,r=this.getBox();if(a||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));let{evData:i}=this;i.clientX=e.clientX,i.clientY=e.clientY,pz(n,t=i.isResize?this.resizeCrop():this.dragCrop())||l(pU(t,r.width,r.height),pV(t,r.width,r.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:a,onChange:l,onComplete:o}=this.props;if(a)return;let r=t.key,i=!1;if(!n)return;let s=this.getBox(),c=this.makePixelCrop(s),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===r?(c.x-=u,i=!0):"ArrowRight"===r?(c.x+=u,i=!0):"ArrowUp"===r?(c.y-=u,i=!0):"ArrowDown"===r&&(c.y+=u,i=!0),i){t.cancelable&&t.preventDefault(),c.x=pF(c.x,0,s.width-c.width),c.y=pF(c.y,0,s.height-c.height);let e=pU(c,s.width,s.height),n=pV(c,s.width,s.height);l(e,n),o&&o(e,n)}},this.onHandlerKeyDown=(t,n)=>{let{aspect:a=0,crop:l,disabled:o,minWidth:r=0,minHeight:i=0,maxWidth:s,maxHeight:c,onChange:u,onComplete:d}=this.props,p=this.getBox();if(o||!l||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,f=pH(function(e,t,n,a){let l={...e};return"ArrowLeft"===t?"nw"===a?(l.x-=n,l.y-=n,l.width+=n,l.height+=n):"w"===a?(l.x-=n,l.width+=n):"sw"===a?(l.x-=n,l.width+=n,l.height+=n):"ne"===a?(l.y+=n,l.width-=n,l.height-=n):"e"===a?l.width-=n:"se"===a&&(l.width-=n,l.height-=n):"ArrowRight"===t&&("nw"===a?(l.x+=n,l.y+=n,l.width-=n,l.height-=n):"w"===a?(l.x+=n,l.width-=n):"sw"===a?(l.x+=n,l.width-=n,l.height-=n):"ne"===a?(l.y-=n,l.width+=n,l.height+=n):"e"===a?l.width+=n:"se"===a&&(l.width+=n,l.height+=n)),"ArrowUp"===t?"nw"===a?(l.x-=n,l.y-=n,l.width+=n,l.height+=n):"n"===a?(l.y-=n,l.height+=n):"ne"===a?(l.y-=n,l.width+=n,l.height+=n):"sw"===a?(l.x+=n,l.width-=n,l.height-=n):"s"===a?l.height-=n:"se"===a&&(l.width-=n,l.height-=n):"ArrowDown"===t&&("nw"===a?(l.x+=n,l.y+=n,l.width-=n,l.height-=n):"n"===a?(l.y+=n,l.height-=n):"ne"===a?(l.y+=n,l.width-=n,l.height-=n):"sw"===a?(l.x-=n,l.width+=n,l.height+=n):"s"===a?l.height+=n:"se"===a&&(l.width+=n,l.height+=n)),l}(pU(l,p.width,p.height),t.key,h,n),a,n,p.width,p.height,r,i,s,c);if(!pz(l,f)){let e=pV(f,p.width,p.height);u(f,e),d&&d(f,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:a,onDragEnd:l}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,l&&l(e),a&&a(pU(t,o.width,o.height),pV(t,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}};pK.xOrds=["e","w"],pK.yOrds=["n","s"],pK.xyOrds=["nw","ne","se","sw"],pK.nudgeStep=1,pK.nudgeStepMedium=10,pK.nudgeStepLarge=100,pK.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var pW="edit-upload",pY=e=>{let{name:t,onChange:n,ref:a,value:l}=e;return(0,u.jsxs)("div",{className:"".concat(pW,"__input"),children:[t,(0,u.jsx)("input",{name:t,onChange:e=>n(e.target.value),ref:a,type:"number",value:l})]})},pG={height:100,unit:"%",width:100,x:0,y:0},pQ=e=>{let{fileName:t,fileSrc:n,imageCacheTag:a,initialCrop:l,initialFocalPoint:r,onSave:i,showCrop:c,showFocalPoint:d}=e,{closeModal:p}=ne(),{t:h}=(0,s.d)(),[f,m]=(0,o.useState)(()=>({...pG,...l||{}})),g={x:50,y:50},[v,b]=(0,o.useState)(()=>({...g,...r})),[x,y]=(0,o.useState)(!1),[w,j]=(0,o.useState)(0),[C,S]=(0,o.useState)(0),_=(0,o.useRef)(void 0),k=(0,o.useRef)(void 0),N=(0,o.useRef)(void 0),D=(0,o.useRef)(null),E=(0,o.useRef)(null),[P,T]=(0,o.useState)(!1),A=e=>{j(e.currentTarget.naturalHeight),S(e.currentTarget.naturalWidth),T(!0)},O=e=>{let{dimension:t,value:n}=e,a=parseInt(n);if("width"===t&&a>=C||"height"===t&&a>=w)return null;let l=a/("width"===t?C:w)*100;if(100===l||0===l)return null;m({...f,[t]:l})},I=e=>{let{coordinate:t,value:n}=e,a=parseInt(n);a>=0&&a<=100&&b(e=>({...e,[t]:a}))},R=o.useCallback(e=>{let{x:t,y:n}=e;b({x:t,y:n}),y(!1)},[]),L=a?"".concat(n,"?").concat(encodeURIComponent(a)):n;return(0,u.jsxs)("div",{className:pW,children:[(0,u.jsxs)("div",{className:"".concat(pW,"__header"),children:[(0,u.jsxs)("h2",{title:"".concat(h("general:editing")," ").concat(t),children:[h("general:editing")," ",t]}),(0,u.jsxs)("div",{className:"".concat(pW,"__actions"),children:[(0,u.jsx)(tp,{"aria-label":h("general:cancel"),buttonStyle:"secondary",className:"".concat(pW,"__cancel"),onClick:()=>p(he),children:h("general:cancel")}),(0,u.jsx)(tp,{"aria-label":h("general:applyChanges"),buttonStyle:"primary",className:"".concat(pW,"__save"),disabled:!P,onClick:()=>{var e,t,n,a;"function"==typeof i&&i({crop:f||void 0,focalPoint:v,heightInPixels:Number(null!=(n=null==D||null==(e=D.current)?void 0:e.value)?n:w),widthInPixels:Number(null!=(a=null==E||null==(t=E.current)?void 0:t.value)?a:C)}),p(he)},children:h("general:applyChanges")})]})]}),(0,u.jsxs)("div",{className:"".concat(pW,"__toolWrap"),children:[(0,u.jsx)("div",{className:"".concat(pW,"__crop"),children:(0,u.jsxs)("div",{className:"".concat(pW,"__focal-wrapper"),ref:_,style:{aspectRatio:"".concat(C/w)},children:[c?(0,u.jsx)(pK,{className:"".concat(pW,"__reactCrop"),crop:f,onChange:(e,t)=>m(t),onComplete:()=>y(!0),renderSelectionAddon:()=>(0,u.jsx)("div",{className:"".concat(pW,"__crop-window"),ref:N}),children:(0,u.jsx)("img",{alt:h("upload:setCropArea"),onLoad:A,ref:k,src:L})}):(0,u.jsx)("img",{alt:h("upload:setFocalPoint"),onLoad:A,ref:k,src:L}),d&&(0,u.jsx)(pX,{boundsRef:c?N:k,checkBounds:!!c&&x,className:"".concat(pW,"__focalPoint"),containerRef:_,initialPosition:v,onDragEnd:R,setCheckBounds:!!c&&y,children:(0,u.jsx)(eJ,{})})]})}),(c||d)&&(0,u.jsxs)("div",{className:"".concat(pW,"__sidebar"),children:[c&&(0,u.jsxs)("div",{className:"".concat(pW,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(pW,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:crop")}),(0,u.jsx)(tp,{buttonStyle:"none",className:"".concat(pW,"__reset"),onClick:()=>m({height:100,unit:"%",width:100,x:0,y:0}),children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(pW,"__description"),children:h("upload:cropToolDescription")}),(0,u.jsxs)("div",{className:"".concat(pW,"__inputsWrap"),children:[(0,u.jsx)(pY,{name:"".concat(h("upload:width")," (px)"),onChange:e=>O({dimension:"width",value:e}),ref:E,value:(f.width/100*C).toFixed(0)}),(0,u.jsx)(pY,{name:"".concat(h("upload:height")," (px)"),onChange:e=>O({dimension:"height",value:e}),ref:D,value:(f.height/100*w).toFixed(0)})]})]}),d&&(0,u.jsxs)("div",{className:"".concat(pW,"__groupWrap"),children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"".concat(pW,"__titleWrap"),children:[(0,u.jsx)("h3",{children:h("upload:focalPoint")}),(0,u.jsx)(tp,{buttonStyle:"none",className:"".concat(pW,"__reset"),onClick:()=>{let e=_.current.getBoundingClientRect(),t=c?N.current.getBoundingClientRect():k.current.getBoundingClientRect();b({x:(t.left-e.left+t.width/2)/e.width*100,y:(t.top-e.top+t.height/2)/e.height*100})},children:h("general:reset")})]})}),(0,u.jsx)("span",{className:"".concat(pW,"__description"),children:h("upload:focalPointDescription")}),(0,u.jsxs)("div",{className:"".concat(pW,"__inputsWrap"),children:[(0,u.jsx)(pY,{name:"X %",onChange:e=>I({coordinate:"x",value:e}),value:v.x.toFixed(0)}),(0,u.jsx)(pY,{name:"Y %",onChange:e=>I({coordinate:"y",value:e}),value:v.y.toFixed(0)})]})]})]})]})]})},pX=e=>{let{boundsRef:t,checkBounds:n,children:a,className:l,containerRef:r,initialPosition:i={x:50,y:50},onDragEnd:s,setCheckBounds:c}=e,[d,p]=(0,o.useState)({x:i.x,y:i.y}),[h,f]=(0,o.useState)(!1),m=(0,o.useRef)(void 0),g=o.useCallback((e,n,a)=>{let l=r.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),i=null!=e?e:o.left,s=null!=n?n:o.top,c=i<o.left||i>o.right,u=s<o.top||s>o.bottom,d=(i-l.left)/l.width*100,p=(s-l.top)/l.height*100,h=(o.left-l.left+o.width/2)/l.width*100,m=(o.top-l.top+o.height/2)/l.height*100;return(c||u)&&(f(!1),i<o.left?d=(o.left-l.left)/l.width*100:i>o.right&&(d=(l.width-(l.right-o.right))/l.width*100),s<o.top?p=(o.top-l.top)/l.height*100:s>o.bottom&&(p=(l.height-(l.bottom-o.bottom))/l.height*100),a&&(d=c?h:d,p=u?m:p)),{x:d,y:p}},[t,r]);return o.useEffect(()=>{if(!(h||!m.current)&&n){let{height:e,left:t,top:n,width:a}=m.current.getBoundingClientRect(),{x:l,y:o}=g(t+a/2,n+e/2,!0);s({x:l,y:o}),p({x:l,y:o}),c(!1);return}},[g,h,n,c,d.x,d.y,s]),o.useEffect(()=>{p({x:i.x,y:i.y})},[i.x,i.y]),(0,u.jsxs)("div",{className:["".concat(pW,"__draggable-container"),h&&"".concat(pW,"__draggable-container--dragging")].filter(Boolean).join(" "),onMouseMove:e=>{if(!h)return null;let{x:t,y:n}=g(e.clientX,e.clientY);p({x:t,y:n})},children:[(0,u.jsx)("button",{className:["".concat(pW,"__draggable"),l].filter(Boolean).join(" "),onMouseDown:e=>{e.preventDefault(),f(!0)},onMouseUp:()=>{f(!1),s(d)},ref:m,style:{left:"".concat(d.x,"%"),top:"".concat(d.y,"%")},type:"button",children:a}),(0,u.jsx)("div",{})]})},p$="file-details-draggable",pZ=e=>{let t,n=(0,d.c)(20),{collectionSlug:a,doc:l,hideRemoveFile:o,imageCacheTag:r,isSortable:i,removeItem:s,rowIndex:c,uploadConfig:p}=e,{id:h,filename:f,thumbnailURL:m,url:g}=l,v;n[0]!==a||n[1]!==h?(v={id:h,collectionSlug:a},n[0]=a,n[1]=h,n[2]=v):v=n[2];let[b,x]=cI(v),y;return n[3]!==b||n[4]!==x||n[5]!==a||n[6]!==l||n[7]!==f||n[8]!==o||n[9]!==r||n[10]!==i||n[11]!==s||n[12]!==c||n[13]!==m||n[14]!==p||n[15]!==g?(y=e=>(0,u.jsxs)("div",{className:[p$,e&&i&&"".concat(p$,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:[(0,u.jsxs)("div",{className:"".concat(p$,"--drag-wrapper"),children:[i&&e&&(0,u.jsx)("div",{className:"".concat(p$,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(lX,{})}),(0,u.jsx)(cW,{className:"".concat(p$,"__thumbnail"),collectionSlug:a,doc:l,fileSrc:m||g,imageCacheTag:r,uploadConfig:p})]}),(0,u.jsx)("div",{className:"".concat(p$,"__main-detail"),children:f}),(0,u.jsxs)("div",{className:"".concat(p$,"__actions"),children:[(0,u.jsx)(b,{}),(0,u.jsx)(x,{children:(0,u.jsx)(e$,{})}),!o&&s&&(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(p$,"__remove"),icon:"x",iconStyle:"none",onClick:()=>s(c),round:!0})]})]}),n[3]=b,n[4]=x,n[5]=a,n[6]=l,n[7]=f,n[8]=o,n[9]=r,n[10]=i,n[11]=s,n[12]=c,n[13]=m,n[14]=p,n[15]=g,n[16]=y):y=n[16],n[17]!==h||n[18]!==y?(t=(0,u.jsx)(tR,{id:h,children:y},h),n[17]=h,n[18]=y,n[19]=t):t=n[19],t},pJ=e=>{let{defaultMessage:t,successMessage:n,value:a}=e,l=(0,o.useRef)(null),[r,i]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),{t:p}=(0,s.d)();return a?(0,u.jsxs)("button",{className:"copy-to-clipboard",onClick:()=>{l&&l.current&&(l.current.select(),l.current.setSelectionRange(0,a.length+1),document.execCommand("copy"),i(!0))},onMouseEnter:()=>{d(!0),i(!1)},onMouseLeave:()=>{d(!1),i(!1)},type:"button",children:[(0,u.jsx)(lW,{}),(0,u.jsxs)(tc,{delay:r?0:void 0,show:c||r,children:[r&&(null!=n?n:p("general:copied")),!r&&(null!=t?t:p("general:copy"))]}),(0,u.jsx)("textarea",{readOnly:!0,ref:l,tabIndex:-1,value:a})]}):null},p0="file-meta",p1=e=>{let{filename:t,filesize:n,height:a,mimeType:l,url:r,width:i}=e;return(0,u.jsxs)("div",{className:p0,children:[(0,u.jsxs)("div",{className:"".concat(p0,"__url"),children:[(0,u.jsx)("a",{href:r,rel:"noopener noreferrer",target:"_blank",children:t}),(0,u.jsx)(pJ,{defaultMessage:"Copy URL",value:r})]}),(0,u.jsxs)("div",{className:"".concat(p0,"__size-type"),children:[(0,z.B)(n),"number"==typeof i&&"number"==typeof a&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",i,"x",a]}),l&&(0,u.jsxs)(o.Fragment,{children:["\xa0-\xa0",l]})]})]})},p3="file-details",p2=e=>{var t;let{customUploadActions:n,doc:a,enableAdjustments:l,handleRemove:o,hasImageSizes:r,hideRemoveFile:i,imageCacheTag:s,uploadConfig:c}=e,{filename:d,filesize:p,height:h,mimeType:f,thumbnailURL:m,url:g,width:v}=a,b=null==(t=c.displayPreview)||t;return(0,u.jsx)("div",{className:p3,children:(0,u.jsxs)("header",{children:[b&&(0,u.jsx)(cW,{className:"".concat(p3,"__thumbnail"),doc:a,fileSrc:m||g,imageCacheTag:s,uploadConfig:c}),(0,u.jsxs)("div",{className:"".concat(p3,"__main-detail"),children:[(0,u.jsx)(p1,{filename:d,filesize:p,height:h,mimeType:f,url:g,width:v}),(l||n)&&(0,u.jsx)(ha,{customActions:n,enableAdjustments:!!l,enablePreviewSizes:r&&a.filename,mimeType:f})]}),!i&&o&&(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(p3,"__remove"),icon:"x",iconStyle:"with-border",onClick:o,round:!0})]})})},p6=e=>{let{hasMany:t}=e;return t?(0,u.jsx)(pZ,{...e}):(0,u.jsx)(p2,{...e})},p5="preview-sizes",p4=(e,t)=>{if(!t||0===t.length)return e;let n={};return t.forEach(t=>{let{name:a}=t;e[a]&&(n[a]=e[a])}),n},p8=e=>{let{name:t,active:n,meta:a,onClick:l,previewSrc:o}=e;return(0,u.jsxs)("div",{className:["".concat(p5,"__sizeOption"),n&&"".concat(p5,"--selected")].filter(Boolean).join(" "),onClick:"function"==typeof l?l:void 0,onKeyDown:e=>{"function"==typeof l&&"Enter"===e.key&&l()},role:"button",tabIndex:0,children:[(0,u.jsx)("div",{className:"".concat(p5,"__image"),children:(0,u.jsx)("img",{alt:a.filename,src:o})}),(0,u.jsxs)("div",{className:"".concat(p5,"__sizeMeta"),children:[(0,u.jsx)("div",{className:"".concat(p5,"__sizeName"),children:t}),(0,u.jsx)(p1,{...a})]})]})},p7=e=>{let{doc:t,imageCacheTag:n,uploadConfig:a}=e,{imageSizes:l}=a,{sizes:r}=t,[i,s]=(0,o.useState)(()=>p4(r,l)),[c,d]=(0,o.useState)(null),p=e=>e.filename?e.url?"".concat(e.url).concat(n?"?".concat(encodeURIComponent(n)):""):void 0:null;(0,o.useEffect)(()=>{s(p4(r,l))},[r,l,n]);let h=p(c?t.sizes[c]:t),f=(0,o.useMemo)(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return(0,u.jsxs)("div",{className:p5,children:[(0,u.jsxs)("div",{className:"".concat(p5,"__imageWrap"),children:[(0,u.jsxs)("div",{className:"".concat(p5,"__meta"),children:[(0,u.jsx)("div",{className:"".concat(p5,"__sizeName"),children:c||m}),(0,u.jsx)(p1,{...c?i[c]:f})]}),(0,u.jsx)("img",{alt:t.filename,className:"".concat(p5,"__preview"),src:h})]}),(0,u.jsx)("div",{className:"".concat(p5,"__listWrap"),children:(0,u.jsxs)("div",{className:"".concat(p5,"__list"),children:[(0,u.jsx)(p8,{active:!c,meta:f,name:m,onClick:()=>d(null),previewSrc:p(t)}),Object.entries(i).map(e=>{let[t,n]=e,a=c===t,l=p(n);return l?(0,u.jsx)(p8,{active:a,meta:n,name:t,onClick:()=>d(t),previewSrc:l},t):null})]})})]})},p9="file-field",he="edit-upload",ht="preview-sizes",hn=e=>!!e||void 0===e||"A file is required.",ha=e=>{let t=(0,d.c)(10),{customActions:n,enableAdjustments:a,enablePreviewSizes:l,mimeType:r}=e,{t:i}=(0,s.d)(),{openModal:c}=ne(),p,h;if(t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==r||t[4]!==c||t[5]!==i){h=Symbol.for("react.early_return_sentinel");e:{let e,s=(0,N.w)(r)&&"image/svg+xml"!==r&&"image/jxl"!==r;if(!s&&(!n||0===n.length)){h=null;break e}t[8]!==n?(e=n&&n.map(hr),t[8]=n,t[9]=e):e=t[9],p=(0,u.jsxs)("div",{className:"".concat(p9,"__upload-actions"),children:[s&&(0,u.jsxs)(o.Fragment,{children:[l&&(0,u.jsx)(tp,{buttonStyle:"pill",className:"".concat(p9,"__previewSizes"),onClick:()=>{c(ht)},size:"small",children:i("upload:previewSizes")}),a&&(0,u.jsx)(tp,{buttonStyle:"pill",className:"".concat(p9,"__edit"),onClick:()=>{c(he)},size:"small",children:i("upload:editImage")})]}),e]})}t[0]=n,t[1]=a,t[2]=l,t[3]=r,t[4]=c,t[5]=i,t[6]=p,t[7]=h}else p=t[6],h=t[7];return h!==Symbol.for("react.early_return_sentinel")?h:p},hl=e=>{let t=(0,d.c)(5),{resetUploadEdits:n,updateUploadEdits:a,uploadEdits:l}=lb(),o;return t[0]!==e||t[1]!==n||t[2]!==a||t[3]!==l?(o=(0,u.jsx)(ho,{...e,resetUploadEdits:n,updateUploadEdits:a,uploadEdits:l}),t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o):o=t[4],o},ho=e=>{var t,n,a,l,r,c;let{collectionSlug:d,customActions:p,initialState:h,onChange:f,resetUploadEdits:m,updateUploadEdits:g,uploadConfig:v,uploadEdits:b}=e,{config:{routes:{api:x},serverURL:y}}=(0,i.b)(),{t:w}=(0,s.d)(),{setModified:j}=eN(),{id:C,docPermissions:S,savedDocumentData:_,setUploadStatus:k}=lC(),D=eT(),{errorMessage:E,setValue:P,showError:T,value:A}=lT({path:"file",validate:hn}),[O,I]=(0,o.useState)(null),[R,L]=(0,o.useState)(!1),[M,F]=(0,o.useState)((null==A?void 0:A.name)||""),[B,z]=(0,o.useState)(!1),[V,U]=(0,o.useState)(""),H=(0,o.useRef)(null),q=(0,o.useRef)(null),K="object"==typeof(null==v?void 0:v.pasteURL)&&(null==(t=v.pasteURL.allowList)?void 0:t.length)>0,W=(0,o.useCallback)(e=>{e instanceof File&&I(URL.createObjectURL(e)),P(e),z(!1),"function"==typeof f&&f(e)},[f,P]),Y=(e,t)=>new File([e],t,{type:e.type,lastModified:e.lastModified}),G=o.useCallback(e=>{let t=e.target.value;A&&(W(Y(A,t)),F(t))},[W,A]),Q=(0,o.useCallback)(e=>{W(null==e?void 0:e[0])},[W]),X=(0,o.useCallback)(()=>{L(!0),W(null),I(""),U(""),m(),z(!1)},[W,m]),$=(0,o.useCallback)(e=>{j(!0),g(e)},[j,g]),Z=async()=>{if(!(!V||(null==v?void 0:v.pasteURL)===!1)){k("uploading");try{let e=await fetch(V);if(!e.ok)throw Error("Fetch failed with status: ".concat(e.status));let t=await e.blob(),n=decodeURIComponent(V.split("/").pop()||""),a=new File([t],n,{type:t.type});W(a),k("idle");return}catch(e){if(!K){n0.error("Failed to fetch the file."),k("failed");return}}try{let e="/".concat(d,"/paste-url").concat(C?"/".concat(C,"?"):"?","src=").concat(encodeURIComponent(V)),t=await fetch("".concat(y).concat(x).concat(e));if(!t.ok)throw Error("Fetch failed with status: ".concat(t.status));let n=await t.blob(),a=decodeURIComponent(V.split("/").pop()||""),l=new File([n],a,{type:n.type});W(l),k("idle")}catch(e){n0.error("The provided URL is not allowed."),k("failed")}}};(0,o.useEffect)(()=>{var e;(null==h||null==(e=h.file)?void 0:e.value)instanceof File&&(I(URL.createObjectURL(h.file.value)),L(!1))},[h]),(0,o.useEffect)(()=>{B&&H.current},[B]),(0,o.useEffect)(()=>{D&&L(!1)},[D]);let J=(null==S?void 0:S.update)&&"delete"in S&&(null==S?void 0:S.delete),ee=(null==v||null==(n=v.imageSizes)?void 0:n.length)>0,et=!!(null==v?void 0:v.resizeOptions),en=(null==v?void 0:v.focalPoint)===!0,{crop:ea=!0,focalPoint:el=!0}=v,eo=el&&(ee||et||en),er=null==(a=v.mimeTypes)?void 0:a.join(", "),ei=(null==v?void 0:v.cacheTags)&&(null==_?void 0:_.updatedAt);return!v.hideFileInputOnCreate||(null==_?void 0:_.filename)?(0,u.jsxs)("div",{className:[lL,p9].filter(Boolean).join(" "),children:[(0,u.jsx)(tV,{message:E,showError:T}),_&&_.filename&&!R&&(0,u.jsx)(p6,{collectionSlug:d,customUploadActions:p,doc:_,enableAdjustments:ea||eo,handleRemove:J?X:void 0,hasImageSizes:ee,hideRemoveFile:v.hideRemoveFile,imageCacheTag:ei,uploadConfig:v}),(!v.hideFileInputOnCreate&&!(null==_?void 0:_.filename)||R)&&(0,u.jsxs)("div",{className:"".concat(p9,"__upload"),children:[!A&&!B&&(0,u.jsx)(dw,{onChange:Q,children:(0,u.jsxs)("div",{className:"".concat(p9,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(p9,"__dropzoneButtons"),children:[(0,u.jsx)(tp,{buttonStyle:"pill",onClick:()=>{q.current&&q.current.click()},size:"small",children:w("upload:selectFile")}),(0,u.jsx)("input",{accept:er,"aria-hidden":"true",className:"".concat(p9,"__hidden-input"),hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&Q(e.target.files)},ref:q,type:"file"}),(null==v?void 0:v.pasteURL)!==!1&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(p9,"__orText"),children:w("general:or")}),(0,u.jsx)(tp,{buttonStyle:"pill",onClick:()=>{z(!0)},size:"small",children:w("upload:pasteURL")})]})]}),(0,u.jsxs)("p",{className:"".concat(p9,"__dragAndDropText"),children:[w("general:or")," ",w("upload:dragAndDrop")]})]})}),B&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(p9,"__remote-file-wrap"),children:[(0,u.jsx)("input",{className:"".concat(p9,"__remote-file"),onChange:e=>{U(e.target.value)},ref:H,type:"text",value:V}),(0,u.jsx)("div",{className:"".concat(p9,"__add-file-wrap"),children:(0,u.jsx)("button",{className:"".concat(p9,"__add-file"),onClick:()=>{Z()},type:"button",children:w("upload:addFile")})})]}),(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(p9,"__remove"),icon:"x",iconStyle:"with-border",onClick:()=>{z(!1)},round:!0,tooltip:w("general:cancel")})]}),A&&O&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(p9,"__thumbnail-wrap"),children:(0,u.jsx)(cW,{collectionSlug:d,fileSrc:(0,N.w)(A.type)?O:null})}),(0,u.jsxs)("div",{className:"".concat(p9,"__file-adjustments"),children:[(0,u.jsx)("input",{className:"".concat(p9,"__filename"),onChange:G,type:"text",value:M||A.name}),(0,u.jsx)(ha,{customActions:p,enableAdjustments:ea||eo,enablePreviewSizes:ee&&(null==_?void 0:_.filename)&&!R,mimeType:A.type})]}),(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(p9,"__remove"),icon:"x",iconStyle:"with-border",onClick:X,round:!0,tooltip:w("general:cancel")})]})]}),(A||(null==_?void 0:_.filename))&&(0,u.jsx)(tH,{children:(0,u.jsx)(an,{Header:null,slug:he,children:(0,u.jsx)(pQ,{fileName:(null==A?void 0:A.name)||(null==_?void 0:_.filename),fileSrc:(null==_?void 0:_.url)||O,imageCacheTag:ei,initialCrop:null!=(c=null==b?void 0:b.crop)?c:void 0,initialFocalPoint:{x:(null==b||null==(l=b.focalPoint)?void 0:l.x)||(null==_?void 0:_.focalX)||50,y:(null==b||null==(r=b.focalPoint)?void 0:r.y)||(null==_?void 0:_.focalY)||50},onSave:$,showCrop:ea,showFocalPoint:eo})})}),_&&ee&&(0,u.jsx)(an,{className:"".concat(p9,"__previewDrawer"),hoverTitle:!0,slug:ht,title:w("upload:sizesFor",{label:_.filename}),children:(0,u.jsx)(p7,{doc:_,imageCacheTag:ei,uploadConfig:v})})]}):null};function hr(e,t){return(0,u.jsx)(o.Fragment,{children:e},t)}function hi(e){let{resetUploadEdits:t,submitted:n,updateUploadEdits:a,uploadEdits:l}=e,{action:r,collectionSlug:s,docPermissions:c,getDocPreferences:d,hasSavePermission:p,initialState:h,isEditing:m,isInitializing:v,Upload:b}=lC(),{onSave:x}=cD(),{getFormState:y}=cr(),{config:{folders:w,routes:{admin:j}},getEntityConfig:C}=(0,i.b)(),S=o.useRef(null),_=C({collectionSlug:s}),k=(0,f.useRouter)(),N=tq(),D=(0,f.useSearchParams)(),{reportUpdate:E}=dX(),{startRouteTransition:P}=eH(),T=D.get("locale"),A=_.slug,[O]=o.useState(A),I=(0,o.useCallback)(e=>{var n,a;if(E({entitySlug:A,updatedAt:(null==e||null==(n=e.result)?void 0:n.updatedAt)||new Date().toISOString()}),"function"==typeof x&&x({...e,operation:"create"}),!m&&N<2){let t=(0,g.Q)({adminRoute:j,path:"/collections/".concat(A,"/").concat(null==e||null==(a=e.doc)?void 0:a.id).concat(T?"?locale=".concat(T):"")});P(()=>k.push(t))}else t()},[j,A,N,m,T,x,E,t,k,P]),R=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=c_(S),l=await d(),{state:o}=await y({collectionSlug:A,docPermissions:c,docPreferences:l,formState:t,operation:"create",schemaPath:O,signal:a.signal,skipValidation:!n});return S.current=null,o},[A,O,d,y,c]);return(0,o.useEffect)(()=>{let e=S.current;return()=>{cS(e)}},[]),(0,u.jsx)(lN,{operation:"create",children:(0,u.jsx)(hy,{children:(0,u.jsxs)(dn,{action:r,className:"".concat("collection-edit","__form"),disabled:v||!p,initialState:v?void 0:h,isInitializing:v,method:"POST",onChange:[R],onSuccess:I,submitted:n,children:[(0,u.jsx)(dZ,{BeforeFields:(0,u.jsx)(o.Fragment,{children:b||(0,u.jsx)(ho,{collectionSlug:_.slug,customActions:[_.folders&&(0,u.jsx)(pI,{buttonProps:{buttonStyle:"pill",size:"small"},folderFieldName:w.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:h,resetUploadEdits:t,updateUploadEdits:a,uploadConfig:_.upload,uploadEdits:l})}),docPermissions:c,fields:_.fields,schemaPathSegments:[_.slug]}),(0,u.jsx)(hc,{}),(0,u.jsx)(hs,{})]})})})}function hs(){let{getFields:e}=eN(),{getFormDataRef:t}=dO();return(0,o.useEffect)(()=>{t.current=e},[e,t]),null}function hc(){let{docConfig:e}=lC(),{activeIndex:t,setFormTotalErrorCount:n}=dO(),a=o.useRef(0),l=o.useCallback(e=>{e!==a.current&&(n({errorCount:e,index:t}),a.current=e)},[t,n]);return e?(0,u.jsx)(oD,{fields:e.fields,path:[],setErrorCount:l}):null}var hu="bulk-upload-drawer--add-more-files",hd="file-selections";function hp(){let e=(0,d.c)(36),{activeIndex:t,addFiles:n,forms:a,isInitializing:l,removeFile:r,setActiveIndex:i,thumbnailUrls:c,totalErrorCount:p}=dO(),{initialFiles:h,maxFiles:f}=hw(),{i18n:m,t:g}=(0,s.d)(),{closeModal:v,openModal:b}=ne(),[x,y]=o.useState(!1),{breakpoints:w}=e9(),j;e[0]!==r?(j=e=>{r(e)},e[0]=r,e[1]=j):j=e[1];let C=j,S;e[2]!==n||e[3]!==v?(S=e=>{n(e),v(hu)},e[2]=n,e[3]=v,e[4]=S):S=e[4];let _=S,k=l?h.length:a.length,D=x&&"".concat(hd,"__showingFiles"),E;e[5]!==D?(E=[hd,D].filter(Boolean),e[5]=D,e[6]=E):E=e[6];let P=E.join(" "),T;if(e[7]!==t||e[8]!==w.m||e[9]!==v||e[10]!==a||e[11]!==_||e[12]!==C||e[13]!==m||e[14]!==h||e[15]!==l||e[16]!==f||e[17]!==b||e[18]!==i||e[19]!==x||e[20]!==g||e[21]!==P||e[22]!==c||e[23]!==p||e[24]!==k){let n,o,r;e[26]===Symbol.for("react.memo_cache_sentinel")?(n=()=>y(hf),e[26]=n):n=e[26],e[27]!==v?(o=()=>v(hu),e[27]=v,e[28]=o):o=e[28],e[29]!==t||e[30]!==C||e[31]!==m||e[32]!==i||e[33]!==g||e[34]!==c?(r=(e,n)=>{var a;let{errorCount:l,formState:o}=e,r=(null==o||null==(a=o.file)?void 0:a.value)||{};return(0,u.jsxs)("div",{className:["".concat(hd,"__fileRowContainer"),n===t&&"".concat(hd,"__fileRowContainer--active"),l&&l>0&&"".concat(hd,"__fileRowContainer--error")].filter(Boolean).join(" "),children:[(0,u.jsxs)("button",{className:"".concat(hd,"__fileRow"),onClick:()=>i(n),type:"button",children:[(0,u.jsx)(cW,{className:"".concat(hd,"__thumbnail"),fileSrc:(0,N.w)(r.type)?c[n]:null}),(0,u.jsx)("div",{className:"".concat(hd,"__fileDetails"),children:(0,u.jsx)("p",{className:"".concat(hd,"__fileName"),title:r.name,children:r.name||g("upload:noFile")})}),r instanceof File?(0,u.jsx)("p",{className:"".concat(hd,"__fileSize"),children:function(e){let t=e.size,n=0===t?0:Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,n)).toFixed(+(n>1))+" "+["B","kB","MB","GB","TB"][n]}(r)}):null,(0,u.jsx)("div",{className:"".concat(hd,"__remove ").concat(hd,"__remove--underlay"),children:(0,u.jsx)(s.a,{})}),l?(0,u.jsx)(tF,{className:"".concat(hd,"__errorCount"),count:l,i18n:m}):null]}),(0,u.jsx)("button",{"aria-label":g("general:remove"),className:"".concat(hd,"__remove ").concat(hd,"__remove--overlay"),onClick:()=>C(n),type:"button",children:(0,u.jsx)(s.a,{})})]},n)},e[29]=t,e[30]=C,e[31]=m,e[32]=i,e[33]=g,e[34]=c,e[35]=r):r=e[35],T=(0,u.jsxs)("div",{className:P,children:[w.m&&x?(0,u.jsx)("div",{className:"".concat(hd,"__mobileBlur")}):null,(0,u.jsxs)("div",{className:"".concat(hd,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(hd,"__headerTopRow"),children:[(0,u.jsxs)("div",{className:"".concat(hd,"__header__text"),children:[(0,u.jsx)(tF,{count:p,i18n:m,withMessage:!0}),(0,u.jsx)("p",{children:(0,u.jsxs)("strong",{title:"".concat(k," ").concat(g(k>1?"upload:filesToUpload":"upload:fileToUpload")),children:[k," ",g(k>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),(0,u.jsxs)("div",{className:"".concat(hd,"__header__actions"),children:["number"!=typeof f||k<f?(0,u.jsx)(l7,{className:"".concat(hd,"__header__addFile"),onClick:()=>b(hu),children:g("upload:addFile")}):null,(0,u.jsxs)(tp,{buttonStyle:"transparent",className:"".concat(hd,"__toggler"),onClick:n,children:[(0,u.jsx)("span",{className:"".concat(hd,"__toggler__label"),children:(0,u.jsxs)("strong",{title:"".concat(k," ").concat(g(k>1?"upload:filesToUpload":"upload:fileToUpload")),children:[k," ",g(k>1?"upload:filesToUpload":"upload:fileToUpload")]})}),(0,u.jsx)(eX,{direction:x?"down":"up"})]}),(0,u.jsx)(an,{gutter:!1,Header:null,slug:hu,children:(0,u.jsx)(d_,{onCancel:o,onDrop:_})})]})]}),(0,u.jsx)("div",{className:"".concat(hd,"__header__mobileDocActions"),children:(0,u.jsx)(dK,{})})]}),(0,u.jsx)("div",{className:"".concat(hd,"__animateWrapper"),children:(0,u.jsx)(lZ,{height:!w.m||x?"auto":0,children:(0,u.jsxs)("div",{className:"".concat(hd,"__filesContainer"),children:[l&&0===a.length&&h.length>0?Array.from(h).map(hh):null,a.map(r)]})})})]}),e[7]=t,e[8]=w.m,e[9]=v,e[10]=a,e[11]=_,e[12]=C,e[13]=m,e[14]=h,e[15]=l,e[16]=f,e[17]=b,e[18]=i,e[19]=x,e[20]=g,e[21]=P,e[22]=c,e[23]=p,e[24]=k,e[25]=T}else T=e[25];return T}function hh(e,t){return(0,u.jsx)(i.d,{animationDelay:"calc(".concat(t," * 60ms)"),height:"35px"},t)}function hf(e){return!e}var hm="bulk-upload--file-manager";function hg(){let e=(0,d.c)(18),{activeIndex:t,collectionSlug:n,docPermissions:a,documentSlots:l,forms:o,hasPublishPermission:r,hasSavePermission:c,hasSubmitted:h,resetUploadEdits:f,updateUploadEdits:m}=dO(),g=o[t],{getEntityConfig:v}=(0,i.b)(),{i18n:b}=(0,s.d)(),{user:x}=af(),{openModal:y}=ne(),w;if(e[0]!==g||e[1]!==t||e[2]!==n||e[3]!==a||e[4]!==l||e[5]!==o.length||e[6]!==v||e[7]!==r||e[8]!==c||e[9]!==h||e[10]!==b||e[11]!==y||e[12]!==f||e[13]!==m||e[14]!==x){let i=v({collectionSlug:n}),s;e[16]!==y?(s=()=>y(dW),e[16]=y,e[17]=s):s=e[17],w=(0,u.jsxs)("div",{className:hm,children:[(0,u.jsx)(hp,{}),(0,u.jsxs)("div",{className:"".concat(hm,"__editView"),children:[(0,u.jsx)(dC,{onClose:s,title:(0,p.sC)(i.labels.singular,b)}),g?(0,u.jsxs)(l_,{collectionSlug:n,currentEditor:x,docPermissions:a,hasPublishedDoc:!1,hasPublishPermission:r,hasSavePermission:c,id:null,initialData:(0,O.r)(g.formState,!0),initialState:g.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:l.Upload,versionCount:0,children:[(0,u.jsx)(dq,{collectionConfig:i}),(0,u.jsx)(hi,{resetUploadEdits:f,submitted:h,updateUploadEdits:m,uploadEdits:null==g?void 0:g.uploadEdits})]},"".concat(t,"-").concat(o.length)):null]}),(0,u.jsx)(dY,{})]}),e[0]=g,e[1]=t,e[2]=n,e[3]=a,e[4]=l,e[5]=o.length,e[6]=v,e[7]=r,e[8]=c,e[9]=h,e[10]=b,e[11]=y,e[12]=f,e[13]=m,e[14]=x,e[15]=w}else w=e[15];return w}function hv(){var e,t;let{addFiles:n,forms:a,isInitializing:l}=dO(),{closeModal:r}=ne(),{collectionSlug:c,drawerSlug:d}=hw(),{getEntityConfig:p}=(0,i.b)(),{t:h}=(0,s.d)(),f=null==(t=p({collectionSlug:c}))||null==(e=t.upload)?void 0:e.mimeTypes,m=o.useCallback(e=>{let t=new DataTransfer;for(let n of e)(void 0===f||0===f.length||(0,L.d)(n.type,f))&&t.items.add(n);0===t.files.length?n0.error(h("error:invalidFileType")):n(t.files)},[n,h,f]);return c?a.length||l?(0,u.jsx)(hg,{}):(0,u.jsx)(d_,{acceptMimeTypes:null==f?void 0:f.join(", "),onCancel:()=>r(d),onDrop:m}):null}function hb(){let e=(0,d.c)(2),{drawerSlug:t}=hw(),n;return e[0]!==t?(n=(0,u.jsx)(an,{gutter:!1,Header:null,slug:t,children:(0,u.jsx)(dA,{children:(0,u.jsx)(hv,{})})}),e[0]=t,e[1]=n):n=e[1],n}var hx=o.createContext({collectionSlug:"",currentActivePath:void 0,drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setCurrentActivePath:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function hy(e){let t,n,a=(0,d.c)(16),{children:l}=e,[r,i]=o.useState(),[s,c]=o.useState(),[p,h]=o.useState(),[f,m]=o.useState(void 0),[g,v]=o.useState(void 0),[b,x]=o.useState(void 0),y=hj(),w;a[0]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{i(e)},a[0]=w):w=a[0];let j=w,C;a[1]===Symbol.for("react.memo_cache_sentinel")?(C=(e,t)=>{c(n=>({...n,[e]:t}))},a[1]=C):C=a[1];let S=C,_;return a[2]!==p?(_=()=>{"function"==typeof p&&p()},a[2]=p,a[3]=_):_=a[3],a[4]!==b||a[5]!==s?(t=(e,t)=>{s&&Object.hasOwn(s,b)&&(0,s[b])(e,t)},a[4]=b,a[5]=s,a[6]=t):t=a[6],a[7]!==l||a[8]!==r||a[9]!==b||a[10]!==y||a[11]!==f||a[12]!==g||a[13]!==_||a[14]!==t?(n=(0,u.jsx)(hx,{value:{collectionSlug:r,currentActivePath:b,drawerSlug:y,initialFiles:f,maxFiles:g,onCancel:_,onSuccess:t,setCollectionSlug:j,setCurrentActivePath:x,setInitialFiles:m,setMaxFiles:v,setOnCancel:h,setOnSuccess:S},children:(0,u.jsxs)(o.Fragment,{children:[l,(0,u.jsx)(hb,{})]})}),a[7]=l,a[8]=r,a[9]=b,a[10]=y,a[11]=f,a[12]=g,a[13]=_,a[14]=t,a[15]=n):n=a[15],n}var hw=()=>o.use(hx);function hj(){let e=ao();return"".concat("bulk-upload-drawer-slug","-").concat(e||1)}var hC="upload-relationship-details";function hS(e){var t,n;let a,l,o=(0,d.c)(34),{id:r,allowEdit:s,allowRemove:c,alt:p,byteSize:h,className:f,collectionSlug:m,displayPreview:g,filename:v,mimeType:b,onRemove:x,reloadDoc:y,src:w,thumbnailSrc:j,withMeta:C,x:S,y:_}=e,k=void 0===C||C,{config:N}=(0,i.b)(),D;o[0]!==m||o[1]!==N?(D="collections"in N?N.collections.find(e=>e.slug===m):void 0,o[0]=m,o[1]=N,o[2]=D):D=o[2];let E=D,P=w?r:void 0,T;o[3]!==m||o[4]!==P?(T={id:P,collectionSlug:m},o[3]=m,o[4]=P,o[5]=T):T=o[5];let[A,,O]=cI(T),{openDrawer:I}=O,R;o[6]!==m||o[7]!==y?(R=async e=>{let{doc:t}=e;return y(t.id,m)},o[6]=m,o[7]=y,o[8]=R):R=o[8];let L=R,M;o[9]!==S||o[10]!==_?(M=function(e,t){let n=[];return t&&n.push((0,z.B)(t)),S&&_&&n.push("".concat(S,"x").concat(_)),e&&n.push(e),n.join(" — ")},o[9]=S,o[10]=_,o[11]=M):M=o[11];let F=k?M(b,h):"",B=null==(n=null!=g?g:null==(t=E.upload)?void 0:t.displayPreview)||n,V;o[12]!==f?(V=[hC,f].filter(Boolean),o[12]=f,o[13]=V):V=o[13];let U=V.join(" "),H;return o[14]!==p||o[15]!==v||o[16]!==B||o[17]!==j?(H=B&&(0,u.jsx)(cY,{alt:p,className:"".concat(hC,"__thumbnail"),filename:v,fileSrc:j,size:"small"}),o[14]=p,o[15]=v,o[16]=B,o[17]=j,o[18]=H):H=o[18],o[19]!==v||o[20]!==w?(a=w?(0,u.jsx)("a",{href:w,target:"_blank",children:v}):v,o[19]=v,o[20]=w,o[21]=a):a=o[21],o[22]!==A||o[23]!==s||o[24]!==c||o[25]!==F||o[26]!==x||o[27]!==L||o[28]!==I||o[29]!==a||o[30]!==U||o[31]!==H||o[32]!==k?(l=(0,u.jsxs)("div",{className:U,children:[(0,u.jsxs)("div",{className:"".concat(hC,"__imageAndDetails"),children:[H,(0,u.jsxs)("div",{className:"".concat(hC,"__details"),children:[(0,u.jsx)("p",{className:"".concat(hC,"__filename"),children:a}),k?(0,u.jsx)("p",{className:"".concat(hC,"__meta"),children:F}):null]})]}),!1!==s||!1!==c?(0,u.jsxs)("div",{className:"".concat(hC,"__actions"),children:[!1!==s?(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(hC,"__edit"),icon:"edit",iconStyle:"none",onClick:I}):null,!1!==c?(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(hC,"__remove"),icon:"x",iconStyle:"none",onClick:()=>x()}):null,(0,u.jsx)(A,{onSave:L})]}):null]}),o[22]=A,o[23]=s,o[24]=c,o[25]=F,o[26]=x,o[27]=L,o[28]=I,o[29]=a,o[30]=U,o[31]=H,o[32]=k,o[33]=l):l=o[33],l}var h_="upload-field-card";function hk(e){let{children:t,className:n,size:a="medium"}=e;return(0,u.jsx)("div",{className:[h_,n,"".concat(h_,"--size-").concat(a)].filter(Boolean).join(" "),children:t})}var hN="upload upload--has-many";function hD(e){let t=(0,d.c)(27),{className:n,displayPreview:a,fileDocs:l,isSortable:o,onRemove:r,onReorder:i,readonly:s,reloadDoc:c,serverURL:p}=e,h;t[0]!==l||t[1]!==i?(h=(e,t)=>{if(e===t)return;let n=[...l],[a]=n.splice(e,1);n.splice(t,0,a),i(n)},t[0]=l,t[1]=i,t[2]=h):h=t[2];let f=h,m;t[3]!==l||t[4]!==r?(m=e=>{let t=[...l||[]];t.splice(e,1),r(0===t.length?[]:t)},t[3]=l,t[4]=r,t[5]=m):m=t[5];let g=m,v;t[6]!==n?(v=[hN,n].filter(Boolean),t[6]=n,t[7]=v):v=t[7];let b=v.join(" "),x;if(t[8]!==a||t[9]!==l||t[10]!==o||t[11]!==f||t[12]!==s||t[13]!==c||t[14]!==g||t[15]!==p||t[16]!==b){let e,n;t[18]!==f?(e=e=>{let{moveFromIndex:t,moveToIndex:n}=e;return f(t,n)},t[18]=f,t[19]=e):e=t[19],t[20]!==a||t[21]!==o||t[22]!==s||t[23]!==c||t[24]!==g||t[25]!==p?(n=(e,t)=>{let{relationTo:n,value:l}=e,r=String(l.id),i,d;if(l.url)try{i=new URL(l.url,p).toString()}catch(e){i="".concat(p).concat(l.url)}if(l.thumbnailURL)try{d=new URL(l.thumbnailURL,p).toString()}catch(e){d="".concat(p).concat(l.thumbnailURL)}return(0,N.w)(l.mimeType)&&(d=(0,D.k)({sizes:l.sizes,thumbnailURL:d,url:i,width:l.width})),(0,u.jsx)(tR,{disabled:!o||s,id:r,children:e=>(0,u.jsx)("div",{className:["".concat(hN,"__dragItem"),e&&o&&"".concat(hN,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:(0,u.jsxs)(hk,{size:"small",children:[e&&(0,u.jsx)("div",{className:"".concat(hN,"__drag"),...e.attributes,...e.listeners,children:(0,u.jsx)(lX,{})}),(0,u.jsx)(hS,{allowEdit:!s,allowRemove:!s,alt:(null==l?void 0:l.alt)||(null==l?void 0:l.filename),byteSize:l.filesize,collectionSlug:n,displayPreview:a,filename:l.filename,id:r,mimeType:null==l?void 0:l.mimeType,onRemove:()=>g(t),reloadDoc:c,src:i,thumbnailSrc:d,withMeta:!1,x:null==l?void 0:l.width,y:null==l?void 0:l.height})]})})},r)},t[20]=a,t[21]=o,t[22]=s,t[23]=c,t[24]=g,t[25]=p,t[26]=n):n=t[26],x=(0,u.jsx)("div",{className:b,children:(0,u.jsx)(tL,{className:"".concat(hN,"__draggable-rows"),ids:null==l?void 0:l.map(hE),onDragEnd:e,children:l.map(n)})}),t[8]=a,t[9]=l,t[10]=o,t[11]=f,t[12]=s,t[13]=c,t[14]=g,t[15]=p,t[16]=b,t[17]=x}else x=t[17];return x}function hE(e){let{value:t}=e;return String(t.id)}function hP(e){let{className:t,displayPreview:n,fileDoc:a,onRemove:l,readonly:o,reloadDoc:r,serverURL:i}=e,{relationTo:s,value:c}=a,d=String(null==c?void 0:c.id),p,h;if(c.url)try{p=new URL(c.url,i).toString()}catch(e){p="".concat(i).concat(c.url)}if(c.thumbnailURL)try{h=new URL(c.thumbnailURL,i).toString()}catch(e){h="".concat(i).concat(c.thumbnailURL)}return(0,N.w)(c.mimeType)&&(h=(0,D.k)({sizes:c.sizes,thumbnailURL:h,url:p,width:c.width})),(0,u.jsx)(hk,{className:["upload upload--has-one",t].filter(Boolean).join(" "),children:(0,u.jsx)(hS,{allowEdit:!o,allowRemove:!o,alt:(null==c?void 0:c.alt)||(null==c?void 0:c.filename),byteSize:c.filesize,collectionSlug:s,displayPreview:n,filename:c.filename,id:d,mimeType:null==c?void 0:c.mimeType,onRemove:l,reloadDoc:r,src:p,thumbnailSrc:h,x:null==c?void 0:c.width,y:null==c?void 0:c.height})})}var hT="upload";function hA(e){var t;let{AfterInput:n,allowCreate:a,api:l,BeforeInput:r,className:c,Description:d,description:p,displayPreview:h,Error:f,filterOptions:m,hasMany:g,isSortable:b,Label:x,label:y,localized:w,maxRows:j,onChange:C,path:S,readOnly:_,relationTo:k,required:N,serverURL:D,showError:E,style:P,value:T}=e,[A,O]=o.useState(),[I,R]=o.useState(Array.isArray(k)?k[0]:k),{openModal:L}=ne(),{drawerSlug:M,setCollectionSlug:F,setCurrentActivePath:B,setInitialFiles:z,setMaxFiles:V,setOnSuccess:U}=hw(),{permissions:H}=af(),{code:q}=aS(),{i18n:K,t:W}=(0,s.d)(),[Y,,{closeDrawer:G,openDrawer:Q}]=uj({collectionSlugs:"string"==typeof k?[k]:k,filterOptions:(0,o.useMemo)(()=>{var e,t,n;return{...m,[I]:{...(null==m?void 0:m[I])||{},id:{...(null==m||null==(e=m[I])?void 0:e.id)||{},not_in:((null==m||null==(n=m[I])||null==(t=n.id)?void 0:t.not_in)||[]).concat(...Array.isArray(T)||T?[T]:[])}}}},[T,I,m])}),[X,,{closeDrawer:$,openDrawer:Z}]=cI({collectionSlug:I}),J=o.useRef(!1),ee=(0,o.useMemo)(()=>{var e,t;return!!a&&!!("string"==typeof I&&(null==H?void 0:H.collections)&&(null==(t=H.collections)||null==(e=t[I])?void 0:e.create))},[I,H,a]),et=o.useCallback(e=>{"function"==typeof C&&C(e)},[C]),en=o.useCallback(async(e,t)=>{if(!e.length)return;let n={depth:0,draft:!0,limit:e.length,locale:q,where:{and:[{id:{in:e}}]}},a=await fetch("".concat(D).concat(l,"/").concat(t),{body:v.A(n),credentials:"include",headers:{"Accept-Language":K.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(a.ok){let t=await a.json(),n=e.map(e=>t.docs.find(t=>String(t.id)===String(e)));return n.includes(void 0)&&g&&(n=n.map((t,n)=>t||{id:e[n],filename:"".concat(W("general:untitled")," - ID: ").concat(e[n]),isPlaceholder:!0})),{...t,docs:n}}return null},[q,D,l,K.language,W,g]),ea=(0,o.useCallback)(e=>{if(g)et([...Array.isArray(T)?T:[],...e.map(e=>e.id)]),O(t=>[...t||[],...e.map(e=>({relationTo:I,value:e}))]);else{let t=e[0];et(t.id),O([{relationTo:I,value:t}])}},[T,et,I,g]),el=o.useCallback(e=>{let t=e;if(!g&&e&&e.length>1){let n=new DataTransfer;n.items.add(e[0]),t=n.files}t&&z(t),F(k),"number"==typeof j&&V(j),B(S),L(M)},[M,g,L,k,F,z,j,V,S,B]),eo=o.useCallback(async e=>{let t=[];for(let[n,a]of e)a&&t.push(n);let n=await en(t,I);n&&O(e=>[...e||[],...n.docs.map(e=>({relationTo:I,value:e}))]),et([...Array.isArray(T)?T:[],...t]),G()},[I,G,et,en,T]),er=o.useCallback(e=>{e.doc&&(O(t=>[...t||[],{relationTo:I,value:e.doc}]),et(e.doc.id)),$()},[$,I,et]),ei=(0,o.useCallback)(async e=>{var t;let{collectionSlug:n,doc:a}=e,l=await en([a.id],n),o=l?null==(t=l.docs)?void 0:t[0]:null;O(e=>o?g?[...e||[],{relationTo:I,value:o}]:[{relationTo:I,value:o}]:e),et(g?[...Array.isArray(T)?T:[],a.id]:a.id),G()},[G,g,en,et,T,I]),es=o.useCallback(async(e,t)=>{let{docs:n}=await en([e],t);if(n[0]){let e=[];O(a=>{let l=null==a?void 0:a.findIndex(e=>{var a,l;return((null==(a=e.value)?void 0:a.id)===n[0].id||(null==(l=e.value)?void 0:l.isPlaceholder))&&e.relationTo===t});if(l>-1){let o=[...a];return o[l]={relationTo:t,value:n[0]},e=o,o}}),e.length&&g&&et(e.map(e=>{var t;return null==(t=e.value)?void 0:t.id}))}},[en,et,g]),eu=o.useCallback(e=>{et(e.map(e=>{let{value:t}=e;return t.id})),O(e)},[et]),ed=o.useCallback(e=>{let t=e?e.map(e=>{let{value:t}=e;return t.id}):null;et(g?t:t?t[0]:null),O(e||[])},[et,g]);(0,o.useEffect)(()=>{async function e(){if(T){J.current=!0;let e=await en(Array.isArray(T)?T:[T],I);e&&O(e.docs.map(e=>({relationTo:I,value:e})))}}J.current||e()},[en,I,T]),(0,o.useEffect)(()=>{U(S,ea)},[T,S,ea,U]);let ep=!T||g&&Array.isArray(T)&&("number"!=typeof j||T.length<j)||!g&&(null==A?void 0:A[0])&&typeof A[0].value>"u";return(0,u.jsxs)("div",{className:[lL,hT,c,E&&"error",_&&"read-only"].filter(Boolean).join(" "),id:"field-".concat(null==S?void 0:S.replace(/\./g,"__")),style:P,children:[(0,u.jsx)(ec,{CustomComponent:x,Fallback:(0,u.jsx)(aN,{label:y,localized:w,path:S,required:N})}),(0,u.jsx)("div",{className:"".concat(hT,"__wrap"),children:(0,u.jsx)(ec,{CustomComponent:f,Fallback:(0,u.jsx)(tV,{path:S,showError:E})})}),r,(0,u.jsxs)("div",{className:"".concat(hT,"__dropzoneAndUpload"),children:[g&&Array.isArray(T)&&T.length>0?(0,u.jsx)(u.Fragment,{children:A&&(null==A?void 0:A.length)>0?(0,u.jsx)(hD,{displayPreview:h,fileDocs:A,isSortable:b&&!_,onRemove:ed,onReorder:eu,readonly:_,reloadDoc:es,serverURL:D}):(0,u.jsx)("div",{className:"".concat(hT,"__loadingRows"),children:T.map(e=>(0,u.jsx)(i.d,{height:"40px"},e))})}):null,!g&&T?(0,u.jsx)(u.Fragment,{children:A&&(null==A?void 0:A.length)>0&&A[0].value?(0,u.jsx)(hP,{displayPreview:h,fileDoc:A[0],onRemove:ed,readonly:_,reloadDoc:es,serverURL:D}):!A||!T||(null==A||null==(t=A[0])?void 0:t.value)?(0,u.jsx)(i.d,{height:"62px"}):(0,u.jsxs)(u.Fragment,{children:[W("general:untitled")," - ID: ",T]})}):null,ep?(0,u.jsx)(dw,{disabled:_||!ee,multipleFiles:g,onChange:el,children:(0,u.jsxs)("div",{className:"".concat(hT,"__dropzoneContent"),children:[(0,u.jsxs)("div",{className:"".concat(hT,"__dropzoneContent__buttons"),children:[ee&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tp,{buttonStyle:"pill",className:"".concat(hT,"__createNewToggler"),disabled:_||!ee,onClick:()=>{_||(g?el():Z())},size:"small",children:W("general:createNew")}),(0,u.jsx)("span",{className:"".concat(hT,"__dropzoneContent__orText"),children:W("general:or")})]}),(0,u.jsx)(tp,{buttonStyle:"pill",className:"".concat(hT,"__listToggler"),disabled:_,onClick:Q,size:"small",children:W("fields:chooseFromExisting")}),(0,u.jsx)(X,{onSave:er}),(0,u.jsx)(Y,{allowCreate:ee,enableRowSelections:g,onBulkSelect:eo,onSelect:ei})]}),ee&&!_&&(0,u.jsxs)("p",{className:"".concat(hT,"__dragAndDropText"),children:[W("general:or")," ",W("upload:dragAndDrop")]})]})}):(0,u.jsx)(u.Fragment,{children:!_&&!A&&(!T||"number"!=typeof j||Array.isArray(T)&&T.length<j)?(0,u.jsx)(i.d,{height:"40px"}):null})]}),n,(0,u.jsx)(ec,{CustomComponent:d,Fallback:(0,u.jsx)(tz,{description:p,path:S})})]})}var hO=lI(function(e){let{field:t,field:{admin:{allowCreate:n,className:a,description:l,isSortable:r}={},hasMany:s,label:c,localized:d,maxRows:p,relationTo:h,required:f},path:m,readOnly:g,validate:v}=e,{config:b}=(0,i.b)(),x=t.displayPreview,{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,filterOptions:k,path:N,setValue:D,showError:E,value:P}=lT({potentiallyStalePath:m,validate:o.useCallback((e,t)=>{if("function"==typeof v)return v(e,{...t,required:f})},[v,f])}),T=(0,o.useMemo)(()=>lR(t),[t]);return(0,u.jsx)(hA,{AfterInput:y,allowCreate:!1!==n,api:b.routes.api,BeforeInput:w,className:a,Description:j,description:l,displayPreview:x,Error:C,filterOptions:k,hasMany:s,isSortable:r,label:c,Label:S,localized:d,maxRows:p,onChange:D,path:N,readOnly:g||_,relationTo:h,required:f,serverURL:b.serverURL,showError:E,style:T,value:P})});function hI(e){let t,n=(0,d.c)(13),{clientFieldConfig:a,forceRender:l,indexPath:o,parentPath:r,parentSchemaPath:i,path:s,permissions:c,readOnly:p,schemaPath:h}=e,f;n[0]!==s?(f=e=>{var t,n;let[a]=e;return a&&(null==a||null==(n=a[s])||null==(t=n.customComponents)?void 0:t.Field)},n[0]=s,n[1]=f):f=n[1];let m=eR(f);if(void 0!==m)return m||null;if(n[2]!==a||n[3]!==l||n[4]!==o||n[5]!==r||n[6]!==i||n[7]!==s||n[8]!==c||n[9]!==p||n[10]!==h){t=Symbol.for("react.early_return_sentinel");e:{var g;let e={forceRender:l,permissions:c,readOnly:p,schemaPath:h},d={...e,indexPath:o,parentPath:r,parentSchemaPath:i};if(null==(g=a.admin)?void 0:g.hidden){t=(0,u.jsx)(s6,{...e,path:s});break e}switch(a.type){case"array":t=(0,u.jsx)(hz,{...d,field:a,path:s});break e;case"blocks":t=(0,u.jsx)(ow,{...d,field:a,path:s});break e;case"checkbox":t=(0,u.jsx)(lH,{...e,field:a,path:s});break e;case"code":t=(0,u.jsx)(ok,{...e,field:a,path:s});break e;case"collapsible":t=(0,u.jsx)(oP,{...d,field:a,path:s});break e;case"date":t=(0,u.jsx)(sK,{...e,field:a,path:s});break e;case"email":t=(0,u.jsx)(sW,{...e,field:a,path:s});break e;case"group":t=(0,u.jsx)(s2,{...d,field:a,path:s});break e;case"join":t=(0,u.jsx)(ur,{...e,field:a,path:s});break e;case"json":t=(0,u.jsx)(ui,{...e,field:a,path:s});break e;case"number":t=(0,u.jsx)(us,{...e,field:a,path:s});break e;case"point":t=(0,u.jsx)(uu,{...e,field:a,path:s});break e;case"radio":t=(0,u.jsx)(uf,{...e,field:a,path:s});break e;case"relationship":t=(0,u.jsx)(uH,{...e,field:a,path:s});break e;case"richText":t=(0,u.jsx)(uq,{...e,field:a,path:s});break e;case"row":t=(0,u.jsx)(uK,{...d,field:a});break e;case"select":t=(0,u.jsx)(uG,{...e,field:a,path:s});break e;case"tabs":t=(0,u.jsx)(ds,{...d,field:a,path:s});break e;case"text":t=(0,u.jsx)(dg,{...e,field:a,path:s});break e;case"textarea":t=(0,u.jsx)(db,{...e,field:a,path:s});break e;case"ui":{let e;n[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,u.jsx)(dx,{}),n[12]=e):e=n[12],t=e;break e}case"upload":t=(0,u.jsx)(hO,{...e,field:a,path:s});break e}}n[2]=a,n[3]=l,n[4]=o,n[5]=r,n[6]=i,n[7]=s,n[8]=c,n[9]=p,n[10]=h,n[11]=t}else t=n[11];if(t!==Symbol.for("react.early_return_sentinel"))return t}var hR="render-fields",hL=e=>{let t=(0,d.c)(22),{className:n,fields:a,forceRender:l,margins:o,parentIndexPath:r,parentPath:i,parentSchemaPath:s,permissions:c,readOnly:p}=e,h=lD();if(a&&a.length>0){let e=o&&"".concat(hR,"--margins-").concat(o),d=!1===o&&"".concat(hR,"--margins-none"),f;t[0]!==n||t[1]!==e||t[2]!==d?(f=[hR,n,e,d].filter(Boolean),t[0]=n,t[1]=e,t[2]=d,t[3]=f):f=t[3];let m=f.join(" "),g;if(t[4]!==a||t[5]!==l||t[6]!==h||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==c||t[11]!==p||t[12]!==m){let e;t[14]!==l||t[15]!==h||t[16]!==r||t[17]!==i||t[18]!==s||t[19]!==c||t[20]!==p?(e=(e,t)=>{var n,a;if(!e||(0,x.I2)(e))return null;let{operation:o,permissions:d,read:f}=(0,y.P)({field:e,operation:h,parentName:(null==i?void 0:i.includes("."))?i.split(".")[i.split(".").length-1]:i,permissions:c});if("name"in e&&!f)return null;let m=p||(null==e||null==(n=e.admin)?void 0:n.readOnly);m&&(null==(a=e.admin)?void 0:a.readOnly)===!1&&(m=!1),"name"in e&&!o&&(m=!0);let{indexPath:g,path:v,schemaPath:b}=(0,w.Z)({field:e,index:t,parentIndexPath:r,parentPath:i,parentSchemaPath:s});return(0,u.jsx)(lE,{value:v,children:(0,u.jsx)(hI,{clientFieldConfig:e,forceRender:l,indexPath:g,parentPath:i,parentSchemaPath:s,path:v,permissions:d,readOnly:m,schemaPath:b})},"".concat(v,"-").concat(t))},t[14]=l,t[15]=h,t[16]=r,t[17]=i,t[18]=s,t[19]=c,t[20]=p,t[21]=e):e=t[21],g=(0,u.jsx)(l6,{className:m,forceRender:l,children:a.map(e)}),t[4]=a,t[5]=l,t[6]=h,t[7]=r,t[8]=i,t[9]=s,t[10]=c,t[11]=p,t[12]=m,t[13]=g}else g=t[13];return g}return null},hM="array-field",hF=e=>{let t=(0,d.c)(42),{addRow:n,attributes:a,CustomRowLabel:l,duplicateRow:o,errorCount:r,fields:c,forceRender:h,hasMaxRows:f,isDragging:m,isLoading:g,isSortable:v,labels:b,listeners:x,moveRow:y,parentPath:w,path:j,permissions:C,readOnly:S,removeRow:_,row:k,rowCount:N,rowIndex:D,schemaPath:E,setCollapse:P,setNodeRef:T,transform:A,transition:O}=e,I=void 0!==h&&h,R=l9(g,500),{i18n:L}=(0,s.d)(),M=eP(),F="".concat((0,p.sC)(b.singular,L)," ").concat(String(D+1).padStart(2,"0")),B=r>0&&M,z=B?"".concat(hM,"__row--has-errors"):"".concat(hM,"__row--no-errors"),V;t[0]!==z?(V=["".concat(hM,"__row"),z].filter(Boolean),t[0]=z,t[1]=V):V=t[1];let U=V.join(" "),H="".concat(w.split(".").join("-"),"-row-").concat(D),q=m?1:void 0,K;if(t[2]!==l||t[3]!==n||t[4]!==a||t[5]!==U||t[6]!==o||t[7]!==r||t[8]!==F||t[9]!==B||t[10]!==c||t[11]!==I||t[12]!==f||t[13]!==L||t[14]!==R||t[15]!==v||t[16]!==x||t[17]!==y||t[18]!==w||t[19]!==j||t[20]!==C||t[21]!==S||t[22]!==_||t[23]!==k.collapsed||t[24]!==k.id||t[25]!==N||t[26]!==D||t[27]!==E||t[28]!==P||t[29]!==T||t[30]!==H||t[31]!==q||t[32]!==A||t[33]!==O){let e,s;t[35]!==r||t[36]!==B||t[37]!==L?(e=B&&(0,u.jsx)(tF,{count:r,i18n:L,withMessage:!0}),t[35]=r,t[36]=B,t[37]=L,t[38]=e):e=t[38],t[39]!==k.id||t[40]!==P?(s=e=>P(k.id,e),t[39]=k.id,t[40]=P,t[41]=s):s=t[41],K=(0,u.jsx)("div",{id:H,ref:T,style:{transform:A,transition:O,zIndex:q},children:(0,u.jsx)(l2,{actions:S?void 0:(0,u.jsx)(lQ,{addRow:n,duplicateRow:o,hasMaxRows:f,index:D,isSortable:v,moveRow:y,removeRow:_,rowCount:N}),className:U,collapsibleStyle:B?"error":"default",dragHandleProps:v?{id:k.id,attributes:a,listeners:x}:void 0,header:(0,u.jsxs)("div",{className:"".concat(hM,"__row-header"),children:[R?(0,u.jsx)(i.d,{height:"1rem",width:"8rem"}):(0,u.jsx)(ez,{CustomComponent:l,label:F,path:j,rowNumber:D}),e]}),isCollapsed:k.collapsed,onToggle:s,children:R?(0,u.jsx)(i.d,{}):(0,u.jsx)(hL,{className:"".concat(hM,"__fields"),fields:c,forceRender:I,margins:"small",parentIndexPath:"",parentPath:j,parentSchemaPath:E,permissions:!0===C?C:null==C?void 0:C.fields,readOnly:S})})},"".concat(w,"-row-").concat(k.id)),t[2]=l,t[3]=n,t[4]=a,t[5]=U,t[6]=o,t[7]=r,t[8]=F,t[9]=B,t[10]=c,t[11]=I,t[12]=f,t[13]=L,t[14]=R,t[15]=v,t[16]=x,t[17]=y,t[18]=w,t[19]=j,t[20]=C,t[21]=S,t[22]=_,t[23]=k.collapsed,t[24]=k.id,t[25]=N,t[26]=D,t[27]=E,t[28]=P,t[29]=T,t[30]=H,t[31]=q,t[32]=A,t[33]=O,t[34]=K}else K=t[34];return K},hB="array-field",hz=lI(e=>{let t,n,a=(0,d.c)(52),{field:l,forceRender:r,path:c,permissions:h,readOnly:f,schemaPath:m,validate:g}=e,{name:v,admin:b,fields:x,label:y,localized:w,maxRows:j,minRows:C,required:S}=l,_;a[0]!==b?(_=void 0===b?{}:b,a[0]=b,a[1]=_):_=a[1];let{className:k,description:N,isSortable:D}=_,E=void 0===D||D,P=void 0!==r&&r,T=null!=m?m:v,A=+(null!=C?!!C:!!S),{setDocFieldPreferences:O}=lC(),{addFieldRow:I,dispatchFields:R,moveFieldRow:L,removeFieldRow:M,setModified:F}=eN(),B=eP(),{code:z}=aS(),{i18n:V,t:U}=(0,s.d)(),{config:H}=(0,i.b)(),{localization:q}=H,K;e:{if(q&&q.fallback){K=z===q.defaultLocale;break e}K=!0}let W=K,Y;a[2]!==U?(Y=e=>{var t,n;return"labels"in e&&(null==e?void 0:e.labels)?e.labels:"labels"in e.field&&e.field.labels?{plural:null==(t=e.field.labels)?void 0:t.plural,singular:null==(n=e.field.labels)?void 0:n.singular}:"label"in e.field&&e.field.label?{plural:void 0,singular:e.field.label}:{plural:U("general:rows"),singular:U("general:row")}},a[2]=U,a[3]=Y):Y=a[3];let G=Y(e),Q;a[4]!==W||a[5]!==j||a[6]!==A||a[7]!==S||a[8]!==g?(Q=(e,t)=>!W&&null===e||("function"==typeof g?g(e,{...t,maxRows:j,minRows:A,required:S}):void 0),a[4]=W,a[5]=j,a[6]=A,a[7]=S,a[8]=g,a[9]=Q):Q=a[9];let X=Q,$;a[10]!==X||a[11]!==c?($={hasRows:!0,potentiallyStalePath:c,validate:X},a[10]=X,a[11]=c,a[12]=$):$=a[12];let{customComponents:Z,disabled:J,errorPaths:ee,path:et,rows:en,showError:ea,valid:el,value:eo}=lT($),er;a[13]!==Z?(er=void 0===Z?{}:Z,a[13]=Z,a[14]=er):er=a[14];let{AfterInput:ei,BeforeInput:es,Description:eu,Error:ed,Label:ep}=er,eh;a[15]!==en?(eh=void 0===en?[]:en,a[15]=en,a[16]=eh):eh=a[16];let ef=eh,em;a[17]!==I||a[18]!==et||a[19]!==T?(em=e=>{I({path:et,rowIndex:e,schemaPath:T}),setTimeout(()=>{lK("".concat(et,"-row-").concat(e))},0)},a[17]=I,a[18]=et,a[19]=T,a[20]=em):em=a[20];let eg=em,ev;a[21]!==R||a[22]!==et||a[23]!==F?(ev=e=>{R({type:"DUPLICATE_ROW",path:et,rowIndex:e}),F(!0),setTimeout(()=>{lK("".concat(et,"-row-").concat(e))},0)},a[21]=R,a[22]=et,a[23]=F,a[24]=ev):ev=a[24];let eb=ev,ex;a[25]!==et||a[26]!==M?(ex=e=>{M({path:et,rowIndex:e})},a[25]=et,a[26]=M,a[27]=ex):ex=a[27];let ey=ex,ew;a[28]!==L||a[29]!==et?(ew=(e,t)=>{L({moveFromIndex:e,moveToIndex:t,path:et})},a[28]=L,a[29]=et,a[30]=ew):ew=a[30];let ej=ew,eC;a[31]!==R||a[32]!==et||a[33]!==ef||a[34]!==O?(eC=e=>{let{collapsedIDs:t,updatedRows:n}=aE({collapsed:e,rows:ef});O(et,{collapsed:t}),R({type:"SET_ALL_ROWS_COLLAPSED",path:et,updatedRows:n})},a[31]=R,a[32]=et,a[33]=ef,a[34]=O,a[35]=eC):eC=a[35];let eS=eC,e_;a[36]!==R||a[37]!==et||a[38]!==ef||a[39]!==O?(e_=(e,t)=>{let{collapsedIDs:n,updatedRows:a}=aD({collapsed:t,rowID:e,rows:ef});R({type:"SET_ROW_COLLAPSED",path:et,updatedRows:a}),O(et,{collapsed:n})},a[36]=R,a[37]=et,a[38]=ef,a[39]=O,a[40]=e_):e_=a[40];let ek=e_,eD=j&&ef.length>=j,eE=ee.length,eT=B&&ee.length>0,eA=(f||J)&&0===ef.length,eO=ef.length&&ef.length<A||S&&0===ef.length,eI=eT?"".concat(hB,"--has-error"):"".concat(hB,"--has-no-error"),eR;return a[41]!==k||a[42]!==eI?(eR=[lL,hB,k,eI].filter(Boolean),a[41]=k,a[42]=eI,a[43]=eR):eR=a[43],a[44]!==ed||a[45]!==et||a[46]!==ea?(t=ea&&(0,u.jsx)(ec,{CustomComponent:ed,Fallback:(0,u.jsx)(tV,{path:et,showError:ea})}),a[44]=ed,a[45]=et,a[46]=ea,a[47]=t):t=a[47],a[48]!==eE||a[49]!==eT||a[50]!==V?(n=eT&&eE>0&&(0,u.jsx)(tF,{count:eE,i18n:V,withMessage:!0}),a[48]=eE,a[49]=eT,a[50]=V,a[51]=n):n=a[51],(0,u.jsxs)("div",{className:eR.join(" "),id:"field-".concat(et.replace(/\./g,"__")),children:[t,(0,u.jsxs)("header",{className:"".concat(hB,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(hB,"__header-wrap"),children:[(0,u.jsxs)("div",{className:"".concat(hB,"__header-content"),children:[(0,u.jsx)("h3",{className:"".concat(hB,"__title"),children:(0,u.jsx)(ec,{CustomComponent:ep,Fallback:(0,u.jsx)(aN,{as:"span",label:y,localized:w,path:et,required:S})})}),n]}),(null==ef?void 0:ef.length)>0&&(0,u.jsxs)("ul",{className:"".concat(hB,"__header-actions"),children:[(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(hB,"__header-action"),onClick:()=>eS(!0),type:"button",children:U("fields:collapseAll")})}),(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"".concat(hB,"__header-action"),onClick:()=>eS(!1),type:"button",children:U("fields:showAll")})})]})]}),(0,u.jsx)(ec,{CustomComponent:eu,Fallback:(0,u.jsx)(tz,{description:N,path:et})})]}),(0,u.jsx)(lq,{fieldValue:eo,localized:w,path:et}),es,((null==ef?void 0:ef.length)>0||!el&&(eA||eO))&&(0,u.jsxs)(tL,{className:"".concat(hB,"__draggable-rows"),ids:ef.map(hV),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return ej(t,n)},children:[ef.map((e,t)=>{let{id:n,isLoading:a}=e,l="".concat(et,".").concat(t),o=null==ee?void 0:ee.filter(e=>e.startsWith(l+".")).length;return(0,u.jsx)(tR,{disabled:f||J||!E,id:n,children:n=>{var r,i;return(0,u.jsx)(hF,{...n,addRow:eg,CustomRowLabel:null==ef||null==(i=ef[t])||null==(r=i.customComponents)?void 0:r.RowLabel,duplicateRow:eb,errorCount:o,fields:x,forceRender:P,hasMaxRows:eD,isLoading:a,isSortable:E,labels:G,moveRow:ej,parentPath:et,path:l,permissions:h,readOnly:f||J,removeRow:ey,row:e,rowCount:null==ef?void 0:ef.length,rowIndex:t,schemaPath:T,setCollapse:ek})}},n)}),!el&&(0,u.jsxs)(o.Fragment,{children:[eA&&(0,u.jsx)(eQ,{children:U("validation:fieldHasNo",{label:(0,p.sC)(G.plural,V)})}),eO&&(0,u.jsx)(eQ,{type:"error",children:U("validation:requiresAtLeast",{count:A,label:(0,p.sC)(A>1?G.plural:G.singular,V)||U(A>1?"general:rows":"general:row")})})]})]}),!eD&&!f&&(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(hB,"__add-row"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{eg(eo||0)},children:U("fields:addLabel",{label:(0,p.sC)(G.singular,V)})}),ei]})});function hV(e){return e.id}var hU=e=>{let t=(0,d.c)(12),{disabled:n,path:a}=e,l=void 0===a?"confirm-password":a,{t:o}=(0,s.d)(),r;t[0]!==l?(r={path:l,validate:hH},t[0]=l,t[1]=r):r=t[1];let{disabled:i,setValue:c,showError:p,value:h}=lT(r),f=p&&"error",m;t[2]!==f?(m=[lL,"confirm-password",f].filter(Boolean),t[2]=f,t[3]=m):m=t[3];let g=m.join(" "),v;return t[4]!==i||t[5]!==n||t[6]!==l||t[7]!==c||t[8]!==o||t[9]!==g||t[10]!==h?(v=(0,u.jsxs)("div",{className:g,children:[(0,u.jsx)(aN,{htmlFor:"field-confirm-password",label:o("authentication:confirmPassword"),required:!0}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(tV,{path:l}),(0,u.jsx)("input",{"aria-label":o("authentication:confirmPassword"),autoComplete:"off",disabled:!!(i||n),id:"field-confirm-password",name:"confirm-password",onChange:c,type:"password",value:h||""})]})]}),t[4]=i,t[5]=n,t[6]=l,t[7]=c,t[8]=o,t[9]=g,t[10]=h,t[11]=v):v=t[11],v};function hH(e,t){return(0,V.C5)(e,{name:"confirm-password",type:"text",required:!0,...t})}var hq=e=>{let t=(0,d.c)(28),{AfterInput:n,autoComplete:a,BeforeInput:l,className:o,description:r,Description:i,Error:c,inputRef:h,Label:f,label:m,localized:g,onChange:v,onKeyDown:b,path:x,placeholder:y,readOnly:w,required:j,rtl:C,showError:S,style:_,value:k,width:N}=e,D=void 0===a?"off":a,{i18n:E}=(0,s.d)(),P=S&&"error",T=w&&"read-only",A;t[0]!==o||t[1]!==P||t[2]!==T?(A=[lL,"password",o,P,T].filter(Boolean),t[0]=o,t[1]=P,t[2]=T,t[3]=A):A=t[3];let O=A.join(" "),I;return t[4]!==n||t[5]!==l||t[6]!==i||t[7]!==c||t[8]!==f||t[9]!==D||t[10]!==r||t[11]!==E||t[12]!==h||t[13]!==m||t[14]!==g||t[15]!==v||t[16]!==b||t[17]!==x||t[18]!==y||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==S||t[23]!==_||t[24]!==O||t[25]!==k||t[26]!==N?(I=(0,u.jsxs)("div",{className:O,style:{..._,width:N},children:[(0,u.jsx)(ec,{CustomComponent:f,Fallback:(0,u.jsx)(aN,{label:m,localized:g,path:x,required:j})}),(0,u.jsxs)("div",{className:"".concat(lL,"__wrap"),children:[(0,u.jsx)(ec,{CustomComponent:c,Fallback:(0,u.jsx)(tV,{path:x,showError:S})}),(0,u.jsxs)("div",{children:[l,(0,u.jsx)("input",{"aria-label":(0,p.sC)(m,E),autoComplete:D,"data-rtl":C,disabled:w,id:"field-".concat(x.replace(/\./g,"__")),name:x,onChange:v,onKeyDown:b,placeholder:(0,p.sC)(y,E),ref:h,type:"password",value:k||""}),n]}),(0,u.jsx)(ec,{CustomComponent:i,Fallback:(0,u.jsx)(tz,{description:r,path:x})})]})]}),t[4]=n,t[5]=l,t[6]=i,t[7]=c,t[8]=f,t[9]=D,t[10]=r,t[11]=E,t[12]=h,t[13]=m,t[14]=g,t[15]=v,t[16]=b,t[17]=x,t[18]=y,t[19]=w,t[20]=j,t[21]=C,t[22]=S,t[23]=_,t[24]=O,t[25]=k,t[26]=N,t[27]=I):I=t[27],I},hK=lI(e=>{let{autoComplete:t,field:n,field:{admin:{className:a,disabled:l,placeholder:r,rtl:c}={},label:d,localized:p,required:h}={},inputRef:f,path:m,validate:g}=e,{t:v}=(0,s.d)(),b=aS(),{config:x}=(0,i.b)(),y=(0,o.useCallback)((e,t)=>{let n=m?m.split("."):[];return"function"==typeof g?g(e,{...t,required:h}):(0,V.wJ)(e,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:n,preferences:{fields:{}},req:{payload:{config:x},t:v},required:!0,siblingData:{}})},[g,x,v,h,m]),{customComponents:{AfterInput:w,BeforeInput:j,Description:C,Error:S,Label:_}={},disabled:k,setValue:N,showError:D,value:E}=lT({path:m,validate:y}),P=lM({fieldLocalized:!1,fieldRTL:c,locale:b,localizationConfig:x.localization||void 0}),T=(0,o.useMemo)(()=>lR(n),[n]);return(0,u.jsx)(hq,{AfterInput:w,autoComplete:t,BeforeInput:j,className:a,Description:C,Error:S,inputRef:f,Label:_,label:d,localized:p,onChange:e=>{N(e.target.value)},path:m,placeholder:r,readOnly:k||l,required:h,rtl:P,showError:D,style:T,value:E||""})}),hW={array:hz,blocks:ow,checkbox:lH,code:ok,collapsible:oP,confirmPassword:hU,date:sK,email:sW,group:s2,hidden:s6,join:ur,json:ui,number:us,password:hK,point:uu,radio:uf,relationship:uH,richText:uq,row:uK,select:uG,tabs:ds,text:dg,textarea:db,ui:dx,upload:hO},hY={...hW,Description:tz,Error:tV,Label:aN,RowLabel:ez},hG=new Map([]),hQ={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},hX=e=>(hQ[e.toLowerCase()]||e).trim().toLowerCase().replace("key",""),h$=e=>{let t=hX(e);"meta"===t&&hG.forEach((e,t)=>"meta"!==t&&hG.delete(t)),hG.set(t,Date.now())},hZ=e=>{let t=hX(e);"meta"===t&&hG.clear(),hG.delete(t)},hJ=(e,t)=>{let n=(0,d.c)(9),{cmdCtrlKey:a,editDepth:l,keyCodes:r}=e,{modalState:i}=ne(),s;n[0]!==a||n[1]!==l||n[2]!==t||n[3]!==r||n[4]!==i?(s=e=>{var n,o;let s=(null==(n=e.detail)?void 0:n.key)?e.detail:e;if(void 0===s.key)return;hG.forEach(h0),s.code&&h$(s.code);let c=window.navigator.userAgent.includes("Mac OS X"),u=[...hG.keys()].filter(h1);if((0,U._)(new Set(u),new Set(r))&&(!a||c&&hG.has("meta")||!c&&s.ctrlKey)){if(((null==(o=Object.keys(i).filter(e=>{var t;return null==(t=i[e])?void 0:t.isOpen}))?void 0:o.length)+1||1)!==l)return;t(s)}},n[0]=a,n[1]=l,n[2]=t,n[3]=r,n[4]=i,n[5]=s):s=n[5];let c=s,u,p;n[6]!==c?(u=()=>(document.addEventListener("keydown",c,!1),document.addEventListener("bypassKeyDown",c,!1),document.addEventListener("keyup",h3,!1),()=>{document.removeEventListener("keydown",c),document.removeEventListener("bypassKeyDown",c),document.removeEventListener("keyup",h3)}),p=[c,h3],n[6]=c,n[7]=u,n[8]=p):(u=n[7],p=n[8]),(0,o.useEffect)(u,p)};function h0(e,t){Date.now()-e>3e3&&hG.delete(t)}function h1(e){return!["alt","ctrl","meta","shift"].includes(e)}function h3(e){e.code&&hZ(e.code)}var h2=(e,t)=>{let n,a,l,r,i,c,u=(0,d.c)(32),p;u[0]!==t?(p=void 0===t?{}:t,u[0]=t,u[1]=p):p=u[1];let{initialData:h,initialParams:f}=p,m;u[2]!==f?(m=void 0===f?{}:f,u[2]=f,u[3]=m):m=u[3];let g=m,{i18n:b}=(0,s.d)(),x;u[4]!==h?(x=h||{},u[4]=h,u[5]=x):x=u[5];let[y,w]=(0,o.useState)(x),[j,C]=(0,o.useState)(g),[S,_]=(0,o.useState)(!h),[k,N]=(0,o.useState)(!1),{code:D}=aS(),E=(0,o.useRef)(!1),P;if(u[6]!==D||u[7]!==j){let e;u[9]!==j?(e="object"==typeof j?j:{},u[9]=j,u[10]=e):e=u[10],P=v.A({locale:D,...e},{addQueryPrefix:!0}),u[6]=D,u[7]=j,u[8]=P}else P=u[8];let T=P,A;return u[11]!==b.language||u[12]!==h||u[13]!==T||u[14]!==e?(A=()=>{if(h&&!E.current){E.current=!0;return}let t=new AbortController;return e?(async()=>{N(!1),_(!0);try{let n=await ad.get("".concat(e).concat(T),{headers:{"Accept-Language":b.language},signal:t.signal});n.status>201&&N(!0);let a=await n.json();w(a),_(!1)}catch(e){t.signal.aborted||(N(!0),_(!1))}})():(N(!1),_(!1)),()=>{try{t.abort()}catch(e){}}},u[11]=b.language,u[12]=h,u[13]=T,u[14]=e,u[15]=A):A=u[15],u[16]!==b.language||u[17]!==h||u[18]!==D||u[19]!==T||u[20]!==e?(n=[e,D,T,b.language,h],u[16]=b.language,u[17]=h,u[18]=D,u[19]=T,u[20]=e,u[21]=n):n=u[21],(0,o.useEffect)(A,n),u[22]!==h?(a=()=>{h&&E.current&&w(h)},l=[h],u[22]=h,u[23]=a,u[24]=l):(a=u[23],l=u[24]),(0,o.useEffect)(a,l),u[25]!==y||u[26]!==k||u[27]!==S?(r={data:y,isError:k,isLoading:S},u[25]=y,u[26]=k,u[27]=S,u[28]=r):r=u[28],u[29]===Symbol.for("react.memo_cache_sentinel")?(i={setParams:C},u[29]=i):i=u[29],u[30]!==r?(c=[r,i],u[30]=r,u[31]=c):c=u[31],c},h6=e=>{let t,n=(0,d.c)(5),[a,l]=(0,o.useState)(),r,i;return n[0]!==e?(r=()=>{let t;return e&&(t=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:t,contentRect:n}=e,a=0,o=0;if(t){let e=Array.isArray(t)?t[0]:t;if(e){let{blockSize:t,inlineSize:n}=e;a=n,o=t}}else if(n){let{height:e,width:t}=n;a=t,o=e}l({height:o,width:a})})})).observe(e),()=>{t&&t.unobserve(e)}},i=[e],n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]),(0,o.useEffect)(r,i),n[3]!==a?(t={size:a},n[3]=a,n[4]=t):t=n[4],t},h5=e=>{var t;let n=(0,d.c)(4),{admin:a,fields:l}=e,{useAsTitle:o}=a,{i18n:r}=(0,s.d)(),i;return n[0]!==l||n[1]!==r||n[2]!==o?(i=null==(t=(0,j.A)(l,{i18n:r,moveSubFieldsToTop:!0}))?void 0:t.find(e=>"name"in e&&e.name===o),n[0]=l,n[1]=r,n[2]=o,n[3]=i):i=n[3],i},h4=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},h8=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},h7="sort-header",h9=e=>{let t=(0,d.c)(8),{appearance:n}=e,{handleSortPress:a,isActive:l,sort:r}=function(){let e,t=(0,d.c)(12),{handleSortChange:n,orderableFieldName:a,query:l}=cn(),r=Array.isArray(l.sort)?l.sort[0]:l.sort,i=(0,o.useRef)(r==="-".concat(a)?"desc":"asc"),s=r==="-".concat(a)||r===a,c,u;t[0]!==s||t[1]!==a||t[2]!==r?(c=()=>{s&&(i.current=r==="-".concat(a)?"desc":"asc")},u=[a,r,s],t[0]=s,t[1]=a,t[2]=r,t[3]=c,t[4]=u):(c=t[3],u=t[4]),(0,o.useEffect)(c,u),t[5]!==n||t[6]!==s||t[7]!==a?(e=()=>{if(s){n("asc"===i.current?"-".concat(a):a),i.current="asc"===i.current?"desc":"asc";return}n("asc"===i.current?a:"-".concat(a))},t[5]=n,t[6]=s,t[7]=a,t[8]=e):e=t[8];let p=e,h;return t[9]!==p||t[10]!==s?(h={handleSortPress:p,isActive:s,sort:i},t[9]=p,t[10]=s,t[11]=h):h=t[11],h}(),{t:i}=(0,s.d)(),c=n&&"".concat(h7,"--appearance-").concat(n),p;t[0]!==c?(p=[h7,c].filter(Boolean),t[0]=c,t[1]=p):p=t[1];let h=p.join(" "),f;return t[2]!==a||t[3]!==l||t[4]!==r.current||t[5]!==i||t[6]!==h?(f=(0,u.jsx)("div",{className:h,children:(0,u.jsx)("div",{className:"".concat(h7,"__buttons"),children:"desc"===r.current?(0,u.jsx)("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:ascending"),label:"Order"}),className:"".concat(h7,"__button ").concat(h7,"__").concat(r.current," ").concat(l?"".concat(h7,"--active"):""),onClick:a,type:"button",children:(0,u.jsx)(h4,{})}):(0,u.jsx)("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:descending"),label:"Order"}),className:"".concat(h7,"__button ").concat(h7,"__").concat(r.current," ").concat(l?"".concat(h7,"--active"):""),onClick:a,type:"button",children:(0,u.jsx)(h8,{})})})}),t[2]=a,t[3]=l,t[4]=r.current,t[5]=i,t[6]=h,t[7]=f):f=t[7],f},fe="sort-row",ft=()=>{let e=(0,d.c)(2),{orderableFieldName:t,query:n}=cn(),a=n.sort===t||n.sort==="-".concat(t),l="".concat(fe," ").concat(a?"active":""),o;return e[0]!==l?(o=(0,u.jsx)("div",{className:l,role:"button",tabIndex:0,children:(0,u.jsx)(lX,{className:"".concat(fe,"__icon")})}),e[0]=l,e[1]=o):o=e[1],o},fn=e=>{let{cellMap:t,columns:n,dragAttributes:a={},dragListeners:l={},rowId:o,...r}=e;return(0,u.jsx)("tr",{...r,children:n.map((e,n)=>{let{accessor:r}=e,i=e.renderedCells[t[o]];return"_dragHandle"===r?(0,u.jsx)("td",{className:"cell-".concat(r),children:(0,u.jsx)("div",{...a,...l,children:i})},n):(0,u.jsx)("td",{className:"cell-".concat(r),children:i},n)})})},fa=e=>{let{children:t,className:n,rowId:a}=e;return typeof a>"u"?null:(0,u.jsx)("div",{className:n,children:(0,u.jsx)("table",{cellPadding:0,cellSpacing:0,children:(0,u.jsx)("tbody",{children:t})})})},fl="table",fo=e=>{let{appearance:t="default",collection:n,columns:a,data:l}=e,{config:r}=(0,i.b)(),{data:s,orderableFieldName:c,query:d}=cn(),p=(null==s?void 0:s.docs)||l,[h,f]=(0,o.useState)(p),[g,v]=(0,o.useState)({}),[b,x]=(0,o.useState)();(0,o.useEffect)(()=>{f(p),v(Object.fromEntries(p.map((e,t)=>{var n;return[String(null!=(n=e.id)?n:e._id),t]})))},[p]);let y=null==a?void 0:a.filter(e=>null==e?void 0:e.active);if(!y||0===y.filter(e=>!["_dragHandle","_select"].includes(e.accessor)).length)return(0,u.jsx)("div",{children:"No columns selected"});let w=async e=>{var t,a,l;let{moveFromIndex:o,moveToIndex:i}=e;if(d.sort!==c&&d.sort!=="-".concat(c)){n0.warning('To reorder the rows you must first sort them by the "Order" column'),x(void 0);return}if(o===i)return void x(void 0);let s=null!=(t=h[o].id)?t:h[o]._id,u=i>o?h[i]:h[i-1],p=i>o?h[i+1]:h[i],m=[...h];f(e=>{let t=[...e];return t[o][c]="pending",t.splice(i,0,t.splice(o,1)[0]),t});try{let e=u?{id:null!=(a=u.id)?a:u._id,key:u[c]}:{id:null!=(l=p.id)?l:p._id,key:p[c]},t=u&&d.sort===c||!u&&d.sort==="-".concat(c)?"greater":"less",o={collectionSlug:n.slug,docsToMove:[s],newKeyWillBe:t,orderableFieldName:c,target:e},i=await fetch("".concat(r.routes.api,"/reorder"),{body:JSON.stringify(o),headers:{"Content-Type":"application/json"},method:"POST"});if(403===i.status)throw Error("You do not have permission to reorder these rows");if(!i.ok)throw Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(200===i.status&&"initial migration"===(await i.json()).message)throw Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(t){let e=t instanceof Error?t.message:String(t);f(m),n0.error(e)}finally{x(void 0)}},j=h.map(e=>{var t;return null!=(t=e.id)?t:e._id});return(0,u.jsx)("div",{className:[fl,t&&"".concat(fl,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,u.jsxs)(tL,{ids:j,onDragEnd:w,onDragStart:e=>{let{id:t}=e;x(t)},children:[(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:y.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:h.map((e,t)=>(0,u.jsx)(tR,{id:j[t],children:n=>{var a;let{attributes:l,isDragging:o,listeners:r,setNodeRef:i,transform:s,transition:c}=n;return(0,u.jsx)(fn,{cellMap:g,className:"row-".concat(t+1),columns:y,dragAttributes:l,dragListeners:r,ref:i,rowId:null!=(a=e.id)?a:e._id,style:{opacity:+!o,transform:s,transition:c}})}},j[t]))})]}),(0,u.jsx)(m.Hd,{children:(0,u.jsx)(fa,{className:[fl,"".concat(fl,"--drag-preview")].join(" "),rowId:b,children:(0,u.jsx)(fn,{cellMap:g,columns:y,rowId:b})})})]})})},fr=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{className:"query-preset-columns-cell",children:t?(0,S.F)(t).map((e,t)=>{let n=!e.startsWith("-");return n?(0,u.jsx)(l7,{pillStyle:n?"always-white":"light",children:(0,H.x4)(e)},t):null}):"No columns selected"})},fi=e=>{if(e.or&&e.or.length>0&&e.or[0].and&&e.or[0].and.length>0){var t,n;let a=null==(n=e.or[0])||null==(t=n.and)?void 0:t[0];if(!a)return"No where query";let l=Object.keys(a)[0];if(!a[l])return"No where query";let o=Object.keys(a[l])[0],r=a[l][o];return"".concat((0,H.x4)(l)," ").concat(o," ").concat((0,H.x4)(r))}return""},fs=e=>{let{cellData:t}=e;return(0,u.jsx)("div",{children:t?fi(t):"No where query"})},fc=e=>{let{cellData:t}=e,n=["read","update","delete"];return(0,u.jsx)("p",{children:n.reduce((e,a,l)=>{let r=null==t?void 0:t[a];return r&&r.constraint&&e.push((0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("strong",{children:(0,H.x4)(a)}),": ",(0,H.x4)(r.constraint)]}),l!==n.length-1&&", "]},a)),e},[])})},fu=e=>{let t=(0,d.c)(5),{field:n}=e,{label:a,required:l}=n,{path:o,value:r}=lT(),i;return t[0]!==a||t[1]!==o||t[2]!==l||t[3]!==r?(i=(0,u.jsxs)("div",{className:"field-type query-preset-columns-field",children:[(0,u.jsx)(aN,{as:"h3",label:a,path:o,required:l}),(0,u.jsx)("div",{className:"value-wrapper",children:r?(0,S.F)(r).map(fd):"No columns selected"})]}),t[0]=a,t[1]=o,t[2]=l,t[3]=r,t[4]=i):i=t[4],i};function fd(e,t){let n=!e.startsWith("-");return(0,u.jsx)(l7,{pillStyle:n?"always-white":"light-gray",children:(0,H.x4)(e)},t)}var fp=(e,t)=>{if(!e)return null;let n=e=>{let t=Object.keys(e)[0];if(!e[t])return"No where query";let n=Object.keys(e[t])[0],a=e[t][n];if("object"==typeof a)try{a=new Date(a).toLocaleDateString()}catch(e){a="Unknown error has occurred"}return(0,u.jsxs)(l7,{pillStyle:"always-white",children:[(0,u.jsx)("b",{children:(0,H.x4)(t)})," ",n," ",(0,u.jsx)("b",{children:(0,H.x4)(a)})]})};return((e,t)=>e.or&&e.or.length>0?(0,u.jsx)("div",{className:"or-condition",children:e.or.map((e,a)=>(0,u.jsx)(o.Fragment,{children:e.and&&e.and.length>0?(0,u.jsxs)("div",{className:"and-condition",children:[0===a&&(0,u.jsx)("span",{className:"label",children:"Filter ".concat(t," where ")}),a>0&&(0,u.jsx)("span",{className:"label",children:" or "}),e.and.map((t,a)=>(0,u.jsxs)(o.Fragment,{children:[n(t),a<e.and.length-1&&(0,u.jsx)("span",{className:"label",children:" and "})]},a))]}):n(e)},a))}):n(e))(e,t)},fh=e=>{var t;let{field:n}=e,{label:a,required:l}=n,{path:o,value:r}=lT(),{collectionSlug:c}=cn(),{getEntityConfig:d}=(0,i.b)(),h=d({collectionSlug:c}),{i18n:f}=(0,s.d)();return(0,u.jsxs)("div",{className:"field-type query-preset-where-field",children:[(0,u.jsx)(aN,{as:"h3",label:a,path:o,required:l}),(0,u.jsx)("div",{className:"value-wrapper",children:r?fp(r,(0,p.sC)(null==h||null==(t=h.labels)?void 0:t.plural,f)):"No where query"})]})},ff=(e,t)=>{let n=(0,d.c)(7),a=void 0===e||e,l;n[0]!==a||n[1]!==t?(l=e=>{if("function"!=typeof a||a())return e.preventDefault(),t&&(e.returnValue=t),t},n[0]=a,n[1]=t,n[2]=l):l=n[2];let r=l,i,s;n[3]!==a||n[4]!==r?(i=()=>{if(a)return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.addEventListener&&e.addEventListener(...n)}(window,"beforeunload",r),()=>(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.removeEventListener&&e.removeEventListener(...n)})(window,"beforeunload",r)},s=[a,r],n[3]=a,n[4]=r,n[5]=i,n[6]=s):(i=n[5],s=n[6]),(0,o.useEffect)(i,s)},fm=e=>{let{hasAccepted:t=!1,message:n="Are you sure want to leave this page?",onAccept:a,onPrevent:l,prevent:r=!0}=e;ff(r,n);let{startRouteTransition:i}=eH(),s=(0,f.useRouter)(),c=(0,o.useRef)("");(0,o.useEffect)(()=>{function e(e){try{let t=e.target,a=function(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}(t);if(a){let t=window.location.href,o=a.href,i=function(e,t){let n=new URL(e),a=new URL(t);if(n.hostname===a.hostname&&n.pathname===a.pathname&&n.search===a.search){let e=n.hash,t=a.hash;return e!==t&&n.href.replace(e,"")===a.href.replace(t,"")}return!1}(t,o),s=""!==a.download,u="_blank"===a.target||e.metaKey||e.ctrlKey;!(o===t||i||s||u)&&r&&(l||!window.confirm(n))&&(c.current=o,e.preventDefault(),e.stopPropagation(),"function"==typeof l&&l())}}catch(e){alert(e)}}return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[l,r,n]),(0,o.useEffect)(()=>{t&&c.current&&(a&&a(),i(()=>s.push(c.current)))},[t,a,s,i])},fg="leave-without-saving",fv=()=>{let e,t=(0,d.c)(15),{closeModal:n,openModal:a}=ne(),l=eO(),{isValid:r}=eN(),{user:i}=af(),[c,p]=o.useState(!1),{t:h}=(0,s.d)(),f=!!((l||!r)&&i),m;t[0]!==a?(m=()=>{a(fg)},t[0]=a,t[1]=m):m=t[1];let g=m,v;t[2]!==n?(v=()=>{n(fg)},t[2]=n,t[3]=v):v=t[3];let b=v,x;t[4]!==b||t[5]!==c||t[6]!==g||t[7]!==f?(x={hasAccepted:c,onAccept:b,onPrevent:g,prevent:f},t[4]=b,t[5]=c,t[6]=g,t[7]=f,t[8]=x):x=t[8],fm(x),t[9]!==n?(e=()=>{n(fg)},t[9]=n,t[10]=e):e=t[10];let y=e,w;t[11]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{p(!0)},t[11]=w):w=t[11];let j=w,C;return t[12]!==y||t[13]!==h?(C=(0,u.jsx)(ai,{body:h("general:changesNotSaved"),cancelLabel:h("general:stayOnThisPage"),confirmLabel:h("general:leaveAnyway"),heading:h("general:leaveWithoutSaving"),modalSlug:fg,onCancel:y,onConfirm:j}),t[12]=y,t[13]=h,t[14]=C):C=t[14],C},fb="document-take-over",fx="document-take-over",fy=e=>{let t,n=(0,d.c)(17),{handleBackToDashboard:a,isActive:l,onReadOnly:r}=e,{closeModal:i,openModal:c}=ne(),{t:p}=(0,s.d)(),{startRouteTransition:h}=eH(),f,m;if(n[0]!==i||n[1]!==l||n[2]!==c?(f=()=>{l?c(fb):i(fb)},m=[l,c,i],n[0]=i,n[1]=l,n[2]=c,n[3]=f,n[4]=m):(f=n[3],m=n[4]),(0,o.useEffect)(f,m),n[5]!==i||n[6]!==a||n[7]!==r||n[8]!==h||n[9]!==p){let e,l;n[11]!==a||n[12]!==h?(e=()=>{h(()=>a())},n[11]=a,n[12]=h,n[13]=e):e=n[13],n[14]!==i||n[15]!==r?(l=()=>{r(),i(fb)},n[14]=i,n[15]=r,n[16]=l):l=n[16],t=(0,u.jsx)(ng,{className:fx,slug:fb,children:(0,u.jsxs)("div",{className:"".concat(fx,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(fx,"__content"),children:[(0,u.jsx)("h1",{children:p("general:editingTakenOver")}),(0,u.jsx)("p",{children:p("general:anotherUserTakenOver")})]}),(0,u.jsxs)("div",{className:"".concat(fx,"__controls"),children:[(0,u.jsx)(tp,{buttonStyle:"primary",id:"".concat(fb,"-back-to-dashboard"),onClick:e,size:"large",children:p("general:backToDashboard")}),(0,u.jsx)(tp,{buttonStyle:"secondary",id:"".concat(fb,"-view-read-only"),onClick:l,size:"large",children:p("general:viewReadOnly")})]})]})}),n[5]=i,n[6]=a,n[7]=r,n[8]=h,n[9]=p,n[10]=t}else t=n[10];return t},fw=e=>e&&"object"==typeof e,fj="document-locked",fC="document-locked",fS=e=>e?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(e):"",f_=e=>{let t,n,a=(0,d.c)(30),{handleGoBack:l,isActive:r,onReadOnly:i,onTakeOver:c,updatedAt:p,user:h}=e,{closeModal:f,openModal:m}=ne(),{t:g}=(0,s.d)(),{startRouteTransition:v}=eH(),b,x;if(a[0]!==f||a[1]!==r||a[2]!==m?(b=()=>{r?m(fj):f(fj)},x=[r,m,f],a[0]=f,a[1]=r,a[2]=m,a[3]=b,a[4]=x):(b=a[3],x=a[4]),(0,o.useEffect)(b,x),a[5]!==l||a[6]!==v?(t=()=>{v(()=>l())},a[5]=l,a[6]=v,a[7]=t):t=a[7],a[8]!==f||a[9]!==l||a[10]!==i||a[11]!==c||a[12]!==v||a[13]!==g||a[14]!==t||a[15]!==p||a[16]!==h){var y;let e,o,r,s;a[18]!==g||a[19]!==h?(e=fw(h)?null!=(y=h.email)?y:h.id:"".concat(g("general:user"),": ").concat(h),a[18]=g,a[19]=h,a[20]=e):e=a[20],a[21]!==l||a[22]!==v?(o=()=>{v(()=>l())},a[21]=l,a[22]=v,a[23]=o):o=a[23],a[24]!==f||a[25]!==i?(r=()=>{i(),f(fj)},a[24]=f,a[25]=i,a[26]=r):r=a[26],a[27]!==f||a[28]!==c?(s=()=>{c(),f(fj)},a[27]=f,a[28]=c,a[29]=s):s=a[29],n=(0,u.jsx)(ng,{className:fC,onClose:t,slug:fj,children:(0,u.jsxs)("div",{className:"".concat(fC,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(fC,"__content"),children:[(0,u.jsx)("h1",{children:g("general:documentLocked")}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:e})," ",g("general:currentlyEditing")]}),(0,u.jsxs)("p",{children:[g("general:editedSince")," ",(0,u.jsx)("strong",{children:fS(p)})]})]}),(0,u.jsxs)("div",{className:"".concat(fC,"__controls"),children:[(0,u.jsx)(tp,{buttonStyle:"secondary",id:"".concat(fj,"-go-back"),onClick:o,size:"large",children:g("general:goBack")}),(0,u.jsx)(tp,{buttonStyle:"secondary",id:"".concat(fj,"-view-read-only"),onClick:r,size:"large",children:g("general:viewReadOnly")}),(0,u.jsx)(tp,{buttonStyle:"primary",id:"".concat(fj,"-take-over"),onClick:s,size:"large",children:g("general:takeOver")})]})]})}),a[8]=f,a[9]=l,a[10]=i,a[11]=c,a[12]=v,a[13]=g,a[14]=t,a[15]=p,a[16]=h,a[17]=n}else n=a[17];return n};function fk(e){let t=(0,d.c)(3),{i18n:n}=(0,s.d)(),{description:a}=e;if(a){let e;return t[0]!==a||t[1]!==n?(e=(0,u.jsx)("div",{className:"custom-view-description",children:(0,p.sC)(a,n)}),t[0]=a,t[1]=n,t[2]=e):e=t[2],e}return null}var fN="graphic-account",fD=e=>(0,u.jsxs)("svg",{className:[fN,(null==e?void 0:e.active)&&"".concat(fN,"--active")].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("circle",{className:"".concat(fN,"__bg"),cx:"12.5",cy:"12.5",r:"11.5"}),(0,u.jsx)("circle",{className:"".concat(fN,"__head"),cx:"12.5",cy:"10.73",r:"3.98"}),(0,u.jsx)("path",{className:"".concat(fN,"__body"),d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]}),fE=(0,c.e)(es(),1),fP=()=>{let e=(0,d.c)(2),{user:t}=af(),n=(0,fE.default)(t.email.trim().toLowerCase()),a="?".concat(new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()),l="https://www.gravatar.com/avatar/".concat(n,"?").concat(a),o;return e[0]!==l?(o=(0,u.jsx)("img",{alt:"yas",className:"gravatar-account",height:25,src:l,style:{borderRadius:"50%"},width:25}),e[0]=l,e[1]=o):o=e[1],o},fT=()=>{let e=(0,d.c)(3),{config:t}=(0,i.b)(),{admin:n,routes:a}=t,{avatar:l,routes:o}=n,{account:r}=o,{admin:s}=a,{user:c}=af(),p=(0,f.usePathname)()===(0,g.Q)({adminRoute:s,path:r});if(!(null==c?void 0:c.email)||"default"===l){let t;return e[0]!==p?(t=(0,u.jsx)(fD,{active:p}),e[0]=p,e[1]=t):t=e[1],t}if("gravatar"===l){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,u.jsx)(fP,{}),e[2]=t):t=e[2],t}},fA=(0,o.createContext)({Actions:{},setViewActions:()=>{}}),fO=()=>(0,o.use)(fA),fI=e=>{let t=(0,d.c)(4),{Actions:n,children:a}=e,[l,r]=(0,o.useState)(n),i;return t[0]!==n||t[1]!==a||t[2]!==l?(i=(0,u.jsx)(fA,{value:{Actions:{...l,...n},setViewActions:r},children:a}),t[0]=n,t[1]=a,t[2]=l,t[3]=i):i=t[3],i},fR=()=>(0,u.jsx)("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})}),fL=()=>(0,u.jsx)("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})}),fM="hamburger",fF=e=>{let t=(0,d.c)(4),{t:n}=(0,s.d)(),{closeIcon:a,isActive:l}=e,o=void 0===a?"x":a,r=void 0!==l&&l,i;return t[0]!==o||t[1]!==r||t[2]!==n?(i=(0,u.jsxs)("div",{className:fM,children:[!r&&(0,u.jsx)("div",{"aria-label":n("general:open"),className:"".concat(fM,"__open-icon"),title:n("general:open"),children:(0,u.jsx)(fL,{})}),r&&(0,u.jsxs)("div",{"aria-label":n("collapse"===o?"general:collapse":"general:close"),className:"".concat(fM,"__close-icon"),title:n("collapse"===o?"general:collapse":"general:close"),children:["x"===o&&(0,u.jsx)(fR,{}),"collapse"===o&&(0,u.jsx)(eX,{direction:"left"})]})]}),t[0]=o,t[1]=r,t[2]=n,t[3]=i):i=t[3],i},fB="localizer-button",fz=e=>{let t,n=(0,d.c)(12),{ariaLabel:a,className:l}=e,o=aS(),{i18n:r,t:i}=(0,s.d)(),c;n[0]!==a||n[1]!==i?(c=a||i("general:locale"),n[0]=a,n[1]=i,n[2]=c):c=n[2],n[3]!==l?(t=[fB,l].filter(Boolean),n[3]=l,n[4]=t):t=n[4];let h=t.join(" "),f=o?o.code:void 0,m="".concat(i("general:locale"),":"),g;return n[5]!==r||n[6]!==o.label||n[7]!==c||n[8]!==h||n[9]!==f||n[10]!==m?(g=(0,u.jsxs)("div",{"aria-label":c,className:h,"data-locale":f,children:[(0,u.jsxs)("div",{className:"".concat(fB,"__label"),children:[m,"\xa0"]}),(0,u.jsxs)("div",{className:"".concat(fB,"__current"),children:[(0,u.jsx)("span",{className:"".concat(fB,"__current-label"),children:"".concat((0,p.sC)(o.label,r))}),(0,u.jsx)(eX,{className:"".concat(fB,"__chevron")})]})]}),n[5]=r,n[6]=o.label,n[7]=c,n[8]=h,n[9]=f,n[10]=m,n[11]=g):g=n[11],g},fV="localizer",fU=e=>{let t=(0,d.c)(17),{className:n}=e,{config:a}=(0,i.b)(),{localization:l}=a,r=(0,f.useRouter)(),{startRouteTransition:c}=eH(),{setLocaleIsLoading:h}=aC(),{i18n:m}=(0,s.d)(),g=aS();if(l){let{locales:e}=l,a;t[0]!==n?(a=[fV,n].filter(Boolean),t[0]=n,t[1]=a):a=t[1];let i=a.join(" "),s;if(t[2]!==m||t[3]!==g||t[4]!==e||t[5]!==r||t[6]!==h||t[7]!==c||t[8]!==i){let n;t[10]!==m||t[11]!==g||t[12]!==e||t[13]!==r||t[14]!==h||t[15]!==c?(n=t=>{let{close:n}=t;return(0,u.jsx)(e1.ButtonGroup,{children:e.map(e=>{let t=(0,p.sC)(e.label,m);return(0,u.jsx)(e1.Button,{active:g.code===e.code,disabled:g.code===e.code,onClick:()=>{h(!0),n();let t=new URLSearchParams(window.location.search),a=v.A({...k.q(t.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:e.code},{addQueryPrefix:!0});c(()=>{r.push(a)})},children:t!==e.code?(0,u.jsxs)(o.Fragment,{children:[t,"\xa0",(0,u.jsx)("span",{className:"".concat(fV,"__locale-code"),"data-locale":e.code,children:"(".concat(e.code,")")})]}):(0,u.jsx)("span",{className:"".concat(fV,"__locale-code"),"data-locale":e.code,children:t})},e.code)})})},t[10]=m,t[11]=g,t[12]=e,t[13]=r,t[14]=h,t[15]=c,t[16]=n):n=t[16],s=(0,u.jsx)("div",{className:i,children:(0,u.jsx)(ts,{button:(0,u.jsx)(fz,{}),horizontalAlign:"right",render:n,showScrollbar:!0,size:"large"})}),t[2]=m,t[3]=g,t[4]=e,t[5]=r,t[6]=h,t[7]=c,t[8]=i,t[9]=s}else s=t[9];return s}return null},fH=o.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),fq=()=>o.use(fH),fK=async e=>{var t;let n=null==(t=await e("nav"))?void 0:t.open;return"boolean"!=typeof n||n},fW=e=>{let{children:t,initialIsOpen:n}=e,{breakpoints:{l:a,m:l,s:r}}=e9(),i=(0,f.usePathname)(),{getPreference:s}=ab(),c=(0,o.useRef)(null),[d,p]=o.useState(n),[h,m]=o.useState(!1),[g,v]=o.useState(!1);return(0,o.useEffect)(()=>{!1===a&&(async()=>{p(await fK(s))})()},[a,s,p]),(0,o.useEffect)(()=>{!0===r&&p(!1)},[i]),(0,o.useEffect)(()=>{c.current&&(d&&l?c.current.style.overscrollBehavior="contain":c.current.style.overscrollBehavior="auto")},[d,l]),(0,o.useEffect)(()=>{(!0===a||!0===l||!0===r)&&p(!1),v(!0),setTimeout(()=>{m(!0)},100)},[a,l,r]),(0,o.useEffect)(()=>()=>{c.current&&(c.current.style.overscrollBehavior="auto")},[]),(0,u.jsx)(fH,{value:{hydrated:g,navOpen:d,navRef:c,setNavOpen:p,shouldAnimate:h},children:t})},fY="nav-toggler",fG=e=>{let t,n=(0,d.c)(15),{id:a,children:l,className:o,tabIndex:r}=e,i=void 0===r?0:r,{t:c}=(0,s.d)(),{setPreference:p}=ab(),{navOpen:h,setNavOpen:f}=fq(),{breakpoints:m}=e9(),{l:g}=m,v="".concat(c(h?"general:close":"general:open")," ").concat(c("general:menu")),b=h&&"".concat(fY,"--is-open"),x;n[0]!==o||n[1]!==b?(x=[fY,b,o].filter(Boolean),n[0]=o,n[1]=b,n[2]=x):x=n[2];let y=x.join(" "),w;return n[3]!==g||n[4]!==h||n[5]!==f||n[6]!==p?(w=async()=>{f(!h),g||await p("nav",{open:!h},!0)},n[3]=g,n[4]=h,n[5]=f,n[6]=p,n[7]=w):w=n[7],n[8]!==l||n[9]!==a||n[10]!==v||n[11]!==y||n[12]!==w||n[13]!==i?(t=(0,u.jsx)("button",{"aria-label":v,className:y,id:a,onClick:w,tabIndex:i,type:"button",children:l}),n[8]=l,n[9]=a,n[10]=v,n[11]=y,n[12]=w,n[13]=i,n[14]=t):t=n[14],t},fQ=e=>{let{fill:t}=e,n=t||"var(--theme-elevation-1000)";return(0,u.jsxs)("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:n}),(0,u.jsx)("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:n})]})},fX=()=>(0,o.use)(f$),f$=(0,o.createContext)({}),fZ=e=>{let t=(0,d.c)(4),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];let[l,r]=(0,o.useState)(a),i;return t[1]!==n||t[2]!==l?(i=(0,u.jsx)(f$,{value:{setStepNav:r,stepNav:l},children:n}),t[1]=n,t[2]=l,t[3]=i):i=t[3],i},fJ=e=>{let t=(0,d.c)(4),{nav:n}=e,{setStepNav:a}=fX(),l,r;return t[0]!==n||t[1]!==a?(l=()=>{a(n)},r=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=r):(l=t[2],r=t[3]),(0,o.useEffect)(l,r),null},f0="step-nav",f1=e=>{let t=(0,d.c)(7),{className:n,CustomIcon:a}=e,{i18n:l}=(0,s.d)(),{stepNav:r}=fX(),{config:c}=(0,i.b)(),{routes:h}=c,{admin:f}=h,{t:m}=(0,s.d)(),g;return t[0]!==a||t[1]!==f||t[2]!==n||t[3]!==l||t[4]!==r||t[5]!==m?(g=(0,u.jsx)(o.Fragment,{children:r.length>0?(0,u.jsxs)("nav",{className:[f0,n].filter(Boolean).join(" "),children:[(0,u.jsx)(eY,{className:"".concat(f0,"__home"),href:f,prefetch:!1,tabIndex:0,children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(ec,{CustomComponent:a,Fallback:(0,u.jsx)(fQ,{})})})}),(0,u.jsx)("span",{children:"/"}),r.map((e,t)=>{let n=(0,p.sC)(e.label,l);return r.length===t+1?(0,u.jsx)("span",{className:"".concat(f0,"__last"),children:n},t):(0,u.jsxs)(o.Fragment,{children:[e.url?(0,u.jsx)(eY,{href:e.url,prefetch:!1,children:(0,u.jsx)("span",{children:n},t)}):(0,u.jsx)("span",{children:n},t),(0,u.jsx)("span",{children:"/"})]},t)})]}):(0,u.jsx)("div",{className:[f0,n].filter(Boolean).join(" "),children:(0,u.jsx)("div",{className:"".concat(f0,"__home"),children:(0,u.jsx)("span",{title:m("general:dashboard"),children:(0,u.jsx)(ec,{CustomComponent:a,Fallback:(0,u.jsx)(fQ,{})})})})})}),t[0]=a,t[1]=f,t[2]=n,t[3]=l,t[4]=r,t[5]=m,t[6]=g):g=t[6],g},f3="app-header";function f2(e){let{CustomAvatar:t,CustomIcon:n}=e,{t:a}=(0,s.d)(),{Actions:l}=fO(),{config:{admin:{routes:{account:r}},localization:c,routes:{admin:d}}}=(0,i.b)(),{navOpen:p}=fq(),h=(0,o.useRef)(null),[f,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{let e=h.current;e&&m(e.scrollWidth>e.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[l]);let v=l?Object.values(l):[];return(0,u.jsxs)("header",{className:[f3,p&&"".concat(f3,"--nav-open")].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{className:"".concat(f3,"__bg")}),(0,u.jsx)("div",{className:"".concat(f3,"__content"),children:(0,u.jsxs)("div",{className:"".concat(f3,"__wrapper"),children:[(0,u.jsx)(fG,{className:"".concat(f3,"__mobile-nav-toggler"),tabIndex:-1,children:(0,u.jsx)(fF,{})}),(0,u.jsxs)("div",{className:"".concat(f3,"__controls-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(f3,"__step-nav-wrapper"),children:(0,u.jsx)(f1,{className:"".concat(f3,"__step-nav"),CustomIcon:n})}),(0,u.jsxs)("div",{className:"".concat(f3,"__actions-wrapper"),children:[(0,u.jsx)("div",{className:"".concat(f3,"__actions"),ref:h,children:v.map((e,t)=>(0,u.jsx)("div",{className:f&&t===v.length-1?"".concat(f3,"__last-action"):"",children:e},t))}),f&&(0,u.jsx)("div",{className:"".concat(f3,"__gradient-placeholder")})]}),c&&(0,u.jsx)(fz,{ariaLabel:"invisible",className:"".concat(f3,"__localizer-spacing")}),(0,u.jsx)(eY,{"aria-label":a("authentication:account"),className:"".concat(f3,"__account"),href:(0,g.Q)({adminRoute:d,path:r}),prefetch:!1,tabIndex:0,children:(0,u.jsx)(ec,{CustomComponent:t,Fallback:(0,u.jsx)(fT,{})})})]})]})}),(0,u.jsx)(fU,{className:"".concat(f3,"__localizer")})]})}var f6="card",f5=e=>{let{id:t,actions:n,buttonAriaLabel:a,href:l,onClick:o,title:r,titleAs:i}=e,s=[f6,t,(o||l)&&"".concat(f6,"--has-onclick")].filter(Boolean).join(" ");return(0,u.jsxs)("div",{className:s,id:t,children:[(0,u.jsx)(null!=i?i:"div",{className:"".concat(f6,"__title"),children:r}),n&&(0,u.jsx)("div",{className:"".concat(f6,"__actions"),children:n}),(o||l)&&(0,u.jsx)(tp,{"aria-label":a,buttonStyle:"none",className:"".concat(f6,"__click"),el:"link",onClick:o,to:l})]})},f4="copy-locale-data",f8="copy-locale",f7=()=>{let e,t,n,a,l,r,c,h=(0,d.c)(38),{config:m}=(0,i.b)(),{localization:g,routes:v,serverURL:b}=m,{admin:x}=v,{code:y}=aS(),{id:w,collectionSlug:j,globalSlug:C}=lC(),{i18n:S,t:_}=(0,s.d)(),k=eO(),{toggleModal:N}=ne(),{copyDataFromLocale:D}=cr(),E=(0,f.useRouter)(),{startRouteTransition:P}=eH(),T;h[0]!==g?(T=g&&g.locales.map(f9)||[],h[0]=g,h[1]=T):T=h[1];let A=T,O;h[2]!==y?(O=e=>e.value!==y,h[2]=y,h[3]=O):O=h[3];let I=A.filter(O),R;h[4]!==S||h[5]!==g?(R=e=>{let t=g&&g.locales.find(t=>t.code===e);return t&&t.label?(0,p.sC)(t.label,S):e},h[4]=S,h[5]=g,h[6]=R):R=h[6];let L=R,[M,F]=o.useState(!1),[B,z]=o.useState(null),[V,U]=o.useState(y),[H,q]=o.useState(!1),K,W;h[7]!==y||h[8]!==V?(K=()=>{V!==y&&U(y)},W=[y,V],h[7]=y,h[8]=V,h[9]=K,h[10]=W):(K=h[9],W=h[10]),o.useEffect(K,W),h[11]!==x||h[12]!==j||h[13]!==D||h[14]!==C||h[15]!==w||h[16]!==H||h[17]!==E||h[18]!==b||h[19]!==P||h[20]!==N?(e=async e=>{let{from:t,to:n}=e;F(!0);try{await D({collectionSlug:j,docID:w,fromLocale:t,globalSlug:C,overrideData:H,toLocale:n}),F(!1),P(()=>E.push("".concat(b).concat(x,"/").concat(j?"collections/".concat(j,"/").concat(w):"globals/".concat(C),"?locale=").concat(n))),N(f8)}catch(e){n0.error(e.message)}},h[11]=x,h[12]=j,h[13]=D,h[14]=C,h[15]=w,h[16]=H,h[17]=E,h[18]=b,h[19]=P,h[20]=N,h[21]=e):e=h[21];let Y=e;return w||C?(h[22]!==k||h[23]!==_||h[24]!==N?(t=()=>{k?n0.info(_("general:unsavedChanges")):N(f8)},h[22]=k,h[23]=_,h[24]=N,h[25]=t):t=h[25],h[26]!==N?(n=()=>{N(f8)},h[26]=N,h[27]=n):n=h[27],h[28]!==Y||h[29]!==M||h[30]!==V||h[31]!==_||h[32]!==B?(a=async()=>{if(V===B)return void n0.error(_("localization:cannotCopySameLocale"));M||await Y({from:V,to:B})},h[28]=Y,h[29]=M,h[30]=V,h[31]=_,h[32]=B,h[33]=a):a=h[33],h[34]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{(null==e?void 0:e.value)&&U(e.value)},h[34]=l):l=h[34],h[35]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{(null==e?void 0:e.value)&&z(e.value)},h[35]=r):r=h[35],h[36]!==H?(c=()=>q(!H),h[36]=H,h[37]=c):c=h[37],(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(e1.Button,{id:"".concat(f4,"__button"),onClick:t,children:_("localization:copyToLocale")}),(0,u.jsxs)(an,{className:f4,gutter:!1,Header:(0,u.jsx)(dC,{onClose:n,title:_("localization:copyToLocale")}),slug:f8,children:[(0,u.jsxs)("div",{className:"".concat(f4,"__sub-header"),children:[(0,u.jsx)("span",{children:V&&B?(0,u.jsx)("div",{children:_("localization:copyFromTo",{from:L(V),to:L(B)})}):_("localization:selectLocaleToCopy")}),(0,u.jsx)(tp,{buttonStyle:"primary",disabled:!V||!B,iconPosition:"left",onClick:a,size:"medium",children:M?_("general:copying")+"...":_("general:copy")})]}),(0,u.jsxs)("div",{className:"".concat(f4,"__content"),children:[(0,u.jsx)(uW,{label:_("localization:copyFrom"),name:"fromLocale",onChange:l,options:A,path:"fromLocale",readOnly:!0,value:V}),(0,u.jsx)(uW,{label:_("localization:copyTo"),name:"toLocale",onChange:r,options:I,path:"toLocale",value:B}),(0,u.jsx)(lH,{checked:H,field:{name:"overwriteExisting",label:_("general:overwriteExistingData")},onChange:c,path:"overwriteExisting"})]})]})]})):null};function f9(e){return{label:e.label,value:e.code}}var me=(0,o.createContext)({cachingEnabled:!0,clearRouteCache:()=>{}}),mt=e=>{let t,n,a=(0,d.c)(13),{cachingEnabled:l,children:r}=e,i=void 0===l||l,s=(0,f.usePathname)(),c=(0,f.useRouter)(),p;a[0]!==c?(p=()=>{c.refresh()},a[0]=c,a[1]=p):p=a[1];let h=p,m;return a[2]!==i||a[3]!==h?(m=()=>{i&&h()},a[2]=i,a[3]=h,a[4]=m):m=a[4],a[5]!==i||a[6]!==h||a[7]!==s?(t=[s,h,i],a[5]=i,a[6]=h,a[7]=s,a[8]=t):t=a[8],(0,o.useEffect)(m,t),a[9]!==i||a[10]!==r||a[11]!==h?(n=(0,u.jsx)(me,{value:{cachingEnabled:i,clearRouteCache:h},children:r}),a[9]=i,a[10]=r,a[11]=h,a[12]=n):n=a[12],n},mn=()=>(0,o.use)(me),ma=function(e){return e.AllAvailable="allAvailable",e.AllInPage="allInPage",e.None="none",e.Some="some",e}({}),ml=(0,o.createContext)({}),mo=e=>{let{children:t,docs:n=[],totalDocs:a,user:l}=e,r=(0,o.useRef)({}),{code:i}=aS(),[s,c]=(0,o.useState)(()=>{let e=new Map;return n.forEach(t=>{let{id:n}=t;e.set(n,!1)}),e}),[d,p]=(0,o.useState)("none"),[h,m]=(0,o.useState)(0),g=(0,f.useSearchParams)(),b=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map;e?(p("allAvailable"),n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:o}=e;a&&(null==o?void 0:o.id)!==(null==l?void 0:l.id)||t.set(n,!0)})):"allAvailable"===d||"allInPage"===d?p("none"):n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:o}=e;a&&(null==o?void 0:o.id)!==(null==l?void 0:l.id)||t.set(n,"some"!==d)}),c(t)},[n,d,null==l?void 0:l.id]),x=(0,o.useCallback)(e=>{let t=n.find(t=>t.id===e);if((null==t?void 0:t._isLocked)&&(null==l?void 0:l.id)!==(null==t?void 0:t._userEditing.id))return;let a=s.get(e),o="boolean"!=typeof a||!a,r=new Map(s.set(e,o));"allAvailable"!==d||o||p("some"),c(r)},[s,n,d,null==l?void 0:l.id]),y=(0,o.useCallback)(e=>{var t;let n;if("allAvailable"===d)n=(null==(t=ce(g))?void 0:t.where)||{id:{not_equals:""}};else{let e=[];for(let[t,n]of s)n&&e.push(t);n={id:{in:e}}}return e&&(n={and:[{...e},n]}),v.A({locale:i,where:n},{addQueryPrefix:!0})},[d,s,i,g]),w=(0,o.useCallback)(()=>{let e=[];for(let[t,n]of s)n&&e.push(t);return e},[s]);return(0,o.useEffect)(()=>{if("allAvailable"===d)return;let e=!1,t=!0;if(s.size)for(let[n,a]of s)t=t&&a,e=e||a;else t=!1,e=!1;t&&s.size===n.length?p("allInPage"):p(e?"some":"none")},[d,s,a,n]),(0,o.useEffect)(()=>{let e=0;if("allAvailable"===d)e=a;else for(let[t,n]of s)n&&e++;m(e)},[d,s,a]),r.current={count:h,getQueryParams:y,getSelectedIds:w,selectAll:d,selected:s,setSelection:x,toggleAll:b,totalDocs:a},(0,u.jsx)(ml,{value:r.current,children:t})},mr=()=>(0,o.use)(ml),mi="list-selection";function ms(e){let t=(0,d.c)(9),{count:n,ListActions:a,SelectionActions:l}=e,{t:r}=(0,s.d)(),i;if(t[0]!==a||t[1]!==l||t[2]!==n||t[3]!==r){let e,s;t[5]!==a?(e=a&&a.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:"—"}),(0,u.jsx)("div",{className:"".concat(mi,"__actions"),children:a})]}),t[5]=a,t[6]=e):e=t[6],t[7]!==l?(s=l&&l.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("span",{children:"—"}),(0,u.jsx)("div",{className:"".concat(mi,"__actions"),children:l})]}),t[7]=l,t[8]=s):s=t[8],i=(0,u.jsxs)("div",{className:mi,children:[(0,u.jsx)("span",{children:r("general:selectedCount",{count:n,label:""})}),e,s]}),t[0]=a,t[1]=l,t[2]=n,t[3]=r,t[4]=i}else i=t[4];return i}function mc(e){let{children:t,className:n,...a}=e;return(0,u.jsx)(tp,{...a,buttonStyle:"none",className:["".concat(mi,"__button"),n].filter(Boolean).join(" "),children:t})}var mu="confirm-delete-many-docs",md=e=>{var t,n,a,l;let r=(0,d.c)(18),{collection:i}=e,s;r[0]!==i?(s=void 0===i?{}:i,r[0]=i,r[1]=s):s=r[1];let{slug:c}=s,{permissions:p}=af(),{count:h,getSelectedIds:m,selectAll:g,toggleAll:b}=mr(),x=(0,f.useRouter)(),y=(0,f.useSearchParams)(),{clearRouteCache:w}=mn(),j=null==p||null==(n=p.collections)||null==(t=n[c])?void 0:t.delete;if(g===ma.None||!j)return null;let C=g===ma.AllAvailable,S;if(r[2]!==w||r[3]!==h||r[4]!==m||r[5]!==x||r[6]!==y||r[7]!==g||r[8]!==C||r[9]!==c||r[10]!==b){let e=C?[]:m(),t;r[12]!==w||r[13]!==x||r[14]!==y||r[15]!==g||r[16]!==b?(t=()=>{b(),x.replace(v.A({...ce(y),page:g?"1":void 0},{addQueryPrefix:!0})),w()},r[12]=w,r[13]=x,r[14]=y,r[15]=g,r[16]=b,r[17]=t):t=r[17],S=(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(mp,{afterDelete:t,search:null==(a=ce(y))?void 0:a.search,selections:{[c]:{all:g===ma.AllAvailable,ids:e,totalCount:C?h:e.length}},where:null==(l=ce(y))?void 0:l.where})}),r[2]=w,r[3]=h,r[4]=m,r[5]=x,r[6]=y,r[7]=g,r[8]=C,r[9]=c,r[10]=b,r[11]=S}else S=r[11];return S};function mp(e){let{afterDelete:t,search:n,selections:a,where:l}=e,{t:r}=(0,s.d)(),{config:{collections:c,routes:{api:d},serverURL:h}}=(0,i.b)(),{code:f}=aS(),{i18n:m}=(0,s.d)(),{openModal:g}=ne(),b=o.useCallback(async()=>{let e=1===Object.keys(a).length,o={};for(let[t,{all:i,ids:s=[]}]of Object.entries(a)){let a=c.find(e=>{let{slug:n}=e;return n===t});if(a){let c;c=i?e&&l?l:{id:{not_equals:""}}:{id:{in:s}};let u=await ad.delete("".concat(h).concat(d,"/").concat(t).concat(v.A({limit:0,locale:f,where:(0,C.d)({collectionConfig:a,search:n,where:c})},{addQueryPrefix:!0})),{headers:{"Accept-Language":m.language,"Content-Type":"application/json"}});try{let{plural:e,singular:n}=a.labels,l=await u.json(),i=(null==l?void 0:l.docs.length)||0,s=i>1?e:n;(u.status<400||i>0)&&n0.success(r("general:deletedCountSuccessfully",{count:i,label:(0,p.sC)(s,m)})),(null==l?void 0:l.errors.length)>0&&n0.error(l.message,{description:l.errors.map(e=>e.message).join("\n")}),o[t]={deletedCount:i,errors:(null==l?void 0:l.errors)||null,ids:(null==l?void 0:l.docs.map(e=>e.id))||[],totalCount:l.totalDocs},u.status>400&&(null==l?void 0:l.errors.length)===0&&(n0.error(r("error:unknown")),o[t].errors=[r("error:unknown")]);continue}catch(e){n0.error(r("error:unknown")),o[t]={deletedCount:0,errors:[e],ids:[],totalCount:0};continue}}}"function"==typeof t&&t(o)},[a,t,c,f,n,h,d,m,l,r]),{label:x,labelCount:y}=Object.entries(a).reduce((e,t,n,a)=>{let[l,o]=t,r=c.find(e=>{let{slug:t}=e;return t===l});if(r){let t=void 0===e.labelCount?o.totalCount:e.labelCount,l="".concat(void 0!==e.labelCount?"".concat(o.totalCount," "):"").concat((0,p.sC)(o.totalCount>1?r.labels.plural:r.labels.singular,m)),i;return{label:n===a.length-1&&0!==n?"".concat(e.label," and ").concat(l):n>0?"".concat(e.label,", ").concat(l):l,labelCount:t}}return e},{label:"",labelCount:void 0});return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mc,{"aria-label":r("general:delete"),className:"delete-documents__toggle",onClick:()=>{g(mu)},children:r("general:delete")}),(0,u.jsx)(ai,{body:r("general:aboutToDeleteCount",{count:y,label:x}),confirmingLabel:r("general:deleting"),heading:r("general:confirmDeletion"),modalSlug:mu,onConfirm:b})]})}var mh=(e,t,n)=>{let a={data:{},valid:!0};return e&&(Object.keys(e).forEach(t=>{var l,o;!0!==n&&(null==(l=e[t])?void 0:l.disableFormData)||(a.data[t]=null==(o=e[t])?void 0:o.value,e[t].valid||(a.valid=!1))}),t&&(a.data=(0,M.s)(a.data))),a},mf=e=>{var t,n;let{id:a,collection:l,global:r}=e,{config:{routes:{api:c},serverURL:d}}=(0,i.b)(),{docConfig:p,incrementVersionCount:h,lastUpdateTime:f,mostRecentVersionIsAutosaved:m,setLastUpdateTime:g,setMostRecentVersionIsAutosaved:v,setUnpublishedVersionCount:x,updateSavedDocumentData:y}=lC(),{reportUpdate:w}=dX(),{dispatchFields:j,isValid:C,setBackgroundProcessing:S,setIsValid:_,setSubmitted:k}=eN(),[N]=eL(),D=eO(),E=eP(),{code:P}=aS(),{i18n:T,t:A}=(0,s.d)(),I=null==p?void 0:p.versions,R=q.z.autosaveInterval;I.drafts&&I.drafts.autosave&&(R=I.drafts.autosave.interval);let L=!!((null==p||null==(t=p.versions)?void 0:t.drafts)&&(null==p||null==(n=p.versions)?void 0:n.drafts.validate)),[M,F]=(0,o.useState)(!1),B=(0,o.useDeferredValue)(M),z=au(N,R),V=(0,o.useRef)(N),U=(0,o.useRef)(D),H=(0,o.useRef)(P),K=(0,o.useRef)(C);V.current=N,U.current=D,H.current=P;let{queueTask:W}=uJ(),Y=(0,o.useRef)(null),G=s4(()=>{Y.current=void 0;let e,t,n=()=>{t-e<1e3?Y.current=setTimeout(()=>{F(!1)},1e3-(t-e)):$()};W(async()=>{if(D){let s,u,p;if(e=new Date().getTime(),F(!0),l&&a&&(p=l.slug,s="".concat(d).concat(c,"/").concat(p,"/").concat(a,"?draft=true&autosave=true&locale=").concat(H.current),u="PATCH"),r&&(p=r.slug,s="".concat(d).concat(c,"/globals/").concat(p,"?draft=true&autosave=true&locale=").concat(H.current),u="POST"),s&&U.current){var o,i;let{data:e,valid:l}=mh(V.current,!0);if(e._status="draft",!(E&&!l&&(null==I?void 0:I.drafts)&&(null==I||null==(o=I.drafts)?void 0:o.validate))&&K.current){let l;try{l=await fetch(s,{body:JSON.stringify(e),credentials:"include",headers:{"Accept-Language":T.language,"Content-Type":"application/json"},method:u})}catch(e){}let o=new Date;t=o.getTime(),200===l.status&&(g(o.getTime()),w({id:a,entitySlug:p,updatedAt:o.toISOString()}),m||(h(),v(!0),x(e=>e+1)));let r=await l.json();if((null==I?void 0:I.drafts)&&(null==I||null==(i=I.drafts)?void 0:i.validate)&&(null==r?void 0:r.errors)){if(Array.isArray(r.errors)){let[e,t]=r.errors.reduce((e,t)=>{let[n,a]=e,l=[],o=[];return(null==t?void 0:t.message)&&o.push(t),Array.isArray(null==t?void 0:t.data)&&t.data.forEach(e=>{(null==e?void 0:e.field)?l.push(e):o.push(e)}),[[...n,...l],[...a,...o]]},[[],[]]);j({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{n0.error(e.message||T.t("error:unknown"))}),K.current=!1,_(!1),k(!0),n();return}}else{let e=(null==r?void 0:r.doc)||(null==r?void 0:r.result);e&&(_(!0),K.current=!0,y(e))}n()}}}},{afterProcess:()=>{S(!1)},beforeProcess:()=>{if(!K.current)return K.current=!0,!1;S(!0)}})}),Q=(0,o.useRef)(!1),X=(0,o.useRef)((0,O.r)(z));(0,o.useEffect)(()=>{if(!Q.current){Q.current=!0;return}let e=(0,O.r)(z);(0,b.j)(e,X)||(X.current=e,G())},[z]),(0,o.useEffect)(()=>()=>{$()},[]);let $=s4(()=>{Y.current&&clearTimeout(Y.current),F(!1)});return(0,u.jsxs)("div",{className:"autosave",children:[L&&!C&&(0,u.jsx)(fv,{}),B&&A("general:saving"),!B&&!!f&&(0,u.jsx)(o.Fragment,{children:A("version:lastSavedAgo",{distance:lc({date:f,i18n:T})})})]})},mm=e=>{let{id:t,buttonId:n,collectionSlug:a,onDelete:l,redirectAfterDelete:r=!0,singularLabel:c,title:d}=e,{config:{routes:{admin:h,api:m},serverURL:v},getEntityConfig:b}=(0,i.b)(),x=b({collectionSlug:a}),{setModified:y}=eN(),w=(0,f.useRouter)(),{i18n:j,t:C}=(0,s.d)(),{title:S}=lf(),{startRouteTransition:_}=eH(),{openModal:k}=ne(),N="delete-".concat(t),D=(0,o.useCallback)(()=>{n0.error(C("error:deletingTitle",{title:S}))},[C,S]),E=(0,o.useCallback)(async()=>{y(!1);try{await ad.delete("".concat(v).concat(m,"/").concat(a,"/").concat(t),{headers:{"Accept-Language":j.language,"Content-Type":"application/json"}}).then(async e=>{try{let n=await e.json();if(e.status<400){if(n0.success(C("general:titleDeleted",{label:(0,p.sC)(c,j),title:S})||n.message),r)return _(()=>w.push((0,g.Q)({adminRoute:h,path:"/collections/".concat(a)})));"function"==typeof l&&await l({id:t,collectionConfig:x});return}return n.errors?n.errors.forEach(e=>n0.error(e.message)):D(),!1}catch(e){return D()}})}catch(e){return D()}},[y,v,m,a,t,C,c,D,j,S,w,h,r,l,x,_]);return t?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(e1.Button,{id:n,onClick:()=>{k(N)},children:C("general:delete")}),(0,u.jsx)(ai,{body:(0,u.jsx)(pr,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:C,variables:{label:(0,p.sC)(c,j),title:d||S||t}}),confirmingLabel:C("general:deleting"),heading:C("general:confirmDeletion"),modalSlug:N,onConfirm:E})]}):null},mg=e=>{let{id:t,slug:n,onDuplicate:a,redirectAfterDuplicate:l=!0,singularLabel:r}=e,c=(0,f.useRouter)(),d=eO(),{openModal:h}=ne(),m=aS(),{setModified:v}=eN(),{startRouteTransition:b}=eH(),{config:{routes:{admin:x,api:y},serverURL:w},getEntityConfig:j}=(0,i.b)(),C=j({collectionSlug:n}),[S,_]=o.useState(!1),{i18n:k,t:N}=(0,s.d)(),D="duplicate-".concat(t),E=(0,o.useCallback)(async()=>{_(!0),await ad.post("".concat(w).concat(y,"/").concat(n,"/").concat(t,"/duplicate").concat((null==m?void 0:m.code)?"?locale=".concat(m.code):""),{body:JSON.stringify({}),headers:{"Accept-Language":k.language,"Content-Type":"application/json",credentials:"include"}}).then(async e=>{let{doc:t,errors:o,message:i}=await e.json();if(e.status<400){if(n0.success(i||N("general:successfullyDuplicated",{label:(0,p.sC)(r,k)})),v(!1),l)return b(()=>c.push((0,g.Q)({adminRoute:x,path:"/collections/".concat(n,"/").concat(t.id).concat((null==m?void 0:m.code)?"?locale=".concat(m.code):"")})));"function"==typeof a&&a({collectionConfig:C,doc:t})}else n0.error((null==o?void 0:o[0].message)||i||N("error:unspecific",{label:(0,p.sC)(r,k)}))})},[m,w,y,n,t,k,N,r,a,l,v,c,x,C,b]),P=(0,o.useCallback)(async()=>{_(!1),await E()},[E]);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(e1.Button,{id:"action-duplicate",onClick:()=>d?(_(!0),h(D)):E(),children:N("general:duplicate")}),S&&(0,u.jsx)(ai,{body:N("general:unsavedChangesDuplicate"),confirmLabel:N("general:duplicateWithoutSaving"),heading:N("general:unsavedChanges"),modalSlug:D,onConfirm:P})]})},mv=e=>{let{className:t}=e;return(0,u.jsxs)("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,u.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]})},mb="locked",mx=e=>{var t;let n=(0,d.c)(8),{className:a,user:l}=e,[r,i]=(0,o.useState)(!1),{t:c}=(0,s.d)(),p=fw(l)?null!=(t=l.email)?t:l.id:c("general:anotherUser"),h;n[0]!==a?(h=[mb,a].filter(Boolean),n[0]=a,n[1]=h):h=n[1];let f=h.join(" "),m,g;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>i(!0),g=()=>i(!1),n[2]=m,n[3]=g):(m=n[2],g=n[3]);let v="".concat(p," ").concat(c("general:isEditing")),b;return n[4]!==r||n[5]!==f||n[6]!==v?(b=(0,u.jsxs)("div",{className:f,onMouseEnter:m,onMouseLeave:g,role:"button",tabIndex:0,children:[(0,u.jsx)(tc,{alignCaret:"left",className:"".concat(mb,"__tooltip"),position:"top",show:r,children:v}),(0,u.jsx)(mv,{})]}),n[4]=r,n[5]=f,n[6]=v,n[7]=b):b=n[7],b},my=()=>{let{id:e,collectionSlug:t,globalSlug:n,versionCount:a}=lC(),[l,r]=(0,o.useState)(!1),[c,u]=(0,o.useState)(""),{code:d}=aS(),p=a>0,{config:{routes:{api:h},serverURL:f}}=(0,i.b)(),{t:m}=(0,s.d)(),g=(0,o.useRef)(!1);return{generatePreviewURL:(0,o.useCallback)(async a=>{let{openPreviewWindow:l=!1}=a;if(!g.current){g.current=!0;try{r(!0);let a="".concat(f).concat(h);t&&(a="".concat(a,"/").concat(t,"/").concat(e,"/preview")),n&&(a="".concat(a,"/globals/").concat(n,"/preview"));let o=await fetch("".concat(a,"?").concat(v.A({draft:p?"true":"false",locale:d||void 0})));if(!o.ok)throw Error();let i=await o.json();if(!i)throw Error();u(i),r(!1),g.current=!1,l&&window.open(i,"_blank")}catch(e){r(!1),g.current=!1,n0.error(m("error:previewing"))}}},[f,h,t,n,p,d,e,m]),isLoading:l,label:m(l?"general:loading":"version:preview"),previewURL:c}};function mw(e){let t,n=(0,d.c)(5),{generatePreviewURL:a,label:l}=my(),o;return n[0]!==a?(o=()=>a({openPreviewWindow:!0}),n[0]=a,n[1]=o):o=n[1],n[2]!==l||n[3]!==o?(t=(0,u.jsx)(tp,{buttonStyle:"secondary",className:"preview-btn",icon:"link",iconPosition:"left",onClick:o,size:"medium",children:l}),n[2]=l,n[3]=o,n[4]=t):t=n[4],t}var mj="table",mC=e=>{let{appearance:t,columns:n,data:a}=e,l=null==n?void 0:n.filter(e=>null==e?void 0:e.active);return l&&0!==l.length?(0,u.jsx)("div",{className:[mj,t&&"".concat(mj,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,u.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:l.map((e,t)=>(0,u.jsx)("th",{id:"heading-".concat(e.accessor),children:e.Heading},t))})}),(0,u.jsx)("tbody",{children:a&&a.map((e,t)=>(0,u.jsx)("tr",{className:"row-".concat(t+1),children:l.map((e,n)=>{let{accessor:a}=e;return(0,u.jsx)("td",{className:"cell-".concat(a),children:e.renderedCells[t]},n)})},"string"==typeof e.id||"number"==typeof e.id?String(e.id):t))})]})}):(0,u.jsx)("div",{children:"No columns selected"})},mS=e=>{let{dateFormat:t,deleteHandler:n,docs:a,i18n:l,localization:o,supportedTimezones:r,t:i}=e,s=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("version:type")}),renderedCells:a.map(e=>{var t;let n=null==(t=e.input)?void 0:t.type;return(0,u.jsxs)(l7,{pillStyle:"publish"===n?"success":"warning",children:["publish"===n&&i("version:publish"),"unpublish"===n&&i("version:unpublish")]},e.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:(0,u.jsx)("span",{children:i("general:time")}),renderedCells:a.map(e=>(0,u.jsx)("span",{children:ls({date:e.waitUntil,i18n:l,pattern:t,timezone:e.input.timezone})},e.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:timezone")}),renderedCells:a.map(e=>{var t;let n=(null==(t=r.find(t=>t.value===e.input.timezone))?void 0:t.label)||e.input.timezone;return(0,u.jsx)("span",{children:n||i("general:noValue")},e.id)})}];return o&&s.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:locale")}),renderedCells:a.map(e=>{if(e.input.locale){let t=o.locales.find(t=>t.code===e.input.locale);if(t)return(0,u.jsx)("span",{children:(0,p.sC)(t.label,l)},e.id)}return(0,u.jsx)("span",{children:i("general:all")},e.id)})}),s.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:(0,u.jsx)("span",{children:i("general:delete")}),renderedCells:a.map(e=>(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:t=>{t.preventDefault(),n(e.id)},tooltip:i("general:delete")},e.id))}),s},m_="schedule-publish",mk={label:"All",value:"all"},mN=e=>{var t;let{slug:n,defaultType:a,schedulePublishConfig:l}=e,{toggleModal:r}=ne(),{config:{admin:{dateFormat:c,timezones:{defaultTimezone:d,supportedTimezones:h}},localization:f,routes:{api:m},serverURL:g}}=(0,i.b)(),{id:b,collectionSlug:x,globalSlug:y}=lC(),{title:w}=lf(),{i18n:j,t:C}=(0,s.d)(),{schedulePublish:S}=cr(),[_,k]=o.useState(a||"publish"),[N,D]=o.useState(),[E,P]=o.useState(d),[T,A]=o.useState(mk),[O,I]=o.useState(!1),R=C("general:schedulePublishFor",{title:w}),[L,M]=o.useState(),[F,B]=o.useState(),z=o.useRef(()=>null),V=Intl.DateTimeFormat().resolvedOptions().timeZone,U=o.useMemo(()=>{if(f){let e=f.locales.map(e=>{let{code:t,label:n}=e;return{label:(0,p.sC)(n,j),value:t}});return e.unshift(mk),e}return[]},[f,j]),H=o.useCallback(async()=>{let e={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};x&&(e.where.and.push({"input.doc.value":{equals:String(b)}}),e.where.and.push({"input.doc.relationTo":{equals:x}})),y&&e.where.and.push({"input.global":{equals:y}});let{docs:t}=await ad.post("".concat(g).concat(m,"/payload-jobs"),{body:v.A(e),headers:{"Accept-Language":j.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(e=>e.json());B(mS({dateFormat:c,deleteHandler:z.current,docs:t,i18n:j,localization:f,supportedTimezones:h,t:C})),M(t)},[x,y,g,m,j,c,f,h,C,b]),q=o.useCallback(async e=>{try{await S({deleteID:e}),await H(),n0.success(C("general:deletedSuccessfully"))}catch(e){console.error(e),n0.error(e.message)}},[H,S,C]);o.useEffect(()=>{z.current=q},[q]);let K=o.useCallback(async()=>{let e;if(!N)return n0.error(C("general:noDateSelected"));I(!0),"object"==typeof T&&"all"!==T.value&&"publish"===_&&(e=T.value);try{await S({type:_,date:N,doc:x?{relationTo:x,value:String(b)}:void 0,global:y||void 0,locale:e,timezone:E}),D(void 0),n0.success(C("version:scheduledSuccessfully")),H()}catch(e){console.error(e),n0.error(e.message)}I(!1)},[N,T,_,C,S,x,b,y,E,H]),W=(0,o.useMemo)(()=>{if(E&&V&&N){let e=aL.tz(E),t=aL.tz(V),n=li(new aL(N).withTimeZone(E),e);return li(n,t).toISOString()}return N},[E,N,V]),Y=(0,o.useCallback)(e=>{if(E&&e){let t=aL.tz(E);D(li(new aL(e),t)||null)}else D(e||null)},[D,E]);return o.useEffect(()=>{L||(async()=>await H())()},[L,H]),(0,u.jsxs)(an,{className:m_,gutter:!1,Header:(0,u.jsxs)("div",{className:"".concat(m_,"__drawer-header"),children:[(0,u.jsx)("h2",{title:R,children:R}),(0,u.jsx)(dj,{onClick:()=>r(n)})]}),slug:n,children:[(0,u.jsxs)(n8,{className:"".concat(m_,"__scheduler"),children:[(0,u.jsx)(aN,{label:C("version:type"),required:!0}),(0,u.jsxs)("ul",{className:"".concat(m_,"__type"),children:[(0,u.jsx)("li",{children:(0,u.jsx)(up,{id:"".concat(n,"-type"),isSelected:"publish"===_,onChange:()=>k("publish"),option:{label:C("version:publish"),value:"publish"},path:"".concat(n,"-type"),readOnly:O})}),(0,u.jsx)("li",{children:(0,u.jsx)(up,{id:"".concat(n,"-type"),isSelected:"unpublish"===_,onChange:()=>k("unpublish"),option:{label:C("version:unpublish"),value:"unpublish"},path:"".concat(n,"-type"),readOnly:O})})]}),(0,u.jsx)("br",{}),(0,u.jsx)(aN,{label:C("general:time"),path:"time",required:!0}),(0,u.jsx)(oA,{id:"time",minDate:new Date,onChange:e=>Y(e),pickerAppearance:"dayAndTime",readOnly:O,timeFormat:null==l?void 0:l.timeFormat,timeIntervals:null!=(t=null==l?void 0:l.timeIntervals)?t:5,value:W}),h.length>0&&(0,u.jsx)(sH,{id:"timezone-picker",onChange:P,options:h,selectedTimezone:E}),(0,u.jsx)("br",{}),U.length>0&&"publish"===_&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(aN,{label:C("localization:localeToPublish")}),(0,u.jsx)(sV,{onChange:e=>A(e),options:U,value:T}),(0,u.jsx)("br",{})]}),(0,u.jsxs)("div",{className:"".concat(m_,"__actions"),children:[(0,u.jsx)(tp,{buttonStyle:"primary",disabled:O,id:"scheduled-publish-save",onClick:K,type:"button",children:C("general:save")}),O?(0,u.jsx)("span",{children:C("general:saving")}):null]})]}),(0,u.jsxs)(n8,{className:"".concat(m_,"__upcoming"),children:[(0,u.jsx)("h4",{children:C("general:upcomingEvents")}),!L&&(0,u.jsx)(i.d,{}),(null==L?void 0:L.length)===0&&(0,u.jsx)(eQ,{type:"info",children:C("general:noUpcomingEventsScheduled")}),(null==L?void 0:L.length)>0&&(0,u.jsx)(mC,{appearance:"condensed",columns:F,data:L})]})]})};function mD(e){var t,n,a,l,r,c;let{label:d}=e,{id:p,collectionSlug:h,docConfig:f,globalSlug:m,hasPublishedDoc:g,hasPublishPermission:b,setHasPublishedDoc:x,setMostRecentVersionIsAutosaved:y,setUnpublishedVersionCount:w,unpublishedVersionCount:j,uploadStatus:C}=lC(),{config:S,getEntityConfig:_}=(0,i.b)(),{submit:k}=eN(),N=eO(),D=tq(),{code:E}=aS(),{isModalOpen:P,toggleModal:T}=ne(),A="schedule-publish-".concat(p),{localization:O,routes:{api:I},serverURL:R}=S,{t:L}=(0,s.d)(),M=d||L("version:publishChanges"),F=o.useMemo(()=>h?_({collectionSlug:h}):m?_({globalSlug:m}):void 0,[h,m,_]),B=j>0,z="object"==typeof(null==F||null==(t=F.versions)?void 0:t.drafts)&&(null==F||null==(n=F.versions)?void 0:n.drafts.schedulePublish),V=b&&(N||B||!g)&&"uploading"!==C,U=!!("object"==typeof(null==F||null==(a=F.versions)?void 0:a.drafts)&&(null==F||null==(l=F.versions)?void 0:l.drafts.autosave)),H=!!(z&&b&&(m||h&&p)&&(U||!N)),q="update"===lD()&&!N,K=(0,o.useCallback)(async()=>{if(q)return;let e="?locale=".concat(E,"&depth=0&fallback-locale=null&draft=true"),t,n="POST";h&&(t="".concat(R).concat(I,"/").concat(h).concat(p?"/".concat(p):"").concat(e),p&&(n="PATCH")),m&&(t="".concat(R).concat(I,"/globals/").concat(m).concat(e)),await k({action:t,method:n,overrides:{_status:"draft"},skipValidation:!0})},[k,h,m,R,I,E,p,q]);hJ({cmdCtrlKey:!0,editDepth:D,keyCodes:["s"]},e=>{var t,n,a;e.preventDefault(),e.stopPropagation(),K&&(null==(t=f.versions)?void 0:t.drafts)&&(null==(a=f.versions)||null==(n=a.drafts)?void 0:n.autosave)&&K()});let W=(0,o.useCallback)(()=>{"uploading"!==C&&(k({overrides:{_status:"published"}}),w(0),y(!1),x(!0))},[x,k,w,C,y]),Y=(0,o.useCallback)(e=>{if("uploading"===C)return;let t=v.A({publishSpecificLocale:e});k({action:"".concat(R).concat(I).concat(m?"/globals/".concat(m):"/".concat(h,"/").concat(p?"".concat("/"+p):"")).concat(t?"?"+t:""),overrides:{_status:"published"}}),x(!0)},[I,h,m,p,R,x,k,C]),G=!O||O&&"active"!==O.defaultLocalePublishOption,Q=O&&(null==O?void 0:O.locales.find(e=>"string"==typeof e?e===E:e.code===E)),X=Q&&("string"==typeof Q.label?Q.label:null!=(c=null==(r=Q.label)?void 0:r[E])?c:void 0),$=G?W:()=>Y(Q.code),Z=G?M:L("version:publishIn",{locale:X}),J=G?()=>Y(Q.code):W,ee=G?L("version:publishIn",{locale:X}):L("version:publishAllLocales");return b?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(d4,{buttonId:"action-save",disabled:!V,enableSubMenu:H,onClick:$,size:"medium",SubMenuPopupContent:O||H?e=>{let{close:t}=e;return(0,u.jsxs)(o.Fragment,{children:[H&&(0,u.jsx)(e1.ButtonGroup,{children:(0,u.jsx)(e1.Button,{id:"schedule-publish",onClick:()=>[T(A),t()],children:L("version:schedulePublish")})},"schedule-publish"),O&&V&&(0,u.jsx)(e1.ButtonGroup,{children:(0,u.jsx)(e1.Button,{id:"publish-locale",onClick:J,children:ee})})]})}:void 0,type:"button",children:O?Z:M}),H&&P(A)&&(0,u.jsx)(mN,{defaultType:B?"publish":"unpublish",schedulePublishConfig:"object"==typeof z&&z,slug:A})]}):null}function mE(e){let{label:t}=e,{uploadStatus:n}=lC(),{t:a}=(0,s.d)(),{submit:l}=eN(),r=eO(),i=t||a("general:save"),c=(0,o.useRef)(null),d=tq(),p="update"===lD()&&!r||"uploading"===n;return hJ({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==c?void 0:c.current)&&c.current.click()}),(0,u.jsx)(d4,{buttonId:"action-save",disabled:p,onClick:()=>{if("uploading"!==n)return void l()},ref:c,size:"medium",type:"button",children:i})}function mP(e){let{config:{routes:{api:t},serverURL:n}}=(0,i.b)(),{id:a,collectionSlug:l,globalSlug:r,setUnpublishedVersionCount:c,uploadStatus:d}=lC(),p=eO(),{code:h}=aS(),f=(0,o.useRef)(null),m=tq(),{t:g}=(0,s.d)(),{submit:v}=eN(),b="update"===lD()&&!p||"uploading"===d,x=(0,o.useCallback)(async()=>{if(b)return;let e="?locale=".concat(h,"&depth=0&fallback-locale=null&draft=true"),o,i="POST";l&&(o="".concat(n).concat(t,"/").concat(l).concat(a?"/".concat(a):"").concat(e),a&&(i="PATCH")),r&&(o="".concat(n).concat(t,"/globals/").concat(r).concat(e)),await v({action:o,method:i,overrides:{_status:"draft"},skipValidation:!0}),c(e=>e+1)},[v,l,r,n,t,h,a,b,c]);return hJ({cmdCtrlKey:!0,editDepth:m,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==f?void 0:f.current)&&f.current.click()}),(0,u.jsx)(d4,{buttonId:"action-save-draft",buttonStyle:"secondary",className:"save-draft",disabled:b,onClick:()=>void x(),ref:f,size:"medium",type:"button",children:g("version:saveDraft")})}var mT="status",mA=()=>{let{id:e,collectionSlug:t,docPermissions:n,globalSlug:a,hasPublishedDoc:l,incrementVersionCount:r,setHasPublishedDoc:c,setMostRecentVersionIsAutosaved:d,setUnpublishedVersionCount:p,unpublishedVersionCount:h}=lC(),{toggleModal:f}=ne(),{config:{routes:{api:m},serverURL:g}}=(0,i.b)(),{reset:v}=eN(),{code:b}=aS(),{i18n:x,t:y}=(0,s.d)(),w="confirm-un-publish-".concat(e),j="confirm-revert-".concat(e),C;h>0&&l?C="changed":l?l&&h<=0&&(C="published"):C="draft";let S=(0,o.useCallback)(async n=>{let l,o,i;"unpublish"===n&&(i={_status:"draft"}),t&&(l="".concat(g).concat(m,"/").concat(t,"/").concat(e,"?locale=").concat(b,"&fallback-locale=null&depth=0"),o="patch"),a&&(l="".concat(g).concat(m,"/globals/").concat(a,"?locale=").concat(b,"&fallback-locale=null&depth=0"),o="post"),"revert"===n&&(i=await ad.get(l,{headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(e=>e.json()));let s=await ad[o](l,{body:JSON.stringify(i),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}});if(200===s.status){let e,l=await s.json();a?e=l.result:t&&(e=l.doc),v(e),n0.success(l.message),r(),d(!1),"unpublish"===n?c(!1):"revert"===n&&p(0)}else try{var u,h;let e=await s.json();(null==(h=e.errors)||null==(u=h[0])?void 0:u.message)?n0.error(e.errors[0].message):e.error?n0.error(e.error):n0.error(y("error:unPublishingDocument"))}catch(e){n0.error(y("error:unPublishingDocument"))}},[m,t,a,e,x.language,r,b,v,g,p,d,y,c]),_=null==n?void 0:n.update;return C?(0,u.jsx)("div",{className:mT,title:"".concat(y("version:status"),": ").concat(y("version:".concat(C))),children:(0,u.jsxs)("div",{className:"".concat(mT,"__value-wrap"),children:[(0,u.jsxs)("span",{className:"".concat(mT,"__label"),children:[y("version:status"),":\xa0"]}),(0,u.jsx)("span",{className:"".concat(mT,"__value"),children:y("version:".concat(C))}),_&&"published"===C&&(0,u.jsxs)(o.Fragment,{children:["\xa0—\xa0",(0,u.jsx)(tp,{buttonStyle:"none",className:"".concat(mT,"__action"),id:"action-unpublish",onClick:()=>f(w),children:y("version:unpublish")}),(0,u.jsx)(ai,{body:y("version:aboutToUnpublish"),confirmingLabel:y("version:unpublishing"),heading:y("version:confirmUnpublish"),modalSlug:w,onConfirm:()=>S("unpublish")})]}),_&&"changed"===C&&(0,u.jsxs)(o.Fragment,{children:["\xa0—\xa0",(0,u.jsx)(tp,{buttonStyle:"none",className:"".concat(mT,"__action"),id:"action-revert-to-published",onClick:()=>f(j),children:y("version:revertToPublished")}),(0,u.jsx)(ai,{body:y("version:aboutToRevertToPublished"),confirmingLabel:y("version:reverting"),heading:y("version:confirmRevertToSaved"),modalSlug:j,onConfirm:()=>S("revert")})]})]})}):null},mO="doc-controls",mI=e=>{var t,n,a,l,r,c,h,f,m,v,b,x,y,w;let j=(0,d.c)(12),{id:C,slug:S,BeforeDocumentControls:_,customComponents:k,data:N,disableActions:D,disableCreate:E,hasSavePermission:P,isAccountView:T,isEditing:A,onDelete:O,onDrawerCreateNew:I,onDuplicate:R,onTakeOver:L,permissions:M,readOnlyForIncomingUser:F,redirectAfterDelete:B,redirectAfterDuplicate:z,user:V}=e,U;j[0]!==k?(U=void 0===k?{}:k,j[0]=k,j[1]=U):U=j[1];let{PreviewButton:H,PublishButton:q,SaveButton:K,SaveDraftButton:W}=U,{i18n:Y,t:G}=(0,s.d)(),Q=tq(),{config:X,getEntityConfig:$}=(0,i.b)(),Z=$({collectionSlug:S}),J=$({globalSlug:S}),{admin:ee,localization:et,routes:en}=X,{dateFormat:ea}=ee,{admin:el}=en,[eo,er]=o.useState(""),[ei,es]=o.useState(""),eu=eT(),ed=eI(),ep,eh;j[2]!==N||j[3]!==ea||j[4]!==Y?(ep=()=>{(null==N?void 0:N.updatedAt)&&er(ls({date:N.updatedAt,i18n:Y,pattern:ea})),(null==N?void 0:N.createdAt)&&es(ls({date:N.createdAt,i18n:Y,pattern:ea}))},eh=[N,Y,ea],j[2]=N,j[3]=ea,j[4]=Y,j[5]=ep,j[6]=eh):(ep=j[5],eh=j[6]),(0,o.useEffect)(ep,eh);let ef=M&&"create"in M&&M.create,em=M&&"delete"in M&&M.delete,eg=!!(Z&&C&&!D&&(ef||em)),ev=!C&&(null==Z||null==(t=Z.versions)?void 0:t.drafts)&&(null==(n=Z.versions)?void 0:n.drafts.validate),eb=null==Z||null==(a=Z.versions)?void 0:a.drafts,ex=null==J||null==(l=J.versions)?void 0:l.drafts,ey=eb&&(null==eb?void 0:eb.autosave)||ex&&(null==ex?void 0:ex.autosave),ew=eb&&(null==eb?void 0:eb.autosave),ej=ex&&(null==ex?void 0:ex.autosave),eC=ew&&!1!==eb.autosave&&!0===eb.autosave.showSaveDraftButton||ej&&!1!==ex.autosave&&!0===ex.autosave.showSaveDraftButton,eS=et&&!(null==Z||null==(r=Z.admin)?void 0:r.disableCopyToLocale),e_=Z&&Z.folders,ek=V&&F,eN;return j[7]!==L||j[8]!==F||j[9]!==G||j[10]!==V?(eN=V&&F&&(0,u.jsx)(tp,{buttonStyle:"secondary",id:"take-over",onClick:L,size:"medium",type:"button",children:G("general:takeOver")}),j[7]=L,j[8]=F,j[9]=G,j[10]=V,j[11]=eN):eN=j[11],(0,u.jsxs)(n8,{className:mO,children:[(0,u.jsxs)("div",{className:"".concat(mO,"__wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(mO,"__content"),children:[ek||e_?(0,u.jsxs)("div",{className:"".concat(mO,"__meta-icons"),children:[ek&&(0,u.jsx)(mx,{className:"".concat(mO,"__locked-controls"),user:V}),e_&&(0,u.jsx)(pI,{folderFieldName:X.folders.fieldName})]}):null,(0,u.jsxs)("ul",{className:"".concat(mO,"__meta"),children:[Z&&!A&&!T&&(0,u.jsx)("li",{className:"".concat(mO,"__list-item"),children:(0,u.jsx)("p",{className:"".concat(mO,"__value"),children:Y.t("general:creatingNewLabel",{label:(0,p.sC)(null!=(w=null==Z||null==(c=Z.labels)?void 0:c.singular)?w:Y.t("general:document"),Y)})})}),((null==Z||null==(h=Z.versions)?void 0:h.drafts)||(null==J||null==(f=J.versions)?void 0:f.drafts))&&(0,u.jsxs)(o.Fragment,{children:[(J||Z&&A)&&(0,u.jsx)("li",{className:["".concat(mO,"__status"),"".concat(mO,"__list-item")].filter(Boolean).join(" "),children:(0,u.jsx)(mA,{})}),P&&ey&&!ev&&(0,u.jsx)("li",{className:"".concat(mO,"__list-item"),children:(0,u.jsx)(mf,{collection:Z,global:J,id:C,publishedDocUpdatedAt:null==N?void 0:N.createdAt})})]}),(null==Z?void 0:Z.timestamps)&&(A||T)&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("li",{className:["".concat(mO,"__list-item"),"".concat(mO,"__value-wrap")].filter(Boolean).join(" "),title:(null==N?void 0:N.updatedAt)?eo:"",children:[(0,u.jsxs)("p",{className:"".concat(mO,"__label"),children:[Y.t("general:lastModified"),":\xa0"]}),(null==N?void 0:N.updatedAt)&&(0,u.jsx)("p",{className:"".concat(mO,"__value"),children:eo})]}),(0,u.jsxs)("li",{className:["".concat(mO,"__list-item"),"".concat(mO,"__value-wrap")].filter(Boolean).join(" "),title:(null==N?void 0:N.createdAt)?ei:"",children:[(0,u.jsxs)("p",{className:"".concat(mO,"__label"),children:[Y.t("general:created"),":\xa0"]}),(null==N?void 0:N.createdAt)&&(0,u.jsx)("p",{className:"".concat(mO,"__value"),children:ei})]})]})]})]}),(0,u.jsxs)("div",{className:"".concat(mO,"__controls-wrapper"),children:[(0,u.jsxs)("div",{className:"".concat(mO,"__controls"),children:[_,((null==Z?void 0:Z.admin.preview)||(null==J?void 0:J.admin.preview))&&(0,u.jsx)(ec,{CustomComponent:H,Fallback:(0,u.jsx)(mw,{})}),P&&(0,u.jsx)(o.Fragment,{children:(null==Z||null==(m=Z.versions)?void 0:m.drafts)||(null==J||null==(v=J.versions)?void 0:v.drafts)?(0,u.jsxs)(o.Fragment,{children:[(ev||!ey||ey&&eC)&&(0,u.jsx)(ec,{CustomComponent:W,Fallback:(0,u.jsx)(mP,{})}),(0,u.jsx)(ec,{CustomComponent:q,Fallback:(0,u.jsx)(mD,{})})]}):(0,u.jsx)(ec,{CustomComponent:K,Fallback:(0,u.jsx)(mE,{})})}),eN]}),eg&&!F&&(0,u.jsx)(ts,{button:(0,u.jsxs)("div",{className:"".concat(mO,"__dots"),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]}),className:"".concat(mO,"__popup"),disabled:ed||eu,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,u.jsxs)(e1.ButtonGroup,{children:[eS&&(0,u.jsx)(f7,{}),ef&&(0,u.jsxs)(o.Fragment,{children:[!E&&(0,u.jsx)(o.Fragment,{children:Q>1?(0,u.jsx)(e1.Button,{id:"action-create",onClick:I,children:Y.t("general:createNew")}):(0,u.jsx)(e1.Button,{href:(0,g.Q)({adminRoute:el,path:"/collections/".concat(null==Z?void 0:Z.slug,"/create")}),id:"action-create",children:Y.t("general:createNew")})}),!0!==Z.disableDuplicate&&A&&(0,u.jsx)(mg,{id:C.toString(),onDuplicate:R,redirectAfterDuplicate:z,singularLabel:null==Z||null==(b=Z.labels)?void 0:b.singular,slug:null==Z?void 0:Z.slug})]}),em&&(0,u.jsx)(mm,{buttonId:"action-delete",collectionSlug:null==Z?void 0:Z.slug,id:C.toString(),onDelete:O,redirectAfterDelete:B,singularLabel:null==Z||null==(x=Z.labels)?void 0:x.singular,useAsTitle:null==Z||null==(y=Z.admin)?void 0:y.useAsTitle})]})})]})]}),(0,u.jsx)("div",{className:"".concat(mO,"__divider")})]})},mR=(0,o.createContext)(null),mL=e=>{let{children:t}=e,n=(0,o.useRef)(new Set);return(0,o.useEffect)(()=>{let e=e=>{n.current.forEach(t=>{let{handler:n,ref:a}=t;a.current&&!a.current.contains(e.target)&&n()})};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,u.jsx)(mR,{value:{register:e=>n.current.add(e),unregister:e=>n.current.delete(e)},children:t})},mM=()=>{let e=(0,o.use)(mR);if(!e)throw Error("useClickOutside must be used within a ClickOutsideProvider");return e};function mF(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{register:a,unregister:l}=mM();(0,o.useEffect)(()=>{if(!n||!e.current)return;let o={handler:t,ref:e};return a(o),()=>l(o)},[e,t,n,a,l])}var mB=e=>{let t=(0,d.c)(7),{action:n,disabled:a}=e,{submit:l}=eN(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,c;return t[3]!==a||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d4,{className:"".concat(mH,"__save"),disabled:a,onClick:i,children:o("general:save")}),t[3]=a,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},mz=e=>{let t=(0,d.c)(7),{action:n,disabled:a}=e,{submit:l}=eN(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,c;return t[3]!==a||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d4,{className:"".concat(mH,"__publish"),disabled:a,onClick:i,children:o("version:publishChanges")}),t[3]=a,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},mV=e=>{let t=(0,d.c)(7),{action:n,disabled:a}=e,{submit:l}=eN(),{t:o}=(0,s.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,c;return t[3]!==a||t[4]!==i||t[5]!==o?(c=(0,u.jsx)(d4,{buttonStyle:"secondary",className:"".concat(mH,"__draft"),disabled:a,onClick:i,children:o("version:saveDraft")}),t[3]=a,t[4]=i,t[5]=o,t[6]=c):c=t[6],c},mU=e=>{var t,n;let{collection:a,collection:{fields:l,labels:{plural:r,singular:c}}={},count:d,drawerSlug:h,ids:m,selectAll:g,selectedFields:b,setSelectedFields:x}=e,{permissions:y,user:w}=af(),{code:j}=aS(),{closeModal:S}=ne(),{config:{routes:{api:_},serverURL:k}}=(0,i.b)(),{getFormState:N}=cr(),{i18n:D,t:E}=(0,s.d)(),[P,T]=(0,o.useState)(!1),A=(0,f.useRouter)(),O=o.useRef(null),{clearRouteCache:I}=mn(),R=null==y||null==(t=y.collections)?void 0:t[a.slug],L=(0,f.useSearchParams)(),F=(0,o.useMemo)(()=>(0,M.s)(b.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[b]),B=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=c_(O),{state:o}=await N({collectionSlug:a.slug,docPermissions:R,docPreferences:null,formState:t,operation:"update",schemaPath:a.slug,select:F,signal:l.signal,skipValidation:!n});return O.current=null,o},[N,a,R,F]);(0,o.useEffect)(()=>{let e=O.current;return()=>{cS(e)}},[]);let z=(0,o.useMemo)(()=>{var e;let t=[],n=(0,C.d)({collectionConfig:a,search:L.get("search")});return n&&t.push(n),g?t.push((null==(e=ce(L))?void 0:e.where)||{id:{exists:!0}}):t.push({id:{in:m||[]}}),v.A({locale:j,where:(0,K.h)(t)},{addQueryPrefix:!0})},[a,L,g,m,j]),V=(0,o.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:l}=e;T(!0),x(l||[]);let{state:o}=await N({collectionSlug:a.slug,docPermissions:R,docPreferences:null,formState:n,operation:"update",schemaPath:a.slug,select:(0,M.s)(l.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:o}),T(!1)},[N,a.slug,R,x]);return(0,u.jsx)(l_,{collectionSlug:a.slug,currentEditor:w,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,u.jsx)(lk,{value:"update",children:(0,u.jsxs)("div",{className:"".concat(mH,"__main"),children:[(0,u.jsxs)("div",{className:"".concat(mH,"__header"),children:[(0,u.jsx)("h2",{className:"".concat(mH,"__header__title"),children:E("general:editingLabel",{count:d,label:(0,p.sC)(d>1?r:c,D)})}),(0,u.jsx)("button",{"aria-label":E("general:close"),className:"".concat(mH,"__header__close"),id:"close-drawer__".concat(h),onClick:()=>S(h),type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsxs)(dn,{className:"".concat(mH,"__form"),isInitializing:P,onChange:[B],onSuccess:()=>{A.replace(v.A({...ce(L),page:g?"1":void 0},{addQueryPrefix:!0})),I(),S(h)},children:[(0,u.jsx)(dF,{fields:l,onChange:V,permissions:R.fields}),0===b.length?null:(0,u.jsx)("div",{className:"render-fields",children:b.map((e,t)=>{let{value:{field:n,fieldPermissions:a,path:l}}=e;return(0,u.jsx)(hI,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:l,permissions:a},"".concat(l,"-").concat(t))})}),(0,u.jsx)("div",{className:"".concat(mH,"__sidebar-wrap"),children:(0,u.jsx)("div",{className:"".concat(mH,"__sidebar"),children:(0,u.jsx)("div",{className:"".concat(mH,"__sidebar-sticky-wrap"),children:(0,u.jsx)("div",{className:"".concat(mH,"__document-actions"),children:(null==a||null==(n=a.versions)?void 0:n.drafts)?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mV,{action:"".concat(k).concat(_,"/").concat(a.slug).concat(z,"&draft=true"),disabled:0===b.length}),(0,u.jsx)(mz,{action:"".concat(k).concat(_,"/").concat(a.slug).concat(z,"&draft=true"),disabled:0===b.length})]}):(0,u.jsx)(mB,{action:"".concat(k).concat(_,"/").concat(a.slug).concat(z),disabled:0===b.length})})})})})]})]})})})},mH="edit-many",mq=e=>{let t=(0,d.c)(5),{count:n,selectAll:a,selected:l}=mr(),o;return t[0]!==n||t[1]!==e||t[2]!==a||t[3]!==l?(o=(0,u.jsx)(mK,{...e,count:n,ids:Array.from(l.keys()),selectAll:a===ma.AllAvailable}),t[0]=n,t[1]=e,t[2]=a,t[3]=l,t[4]=o):o=t[4],o},mK=e=>{var t;let n,a,l=(0,d.c)(14),{collection:r,count:i,ids:c,selectAll:p}=e,{permissions:h}=af(),{openModal:f}=ne(),{t:m}=(0,s.d)(),g;l[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],l[0]=g):g=l[0];let[v,b]=(0,o.useState)(g),x=null==h||null==(t=h.collections)?void 0:t[r.slug],y="edit-".concat(r.slug);if(0===i||!(null==x?void 0:x.update))return null;if(l[1]===Symbol.for("react.memo_cache_sentinel")?(n=[mH,"".concat(mH,"__toggle")].filter(Boolean),l[1]=n):n=l[1],l[2]!==r||l[3]!==i||l[4]!==y||l[5]!==c||l[6]!==f||l[7]!==p||l[8]!==v||l[9]!==m){let e;l[11]!==y||l[12]!==f?(e=()=>{f(y),b([])},l[11]=y,l[12]=f,l[13]=e):e=l[13],a=(0,u.jsxs)("div",{className:n.join(" "),children:[(0,u.jsx)(mc,{"aria-label":m("general:edit"),onClick:e,children:m("general:edit")}),(0,u.jsx)(tH,{children:(0,u.jsx)(an,{Header:null,slug:y,children:(0,u.jsx)(mU,{collection:r,count:i,drawerSlug:y,ids:c,selectAll:p,selectedFields:v,setSelectedFields:b})})})]}),l[2]=r,l[3]=i,l[4]=y,l[5]=c,l[6]=f,l[7]=p,l[8]=v,l[9]=m,l[10]=a}else a=l[10];return a};function mW(e){let t=(0,d.c)(6),n=tq(),a;t[0]!==e.style?(a=e.style||{},t[0]=e.style,t[1]=a):a=t[1];let l="calc(100 + ".concat(n||0," + 1)"),o;return t[2]!==e||t[3]!==a||t[4]!==l?(o=(0,u.jsx)(ng,{...e,style:{...a,zIndex:l}}),t[2]=e,t[3]=a,t[4]=l,t[5]=o):o=t[5],o}function mY(e){let t,n=(0,d.c)(12),{highlightField:a,setKey:l}=e,{id:r}=lC(),{toggleModal:i}=ne(),{t:c}=(0,s.d)(),p="generate-confirmation-".concat(r),h;n[0]!==a||n[1]!==l||n[2]!==c?(h=()=>{l(),n0.success(c("authentication:newAPIKeyGenerated")),a(!0)},n[0]=a,n[1]=l,n[2]=c,n[3]=h):h=n[3];let f=h,m;return n[4]!==p||n[5]!==i?(m=()=>{i(p)},n[4]=p,n[5]=i,n[6]=m):m=n[6],n[7]!==f||n[8]!==p||n[9]!==c||n[10]!==m?(t=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(tp,{buttonStyle:"secondary",onClick:m,size:"small",children:c("authentication:generateNewAPIKey")}),(0,u.jsx)(ai,{body:(0,u.jsx)(pr,{elements:{1:mG},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:c}),confirmLabel:c("authentication:generate"),heading:c("authentication:confirmGeneration"),modalSlug:p,onConfirm:f})]}),n[7]=f,n[8]=p,n[9]=c,n[10]=m,n[11]=t):t=n[11],t}function mG(e){let{children:t}=e;return(0,u.jsx)("strong",{children:t})}function mQ(e){let t=(0,d.c)(4),{permissions:n}=e,{setPermissions:a}=af(),l,r;return t[0]!==n||t[1]!==a?(l=()=>{a(n)},r=[n,a],t[0]=n,t[1]=a,t[2]=l,t[3]=r):(l=t[2],r=t[3]),(0,o.useEffect)(l,r),null}var mX="dots",m$=e=>{let{ariaLabel:t,className:n,noBackground:a,orientation:l="vertical"}=e;return(0,u.jsxs)("div",{"aria-label":t,className:[n,mX,a&&"".concat(mX,"--no-background"),l&&"".concat(mX,"--").concat(l)].filter(Boolean).join(" "),children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{}),(0,u.jsx)("div",{})]})},mZ="search-filter",mJ=e=>{let{handleChange:t,initialParams:n,label:a,searchQueryParam:l}=e,r=(null==n?void 0:n.search)||l,i=(0,f.usePathname)(),[s,c]=(0,o.useState)("string"==typeof r?r:void 0),d=(0,o.useRef)(!0),p=(0,o.useRef)("string"==typeof r?r:void 0),h=au(s,300);return(0,o.useEffect)(()=>{r!==p.current&&(d.current=!1,c(r),p.current=r)},[r,i]),(0,o.useEffect)(()=>{h!==p.current&&d.current&&(t&&t(h),p.current=h)},[h,t]),(0,u.jsx)("div",{className:mZ,children:(0,u.jsx)("input",{"aria-label":a,className:"".concat(mZ,"__input"),id:"search-filter-input",onChange:e=>{d.current=!0,c(e.target.value)},placeholder:a,type:"text",value:s||""})})},m0=e=>{let{disabled:t,field:{admin:n},onChange:a,value:l}=e,{date:o}=n||{};return(0,u.jsx)("div",{className:"condition-value-date",children:(0,u.jsx)(oA,{...o,onChange:a,readOnly:t,value:l})})},m1=e=>{let t,n=(0,d.c)(18),{disabled:a,field:l,onChange:r,operator:i,value:c}=e,{hasMany:p}=l,{t:h}=(0,s.d)(),f;n[0]!==p||n[1]!==i?(f=["in","not_in"].includes(i)||p,n[0]=p,n[1]=i,n[2]=f):f=n[2];let m=f,g;n[3]===Symbol.for("react.memo_cache_sentinel")?(g=[],n[3]=g):g=n[3];let[v,b]=o.useState(g),x;n[4]!==m||n[5]!==r?(x=e=>{var t;let n;e?m&&(n=Array.isArray(e)?e.map(m3):[Number((null==(t=e.value)?void 0:t.value)||e.value)]):n=[],r(n)},n[4]=m,n[5]=r,n[6]=x):x=n[6];let y=x,w,j;return n[7]!==c?(w=()=>{Array.isArray(c)?b(c.map(m2)):b([])},j=[c],n[7]=c,n[8]=w,n[9]=j):(w=n[8],j=n[9]),o.useEffect(w,j),n[10]!==a||n[11]!==m||n[12]!==r||n[13]!==y||n[14]!==h||n[15]!==c||n[16]!==v?(t=m?(0,u.jsx)(sV,{disabled:a,isClearable:!0,isCreatable:!0,isMulti:m,isSortable:!0,numberOnly:!0,onChange:y,options:[],placeholder:h("general:enterAValue"),value:v||[]}):(0,u.jsx)("input",{className:"condition-value-number",disabled:a,onChange:e=>r(e.target.value),placeholder:h("general:enterAValue"),type:"number",value:c}),n[10]=a,n[11]=m,n[12]=r,n[13]=y,n[14]=h,n[15]=c,n[16]=v,n[17]=t):t=n[17],t};function m3(e){var t;return Number((null==(t=e.value)?void 0:t.value)||e.value)}function m2(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var m6=e=>e.reduce((e,t)=>t.options?[...e,...m6(t.options)]:[...e,t.id],[]),m5=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,data:a,hasMultipleRelations:l,i18n:o,relation:r}=t,i=n.admin.useAsTitle||"id",s=m6(e);if(!l)return[...e,...a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],value:t.id}]):e,[])];let c=[...e],u=c.find(e=>e.label===(0,p.sC)(n.labels.plural,o)),d=a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],relationTo:r,value:t.id}]):e,[]);return u?u.options=[...u.options,...d]:c.push({label:(0,p.sC)(n.labels.plural,o),options:d,value:void 0}),c}case"CLEAR":return t.required?[]:[{label:t.i18n.t("general:none"),value:"null"}];default:return e}},m4="condition-value-relationship",m8=e=>{let{disabled:t,field:{admin:{isSortable:n,placeholder:a}={},hasMany:l,relationTo:r},filterOptions:c,onChange:d,value:p}=e,{config:{routes:{api:h},serverURL:f},getEntityConfig:m}=(0,i.b)(),g=Array.isArray(r),[b,x]=(0,o.useReducer)(m5,[]),[y,w]=(0,o.useState)(""),j=au(y,300),[C,S]=(0,o.useState)(""),[_,k]=(0,o.useState)(!1),{i18n:N,t:D}=(0,s.d)(),E=aS(),P=g?r:[r],T=o.useRef(new Map(P.map(e=>[e,{hasLoadedAll:!1,nextPage:1}]))),A=(0,o.useCallback)((e,t)=>{x({type:"ADD",collection:m({collectionSlug:t}),data:e,hasMultipleRelations:g,i18n:N,relation:t})},[g,N,m]),O=s4(async e=>{let{abortController:t,relationSlug:n}=e,a=T.current.get(n);if(n&&!a.hasLoadedAll){var l,o;let e=(null==(o=m({collectionSlug:n}))||null==(l=o.admin)?void 0:l.useAsTitle)||"id",r={depth:0,limit:10,locale:E.code,page:a.nextPage,select:{[e]:!0},where:{and:[]}};c&&(null==c?void 0:c[n])&&r.where.and.push(c[n]),j&&r.where.and.push({[e]:{like:j}});try{let e=await fetch("".concat(f).concat(h,"/").concat(n).concat(v.A(r,{addQueryPrefix:!0})),{credentials:"include",headers:{"Accept-Language":N.language},signal:t.signal});if(e.ok){let t=await e.json();t.docs.length>0&&(A(t,n),t.nextPage?T.current.set(n,{hasLoadedAll:!1,nextPage:t.nextPage}):T.current.set(n,{hasLoadedAll:!0,nextPage:null}))}else S(D("error:unspecific"))}catch(e){t.signal.aborted||console.error(e)}}k(!0)}),I=o.useCallback(()=>{let e=T.current.entries().next().value;e[0]&&!e[1].hasLoadedAll&&O({abortController:new AbortController,relationSlug:e[0]})},[]),R=(0,o.useCallback)(()=>{if(p){if(l)return Array.isArray(p)?p.map(e=>{if(g){let t;return b.forEach(n=>{n.options&&n.options.some(n=>(null==n?void 0:n.value)==e.value&&(t=n,!0))}),t}return b.find(t=>t.value==e)}):void 0;if(g){let e;return b.forEach(t=>{(null==t?void 0:t.options)&&t.options.some(t=>(null==t?void 0:t.value)==p.value&&(e=t,!0))}),e}return b.find(e=>e.value==p)}},[l,g,p,b]),L=(0,o.useCallback)(e=>{e!==y&&(x({type:"CLEAR",i18n:N,required:!1}),T.current=new Map((Array.isArray(r)?r:[r]).map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),w(e))},[N,r,y]),M=(0,o.useCallback)(async(e,t)=>{if(!C&&"null"!==e&&e&&t){let n=await fetch("".concat(f).concat(h,"/").concat(t,"/").concat(e,"?depth=0"),{credentials:"include",headers:{"Accept-Language":N.language}});n.ok?A({docs:[await n.json()]},t):console.error(D("error:loadingDocument",{id:e}))}},[N,A,h,C,f,D]);(0,o.useEffect)(()=>{let e=Array.isArray(r)?r:[r];T.current=new Map(e.map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),x({type:"CLEAR",i18n:N,required:!1}),k(!1);let t=[];return e.forEach(e=>{let n=new AbortController;O({abortController:n,relationSlug:e}),t.push(n)}),()=>{t.forEach(e=>{if(e.signal)try{e.abort()}catch(e){}})}},[N,r,j,c]),(0,o.useEffect)(()=>{p&&_&&(l?(R()||[]).forEach((e,t)=>{e||(g?M(p[t].value,p[t].relationTo):M(p[t],r))}):R()||(g?M(p.value,p.relationTo):M(p,r)))},[M,R,l,g,r,p,_]);let F=["field-type",m4,C&&"error-loading"].filter(Boolean).join(" "),B=R()||p;return(0,u.jsxs)("div",{className:F,children:[!C&&(0,u.jsx)(sV,{disabled:t,isMulti:l,isSortable:n,onChange:e=>{if(!e)return void d(null);l&&Array.isArray(e)?d(e?e.map(e=>g?{relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}:null==e?void 0:e.value):null):g&&!Array.isArray(e)?d({relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}):Array.isArray(e)||d(null==e?void 0:e.value)},onInputChange:L,onMenuScrollToBottom:I,options:b,placeholder:a,value:B}),C&&(0,u.jsx)("div",{className:"".concat(m4,"__error-loading"),children:C})]})},m7=e=>{let t,n,a,l,r=(0,d.c)(26),{disabled:i,field:c,isClearable:h,onChange:f,operator:m,options:g,value:v}=e,{admin:b}=c,{placeholder:x}=b,{i18n:y}=(0,s.d)(),w;r[0]!==g?(w=sU(g),r[0]=g,r[1]=w):w=r[1];let[j,C]=o.useState(w),S;r[2]===Symbol.for("react.memo_cache_sentinel")?(S=["in","not_in"],r[2]=S):S=r[2];let _=S.includes(m),k;if(_&&Array.isArray(v)){let e;r[3]!==y||r[4]!==j?(e=e=>{var t;let n=j.find(t=>t.value===e);return{label:n?(0,p.sC)(n.label,y):e,value:null!=(t=null==n?void 0:n.value)?t:e}},r[3]=y,r[4]=j,r[5]=e):e=r[5],k=v.map(e)}else if(v){var N;let e,t;if(r[6]!==y||r[7]!==j||r[8]!==v){let n;r[11]!==v?(n=e=>e.value===v,r[11]=v,r[12]=n):n=r[12],t=(e=j.find(n))?(0,p.sC)(e.label,y):v,r[6]=y,r[7]=j,r[8]=v,r[9]=e,r[10]=t}else e=r[9],t=r[10];k={label:t,value:null!=(N=null==e?void 0:e.value)?N:v}}r[13]!==_||r[14]!==f?(t=e=>{let t;f(e?_?Array.isArray(e)?e.map(m9):[]:e.value:null)},r[13]=_,r[14]=f,r[15]=t):t=r[15];let D=t,E,P;return r[16]!==g?(E=()=>{C(sU(g))},P=[g],r[16]=g,r[17]=E,r[18]=P):(E=r[17],P=r[18]),o.useEffect(E,P),r[19]!==_||r[20]!==f||r[21]!==v?(n=()=>{!_&&Array.isArray(v)&&f(v[0])},a=[_,f,v],r[19]=_,r[20]=f,r[21]=v,r[22]=n,r[23]=a):(n=r[22],a=r[23]),o.useEffect(n,a),r[24]!==y?(l=e=>({...e,label:(0,p.sC)(e.label,y)}),r[24]=y,r[25]=l):l=r[25],(0,u.jsx)(sV,{disabled:i,isClearable:h,isMulti:_,onChange:D,options:j.map(l),placeholder:x,value:k})};function m9(e){return e.value}var ge=e=>{let t,n=(0,d.c)(18),{disabled:a,field:l,onChange:r,operator:i,value:c}=e,{hasMany:p}=l,{t:h}=(0,s.d)(),f;n[0]!==p||n[1]!==i?(f=["in","not_in"].includes(i)||p,n[0]=p,n[1]=i,n[2]=f):f=n[2];let m=f,g;n[3]===Symbol.for("react.memo_cache_sentinel")?(g=[],n[3]=g):g=n[3];let[v,b]=o.useState(g),x;n[4]!==m||n[5]!==r?(x=e=>{var t;let n;e?m&&(n=Array.isArray(e)?e.map(gt):[(null==(t=e.value)?void 0:t.value)||e.value]):n=[],r(n)},n[4]=m,n[5]=r,n[6]=x):x=n[6];let y=x,w,j;return n[7]!==c?(w=()=>{Array.isArray(c)?b(c.map(gn)):b([])},j=[c],n[7]=c,n[8]=w,n[9]=j):(w=n[8],j=n[9]),o.useEffect(w,j),n[10]!==a||n[11]!==m||n[12]!==r||n[13]!==y||n[14]!==h||n[15]!==c||n[16]!==v?(t=m?(0,u.jsx)(sV,{disabled:a,isClearable:!0,isCreatable:!0,isMulti:m,isSortable:!0,onChange:y,options:[],placeholder:h("general:enterAValue"),value:v||[]}):(0,u.jsx)("input",{className:"condition-value-text",disabled:a,onChange:e=>r(e.target.value),placeholder:h("general:enterAValue"),type:"text",value:c||""}),n[10]=a,n[11]=m,n[12]=r,n[13]=y,n[14]=h,n[15]=c,n[16]=v,n[17]=t):t=n[17],t};function gt(e){var t;return(null==(t=e.value)?void 0:t.value)||e.value}function gn(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var ga=e=>{var t,n;let{booleanSelect:a,disabled:l,filterOptions:o,internalField:r,onChange:i,operator:s,options:c,value:d}=e;if(a||["radio","select"].includes(null==r||null==(t=r.field)?void 0:t.type))return(0,u.jsx)(m7,{disabled:l,field:r.field,isClearable:!a,onChange:i,operator:s,options:c,value:d});switch(null==r||null==(n=r.field)?void 0:n.type){case"date":return(0,u.jsx)(m0,{disabled:l,field:r.field,onChange:i,operator:s,value:d});case"number":return(0,u.jsx)(m1,{disabled:l,field:r.field,onChange:i,operator:s,value:d});case"relationship":return(0,u.jsx)(m8,{disabled:l,field:r.field,filterOptions:o,onChange:i,operator:s,value:d});default:return(0,u.jsx)(ge,{disabled:l,field:null==r?void 0:r.field,onChange:i,operator:s,value:d})}},gl=e=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:"date"===e?"object":"string",greater_than_equal:"date"===e?"object":"string",in:"any",intersects:"any",less_than:"date"===e?"object":"string",less_than_equal:"date"===e?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"}),go="condition",gr=e=>{var t,n,a,l,r;let{addCondition:i,andIndex:c,fieldName:d,filterOptions:p,operator:h,orIndex:f,reducedFields:m,removeCondition:g,RenderedFilter:v,updateCondition:b,value:x}=e,{t:y}=(0,s.d)(),w=m.find(e=>e.value===d),[j,C]=(0,o.useState)(x),S=au(j,300),_=["exists"].includes(h)||(null==w||null==(t=w.field)?void 0:t.type)==="checkbox",k=[];_?k=[{label:y("general:true"),value:"true"},{label:y("general:false"),value:"false"}]:(null==w?void 0:w.field)&&"options"in w.field&&(k=w.field.options);let N=s4(async e=>{h&&await b({andIndex:c,field:w,operator:h,orIndex:f,value:null===e?"":e})});(0,o.useEffect)(()=>{N(S)},[S]);let D=!(null==w?void 0:w.value)&&"number"!=typeof(null==w?void 0:w.value)||(null==w||null==(a=w.field)||null==(n=a.admin)?void 0:n.disableListFilter),E=(0,o.useCallback)(async e=>{C(void 0),await b({andIndex:c,field:m.find(t=>t.value===e.value),operator:h,orIndex:f,value:void 0})},[c,h,f,m,b]),P=(0,o.useCallback)(async e=>{let t=gl(w.field.type)[e.value]||"any",n="any"===t||typeof x===t||"boolean"===t&&("true"===x||"false"===x);n||C(void 0),await b({andIndex:c,field:w,operator:e.value,orIndex:f,value:n?x:void 0})},[c,w,f,b,x]);return(0,u.jsx)("div",{className:go,children:(0,u.jsxs)("div",{className:"".concat(go,"__wrap"),children:[(0,u.jsxs)("div",{className:"".concat(go,"__inputs"),children:[(0,u.jsx)("div",{className:"".concat(go,"__field"),children:(0,u.jsx)(sV,{disabled:D,filterOption:(e,t)=>{var n;return((null==e||null==(n=e.data)?void 0:n.plainTextLabel)||e.label).toLowerCase().includes(t.toLowerCase())},isClearable:!1,onChange:E,options:m.filter(e=>!e.field.admin.disableListFilter),value:w||{value:null==w?void 0:w.value}})}),(0,u.jsx)("div",{className:"".concat(go,"__operator"),children:(0,u.jsx)(sV,{disabled:D,isClearable:!1,onChange:P,options:null==w?void 0:w.operators,value:(null==w?void 0:w.operators.find(e=>h===e.value))||null})}),(0,u.jsx)("div",{className:"".concat(go,"__value"),children:v||(0,u.jsx)(ga,{booleanSelect:_,disabled:!h||!w||(null==w||null==(r=w.field)||null==(l=r.admin)?void 0:l.disableListFilter),filterOptions:p,internalField:w,onChange:C,operator:h,options:k,value:null!=j?j:""})})]}),(0,u.jsxs)("div",{className:"".concat(go,"__actions"),children:[(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(go,"__actions-remove"),icon:"x",iconStyle:"with-border",onClick:()=>g({andIndex:c,orIndex:f}),round:!0}),(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(go,"__actions-add"),icon:"plus",iconStyle:"with-border",onClick:()=>i({andIndex:c+1,field:m.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:f,relation:"and"}),round:!0})]})]})})},gi=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],gs=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],gc=[...gi,...gs],gu=[...gc,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],gd=[...gi,{label:"exists",value:"exists"},{label:"near",value:"near"}],gp={label:"within",value:"within"},gh={label:"intersects",value:"intersects"},gf={label:"isLike",value:"like"},gm={label:"isNotLike",value:"not_like"},gg={label:"contains",value:"contains"},gv={checkbox:{component:"Text",operators:gi},code:{component:"Text",operators:[...gc,gf,gm,gg]},date:{component:"Date",operators:[...gc,...gu]},email:{component:"Text",operators:[...gc,gg]},json:{component:"Text",operators:[...gc,gf,gg,gm,gp,gh]},number:{component:"Number",operators:[...gc,...gu]},point:{component:"Point",operators:[...gd,gp,gh]},radio:{component:"Select",operators:[...gc]},relationship:{component:"Relationship",operators:[...gc]},richText:{component:"Text",operators:[...gc,gf,gm,gg]},select:{component:"Select",operators:[...gc]},text:{component:"Text",operators:[...gc,gf,gm,gg]},textarea:{component:"Text",operators:[...gc,gf,gm,gg]},upload:{component:"Text",operators:[...gc]}},gb=e=>{let{fields:t,i18n:n,labelPrefix:a,pathPrefix:l}=e;return t.reduce((e,t)=>{if((0,x.I2)(t)&&!(0,x.uT)(t))return e;if("tabs"===t.type&&"tabs"in t)return t.tabs.forEach(t=>{if("boolean"!=typeof t.label){let o=(0,p.sC)(t.label,n),r=(0,x.pz)(t)&&t.name?l?l+"."+t.name:t.name:l;"string"==typeof o&&e.push(...gb({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+o:o,pathPrefix:r}))}}),e;if("row"===t.type&&"fields"in t)return e.push(...gb({fields:t.fields,i18n:n,labelPrefix:a,pathPrefix:l})),e;if("collapsible"===t.type&&"fields"in t){let o=(0,p.sC)(t.label||"",n);return e.push(...gb({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+o:o,pathPrefix:l})),e}if("group"===t.type&&"fields"in t){let o=(0,p.sC)(t.label||"",n),r=a?o?a+" > "+o:a:o;if((0,x.Z7)(t)){let a=t.name?l?l+"."+t.name:t.name:l;e.push(...gb({fields:t.fields,i18n:n,labelPrefix:r,pathPrefix:a}))}else e.push(...gb({fields:t.fields,i18n:n,labelPrefix:r,pathPrefix:l}));return e}if("array"===t.type&&"fields"in t){let o=(0,p.sC)(t.label||"",n),r=t.name?l?l+"."+t.name:t.name:l;return e.push(...gb({fields:t.fields,i18n:n,labelPrefix:a?o?a+" > "+o:a:o,pathPrefix:r})),e}if("object"==typeof gv[t.type]){let o=new Set,r=("hasMany"in t&&t.hasMany?gs:gv[t.type].operators).reduce((e,t)=>{if(!o.has(t.value)){o.add(t.value);let a="operators:".concat(t.label);e.push({...t,label:n.t(a)})}return e},[]),i=(0,p.sC)(t.label||"",n),s=a?dL({field:t,prefix:a}):i,c=gx(s),u={label:s,plainTextLabel:c,value:l?dR(l,t):t.name,...gv[t.type],field:t,operators:r};return e.push(u),e}return e},[])},gx=e=>{if(!e)return"";if("string"==typeof e)return e;let t=(0,G.qV)(e);if(!("u">typeof document))return t.replace(/<[^>]*>/g,"");{let e=document.createElement("div");return e.innerHTML=t,e.textContent||""}},gy="where-builder",gw=e=>{let{collectionPluralLabel:t,fields:n,renderedFilters:a,resolvedFilterOptions:l}=e,{i18n:r,t:i}=(0,s.d)(),c=(0,o.useMemo)(()=>gb({fields:n,i18n:r}),[n,r]),{handleWhereChange:d,query:h}=cn(),f=(0,o.useMemo)(()=>{let e=h.where;if(e){if((0,W.Q)(e))return e.or;let t=(0,Y.a)(e);if((0,W.Q)(t))return t.or;console.warn("Invalid where query in URL: ".concat(JSON.stringify(e)))}return[]},[h.where]),m=o.useCallback(async e=>{let{andIndex:t,field:n,orIndex:a,relation:l}=e,o=[...f],r=gv[n.field.type].operators[0].value;"and"===l?o[a].and.splice(t,0,{[String(n.value)]:{[r]:void 0}}):o.push({and:[{[String(n.value)]:{[r]:void 0}}]}),await d({or:o})},[f,d]),g=o.useCallback(async e=>{let{andIndex:t,field:n,operator:a,orIndex:l,value:o}=e,r=f[l].and[t],i=gv[n.field.type],s=a||i.operators[0].value;if("object"==typeof r&&n.value){var c,u;let e=null!=o?o:null==r?void 0:r[s],a=e!==(null==r||null==(c=r[String(n.value)])?void 0:c[String(s)]),i=s!==(null==(u=Object.keys((null==r?void 0:r[String(n.value)])||{}))?void 0:u[0]);if(a||i){let a={[String(n.value)]:{[s]:e}},o=[...f];o[l].and[t]=a,await d({or:o})}}},[f,d]),v=o.useCallback(async e=>{let{andIndex:t,orIndex:n}=e,a=[...f];a[n].and.splice(t,1),0===a[n].and.length&&a.splice(n,1),await d({or:a})},[f,d]);return(0,u.jsxs)("div",{className:gy,children:[f.length>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("div",{className:"".concat(gy,"__label"),children:i("general:filterWhere",{label:(0,p.sC)(t,r)})}),(0,u.jsx)("ul",{className:"".concat(gy,"__or-filters"),children:f.map((e,t)=>{let n="".concat(t,"_").concat(Array.isArray(null==e?void 0:e.and)?e.and.length:"");return(0,u.jsxs)("li",{children:[0!==t&&(0,u.jsx)("div",{className:"".concat(gy,"__label"),children:i("general:or")}),(0,u.jsx)("ul",{className:"".concat(gy,"__and-filters"),children:Array.isArray(null==e?void 0:e.and)&&e.and.map((e,n)=>{var o,r;let s=f[t].and[n],d=Object.keys(s)[0],p=(null==(o=Object.keys((null==s?void 0:s[d])||{}))?void 0:o[0])||void 0,h=(null==s||null==(r=s[d])?void 0:r[p])||void 0;return(0,u.jsxs)("li",{children:[0!==n&&(0,u.jsx)("div",{className:"".concat(gy,"__label"),children:i("general:and")}),(0,u.jsx)(gr,{addCondition:m,andIndex:n,fieldName:d,filterOptions:null==l?void 0:l.get(d),operator:p,orIndex:t,reducedFields:c,removeCondition:v,RenderedFilter:null==a?void 0:a.get(d),updateCondition:g,value:h})]},n)})})]},n)})}),(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(gy,"__add-or"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await m({andIndex:0,field:c[0],orIndex:f.length,relation:"or"})},children:i("general:or")})]}),0===f.length&&(0,u.jsxs)("div",{className:"".concat(gy,"__no-filters"),children:[(0,u.jsx)("div",{className:"".concat(gy,"__label"),children:i("general:noFiltersSet")}),(0,u.jsx)(tp,{buttonStyle:"icon-label",className:"".concat(gy,"__add-first-filter"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{c.length>0&&await m({andIndex:0,field:c.find(e=>{var t;return!(null==(t=e.field.admin)?void 0:t.disableListFilter)}),orIndex:f.length,relation:"or"})},children:i("general:addFilter")})]})]})},gj=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})})},gC="active-query-preset";function gS(e){let t,n=(0,d.c)(44),{activePreset:a,openPresetListDrawer:l,resetPreset:o}=e,{i18n:r,t:c}=(0,s.d)(),{getEntityConfig:h}=(0,i.b)(),f,m,g,v,b,x,y,w,j,C,S,_,k,N,D;if(n[0]!==a||n[1]!==h||n[2]!==r||n[3]!==l||n[4]!==c){let e=h({collectionSlug:"payload-query-presets"});x=u.jsxs,y=l7;let t=a&&"".concat(gC,"--active"),o;n[20]!==t?(o=[gC,t].filter(Boolean),n[20]=t,n[21]=o):o=n[21],D=o.join(" "),m="select-preset",n[22]!==l?(g=()=>{l()},n[22]=l,n[23]=g):g=n[23],v=a?"always-white":"light",b="small",n[24]!==(null==a?void 0:a.isShared)?(N=(null==a?void 0:a.isShared)&&(0,u.jsx)(gj,{className:"".concat(gC,"__shared")}),n[24]=null==a?void 0:a.isShared,n[25]=N):N=n[25],_=u.jsx,k="div",S="".concat(gC,"__label-text-max-width"),j=u.jsx,C="div",f="".concat(gC,"__label-text"),w=(null==a?void 0:a.title)||c("general:selectLabel",{label:(0,p.sC)(e.labels.singular,r)}),n[0]=a,n[1]=h,n[2]=r,n[3]=l,n[4]=c,n[5]=f,n[6]=m,n[7]=g,n[8]=v,n[9]=b,n[10]=x,n[11]=y,n[12]=w,n[13]=j,n[14]=C,n[15]=S,n[16]=_,n[17]=k,n[18]=N,n[19]=D}else f=n[5],m=n[6],g=n[7],v=n[8],b=n[9],x=n[10],y=n[11],w=n[12],j=n[13],C=n[14],S=n[15],_=n[16],k=n[17],N=n[18],D=n[19];return n[26]!==a||n[27]!==o||n[28]!==f||n[29]!==m||n[30]!==g||n[31]!==v||n[32]!==b||n[33]!==x||n[34]!==y||n[35]!==w||n[36]!==j||n[37]!==C||n[38]!==S||n[39]!==_||n[40]!==k||n[41]!==N||n[42]!==D?(t=x(y,{className:D,id:m,onClick:g,pillStyle:v,size:b,children:[N,_(k,{className:S,children:j(C,{className:f,children:w})}),a?(0,u.jsx)("div",{className:"".concat(gC,"__clear"),id:"clear-preset",onClick:async e=>{e.stopPropagation(),await o()},onKeyDown:async e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),await o())},role:"button",tabIndex:0,children:(0,u.jsx)(s.a,{})}):null]}),n[26]=a,n[27]=o,n[28]=f,n[29]=m,n[30]=g,n[31]=v,n[32]=b,n[33]=x,n[34]=y,n[35]=w,n[36]=j,n[37]=C,n[38]=S,n[39]=_,n[40]=k,n[41]=N,n[42]=D,n[43]=t):t=n[43],t}var g_=(e,t,n)=>e?(0,j.A)(t,{i18n:n,moveSubFieldsToTop:!0}).filter(t=>(0,x.Z7)(t)&&e.includes(t.name)):null,gk="confirm-delete-preset",gN="payload-query-presets",gD=e=>{var t,n,a;let{activePreset:l,collectionSlug:r,queryPresetPermissions:c}=e,{modified:d,query:h,refineListData:f,setModified:m}=cn(),{i18n:g,t:v}=(0,s.d)(),{openModal:b}=ne(),{config:{routes:{api:x}},getEntityConfig:y}=(0,i.b)(),w=y({collectionSlug:gN}),[j,,{openDrawer:C}]=cI({id:null==l?void 0:l.id,collectionSlug:gN}),[_,,{closeDrawer:k,openDrawer:N}]=cI({collectionSlug:gN}),[D,,{closeDrawer:E,openDrawer:P}]=uj({collectionSlugs:[gN],filterOptions:(0,o.useMemo)(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:r}}}),[r]),selectedCollection:gN}),T=(0,o.useCallback)(async e=>{await f({columns:e.columns?(0,S.F)(e.columns):void 0,preset:e.id,where:e.where},!1)},[f]),A=(0,o.useCallback)(async()=>{await f({columns:void 0,preset:void 0,where:void 0},!1)},[f]),O=(0,o.useCallback)(async()=>{try{await fetch("".concat(x,"/").concat(gN,"/").concat(l.id),{method:"DELETE"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(n0.success(v("general:titleDeleted",{label:(0,p.sC)(null==w||null==(t=w.labels)?void 0:t.singular,g),title:l.title})),await A()):n.errors?n.errors.forEach(e=>n0.error(e.message)):n0.error(v("error:deletingTitle",{title:l.title}))}catch(e){n0.error(v("error:deletingTitle",{title:l.title}))}})}catch(e){n0.error(v("error:deletingTitle",{title:l.title}))}},[x,null==l?void 0:l.id,null==l?void 0:l.title,v,w,g,A]),I=(0,o.useCallback)(async()=>{try{await fetch("".concat(x,"/payload-query-presets/").concat(l.id),{body:JSON.stringify({columns:(0,S.l)(h.columns),where:h.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(n0.success(v("general:updatedLabelSuccessfully",{label:(0,p.sC)(null==w||null==(t=w.labels)?void 0:t.singular,g)})),m(!1)):n.errors?n.errors.forEach(e=>n0.error(e.message)):n0.error(v("error:unknown"))}catch(e){n0.error(v("error:unknown"))}})}catch(e){n0.error(v("error:unknown"))}},[x,null==l?void 0:l.id,h.columns,h.where,v,null==w||null==(t=w.labels)?void 0:t.singular,g,m]),R=(0,o.useMemo)(()=>{var e;let t=l&&d;return[(0,u.jsx)(e2,{label:(0,p.sC)(null==w||null==(e=w.labels)?void 0:e.plural,g)},"preset-group-label"),(0,u.jsxs)(e1.ButtonGroup,{children:[t&&(0,u.jsx)(e1.Button,{onClick:async()=>{await f({columns:(0,S.F)(l.columns),where:l.where},!1)},children:v("general:reset")}),t&&c.update&&(0,u.jsx)(e1.Button,{onClick:async()=>{await I()},children:(null==l?void 0:l.isShared)?v("general:updateForEveryone"):v("general:save")}),(0,u.jsx)(e1.Button,{onClick:()=>{N()},children:v("general:createNew")}),l&&(null==c?void 0:c.delete)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(e1.Button,{onClick:()=>b(gk),children:v("general:delete")}),(0,u.jsx)(e1.Button,{onClick:()=>{C()},children:v("general:edit")})]})]},"preset-group-buttons")]},[l,null==c?void 0:c.delete,null==c?void 0:c.update,N,C,b,I,v,f,d,null==w||null==(n=w.labels)?void 0:n.plural,g]);return{CreateNewPresetDrawer:(0,u.jsx)(_,{initialData:{columns:(0,S.l)(h.columns),relatedCollection:r,where:h.where},onSave:async e=>{let{doc:t}=e;k(),await T(t)},redirectAfterCreate:!1}),DeletePresetModal:(0,u.jsx)(ai,{body:(0,u.jsx)(pr,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:v,variables:{label:null==w||null==(a=w.labels)?void 0:a.singular,title:null==l?void 0:l.title}}),confirmingLabel:v("general:deleting"),heading:v("general:confirmDeletion"),modalSlug:gk,onConfirm:O}),EditPresetDrawer:(0,u.jsx)(j,{onDelete:()=>{},onDuplicate:async e=>{let{doc:t}=e;await T(t)},onSave:async e=>{let{doc:t}=e;await T(t)}}),hasModifiedPreset:d,openPresetListDrawer:P,PresetListDrawer:(0,u.jsx)(D,{allowCreate:!1,disableQueryPresets:!0,onSelect:async e=>{let{doc:t}=e;E(),await T(t)}}),queryPresetMenuItems:R,resetPreset:A}},gE="list-controls",gP=e=>{var t,n;let{beforeActions:a,collectionConfig:l,collectionSlug:r,disableQueryPresets:i,enableColumns:c=!0,enableFilters:d=!0,enableSort:h=!1,listMenuItems:f,queryPreset:m,queryPresetPermissions:g,renderedFilters:v,resolvedFilterOptions:b}=e,{handleSearchChange:x,query:y}=cn(),{CreateNewPresetDrawer:w,DeletePresetModal:j,EditPresetDrawer:C,hasModifiedPreset:S,openPresetListDrawer:_,PresetListDrawer:k,queryPresetMenuItems:N,resetPreset:D}=gD({activePreset:m,collectionSlug:r,queryPresetPermissions:g}),E=h5(l),{i18n:P,t:T}=(0,s.d)(),{breakpoints:{s:A}}=e9(),O=null!=(n=E&&(0,p.sC)("label"in E&&("string"==typeof E.label||"object"==typeof E.label)?E.label:"name"in E?E.name:null,P))?n:"ID",I=g_(l.admin.listSearchableFields,l.fields,P),R=(0,o.useRef)(T("general:searchBy",{label:(0,p.sC)(O,P)})),L=(0,o.useRef)(!!(null==y?void 0:y.where)),M=(0,W.Q)(null==y?void 0:y.where),[F,B]=(0,o.useState)(M?"where":void 0);(0,o.useEffect)(()=>{!L.current||(null==y?void 0:y.where)?(null==y?void 0:y.where)&&(L.current=!0):L.current=!1},[B,null==y?void 0:y.where]),(0,o.useEffect)(()=>{(null==I?void 0:I.length)>0?R.current=I.reduce((e,t,n)=>{let a="label"in t&&t.label?t.label:"name"in t?t.name:null;return 0===n?"".concat(T("general:searchBy",{label:(0,p.sC)(a,P)})):n===I.length-1?"".concat(e," ").concat(T("general:or")," ").concat((0,p.sC)(a,P)):"".concat(e,", ").concat((0,p.sC)(a,P))},""):R.current=T("general:searchBy",{label:(0,p.sC)(O,P)})},[T,I,P,O]);let z=f;return(null==l?void 0:l.enableQueryPresets)&&!i&&(null==N?void 0:N.length)>0&&(z=[...N,(null==f?void 0:f.length)>0?(0,u.jsx)(e1.Divider,{},"divider"):null,...f||[]]),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:gE,children:[(0,u.jsxs)("div",{className:"".concat(gE,"__wrap"),children:[(0,u.jsx)(oc,{}),(0,u.jsx)(mJ,{handleChange:x,label:R.current,searchQueryParam:null==y?void 0:y.search},r),m&&S?(0,u.jsx)("div",{className:"".concat(gE,"__modified"),children:"Modified"}):null,(0,u.jsx)("div",{className:"".concat(gE,"__buttons"),children:(0,u.jsxs)("div",{className:"".concat(gE,"__buttons-wrap"),children:[!A&&(0,u.jsx)(o.Fragment,{children:a&&a}),c&&(0,u.jsx)(l7,{"aria-controls":"".concat(gE,"-columns"),"aria-expanded":"columns"===F,className:"".concat(gE,"__toggle-columns"),icon:(0,u.jsx)(eX,{direction:"columns"===F?"up":"down"}),onClick:()=>B("columns"!==F?"columns":void 0),pillStyle:"light",size:"small",children:T("general:columns")}),d&&(0,u.jsx)(l7,{"aria-controls":"".concat(gE,"-where"),"aria-expanded":"where"===F,className:"".concat(gE,"__toggle-where"),icon:(0,u.jsx)(eX,{direction:"where"===F?"up":"down"}),onClick:()=>B("where"!==F?"where":void 0),pillStyle:"light",size:"small",children:T("general:filters")}),h&&(0,u.jsx)(l7,{"aria-controls":"".concat(gE,"-sort"),"aria-expanded":"sort"===F,className:"".concat(gE,"__toggle-sort"),icon:(0,u.jsx)(eX,{}),onClick:()=>B("sort"!==F?"sort":void 0),pillStyle:"light",size:"small",children:T("general:sort")}),!i&&(0,u.jsx)(gS,{activePreset:m,openPresetListDrawer:_,resetPreset:D}),z&&Array.isArray(z)&&z.length>0&&(0,u.jsx)(ts,{button:(0,u.jsx)(m$,{ariaLabel:T("general:moreOptions")}),className:"".concat(gE,"__popup"),horizontalAlign:"right",id:"list-menu",size:"medium",verticalAlign:"bottom",children:z.map((e,t)=>(0,u.jsx)(o.Fragment,{children:e},"list-menu-item-".concat(t)))})]})})]}),c&&(0,u.jsx)(lZ,{className:"".concat(gE,"__columns"),height:"columns"===F?"auto":0,id:"".concat(gE,"-columns"),children:(0,u.jsx)(cp,{collectionSlug:l.slug})}),(0,u.jsx)(lZ,{className:"".concat(gE,"__where"),height:"where"===F?"auto":0,id:"".concat(gE,"-where"),children:(0,u.jsx)(gw,{collectionPluralLabel:null==l||null==(t=l.labels)?void 0:t.plural,collectionSlug:l.slug,fields:null==l?void 0:l.fields,renderedFilters:v,resolvedFilterOptions:b})})]}),k,C,w,j]})};function gT(e){let{collection:t,collection:{slug:n,labels:{plural:a,singular:l}}={},drawerSlug:r,ids:c,selectAll:d}=e,{clearRouteCache:h}=mn(),{config:{routes:{api:m},serverURL:g}}=(0,i.b)(),{code:b}=aS(),x=(0,f.useRouter)(),y=(0,f.useSearchParams)(),{i18n:w,t:j}=(0,s.d)(),S=(0,o.useCallback)(()=>{n0.error(j("error:unknown"))},[j]),_=o.useMemo(()=>{var e;let n=[{_status:{not_equals:"published"}}],a=(0,C.d)({collectionConfig:t,search:y.get("search")});return a&&n.push(a),d?n.push((null==(e=ce(y))?void 0:e.where)||{id:{exists:!0}}):n.push({id:{in:c||[]}}),v.A({locale:b,where:(0,K.h)(n)},{addQueryPrefix:!0})},[t,y,d,c,b]),k=(0,o.useCallback)(async()=>{await ad.patch("".concat(g).concat(m,"/").concat(n).concat(_,"&draft=true"),{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":w.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?a:l;return e.status<400||n>0?(n0.success(j("general:updatedCountSuccessfully",{count:n,label:(0,p.sC)(o,w)})),(null==t?void 0:t.errors.length)>0&&n0.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),x.replace(v.A({...ce(y),page:d?"1":void 0},{addQueryPrefix:!0})),h(),null):(t.errors?t.errors.forEach(e=>n0.error(e.message)):S(),!1)}catch(e){return S()}})},[g,m,n,_,w,a,l,j,x,y,d,h,S]);return(0,u.jsx)(ai,{body:j("version:aboutToPublishSelection",{label:(0,p.sC)(a,w)}),cancelLabel:j("general:cancel"),confirmingLabel:j("version:publishing"),confirmLabel:j("general:confirm"),heading:j("version:confirmPublish"),modalSlug:r,onConfirm:k})}var gA=e=>{let t=(0,d.c)(5),{count:n,selectAll:a,selected:l}=mr(),o;return t[0]!==n||t[1]!==e||t[2]!==a||t[3]!==l?(o=(0,u.jsx)(gO,{...e,count:n,ids:Array.from(l.keys()),selectAll:a===ma.AllAvailable}),t[0]=n,t[1]=e,t[2]=a,t[3]=l,t[4]=o):o=t[4],o},gO=e=>{var t,n;let a,l=(0,d.c)(10),{collection:r,collection:i,count:c,ids:p,selectAll:h}=e,{slug:f,versions:m}=void 0===i?{}:i,{permissions:g}=af(),{t:v}=(0,s.d)(),{openModal:b}=ne(),x=null==g||null==(n=g.collections)||null==(t=n[f])?void 0:t.update,y="publish-".concat(f);if(!(null==m?void 0:m.drafts)||0===c||!x)return null;if(l[0]!==r||l[1]!==y||l[2]!==p||l[3]!==b||l[4]!==h||l[5]!==v){let e;l[7]!==y||l[8]!==b?(e=()=>{b(y)},l[7]=y,l[8]=b,l[9]=e):e=l[9],a=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mc,{"aria-label":v("version:publish"),onClick:e,children:v("version:publish")}),(0,u.jsx)(gT,{collection:r,drawerSlug:y,ids:p,selectAll:h})]}),l[0]=r,l[1]=y,l[2]=p,l[3]=b,l[4]=h,l[5]=v,l[6]=a}else a=l[6];return a};function gI(e){let{collection:t,collection:{slug:n,labels:{plural:a,singular:l}}={},drawerSlug:r,ids:c,selectAll:d}=e,{config:{routes:{api:h},serverURL:m}}=(0,i.b)(),{code:g}=aS(),{i18n:b,t:x}=(0,s.d)(),y=(0,f.useSearchParams)(),w=(0,f.useRouter)(),{clearRouteCache:j}=mn(),S=(0,o.useCallback)(()=>{n0.error(x("error:unknown"))},[x]),_=o.useMemo(()=>{let e=[{_status:{not_equals:"draft"}}],n=(0,C.d)({collectionConfig:t,search:y.get("search")});return n&&e.push(n),d||e.push({id:{in:c||[]}}),v.A({locale:g,where:(0,K.h)(e)},{addQueryPrefix:!0})},[t,y,d,c,g]),k=(0,o.useCallback)(async()=>{await ad.patch("".concat(m).concat(h,"/").concat(n).concat(_),{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":b.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?a:l;return e.status<400||n>0?(n0.success(x("general:updatedCountSuccessfully",{count:n,label:(0,p.sC)(o,b)})),(null==t?void 0:t.errors.length)>0&&n0.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),w.replace(v.A({...ce(y),page:d?"1":void 0},{addQueryPrefix:!0})),j(),null):(t.errors?t.errors.forEach(e=>n0.error(e.message)):S(),!1)}catch(e){return S()}})},[m,h,n,_,b,a,l,x,w,y,d,j,S]);return(0,u.jsx)(ai,{body:x("version:aboutToUnpublishSelection",{label:(0,p.sC)(a,b)}),confirmingLabel:x("version:unpublishing"),heading:x("version:confirmUnpublish"),modalSlug:r,onConfirm:k})}var gR=e=>{let t=(0,d.c)(5),{count:n,selectAll:a,selected:l}=mr(),o;return t[0]!==n||t[1]!==e||t[2]!==a||t[3]!==l?(o=(0,u.jsx)(gL,{...e,count:n,ids:Array.from(l.keys()),selectAll:a===ma.AllAvailable}),t[0]=n,t[1]=e,t[2]=a,t[3]=l,t[4]=o):o=t[4],o},gL=e=>{var t,n;let a,l=(0,d.c)(10),{collection:r,collection:i,count:c,ids:p,selectAll:h}=e,{slug:f,versions:m}=void 0===i?{}:i,{t:g}=(0,s.d)(),{permissions:v}=af(),{toggleModal:b}=ne(),x=null==v||null==(n=v.collections)||null==(t=n[f])?void 0:t.update,y="unpublish-".concat(f);if(!(null==m?void 0:m.drafts)||0===c||!x)return null;if(l[0]!==r||l[1]!==y||l[2]!==p||l[3]!==h||l[4]!==g||l[5]!==b){let e;l[7]!==y||l[8]!==b?(e=()=>{b(y)},l[7]=y,l[8]=b,l[9]=e):e=l[9],a=(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mc,{"aria-label":g("version:unpublish"),onClick:e,children:g("version:unpublish")}),(0,u.jsx)(gI,{collection:r,drawerSlug:y,ids:p,selectAll:h})]}),l[0]=r,l[1]=y,l[2]=p,l[3]=h,l[4]=g,l[5]=b,l[6]=a}else a=l[6];return a},gM=e=>{let t,n=(0,d.c)(11),{collectionConfig:a,disableBulkDelete:l,disableBulkEdit:r,label:i}=e,{count:c,getSelectedIds:p,selectAll:h,toggleAll:f,totalDocs:m}=mr(),{t:g}=(0,s.d)();return 0===c?null:(n[0]!==a||n[1]!==c||n[2]!==l||n[3]!==r||n[4]!==p||n[5]!==i||n[6]!==h||n[7]!==g||n[8]!==f||n[9]!==m?(t=(0,u.jsx)(ms,{count:c,ListActions:[h!==ma.AllAvailable&&c<m?(0,u.jsx)(mc,{"aria-label":g("general:selectAll",{count:"(".concat(m,")"),label:i}),id:"select-all-across-pages",onClick:()=>f(!0),children:g("general:selectAll",{count:"(".concat(m,")"),label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!r&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mK,{collection:a,count:c,ids:p(),selectAll:h===ma.AllAvailable}),(0,u.jsx)(gO,{collection:a,count:c,ids:p(),selectAll:h===ma.AllAvailable}),(0,u.jsx)(gL,{collection:a,count:c,ids:p(),selectAll:h===ma.AllAvailable})]},"bulk-actions"),!l&&(0,u.jsx)(md,{collection:a},"bulk-delete")].filter(Boolean)}),n[0]=a,n[1]=c,n[2]=l,n[3]=r,n[4]=p,n[5]=i,n[6]=h,n[7]=g,n[8]=f,n[9]=m,n[10]=t):t=n[10],t)};function gF(e){let{slug:t,className:n}=e,{closeModal:a}=ne(),{t:l}=(0,s.d)();return(0,u.jsx)("button",{"aria-label":l("general:close"),className:["close-modal-button",n].filter(Boolean).join(" "),onClick:()=>{a(t)},type:"button",children:(0,u.jsx)(s.a,{})},"close-button")}var gB="list-folder-pills";function gz(e){var t,n,a;let l=(0,d.c)(16),{collectionConfig:o,viewType:r}=e,{i18n:c,t:h}=(0,s.d)(),{config:f}=(0,i.b)(),m="folders"===r&&"".concat(gB,"__button--active"),v;l[0]!==m?(v=["".concat(gB,"__button"),m].filter(Boolean),l[0]=m,l[1]=v):v=l[1];let b=v.join(" "),x="folders"===r,y="list"===r?"link":"div",w="/collections/".concat(o.slug,"/").concat(f.folders.slug),j;if(l[2]!==(null==(t=o.labels)?void 0:t.plural)||l[3]!==o.slug||l[4]!==f.routes.admin||l[5]!==f.serverURL||l[6]!==c||l[7]!==h||l[8]!==b||l[9]!==x||l[10]!==y||l[11]!==w||l[12]!==r){let e=(0,u.jsx)(tp,{buttonStyle:"tab",className:b,disabled:x,el:y,to:(0,g.Q)({adminRoute:f.routes.admin,path:w,serverURL:f.serverURL}),children:h("folder:byFolder")}),t="list"===r&&"".concat(gB,"__button--active"),i;l[14]!==t?(i=["".concat(gB,"__button"),t].filter(Boolean),l[14]=t,l[15]=i):i=l[15],j=(0,u.jsxs)("div",{className:gB,children:[e,(0,u.jsxs)(tp,{buttonStyle:"tab",className:i.join(" "),disabled:"list"===r,el:"folders"===r?"link":"div",to:(0,g.Q)({adminRoute:f.routes.admin,path:"/collections/".concat(o.slug),serverURL:f.serverURL}),children:[h("general:all")," ",(0,p.sC)(null==o||null==(n=o.labels)?void 0:n.plural,c)]})]}),l[2]=null==(a=o.labels)?void 0:a.plural,l[3]=o.slug,l[4]=f.routes.admin,l[5]=f.serverURL,l[6]=c,l[7]=h,l[8]=b,l[9]=x,l[10]=y,l[11]=w,l[12]=r,l[13]=j}else j=l[13];return j}var gV="list-header",gU=e=>(0,u.jsxs)("header",{className:[gV,e.className].filter(Boolean).join(" "),children:[(0,u.jsxs)("div",{className:"".concat(gV,"__content"),children:[(0,u.jsxs)("div",{className:"".concat(gV,"__title-and-actions"),children:[(0,u.jsx)("h1",{className:"".concat(gV,"__title"),children:e.title}),e.TitleActions.length?(0,u.jsx)("div",{className:"".concat(gV,"__title-actions"),children:e.TitleActions}):null]}),e.Actions.length?(0,u.jsx)("div",{className:"".concat(gV,"__actions"),children:e.Actions}):null]}),e.AfterListHeaderContent?(0,u.jsx)("div",{className:"".concat(gV,"__after-header-content"),children:e.AfterListHeaderContent}):null]}),gH=()=>{let e=(0,d.c)(12),{i18n:t,t:n}=(0,s.d)(),{config:a,getEntityConfig:l}=(0,i.b)(),{collections:o}=a,{enabledCollections:r,selectedOption:c,setSelectedOption:h}=s9(),f;if(e[0]!==o||e[1]!==r||e[2]!==l||e[3]!==t||e[4]!==c||e[5]!==h||e[6]!==n){f=Symbol.for("react.early_return_sentinel");e:{let a;e[8]!==r?(a=e=>{let{slug:t}=e;return r.includes(t)},e[8]=r,e[9]=a):a=e[9];let i=o.filter(a);if(i.length>1){let a=l({collectionSlug:c.value}),o;e[10]!==t?(o=e=>({label:(0,p.sC)(e.labels.singular,t),value:e.slug}),e[10]=t,e[11]=o):o=e[11],f=(0,u.jsxs)("div",{className:"".concat("list-drawer","__select-collection-wrap"),children:[(0,u.jsx)(aN,{label:n("upload:selectCollectionToBrowse")}),(0,u.jsx)(sV,{className:"".concat(gV,"__select-collection"),isClearable:!1,onChange:h,options:i.map(o),value:{label:(0,p.sC)(null==a?void 0:a.labels.singular,t),value:null==a?void 0:a.slug}})]});break e}}e[0]=o,e[1]=r,e[2]=l,e[3]=t,e[4]=c,e[5]=h,e[6]=n,e[7]=f}else f=e[7];return f!==Symbol.for("react.early_return_sentinel")?f:null};function gq(e){let t,n=(0,d.c)(3),{hasCreatePermission:a}=e,{DocumentDrawerToggler:l}=s9(),{t:o}=(0,s.d)();return a?(n[0]!==l||n[1]!==o?(t=(0,u.jsx)(l,{className:"".concat("list-header","__create-new-button"),children:(0,u.jsx)(l7,{children:o("general:createNew")})},"create-new-button-toggler"),n[0]=l,n[1]=o,n[2]=t):t=n[2],t):null}function gK(e){let t,n=(0,d.c)(13),{collectionSlug:a,hasCreatePermission:l,isBulkUploadEnabled:o,onBulkUploadSuccess:r,openBulkUpload:i}=e,{drawerSlug:c,setCollectionSlug:p,setCurrentActivePath:h,setOnSuccess:m}=hw(),{t:g}=(0,s.d)(),{openModal:v}=ne(),b=(0,f.useRouter)(),x;n[0]!==c||n[1]!==a||n[2]!==r||n[3]!==i||n[4]!==v||n[5]!==b||n[6]!==p||n[7]!==h||n[8]!==m?(x=()=>{"function"==typeof i?i():(p(a),h(a),v(c),m(a,()=>{"function"==typeof r?r():b.refresh()}))},n[0]=c,n[1]=a,n[2]=r,n[3]=i,n[4]=v,n[5]=b,n[6]=p,n[7]=h,n[8]=m,n[9]=x):x=n[9];let y=x;return l&&o?(n[10]!==y||n[11]!==g?(t=(0,u.jsx)(tp,{"aria-label":g("upload:bulkUpload"),buttonStyle:"pill",onClick:y,size:"small",children:g("upload:bulkUpload")},"bulk-upload-button"),n[10]=y,n[11]=g,n[12]=t):t=n[12],t):null}function gW(e){var t;let n=(0,d.c)(5),{collectionConfig:a,hasCreatePermission:l,newDocumentURL:o}=e,{i18n:r,t:i}=(0,s.d)();if(!l)return null;let c=null==a||null==(t=a.labels)?void 0:t.singular,h;return n[0]!==r||n[1]!==o||n[2]!==i||n[3]!==c?(h=(0,u.jsx)(tp,{"aria-label":i("general:createNewLabel",{label:(0,p.sC)(c,r)}),buttonStyle:"pill",className:"".concat("list-create-new-doc","__create-new-button"),el:"link",size:"small",to:o,children:i("general:createNew")},"create-new-button"),n[0]=r,n[1]=o,n[2]=i,n[3]=c,n[4]=h):h=n[4],h}var gY="list-drawer",gG=e=>{var t,n,a,l;let{className:o,collectionConfig:r,Description:s,disableBulkDelete:c,disableBulkEdit:d,hasCreatePermission:h,i18n:f,isBulkUploadEnabled:m,newDocumentURL:g,onBulkUploadSuccess:v,openBulkUpload:b,smallBreak:x,viewType:y}=e,{config:w,getEntityConfig:j}=(0,i.b)(),{drawerSlug:C,isInDrawer:S,selectedOption:_}=s9();return S?(0,u.jsx)(gU,{Actions:[(0,u.jsx)(gF,{className:"".concat(gY,"__header-close"),slug:C},"close-button")],AfterListHeaderContent:(0,u.jsxs)(u.Fragment,{children:[s,(0,u.jsx)(gH,{})]}),className:"".concat(gY,"__header"),title:(0,p.sC)(null==(n=j({collectionSlug:_.value}))||null==(t=n.labels)?void 0:t.plural,f),TitleActions:[(0,u.jsx)(gq,{hasCreatePermission:h},"list-drawer-create-new-doc")].filter(Boolean)}):(0,u.jsx)(gU,{Actions:[!x&&(0,u.jsx)(gM,{collectionConfig:r,disableBulkDelete:c,disableBulkEdit:d,label:(0,p.sC)(null==r||null==(a=r.labels)?void 0:a.plural,f)},"list-selection"),r.folders&&(0,u.jsx)(gz,{collectionConfig:r,viewType:y},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:s,className:o,title:(0,p.sC)(null==r||null==(l=r.labels)?void 0:l.plural,f),TitleActions:[h&&(0,u.jsx)(gW,{collectionConfig:r,hasCreatePermission:h,newDocumentURL:g},"list-header-create-new-doc"),h&&m&&(0,u.jsx)(gK,{collectionSlug:r.slug,hasCreatePermission:h,isBulkUploadEnabled:m,onBulkUploadSuccess:v,openBulkUpload:b},"list-header-bulk-upload")].filter(Boolean)})},gQ=()=>(0,u.jsx)("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})}),gX=e=>{let t=(0,d.c)(5),{tabIndex:n}=e,a=void 0===n?0:n,{t:l}=(0,s.d)(),{config:o}=(0,i.b)(),{admin:r,routes:c}=o,{routes:p}=r,{logout:h}=p,{admin:f}=c,m;return t[0]!==f||t[1]!==h||t[2]!==l||t[3]!==a?(m=(0,u.jsx)(eY,{"aria-label":l("authentication:logOut"),className:"".concat("nav","__log-out"),href:(0,g.Q)({adminRoute:f,path:h}),prefetch:!1,tabIndex:a,title:l("authentication:logOut"),children:(0,u.jsx)(gQ,{})}),t[0]=f,t[1]=h,t[2]=l,t[3]=a,t[4]=m):m=t[4],m},g$="nav-group",gZ=e=>{let t,n=(0,d.c)(21),{children:a,isOpen:l,label:r}=e,[i,s]=(0,o.useState)("u">typeof l&&!l),[c,p]=(0,o.useState)(!1),{setPreference:h}=ab(),{navOpen:f}=fq();if(r){let e;n[0]!==i||n[1]!==r||n[2]!==h?(e=()=>{p(!0);let e={};(null==e?void 0:e[r])?e[r].open=!!i:e[r]={open:!!i},h("nav",{groups:e},!0),s(!i)},n[0]=i,n[1]=r,n[2]=h,n[3]=e):e=n[3];let t=e,l="".concat(r),o=i&&"".concat(g$,"--collapsed"),d;n[4]!==l||n[5]!==o?(d=["".concat(g$),l,o].filter(Boolean),n[4]=l,n[5]=o,n[6]=d):d=n[6];let m=d.join(" "),g="nav-group-".concat(r),v="".concat(g$,"__toggle--").concat(i?"collapsed":"open"),b;n[7]!==v?(b=["".concat(g$,"__toggle"),v].filter(Boolean),n[7]=v,n[8]=b):b=n[8];let x=b.join(" "),y=f?0:-1,w;return n[9]!==c||n[10]!==a||n[11]!==i||n[12]!==r||n[13]!==y||n[14]!==m||n[15]!==g||n[16]!==x||n[17]!==t?(w=(0,u.jsxs)("div",{className:m,id:g,children:[(0,u.jsxs)("button",{className:x,onClick:t,tabIndex:y,type:"button",children:[(0,u.jsx)("div",{className:"".concat(g$,"__label"),children:r}),(0,u.jsx)("div",{className:"".concat(g$,"__indicator"),children:(0,u.jsx)(eX,{className:"".concat(g$,"__indicator"),direction:i?void 0:"up"})})]}),(0,u.jsx)(lZ,{duration:200*!!c,height:i?0:"auto",children:(0,u.jsx)("div",{className:"".concat(g$,"__content"),children:a})})]}),n[9]=c,n[10]=a,n[11]=i,n[12]=r,n[13]=y,n[14]=m,n[15]=g,n[16]=x,n[17]=t,n[18]=w):w=n[18],w}return n[19]!==a?(t=(0,u.jsx)(o.Fragment,{children:a}),n[19]=a,n[20]=t):t=n[20],t},gJ="per-page",g0=Q.NT.admin.pagination.limits,g1=e=>{let t=(0,d.c)(9),{defaultLimit:n,handleChange:a,limit:l,limits:o}=e,r=void 0===o?g0:o,{t:i}=(0,s.d)(),c=(0,_.E)(l)?l:void 0===n?10:n,p;if(t[0]!==a||t[1]!==c||t[2]!==r||t[3]!==i){let e;t[5]!==a||t[6]!==c||t[7]!==r?(e=e=>{let{close:t}=e;return(0,u.jsx)(e1.ButtonGroup,{children:r.map((e,n)=>(0,u.jsxs)(e1.Button,{className:["".concat(gJ,"__button"),e===c&&"".concat(gJ,"__button-active")].filter(Boolean).join(" "),onClick:()=>{t(),a&&a(e)},children:[e===c&&(0,u.jsx)("div",{className:"".concat(gJ,"__chevron"),children:(0,u.jsx)(eX,{direction:"right",size:"small"})}),"\xa0",(0,u.jsx)("span",{children:e})]},n))})},t[5]=a,t[6]=c,t[7]=r,t[8]=e):e=t[8],p=(0,u.jsx)("div",{className:gJ,children:(0,u.jsx)(ts,{button:(0,u.jsxs)("div",{className:"".concat(gJ,"__base-button"),children:[(0,u.jsx)("span",{children:i("general:perPage",{limit:c})}),"\xa0",(0,u.jsx)(eX,{className:"".concat(gJ,"__icon")})]}),horizontalAlign:"right",render:e,size:"small"})}),t[0]=a,t[1]=c,t[2]=r,t[3]=i,t[4]=p}else p=t[4];return p};function g3(e){let{active:t}=e,{t:n}=(0,s.d)(),{config:a}=(0,i.b)(),{admin:{routes:{browseByFolder:l}},routes:{admin:o}}=a;return(0,u.jsxs)(eY,{className:["browse-by-folder-button",t&&"active"].filter(Boolean).join(" "),href:(0,g.Q)({adminRoute:o,path:l}),id:"browse-by-folder",prefetch:!1,children:[(0,u.jsx)(pu,{}),n("folder:browseByFolder")]})}function g2(e){return void 0===e||"number"==typeof e?e:decodeURIComponent(e)}var g6=e=>{let t=(0,d.c)(9),{id:n,className:a,prefix:l}=e,o=void 0===l?"ID:":l,{config:r}=(0,i.b)(),{routes:s}=r,{admin:c}=s,{collectionSlug:p,globalSlug:h}=lC(),f=ao(),m="/".concat(p?"collections/".concat(p):"globals/".concat(h),"/").concat(n),v;if(t[0]!==c||t[1]!==a||t[2]!==f||t[3]!==n||t[4]!==o||t[5]!==m){let e=(0,g.Q)({adminRoute:c,path:m}),l;t[7]!==a?(l=["id-label",a].filter(Boolean),t[7]=a,t[8]=l):l=t[8],v=(0,u.jsxs)("div",{className:l.join(" "),title:n,children:[o,"\xa0",f>1?(0,u.jsx)(eY,{href:e,children:g2(n)}):g2(n)]}),t[0]=c,t[1]=a,t[2]=f,t[3]=n,t[4]=o,t[5]=m,t[6]=v}else v=t[6];return v},g5="render-title",g4=e=>{let t=(0,d.c)(10),{className:n,element:a,fallback:l,title:r}=e,{id:i,isInitializing:s}=lC(),{title:c}=lf(),p=r||c||l,h=p===i,f=void 0===a?"h1":a,m;if(t[0]!==f||t[1]!==n||t[2]!==i||t[3]!==h||t[4]!==s||t[5]!==p){let e=(0,u.jsx)(o.Fragment,{children:"\xa0"}),a=h&&"".concat(g5,"--has-id"),l;t[7]!==n||t[8]!==a?(l=[n,g5,a].filter(Boolean),t[7]=n,t[8]=a,t[9]=l):l=t[9],m=(0,u.jsx)(f,{className:l.join(" "),title:p,children:s?e:(0,u.jsx)(o.Fragment,{children:h?(0,u.jsx)(g6,{className:"".concat(g5,"__id"),id:i}):p||e})}),t[0]=f,t[1]=n,t[2]=i,t[3]=h,t[4]=s,t[5]=p,t[6]=m}else m=t[6];return m},g8="sort-column",g7=e=>{let t,n,a=(0,d.c)(22),{name:l,appearance:o,disable:r,Label:i,label:c}=e,p=void 0!==r&&r,{handleSortChange:h,query:f}=cn(),{t:m}=(0,s.d)(),{sort:g}=f,v="-".concat(l),b;a[0]!==l||a[1]!==g?(b=["".concat(g8,"__asc")],g===l&&b.push("".concat(g8,"--active")),a[0]=l,a[1]=g,a[2]=b):b=a[2],a[3]!==v||a[4]!==g?(t=["".concat(g8,"__desc")],g===v&&t.push("".concat(g8,"--active")),a[3]=v,a[4]=g,a[5]=t):t=a[5];let x=o&&"".concat(g8,"--appearance-").concat(o),y;a[6]!==x?(y=[g8,x].filter(Boolean),a[6]=x,a[7]=y):y=a[7];let w=y.join(" "),j;return a[8]!==i||a[9]!==c?(j=null!=i?i:(0,u.jsx)(aN,{hideLocale:!0,label:c,unstyled:!0}),a[8]=i,a[9]=c,a[10]=j):j=a[10],a[11]!==l||a[12]!==b||a[13]!==v||a[14]!==t||a[15]!==p||a[16]!==h||a[17]!==c||a[18]!==m||a[19]!==w||a[20]!==j?(n=(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("span",{className:"".concat(g8,"__label"),children:j}),!p&&(0,u.jsxs)("div",{className:"".concat(g8,"__buttons"),children:[(0,u.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:ascending"),label:c}),className:[...b,"".concat(g8,"__button")].filter(Boolean).join(" "),onClick:()=>void h(l),type:"button",children:(0,u.jsx)(eX,{direction:"up"})}),(0,u.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:descending"),label:c}),className:[...t,"".concat(g8,"__button")].filter(Boolean).join(" "),onClick:()=>void h(v),type:"button",children:(0,u.jsx)(eX,{})})]})]}),a[11]=l,a[12]=b,a[13]=v,a[14]=t,a[15]=p,a[16]=h,a[17]=c,a[18]=m,a[19]=w,a[20]=j,a[21]=n):n=a[21],n},g9=e=>{let{className:t}=e;return(0,u.jsx)("svg",{className:[t,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})},ve=()=>(0,u.jsx)("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})}),vt="minimize-maximize",vn=e=>{let{className:t,isMinimized:n}=e,a=[vt,n?"".concat(vt,"--minimized"):"".concat(vt,"--maximized"),t].filter(Boolean).join(" ");return(0,u.jsx)("svg",{className:a,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:n?(0,u.jsx)("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):(0,u.jsx)("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};function va(){return(0,u.jsxs)("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{filter:"url(#filter0_d_278_1086)",children:(0,u.jsx)("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:(0,u.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}var vl=()=>(0,u.jsxs)("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,u.jsx)("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),vo=()=>(0,u.jsx)("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),vr=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),(0,u.jsx)("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),vi=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),(0,u.jsx)("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),vs=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),(0,u.jsx)("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),vc=()=>(0,u.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),(0,u.jsx)("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),vu=o.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),vd=o.createContext({}),vp=e=>{let t=(0,d.c)(6),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},t[0]=a):a=t[0];let[l,r]=o.useState(a),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{r(t=>{let n={...t};return n[e.key]=e.func,n})},t[1]=i):i=t[1];let s=i,c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{r(t=>{let n={...t};return delete n[e.key],n})},t[2]=c):c=t[2];let p=c,h;return t[3]!==n||t[4]!==l?(h=(0,u.jsx)(vu,{value:{addClientFunction:s,removeClientFunction:p},children:(0,u.jsx)(vd,{value:l,children:n})}),t[3]=n,t[4]=l,t[5]=h):h=t[5],h},vh=(e,t)=>{let n=(0,d.c)(6),{addClientFunction:a,removeClientFunction:l}=o.use(vu),r,i;n[0]!==a||n[1]!==t||n[2]!==e||n[3]!==l?(r=()=>(a({func:t,key:e}),()=>{l({func:t,key:e})}),i=[t,e,a,l],n[0]=a,n[1]=t,n[2]=e,n[3]=l,n[4]=r,n[5]=i):(r=n[4],i=n[5]),o.useEffect(r,i)},vf=()=>o.use(vd),vm="progress-bar",vg=()=>{let e=(0,d.c)(9),{isTransitioning:t,transitionProgress:n}=eH(),[a,l]=o.useState(null),r=(0,o.useRef)(!0),i,s;if(e[0]!==t||e[1]!==n?(i=()=>{let e,a;return t?r.current?a=setTimeout(()=>{l(n),r.current=!1},150):l(n):(r.current=!0,l(1),e=setTimeout(()=>{l(null)},400)),()=>{clearTimeout(e),clearTimeout(a)}},s=[t,n],e[0]=t,e[1]=n,e[2]=i,e[3]=s):(i=e[2],s=e[3]),(0,o.useEffect)(i,s),"number"==typeof a){let t=1===a&&"".concat(vm,"--fade-out"),n;e[4]!==t?(n=[vm,t].filter(Boolean),e[4]=t,e[5]=n):n=e[5];let l=n.join(" "),o;return e[6]!==a||e[7]!==l?(o=(0,u.jsx)("div",{className:l,style:{"--transition-duration":"".concat(200,"ms")},children:(0,u.jsx)("div",{className:"".concat(vm,"__progress"),style:{width:"".concat(100*(a||0),"%")}})}),e[6]=a,e[7]=l,e[8]=o):o=e[8],o}return null},vv=(0,o.createContext)({}),vb=e=>{let t=(0,d.c)(6),{children:n,visibleEntities:a}=e,l;t[0]!==a?(l=e=>{let{collectionSlug:t,globalSlug:n}=e;return t?a.collections.includes(t):!!n&&a.globals.includes(n)},t[0]=a,t[1]=l):l=t[1];let o=l,r;return t[2]!==n||t[3]!==o||t[4]!==a?(r=(0,u.jsx)(vv,{value:{isEntityVisible:o,visibleEntities:a},children:n}),t[2]=n,t[3]=o,t[4]=a,t[5]=r):r=t[5],r},vx=()=>(0,o.use)(vv),vy=(0,o.createContext)({}),vw=e=>{let t=(0,d.c)(3),{children:n}=e,a=(0,f.useParams)(),l;return t[0]!==n||t[1]!==a?(l=(0,u.jsx)(vy,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},vj=()=>(0,o.use)(vy),vC=(0,o.createContext)({}),vS=()=>(0,o.useContext)(vC),v_=(e,t)=>{let{timestamp:n,animationRef:a}=t;a.current=null;let{x:l,y:o,xDirection:r,yDirection:i,eventsFired:s,hasScrolled:c}=e,u=c||!!n,d=u?window.pageXOffset:0,p=u?window.pageYOffset:0,h=d-l,f=p-o,m=d/(document.body.scrollWidth-window.innerWidth)*100,g=p/(document.body.scrollHeight-window.innerHeight)*100;return{x:d,y:p,xDifference:h,yDifference:f,xDirection:h>0?"right":h<0?"left":r,yDirection:f>0?"down":f<0?"up":i,xPercentage:m,yPercentage:g,totalPercentage:(m+g)/2,eventsFired:u?s+1:s,hasScrolled:u}},vk=e=>{let{children:t}=e,n=(0,o.useRef)(null),[a,l]=(0,o.useReducer)(v_,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),r=(0,o.useCallback)(e=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(t=>{l({e:e,timestamp:t,animationRef:n})})},[]);return(0,o.useEffect)(()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}),[r]),o.createElement(vC.Provider,{value:Object.assign({},a)},t&&t)},{WindowInfoProvider:vN}=e8&&"WindowInfoProvider"in e8?e8:{WindowInfoProvider:void 0},{useWindowInfo:vD}=e8&&"useWindowInfo"in e8?e8:{useWindowInfo:void 0},vE=(0,o.createContext)({searchParams:{},stringifyParams:()=>""}),vP=e=>{let{children:t}=e,n=(0,f.useSearchParams)().toString(),a=o.useMemo(()=>k.q(n,{depth:10,ignoreQueryPrefix:!0}),[n]),l=o.useCallback(e=>{let{params:t,replace:n=!1}=e;return v.A({...n?{}:a,...t},{addQueryPrefix:!0})},[a]);return(0,u.jsx)(vE,{value:{searchParams:a,stringifyParams:l},children:t})},vT=()=>(0,o.use)(vE),vA=()=>(0,u.jsx)(n5,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:(0,u.jsx)(vr,{}),info:(0,u.jsx)(vi,{}),success:(0,u.jsx)(vs,{}),warning:(0,u.jsx)(vc,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5}),vO=e=>{let t=(0,d.c)(16),{children:n,config:a,dateFNSKey:l,fallbackLang:r,isNavOpen:c,languageCode:p,languageOptions:h,locale:f,permissions:g,serverFunction:v,switchLanguageServerAction:b,theme:x,translations:y,user:w}=e,j=o.useId(),C;return t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==j||t[4]!==r||t[5]!==c||t[6]!==p||t[7]!==h||t[8]!==f||t[9]!==g||t[10]!==v||t[11]!==b||t[12]!==x||t[13]!==y||t[14]!==w?(C=(0,u.jsxs)(mL,{children:[(0,u.jsx)(ci,{serverFunction:v,children:(0,u.jsx)(eV,{children:(0,u.jsx)(mt,{cachingEnabled:"true"===X.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH,children:(0,u.jsx)(i.a,{config:a,children:(0,u.jsx)(vp,{children:(0,u.jsx)(s.c,{dateFNSKey:l,fallbackLang:r,language:p,languageOptions:h,switchLanguageServerAction:b,translations:y,children:(0,u.jsx)(vN,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:(0,u.jsx)(vk,{children:(0,u.jsx)(vP,{children:(0,u.jsx)(nV,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:(0,u.jsxs)(ah,{permissions:g,user:w,children:[(0,u.jsx)(av,{children:(0,u.jsx)(i.g,{theme:x,children:(0,u.jsx)(vw,{children:(0,u.jsx)(aj,{locale:f,children:(0,u.jsx)(fZ,{children:(0,u.jsx)(cb,{children:(0,u.jsx)(dQ,{children:(0,u.jsx)(fW,{initialIsOpen:c,children:(0,u.jsx)(u1,{children:(0,u.jsx)(m.Mp,{collisionDetection:m.TT,id:j,children:n})})})})})})})})})}),(0,u.jsx)(nx,{}),(0,u.jsx)(ac,{})]})})})})})})})})})})}),(0,u.jsx)(vA,{})]}),t[0]=n,t[1]=a,t[2]=l,t[3]=j,t[4]=r,t[5]=c,t[6]=p,t[7]=h,t[8]=f,t[9]=g,t[10]=v,t[11]=b,t[12]=x,t[13]=y,t[14]=w,t[15]=C):C=t[15],C};function vI(e){let{className:t,loginWithUsername:n,readOnly:a,t:l}=e,o=!n||(null==n?void 0:n.requireEmail)||(null==n?void 0:n.allowEmailLogin),r=!!n;return(0,u.jsxs)("div",{className:t,children:[o?(0,u.jsx)(sW,{field:{name:"email",admin:{autoComplete:"off"},label:l("general:email"),required:!n||n&&n.requireEmail},path:"email",readOnly:a,schemaPath:"email",validate:V.Rp}):null,r&&(0,u.jsx)(dg,{field:{name:"username",label:l("authentication:username"),required:n&&n.requireUsername},path:"username",readOnly:a,schemaPath:"username",validate:V.Xh})]})}var vR="select-all",vL=()=>{let e=(0,d.c)(7),{selectAll:t,toggleAll:n}=mr(),{i18n:a}=(0,s.d)(),l;if(e[0]!==a||e[1]!==t||e[2]!==n){let o,r;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=[vR,"".concat(vR,"__checkbox")],e[4]=o):o=e[4],e[5]!==n?(r=()=>n(),e[5]=n,e[6]=r):r=e[6],l=(0,u.jsx)(lV,{"aria-label":t===ma.None?a.t("general:selectAllRows"):a.t("general:deselectAllRows"),checked:t===ma.AllInPage||t===ma.AllAvailable,className:o.join(" "),id:"select-all",name:"select-all",onToggle:r,partialChecked:t===ma.Some}),e[0]=a,e[1]=t,e[2]=n,e[3]=l}else l=e[3];return l},vM="select-row",vF=e=>{let t,n,a,l=(0,d.c)(14),{rowData:o}=e,{user:r}=af(),{selected:i,setSelection:s}=mr(),c;l[0]!==o?(c=o||{},l[0]=o,l[1]=c):c=l[1];let{_isLocked:p,_userEditing:h}=c;if(p&&h&&h.id!==(null==r?void 0:r.id)){let e;return l[2]!==h?(e=(0,u.jsx)(mx,{user:h}),l[2]=h,l[3]=e):e=l[3],e}l[4]!==o.id||l[5]!==i?(t=i.get(o.id),l[4]=o.id,l[5]=i,l[6]=t):t=l[6];let f=!!t,m;return l[7]===Symbol.for("react.memo_cache_sentinel")?(m=[vM,"".concat(vM,"__checkbox")],l[7]=m):m=l[7],l[8]!==o.id||l[9]!==s?(n=()=>s(o.id),l[8]=o.id,l[9]=s,l[10]=n):n=l[10],l[11]!==f||l[12]!==n?(a=(0,u.jsx)(lV,{checked:f,className:m.join(" "),onToggle:n}),l[11]=f,l[12]=n,l[13]=a):a=l[13],a},vB=e=>{let{onClick:t}=e,{count:n,selected:a}=mr();return a&&n?(0,u.jsx)(l7,{onClick:()=>{"function"==typeof t&&t(a)},pillStyle:"white",children:"Select ".concat(n)}):null},vz="collection-list";function vV(e){var t,n,a;let l,r=(0,d.c)(17),{AfterList:c,AfterListTable:h,beforeActions:m,BeforeList:g,BeforeListTable:v,collectionSlug:b,columnState:x,Description:y,disableBulkDelete:w,disableBulkEdit:j,disableQueryPresets:C,enableRowSelections:S,hasCreatePermission:k,listMenuItems:N,newDocumentURL:D,queryPreset:E,queryPresetPermissions:P,renderedFilters:T,resolvedFilterOptions:A,Table:O}=e,[I,R]=(0,o.useState)(O),{allowCreate:L,createNewDrawerSlug:M,isInDrawer:F,onBulkSelect:B}=s9(),z=void 0!==L?L&&k:k,V,U;r[0]!==O?(V=()=>{O&&R(O)},U=[O],r[0]=O,r[1]=V,r[2]=U):(V=r[1],U=r[2]),(0,o.useEffect)(V,U);let{user:H}=af(),{getEntityConfig:q}=(0,i.b)(),K=(0,f.useRouter)(),{data:W,defaultLimit:Y,handlePageChange:G,handlePerPageChange:Q,query:X}=cn(),{openModal:$}=ne(),{drawerSlug:Z,setCollectionSlug:J,setCurrentActivePath:ee,setOnSuccess:et}=hw(),en=q({collectionSlug:b}),{labels:ea,upload:el}=en,eo=!!el,er=eo&&en.upload.bulkUpload,{i18n:ei}=(0,s.d)(),{setStepNav:es}=fX(),{breakpoints:eu}=vD(),{s:ed}=eu,ep;if(eo){let e;r[3]!==W.docs?(e=W.docs.map(vU),r[3]=W.docs,r[4]=e):e=r[4],ep=e}else ep=W.docs;let eh=ep,ef;r[5]!==Z||r[6]!==b||r[7]!==$||r[8]!==K||r[9]!==J||r[10]!==ee||r[11]!==et?(ef=()=>{J(b),ee(b),$(Z),et(b,()=>K.refresh())},r[5]=Z,r[6]=b,r[7]=$,r[8]=K,r[9]=J,r[10]=ee,r[11]=et,r[12]=ef):ef=r[12];let em=ef;return(0,o.useEffect)(()=>{F||es([{label:null==ea?void 0:ea.plural}])},[es,ea,F]),r[13]!==m||r[14]!==S||r[15]!==B?(l=S&&"function"==typeof B?m?[...m,(0,u.jsx)(vB,{onClick:B},"select-many")]:[(0,u.jsx)(vB,{onClick:B},"select-many")]:m,r[13]=m,r[14]=S,r[15]=B,r[16]=l):l=r[16],(0,u.jsx)(o.Fragment,{children:(0,u.jsx)(cu,{collectionSlug:b,columnState:x,children:(0,u.jsx)("div",{className:"".concat(vz," ").concat(vz,"--").concat(b),children:(0,u.jsxs)(mo,{docs:eh,totalDocs:W.totalDocs,user:H,children:[g,(0,u.jsxs)(n8,{className:"".concat(vz,"__wrap"),children:[(0,u.jsx)(gG,{collectionConfig:en,Description:(0,u.jsx)("div",{className:"".concat(vz,"__sub-header"),children:(0,u.jsx)(ec,{CustomComponent:y,Fallback:(0,u.jsx)(fk,{collectionSlug:b,description:null==en||null==(t=en.admin)?void 0:t.description})})}),disableBulkDelete:w,disableBulkEdit:j,hasCreatePermission:z,i18n:ei,isBulkUploadEnabled:er&&!el.hideFileInputOnCreate,newDocumentURL:D,openBulkUpload:em,smallBreak:ed,viewType:"list"}),(0,u.jsx)(gP,{beforeActions:l,collectionConfig:en,collectionSlug:b,disableQueryPresets:(null==en?void 0:en.enableQueryPresets)!==!0||C,listMenuItems:N,queryPreset:E,queryPresetPermissions:P,renderedFilters:T,resolvedFilterOptions:A}),v,eh.length>0&&(0,u.jsx)(cM,{children:I}),0===eh.length&&(0,u.jsxs)("div",{className:"".concat(vz,"__no-results"),children:[(0,u.jsx)("p",{children:ei.t("general:noResults",{label:(0,p.sC)(null==ea?void 0:ea.plural,ei)})}),z&&D&&(0,u.jsx)(o.Fragment,{children:F?(0,u.jsx)(tp,{el:"button",onClick:()=>$(M),children:ei.t("general:createNewLabel",{label:(0,p.sC)(null==ea?void 0:ea.singular,ei)})}):(0,u.jsx)(tp,{el:"link",to:D,children:ei.t("general:createNewLabel",{label:(0,p.sC)(null==ea?void 0:ea.singular,ei)})})})]}),h,eh.length>0&&(0,u.jsxs)("div",{className:"".concat(vz,"__page-controls"),children:[(0,u.jsx)(ue,{hasNextPage:W.hasNextPage,hasPrevPage:W.hasPrevPage,limit:W.limit,nextPage:W.nextPage,numberOfNeighbors:1,onChange:e=>void G(e),page:W.page,prevPage:W.prevPage,totalPages:W.totalPages}),W.totalDocs>0&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:"".concat(vz,"__page-info"),children:[W.page*W.limit-(W.limit-1),"-",W.totalPages>1&&W.totalPages!==W.page?W.limit*W.page:W.totalDocs," ",ei.t("general:of")," ",W.totalDocs]}),(0,u.jsx)(g1,{handleChange:e=>void Q(e),limit:(0,_.E)(null==X?void 0:X.limit)?Number(X.limit):Y,limits:null==en||null==(a=en.admin)||null==(n=a.pagination)?void 0:n.limits,resetPage:W.totalDocs<=W.pagingCounter}),ed&&(0,u.jsxs)("div",{className:"".concat(vz,"__list-selection"),children:[(0,u.jsx)(gM,{collectionConfig:en,disableBulkDelete:w,disableBulkEdit:j,label:(0,p.sC)(en.labels.plural,ei)}),(0,u.jsx)("div",{className:"".concat(vz,"__list-selection-actions"),children:S&&"function"==typeof B?m?[...m,(0,u.jsx)(vB,{onClick:B},"select-many")]:[(0,u.jsx)(vB,{onClick:B},"select-many")]:m})]})]})]})]}),c]})})})})}function vU(e){return{...e,filesize:(0,z.B)(e.filesize)}}var vH="drawerHeader",vq=e=>{let t=(0,d.c)(5),{onCancel:n,onSave:a,title:l}=e,{t:o}=(0,s.d)(),r;return t[0]!==n||t[1]!==a||t[2]!==o||t[3]!==l?(r=(0,u.jsx)("div",{className:vH,children:(0,u.jsxs)("div",{className:"".concat(vH,"__content"),children:[(0,u.jsx)("h1",{className:"".concat(vH,"__title"),children:l}),(0,u.jsxs)("div",{className:"".concat(vH,"__actions"),children:[(0,u.jsx)(tp,{"aria-label":o("general:cancel"),buttonStyle:"secondary",onClick:n,children:o("general:cancel")}),(0,u.jsx)(d4,{"aria-label":o("general:applyChanges"),onClick:a,children:o("general:applyChanges")})]})]})}),t[0]=n,t[1]=a,t[2]=o,t[3]=l,t[4]=r):r=t[4],r};function vK(e){let t,n=(0,d.c)(21),{drawerSlug:a,folderToRename:l,onRenameConfirm:o}=e,{t:r}=(0,s.d)(),{folderCollectionConfig:c,folderCollectionSlug:p}=d5(),{config:h}=(0,i.b)(),{closeModal:f}=ne(),{routes:m,serverURL:g}=h,v=l.value._folderOrDocumentTitle,b=l.value.id,x=c.admin.useAsTitle,y="".concat(g).concat(m.api,"/").concat(p,"/").concat(l.value.id,"?depth=0"),w;if(n[0]!==r?(w=e=>!!e||r("validation:required"),n[0]=r,n[1]=w):w=n[1],n[2]!==f||n[3]!==a||n[4]!==b||n[5]!==v||n[6]!==x||n[7]!==o||n[8]!==r||n[9]!==y||n[10]!==w){let e,l,i;n[12]!==b||n[13]!==x||n[14]!==o?(e=e=>{var t;return o({folderID:b,updatedName:null==e||null==(t=e.doc)?void 0:t[x]})},n[12]=b,n[13]=x,n[14]=o,n[15]=e):e=n[15],n[16]!==f||n[17]!==a?(l=()=>f(a),n[16]=f,n[17]=a,n[18]=l):l=n[18],n[19]!==r?(i=e=>!!e||r("validation:required"),n[19]=r,n[20]=i):i=n[20],t=(0,u.jsx)(an,{gutter:!1,Header:null,slug:a,children:(0,u.jsxs)(dn,{action:y,initialState:{name:{initialValue:v,valid:!0,validate:w,value:v}},method:"PATCH",onSuccess:e,children:[(0,u.jsx)(vq,{onCancel:l,title:r("folder:renameFolder")}),(0,u.jsx)(d9,{children:(0,u.jsx)(dg,{field:{name:"name",label:r("folder:folderName"),required:!0},path:"name",validate:i})})]})}),n[2]=f,n[3]=a,n[4]=b,n[5]=v,n[6]=x,n[7]=o,n[8]=r,n[9]=y,n[10]=w,n[11]=t}else t=n[11];return t}var vW="rename-folder--current-folder",vY="move-to-folder--current-folder",vG="confirm-many-delete";function vQ(e){let{className:t}=e,{breadcrumbs:n,currentFolder:a,folderCollectionConfig:l,folderCollectionSlug:r,folderID:c,moveToFolder:d,renameFolder:h,setFolderID:f}=d5(),{config:m}=(0,i.b)(),{routes:g,serverURL:v}=m,{closeModal:b,openModal:x}=ne(),{i18n:y,t:w}=(0,s.d)(),j=o.useCallback(async()=>{var e;await fetch("".concat(v).concat(g.api,"/").concat(r,"/").concat(c,"?depth=0"),{credentials:"include",method:"DELETE"}),await f({folderID:(null==(e=n[n.length-2])?void 0:e.id)||null})},[n,r,c,g.api,v,f]);return c?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ts,{button:(0,u.jsx)(m$,{}),className:["current-folder-actions",t].filter(Boolean).join(" "),render:()=>(0,u.jsxs)(e1.ButtonGroup,{children:[(0,u.jsx)(e1.Button,{onClick:()=>{x(vW)},children:w("folder:renameFolder")}),(0,u.jsx)(e1.Button,{onClick:()=>{x(vY)},children:w("folder:moveFolder")}),(0,u.jsx)(e1.Button,{onClick:()=>{x(vG)},children:w("folder:deleteFolder")})]})}),(0,u.jsx)(pj,{action:"moveItemToFolder",drawerSlug:vY,fromFolderID:null==a?void 0:a.value.id,fromFolderName:null==a?void 0:a.value._folderOrDocumentTitle,itemsToMove:[a],onConfirm:async e=>{let{id:t,name:n}=e;await d({itemsToMove:[a],toFolderID:t}),t?n0.success(w("folder:itemHasBeenMoved",{folderName:'"'.concat(n,'"'),title:a.value._folderOrDocumentTitle})):n0.success(w("folder:itemHasBeenMovedToRoot",{title:a.value._folderOrDocumentTitle})),b(vY)},title:a.value._folderOrDocumentTitle}),(0,u.jsx)(ai,{body:(0,u.jsx)(pr,{elements:{1:e=>{let{children:t}=e;return(0,u.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:w,variables:{label:(0,p.sC)(l.labels.singular,y),title:a.value._folderOrDocumentTitle}}),confirmingLabel:w("general:deleting"),heading:w("general:confirmDeletion"),modalSlug:vG,onConfirm:j}),(0,u.jsx)(vK,{drawerSlug:vW,folderToRename:a,onRenameConfirm:e=>{let{folderID:t,updatedName:n}=e;h({folderID:t,newName:n}),b(vW)}})]}):null}var vX="drag-overlay-selection";function v$(e){let{allItems:t,lastSelected:n,selectedCount:a}=e,l=null==t?void 0:t[n||0];return a&&l?(0,u.jsx)(m.Hd,{dropAnimation:null,modifiers:[vZ],style:{height:"unset",maxWidth:"220px"},children:(0,u.jsxs)("div",{className:"".concat(vX,"__cards"),children:[Array.from({length:a>1?2:1}).map((e,t)=>(0,u.jsx)("div",{className:"".concat(vX,"__card"),style:{right:"".concat(3*t,"px"),top:"-".concat(3*t,"px")},children:(0,u.jsx)(pm,{id:null,isSelected:!0,itemKey:"overlay-card",title:l.value._folderOrDocumentTitle,type:"folder"})},t)),a>1?(0,u.jsx)("span",{className:"".concat(vX,"__card-count"),children:a}):null]})}):null}var vZ=e=>{let{activatorEvent:t,draggingNodeRect:n,transform:a}=e;if(n&&t){let e=function(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=th(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}(t);if(!e)return a;let l=e.x-n.left,o=e.y-n.top;return{...a,x:a.x+l+5,y:a.y+o+5}}return a},vJ="simple-table",v0=e=>{let{appearance:t,className:n,headerCells:a,tableRows:l}=e;return(0,u.jsx)("div",{className:[n,vJ,t&&"".concat(vJ,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,u.jsxs)("table",{cellPadding:0,cellSpacing:0,className:"".concat(vJ,"__table"),children:[(0,u.jsx)(v1,{children:(0,u.jsx)(v2,{children:a})}),(0,u.jsx)(v3,{children:l})]})})},v1=e=>{let{children:t,className:n,...a}=e;return(0,u.jsx)("thead",{className:"".concat(vJ,"__thead ").concat(n||"").trim(),...a,children:t})},v3=e=>{let{children:t,className:n,...a}=e;return(0,u.jsx)("tbody",{className:"".concat(vJ,"__tbody ").concat(n||"").trim(),...a,children:t})},v2=e=>{let{children:t,className:n,...a}=e;return(0,u.jsx)("tr",{className:"".concat(vJ,"__tr ").concat(n||"").trim(),...a,children:t})},v6=e=>{let{children:t,className:n,...a}=e;return(0,u.jsx)("td",{className:"".concat(vJ,"__td ").concat(n||"").trim(),...a,children:t})},v5=e=>{let{children:t,className:n,...a}=e;return(0,u.jsx)("th",{className:"".concat(vJ,"__th ").concat(n||"").trim(),...a,children:t})},v4=e=>{let{children:t,className:n,...a}=e;return(0,u.jsx)("td",{className:"".concat(vJ,"__hidden-cell ").concat(n||"").trim(),...a,children:t})},v8="draggable-table-row";function v7(e){let{id:t,columns:n,disabled:a=!1,dragData:l,isDroppable:r,isFocused:i,isSelected:s,isSelecting:c,itemKey:d,onClick:p,onKeyDown:h}=e,f=!a&&r&&!s,{isOver:g,setNodeRef:v}=(0,m.zM)({id:t,data:l,disabled:!f}),b=o.useRef(null);return o.useEffect(()=>{let e=b.current;return i&&b.current?b.current.focus():!i&&b.current&&b.current.blur(),()=>{e&&e.blur()}},[i]),(0,u.jsxs)(ph,{as:"tr",className:[v8,s&&"".concat(v8,"--selected"),c&&"".concat(v8,"--selecting"),a&&"".concat(v8,"--disabled"),i&&"".concat(v8,"--focused"),g&&"".concat(v8,"--over")].filter(Boolean).join(" "),id:d,onClick:p,onKeyDown:h,ref:b,children:[n.map((e,t)=>(0,u.jsx)(v6,{className:["".concat(v8,"__cell-content"),0===t&&"".concat(v8,"__first-td"),t===n.length-1&&"".concat(v8,"__last-td")].filter(Boolean).join(" "),children:e},"".concat(d,"-").concat(t))),f?(0,u.jsx)(v4,{children:(0,u.jsx)("div",{className:"".concat(v8,"__drop-area"),ref:v})}):null]},d)}var v9="folder-file-table";function be(e){let{dateFormat:t,disabledItems:n=new Set,documents:a,focusedRowIndex:l,i18n:r,isMovingItems:c,onRowClick:d,onRowPress:h,selectedItems:f,showRelationCell:m=!0,subfolders:g}=e,{config:v}=(0,i.b)(),{t:b}=(0,s.d)(),[x]=o.useState(()=>{let e={};return v.collections.forEach(t=>{var n;e[t.slug]=(0,p.sC)(null==(n=t.labels)?void 0:n.singular,r)}),e}),[y]=o.useState(()=>{let e=[{name:"name",label:b("general:name")},{name:"createdAt",label:b("general:createdAt")},{name:"updatedAt",label:b("general:updatedAt")}];return m&&e.push({name:"type",label:b("version:type")}),e});return(0,u.jsx)(v0,{headerCells:y.map(e=>{let{name:t,label:n}=e;return(0,u.jsx)(v5,{children:n},t)}),tableRows:[...g.map((e,a)=>{let{itemKey:o,relationTo:i,value:s}=e,p=(0,B.r)(s);return(0,u.jsx)(v7,{columns:y.map((e,n)=>{let{name:a}=e,l="—";return"name"===a&&void 0!==s._folderOrDocumentTitle&&(l=s._folderOrDocumentTitle),("createdAt"===a||"updatedAt"===a)&&s[a]&&(l=ls({date:s[a],i18n:r,pattern:t})),"type"===a&&(l=x[i]||i),0===n?(0,u.jsxs)("span",{className:"".concat(v9,"__cell-with-icon"),children:[(0,u.jsx)(pu,{}),l]},"".concat(o,"-").concat(a)):l}),disabled:c&&(null==f?void 0:f.has(o))||(null==n?void 0:n.has(o)),dragData:{id:p,type:"folder"},id:p,isDroppable:!0,isFocused:l===a,isSelected:f.has(o),isSelecting:f.size>0,itemKey:o,onClick:t=>{d({event:t,index:a,item:e})},onKeyDown:t=>{h({event:t,index:a,item:e})}},"".concat(a,"-").concat(o))}),...a.map((e,a)=>{let{itemKey:o,relationTo:i,value:s}=e,p=(0,B.r)(s),m=a+g.length;return(0,u.jsx)(v7,{columns:y.map((e,n)=>{let{name:a}=e,l="—";return"name"===a&&void 0!==s._folderOrDocumentTitle&&(l=s._folderOrDocumentTitle),("createdAt"===a||"updatedAt"===a)&&s[a]&&(l=ls({date:s[a],i18n:r,pattern:t})),"type"===a&&(l=x[i]||i),0===n?(0,u.jsxs)("span",{className:"".concat(v9,"__cell-with-icon"),children:[(0,u.jsx)(pd,{}),l]},"".concat(o,"-").concat(a)):l}),disabled:c||(null==n?void 0:n.has(o)),dragData:{id:p,type:"document"},id:p,isFocused:l===m,isSelected:f.has(o),isSelecting:f.size>0,itemKey:o,onClick:t=>{d({event:t,index:m,item:e})},onKeyDown:t=>{h({event:t,index:m,item:e})}},"".concat(m,"-").concat(o))})]})}var bt="sort-by-pill",bn=[{label:e=>e("general:name"),value:"_folderOrDocumentTitle"},{label:e=>e("general:createdAt"),value:"createdAt"},{label:e=>e("general:updatedAt"),value:"updatedAt"}],ba=[{label:e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h8,{}),e("general:ascending")]}),value:"asc"},{label:e=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h4,{}),e("general:descending")]}),value:"desc"}];function bl(){let{documents:e,sortAndUpdateState:t,sortDirection:n,sortOn:a,subfolders:l}=d5(),{t:o}=(0,s.d)(),[r]=bn.filter(e=>{let{value:t}=e;return t===a}),[i]=ba.filter(e=>{let{value:t}=e;return t===n});return(0,u.jsx)(ts,{button:(0,u.jsxs)(l7,{className:"".concat(bt,"__trigger"),icon:(0,u.jsx)(eX,{}),size:"small",children:["asc"===n?(0,u.jsx)(h8,{className:"".concat(bt,"__sort-icon")}):(0,u.jsx)(h4,{className:"".concat(bt,"__sort-icon")}),r.label(o)]}),className:bt,horizontalAlign:"right",render:n=>{let{close:a}=n;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(e1.GroupLabel,{label:"Sort by"}),(0,u.jsx)(e1.ButtonGroup,{children:bn.map(n=>{let{label:i,value:s}=n;return(0,u.jsx)(e1.Button,{active:r.value===s,onClick:()=>{t({documentsToSort:e,sortOn:s,subfoldersToSort:l}),a()},children:i(o)},s)})}),(0,u.jsx)(e1.Divider,{}),(0,u.jsx)(e1.GroupLabel,{label:"Order"}),(0,u.jsx)(e1.ButtonGroup,{children:ba.map(n=>{let{label:r,value:s}=n;return(0,u.jsx)(e1.Button,{active:i.value===s,className:"".concat(bt,"__order-option"),onClick:()=>{t({documentsToSort:e,sortDirection:s,subfoldersToSort:l}),a()},children:r(o)},s)})})]})},showScrollbar:!0,verticalAlign:"bottom"})}var bo="folder-view-toggle-button";function br(e){let{activeView:t,setActiveView:n}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tp,{buttonStyle:"pill",className:[bo,"grid"===t&&"".concat(bo,"--active")].filter(Boolean).join(" "),icon:(0,u.jsx)(vl,{}),margin:!1,onClick:()=>{n("grid")}}),(0,u.jsx)(tp,{buttonStyle:"pill",className:[bo,"list"===t&&"".concat(bo,"--active")].filter(Boolean).join(" "),icon:(0,u.jsx)(vo,{}),margin:!1,onClick:()=>{n("list")}})]})}var bi="search-bar";function bs(e){let{Actions:t,className:n,filterKey:a,label:l,onSearchChange:o,searchQueryParam:r}=e;return(0,u.jsxs)("div",{className:[bi,n].filter(Boolean).join(" "),children:[(0,u.jsx)(oc,{}),(0,u.jsx)(mJ,{handleChange:o,label:l,searchQueryParam:r},a||"search"),t&&t.length>0?(0,u.jsx)("div",{className:"".concat(bi,"__actions"),children:t}):null]})}var bc="move-to-folder--list",bu="rename-folder--list",bd=e=>{var t,n,a,l;let r=(0,d.c)(15),{disableBulkDelete:c,disableBulkEdit:p}=e,{clearSelections:h,currentFolder:f,folderID:m,getSelectedItems:g,moveToFolder:v,removeItems:b,renameFolder:x}=d5(),{config:y}=(0,i.b)(),{t:w}=(0,s.d)(),{closeModal:j,openModal:C}=ne(),S,_;if(r[0]!==h||r[1]!==j||r[2]!==y||r[3]!==(null==f||null==(t=f.value)?void 0:t._folderOrDocumentTitle)||r[4]!==c||r[5]!==p||r[6]!==m||r[7]!==g||r[8]!==v||r[9]!==C||r[10]!==b||r[11]!==x||r[12]!==w){_=Symbol.for("react.early_return_sentinel");e:{let e=g(),t=e.reduce(bp,{}),n=e.length,r=1===Object.keys(t).length&&Object.keys(t)[0]!==y.folders.slug,i=r?y.collections.find(e=>e.slug===Object.keys(t)[0]):null;if(0===n){_=null;break e}let s=r&&(null==(a=t[Object.keys(t)[0]])?void 0:a.ids)||[];S=(0,u.jsx)(ms,{count:n,ListActions:[n>0&&(0,u.jsx)(mc,{onClick:()=>h(),children:w("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!p&&s.length&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mK,{collection:i,count:n,ids:s,selectAll:!1}),(0,u.jsx)(gO,{collection:i,count:n,ids:s,selectAll:!1}),(0,u.jsx)(gL,{collection:i,count:n,ids:s,selectAll:!1})]},"bulk-actions"),1===n&&!r&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mc,{onClick:()=>C(bu),type:"button",children:w("general:rename")}),(0,u.jsx)(vK,{drawerSlug:bu,folderToRename:e[0],onRenameConfirm:e=>{let{folderID:t,updatedName:n}=e;x({folderID:t,newName:n}),j(bu)}})]},"rename-folder"),n>0?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(mc,{onClick:()=>{C(bc)},type:"button",children:w("general:move")}),(0,u.jsx)(pj,{action:"moveItemsToFolder",drawerSlug:bc,fromFolderID:m,fromFolderName:null==f||null==(l=f.value)?void 0:l._folderOrDocumentTitle,itemsToMove:g(),onConfirm:async e=>{let{id:t,name:a}=e;await v({itemsToMove:g(),toFolderID:t}),t?n0.success(w("folder:itemsMovedToFolder",{folderName:'"'.concat(a,'"'),title:"".concat(n," ").concat(n>1?w("general:items"):w("general:item"))})):n0.success(w("folder:itemsMovedToRoot",{title:"".concat(n," ").concat(n>1?w("general:items"):w("general:item"))})),j(bc)}})]},bc):null,!c&&(0,u.jsx)(mp,{afterDelete:e=>{b(Object.entries(e).reduce(bh,[]))},selections:t},"bulk-delete")].filter(Boolean)})}r[0]=h,r[1]=j,r[2]=y,r[3]=null==f||null==(n=f.value)?void 0:n._folderOrDocumentTitle,r[4]=c,r[5]=p,r[6]=m,r[7]=g,r[8]=v,r[9]=C,r[10]=b,r[11]=x,r[12]=w,r[13]=S,r[14]=_}else S=r[13],_=r[14];return _!==Symbol.for("react.early_return_sentinel")?_:S};function bp(e,t){return t&&(e[t.relationTo]?(e[t.relationTo].ids.push((0,B.r)(t.value)),e[t.relationTo].totalCount=e[t.relationTo].totalCount+1):e[t.relationTo]={ids:[(0,B.r)(t.value)],totalCount:1}),e}function bh(e,t){let[n,a]=t;return a.ids.length&&a.ids.forEach(t=>{e.push({itemKey:"".concat(n,"-").concat(t),relationTo:n,value:{id:t}})}),e}var bf="collection-folder-list";function bm(e){var t,n;let{AfterFolderList:a,AfterFolderListTable:l,BeforeFolderList:r,BeforeFolderListTable:c,collectionSlug:d,Description:h,disableBulkDelete:f,disableBulkEdit:m,hasCreatePermission:g,viewPreference:v}=e,{config:b,getEntityConfig:x}=(0,i.b)(),{i18n:y,t:w}=(0,s.d)(),j=tq(),{setStepNav:C}=fX(),{setPreference:S}=ab(),{addItems:_,breadcrumbs:k,documents:N,filterItems:D,focusedRowIndex:E,folderCollectionConfig:P,getSelectedItems:T,isDragging:A,lastSelectedIndex:O,moveToFolder:I,onItemClick:R,onItemKeyPress:L,search:M,selectedIndexes:B,setFolderID:z,setIsDragging:V,subfolders:U}=d5(),[H,q]=o.useState(v||"grid"),K=x({collectionSlug:d}),{labels:W,upload:Y}=K,G=!!Y&&K.upload.bulkUpload,{breakpoints:{s:Q}}=vD(),X=o.useCallback(async e=>{e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current&&await I({itemsToMove:T(),toFolderID:e.over.data.current.id||null})},[I,T]),$=o.useCallback(e=>{let{collectionSlug:t,doc:n}=e,a=x({collectionSlug:t});_([(0,F.p)({folderFieldName:b.folders.fieldName,isUpload:!!(null==a?void 0:a.upload),relationTo:t,useAsTitle:a.admin.useAsTitle,value:n})])},[x,_,b.folders.fieldName]),Z=o.useMemo(()=>new Set(T().reduce((e,t)=>(t&&t.relationTo&&t.value&&e.push("".concat(t.relationTo,"-").concat(t.value.id)),e),[])),[T]),J=o.useCallback(e=>{S("".concat(d,"-collection-folder"),{viewPreference:e}),q(e)},[]);o.useEffect(()=>{j||C([k.length?{label:(0,u.jsxs)(pc,{className:["".concat(bf,"__step-nav-droppable"),"".concat(bf,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{z({folderID:null})},children:[(0,u.jsx)(pu,{}),(0,p.sC)(null==W?void 0:W.plural,y)]},"root")}:{label:(0,u.jsxs)("div",{className:"".concat(bf,"__step-nav-icon-label"),children:[(0,u.jsx)(pu,{}),(0,p.sC)(null==W?void 0:W.plural,y)]},"root")},...k.map((e,t)=>({label:t===k.length-1?e.name:(0,u.jsx)(pc,{className:"".concat(bf,"__step-nav-droppable"),id:e.id,onClick:()=>{z({folderID:e.id})},children:e.name},e.id)}))])},[C,W,j,y,k,z]);let ee=N.length+U.length;return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(bg,{onDragEnd:X,setIsDragging:V}),(0,u.jsxs)("div",{className:"".concat(bf," ").concat(bf,"--").concat(d),children:[r,(0,u.jsxs)(n8,{className:"".concat(bf,"__wrap"),children:[(0,u.jsx)(gU,{Actions:[!Q&&(0,u.jsx)(bd,{disableBulkDelete:f,disableBulkEdit:m},"list-selection"),(0,u.jsx)(gz,{collectionConfig:K,viewType:"folders"},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:h,title:(0,p.sC)(null==W?void 0:W.plural,y),TitleActions:[g&&(0,u.jsx)(pn,{buttonLabel:w("general:createNew"),collectionSlugs:[P.slug,d],onCreateSuccess:$,slugPrefix:"create-document--header-pill"},"create-new-button"),(0,u.jsx)(gK,{collectionSlug:d,hasCreatePermission:g,isBulkUploadEnabled:G},"bulk-upload-button")].filter(Boolean)}),(0,u.jsx)(bs,{Actions:[(0,u.jsx)(bl,{},"sort-by-pill"),(0,u.jsx)(br,{activeView:H,setActiveView:J},"toggle-view-buttons"),(0,u.jsx)(vQ,{},"current-folder-actions")].filter(Boolean),label:w("general:searchBy",{label:w("general:name")}),onSearchChange:e=>D({search:e}),searchQueryParam:M}),c,ee>0&&(0,u.jsx)(u.Fragment,{children:"grid"===H?(0,u.jsxs)("div",{children:[U.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(pv,{items:U,selectedItemKeys:Z,title:"Folders",type:"folder"})}):null,N.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(pv,{items:N,selectedItemKeys:Z,subfolderCount:U.length,title:"Documents",type:"file"})}):null]}):(0,u.jsx)(be,{dateFormat:b.admin.dateFormat,documents:N,focusedRowIndex:E,i18n:y,isMovingItems:A,onRowClick:R,onRowPress:L,selectedItems:Z,showRelationCell:!1,subfolders:U})}),0===ee&&(0,u.jsx)(pl,{Actions:[(0,u.jsx)(pn,{buttonLabel:"".concat(w("general:create")," ").concat((0,p.sC)(null==(t=P.labels)?void 0:t.singular,y).toLowerCase()),collectionSlugs:[P.slug],onCreateSuccess:$,slugPrefix:"create-folder--no-results"},"create-folder"),(0,u.jsx)(pn,{buttonLabel:"".concat(w("general:create")," ").concat(w("general:document").toLowerCase()),collectionSlugs:[d],onCreateSuccess:$,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,u.jsx)("p",{children:y.t("general:noResults",{label:"".concat((0,p.sC)(null==W?void 0:W.plural,y)," ").concat(w("general:or").toLowerCase()," ").concat((0,p.sC)(null==(n=P.labels)?void 0:n.plural,y))})})}),l]}),a]}),(0,u.jsx)(v$,{allItems:[...U,...N],lastSelected:O,selectedCount:B.size})]})}function bg(e){let t=(0,d.c)(3),{onDragEnd:n,setIsDragging:a}=e,l;return t[0]!==n||t[1]!==a?(l={onDragCancel(){a(!1)},onDragEnd(e){a(!1),n(e)},onDragStart(){a(!0)}},t[0]=n,t[1]=a,t[2]=l):l=t[2],(0,m.E5)(l),null}var bv="checkbox-popup";function bb(e){let{Button:t,className:n,onChange:a,options:l,selectedValues:o,...r}=e;return(0,u.jsx)(ts,{button:t,className:[bv,n].filter(Boolean).join(" "),horizontalAlign:"right",render:e=>{let{close:t}=e;return(0,u.jsx)("div",{className:"".concat(bv,"__options"),children:l.map(e=>{let{label:n,value:l}=e;return(0,u.jsx)(lV,{checked:null==o?void 0:o.includes(l),label:n,onToggle:()=>{a({close:t,selectedValues:(null==o?void 0:o.includes(l))?o.filter(e=>e!==l):[...o,l]})}},l)})})},showScrollbar:!0,verticalAlign:"bottom",...r})}function bx(){let e=(0,d.c)(12),{filterItems:t,folderCollectionSlug:n,visibleCollectionSlugs:a}=d5(),{i18n:l,t:r}=(0,s.d)(),{config:c,getEntityConfig:h}=(0,i.b)(),f;e[0]!==c||e[1]!==n||e[2]!==h||e[3]!==l?(f=()=>{var e;return c.collections.reduce((e,t)=>{var n;return t.folders&&e.push({label:(0,p.sC)(null==(n=t.labels)?void 0:n.plural,l),value:t.slug}),e},[{label:(0,p.sC)(null==(e=h({collectionSlug:n}).labels)?void 0:e.plural,l),value:n}])},e[0]=c,e[1]=n,e[2]=h,e[3]=l,e[4]=f):f=e[4];let[m]=o.useState(f),g;if(e[5]!==m||e[6]!==t||e[7]!==r||e[8]!==a){let n;e[10]!==t?(n=e=>{let{selectedValues:n}=e;t({relationTo:n})},e[10]=t,e[11]=n):n=e[11],g=(0,u.jsx)(bb,{Button:(0,u.jsxs)(tp,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[a.length?(0,u.jsx)("span",{className:"".concat("collection-type","__count"),children:a.length}):null,r("version:type")]}),onChange:n,options:m,selectedValues:a},"relation-to-selection-popup"),e[5]=m,e[6]=t,e[7]=r,e[8]=a,e[9]=g}else g=e[9];return g}var by="folder-list";function bw(e){var t;let{AfterFolderList:n,AfterFolderListTable:a,BeforeFolderList:l,BeforeFolderListTable:r,Description:c,disableBulkDelete:d,disableBulkEdit:h,hasCreatePermissionCollectionSlugs:f,viewPreference:m}=e,{config:g,getEntityConfig:v}=(0,i.b)(),{i18n:b,t:x}=(0,s.d)(),y=tq(),{setStepNav:w}=fX(),{clearRouteCache:j}=mn(),{breakpoints:{s:C}}=vD(),{setPreference:S}=ab(),{addItems:_,breadcrumbs:k,documents:N,filterItems:D,focusedRowIndex:E,folderCollectionConfig:P,folderID:T,getSelectedItems:A,isDragging:O,lastSelectedIndex:I,moveToFolder:R,onItemClick:L,onItemKeyPress:M,search:B,selectedIndexes:z,setFolderID:V,setIsDragging:U,subfolders:H,visibleCollectionSlugs:q}=d5(),[K,W]=o.useState(m||"grid"),[Y]=o.useState(()=>{var e;return x("folder:searchByNameInFolder",{folderName:0===k.length?(0,p.sC)(null==(e=P.labels)?void 0:e.plural,b):k[k.length-1].name})}),G=o.useCallback(async e=>{e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current&&(await R({itemsToMove:A(),toFolderID:e.over.data.current.id||null}),j())},[R,A,j]),Q=N.length+H.length,X=k.length?k[k.length-1].name:x("folder:browseByFolder"),$=q.reduce((e,t,n,a)=>{var l,o,r;let i=v({collectionSlug:t});return 0===n?(0,p.sC)(null==(l=i.labels)?void 0:l.plural,b):n===a.length-1?"".concat(e," ").concat(x("general:or").toLowerCase()," ").concat((0,p.sC)(null==(o=i.labels)?void 0:o.plural,b)):"".concat(e,", ").concat((0,p.sC)(null==(r=i.labels)?void 0:r.plural,b))},""),Z=o.useCallback(e=>{let{collectionSlug:t,doc:n}=e,a=v({collectionSlug:t});_([(0,F.p)({folderFieldName:g.folders.fieldName,isUpload:!!(null==a?void 0:a.upload),relationTo:t,useAsTitle:a.admin.useAsTitle,value:n})])},[v,_,g.folders.fieldName]),J=o.useMemo(()=>new Set(A().reduce((e,t)=>(t&&t.relationTo&&t.value&&e.push("".concat(t.relationTo,"-").concat(t.value.id)),e),[])),[A]),ee=o.useCallback(e=>{S("browse-by-folder",{viewPreference:e}),W(e)},[]);return o.useEffect(()=>{y||w([k.length?{label:(0,u.jsxs)(pc,{className:["".concat(by,"__step-nav-droppable"),"".concat(by,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{V({folderID:null})},children:[(0,u.jsx)(pu,{}),x("folder:browseByFolder")]},"root")}:{label:(0,u.jsxs)("div",{className:"".concat(by,"__step-nav-icon-label"),children:[(0,u.jsx)(pu,{}),x("folder:browseByFolder")]},"root")},...k.map((e,t)=>({label:t===k.length-1?e.name:(0,u.jsx)(pc,{className:"".concat(by,"__step-nav-droppable"),id:e.id,onClick:()=>{V({folderID:e.id})},children:e.name},e.id)}))])},[w,y,b,k,V,x]),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(bj,{onDragEnd:G,setIsDragging:U}),(0,u.jsxs)("div",{className:"".concat(by," ").concat(by,"--folders"),children:[l,(0,u.jsxs)(n8,{className:"".concat(by,"__wrap"),children:[(0,u.jsx)(gU,{Actions:[!C&&(0,u.jsx)(bd,{disableBulkDelete:d,disableBulkEdit:h},"list-selection")].filter(Boolean),AfterListHeaderContent:c,title:X,TitleActions:[(0,u.jsx)(pn,{buttonLabel:x("general:createNew"),collectionSlugs:f,onCreateSuccess:Z,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),(0,u.jsx)(bs,{Actions:[(0,u.jsx)(bl,{},"sort-by-pill"),T&&(0,u.jsx)(bx,{},"collection-type"),(0,u.jsx)(br,{activeView:K,setActiveView:ee},"toggle-view-buttons"),(0,u.jsx)(vQ,{},"current-folder-actions")].filter(Boolean),label:Y,onSearchChange:e=>D({search:e}),searchQueryParam:B}),r,Q>0&&(0,u.jsx)(u.Fragment,{children:"grid"===K?(0,u.jsxs)("div",{children:[H.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(pv,{items:H,selectedItemKeys:J,title:"Folders",type:"folder"})}):null,N.length?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(pv,{items:N,selectedItemKeys:J,subfolderCount:H.length,title:"Documents",type:"file"})}):null]}):(0,u.jsx)(be,{dateFormat:g.admin.dateFormat,documents:N,focusedRowIndex:E,i18n:b,isMovingItems:O,onRowClick:L,onRowPress:M,selectedItems:J,subfolders:H})}),0===Q&&(0,u.jsx)(pl,{Actions:[(0,u.jsx)(pn,{buttonLabel:"".concat(x("general:create")," ").concat((0,p.sC)(null==(t=P.labels)?void 0:t.singular,b).toLowerCase()),collectionSlugs:[P.slug],onCreateSuccess:Z,slugPrefix:"create-folder--no-results"},"create-folder"),T&&(0,u.jsx)(pn,{buttonLabel:"".concat(x("general:create")," ").concat(x("general:document").toLowerCase()),collectionSlugs:f.filter(e=>e!==P.slug),onCreateSuccess:Z,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,u.jsx)("p",{children:b.t("general:noResults",{label:$})})}),a]}),n]}),(0,u.jsx)(v$,{allItems:[...H,...N],lastSelected:I,selectedCount:z.size})]})}function bj(e){let t=(0,d.c)(3),{onDragEnd:n,setIsDragging:a}=e,l;return t[0]!==n||t[1]!==a?(l={onDragCancel(){a(!1)},onDragEnd(e){a(!1),n(e)},onDragStart(){a(!0)}},t[0]=n,t[1]=a,t[2]=l):l=t[2],(0,m.E5)(l),null}var bC=e=>{let t=(0,d.c)(7),{drawerSlug:n}=e,{closeModal:a}=ne(),{t:l}=(0,s.d)(),o;if(t[0]!==a||t[1]!==n||t[2]!==l){let e;t[4]!==a||t[5]!==n?(e=()=>a(n),t[4]=a,t[5]=n,t[6]=e):e=t[6],o=(0,u.jsxs)(n8,{className:"".concat(cP,"__header"),children:[(0,u.jsxs)("div",{className:"".concat(cP,"__header-content"),children:[(0,u.jsx)("h2",{className:"".concat(cP,"__header-text"),children:(0,u.jsx)(g4,{element:"span"})}),(0,u.jsx)("button",{"aria-label":l("general:close"),className:"".concat(cP,"__header-close"),onClick:e,type:"button",children:(0,u.jsx)(s.a,{})})]}),(0,u.jsx)(bS,{})]}),t[0]=a,t[1]=n,t[2]=l,t[3]=o}else o=t[3];return o},bS=()=>{let e=(0,d.c)(3),{id:t}=lC(),{title:n}=lf(),a;return e[0]!==t||e[1]!==n?(a=t&&t!==n?(0,u.jsx)(g6,{id:t.toString()}):null,e[0]=t,e[1]=n,e[2]=a):a=e[2],a},b_=e=>{let{adminRoute:t,router:n}=e,a=(0,g.Q)({adminRoute:t,path:"/"});n.push(a)},bk=e=>{let{adminRoute:t,collectionSlug:n,router:a}=e,l=(0,g.Q)({adminRoute:t,path:n?"/collections/".concat(n):"/"});a.push(l)},bN=(e,t,n,a,l,o,r,i,s,c)=>{if(s)try{var u;o(e,null!=t?t:n,a),l||(i.current.hasShownLockedModal=!0),i.current={hasShownLockedModal:null==(u=i.current)?void 0:u.hasShownLockedModal,isLocked:!0,user:a},r(a),l&&c&&c(!1)}catch(e){console.error("Error during document takeover:",e)}},bD=e=>{var t,n;let{enabled:a,readOnly:l}=e,[r]=(0,o.useState)(oi()),[c,d]=(0,o.useState)(!1),{i18n:h,t:f}=(0,s.d)(),{config:m,getEntityConfig:g}=(0,i.b)(),{collectionSlug:v}=lC(),b=eR(e=>{let[t]=e;return t&&t.apiKey||null}),x=null==(n=g({collectionSlug:v}))||null==(t=n.fields)?void 0:t.find(e=>"name"in e&&"apiKey"===e.name),y=null==b?void 0:b.value,w=(0,o.useMemo)(()=>{let e="API Key";return(null==x?void 0:x.label)&&(e=x.label),(0,p.sC)(e,h)},[x,h]),j=(0,o.useMemo)(()=>(0,u.jsxs)("div",{className:"".concat("api-key","__label"),children:[(0,u.jsx)("span",{children:w}),(0,u.jsx)(pJ,{value:y})]}),[w,y]),{setValue:C,value:S}=lT({path:"apiKey",validate:e=>(0,V.Qq)(e,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:m},t:f},siblingData:{}})});return(0,o.useEffect)(()=>{!y&&a&&C(r),!a&&y&&C(null)},[y,a,C,r]),(0,o.useEffect)(()=>{c&&setTimeout(()=>{d(!1)},1e4)},[c]),a?(0,u.jsxs)(o.Fragment,{children:[(0,u.jsxs)("div",{className:["field-type","api-key","read-only"].filter(Boolean).join(" "),children:[j,(0,u.jsx)("input",{"aria-label":w,className:c?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:"text",value:S||""})]}),!l&&(0,u.jsx)(mY,{highlightField:()=>{c&&d(!1),setTimeout(()=>{d(!0)},1)},setKey:()=>C(oi())})]}):null},bE="auth-fields",bP=e=>{var t,n;let a,l=(0,d.c)(57),{className:r,collectionSlug:c,disableLocalStrategy:p,email:h,loginWithUsername:f,operation:m,readOnly:g,requirePassword:v,setValidateBeforeSubmit:b,useAPIKey:x,username:y,verify:w}=e,{permissions:j}=af(),[C,S]=(0,o.useState)(v),_=eR(bT),k=eR(bA),N=eO(),{i18n:D,t:E}=(0,s.d)(),{docPermissions:P,isEditing:T,isInitializing:A}=lC(),{config:O}=(0,i.b)(),{routes:I,serverURL:R}=O,{api:L}=I,M=!p||"object"==typeof p&&!0===p.enableFields,F=g||A,B=(null==P?void 0:P.fields)===!0||(null==P||null==(t=P.fields)?void 0:t.enableAPIKey),z=g||!0===B||B&&"object"==typeof B&&!(null==B?void 0:B.update),V=g||!0!==B&&!(null==B?void 0:B.update),U=!0===B||(null==B?void 0:B.read),H;e:{let e=null==j||null==(n=j.collections)?void 0:n[c];if(e){H=!!("unlock"in e&&e.unlock);break e}H=!1}let q=H,K;l[0]!==k||l[1]!==b||l[2]!==E?(K=e=>{e?(b(!0),k({type:"UPDATE",errorMessage:E("validation:required"),path:"password",valid:!1}),k({type:"UPDATE",errorMessage:E("validation:required"),path:"confirm-password",valid:!1})):(b(!1),k({type:"REMOVE",path:"password"}),k({type:"REMOVE",path:"confirm-password"})),S(e)},l[0]=k,l[1]=b,l[2]=E,l[3]=K):K=l[3];let W=K,Y;l[4]!==L||l[5]!==c||l[6]!==h||l[7]!==D||l[8]!==f||l[9]!==R||l[10]!==E||l[11]!==y?(Y=async()=>{let e="".concat(R).concat(L,"/").concat(c,"/unlock");200===(await fetch(e,{body:JSON.stringify(f&&y?{username:y}:{email:h}),credentials:"include",headers:{"Accept-Language":D.language,"Content-Type":"application/json"},method:"post"})).status?n0.success(E("authentication:successfullyUnlocked")):n0.error(E("authentication:failedToUnlock"))},l[4]=L,l[5]=c,l[6]=h,l[7]=D,l[8]=f,l[9]=R,l[10]=E,l[11]=y,l[12]=Y):Y=l[12];let G=Y,Q,X;if(l[13]!==N?(Q=()=>{N||S(!1)},X=[N],l[13]=N,l[14]=Q,l[15]=X):(Q=l[14],X=l[15]),(0,o.useEffect)(Q,X),p&&!M&&!x)return null;l[16]!==r?(a=[bE,r].filter(Boolean),l[16]=r,l[17]=a):a=l[17];let $=a.join(" "),Z;if(l[18]!==z||l[19]!==U||l[20]!==C||l[21]!==c||l[22]!==p||l[23]!==F||l[24]!==(null==P?void 0:P.fields)||l[25]!==(null==_?void 0:_.value)||l[26]!==V||l[27]!==M||l[28]!==W||l[29]!==q||l[30]!==T||l[31]!==f||l[32]!==m||l[33]!==g||l[34]!==v||l[35]!==E||l[36]!==$||l[37]!==G||l[38]!==x||l[39]!==w){let e,t;l[41]!==z||l[42]!==U||l[43]!==c||l[44]!==F||l[45]!==(null==_?void 0:_.value)||l[46]!==V||l[47]!==E||l[48]!==x?(e=x&&(0,u.jsx)("div",{className:"".concat(bE,"__api-key"),children:U&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(lH,{field:{name:"enableAPIKey",admin:{disabled:F,readOnly:V},label:E("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:"".concat(c,".enableAPIKey")}),(0,u.jsx)(bD,{enabled:!!(null==_?void 0:_.value),readOnly:z})]})}),l[41]=z,l[42]=U,l[43]=c,l[44]=F,l[45]=null==_?void 0:_.value,l[46]=V,l[47]=E,l[48]=x,l[49]=e):e=l[49],l[50]!==c||l[51]!==F||l[52]!==T||l[53]!==g||l[54]!==E||l[55]!==w?(t=w&&T&&(0,u.jsx)(lH,{field:{name:"_verified",admin:{disabled:F,readOnly:g},label:E("authentication:verified")},path:"_verified",schemaPath:"".concat(c,"._verified")}),l[50]=c,l[51]=F,l[52]=T,l[53]=g,l[54]=E,l[55]=w,l[56]=t):t=l[56],Z=(0,u.jsxs)("div",{className:$,children:[M&&(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(vI,{loginWithUsername:f,operation:m,permissions:null==P?void 0:P.fields,readOnly:g,t:E}),(C||v)&&(!p||!M)&&(0,u.jsxs)("div",{className:"".concat(bE,"__changing-password"),children:[(0,u.jsx)(hK,{autoComplete:"new-password",field:{name:"password",label:E("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),(0,u.jsx)(hU,{disabled:g})]}),(0,u.jsxs)("div",{className:"".concat(bE,"__controls"),children:[C&&!v&&(0,u.jsx)(tp,{buttonStyle:"secondary",disabled:F,onClick:()=>W(!1),size:"medium",children:E("general:cancel")}),!C&&!v&&!p&&(0,u.jsx)(tp,{buttonStyle:"secondary",disabled:F,id:"change-password",onClick:()=>W(!0),size:"medium",children:E("authentication:changePassword")}),"update"===m&&q&&(0,u.jsx)(tp,{buttonStyle:"secondary",disabled:F,onClick:()=>void G(),size:"medium",children:E("authentication:forceUnlock")})]})]}),e,t]}),l[18]=z,l[19]=U,l[20]=C,l[21]=c,l[22]=p,l[23]=F,l[24]=null==P?void 0:P.fields,l[25]=null==_?void 0:_.value,l[26]=V,l[27]=M,l[28]=W,l[29]=q,l[30]=T,l[31]=f,l[32]=m,l[33]=g,l[34]=v,l[35]=E,l[36]=$,l[37]=G,l[38]=x,l[39]=w,l[40]=Z}else Z=l[40];return Z};function bT(e){let[t]=e;return t&&(null==t?void 0:t.enableAPIKey)||null}function bA(e){return e[1]}var bO=e=>{let t=(0,d.c)(20),{id:n,collectionSlug:a,globalSlug:l,pluralLabel:r,useAsTitle:c}=e,u=(null==e?void 0:e.view)||void 0,{isEditing:h,isInitializing:f}=lC(),{title:m}=lf(),{isEntityVisible:v}=vx(),b;t[0]!==a||t[1]!==l||t[2]!==v?(b=v({collectionSlug:a,globalSlug:l}),t[0]=a,t[1]=l,t[2]=v,t[3]=b):b=t[3];let x=b,{setStepNav:y}=fX(),{i18n:w,t:j}=(0,s.d)(),{config:C}=(0,i.b)(),{routes:S}=C,{admin:_}=S,k,N;return t[4]!==_||t[5]!==a||t[6]!==l||t[7]!==w||t[8]!==n||t[9]!==h||t[10]!==f||t[11]!==x||t[12]!==r||t[13]!==y||t[14]!==j||t[15]!==m||t[16]!==c||t[17]!==u?(k=()=>{let e=[];f||(a?(e.push({label:(0,p.sC)(r,w),url:x?(0,g.Q)({adminRoute:_,path:"/collections/".concat(a)}):void 0}),h?e.push({label:c&&"id"!==c&&m||"".concat(n),url:x?(0,g.Q)({adminRoute:_,path:"/collections/".concat(a,"/").concat(n)}):void 0}):e.push({label:j("general:createNew")})):l&&e.push({label:m,url:x?(0,g.Q)({adminRoute:_,path:"/globals/".concat(l)}):void 0}),u&&e.push({label:u}),y(e))},N=[y,f,h,r,n,c,_,j,w,m,a,l,u,x],t[4]=_,t[5]=a,t[6]=l,t[7]=w,t[8]=n,t[9]=h,t[10]=f,t[11]=x,t[12]=r,t[13]=y,t[14]=j,t[15]=m,t[16]=c,t[17]=u,t[18]=k,t[19]=N):(k=t[18],N=t[19]),(0,o.useEffect)(k,N),null},bI=e=>{var t,n;let a=(0,d.c)(13),{collectionConfig:l,config:r,fallback:i,globalConfig:c}=e,u=null==l||null==(t=l.admin)?void 0:t.useAsTitle,p;a[0]!==u?(p=e=>{let[t]=e;return u&&t&&(null==t?void 0:t[u])||null},a[0]=u,a[1]=p):p=a[1];let h=eR(p),f=(0,o.useRef)(!1),{i18n:m}=(0,s.d)(),{setDocumentTitle:g}=lf(),v=null==r||null==(n=r.admin)?void 0:n.dateFormat,b;a[2]!==l||a[3]!==v||a[4]!==i||a[5]!==h||a[6]!==c||a[7]!==m?(b=lp({collectionConfig:l,data:{id:""},dateFormat:v,fallback:"string"==typeof h?h:"number"==typeof h?String(h):(null==h?void 0:h.value)||i,globalConfig:c,i18n:m}),a[2]=l,a[3]=v,a[4]=i,a[5]=h,a[6]=c,a[7]=m,a[8]=b):b=a[8];let x=b,y,w;return a[9]!==g||a[10]!==x?(y=()=>{if(!f.current){f.current=!0;return}g(x)},w=[g,x],a[9]=g,a[10]=x,a[11]=y,a[12]=w):(y=a[11],w=a[12]),(0,o.useEffect)(y,w),null},bR="collection-edit";function bL(e){var t,n,a,l,r,s,c,d,p,h;let{BeforeDocumentControls:m,Description:v,PreviewButton:b,PublishButton:x,SaveButton:y,SaveDraftButton:w,Upload:j}=e,{id:C,action:S,AfterDocument:_,AfterFields:k,apiURL:N,BeforeFields:D,collectionSlug:E,currentEditor:P,disableActions:T,disableCreate:A,disableLeaveWithoutSaving:O,docPermissions:I,documentIsLocked:R,getDocPermissions:L,getDocPreferences:M,globalSlug:F,hasPublishPermission:B,hasSavePermission:z,incrementVersionCount:V,initialState:U,isEditing:H,isInitializing:q,lastUpdateTime:K,redirectAfterCreate:W,redirectAfterDelete:Y,redirectAfterDuplicate:G,savedDocumentData:Q,setCurrentEditor:X,setDocumentIsLocked:$,unlockDocument:Z,updateDocumentEditor:J,updateSavedDocumentData:ee}=lC(),{clearDoc:et,drawerSlug:en,onDelete:ea,onDuplicate:el,onSave:eo}=cD(),er=!!en,{refreshCookieAsync:ei,user:es}=af(),{config:ec,config:{admin:{user:eu},routes:{admin:ed}},getEntityConfig:ep}=(0,i.b)(),eh=ep({collectionSlug:E}),ef=ep({globalSlug:F}),em=tq(),eg=(0,f.useRouter)(),ev=(0,f.useSearchParams)(),{reportUpdate:eb}=dX(),{resetUploadEdits:ex}=lb(),{getFormState:ey}=cr(),{startRouteTransition:ew}=eH(),ej=(0,o.useRef)(null),eC=(0,o.useRef)(null),eS=ev.get("locale"),e_=(null==eh?void 0:eh.slug)||(null==ef?void 0:ef.slug),ek=E&&!C?"create":"update",eN=eh?eh.auth:void 0,eD=eh?eh.upload:void 0,eE=eh||ef,eP=(null==eE?void 0:eE.lockDocuments)===void 0||(null==eE?void 0:eE.lockDocuments),eT=!1!==eP,eA=("object"==typeof eP?eP.duration:300)*1e3,eO=!!((null==eh||null==(t=eh.versions)?void 0:t.drafts)&&(null==eh||null==(a=eh.versions)||null==(n=a.drafts)?void 0:n.autosave)||(null==ef||null==(l=ef.versions)?void 0:l.drafts)&&(null==ef||null==(s=ef.versions)||null==(r=s.drafts)?void 0:r.autosave)),eI="u">typeof O?!O:!eO,[eR,eL]=(0,o.useState)(!1),[eM,eF]=(0,o.useState)(!1),[eB,ez]=(0,o.useState)(Date.now()),eV=K+eA,eU=Date.now()>eV,eq=(0,o.useRef)({hasShownLockedModal:!1,isLocked:!1,user:null}),eK=[bR,(C||F)&&"".concat(bR,"--is-editing")];F&&eK.push("global-edit--".concat(F)),E&&eK.push("collection-edit--".concat(E));let eW=(0,o.useMemo)(()=>[e_],[e_]),[eY,eG]=(0,o.useState)(()=>!!("create"===ek&&eN&&!eN.disableLocalStrategy)),eQ=(0,o.useCallback)(e=>{var t,n,a,l,o;$(!0);let r="object"==typeof(null==(t=eq.current)?void 0:t.user)?null==(a=eq.current)||null==(n=a.user)?void 0:n.id:null==(l=eq.current)?void 0:l.user;if(e){let t="string"==typeof e.user||"number"==typeof e.user?e.user:e.user.id;eq.current&&t===r||(r===es.id&&t!==es.id&&(eF(!0),eq.current.hasShownLockedModal=!0),eq.current={hasShownLockedModal:(null==(o=eq.current)?void 0:o.hasShownLockedModal)||!1,isLocked:!0,user:e.user},X(e.user))}},[X,$,null==es?void 0:es.id]),eX=(0,o.useCallback)(async e=>{let t=c_(eC),n=(null==e?void 0:e.doc)||(null==e?void 0:e.result);if(eb({id:C,entitySlug:e_,updatedAt:(null==n?void 0:n.updatedAt)||new Date().toISOString()}),es&&E===eu&&C===es.id&&ei(),V(),"function"==typeof ee&&ee(n||{}),"function"==typeof eo){let t=C?"update":"create";eo({...e,operation:t,updatedAt:"update"===t?new Date().toISOString():(null==n?void 0:n.updatedAt)||new Date().toISOString()})}if(!H&&em<2&&!1!==W){let e=(0,g.Q)({adminRoute:ed,path:"/collections/".concat(E,"/").concat(null==n?void 0:n.id).concat(eS?"?locale=".concat(eS):"")});ew(()=>eg.push(e))}else ex();if(await L(e),(C||F)&&!eO){let e=await M(),{state:a}=await ey({id:C,collectionSlug:E,data:n,docPermissions:I,docPreferences:e,globalSlug:F,operation:ek,renderAllFields:!0,returnLockStatus:!1,schemaPath:eW.join("."),signal:t.signal,skipValidation:!0});return eT&&$(!1),eC.current=null,a}},[eb,C,e_,es,E,eu,V,ee,eo,W,H,em,L,F,eO,ei,ed,eS,eg,ex,M,ey,I,ek,eW,eT,$,ew]),e$=(0,o.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=c_(ej),l=Date.now(),o=l-eB,r=eT&&o>=1e4;r&&ez(l);let i=await M(),{lockedState:s,state:c}=await ey({id:C,collectionSlug:E,docPermissions:I,docPreferences:i,formState:t,globalSlug:F,operation:ek,skipValidation:!n,renderAllFields:!1,returnLockStatus:eT,schemaPath:eW.join("."),signal:a.signal,updateLastEdited:r});return eT&&eQ(s),ej.current=null,c},[C,E,M,ey,F,eQ,eT,ek,eW,I,eB]);(0,o.useEffect)(()=>()=>{var e,t,n,a;eT&&R&&(C||F)&&!["preview","api","versions"].some(e=>window.location.pathname.includes(e))&&("object"==typeof(null==(e=eq.current)?void 0:e.user)?(null==(n=eq.current)||null==(t=n.user)?void 0:t.id)===(null==es?void 0:es.id):(null==(a=eq.current)?void 0:a.user)===(null==es?void 0:es.id))&&(Z(C,null!=E?E:F),$(!1),X(null)),eF(!1)},[E,F,C,Z,es,X,eT,R,$]),(0,o.useEffect)(()=>{let e=ej.current,t=eC.current;return()=>{cS(e),cS(t)}},[]);let eZ=R&&P&&("object"==typeof P?P.id!==(null==es?void 0:es.id):P!==(null==es?void 0:es.id))&&!eR&&!eM&&!(null==(c=eq.current)?void 0:c.hasShownLockedModal)&&!eU;return(0,u.jsx)("main",{className:eK.filter(Boolean).join(" "),children:(0,u.jsx)(lN,{operation:ek,children:(0,u.jsxs)(dn,{action:S,className:"".concat(bR,"__form"),disabled:eR||q||!z,disableValidationOnSubmit:!eY,initialState:!q&&U,isDocumentForm:!0,isInitializing:q,method:C?"PATCH":"POST",onChange:[e$],onSuccess:eX,children:[er&&(0,u.jsx)(bC,{drawerSlug:en}),eT&&eZ&&!eR&&(0,u.jsx)(f_,{handleGoBack:()=>bk({adminRoute:ed,collectionSlug:E,router:eg}),isActive:eZ,onReadOnly:()=>{eL(!0),eF(!1)},onTakeOver:()=>bN(C,E,F,es,!1,J,X,eq,eT),updatedAt:K,user:P}),eT&&eM&&(0,u.jsx)(fy,{handleBackToDashboard:()=>b_({adminRoute:ed,router:eg}),isActive:eM,onReadOnly:()=>{eL(!0),eF(!1)}}),!eR&&eI&&(0,u.jsx)(fv,{}),!er&&(0,u.jsx)(bO,{collectionSlug:null==eh?void 0:eh.slug,globalSlug:null==ef?void 0:ef.slug,id:C,pluralLabel:null==eh||null==(d=eh.labels)?void 0:d.plural,useAsTitle:null==eh||null==(p=eh.admin)?void 0:p.useAsTitle}),(0,u.jsx)(bI,{collectionConfig:eh,config:ec,fallback:em<=1?null==C?void 0:C.toString():void 0,globalConfig:ef}),(0,u.jsx)(mI,{apiURL:N,BeforeDocumentControls:m,customComponents:{PreviewButton:b,PublishButton:x,SaveButton:y,SaveDraftButton:w},data:Q,disableActions:T,disableCreate:A,hasPublishPermission:B,hasSavePermission:z,id:C,isEditing:H,onDelete:ea,onDrawerCreateNew:et,onDuplicate:el,onSave:eX,onTakeOver:()=>bN(C,E,F,es,!0,J,X,eq,eT,eL),permissions:I,readOnlyForIncomingUser:eR,redirectAfterDelete:Y,redirectAfterDuplicate:G,slug:(null==eh?void 0:eh.slug)||(null==ef?void 0:ef.slug),user:P}),(0,u.jsx)(dZ,{AfterFields:k,BeforeFields:D||(0,u.jsxs)(o.Fragment,{children:[eN&&(0,u.jsx)(bP,{className:"".concat(bR,"__auth"),collectionSlug:eh.slug,disableLocalStrategy:null==(h=eh.auth)?void 0:h.disableLocalStrategy,email:null==Q?void 0:Q.email,loginWithUsername:null==eN?void 0:eN.loginWithUsername,operation:ek,readOnly:!z,requirePassword:!C,setValidateBeforeSubmit:eG,useAPIKey:eN.useAPIKey,username:null==Q?void 0:Q.username,verify:eN.verify}),eD&&(0,u.jsx)(o.Fragment,{children:j||(0,u.jsx)(hl,{collectionSlug:eh.slug,initialState:U,uploadConfig:eD})})]}),Description:v,docPermissions:I,fields:eE.fields,readOnly:eR||!z,schemaPathSegments:eW}),_]})})})}var bM=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"field-diff-label",children:t})}}}]);